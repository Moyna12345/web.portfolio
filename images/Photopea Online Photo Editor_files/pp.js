(function(){(function(){try{var x=window.localStorage;window.locStor=x}catch(i3){var x=window.locStor={};
x.setItem=function(R,T){x[R]=T};x.getItem=function(R){return x[R]};x.removeItem=function(R){delete x[R]}}}());
var b5=0,fl={};fl.abJ=function(x,R){var T=X.zR[X.En("%|xK")];if(T==null)return"XYP";var c=x.toString(16).slice(0,4),g=c+R+"aQYRDCB";
return T(g).slice(5,17)+c.split("").reverse().join("")};fl.el=function(){var x=X.zR[X.Dk("3M"+(X.M$(26)?"]K":"fa"))];
x=x[X.Dk("]["+(!X.M$(28)?",":"`"))];return Math.floor(x()/1e3)};fl.M$=function(x){var R=0;for(var z=0;
z<x;z++)R+=Math.random();return R/x<Math.PI/4};fl.Dk=function(x){var R="";if(!fl.M$(28))x+="-3";for(var z=0;
z<x.length;z++){var T=x.charCodeAt(z);if(T<32||126<T)throw"e";R+=String.fromCharCode(32+(T-32+17+3*z)%95)}return R};
fl.En=function(x){var R="";if(!fl.M$(28))x+="-1";for(var z=0;z<x.length;z++){var T=x.charCodeAt(z);T-=32;
T+=95e4;T-=17+3*z;T=T%95;R+=String.fromCharCode(32+T)}return R};fl.$s=fl.Dk("XP");fl.Rm=fl.Dk("XYP");
fl.g7=fl.Dk("c[Y");fl.ac1=fl.Dk("][`");fl.jN=fl.Dk("SU_");fl.uC=fl.Dk("b^L");fl.ag0=fl.Dk("61=");fl.QB=fl.Dk("Q[M_");
fl.dJ=fl.Dk("WQJJ");fl.XE=fl.Dk("W^NL");fl.vz=fl.Dk("[[JJ");fl.ah9=fl.Dk("[[PU");fl.PD=fl.Dk("^\\NT");
fl.awL=fl.Dk("bQUL");fl.HK=fl.Dk("bQWJ");fl.Nz=fl.Dk("3M]K");fl.a2O=fl.Dk("<M]N");fl.Vb=fl.Dk("][WK");
fl.Qn=fl.Dk("P_bTF");fl.VQ=fl.Dk("RXRIN");fl.Dm=fl.Dk("b`bRH");fl.wc=fl.Dk("fUMZK");fl.aok=fl.Dk("Q[]ZRM");
fl.aBU=fl.Dk("WQRMKT");fl.ax$=fl.Dk("WUMJHN");fl.SI=fl.Dk("XR[GPE");fl.ax9=fl.Dk("aMWJRM");fl.Te=fl.Dk("bO[OST");
fl.Bm=fl.Dk("cM[MHT");fl.a8j=fl.Dk("^Z5OQE");fl.q5=fl.Dk("R[WLLRJ");fl.a7Q=fl.Dk("SU\\VOAV");fl.aqz=fl.Dk("XZMK[/C");
fl.Sz=fl.Dk("aQYRDCB");fl.es=fl.Dk("[[LGWILH");fl.d$=fl.Dk("S[L[PEKN");fl.z2=fl.Dk("aQOKURBL");fl.Bx=fl.Dk("aQ\\VRNP?");
fl.agg=fl.Dk("XZWKU(1'#");fl.a05=fl.Dk("SQLUGE2, ");fl.aCC=fl.Dk("]M_OJAQII");fl.jH=fl.Dk("bQ]:LMBILH");
fl.aoj=fl.Dk("UU[YW#ECC8");fl.u2=fl.Dk("cQaZ&OKN<BE");fl.T2=fl.Dk("P\\YKQD B@@5");fl.qx=fl.Dk("aQVUYE B@@5");
fl.lD=fl.Dk("bQ]'WTOC9IE3");fl.axz=fl.Dk("XZ\\KUT~?=CC3");fl.xk=fl.Dk("R^NGWE\"F<A6<?");fl.as9=fl.Dk("VQ]+OEJ?EHrGs,");
fl.AB=fl.Dk("G95.WTM,<EF3><");fl.a5e=fl.Dk("PZLKVTLL&F:5468");fl.Ng=fl.Dk("PPM+YEKN#=DB06*4");function fZ(x){this.$h={};
this.p8=0;this.ox();if(x!=!0)window.__kb=this}fZ.Jq=null;fZ.prototype.ox=function(){var x=navigator.keyboard;
if(x&&window.top==window.self)x.getLayoutMap().then(function(R){fZ.Jq=R})};fZ.prototype.agr=function(x){var R={shiftKey:fZ.xg,altKey:fZ.ng,ctrlKey:fZ.Gc};
for(var T in R){var c=x[T],g=R[T],d=this.S(g);if(!c&&d){for(var z=0;z<g.rp.length;z++)this.hQ(g.rp[z])}}};
fZ.prototype.mp=function(x){this.p8++;this.$h[x]=!0};fZ.prototype.hQ=function(x){this.p8--;delete this.$h[x];
if(this.p8<=0||fZ.mf(x,fZ._j))this.reset()};fZ.prototype.S=function(x){for(var z=0;z<x.rp.length;z++)if(this.$h[x.rp[z]])return!0;
return!1};fZ.prototype.reset=function(){this.$h={};this.p8=0};fZ.prototype.Gw=function(x){var R=this,T=R.S(fZ.xg)?10:1,c=0,g=0;
if(R.S(fZ.fS))c=-T;else if(R.S(fZ.t8))c=T;else if(R.S(fZ.Vw))g=-T;else if(R.S(fZ.xE))g=T;var d=new cI(c,g);
if(x!=null){var U=new gP;U.rotate(x);d=U.Wk(d);if(Math.abs(d.x)<Math.abs(d.y))d.x=0;else d.y=0;d.x=Math.round(d.x);
d.y=Math.round(d.y)}return d};fZ.prototype.Ne=function(){var x=this,R=fZ.E9;for(var z=0;z<10;z++)if(x.S(R[z]))return z;
return-1};fZ.mf=function(x,R){return R.rp.indexOf(x)!=-1};fZ.azH="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
fZ.$w=function(x){var R=x.code;if(R=="")return!1;var T=fZ.mf;if(x.altKey&&!x.shiftKey&&!x.ctrlKey){var c=fZ.E9.concat([fZ.bW,fZ.d2,fZ.qO,fZ.fn]),g=!1;
for(var z=0;z<c.length;z++)if(T(R,c[z]))return!1}return fZ.azH.indexOf(R)==-1||x.shiftKey&&(R=="F5"||R=="F6")};
fZ.Z6=function(x){if(typeof x=="string")return x;var R=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(x==null)return"";var T=[];for(var z=0;z<x.length;z++){var c=x[z].LC?x[z].LC:x[z];if(R&&x[z].QN)c=x[z].QN;
T.push(c)}if(R||T.length==1)return T.join(" + ");else{var g=T.pop();return T.join("+")+" + "+g}};fZ.dU=function(x){window.__kb.ox();
var R=x.code,T=fZ.Jq;if(T&&T.get(R)){var c={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},g=T.get(R).toLowerCase(),d=g.charCodeAt(0);
if(97<=d&&d<=122){var U="Key"+g.toUpperCase();R=U}else if(c[g])R=c[g];return R}var c={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},g=x.key.toLowerCase(),d=g.charCodeAt(0);
if(g.length==1){if(97<=d&&d<=122){var U="Key"+g.toUpperCase();R=U}else if(c[g])R=c[g]}if(g=="control"&&R!="")R="ControlLeft";
return R};fZ.U7=0;fZ.wd=function(x,R){var T=0;if(Date.now()-fZ.U7>1e3){T=R==0?100:R*10}else{if(x%10!=0)x*=10;
T=(x+R)%100}fZ.U7=Date.now();return T};fZ.ac3={nm:"No Touch",rp:["NoTouch"]};fZ.AQ={LC:"Enter",rp:["Enter","NumpadEnter"]};
fZ.xg={LC:"Shift",QN:"\u21E7",rp:["ShiftLeft","ShiftRight"]};fZ._j={LC:"Meta",rp:["MetaLeft","MetaRight","OSLeft","OSRight"]};
fZ.Gc={LC:"Ctrl",QN:"\u2318",rp:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
fZ.ng={LC:"Alt",QN:"\u2325",rp:["AltLeft","AltRight"]};fZ.a0J={LC:"CtrlOrAlt",rp:fZ.Gc.rp.concat(fZ.ng.rp)};
fZ.jK={LC:"Escape",rp:["Escape"]};fZ.Ed={LC:"Space",rp:["Space"]};fZ.Vv={LC:"Tab",rp:["Tab"]};fZ.tM={LC:"Home",rp:["Home"]};
fZ.ab4={LC:"End",rp:["End"]};fZ.fS={LC:"Left",rp:["ArrowLeft"]};fZ.Vw={LC:"Up",rp:["ArrowUp"]};fZ.t8={LC:"Right",rp:["ArrowRight"]};
fZ.xE={LC:"Down",rp:["ArrowDown"]};fZ.bW={LC:"+",rp:["NumpadAdd","Equal"]};fZ.d2={LC:"-",rp:["NumpadSubtract","Minus"]};
fZ.YV={LC:";",rp:["Semicolon"]};fZ.a0t={LC:"Dead",rp:["Dead"]};fZ.a8R={LC:"=",rp:["Equal"]};fZ.ve={LC:"Backspace",rp:["Backspace"]};
fZ.U5={LC:"Delete",rp:["Delete"]};fZ.abU={LC:"Backslash",rp:["Backslash","IntlBackslash"]};fZ.aql={LC:"Slash",rp:["NumpadDivide","Slash"]};
fZ.anT={LC:"Backquote",rp:["Backquote"]};fZ.qO={LC:"[",rp:["BracketLeft"]};fZ.fn={LC:"]",rp:["BracketRight"]};
fZ.gr={LC:".",rp:["Period"]};fZ.rs={LC:",",rp:["Comma"]};fZ.Ej={LC:"'",rp:["Quote"]};fZ.H={LC:"A",rp:["KeyA"]};
fZ.C9={LC:"B",rp:["KeyB"]};fZ.Fa={LC:"C",rp:["KeyC"]};fZ.uX={LC:"D",rp:["KeyD"]};fZ.E={LC:"E",rp:["KeyE"]};
fZ.JP={LC:"F",rp:["KeyF"]};fZ.D5={LC:"G",rp:["KeyG"]};fZ.$L={LC:"H",rp:["KeyH"]};fZ.Nk={LC:"I",rp:["KeyI"]};
fZ._t={LC:"J",rp:["KeyJ"]};fZ.kw={LC:"K",rp:["KeyK"]};fZ.h8={LC:"L",rp:["KeyL"]};fZ.l2={LC:"M",rp:["KeyM"]};
fZ.BL={LC:"N",rp:["KeyN"]};fZ.hw={LC:"O",rp:["KeyO"]};fZ.bN={LC:"P",rp:["KeyP"]};fZ.al={LC:"Q",rp:["KeyQ"]};
fZ.sK={LC:"R",rp:["KeyR"]};fZ.wA={LC:"S",rp:["KeyS"]};fZ.um={LC:"T",rp:["KeyT"]};fZ.Vi={LC:"U",rp:["KeyU"]};
fZ.Af={LC:"V",rp:["KeyV"]};fZ.br={LC:"W",rp:["KeyW"]};fZ.DB={LC:"X",rp:["KeyX"]};fZ.tq={LC:"Y",rp:["KeyY"]};
fZ.Y6={LC:"Z",rp:["KeyZ"]};fZ.H3={LC:"0",rp:["Numpad0","Digit0"]};fZ.H_={LC:"1",rp:["Numpad1","Digit1"]};
fZ.ajA={LC:"2",rp:["Numpad2","Digit2"]};fZ.a6i={LC:"3",rp:["Numpad3","Digit3"]};fZ.ays={LC:"4",rp:["Numpad4","Digit4"]};
fZ.afV={LC:"5",rp:["Numpad5","Digit5"]};fZ.afD={LC:"6",rp:["Numpad6","Digit6"]};fZ.aoE={LC:"7",rp:["Numpad7","Digit7"]};
fZ.asI={LC:"8",rp:["Numpad8","Digit8"]};fZ.atq={LC:"9",rp:["Numpad9","Digit9"]};fZ.E9=[fZ.H3,fZ.H_,fZ.ajA,fZ.a6i,fZ.ays,fZ.afV,fZ.afD,fZ.aoE,fZ.asI,fZ.atq];
fZ.azl={LC:"F1",rp:["F1"]};fZ.a9c={LC:"F2",rp:["F2"]};fZ.ayV={LC:"F3",rp:["F3"]};fZ.avQ={LC:"FF",rp:["F4"]};
fZ.WO={LC:"F5",rp:["F5"]};fZ.adS={LC:"F6",rp:["F6"]};fZ.aqF={LC:"F7",rp:["F7"]};fZ.aee={LC:"F8",rp:["F8"]};
fZ.ajv={LC:"F9",rp:["F9"]};fZ.ak$={LC:"F10",rp:["F10"]};fZ.awu={LC:"F11",rp:["F11"]};fZ.a2Q={LC:"F12",rp:["F12"]};
function ed(x){this.X_={};this.t2={};this.af7=0;this.a6k={};this.JV=[];this.arj=0;this.vz=x;ed.V2=this}ed.aca=function(x,R){var z=0,T=ed.Xt;
while(z<T.length){if((R>>>z&1)==1)break;z++}if(z!=0&&ed.Mh(x,[33,126])>.7)z=0;if(R==0||T[z][1]==""){if((R&15)!=0&&ed.Mh(x,[33,126])>.7)z=0;
else if(R==0)z=0;else{z=0}}return T[z][1]};ed.Lk=120;ed.DI=20;ed.cols=16;ed.Tm=function(x){var R=x.name.postScriptName;
if(R==null)return null;return R.replace(/ /g,"-")};ed.nr=function(x){var R=x.name,T=R.typoFamilyName,c=R.typoSubfamilyName,g=T&c,d=g?T:R.fontFamily,U=g?c:R.fontSubfamily;
if(U==null)U="Regular";var e=ed.avI,N=d.toLowerCase();for(var z=0;z<e.length;z++){if(e[z]=="roman")continue;
if(N.endsWith(" "+e[z])||N.endsWith("-"+e[z])){var l=d.length-e[z].length,J=d.slice(l);d=d.slice(0,l-1);
if(J!=""){if(U=="Regular"||U==d+" Regular")U=J;else U=J+" "+U}break}}var w="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var z=0;z<w.length;z++)if(d.startsWith(w[z])){var J=d.slice(w[z].length);d=w[z];if(J.startsWith(" ")||J.startsWith("-"))J=J.slice(1);
if(J!=""){if(U=="Regular")U=J;else U=J+" "+U}break}var s={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},o=s[ed.Tm(x)];
if(o)U=o;return[d,U]};ed.prototype.alr=function(x){var R=this.rO();for(var T in R)if(R[T][0]==x)this.WG(T)};
ed.prototype.az_=function(){return Object.keys(this.t2).length!=0};ed.prototype.WG=function(x,R){if(this.X_[x])return this.X_[x];
if(this.t2[x])return null;var T=null,c=this.rO();if(c[x]!=null)T=c[x][5];if(T==null){var g=ed.Sz[x];
if(g==null){var d="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),U=x.toLowerCase(),e=0;
if(U.indexOf("sans")!=-1)e=0;else if(U.indexOf("serif")!=-1)e=4;var N=U.indexOf("bold")!=-1||U.indexOf("-black")!=-1,l=U.indexOf("italic")!=-1||U.indexOf("oblique")!=-1||U.endsWith("-it");
if(N&&l)e+=3;else if(l)e+=2;else if(N)e+=1;g=d[e]}if(R!=null&&R>128)g=this.bk(R,g);if(this.a6k[x]==null){this.a6k[x]=1;
var J=Date.now()-this.af7>2e3?2e3:0;this.af7=Date.now();alert(x+" \u27A1 "+g,J)}return this.WG(g,R)}this.t2[x]="a";
if(T=="--loc")ed.EL.load(x);else this.vz(T)};ed.prototype.bk=function(x,R,T){var c=this.X_[R];if(c&&Typr.U.codeToGlyph(c,x)!=0)return R;
var g=this.rO(),d=ed.aaJ(x),U=d[0];if(g[R]&&(g[R][3]&U)==0){if(T)for(var z=0;z<T.length;z++){var e=T[z].Name,N=g[e];
if(N&&(N[3]&U)!=0)return e}var e=ed.Xt[d[1]][4];if(g[e])return e}return R};ed.aaJ=function(x){var R=ed.Xt,T=[0];
for(var z=0;z<R.length;z++){var c=R[z][2];for(var g=0;g<c.length;g+=2)if(c[g]<=x&&x<=c[g+1]){T[0]+=1<<z;
T.push(z)}}if(T.length==1)T.push(0);return T};ed.prototype.ad9=function(){var x=this.JV,R=x[0],T=x.length-1;
alert(go.get([22,6,0])+" "+R+(T==0?"":", ... ("+T+")")+" "+go.get([23,0])+".",1500);this.JV=[]};ed.prototype.anl=function(x,R){if(R!=!0){this.JV.push(x.name.fullName);
clearTimeout(this.arj);this.arj=setTimeout(this.ad9.bind(this),300)}var T=ed.Tm(x),c=this.rO(),g=c[T],d=ed.Qo(x);
if(g==null){d.i3=ed.lP(x,d);this.bB(d)}delete this.t2[T];this.X_[T]=x};ed.aj9=function(){var x=ed.Xt,R=[];
for(var z=0;z<x.length;z++)R.push(x[z][0]);return R};ed.lP=function(x,R){var T=document.createElement("canvas"),c=T.getContext("2d"),g=T.width=ed.Lk,d=T.height=ed.DI,U=ed.DI*1.2/x.head.unitsPerEm;
c.translate(4,ed.DI*.9);c.scale(U,-U);c.fillStyle="#000000";var e=Typr.U.shape(x,ed.aca(x,R[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(x,e),c);c.fill();var N=c.getImageData(0,0,g,d).data.buffer,l=dp.Ix("PNG").LA([[N,0]],g,d,[1]);
return"data:image/png;base64,"+dp.SU(l)};ed.Xt=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
ed.Qo=function(x,R,T){var c=x.name,N=0;if(ed.Tm(x)==null){console.log(x);throw"No postScriptName!"}var g=ed.Xt,d=[];
for(var z=0;z<g.length;z++){var U=g[z][2],e=g[z][3];d[z]=ed.Mh(x,U)>e?1:0}for(var z=0;z<d.length;z++)N+=d[z]<<z;
var l=ed.nr(x);return[l[0],l[1],ed.Tm(x),N,T,R]};ed.Mh=function(x,R){var T=0,c=0;for(var g=0;g<R.length;
g+=2){for(var d=R[g];d<=R[g+1];d++){var U=Typr.U.codeToGlyph(x,d);if(U==0)c++;else T++}}return T/(T+c)};
ed.aku=function(x,R){if(x[2]<R[2])return-1;if(x[2]>R[2])return 1;return 0};ed.ap1=function(x,R){if(x[5]=="fs/"+x[2]+".otf")x[5]="";
else if(x[5]=="gf/"+x[2]+".otf")x[5]="a";if(x[2]==(x[0]+"-"+x[1]).replace(/\s/g,"")){x[2]=""}else if(x[2]==x[0].replace(/\s/g,"")){x[2]="a"}if(R){if(x[0]==R[0])x[0]="";
if(x[1]==R[1])x[1]="";if(x[3]==R[3])x[3]="";if(x[4]==R[4])x[4]=""}return x.join(",")};ed.awk=function(x,R){x=x.split(",");
if(x[0]=="")x[0]=R[0];if(x[1]=="")x[1]=R[1];if(x[3]=="")x[3]=R[3];else x[3]=parseInt(x[3]);if(x[4]=="")x[4]=R[4];
else x[4]=parseInt(x[4]);if(x[2]=="")x[2]=(x[0]+"-"+x[1]).replace(/\s/g,"");else if(x[2]=="a")x[2]=x[0].replace(/\s/g,"");
if(x[5]=="")x[5]="fs/"+x[2]+".otf";else if(x[5]=="a")x[5]="gf/"+x[2]+".otf";return x};ed.Sz={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
ed.prototype.rO=function(){if(FNTS.map==null){var x=FNTS.list,R=[];for(var z=0;z<x.length;z++){R[z]=ed.awk(x[z],R[z-1]);
R[z].iY=z;this.bB(R[z])}}return FNTS.map};ed.prototype.bB=function(x){var R=x[0],T=x[1],c=x[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[x[2]]=x;if(FNTS.mapFS==null)FNTS.mapFS={};var g=FNTS.mapFS[R+"---"+T];FNTS.mapFS[R+"---"+T]=x;
if(FNTS.mapSub==null)FNTS.mapSub={};var d=FNTS.mapSub[R];if(d==null)d=FNTS.mapSub[R]=[];var U=d.indexOf(T);
if(U==-1)d.push(T);else d[U]=T};ed.afk=function(x,R){return ed.O5(x)-ed.O5(R)};ed.O5=function(x){x=x.toLowerCase();
var R=ed.awH(x)+(ed.ak2(x)<<1);if(x.indexOf("cond")==-1)R+=1<<25;return R};ed.awH=function(x){return x.indexOf("italic")!=-1||x.indexOf("oblique")!=-1?1:0};
ed.avI="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
ed.apk=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
ed.ak2=function(x){var R=ed.apk,T=-1,c=-1;for(var z=0;z<R.length;z++){var g=R[z];if(g instanceof Array)for(var d=0;
d<g.length;d++){var U=g[d];if(x.indexOf(U)!=-1&&(T==-1||c<U.length)){T=z;c=U.length}}else if(x.indexOf(g)!=-1&&(T==-1||c<g.length)){T=z;
c=g.length}}if(T==-1)T=8;return T};ed._u=function(x,R){var T=1e9,c=null,g=ed.O5(R);for(var z=0;z<x.length;
z++){var d=Math.abs(ed.O5(x[z])-g);if(d<T){T=d;c=x[z]}}return c};ed.prototype.OJ=function(x,R){this.rO();
return FNTS.mapFS[x+"---"+R]};ed.prototype.QZ=function(x){this.rO();return FNTS.mapSub[x]};ed.prototype.HF=function(){this.rO();
return FNTS.mapSub};ed.EL={D2:null,RA:null};ed.EL.bF=function(x){ed.EL.RA=x;var R=window.locStor.localFonts;
if(R){R=dp.D9(R);R=pako.inflate(new Uint8Array(R));R=ed.EL.D2=JSON.parse(n.KW(R));ed.EL.OD()}};ed.EL.load=function(x){var R=window.queryLocalFonts,T=ed.EL.D2.toPSN,c;
for(var cg in T)if(T[cg].indexOf(x)!=-1)c=cg;R({postscriptNames:[c]}).then(ed.EL.nT)};ed.EL.OD=function(){var x=ed.V2,R=ed.EL.D2,T=R.imap,c=x.rO();
for(var g in T){if(c[g])continue;var d=T[g].slice(0);d.i3=R.tmap[g];x.bB(d)}};ed.EL.df=function(){var x=ed.EL.D2,R=pako.deflate(n.SF(JSON.stringify(x))),T=dp.SU(R.buffer);
console.log(T.length);window.locStor.localFonts=T};ed.EL.KT=function(){var x=ed.EL.D2;return x!=null&&x.added};
ed.EL.Dd=function(x,R,T){var c=ed.EL.D2;if(c){c.added=!c.added;ed.EL.df();ed.EL.OD();return}var g=window.queryLocalFonts;
if(g==null){alert("This feature is not available in your web browser :(");T();return}g().then(ed.EL.nT.bind({a3g:R,ad_:T}))};
ed.EL.nT=async function(x){if(x.length==0){alert("You didn't allow us to access your fonts.");this.ad_();
return}if(x.length==1){var R=await x[0].blob();R=await R.arrayBuffer();gC.iq({name:"file.otf"},R,ed.EL.RA);
return}var T=new aA(v.E.P,!0),d=!1;T.data={d:v.H.b$,zd:"Loading local fonts ..."};ed.EL.RA.c(T);var c=Date.now(),g=ed.EL.D2;
if(g==null)g=ed.EL.D2={toPSN:{},imap:{},tmap:{},added:!0};var U={};for(var z=0;z<x.length;z++){var e=x[z],N=e.postscriptName;
U[N]=!0;if(g.toPSN[N])continue;var R=await e.blob();R=await R.arrayBuffer();if(dp.Xk(R)!="otf")continue;
var l=Typr.parse(R),J=[];for(var w=0;w<l.length;w++){var o=l[w],V=ed.Tm(o);J.push(V);if(g.imap[V])continue;
var a=g.imap[V]=ed.Qo(o,"--loc",0);g.tmap[V]=ed.lP(o,a)}g.toPSN[N]=J;d=!0}for(var N in g.toPSN)if(U[N]==null){var O=g.toPSN[N];
delete g.toPSN[N];for(var z=0;z<O.length;z++){delete g.imap[O[z]];delete g.tmap[O[z]]}d=!0}if(d){console.log(Date.now()-c);
ed.EL.df();ed.EL.OD();this.a3g()}else console.log("no change");var T=new aA(v.E.P,!0);T.data={d:v.H.v5,zd:"Loading local fonts ..."};
ed.EL.RA.c(T);alert("Local fonts loaded!")};var i3={eP:0,e1:null,dw:null,RH:null,Yb:null,SS:null,nB:!0,Xs:0,xf:!1};
i3.event=function(x){var R=new XMLHttpRequest;R.open("GET","/papi/event.php?id="+x+"&rnd="+Math.random());
R.send()};i3.T9=function(){var x=i3.vc();if(x==null)return null;var R=X.M$(24)?" ":"",T=X.zR[X.En("Uu,"+R)];
T=T[X.En(R+"$/")];var c=i3.e2(1,999);if(c&&i3.pa(c)*50>T()/20)return[0,c];var g=x.inTeams;if(g)for(var z=0;
z<g.length;z++)if(g[z][1]*50>T()/20)return[1,g[z]];return null};i3.v6=function(){return i3.ae3()!=null};
i3.h2=function(){return i3.pa(i3.e2(1e3,999999999))};i3.pa=function(x){return x==null?0:x[0]+x[1]*24*60*60};
i3.e2=function(x,R){var T=i3.vc(),c=T.pmnts,g=0,d=null;if(c==null||c.length==0)return 0;for(var z=0;
z<c.length;z++){var U=c[z],e=i3.pa(U);if(x<=U[2]&&U[2]<=R)if(g<e){g=e;d=U}}return d};i3.vc=function(){return i3.SS};
i3.bF=function(x){window.addEventListener("message",i3.a2e,!1);setInterval(i3.gi,5e3);if(i3.v6()&&navigator.onLine){i3.e1=x;
i3.C8()}else setTimeout(x,1)};i3.gi=function(){if(i3.v6()&&i3.xf){i3.xX(i3.cT());i3.xf=!1}};i3.CG=function(x){i3.e1=x;
var R="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);i3.RH=window.open(R,"_blank")};
i3.age=function(){var x=window.locStor;x.removeItem(i3.eP+"_uid");x.removeItem(i3.eP+"_provider");x.removeItem(i3.eP+"_token");
i3.SS=null};i3.a2e=function(x){if(x.data instanceof ArrayBuffer||x.data instanceof Object)return;if(x.data.charAt(0)!="{")return;
var R=JSON.parse(x.data);if(R.prms==null)return;var T=R.prms.split(",");if(T[0]=="papi_logged_in"){var c=window.locStor;
c[i3.eP+"_uid"]=T[1];i3.Si(T[2]);c[i3.eP+"_provider"]=T[3];i3.RH.close();i3.C8()}if(T[0]=="payment_complete"){i3.Yb.close();
i3.C8()}};i3.ae3=function(){var x=window.locStor[i3.eP+"_token"];if(x!=null&&Date.now()*.001+10<parseInt(x.split("-")[0]))return x;
return null};i3.Si=function(x){var R=window.locStor[i3.eP+"_token"];if(R!=null&&parseInt(x.split("-")[0])<parseInt(R.split("-")[0]))return;
window.locStor[i3.eP+"_token"]=x;clearTimeout(i3.Xs);i3.Xs=setTimeout(i3.a9Z,Math.min(1e9,parseInt(x.split("-")[0])*1e3-Date.now()-20*1e3))};
i3.uk=function(x,R,T,c){if(!navigator.onLine)throw"a";var g=new XMLHttpRequest;g.open("POST","https://www.photopea.com/papi/record_new.php",!0);
g.onload=T;var d=i3.wl(0)+"&read=3&tuid="+x+"&tid="+R;if(c)d+="&tpl="+encodeURIComponent(c);g.setRequestHeader("Content-type","application/x-www-form-urlencoded");
g.send(d)};i3.a9Z=function(){if(!navigator.onLine)throw"a";var x=new XMLHttpRequest;x.open("POST","https://www.photopea.com/papi/record_new.php",!0);
x.onload=i3.agV;var R=i3.wl(0)+"&read=2";x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.send(R)};i3.C8=function(){if(!navigator.onLine)throw"b";var x=new XMLHttpRequest;x.open("POST","https://www.photopea.com/papi/record_new.php",!0);
x.onload=i3.aey;var R=i3.wl(0)+"&read=1";x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.send(R)};i3.xX=function(x){if(!navigator.onLine)throw"c";var R=new XMLHttpRequest;R.open("POST","https://www.photopea.com/papi/record_new.php",!0);
R.onload=i3.aB_;var T=i3.wl(0)+"&read=0&score="+(x.tpl?1:0)+"&spublic="+i3.nB+"&record="+encodeURIComponent(JSON.stringify(x));
R.setRequestHeader("Content-type","application/x-www-form-urlencoded");R.send(T)};i3.aey=function(x){var R=JSON.parse(x.target.response);
if(R.error){}else{i3.SS=R.user;var T=i3.cT(),c=R.record;if(R.record){i3.nB=R.spublic;i3.k$(c)}else if(T)i3.xX(T)}i3.Si(R.token);
if(i3.e1){i3.e1();i3.e1=null}if(i3.dw){i3.dw();i3.dw=null}};i3.agV=function(x){var R=JSON.parse(x.target.response);
i3.Si(R.token)};i3.aB_=function(x){var R=JSON.parse(x.target.response);i3.Si(R.token);if(i3.dw)i3.C8()};
i3.wl=function(x){return"app="+x+"&uid="+window.locStor[i3.eP+"_uid"]+"&token="+window.locStor[i3.eP+"_token"]};
i3.ig=function(){return i3.cT()};i3.k6=function(x,R){i3.k$(x);i3.xf=!0;if(R){i3.dw=R;i3.gi()}};i3.cT=function(){var x=window.locStor[i3.eP+"_stateLocal"],R;
if(x==null)return null;try{R=JSON.parse(x)}catch(i3){return null}return R};i3.k$=function(x){var R=JSON.stringify(x);
window.locStor[i3.eP+"_stateLocal"]=R};i3.order=function(x,R,T){i3.e1=T;var c="https://www.photopea.com/papi/order.php?ptype="+R+"&param="+x+"&uid="+window.locStor[i3.eP+"_uid"]+"&token="+window.locStor[i3.eP+"_token"];
i3.Yb=window.open(c,"_blank")};i3.ah6=function(x,R){i3.e1=R;var T="https://www.photopea.com/papi/insertKey.php?key="+x+"&uid="+window.locStor[i3.eP+"_uid"]+"&token="+window.locStor[i3.eP+"_token"];
i3.Yb=window.open(T,"_blank")};var go={};go.aQ=0;go.eS={};go.eu=function(x){var R=LNG.tables,T=R[x];
if(T==null)T=R[0];if(typeof T=="string"){T=R[x]=go.wU(T)}return T};go.wU=function(x){var R=[],T=0,c=0,g=[],d=x.length;
while(c!=d){var U=x[c];if(U=="["){R.push(g);g=[];c=T=c+1}else if(U=="]"){g.push(T==c?null:x.substring(T,c));
var e=g;g=R.pop();g.push(e);c=T=c+1}else if(U==";"){if(x[c-1]!="]")g.push(T==c?null:x.substring(T,c));
c=T=c+1}else c++}return g};go.get=function(x){if(typeof x=="string")return x;var R=typeof x[0];if(R=="number"){for(var z=1;
z<x.length;z++)if(typeof x[z]!="number"){console.log(x);throw"e"}return go.Dr(x)}var T=go.get(x[0]);
for(var z=1;z<x.length;z++){var c=go.get(x[z]),g=T.indexOf("VAR"+(z-1));T=T.slice(0,g)+c+T.slice(g+4)}return T};
go.Dr=function(x){var R=JSON.stringify(x);if(go.eS[R]!=null)return go.eS[R];var T=go.eu(0),c=go.eu(go.aQ),g=go.gJ(x,c);
if(g==null)g=go.gJ(x,T);return g};go.gJ=function(x,R){for(var z=0;z<x.length;z++){R=R[x[z]];if(R==null)return null;
else if(typeof R=="string")break}if(R instanceof Array)R=R[0];return R.split("::")[0]};go.auj=function(){var x=function(T,c){var g=T.code,d=c.code;
if(g=="en")return-1;if(d=="en")return 1;var U=navigator.languages,e=U.indexOf(g)!=-1,N=U.indexOf(d)!=-1;
if(e&&N)return g>d?1:-1;if(e)return-1;if(N)return 1;return g>d?1:-1},R=LNG.langs.slice(0);R.sort(x);
return R};go.$b=function(x,R){go.aQ=x;if(LNG.tables[x])R();else{var T=new XMLHttpRequest;T.open("GET","code/lang/"+x+".js");
T.onreadystatechange=function(){LNG.tables[x]=T.responseText;R()};T.send()}};go.A2=function(x,R){for(var T=0;
T<2;T++){var c=!1;for(var z=0;z<LNG.langs.length;z++)if(LNG.langs[z].code==x){go.$b(z,R);c=!0}if(c)break;
x=x.split("-")[0]}};go.r0=function(){return LNG.langs[go.aQ].code};go.aj_=function(x){for(var z=0;z<x.length;
z+=2)if(x[z+1].indexOf(">")==-1)go.eS[JSON.stringify(x[z])]=x[z+1]};go.auN=function(x){var R=-1,T=LNG.langs;
for(var z=0;z<T.length;z++)if(T[z].code==x)R=z;return R};var gi={Gz:!1,e4:!1,G6:!1,$d:null};gi.qz=function(){return X.zR[fl.g7]!=X.zR[fl.awL]};
gi.Qr=function(){var x=X.zR[fl.d$],R=x[fl.QB],T=0,c=fl.lD,g=X.Dk("PP\\KQSB"),d=X.Dk("Y_5UDDB>idge"),U=x[fl.xk](fl.jN);
U[c](fl.$s,g);U[c](fl.Dm,X.Dk("fUMZKyqifDIhJ0*+&$-OG?<y~>"));R[fl.T2](U);U=x[fl.as9](g);if(U==null){T=2}else{if(!R[X.Dk("R[WZDIKM")](U)){T=3}else if(Math.round(U[X.Dk("VQ](RUK>@B8p71*03m}x'")]()[fl.wc]-500)>5){T=4}R[fl.qx](U)}if(gi.e4)T=5;
if(gi.G6)T=6;return T};gi.asQ=function(x){var R=X.En("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),T={method:"HEAD",mode:"no-cors"},c=new Request(R,T);
fetch(c).then(function(g){return g}).then(function(g){var d=X.En("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),c=new Request(d);
fetch(c).then(function(g){g.text().then(function(U){x(U.length<2200)})}).catch(function(U){gi.e4=!0;
console.clear();x(!0)})}).catch(function(g){gi.e4=!0;console.clear();x(!0)})};gi.aBd=function(){var x=X.Dk("UU[YW#ECC8"),R=X.Dk("VQ](RUK>@B8p71*03m}x'"),T=X.Dk("WQRMKT"),c=this.amN[x][R]();
if(c[T]<4){gi.G6=!0;this.ajP(!0)}};gi.aoA=function(){var x=X.zR._cwY,R=X.zR[fl.jH],T="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",c=String.fromCharCode(32);
x(X.Dk(T)+c+c+gi.Qr());if(!i3.T9())R(gi.aoA,Math.round(Math.PI*1e4))};gi.Ki=function(x){var R=X.zR[fl.d$],T=R[fl.xk](x[0]);
for(var c in x[1]){if(c=="txt")T[fl.u2]=x[1][c];else T[fl.lD](c,x[1][c])}return T};gi.a0M=function(x,R,T,c){X.Ra(T);
var g=X.zR[fl.d$],d=X.En(" u.$%\"86<"),U=X.En("!#c$,&"),e=X.zR[d][U],N=X.zR[X.En(" u.$%\"86<")][X.En("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!gi.qz()&&!gi.Qr()&&e&&x*R>300*300&&!N){var l=g[X.Dk("VQ]+OEJ?EHDoD{&)l|&z")](fl.dJ)[0],J=JSON.parse(X.En("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var z=0;z<J.length;z++){var w=gi.Ki(J[J.length-1-z]);l[fl.axz](w,l[fl.asN])}var s=X.En("p}&$2a(:"),o=X.En("'#!}i0%+"),V=X.En("ps,}$\"40"),a=X.zR.__cbu=gi.Ki(JSON.parse(fl.Dk("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
T[fl.T2](a);X.zR.___ggo=function(){X.zR[V](fl.Ng,2,function(S,L){if(L&&S[o]==!0){if(!X.zR[s]){X.zR[s]=!0;
var Q=gi.anM.bind({CD:T,head:l,kh:R});Q()}}})}}else{var O=gi.a3B.bind({amN:T,ao3:c,kh:R});O();setInterval(O,3e4)}};
gi.aqm="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g9450-*'%|oTULpER8J4<9W14(?F9}~u:n{ave][!Z]QhobFOLEEhZW-2M##-x# 8jsn-qah[cz(HWAymghd``M3%(XPJK18+9%,~.xQ|Izuum`EF=a7.7,7O!*$uwon|ttx*cfZqxkPQHlB9B7BZ,5/!#zy(  $f{/hk_v}pzwIRL>@87E==AR+5|'!@}q}(/\"~&xuNyFwrrj]BC:^4+4)4L}'# sn|nqm*cfZqxkPQHlB9B7BZ,51.\"|+| {i~2knby!s}zLUQNB=K=@<X1;#-'F$w$.5(%,~{T L}xxpcHI@d:1:/:R%')'|'| :3locz\"tYZQuKBK@Kc68:8.8.1Ku+>wzn&- *'Y[][Q[QTng@J2<6U3'3=D74;.+c/[-(( rWXOsI@I>Ia<<?+6*\" *B{~r*1$hi`%ZQZOZrMMP<G;31;%:M'*}5</96{xu)ddgS^RJHRj=FARYLIPC@xDpB==5(lmd)^U^S^vRQNJLJ8B@W14(?F9}~u:ofodo(cb_[][ISQ:Ob<?3JQDNK'&#~!~lvt,dnV`ZyWKWah[X_RO(S QLLD7{|s8mdmbm&hZ\\dUTPRP>HF]7:.EL?$%{@uluju.pbdl]\\XZXFPN7L_9<0GNAKH+|~'wvrtr`jh XbJTNmK?KU\\OLSFC{x";
gi.a3B=function(){var x=X.zR[fl.d$],R=this.amN,T=this.ao3,c=gi.$d,g=this.kh;X.Ra(R);var d=X.zR[fl.En(" u.$%\"86<")][fl.En("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,U=c==1?1:gi.ZU(g),e=JSON.parse(fl.Dk(gi.aqm)),N=x[fl.xk]("a");
N.textContent=fl.Dk("0PhHOO@E@B8M/-9'\"0}y");N[fl.lD](fl.XE,fl.Dk("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
N[fl.lD](fl.Bm,fl.En("pv${,,"));N[fl.lD](fl.Dm,fl.Dk("R[UUUyTB@H6h"));if(!d)R[fl.T2](N);for(var z=0;
z<U;z++){var l=Math.random(),J=0,w=0;while(J+e[w][0]<l){J+=e[w][0];w++}if(w==2&&Date.now()>1665160336190)w=0;
if(d)w=1;var s=e[w],o=x[fl.xk](fl.Rm);o[fl.lD](fl.Dm,fl.Dk("Ra[YRRvJF=?B0:_")+fl.Dk(c==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
o[fl.lD](fl.uC,s[c]);if(s.length>3){var V=s[3]+s[3+c],N=x[fl.xk]("a");N[fl.lD](fl.XE,V);N[fl.lD](fl.Bm,fl.En("pv${,,"));
N[fl.T2](o);R[fl.T2](N)}else{o[fl.Ng](fl.VQ,T,!1);R[fl.T2](o)}}};gi.ZU=function(x){var R=2;if(x>=3*270+30)R=3;
if(x>=4*270+30)R=4;return R};gi.anM=function(){var x=fl.T2,R=fl.lD,T=fl.Ng,c=fl.Sz,g=fl.Dm,d=fl.uC,U=X.Dk("P_bTF"),e=fl.u2,N=fl.SI,l=X.zR[fl.d$],J=fl.xk,w=fl.Te,s=X.zR.__cbu,o=this.CD,V=gi.$d,a=this.head,O=this.kh,S=X.En("~u*\"'/P)9ADBCrlnR]"),L=[.2,.8],Q=Math.random(),b=0;
while(L[b]<Q&&b<L.length-1){Q-=L[b];b++}if(b==0){console.log(0);if(!gi.Gz){gi.Gz=!0;for(var z=0;z<2;
z++){var Z=l[fl.xk](fl.Te),I=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][z];
Z[fl.lD](fl.uC,fl.En(I));Z[fl.lD](fl.Qn,"");a[fl.T2](Z)}var y=JSON.parse(fl.En("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;C@,LILFNE$'_gdcpmpArE}\"#\"/,/_%(+.147:=@!RIS@;EMKOGFGN]^S(0-x9693/2>F|#&w-=D:7<aMAk!jwpYdgbjfxhq;tx|#+%u28@VXchntrw|z%)~(*215=A=AHHF+&086:21`9HI>ttwc &$}&|[^99<;DJHxJ|V\\ZYbhf7h;uuxw!\"%UX*!+wr|%#'~}~&56+aadPlrpjfiu}TZ]Odt{qns9%xCXBOH1<?:B>P@IrLPTZb\\Miow.0;@FLJOTR\\`V_aihltxtx  }b]gomqih8p !uLLO;W][U]T36ppsr{\" P\"T.421:@>n@rMMPOXY\\-0aXbOJT\\Z^VUV]lmb99<(DJHzPHMU,25'<LSIFKp\\Pz0y' hsvqyu(w!J$(,2:4%AGOegrw}$\"',*48.79A@DLPLPWWU:5?GEIA@oHWXM$$'r/53-5,jmHHKJSYW(Y,ekihqwuFwJ%%('014dg90:'\",426.-.5DE:pps_{\" R) %-cil^s$+!}#H4(RgQ^W@KNIQM_OX\"[_ciqk\\x~'=?JOU[Y^cakoenpxw{$($(//-qlv~|!xwG /0%[[^JfljdlcBE  #\"+1/_1c=CA@IOM}O\"\\\\_^ghk<?pgq^Yckimedel{|qHHK7SYW*aW\\d;AD6K[bXUZ k_*?)6/w#&!)%7'0Y37;AIC4PV^tv\"'-316;9CG=FHPOS[_[_ffdIDNVTXPO~Wfg\\356\"A?95D;y|WYZYPhf7h;uuxwn'%UX*!+wr|%#'~}~&56+acdPomgcowNTWI^nukhm3~r=R<zL~H:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1oA:3(0)7B[8CFAIEWGPk,qlaibp{5q| z#~1!*EEHNM8E?w`?Dg(oru`kniqm oxBz(\"N4<=5W9KG?SKTVrvpovp^r#vjIv\"% ($6&/X>F68>Pgk!hmzseY)bjwhlyu\\%#1)$2t;06\\`u]QEtO[QUb^Ohpltp`v&- 15KOdL@4c<KKNFX^S6agnvDl||48M5 +.)1-?/8a<H>BOK<Qah^[`q)-B*-.<Q;HzD:.DC^6DDEO}JO[dXh4shfypE?GD(3X))015DlkhkOZ ivoeYon*aoopzIuz'0$4_?42E<plloS^$YX`\"``ghl{D?EC'2WA #")),r=V==1?1:gi.ZU(O);
if(V==1){y[0]=y[0].slice(0,1);y[1]=y[1].slice(0,1)}else{y[0]=y[0].slice(1,1+r);y[1]=y[1].slice(1,1+r)}var Z=l[fl.xk](fl.Te),h=y[2]+"\n"+y[0].join("\n")+"\n"+y[3];
Z[fl.u2]=h;a[fl.T2](Z);for(var z=0;z<r;z++){var k=l[fl.xk](fl.jN);k[fl.lD](fl.$s,y[1][z]);k[fl.lD](fl.Dm,y[4][V-1]);
k[fl.Dm].marginBottom="20px";var Z=l[fl.xk](fl.Te),h=fl.En("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+y[1][z]+"'); });";
Z[fl.u2]=h;k[fl.T2](Z);o[fl.T2](k)}}}else{console.log(1);var Z=l[J](w);Z[R](d,X.En("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
Z[R](fl.Qn,"");a[x](Z);var K=JSON.parse(X.En("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),H=[K[0]];
if(V==2)H=K.slice(1,1+gi.ZU(O));for(var z=0;z<H.length;z++){console.log(H[z].slice(22));var k=l[J](X.Dk("SU_"));
k[R](fl.$s,H[z]);k[R](g,S);o[x](k)}}if(s)o[x](s)};gi.atd=function(x){clearInterval(gi.VX);gi.amt=x;if(gi.a1e==null){gi.a1e=!0;
var R=X.zR[fl.d$],T=R[fl.QB],c=R[X.Dk("VQ]+OEJ?EHDoD{&)l|&z")](fl.dJ)[0],g=gi.adF=Math.random()<10/11?0:1;
console.log("===",g);if(g==0){var d=R[fl.xk](fl.jN);d[fl.lD](fl.$s,"applixir_vanishing_div");d[fl.lD](fl.ax$,"");
var U=R[fl.xk](fl.SI);U[fl.lD](fl.$s,"applixir_parent");d[fl.T2](U);T[fl.T2](d);d[fl.lD](fl.Dm,"z-index:1000");
var e=R[fl.xk](fl.Te);e[fl.lD](fl.uC,"//cdn.applixir.com/applixir.sdk3.0m.js");T[fl.T2](e)}else{var e=R[fl.xk](fl.Te);
e[fl.u2]="window.ramp = window.ramp || {};  window.ramp.que = window.ramp.que || [];";c[fl.T2](e);var e=R[fl.xk](fl.Te);
e[fl.lD](fl.uC,"//cdn.intergient.com/1024894/74074/ramp_config.js");e[fl.lD](fl.Qn,"");c[fl.T2](e);var e=R[fl.xk](fl.Te);
e[fl.lD](fl.uC,"//cdn.intergient.com/ramp_core.js");e[fl.lD](fl.Qn,"");T[fl.T2](e)}}var N=window.confirm("You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account to remove ads.");
if(!N)return;gi.VX=setInterval(gi.a8w,50)};gi.a8w=function(){var x=gi.adF;if(x==0){if(window.invokeApplixirVideoUnit==null)return;
var R={zoneId:5564,devId:7246,gameId:7737,dMode:1,fallback:0,adStatusCb:gi.am3,rewarded:!0,vSize:"max",vSizeM:"max"};
window.invokeApplixirVideoUnit(R)}else{if(ramp.showRewardedVideo==null)return;var T=new XMLHttpRequest;
T.addEventListener("load",function(c){var g=JSON.parse(c.target.response);ramp.showRewardedVideo({code:g.code,userId:g.user_id,callback:gi.a9s})});
T.open("GET","//www.photopea.com/papi/playwire.php");T.send()}clearInterval(gi.VX)};gi.am3=function(x){if(x=="ad-watched")setTimeout(gi.amt,100);
console.log(x)};gi.a9s=function(x){setTimeout(gi.amt,100);console.log(x)};var fG={Jw:-2,cv:{expires_at:0},JS:[]};
fG.Px=function(x){if(x)fG.JS.splice(0,0,x);if(fG.Jw==-2){fG.Jw=-1;var R=document.createElement("script");
R.src="//apis.google.com/js/client.js";document.body.appendChild(R);R.onload=function(T){setTimeout(function(){fG.Jw=0;
fG.Px()},100)}}if(fG.Jw==-1)return;if(fG.Jw==1)return;if(fG.cv.expires_at>Date.now()*.001+30){while(fG.JS.length>0)fG.JS.pop()()}else{if(fG.Jw==0)fG.Jw=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:fG.Jw==2?!1:!0},fG.ayz)})}};
fG.ayz=function(x){if(x&&!x.error){fG.cv=x;fG.Jw=!1;fG.Px()}else if(fG.Jw==1){fG.Jw=2;fG.Px()}else alert("Error: "+x.error)};
fG.tP=function(){return"access_token="+fG.cv.access_token+"&token_type="+fG.cv.token_type};fG.gK=function(){return fG.cv.token_type+" "+fG.cv.access_token};
function cI(x,R){if(!x)x=0;if(!R)R=0;this.x=x;this.y=R}cI.prototype.add=function(x){return new cI(this.x+x.x,this.y+x.y)};
cI.prototype.clone=function(){return new cI(this.x,this.y)};cI.prototype.hR=function(x){this.x=x.x;this.y=x.y};
cI.prototype.X$=function(x){return this.x==x.x&&this.y==x.y};cI.prototype.normalize=function(x){var R=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=x/R;this.y*=x/R};cI.prototype.offset=function(x,R){this.x+=x;this.y+=R};cI.prototype.LR=function(x,R){this.x=x;
this.y=R};cI.prototype.KV=function(x){return new cI(this.x-x.x,this.y-x.y)};cI.rE=function(x,R){return cI.a7R(x.x,x.y,R.x,R.y)};
cI.BN=function(x,R,T){return new cI(x.x+T*(R.x-x.x),x.y+T*(R.y-x.y))};cI.aq7=function(x,R){return new cI(x*Math.cos(R),x*Math.sin(R))};
cI.a7R=function(x,R,T,c){return Math.sqrt((T-x)*(T-x)+(c-R)*(c-R))};cI.ag={};cI.Ob={};cI.ag.create=function(){var x=new Float32Array(4);
return x};cI.Ob.create=function(x){var R=new Float32Array(16);R[0]=R[5]=R[10]=R[15]=1;if(x)cI.Ob.set(x,R);
return R};cI.ag.add=function(x,R,T){T[0]=x[0]+R[0];T[1]=x[1]+R[1];T[2]=x[2]+R[2];T[3]=x[3]+R[3]};cI.ag.set=function(x,R){R[0]=x[0];
R[1]=x[1];R[2]=x[2];R[3]=x[3]};cI.Ob.set=function(x,R){R[0]=x[0];R[1]=x[1];R[2]=x[2];R[3]=x[3];R[4]=x[4];
R[5]=x[5];R[6]=x[6];R[7]=x[7];R[8]=x[8];R[9]=x[9];R[10]=x[10];R[11]=x[11];R[12]=x[12];R[13]=x[13];R[14]=x[14];
R[15]=x[15]};cI.Ob.multiply=function(x,R,T){var c=x[0],g=x[1],d=x[2],U=x[3],e=x[4],N=x[5],l=x[6],J=x[7],w=x[8],s=x[9],o=x[10],V=x[11],a=x[12],O=x[13],S=x[14],L=x[15],Q=R[0],b=R[1],Z=R[2],I=R[3];
T[0]=Q*c+b*e+Z*w+I*a;T[1]=Q*g+b*N+Z*s+I*O;T[2]=Q*d+b*l+Z*o+I*S;T[3]=Q*U+b*J+Z*V+I*L;Q=R[4];b=R[5];Z=R[6];
I=R[7];T[4]=Q*c+b*e+Z*w+I*a;T[5]=Q*g+b*N+Z*s+I*O;T[6]=Q*d+b*l+Z*o+I*S;T[7]=Q*U+b*J+Z*V+I*L;Q=R[8];b=R[9];
Z=R[10];I=R[11];T[8]=Q*c+b*e+Z*w+I*a;T[9]=Q*g+b*N+Z*s+I*O;T[10]=Q*d+b*l+Z*o+I*S;T[11]=Q*U+b*J+Z*V+I*L;
Q=R[12];b=R[13];Z=R[14];I=R[15];T[12]=Q*c+b*e+Z*w+I*a;T[13]=Q*g+b*N+Z*s+I*O;T[14]=Q*d+b*l+Z*o+I*S;T[15]=Q*U+b*J+Z*V+I*L;
return T};cI.Ob.inverse=function(x,R){var T=x[0],c=x[1],g=x[2],d=x[3],U=x[4],e=x[5],N=x[6],l=x[7],J=x[8],w=x[9],s=x[10],o=x[11],V=x[12],a=x[13],O=x[14],S=x[15],L=T*e-c*U,Q=T*N-g*U,b=T*l-d*U,Z=c*N-g*e,I=c*l-d*e,y=g*l-d*N,r=J*a-w*V,h=J*O-s*V,k=J*S-o*V,K=w*O-s*a,H=w*S-o*a,p=s*S-o*O,f=L*p-Q*H+b*K+Z*k-I*h+y*r;
if(!f){return null}f=1/f;R[0]=(e*p-N*H+l*K)*f;R[1]=(g*H-c*p-d*K)*f;R[2]=(a*y-O*I+S*Z)*f;R[3]=(s*I-w*y-o*Z)*f;
R[4]=(N*k-U*p-l*h)*f;R[5]=(T*p-g*k+d*h)*f;R[6]=(O*b-V*y-S*Q)*f;R[7]=(J*y-s*b+o*Q)*f;R[8]=(U*H-e*k+l*r)*f;
R[9]=(c*k-T*H-d*r)*f;R[10]=(V*I-a*b+S*L)*f;R[11]=(w*b-J*I-o*L)*f;R[12]=(e*h-U*K-N*r)*f;R[13]=(T*K-c*h+g*r)*f;
R[14]=(a*Q-V*Z-O*L)*f;R[15]=(J*Z-w*Q+s*L)*f;return R};cI.Ob.a6A=function(x,R,T){var c=R[0],g=R[1];T[0]=c*x[0]+g*x[4]+x[12];
T[1]=c*x[1]+g*x[5]+x[13]};cI.Ob.av9=function(x,R,T){var c=R[0],g=R[1],d=R[2],U=R[3];T[0]=x[0]*c+x[4]*g+x[8]*d+x[12]*U;
T[1]=x[1]*c+x[5]*g+x[9]*d+x[13]*U;T[2]=x[2]*c+x[6]*g+x[10]*d+x[14]*U;T[3]=x[3]*c+x[7]*g+x[11]*d+x[15]*U};
function aP(x,R,T,c){if(!x)x=0;if(!R)R=0;if(!T)T=0;if(!c)c=0;this.x=x;this.y=R;this.m=T;this.e=c}aP.prototype.Z=function(){return this.m*this.e};
aP.prototype.clone=function(){return new aP(this.x,this.y,this.m,this.e)};aP.prototype.contains=function(x,R){return x>=this.x&&x<=this.x+this.m&&(R>=this.y&&R<=this.y+this.e)};
aP.prototype.mD=function(x){return this.contains(x.x,x.y)};aP.prototype.Ae=function(x){return this.x<=x.x&&this.y<=x.y&&x.x+x.m<=this.x+this.m&&x.y+x.e<=this.y+this.e};
aP.prototype.hR=function(x){this.x=x.x;this.y=x.y;this.m=x.m;this.e=x.e};aP.prototype.X$=function(x){return this.x==x.x&&this.y==x.y&&this.m==x.m&&this.e==x.e};
aP.prototype.t1=function(x,R){this.x-=x;this.y-=R;this.m+=2*x;this.e+=2*R};aP.prototype.aCQ=function(x){this.t1(x.x,x.y)};
aP.prototype.yx=function(x){var R=Math.max(this.x,x.x),T=Math.max(this.y,x.y),c=Math.min(this.x+this.m,x.x+x.m),g=Math.min(this.y+this.e,x.y+x.e);
if(c<R||g<T)return new aP;else return new aP(R,T,c-R,g-T)};aP.prototype.fg=function(x){if(x.y+x.e<this.y||x.x>this.x+this.m||x.y>this.y+this.e||x.x+x.m<this.x)return!1;
return!0};aP.prototype.Y3=function(){return this.m<=0||this.e<=0};aP.prototype.offset=function(x,R){this.x+=x;
this.y+=R};aP.prototype._P=function(x){this.offset(x.x,x.y)};aP.prototype.apK=function(){this.x=this.y=this.m=this.e=0};
aP.prototype.LR=function(x,R,T,c){this.x=x;this.y=R;this.m=T;this.e=c};aP.prototype.y8=function(x){if(this.Y3())return x.clone();
if(x.Y3())return this.clone();var R=this.clone();R.anh(x);return R};aP.Gn=new Float32Array(2);aP.prototype.anh=function(x){if(x.Y3())return;
if(this.Y3()){this.hR(x);return}this._G(x.x,x.y);this._G(x.x+x.m,x.y+x.e)};aP.prototype._G=function(x,R){var T=Math.min(this.x,x),c=Math.min(this.y,R);
this.m=Math.max(this.x+this.m,x)-T;this.e=Math.max(this.y+this.e,R)-c;this.x=T;this.y=c};aP.prototype.aeM=function(x,R){this.x=x;
this.y=R;this.m=this.e=0};function gP(x,R,T,c,g,d){if(typeof x==="undefined"){x=1;R=0;T=0;c=1;g=0;d=0}this.Y=x;
this.J=R;this.zI=T;this.jR=c;this.a4=g;this.rY=d}gP.prototype.Rt=function(){return Math.sqrt(Math.abs(this.Y*this.jR-this.J*this.zI))};
gP.prototype.ayD=function(){var x=this,R=function(T){return Math.abs(T)<1e-9?0:T};x.Y=R(x.Y);x.J=R(x.J);
x.zI=R(x.zI);x.jR=R(x.jR);x.a4=R(x.a4);x.rY=R(x.rY)};gP.prototype.Wk=function(x){return new cI(x.x*this.Y+x.y*this.zI+this.a4,x.x*this.J+x.y*this.jR+this.rY)};
gP.prototype.translate=function(x,R){this.a4+=x;this.rY+=R};gP.prototype.rotate=function(x){var R=new gP(Math.cos(x),-Math.sin(x),Math.sin(x),Math.cos(x),0,0);
this.concat(R)};gP.prototype.scale=function(x,R){var T=new gP(x,0,0,R,0,0);this.concat(T)};gP.prototype.concat=function(x){this.hR(new gP(this.Y*x.Y+this.J*x.zI,this.Y*x.J+this.J*x.jR,this.zI*x.Y+this.jR*x.zI,this.zI*x.J+this.jR*x.jR,this.a4*x.Y+this.rY*x.zI+x.a4,this.a4*x.J+this.rY*x.jR+x.rY))};
gP.prototype.F0=function(){var x=this.Y*this.jR-this.J*this.zI;this.hR(new gP(this.jR/x,-this.J/x,-this.zI/x,this.Y/x,(this.zI*this.rY-this.jR*this.a4)/x,(this.J*this.a4-this.Y*this.rY)/x))};
gP.prototype.clone=function(){return new gP(this.Y,this.J,this.zI,this.jR,this.a4,this.rY)};gP.prototype.hR=function(x){this.Y=x.Y;
this.J=x.J;this.zI=x.zI;this.jR=x.jR;this.a4=x.a4;this.rY=x.rY};function dp(){}dp.Az={aom:"PNG JPG SVG GIF MP4 PDF".split(" "),aut:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
dp.Pd=function(x,R){var T=x.memory.buffer.byteLength;if(T<R)x.memory.grow((R-T>>>16)+1)};dp.wz={$$:function(x,R){fetch(x).then(function(T){return T.arrayBuffer()}).then(function(T){var c=new Uint8Array(T),g=0,N="";
if(R){g=c.length;var d={level:9},U=pako.deflateRaw(c,d),e=UZIP.deflateRaw(c,d);console.log(g,U.length,e.length);
c=U.length<e.length?U:e}for(var z=0;z<c.length;z++)N+=String.fromCharCode(c[z]);var l=btoa(N);console.log(JSON.stringify([g,l]))})},get:function(x,R){var T=BINDB[x],c=Date.now(),g=atob(T[1]),d=g.length,U=new Uint8Array(d);
for(var z=0;z<d;z++)U[z]=g.charCodeAt(z);if(T[0]!=0){var e=new Uint8Array(T[0]);UZIP.inflateRaw(U,e);
U=e}if(R){var N=dp.Xk(U.buffer);U=dp.Ix(N).x3(U.buffer)}return U}};dp.Xk=function(x){if(!(x instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var R=new Uint8Array(x),T=dp.EV,c,g=0,d=R.length-1;
if(T(R,[239,187,191]))g=3;while(g<R.length&&(R[g]==9||R[g]==10||R[g]==13||R[g]==32))g++;while(d!=0&&(R[d]==9||R[d]==10||R[d]==13||R[d]==32))d--;
if(T(R,[56,66,80,83]))c="psd";if(T(R,[6,6,237,245]))c="indd";if(T(R,[68,73,67,77],128))c="dcm";if(T(R,[102,116,121,112,109,105,102,49],4)||T(R,[102,116,121,112,97,118,105,102],4))c="avif";
if(T(R,[102,116,121,112,105,115,111,109],4))c="mp4";if(T(R,[102,116,121,112,109,112,52,50],4))c="mp4";
if(T(R,[102,116,121,112,113,116,32,32],4))c="mp4";if(T(R,[0,255,75,65]))c="afphoto";if(T(R,[67,83,70,67,72,85,78,75]))c="clip";
if(T(R,[70,82,65,67]))c="frac";if(T(R,[120]))c="pxd";if(T(R,[80,68,78,51]))c="pdn";if(T(R,[103,105,109,112,32,120,99,102,32]))c="xcf";
if(T(R,[102,105,103,45,107,105,119,105]))c="fig";if(T(R,[105,99,110,115]))c="icns";if(T(R,[137,80,78,71,13,10,26,10])){c="png";
var U=8;while(U<R.length){var e=n.s(R,U);U+=4;var N=n.zQ(R,U,4);U+=4;if(N=="mkTS")c="fpng";U+=e+4}}if(T(R,[87,76]))c="cdr";
if(T(R,[82,73,70,70])){var l=fM.eE(R),J=l.af;if(J=="WEBP")c="webp";else if(J.slice(0,3)=="CDR")c="cdr";
else c=J}if(T(R,[70,79,82,77])||T(R,[70,79,82,52])||T(R,[76,73,83,84])||T(R,[67,65,84,32])){var l=jr.eE(R),J=l.af;
if(J=="ILBM"||J=="CIMG"||J=="ANIM")c="ilbm";else c=J}if(T(R,[255,216,255]))c="jpg";if(T(R,[0,0,0,12,106,80,32,32]))c="jpg";
if(T(R,[48,0,1,0],4))c="jb2";if(T(R,[71,73,70,56]))c="gif";if(T(R,[0,0,0,2,121,102,113,76]))c="msh";
if(T(R,[0,0,0,3,121,102,113,76]))c="msh";if(T(R,[0,0,0,16]))c="atn";if(T(R,[0,1]))c="aco";if(T(R,[0,2]))c="aco";
if(T(R,[65,83,69,70]))c="aco";if([0,1].indexOf(R[1])!=-1&&[1,2,3,9,10,11].indexOf(R[2])!=-1&&[0,16,24,32].indexOf(R[7])!=-1)c="tga";
if(T(R,[0,2,56,66,83,76]))c="asl";if(T(R,[0,1,0,-1,0,2,0]))c="abr";if(T(R,[0,2,0,-1,0,2,0]))c="abr";
if(T(R,[0,6,0,1]))c="abr";if(T(R,[0,6,0,2]))c="abr";if(T(R,[0,7,0,2]))c="abr";if(T(R,[0,9,0,2]))c="abr";
if(T(R,[0,10,0,2]))c="abr";if(T(R,[56,66,70,83]))c="shc";if(T(R,[56,66,80,84]))c="pat";if(T(R,[56,66,71,82]))c="grd";
if(T(R,[71,73,77,80,32,71,114,97]))c="grd";if(T(R,[56,66,84,80]))c="tpl";if(T(R,[0,4,0,5]))c="acv";if(T(R,[99,117,115,104]))c="csh";
if(T(R,[0,1,0,0,0]))c="otf";if(T(R,[79,84,84,79]))c="otf";if(T(R,[116,116,99,102]))c="otf";if(T(R,[68,68,83,32]))c="dds";
if(T(R,[80,86,82,3]))c="pvr";if(T(R,[86,84,70,0]))c="vtf";if(T(R,[83,73,77,80]))c="fits";if((T(R,[0,0,1,0])||T(R,[0,0,2,0]))&&R[4]!=0)c="ico";
if(T(R,[66,77]))c="bmp";if(T(R,[40,0,0,0]))c="bmp";if(T(R,[80,49]))c="ppm";if(T(R,[80,50]))c="ppm";if(T(R,[80,51]))c="ppm";
if(T(R,[80,52]))c="ppm";if(T(R,[80,53]))c="ppm";if(T(R,[80,54]))c="ppm";if(T(R,[73,73,42,0]))c="tiff";
if(T(R,[77,77,0,42]))c="tiff";if(T(R,[73,73,85,0]))c="tiff";if(T(R,[73,73,82,83]))c="tiff";if(T(R,[73,73,82,79]))c="tiff";
if(T(R,[70,85,74,73,70,73,76,77]))c="raf";if(T(R,[112]))c="lif";if(T(R,[73,73,26,0]))c="ciff";if(T(R,[83,81,76,105]))c="sketch";
if(T(R,[80,75])){var w=UZIP.parse(x,!0);if(w["document.json"])c="sketch";else if(w.manifest)c="xd";else if(w["maindoc.xml"])c="kra";
else if(w["content/root.dat"])c="cdr";else if(w["canvas.fig"])c="fig";else if(w["manifest.json"])c="pxz";
else c="zip"}if(T(R,[123]))c="json";if(n.s(R,0)==R.length)c="icc";if(T(R,[35]))c="icc";if(T(R,[84,73,84,76],g))c="icc";
if(T(R,[76,85,84,95],g))c="icc";if(T(R,[60,63,120,109],g)){if(n.KZ(R,"<look>")!=-1)c="icc";else c="svg"}if(T(R,[255,254,60,0],g))c="svg";
if(T(R,[60,115,118,103],g))c="svg";if(T(R,[60,33,100,111],g)||T(R,[60,33,68,79],g)||T(R,[60,33,45,45],g)){if(n.KZ(R,"<svg")!=-1)c="svg";
else c="html"}if(T(R,[37,33])||T(R,[197,208,211,198])){if(n.KZ(R,"%AI9_PrivateDataBegin")!=-1||n.KZ(R,"%AI5_BeginLayer")!=-1)c="ai";
else c="eps"}if(T(R,[37,80,68,70],g)){var s=n.KZ(R,"/AIMetaData ");if(s!=-1){if(n.KZ(R,">>/Encrypt ",s)!=-1)c="pdf";
else c="ai"}else c="pdf"}else if(T(R,[10,69,79,70],d-3))c="dxf";if(T(R,[1,0,9,0]))c="wmf";if(T(R,[215,205,198,154]))c="wmf";
if(T(R,[1,0,0,0]))c="emf";if(T(R,[118,47,49,1]))c="exr";if(T(R,[10,10,10,10]))c="jsx";if(T(R,[77,90]))c="exe";
if(c==null&&u.raw.sS(R.length)!=null)return"tiff";return c};dp.EV=function(x,R,T){if(T==null)T=0;for(var z=0;
z<R.length;z++)if(R[z]!=-1&&x[T+z]!=R[z])return!1;return!0};dp.Ix=function(x){var R={BMP:dp.a8$,CDR:dp.Qz,DDS:dp.sf,EMF:dp.yX,DXF:dp.gB,EPS:dp.$y,FIG:dp.pZ,FPNG:dp.y3,INDD:dp.tH,GIF:dp.YY,ICO:dp.XR,ILBM:dp.uF,FITS:dp.MZ,EXR:dp.Kn,JPG:dp.hI,LIF:dp.aB,DCM:dp.adk,PDF:dp.Mw,PDN:dp.kE,PNG:dp.zl,ICNS:dp.PM,PPM:dp.pr,PSD:dp.hq,PXD:dp.PE,PXZ:dp.Yj,RAF:dp.at,RAW:dp.GH,SKETCH:dp.Pu,SVG:dp.Yw,TGA:dp.iL,AVIF:dp.au3,TIFF:dp.sp,VTF:dp.Qc,WEBP:dp.TL,WMF:dp.H2,XCF:dp.jz,XD:dp.U_,KRA:dp.lL,EXE:dp.p7,AI:dp.dt,AFPHOTO:dp.ur,CLIP:dp.B5,FRAC:dp.ee,MP4:dp.QJ};
return R[x.toUpperCase()]};dp.zG=function(z){var x=dp.Az.aom,R=dp.Az.aut,T,c=[];if(z==null)T=x.concat(R);
else T=z==0?x:R;for(var z=0;z<T.length;z++)if(dp.Ix(T[z]).LA)c.push(T[z]);return c};dp.akG=function(){var x;
function R(c){var g=c.target,d=g.width,U=g.height,e=document.createElement("canvas");e.width=d;e.height=U;
var N=e.getContext("2d");N.drawImage(g,0,0);x({d8:new aP(0,0,d,U),data:N.getImageData(0,0,d,U).data.buffer})}function T(c,g,d){x=d;
var U=document.createElement("img");U.onload=R;U.src="data:"+g+";base64,"+dp.SU(c)}return T}();dp.lQ=function(x,R,T,c,g){var d=dp.DZ(x,R,T,c,g),U=dp.bR(d);
return U.buffer};dp.bR=function(x){var R=atob(x.split(",").pop()),T=new Uint8Array(R.length);for(var z=0;
z<R.length;z++)T[z]=R.charCodeAt(z);return T};dp.DZ=function(x,R,T,c,g,d){if(!(x instanceof ArrayBuffer))throw"e";
if(c==null)c="png";if(c=="png"&&d==!0){var U=dp.Ix("PNG").LA([[x,0]],R,T);return"data:image/png;base64,"+dp.SU(U)}var e=dp.BG;
if(e==null)e=dp.BG=document.createElement("canvas");if(e.width!=R||e.height!=T){e.width=R;e.height=T}var N=e.getContext("2d"),l=new ImageData(new Uint8ClampedArray(x,0,R*T*4),R,T);
N.putImageData(l,0,0);return e.toDataURL("image/"+c,g)};dp.adX=function(x,R,T,c,g){if(g==null)g=0;var d="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",U="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+d+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(x==1)U+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
U+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+g+")\" xlink:href=\""+R+"\" x=\""+80*T+"\" y=\""+80*c+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var e=new Uint8Array(U.length);n.$D(U,e,0);var N="data:image/svg+xml;base64,"+dp.SU(e.buffer);return{fR:N,v4:new aP(0,0,128,128),FV:new cI(64,64)}};
dp.SU=function(x){var R=new Uint8Array(x),T="";for(var z=0;z<R.length;z++)T+=String.fromCharCode(R[z]);
return btoa(T)};dp.D9=function(x){var R=atob(x),T=R.length,c=new Uint8Array(T);for(var z=0;z<T;z++)c[z]=R.charCodeAt(z);
return c.buffer};dp.oQ=function(x){var R=[],T=[];for(var z=0;z<x.R.length;z++){var c=x.R[z];if(c.getName().slice(0,3)=="_a_"){R.push(z);
T.push(c.Pm())}}return[R,T]};dp.KA=function(x,R,T,c,g,d){if(T==null)T=x.m;if(c==null)c=x.e;var U=new aP(0,0,x.m,x.e),e=new gP(T/(x.m+.001),0,0,c/(x.e+.001),0,0),l;
R=R.toUpperCase();var N=dp.Ix(R);if(N.y0){if(b5==0)x.Yr();l=N.LA(x,T,c,g,d)}else if(b5==1){var J=x.awR(T,c,d);
l=N.LA([[J,0,x.De,x.zw]],T,c,g)}else{if(g)g=g.slice(0);var w=dp.oQ(x),s=w[0],o=w[1],V=x.xA(),a=V&&g?g.pop():!1,O=V&&!a?V[0]:null,S=null;
if(x.Hp.length!=0){S=[];for(var z=0;z<x.Hp.length;z++)S.push(x.Hp[z].qC(U))}if(s.length<2){var L=dp.f4(x.Yr(),V,a,x),Q;
if(T==x.m&&c==x.e)Q=L.buffer;else{var b=D.gW.ug([L,U],e);Q=b.buffer.buffer;if(S){var Z=u.B(U.Z()*4);
for(var z=0;z<S.length;z++){u.rN(S[z],Z,3);var b=D.gW.ug([Z,U],e),I=S[z]=u.B(b.rect.Z());u.TR(b.buffer,I,3)}}}l=N.LA([[Q,0,x.De,x.zw,S,O]],T,c,g)}else{var y=[];
for(var z=0;z<s.length;z++){var r=s[z],Q;for(var h=0;h<s.length;h++)x.R[s[h]].oE(s[h]==r);x.Cg();x.W();
x.jB();if(T==x.m&&c==x.e)Q=x.Yr().buffer.slice(0);else{var b=D.gW.ug([x.Yr(),U],e);Q=b.buffer.buffer}Q=dp.f4(new Uint8Array(Q),V,a,x).buffer;
var k=x.R[r].getName().split(",");y.push([Q,k[1]?parseInt(k[1]):100,x.De,x.zw,S,O])}for(var z=0;z<s.length;
z++)x.R[s[z]].oE(o[z]);x.W();x.jB();if(g){g.push(100);var K=g.length,H=g[K-3],p=g[K-2],f=g[K-5]/100,A=g[K-1]/100;
if(f!=1)for(var z=0;z<y.length;z++)y[z][1]=Math.round((y[z][1]==0?16:y[z][1])/f);if(A<1){var _=0,W=[],i=0,h=0;
for(var z=0;z<y.length;++z){_+=y[z][1];if(z>0){W.push(W[W.length-1]+y[z-1][1])}else{W.push(0)}}var Y=A*y.length,G=_/Y,E=[];
for(var z=0;z<Y;++z){var $=0;while(i>W[h]&&h+1<y.length){$+=y[h][1];++h}if($!=0){var C=Math.round(Math.min(1,(W[h]-i)/y[h][1])*$);
E[E.length-1][1]+=$-C;if(y[h][1]<y[h-1][1]/2){E.push(y[h-1])}else{E.push(y[h])}E[E.length-1][1]=y[h][1]+C}else if(h<y.length){E.push(y[h])}i+=G;
++h}while(h<y.length){E[E.length-1][1]+=y[h][1];++h}y=E}if(H)y.reverse();if(p){var B=y.slice(1,y.length-1);
B.reverse();y=y.concat(B)}}l=N.LA(y,T,c,g)}}return l};dp.f4=function(x,R,T,c){var g=c.Cl();if(T){x=x.slice(0);
ICC.U.applyLUT(R[3],R[2],x,x)}else if(g&&c.add.fcmy==1){x=x.slice(0);ICC.U.applyLUT(g[c.add.fcmy==1?5:3],g[2],x,x)}return x};
dp.aae=function(x,R){var T=new Uint8Array(x.data),c=new Uint8Array(R.data),g=0,d=0;for(var U=0;U<T.length;
U+=4){var e=T[U]-c[U],N=T[U+1]-c[U+1],l=T[U+2]-c[U+2],J=T[U+3]-c[U+3],w=e*e+N*N+l*l+J*J>>>2;g+=w;if(w>25)d++}var s=d/x.d8.Z()<1e-4;
return s};dp.oD=function(x,R){var T=R[0].jF&&R[0].jF.startsWith("_a_"),c;if(T&&!1){var g=0,d=R.length;
for(var z=0;z<R.length-1;z++){var U=R[z],e=R[z+1],N=dp.aae(U,e);if(N){var l=parseFloat(U.jF.split(",").pop()),J=parseFloat(e.jF.split(",").pop());
U.jF=U.jF.split(",")[0]+","+Math.round(l+J);R.splice(z+1,1);z--;g++}}if(g!=0){alert("Deleted "+g+" frames out of "+d+".");
for(var z=0;z<R.length;z++){var w=R[z],s=w.jF;w.jF="_a_frm"+z+","+s.split(",")[1]}}}var o=new c9(x+"."+["psd","ai"][b5]),V=new aP(0,0,1,1);
if(T){c=o.CH();c.add.lsct=ew.bZ;c.Je(x);c.mh="pass";c.Yn=24;c.oE(!0);o.R.push(o.Sw())}for(var z=0;z<R.length;
z++){var a=R[z];V=V.y8(a.d8);var O=o.CH();O.oE(z==0);O.Je(R.length==1?"Background":"Layer "+z);if(z==0&&a.De)o.De=a.De;
if(z==0&&a.zw)o.zw=a.zw;if(a.jF)O.Je(a.jF);if(a.e6)for(var z=0;z<a.e6.length;z++){var S=a.e6[z],L=c9.xs(S[0]);
L.add.vmsk.$=S[1];u.j.q0(S[1],new gP(V.m,0,0,V.e,0,0));o.OQ.push(L)}if(a.CR)o.CR=a.CR;O.rect=a.d8.clone();
O.buffer=new Uint8Array(a.data);if(z==0&&a.Ni)o.Wg(a.Ni);u.T_(O);o.R.push(O)}if(T)o.R.push(c);if(R[0].Hp){for(var z=0;
z<R[0].Hp.length;z++){var Q=new F.Wu;o.Hp.push(Q);Q.rect=R[0].d8.clone();Q.channel=R[0].Hp[z]}}o.g=[T?o.R.length-1:0];
o.m=V.m;o.e=V.e;if(b5==0)o.buffer=u.B(V.Z()*4);o.W();return o};dp.HT=function(x,R,T){var c=x.length-T,g=new Uint8Array(c);
for(var z=0;z<R;z++)g[z]=x[z];for(var z=R;z<c;z++)g[z]=x[z+T];return g};dp.ad1=function(x,R,T,c,g,d,U,e,N){var l=new aA(v.E.v,!0);
l.f=D.hG;l.data={d:"h_stepbck"};var J={};for(var w=1;w<T.length;w++){var s=x.g.slice(0),o=dp.B8(x,N,R,T,c,w),V="img"+w,a=T[0].indexOf(U);
if(U!=""){if(a==-1)alert("Column "+U+" not found.");else V=T[w][a]}J[V+"."+g.toLowerCase()]=new Uint8Array(dp.KA(x,g,null,null,d,e));
for(var z=0;z<o;z++)N.c(l)}return UZIP.encode(J)};dp.B8=function(x,R,T,c,g,d){var U=new aA(v.E.P,!0),l=0;
U.data={d:v.H.DQ};var e=new aA(v.E.v,!0);e.f=D.d_;e.data={d:F.p$,V$:{buffer:null,rect:null}};var N=e.data.V$;
for(var J=0;J<T.length;J++){var w=T[J],o=w.trait,V=parseInt(w.docRef.slice(4,-2)),a=-1;for(var z=0;z<x.R.length;
z++)if(x.R[z].add.lyid==V)a=z;if(a==-1)continue;var O=c[0].indexOf(w.varName);if(O==-1){alert("Column "+w.varName+" is missing");
return}var S=c[d][O],L=x.R[a];x.g=[a];if(o=="textcontent"){U.data.FC="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(S)+";";
R.c(U);l++}if(o=="visibility"&&L.Pm()+""!=S.toLowerCase()){S=S.trim().toLowerCase();if(S!="true"&&S!="false")S=S==""?"false":"true";
U.data.FC="app.activeDocument.activeLayer.visible = "+S+";";R.c(U);l++}if(o=="fileref"){var Q=S.split("/").pop(),b=null;
for(var cg in g)if(cg.split("/").pop()==Q)b=g[cg];if(b==null){alert("Image "+Q+" is missing.")}else{var Z=dp.Ix(dp.Xk(b.buffer)).x3(b.buffer)[0],I=Z.d8,y=L.rect,K=0,H=0;
if(L.add.SoLd){var r=D.gW.Yg(L.add.SoLd.nonAffineTransform);y=u.M.CC(r)}var h=y.m/y.e,k=I.m/I.e;if(h>k){H=y.e;
K=~~(H*k)}else{K=y.m;H=~~(K/k)}U.data.FC="app.activeDocument.activeLayer.visible = false;";R.c(U);l++;
var p=D.gW.ug([new Uint8Array(Z.data),I],new gP(K/I.m,0,0,H/I.e,0,0));N.rect=p.rect;N.buffer=p.buffer;
p.rect.x=y.x+(y.m-K>>>1);p.rect.y=y.y+(y.e-H>>>1);R.c(e);l++}}}return l};dp.zl={};dp.zl.LA=function(x,R,T,c){if(c==null)c=[100,!1,0,0,0];
var g={sRGB:1,loop:c[3]};if(x[0][5]!=null){delete g.sRGB;g.iCCP=x[0][5]}if(x[0][2]!=null){var d=Math.round(x[0][2]*(1e4/254));
g.pHYs=[d,d,1]}var U=c[0],e=U==100?0:Math.max(2,Math.floor(U*5));if(e==5)e=4;var N=[],l=[];for(var z=0;
z<x.length;z++){N.push(x[z][0]);l.push(x[z][1])}var J=UPNG.encode(N,R,T,e,l,g,c[1]);return J};dp.zl.aAM=function(x,R,T){return UPNG.encodeLL([x],R,T,3,1,8)};
dp.zl.x3=function(x){var R=Date.now(),T=UPNG.decode(x),c=UPNG.toRGBA8(T),g=T.width,d=T.height,U=0,e=T.tabs.iCCP;
if(T.tabs.pHYs)U=Math.round(T.tabs.pHYs[0]*254/1e4);if(c.length==1)return[{d8:new aP(0,0,g,d),data:c[0],De:U,Ni:e}];
var N=[];for(var z=0;z<c.length;z++){N.push({jF:"_a_frm"+z+","+T.frames[z].delay,d8:new aP(0,0,g,d),data:c[z],De:U,Ni:e})}return N};
dp.pr={};dp.pr.LA=function(x,R,T,c){var g=new Uint8Array(x[0][0]),d=R*T,U=d*3,e="P6\n"+R+" "+T+"\n255\n",N=e.length,l=u.B(N+U,!0);
for(var z=0;z<N;z++)l[z]=e.charCodeAt(z);for(var z=0;z<d;z++){var J=z*4,w=z*3+N;l[w]=g[J];l[w+1]=g[J+1];
l[w+2]=g[J+2]}return l.buffer};dp.pr.x3=function(x){x=new Uint8Array(x);var R=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],T=0,c=String.fromCharCode(x[0])+String.fromCharCode(x[1]),g=[],d=0,U=c=="P1"||c=="P4"?2:3;
for(T=2;T<x.length;T++){var e=x[T],N=String.fromCharCode(e);if(e=="#".charCodeAt(0)){while(x[T]!="\n".charCodeAt(0))T++;
continue}var l=R.indexOf(e)!=-1;if(d==0&&!l){g.push(N);d=1;continue}if(d==1&&!l){g[g.length-1]+=N;continue}if(d==1&&l){d=0;
if(g.length==U)break;continue}}var J=parseInt(g[0]),w=parseInt(g[1]),s=J*w*4,o=c=="P1"||c=="P4"?1:255/parseInt(g[2]),V=u.B(s);
if(c=="P1"||c=="P2"||c=="P3"){var a="",O=0,d=0,S="#".charCodeAt(0);for(var z=T;z<x.length;z++){var e=x[z],N=String.fromCharCode(e),l=R.indexOf(e)!=-1;
if(e==S){while(x[z]!="\n".charCodeAt(0))z++}else if(d==0&&!l){a=N;d=1}else if(d==1){if(l){d=0;var L=parseInt(a);
a="";if(c=="P1"){V[O]=V[O+1]=V[O+2]=(1-L)*255;V[O+3]=255;O+=4}if(c=="P2"){V[O]=V[O+1]=V[O+2]=Math.round(L*o);
V[O+3]=255;O+=4}if(c=="P3"){V[O]=Math.round(L*o);O++;if((O&3)==3){V[O]=255;O++}}}else a+=N}}}var Q=J*w;
if(c=="P4")for(var b=0;b<w;b++){var Z=b*8*Math.ceil(J/8);for(var I=0;I<J;I++){var z=Z+I,y=x[T+1+(z>>3)];
y=y>>7-(z&7)&1;var r=b*J+I<<2;V[r]=V[r+1]=V[r+2]=(1-y)*255;V[r+3]=255}}if(c=="P5")for(var z=0;z<Q;z++){var r=4*z;
V[r]=V[r+1]=V[r+2]=Math.round(x[T+1+z]*o);V[r+3]=255}if(c=="P6")for(var z=0;z<Q;z++){var r=4*z,h=T+1+3*z;
V[r]=Math.round(x[h]*o);V[r+1]=Math.round(x[h+1]*o);V[r+2]=Math.round(x[h+2]*o);V[r+3]=255}return[{d8:new aP(0,0,J,w),data:V.buffer}]};
dp.sf={};dp.sf.LA=function(x,R,T,c){if(c==null)c=[0,!0];if(typeof c[0]=="boolean")c[0]=0;var g=new Uint8Array(x[0][0]);
if(!u.PN(g)&&x[0][4]){g=g.slice(0);u.rN(x[0][4][0],g,3)}var d=R&3,U=T&3;if(d!=0||U!=0){var e=R+(d==0?0:4-d),N=T+(U==0?0:4-U),l=new Uint8Array(e*N*4);
u.Qu(l,4278190080);u.yU(g,new aP(0,0,R,T),l,new aP(0,0,e,N));g=l;R=e;T=N}var J=UTEX.DDS.encode(g.buffer,R,T,c);
if(!1){var w=UTEX.DDS.decode(J)[0],l=new Uint8Array(w.Zn),s=0;for(var z=0;z<g.length;z++){var V=g[z]-l[z];
s+=V*V}console.log(s)}return J};dp.sf.x3=function(x){var R=UTEX.DDS.decode(x)[0];return[{d8:new aP(0,0,R.width,R.height),data:R.image}]};
dp.Qc={};dp.Qc.x3=function(x){var R=UTEX.VTF.decode(x).pop();return[{d8:new aP(0,0,R.width,R.height),data:R.image}]};
dp.hI={};dp.hI.O1=null;dp.hI.aeP=function(x,R){var T=dp.hI.O1,c=x.byteLength,g=R.width,d=R.height,U=g*d,e=5e6+2*c+U*(R.progressive?Math.max(2,R.numComponents)*4+1:8),N=T.instance.exports;
dp.Pd(N,e);var l=new Uint8Array(N.memory.buffer),J=N.malloc(c);l.set(new Uint8Array(x),J);var w=N.malloc(4),s=N.malloc(4),cg=N.malloc(4),o=N.stbi_load_from_memory(J,c,w,s,cg,4);
N.free(J);N.free(w,s,cg);N.free(o);var V=l.slice(o,o+U*4);return V};(function(){var x=dp.wz.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(x).then(function(R){dp.hI.O1=R})}());dp.hI.LA=function(x,R,T,c){if(c==null)c=[85];
var g=x[0],d=new Uint8Array(g[0]);if(u.PN(d)){var U=new Uint8Array(d.length),e=new aP(0,0,R,T);u.Qu(U,4294967295);
u.l.Hy("norm",d,e,U,e,e,1);d=U}var N=new Uint8Array(dp.lQ(d.buffer,R,T,"jpeg",c[0]/100));if(N.length<2e4&&g[5]==null){var l=n.KZ(N,[255,226]);
if(l!=-1){var J=n.wh(N,l+2);console.log(l,J);N=dp.HT(N,l,J+2)}}if(g[5]!=null){var w=dp.hI.N8(N)[226][0]+2,s=n.wh(N,w),o=g[5].length+16,V=o-s,a=new Uint8Array(N.length+V);
for(var z=0;z<w+s;z++)a[z]=N[z];for(var z=w+s;z<N.length;z++)a[z+V]=N[z];n.$R(a,w,o);a.set(g[5],w+16);
N=a}if(g[2]!=null){var O=dp.hI.N8(N)[224][0]+2;O+=9;N[O]=1;n.$R(N,O+1,g[2]);n.$R(N,O+3,g[2])}if(g[3]!=null&&c[1]==!0&&Object.keys(g[3]).length!=0){var S=0,L=0,Q=0,b=aZ.lM(g[3]),Z=new Uint8Array(UTIF.encode([b])),I="http://ns.adobe.com/xap/1.0/",w=20;
S=4+6+Z.length;var y=aZ.ca(g[3]),r=n.SF(y);L=4+I.length+1+r.length;var h=aZ.aCD(g[3]);if(h.length!=0){var k=0,p=0;
for(var z=0;z<h.length;z++)k+=5+h[z][1].length;var K=k+(k&1),H=u.B(14+4+4+4+K);n.vW(H,p,"Photoshop 3.0");
p+=14;n.vW(H,p,"8BIM");p+=4;H[p++]=4;H[p++]=4;p+=2;n.W_(H,p,k);p+=4;for(var z=0;z<h.length;z++){var f=h[z],A=f[1];
H[p++]=28;H[p++]=2;H[p++]=f[0];n.$R(H,p,A.length);p+=2;n.vW(H,p,A);p+=A.length}Q=4+H.length}var _=S+L+Q,W=new Uint8Array(N.length+_);
for(var z=0;z<20;z++)W[z]=N[z];for(var z=20;z<N.length;z++)W[z+_]=N[z];W[w]=255;W[w+1]=225;n.$R(W,w+2,S-2);
n.vW(W,w+4,"Exif");for(var z=0;z<Z.length;z++)W[w+10+z]=Z[z];w+=S;W[w]=255;W[w+1]=225;n.$R(W,w+2,L-2);
n.vW(W,w+4,I);for(var z=0;z<r.length;z++)W[w+4+I.length+1+z]=r[z];w+=L;if(Q!=0){W[w]=255;W[w+1]=237;
n.$R(W,w+2,Q-2);for(var z=0;z<H.length;z++)W[w+4+z]=H[z];w+=Q}N=W}return N.buffer};dp.hI.N8=function(x){var R=0,T=[],c=x.length;
while(R<c){while(x[R]!=255&&R<c)R++;while(x[R]==255)R++;if(R==c)break;var g=x[R];R++;if(T[g]==null)T[g]=[];
T[g].push(R-2);if(g==216)continue;if(g==217)break;if(224<=g&&g<=239||g==218||g==219||g==192||g==193||g==194||g==196||g==221||g==254){var d=n.wh(x,R);
R+=d;if(g==218)while(R<c&&(x[R]!=255||(x[R+1]==0||208<=x[R+1]&&x[R+1]<=215)))R++;continue}console.log("unknown marker ",g.toString(16),R);
break}if(T[217]==null){console.log("EOI marker missing");var U=x.length-2;x[U]=255;x[U+1]=217;T[217]=[U]}return T};
dp.hI.ajO=function(x){x=new Uint8Array(x);if(x[0]!=255)return x.buffer;var R=dp.hI.N8(x),T=dp.hI.G$(x,R);
if(T.numComponents!=4)return x.buffer;var c=T.width,g=T.height,d=dp.hI.eG(x,R,!0);return dp.hI.LA([[d[0].data]],c,g,[85])};
dp.hI.G$=function(x,R){var T=(R[192]?R[192]:R[193]?R[193]:R[194])[0]+4,c={};c.progressive=R[194]!=null;
c.precision=x[T];T++;c.height=n.wh(x,T);T+=2;c.width=n.wh(x,T);T+=2;c.numComponents=x[T];T++;if(R[224]){var g=c.jfif={};
T=R[224][0]+2+2+5+2;g.densityUnits=x[T];T++;g.xDensity=n.wh(x,T);T+=2;g.yDensity=n.wh(x,T);T+=2}if(R[238]){var g=c.adobe={};
T=R[238][0]+2+2+6;g.version=x[T];T++;g.flags0=n.wh(x,T);T+=2;g.flags1=n.wh(x,T);T+=2;g.transform=x[T];
T++}return c};dp.hI.aa4=function(x,R,T){var c=R,g=n.wh(x,c);c+=2;var d=n.zQ(x,c,4);if(d=="Exif"){c+=6;
var U=x.slice(c,c+g-8),e;try{e=UTIF.decode(U.buffer,{parseMN:!1,debug:!1})}catch(i3){}if(e&&e.length!=0)T.exif=e}else if(d=="http"){var N=0;
while(x[c+N]!=0)N++;var l=n.zQ(x,c,N);c+=N+1;if(l=="http://ns.adobe.com/xmp/extension/"){var J=n.zQ(x,c,32);
c+=32;c+=8;var w=R+g-c;while(x[c+w-1]==0)w--;if(T.xmp_extn==null)T.xmp_extn="";try{T.xmp_extn+=n.KW(x,c,w)}catch(i3){}}else if(l=="http://ns.adobe.com/xap/1.0/"){var s=n.KW(x.slice(c,c+g-N-3));
if(s[0]=="?")s="<"+s;T.xmp=s}}else console.log(d)};dp.hI.eG=function(x,R,T){var c=dp.hI.G$(x,R),g=c.width,d=c.height,U=g*d,e,N=-1,b=72,Z,y,r=null;
if(c.adobe)N=c.adobe.transform;if(T||g*d>15e7||N==0||N==2||c.progressive){var l=new PDFJS.JpegImage;
l.parse(x);var J=l.getData({width:g,height:d,forceRGB:!0,isSourcePDF:T}),e=u.B(U*4);for(var z=0;z<U;
z++){var w=z<<2,s=w-z;e[w]=J[s];e[w+1]=J[s+1];e[w+2]=J[s+2];e[w+3]=255}}else{e=dp.hI.aeP(x.buffer,c)}var o=R[225];
if(o)for(var z=0;z<o.length;z++)dp.hI.aa4(x,o[z]+2,c);var V=R[226];if(V){var a=V[0],O=n.wh(x,a+2),S=n.zQ(x,a+4,11);
if(S=="ICC_PROFILE"){var L=n.s(x,a+18);c.icc=x.slice(a+18,a+18+L)}}var Q=R[217][0]+2;if(Q!=x.length)c.suffix=x.slice(Q);
var I=[g,d,1,0,0,0,1,0];if(c.jfif&&c.jfif.densityUnits!=0){b=Math.round([72,1,2.54][c.jfif.densityUnits]*c.jfif.xDensity)}else if(c.exif&&c.exif[0].t282!=null){var h=c.exif[0].t282[0];
b=h[0]/h[1]}if(c.exif){var k=c.exif;Z=aZ.rM(k[0]);var K=k[0].t274;if(K)K=K[0];if(K!=null&&K>1&&K<20)I=u.raw.avJ(K,g,d)}if(c.xmp){Z=aZ.Ac(c.xmp,Z)}if(c.icc)y=c.icc;
var H=R[237],p=[],f=[];if(H){var A=new Uint8Array(65536),_=0,a=0;for(var z=0;z<H.length;z++){a=H[z]+2;
var W=a+n.wh(x,a);a+=2;var Y=a;while(x[a]!=0)a++;a++;var G=n.zQ(x,Y,a-Y-1),i=W-a;if(i<0)break;while(_+i>A.length){var E=new Uint8Array(A.length*2);
E.set(A);A=E}var $=new Uint8Array(x.buffer,a,i);A.set($,_);_+=i}a=0;x=A;while(a<_){var C=n.zQ(x,a,4);
a+=4;var B=n.wh(x,a);a+=2;var M=x[a++],j=n.zQ(x,a,M);a+=M;if((M&1)==0)a++;var O=n.s(x,a);a+=4;var Q=a+O+(O&1);
if(B==1028){while(a+4<Q){var P=x[a++],t=x[a++],q=x[a++],m=n.wh(x,a);a+=2;if(P==28&&t==2)p.push([q,n.zQ(x,a,m)]);
a+=m}}else if(B==1032)r=da.aAH(x,a);else if((B&2e3)==2e3){var iE=bD.Lt(x,a,O);f.push([j,iE])}else{}a=Q}if(p.length!=0)Z=aZ.awM(p,Z)}var hV=[{d8:new aP(0,0,g,d),data:e.buffer,De:b,zw:Z,Ni:y,e6:f.length==0?null:f,CR:r}],Z=c.xmp_extn;
if(Z){var dD=new DOMParser,bh=dD.parseFromString(Z,"image/svg+xml"),bh=bh.children[0].children[0].children[0],ho=[bh.getAttribute("GImage:Data"),bh.getAttribute("GDepth:Data")];
for(var z=0;z<ho.length;z++)if(ho[z]){var aH=atob(ho[z]),f2=new Uint8Array(aH.length);n.vW(f2,0,aH);
f2=f2.buffer;var e9=dp.Xk(f2),kB=dp.Ix(e9).x3(f2);hV.push(kB[0])}}if(c.suffix){var ct=c.suffix,jF=!1,fj=n.zQ(ct,4,4),ab=n.KZ(ct,[255,216,255]);
if(dp.EV(ct,[0,0,1,10,14,0,0,0])){if(jF)console.log("Samsung");var a=0;while(a!=ct.length){var iw=n.zY(ct,a+2);
a+=4;var jD={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[iw];if(jD!=null){var a1=n.pJ(ct,a);a+=4;
var gd=n.zQ(ct,a,a1);a+=a1;var i6=n.zQ(ct,a,jD);a+=jD;if(iw==2608){var hv=a,hO=n.s(ct,a+24);a+=hO+24;
var jh=n.s(ct,a);a+=jh;var aJ=ct.slice(hv,a);dp.hI.qk(aJ)}}else if(iw==18502){while(n.zQ(ct,a,4)!="SEFT")a+=4;
a+=4}else{break;console.log(n.lm(ct,a,128));console.log(ct.slice(a));throw iw.toString(16)}}}else if(fj=="ftyp"){if(jF)console.log("MP4 Video");
dp.hI.qk(ct)}else if(n.zQ(ct,0,4)=="fixe"){if(jF)console.log("fixe");alert("Unknown data - "+ct.length+" B - at the end of the file",3e3);
var a=4,O=n.pJ(ct,a);a+=4;var hS=n.pJ(ct,a);a+=4;var iO=n.pJ(ct,a);a+=4;console.log(O,hS,iO,ct.slice(a,a+84));
a+=84;var g$=n.zQ(ct,a,32);a+=32;a+=8;var g$=n.zQ(ct,a,32);a+=32}else if(n.zQ(ct,8,13)=="FocusShot_Map"){if(jF)console.log("FocusShot_Map");
var bF=n.s(ct,0),m=n.pJ(ct,4),f2=u.B(U*4),hy=u.B(U*4);for(var fg=0;fg<d;fg++)for(var hL=0;hL<g;hL++){var z=fg*g+hL,w=z<<2,dn=8+13+((fg>>>1)*g+hL>>>1),c5=ct[dn],at=ct[dn+(U>>>2)];
f2[w]=f2[w+1]=f2[w+2]=c5;f2[w+3]=255;hy[w]=hy[w+1]=hy[w+2]=at;hy[w+3]=255}hV.push({d8:new aP(0,0,g,d),data:f2.buffer},{d8:new aP(0,0,g,d),data:hy.buffer})}else if(fj=="edof"){if(jF)console.log("edof");
var K=ct[8+7];console.log(K.toString(16));var a=8+16,gt=n.zY(ct,a),iK=n.zY(ct,a+2),U=gt*iK;a+=4;a+=32+16;
var iz=u.B(U*4);for(var z=0;z<U;z++){var w=z<<2;iz[w]=iz[w+1]=iz[w+2]=ct[a+z];iz[w+3]=255}if(K==16){}else if(K==19){var gI=iz.slice(0);
u.D.xZ(iz,gI,gt,iK);var ce=gt;gt=iK;iK=ce;u.D.Ke(gI,iz,gt,iK)}else throw"Unknown orientation of a depth map";
hV.push({d8:new aP(0,0,gt,iK),data:iz.buffer})}else if(ab!=-1&&!(ct[0]==255&&ct[1]==129)){if(jF)console.log("another JPG at",ab);
if(ab>100&&n.zQ(ct,0,64).indexOf("DualShot")!=-1){var b7=n.pJ,br=n.zQ,kg=n.zY,a=0;function bM(){var jJ=b7(ct,a);
if(b7(ct,a+4)!=0)throw"e";a+=8;return jJ}var eQ=n.s(ct,a);a+=4;try{if(eQ==45066){a=1226;var g=bM(),d=bM();
a=3445}else if(eQ==45322){var eT=b7(ct,a);a+=4;var g$=br(ct,a,eT);a+=eT;if(g$!="DualShot_DepthMap_1")throw g$;
g=1008;d=756}else throw eQ;var b6=u.B(g*d*4);b6.fill(255);u.Oj(ct.slice(a,a+g*d),b6);hV.push({d8:new aP(0,0,g,d),data:b6.buffer})}catch(i3){console.log("error reading a depth map")}}try{if(ab!=0)ct=ct.slice(ab);
var kB=dp.Ix("jpg").x3(ct.buffer);for(var z=0;z<kB.length;z++)hV.push(kB[z])}catch(i3){}}else if(n.zQ(ct,0,4)=="PMPD"){if(jF)console.log("Xiaomi stuff");
var a=4,hx=n.pJ(ct,12),io=n.pJ(ct,16),gt=n.pJ(ct,1060),iK=n.pJ(ct,1064),jm=gt>iK,bq=hV[0].d8.m>hV[0].d8.e,gO=ct.slice(ct.length-gt*iK-4),ae=u.B(gt*iK);
for(var fg=0;fg<iK;fg++)for(var hL=0;hL<gt;hL++)ae[fg*gt+hL]=gO[(iK-fg-1)*gt+hL];var b6=u.B(gt*iK*4);
b6.fill(255);u.Oj(ae,b6);if(jm!=bq){var gI=b6.slice(0);u.D.xZ(b6,gI,gt,iK);var ce=gt;gt=iK;iK=ce;u.D.Ke(gI,b6,gt,iK)}hV.push({d8:new aP(0,0,gt,iK),data:b6.buffer})}else console.log(n.zQ(ct,0,4),ct)}if(hV.length>1){var dl=hV[0].d8,e6=!1,dJ=!0;
hV[0].jF="Main";var eF=[!1];for(var z=1;z<hV.length;z++){eF[z]=dp.hI.akT(new Uint8Array(hV[z].data));
if(eF[z])e6=!0;if(!hV[z].d8.X$(hV[0].d8))dJ=!1}if(!e6&&!dJ)hV=hV.slice(0,1);else for(var z=1;z<hV.length;
z++){hV[z].jF=eF[z]?"Depth Map":null;var d2=hV[z].d8;if(!d2.X$(dl)){var gQ=dl.m/d2.m,a6=dl.e/d2.e,h6=new gP;
h6.scale(gQ,a6);var cU=D.gW.W8([new Uint8Array(hV[z].data),d2],1,u.D.bY(h6));hV[z].d8=cU.rect;hV[z].data=cU.buffer}}}if(dp.hI.qw==1)if(I[2]!=1||I[6]!=1)for(var z=0;
z<hV.length;z++){var jv=hV[z],de=new Uint8Array(jv.data),g=jv.d8.m,d=jv.d8.e,gt=I[0],iK=I[1],e=u.B(gt*iK*4);
u.D.D1(de,g,d,e,I);jv.d8=new aP(0,0,gt,iK);jv.data=e.buffer}return hV};dp.hI.qk=function(x){if(window.confirm("Photopea found a "+dO.uE(x.length)+" MP4 video inside your image. Would you like to save it?",4e3)){hG.save(x.slice(0).buffer,"video.mp4")}};
dp.hI.akT=function(x){var R=!0;for(var z=0;z<x.length;z+=4){R=R&&x[z]==x[z+1]&&x[z+1]==x[z+2]}return R};
dp.hI.qw=0;dp.hI.x3=function(x,R,T){x=new Uint8Array(x);if(x[0]==255){var c=dp.hI.N8(x);if(c[195]==null){dp.hI.qw++;
var g=dp.hI.eG(x,c,!1);dp.hI.qw--;return g}var d=n.wh(x,c[195][0]+5),U=n.wh(x,c[195][0]+7),e=UTIF.LosslessJpegDecode(x),N=U*d,l=u.B(N*4);
for(var z=0;z<N;z++){var J=z<<2,w=J-z;l[J]=e[w];l[J+1]=e[w+1];l[J+2]=e[w+2];l[J+3]=255}return[{d8:new aP(0,0,U,d),data:l.buffer}]}else if(x[0]==0&&x[4]==48&&x[6]==1){var s=x,o=new PDFJS.Jbig2Image,V=[];
if(R)V.push({data:R,start:0,end:R.length});V.push({data:s,start:0,end:s.length});var e=o.parseChunks(V);
if(!T)for(var z=0;z<e.length;z++)e[z]=~e[z];var U=n.s(x,11),d=n.s(x,15),a=Math.ceil(U/8),O=u.B(U*d*4);
for(var S=0;S<d;S++){var L=S*a;for(var Q=0;Q<U;Q++){var J=(S*U+Q)*4,b=e[L+(Q>>>3)]>>>7-(Q&7)&1,Z=b*255;
O[J]=Z;O[J+1]=Z;O[J+2]=Z;O[J+3]=255}}return[{d8:new aP(0,0,U,d),data:O.buffer}]}else{var o=new PDFJS.JpxImage;
o.parse(x);var U=o.width,d=o.height,I=o.tiles,y=o.componentsCount,r=new Uint8Array(U*d*4),h=new aP(0,0,U,d);
for(var o=0;o<I.length;o++){var k=I[o],K=k.width,H=k.height,p=K*H,f=k.items,A=new aP(k.left,k.top,K,H),_=new Uint8Array(p*4);
if(y==1)for(var z=0;z<p;z++){var W=f[z],J=z*4;_[J]=W;_[J+1]=W;_[J+2]=W;_[J+3]=255}else if(y==3)for(var z=0;
z<p;z++){var w=z*3,J=z*4;_[J]=f[w];_[J+1]=f[w+1];_[J+2]=f[w+2];_[J+3]=255}else if(y==4)_.set(f);else console.log("Unknown number of components: "+y);
u.yU(_,A,r,h)}return[{d8:h,data:r.buffer}]}};dp.TL={};dp.TL.LA=function(x,R,T,c){if(c==null)c=[70,!1,0,0,0];
var g=c[0]/100,a=0;if(x.length==1){var d=new Uint8Array(dp.lQ(x[0][0],R,T,"webp",g));if(d.length<2e4){var U=fM.eE(d.buffer),e=U.sub;
for(var z=0;z<e.length;z++)if(e[z].E5=="ICCP"){var N=e[z];d=dp.HT(d,N.w-8,N.size+8);n.ml(d,4,U.size-(N.size+8));
break}}if(c[1]&&x[0][3]){var U=fM.eE(d.buffer),e=U.sub,l=e[0].w+e[0].size,J=x[0][3],w=new Uint8Array(UTIF.encode([aZ.lM(J)])),s=new Uint8Array(6+w.length);
n.vW(s,0,"Exif\0\0");s.set(w,6);var o=n.SF(aZ.ca(J)),V=new Uint8Array(16+s.length+o.length);n.vW(V,0,"EXIF");
n.ml(V,4,s.length);V.set(s,8);var a=8+s.length;n.vW(V,a,"XMP\0");n.ml(V,a+4,o.length);V.set(o,a+8);var O=new Uint8Array(d.length+V.length);
O.set(new Uint8Array(d.buffer,0,l),0);O.set(V,l);O.set(new Uint8Array(d.buffer,l),l+V.length);d=O;n.ml(d,4,n.pJ(d,4)+V.length)}return d.buffer}var S=n._a,L=n.yo,Q=new kE;
S(Q,a,"RIFF    WEBPVP8X");a+=16;L(Q,a,10);a+=4;L(Q,a,18);a+=4;L(Q,a,R-1);a+=3;L(Q,a,T-1);a+=3;S(Q,a,"ANIM");
a+=4;L(Q,a,6);a+=4;Q.sL(a,4);Q.data[a+3]=255;n.lr(Q,a+4,c[3]);a+=6;var b=[];for(var z=0;z<x.length;z++){b.push(x[z][0])}var Z=UPNG.encode.compress(b,R,T,g==1?0:Math.max(2,Math.floor(g*500)),[!1,!0,!0,0,!0]).frames;
function I(U,Y,G,i){var p=U.w-8,f=U.size+8;G.sL(i,f);for(var z=0;z<f;z++)G.data[i+z]=Y[p+z];return i+f}for(var z=0;
z<x.length;z++){S(Q,a,"ANMF");a+=4;var y=a,p=0,f=0;a+=4;var r=Z[z],h=r.rect,k=[h.x>>>1,h.y>>>1,h.width-1,h.height-1,x[z][1]];
for(var K=0;K<5;K++)L(Q,a+3*K,k[K]);a+=15;Q.sL(a,1);Q.data[a]=1-r.blend<<1|r.dispose;a++;var H=new Uint8Array(dp.lQ(r.img.buffer,h.width,h.height,"webp",1)),e=fM.eE(H.buffer).sub,A={};
for(var _=0;_<e.length;_++)A[e[_].E5]=e[_];if(A.VP8L)a=I(A.VP8L,H,Q,a);else throw"e";var W=a-y-4;L(Q,y,W);
if((W&1)==1){Q.sL(a,1);a++}}L(Q,4,a-8);return Q.data.slice(0,a).buffer};(function(){var x=dp.wz.get("wasm/webp").buffer;
WebAssembly.instantiate(x).then(function(R){var T=R.instance.exports;dp.TL.exp=T})}());dp.TL.x3=function(x){var R=new Uint8Array(x),T=dp.TL.a6W,c=null,g=fM.eE(x).sub,d={},U=null;
for(var z=0;z<g.length;z++)d[g[z].E5]=g[z];if(d.EXIF){var e=d.EXIF,N=new Uint8Array(x,e.w+6,e.size-6);
U=aZ.rM(UTIF.decode(N)[0])}if(d["XMP\0"]){var e=d["XMP\0"],N=new Uint8Array(x,e.w,e.size);if(U==null)U={};
U=aZ.Ac(n.KW(N),U)}var l=d.ANIM,J=d.VP8L,w=d["VP8 "],s=d.VP8X;if(l==null){var o,a;if(w){o=n.zY(R,w.w+6);
a=n.zY(R,w.w+8)}else if(J){var O=n.pJ(R,J.w+1);o=(O&(1<<14)-1)+1;a=(O>>>14&(1<<14)-1)+1}else throw"e";
var S=T(c,x,{w:0,size:R.length},o,a);S.zw=U;return[S]}var L=s.w,o=1+(n.pJ(R,L+4)&16777215),a=1+(n.pJ(R,L+7)&16777215),Q=[],b=new aP(0,0,o,a),Z=u.B(o*a*4);
for(var z=0;z<g.length;z++){var I=g[z];if(I.E5!="ANMF")continue;var y=[];for(var r=0;r<5;r++)y.push(n.pJ(R,I.w+r*3)&16777215);
var h=new aP(y[0]*2,y[1]*2,y[2]+1,y[3]+1),k=y[4],K=T(c,x,{w:I.w+16,size:I.size-16},o,a),H=new Uint8Array(K.data),p=R[I.w+15];
if(p>>>1==0)u.l.Hy("norm",H,h,Z,b,h,1);else u.yU(H,h,Z,b);Q.push({jF:"_a_"+Q.length+","+k,d8:b.clone(),data:Z.buffer.slice(0)});
if((p&1)==1){u.Qu(H,0);u.yU(H,h,Z,b)}}return Q};dp.TL.a6W=function(x,R,T,c,g){var d=dp.TL.exp,U=d.memory,e=5e6+2*T.size+c*g*10;
dp.Pd(d,e);var N=new Uint8Array(U.buffer),l=d.malloc(T.size);N.set(new Uint8Array(R,T.w,T.size),l);var J=d.malloc(8),w=d.WebPDecodeARGB(l,T.size,J,J+4),s=n.pJ(N,J),o=n.pJ(N,J+4),V=s*o*4,a=u.B(V);
for(var z=0;z<V;z+=4){a[z]=N[w+z+1];a[z+1]=N[w+z+2];a[z+2]=N[w+z+3];a[z+3]=N[w+z]}d.WebPFree(w);d.free(J);
d.free(l);return{d8:new aP(0,0,s,o),data:a.buffer}};dp.a8$=function(){function x(e,N,l,J){var w=new Uint8Array(e[0][0]),s=new Uint32Array(w.buffer),o=[],V={},O=24,S=0,I=0;
for(var z=0;z<s.length;z++){var a=s[z]&16777215;if(V[a]==null){V[a]=o.length;o.push(a);if(o.length>256){o=null;
break}}}if(J&&J[0])o=null;if(o){O=1;while(1<<O<o.length)O*=2;if(O==2)O=4}var L={KQ:N,kh:l,aA:1,zZ:O,Im:0,aB5:S},Q=4*Math.floor((L.zZ*L.KQ+31)/32);
L.size=Q*L.kh+2;var b=new kE,Z=o?(1<<O)*4:0;n._a(b,I,"BM");I+=2;n.yo(b,I,Q*l+16+40+Z);I+=4;n.yo(b,I,0);
I+=4;n.yo(b,I,54+Z);I+=4;b.sL(I,40);n.yo(b,I,40);I+=4;U(b.data,I,L,Q);I+=36;if(o){b.sL(I,Z);var y=b.data;
for(var z=0;z<o.length;z++){var r=I+z*4,h=o[z]>>>16,k=o[z]>>>8&255,K=o[z]&255;y[r]=h;y[r+1]=k;y[r+2]=K}I+=Z}b.sL(I,Q*l);
if(O==24)for(var H=0;H<l;H++){var p=I+(l-1-H)*Q;for(var f=0;f<N;f++){var A=(H*N+f)*4;b.data[p+f*3+2]=w[A];
b.data[p+f*3+1]=w[A+1];b.data[p+f*3+0]=w[A+2]}}else if(O==8)for(var H=0;H<l;H++){var p=I+(l-1-H)*Q;for(var f=0;
f<N;f++){var A=H*N+f,_=V[s[A]&16777215];b.data[p+f]|=_}}else if(O==4)for(var H=0;H<l;H++){var p=I+(l-1-H)*Q;
for(var f=0;f<N;f++){var A=H*N+f,_=V[s[A]&16777215];b.data[p+(f>>>1)]|=_<<4-(f&1)*4}}else if(O==1)for(var H=0;
H<l;H++){var p=I+(l-1-H)*Q;for(var f=0;f<N;f++){var A=H*N+f,_=V[s[A]&16777215];b.data[p+(f>>>3)]|=_<<7-(f&7)}}I+=Q*l+2;
return b.data.slice(0,I).buffer}function R(e){e=new Uint8Array(e);if(n.pJ(e,0)==40)return[T(e.buffer,0)];
var N=0,l=n.zQ(e,N,2);N+=2;if(l!="BM"){alert("Unsupported BMP format: "+l);return}var J=n.pJ(e,N);N+=4;
N+=4;var w=n.pJ(e,N);N+=4;return[T(e.buffer,N,w)]}function T(e,N,l){e=new Uint8Array(e);var J=n.pJ(e,N),w=d(e,N+4);
if(w.aA!=1)alert("unsupported number of color planes: "+w.aA);if(w.Im!=0&&w.Im!=1&&w.Im!=2&&w.Im!=3){alert("Unsupported BMP compression: "+w.Im);
return}N+=J;var s=N,o=e;if(l==null)l=N;if(w.Im==1||w.Im==2){var V=g(e,l,w);w.zZ=8;e=V;l=0}var a=4*Math.floor((w.zZ*w.KQ+31)/32),O=w.KQ,S=Math.abs(w.kh),L=new Uint8Array(O*S*4);
L.fill(255);if(w.zZ==32)for(var Q=0;Q<S;Q++){var b=l+(S-1-Q)*a;for(var Z=0;Z<O;Z++){var I=(Q*O+Z)*4;
L[I]=e[b+Z*4+2];L[I+1]=e[b+Z*4+1];L[I+2]=e[b+Z*4+0];L[I+3]=e[b+Z*4+3]}}else if(w.zZ==24)for(var Q=0;
Q<S;Q++){var b=l+(S-1-Q)*a;for(var Z=0;Z<O;Z++){var I=(Q*O+Z)*4;L[I]=e[b+Z*3+2];L[I+1]=e[b+Z*3+1];L[I+2]=e[b+Z*3+0]}}else if(w.zZ==16)for(var Q=0;
Q<S;Q++){var b=l+(S-1-Q)*a;for(var Z=0;Z<O;Z++){var I=(Q*O+Z)*4,y=e[b+Z*2+1]<<8|e[b+Z*2];L[I]=(y>>>11)*(255/31);
L[I+1]=(y>>>5&63)*(255/63);L[I+2]=(y&31)*(255/31)}}else if(w.zZ==8)for(var Q=0;Q<S;Q++){var b=l+(S-1-Q)*a;
for(var Z=0;Z<O;Z++){var I=(Q*O+Z)*4,r=e[b+Z];L[I]=o[s+4*r+2];L[I+1]=o[s+4*r+1];L[I+2]=o[s+4*r+0]}}else if(w.zZ==4)for(var Q=0;
Q<S;Q++){var b=l+(S-1-Q)*a;for(var Z=0;Z<O;Z++){var I=(Q*O+Z)*4,r=e[b+(Z>>1)];r=r>>4-4*(Z&1);r=r&15;
L[I]=o[s+4*r+2];L[I+1]=o[s+4*r+1];L[I+2]=o[s+4*r+0]}}else if(w.zZ==1)for(var Q=0;Q<S;Q++){var b=l+(S-1-Q)*a;
for(var Z=0;Z<O;Z++){var I=(Q*O+Z)*4,h=e[b+(Z>>3)];h=h>>7-(Z&7);h=h&1;L[I]=o[s+4*h+2];L[I+1]=o[s+4*h+1];
L[I+2]=o[s+4*h+0]}}else throw"Unknown bit depth "+w.zZ;if(w.kh<0){var k=new Uint32Array(L.buffer),K=S>>>1;
for(var Q=0;Q<K;Q++){var H=Q*O,p=(S-Q-1)*O;for(var Z=0;Z<O;Z++){var f=k[H+Z];k[H+Z]=k[p+Z];k[p+Z]=f}}}return{d8:new aP(0,0,O,S),data:L.buffer}}function c(e,z){return e>>>4-((z&1)<<2)&15}function g(e,N,l){var J=l.KQ,w=Math.abs(l.kh),s=new Uint8Array(J*w),o=0,V=0,z=0;
while(V<w){var a=e[N++],O=e[N++],S=V*J+o;if(a>0){if(l.zZ==4)for(z=0;z<a;z++){s[S+z]=c(O,z)}else for(z=0;
z<a;z++){s[S+z]=O}o+=a}else if(a==0&&O==0){V++;o=0}else if(a==0&&O==1){break}else if(a==0&&O==2){o+=e[N++];
V+=e[N++]}else{var L=O;if(l.zZ==4){for(z=0;z<O;z++){s[S+z]=c(e[N+(z>>>1)],z)}L=Math.ceil(O/2)}else{for(z=0;
z<O;z++){s[S+z]=e[N+z]}}if((L&1)!=0)L++;N+=L;o+=O}}return s}function d(e,N){var l=n.LZ,J=n.pJ,w=n.zY,s={};
s.KQ=l(e,N);N+=4;s.kh=l(e,N);N+=4;s.aA=w(e,N);N+=2;s.zZ=w(e,N);N+=2;s.Im=J(e,N);N+=4;s.size=J(e,N);N+=4;
var o=l(e,N);N+=4;var V=l(e,N);N+=4;s.aB5=J(e,N);N+=4;N+=4;return s}function U(e,N,l,J){n.ml(e,N,l.KQ);
N+=4;n.ml(e,N,l.kh);N+=4;n.mO(e,N,l.aA);N+=2;n.mO(e,N,l.zZ);N+=2;n.ml(e,N,l.Im);N+=4;n.ml(e,N,l.size);
N+=4;n.ml(e,N,2834);N+=4;n.ml(e,N,2834);N+=4;n.ml(e,N,l.aB5);N+=4;N+=4}return{x3:R,LA:x,aiu:T}}();dp.YY={};
dp.YY.LA=function(x,R,T,c){if(c==null)c=[100,!1,0,0,0,0];var g=[],d=[],U=R*T*4,a=null;for(var e=0;e<x.length;
e++){var N=new Uint8Array(x[e][0].slice(0));for(var z=0;z<U;z+=4){var l=N[z+3]=N[z+3]>127?255:0;if(l==0)N[z]=N[z+1]=N[z+2]=0}g.push(N.buffer);
d.push(x[e][1])}var J=Math.round(2+254*c[0]/100),w=UPNG.encode.compress(g,R,T,J,[!0,!1,!1,8,!1,c[1]]),s=w.plte,o=new Uint8Array(4),V=new Uint32Array(o.buffer);
for(var z=0;z<s.length;z++){V[0]=s[z];var O=o[0];o[0]=o[2];o[2]=O;s[z]=V[0];if(V[0]==0)a=z}while(s.length<256)s.push(0);
var S=new Uint8Array(2e4+Math.round(1.5*R*T*x.length)),L=c[3],Q={palette:s};if(L!=1)Q.loop=L==0?0:L-1;
var b=new GifWriter(S,R,T,Q);for(var z=0;z<x.length;z++){var Z=w.frames[z],I=Z.rect,y=Z.blend,r=Z.dispose,h=Math.round(d[z]/10);
if(h<2)h=2;b.addFrame(I.x,I.y,I.width,I.height,Z.img,{transparent:a,disposal:r+1,delay:h})}return S.slice(0,b.end()).buffer};
dp.YY.x3=function(x){var R=Date.now(),T=[],c=UGIF.decode(x),g=UGIF.toRGBA8(c),d=new aP(0,0,c.width,c.height);
for(var z=0;z<g.length;z++){var U=c.frames[z];T.push({d8:d.clone(),jF:"_a_frm"+z+","+U.delay*10,data:g[z]})}return T};
dp.XR={};dp.XR.LA=function(x,R,T,c){console.log(x);if(R>256||T>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var g=Math.min(R,256),d=Math.min(T,256),U=new aP(0,0,g,d),e=u.B(U.Z()*4),N=new aP(0,0,R,T),l=new Uint8Array(x[0][0]);
u.yU(l,N,e,U);x[0][0]=e.buffer;R=g;T=d}var J=new kE,w=0,s=c&&c[0]==!0;n.lr(J,w,0);w+=2;n.lr(J,w,s?2:1);
w+=2;n.lr(J,w,1);w+=2;var o=new Uint8Array(dp.Ix("png").LA(x,R,T));J.sL(w,16);J.data[w]=R==256?0:R;w++;
J.data[w]=T==256?0:T;w++;w+=2;n.lr(J,w,s?Math.round(R/2):1);w+=2;n.lr(J,w,s?Math.round(T/2):32);w+=2;
n.yo(J,w,o.length);w+=4;n.yo(J,w,6+16);w+=4;J.sL(w,o.length);for(var z=0;z<o.length;z++)J.data[w+z]=o[z];
w+=o.length;var V=new Uint8Array(w);for(var z=0;z<w;z++)V[z]=J.data[z];return V.buffer};dp.XR.x3=function(x){x=new Uint8Array(x);
var R=4,T=n.zY(x,R);R+=2;var c=[];for(var z=0;z<T;z++){var g=dp.XR.aws(x,R+z*16),d=x.buffer.slice(g.offset,g.offset+g.size),U=dp.Xk(d);
U=U?U:"bmp";if(U=="png"){var e=dp.Ix(U),N=e.x3(d);g.XC=N[0]}else{var l=dp.Ix("BMP").aiu(d,0),d=u.B(g.KQ*g.kh*4);
u.yU(new Uint8Array(l.data),new aP(0,0,l.d8.m,l.d8.e),d,new aP(0,g.kh,g.KQ,g.kh));l.data=d.buffer;l.d8.e=g.kh;
g.XC=l}c.push(g)}c.sort(function(J,w){if(J.KQ!=w.KQ)return J.KQ-w.KQ;return J.aCm-w.aCm});return[c.pop().XC]};
dp.XR.aws=function(x,R){var T={};T.KQ=x[R];R++;if(T.KQ==0)T.KQ=256;T.kh=x[R];R++;if(T.kh==0)T.kh=256;
T.avy=x[R];R++;R++;T.a6t=n.zY(x,R);R+=2;T.aCm=n.zY(x,R);R+=2;T.size=n.pJ(x,R);R+=4;T.offset=n.pJ(x,R);
R+=4;return T};dp.sp={};dp.sp.x3=function(x){var R=Date.now(),c;if(u.raw.sS(x.byteLength))return[u.raw.aBT(x)];
var T=UTIF.decode(x);console.log(T);if(T[0].t33421)c=T[0];else if(T[0].subIFD&&T[0].t271&&T[0].t271[0]=="Hasselblad"){c=T[0].subIFD[0];
c.t33421=[2,2]}else if(T[0].subIFD&&T[0].subIFD[0].t33421){c=T[0].subIFD[0];if(c.t50706==null){if(c.t258[0]==8)c.t258[0]=12}}else if(T[0].subIFD&&T[0].subIFD[0]&&T[0].subIFD[0].t262&&T[0].subIFD[0].t262[0]==34892)c=T[0].subIFD[0];
else if(T[0].t50706)c=T[0];else if(T[0].subIFD&&T[0].subIFD[1]&&T[0].subIFD[1].t33421)c=T[0].subIFD[1];
else if(T[0].subIFD&&T[0].subIFD[2]&&T[0].subIFD[2].t33421)c=T[0].subIFD[2];else if(T[3]&&T[3].t50648){var g=T[0].exifIFD,d=g.makerNote;
c=T[3];var U=d.t224[1],e=d.t224[2];c.t256=[U];c.t257=[e];c.t258=[16];c.t259=[7];c.t262=[32803];c.t277=[1];
c.t33421=[2,2];var N=c.t50656[0],l=u.raw.Hi[N];if(l==null)throw"e";c.t33422=l}else if(T[0].t1&&T[0].t1.length==4){var J=T[0],w={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
c={};for(var s in w)if(J["t"+s])c["t"+w[s]]=J["t"+s];c.t2=J.t2;c.t3=J.t3;c.t10=J.t10;c.t45=J.t45;c.t258=[16];
c.t33421=[2,2];var o=J.t9[0];c.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][o-1];var V=J.t4[0],a=J.t5[0],O=J.t6[0],S=J.t7[0];
c.t50829=[V,a,O,S];var L=J.t36[0],Q=J.t37[0],b=J.t38[0];c.t50728=[Q/L,Q/Q,Q/b]}else if(T[0].t258&&T[0].t258[0]>=12&&T[0].t271&&(T[0].t271[0].startsWith("OLYMPUS")||T[0].t271[0].startsWith("OM Digital Solutions"))){c=T[0];
c.t33421=[2,2]}if(c){UTIF.decodeImage(x,c,T);for(var Z in T[0])if((Z[0]=="t"||Z[0]=="e"||Z[0]=="d")&&c[Z]==null)c[Z]=T[0][Z];
c.lx=T[0].t274?T[0].t274[0]:1;return[c]}var I=[];for(var z=0;z<T.length;z++){var y=T[z],r=null,A=72;
UTIF.decodeImage(x,y,T);if(y.t258&&y.t258[0]==16&&y.t277&&y.t277[0]==1){var h=0,k=0,K=0,H=y.data;for(var p=0;
p<H.length;p+=2){var f=H[p+1]<<8|H[p];if(f>h)h=f;k+=f;K++}r=1/256*65535/(.5*h+.5*(2*k/K))}var _=y.t282,W=y.t296;
if(_!=null&&W!=null){A=_[0][0]/_[0][1];if(W[0]==3)A=Math.round(A/2.54)}if(y.width==null)continue;var Y=UTIF.toRGBA8(y,r).buffer,G=aZ.rM(y);
console.log(y);I.push({d8:new aP(0,0,y.width,y.height),data:Y,De:A,zw:G,Ni:y.t34675?y.t34675.slice(0):null})}return I};
dp.sp.LA=function(x,R,T,c){if(c==null)c=[!1];var g={},d=x[0];if(d[3]!=null&&c[0])g=aZ.lM(d[3]);if(d[2]!=null){g.t282=g.t283=[[Math.round(d[2]),1]];
g.t296=[2]}return UTIF.encodeImage(d[0],R,T,g)};dp.PM={};dp.PM.x3=function(x){x=new Uint8Array(x);var R=8,T,c=0;
while(R<x.length){var g=n.zQ(x,R,4),d=n.s(x,R+4);if(g.startsWith("ic")){var U=x.slice(R+8,R+d),e=dp.Xk(U.buffer),N=dp.Ix(e),l=N.x3(U.buffer),J=l[0].d8.Z();
if(J>c){c=J;T=l}}R+=d}return T};dp.hq={};dp.hq.y0=!0;dp.hq.x3=function(x,R){da.eE(x,R)};dp.hq.ao1=function(x,R,T,c){if(c==null)c=[!1,!1,!1,!1,!1];
if(!c[0])x.Yr();var g=new kE,d=da.Li(x,g,c);return[g.data.buffer,d]};dp.hq.LA=function(x,R,T,c){var g=dp.hq.ao1(x,R,T,c),d=g[0],U=g[1];
return d.byteLength==U?d:d.slice(0,U)};dp.PE={};dp.PE.y0=!0;dp.PE.x3=function(x,R){var T=pako.inflate(new Uint8Array(x)),c=n.wh(T,0),g=n.wh(T,2),d=4;
R.m=n.s(T,d);d+=4;R.e=n.s(T,d);d+=4;R.buffer=u.B(R.m*R.e*4);var U=n.wh(T,d);d+=2;d+=4;for(var e=0;e<U;
e++){var N=R.CH(),V=0,_=1,W=2,Y=3,G=0;R.R.push(N);var l=n.s(T,d);d+=4;var J=d,w=n.wh(T,J);J+=2;var s=n.KW(T,J,w);
J+=w;N.Je(s);var o=T[J];J++;if(o!=0&&o!=1)throw o;N.rect.x=n.yr(T,J);J+=4;N.rect.y=n.yr(T,J);J+=4;N.rect.m=n.s(T,J);
J+=4;N.rect.e=n.s(T,J);J+=4;if(c>3){V=n.yr(T,J);J+=4}N.opacity=Math.round(255*T[J]/100);J++;var a=T[J];
J++;N.oE(a!=0);N.mh="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[T[J]];
J++;var O=T[J];J++;if(O)N.add.lspf=1<<31;if(c>3){var S=n.wh(T,J);J+=2;if(S!=0){var L=JSON.parse(n.KW(T,J,S));
J+=S;var Q=L.text,b=L.textSettings,Z=b.font,I=b.size,y=b.padding,r=parseInt(b.color.slice(1),16);N.add.lnsr="rend";
N.add.TySh=bL.Zk(0,0);N.add.TySh.ij=new aP(0,0,100,100);var h=N.add.TySh.i=new gP,k=N.rect.m/2,K=N.rect.e/2;
h.translate(-k,-K);h.rotate(-V*Math.PI/180);h.translate(k,K);h.translate(N.rect.x+y,N.rect.y+y);var H=N.add.TySh.pM;
bL.vo(H,1);bL.RO(H,[0,0,N.rect.m-y*2,N.rect.e]);bL.nw(H,0,Q);var p=bL.ge(H,0,1);p.Ba.FontSize=I;p.Ba.FillColor={Type:1,Values:[1,(r>>>16&255)/255,(r>>>8&255)/255,(r>>>0&255)/255]};
if(b.bold)Z+="-Bold";bL.EF(p,Z);p.qi.Justification=["left","right","center"].indexOf(b.align);bL.T3(H,0,Q.length,p)}}var f=n.s(T,J);
J+=4;if(f!=N.rect.Z()*4){for(var z=N.rect.m;z>N.rect.m/2;z--){var A=f/(z*4);if(A==Math.round(A)){N.rect.m=z;
N.rect.e=A;break}}}N.buffer=u.B(N.rect.Z()*4);if(c>3){_=0;W=1;Y=2;G=3}for(var z=0;z<f;z+=4){N.buffer[z]=T[J+z+_];
N.buffer[z+1]=T[J+z+W];N.buffer[z+2]=T[J+z+Y];N.buffer[z+3]=T[J+z+G]}J+=f;var i=n.s(T,J);J+=4;if(i==0&&c>3){d+=l;
continue}var E=T[J];J++;var $=n.wh(T,J);J+=2;if(i!=0){N.F=new F.Wu;N.F.rect=N.rect.clone();N.F.channel=u.B(N.rect.Z());
for(var z=0;z<i;z+=4)N.F.channel[z>>>2]=T[J+z+1];J+=i}if(E!=0){var C=JSON.parse(fJ.default);N.add.lmfx=C;
for(var z=0;z<fJ.order.length;z++)C[fJ.YZ[z]]={t:"VlLs",v:[]};var B={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var z=0;z<E;z++){var M=n.wh(T,J),j=J+M+4,P=T.slice(J,j),t=T[J+2];J+=3;var q=B[t+""],m=JSON.parse(fJ.Ck[q]);
C[fJ.YZ[q]].v.push({t:"Objc",v:m});if(q!=0){m.Md.v.BlnM=c_.GM("norm");m.Opct.v.val=T[J];J++;if(q==9||q==2){m.Dstn.v.val=T[J+1];
J+=2}else J+=2;m.blur.v.val=Math.round(T[J]*1.2);J++;if(q==9||q==2){m.uglg.v=!1;m.lagl.v.val=180-n.wh(T,J);
J+=2}m.Clr.v=u.I.SE({o:T[J+1],A:T[J+2],J:T[J+3]})}else{m.hglM.v.BlnM=m.sdwM.v.BlnM=c_.GM("norm");J+=2;
var iE=T[J++],hV=T[J++];m.blur.v.val=Math.round(Math.sqrt(hV*iE)*1.3);m.srgR.v.val=Math.round(100*iE/hV);
m.uglg.v=!1;m.lagl.v.val=180-n.wh(T,J);J+=2;m.hglO.v.val=T[J++];m.hglC.v=u.I.SE({o:T[J+1],A:T[J+2],J:T[J+3]});
J+=4;m.sdwO.v.val=T[J++];m.sdwC.v=u.I.SE({o:T[J+1],A:T[J+2],J:T[J+3]});J+=4}J=j}}if(J-d<l){var dD=n.s(T,J),aH=0;
J+=4;J++;var w=n.wh(T,J);J+=2;var Q=n.KW(T,J,w);J+=w;Q=Q.replace(/\r/g,"\n");var w=n.wh(T,J);J+=2;var Z=n.KW(T,J,w);
J+=w;var I=n.wh(T,J);J+=2;var bh=N.rect.x,ho=N.rect.m;if(dD&4)aH=1;if(dD&2)aH=2;var f2=Math.round(I*.4);
if(aH==0||aH==2)ho+=f2;if(aH==1||aH==2){ho+=f2;bh-=f2}N.add.lnsr="rend";N.add.TySh=bL.Zk(0,0);N.add.TySh.ij=new aP(0,0,100,100);
N.add.TySh.i=new gP(1,0,0,1,bh,N.rect.y+I*.25);var H=N.add.TySh.pM;bL.vo(H,1);bL.RO(H,[0,0,ho,N.rect.e]);
bL.nw(H,0,Q);var p=bL.ge(H,0,1);p.Ba.FontSize=I;p.Ba.FillColor={Type:1,Values:[1,T[J+1]/255,T[J+2]/255,T[J+3]/255]};
J+=4;if(T[J+5])Z+="-Bold";if(T[J+6])Z+="-Italic";bL.EF(p,Z);p.qi.Justification=aH;J+=8;bL.T3(H,0,Q.length,p)}d+=l}};
dp.Yj={};dp.Yj.y0=!0;dp.Yj.x3=function(x,R){var T=UZIP.parse(x),c=JSON.parse(n.KW(T["manifest.json"].buffer));
R.m=c.width;R.e=c.height;R.buffer=u.B(R.m*R.e*4);R.name=c.name+".psd";var g=c.stack;for(var d=0;d<g.length;
d++){var U=g[d],e=U.type,N=U.rect,l=U.format,J=R.CH();J.Je(U.name);J.oE(U.visible);J.opacity=Math.round(255*U.opacity);
var w=J.rect=new aP(N.x,N.y,N.w,N.h);R.R.push(J);if(e=="image"){var s=T[U.content].buffer,o=dp.Xk(s),V=dp.Ix(o),a=V.x3(s)[0];
w.m=a.d8.m;w.e=a.d8.e;J.buffer=new Uint8Array(a.data)}else if(e=="shape"){J.Yn|=16;var O=J.add.vstk=fJ.SC.GI(!0),S=J.add.vmsk=new F.LS,L;
J.add.SoCo={classID:"null",Clr:{t:"Objc",v:u.I.SE({o:0,A:0,J:0})}};var Q=l.variant,b=l.fill;if(Q=="rectangle"||Q=="rounded"){L=u.j.u1.Rect(w.x,w.y,w.m,w.e,l.radii)}else if(Q=="ellipse"){L=u.j.u1.mR(w.x,w.y,w.m,w.e)}else if(Q=="path"){var Z=Typr.U.SVGToPath(U.content),I={G:Z.cmds,z:Z.crds};
L=u.M.gj(I);var y=u.j.pP(L);u.j.q0(L,new gP(w.m/y.m,0,0,w.e/y.e,w.x,w.y))}else console.log(l);J.add.SoCo={classID:"null",Clr:{t:"Objc",v:u.I.SE({o:0,A:0,J:0})}};
if(b.type=="color"){J.add.SoCo.Clr.v=u.I.SE(CSS.oT(b.value))}else if(b.type=="gradient"){delete J.add.SoCo;
var r=J.add.GdFl=JSON.parse(fJ.Ck[fJ.order.indexOf("GrFl")]),h=r.Grad.v;h.Intr.v=0;var k=[],K=b.value.stops;
for(var z=0;z<K.length;z++){var H=K[z],p=CSS.oT(H.color);k.push([H.position,[p.o/255,p.A/255,p.J/255]])}u.I.lw(k,h);
r.Angl.v.val=-(b.value.direction+N.r)+90+180}else console.log(b);var f=w.x+w.m/2,A=w.y+w.e/2,_=new gP;
_.translate(-f,-A);_.rotate(-N.r*Math.PI/180);_.translate(f,A);u.j.q0(L,_);var W=U.style;if(W&&W.outline){var Y=W.outline;
O.strokeEnabled.v=!0;O.strokeStyleLineWidth.v.val=Y.size;O.strokeStyleContent.v.Clr.v=u.I.SE(CSS.oT(Y.color))}S.$=L;
J.h5();J.sG(R)}else if(e=="text"){J.add.lnsr="rend";J.add.TySh=bL.Zk(0,0);J.add.TySh.ij=new aP(0,0,100,100);
var G=J.add.TySh.pM;bL.vo(G,1);bL.RO(G,[0,0,w.m,w.e]);var i=U.content;bL.nw(G,0,i);var E=bL.ge(G,0,1);
bL.EF(E,l.font.name);var $=E.Ba.FontSize=Math.round(l.size);if(l.fill&&l.fill.value){var C=CSS.oT(l.fill.value);
E.Ba.FillColor={Type:1,Values:[1,C.o/255,C.A/255,C.J/255]}}var B=l.linespace;if(B){E.Ba.AutoLeading=!1;
E.Ba.Leading=Math.round($*(1.06+parseFloat(B)));console.log(B,E.Ba)}E.Ba.FauxBold=l.bold;E.qi.Justification=["left","right","center","justify"].indexOf(l.align);
bL.T3(G,0,i.length,E);J.add.TySh.i=new gP(1,0,0,1,w.x+Math.round($*.1),w.y+Math.round($*.1));J.rect=new aP}else console.log(U)}R.cF=!0};
dp.lL={};dp.lL.y0=!0;dp.lL.x3=function(x,R){eo.eE(x,R)};var eo=function(){function x(w,s){var o=Date.now(),V=UZIP.parse(w);
console.log(V);console.log(Date.now()-o);o=Date.now();var a=V["maindoc.xml"],O=new DOMParser,S=O.parseFromString(n.KW(a),"image/svg+xml").children[0].children[0],L=S.getAttribute("name"),Q=s.m=l(S,"width"),b=s.e=l(S,"height");
s.De=Math.round(l(S,"x-res"));var Z=S.children[0].children;R(Z,s,{qy:L,NH:V,O_:null});console.log(Date.now()-o);
o=Date.now()}function R(w,s,o){for(var V=0;V<w.length;V++){var a=w[w.length-1-V],O=a.getAttribute("nodetype");
if(O=="transparencymask"){o.O_.F=J(a,o);continue}var S=a.getAttribute("compositeop"),L=a.getAttribute("filename"),Q=a.getAttribute("channelflags"),b=a.children;
b=b.length==0?null:b[0].children;var Z=s.CH();if(O=="paintlayer"){var I=l(a,"x"),y=l(a,"y"),r=o.NH[o.qy+"/layers/"+L+".defaultpixel"],h=o.NH[o.qy+"/layers/"+L],k=N(h);
Z.rect=k[0];Z.rect.offset(I,y);Z.buffer=k[1];if(Z.rect.Y3()&&r.join()!="0,0,0,0"){Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:u.I.SE({o:r[0],A:r[1],J:r[2]})}};
Z.sG(s)}}else if(O=="grouplayer"){Z.add.lsct=ew.bZ;Z.mh="pass";Z.Yn|=24;s.R.push(s.Sw());var K=o.O_;
o.O_=Z;R(b,s,o);o.O_=K}else if(O=="shapelayer"){var h=o.NH[o.qy+"/layers/"+L+".shapelayer/content.svg"],H=n.KW(h),p=s.mk(h,Z.getName(),0,0);
Z=p;var f=new aP(0,0,s.m,s.e),A=u.M.$x(f).z;Z.add.SoLd.Trnf=D.gW.db(A);Z.add.SoLd.nonAffineTransform=D.gW.db(A);
Z.Ht(s,!1)}else if(O=="clonelayer"){var z=-1;for(var _=0;_<w.length;_++)if(w[_].getAttribute("name")==a.getAttribute("clonefrom"))z=_;
if(z!=-1){R([w[z]],s,o);Z=s.R.pop()}}else console.log(O,a);Z.Je(a.getAttribute("name"));if(l(a,"locked")==1)Z.add.lspf=1<<31;
Z.oE(l(a,"visible")==1);var W={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[S];if(W)Z.mh=W;
else console.log(S);Z.opacity=l(a,"opacity");if(Q=="1110")Z.UP=!0;var Y=b?b[0]:null;if(Y&&Y.tagName=="mask")Z.F=J(Y,o);
s.R.push(Z)}}function T(w,s){var o=0,V=0,a=w.length,O,S,L;while(o<a){O=w[o++];if(O>31){S=O>>>5;if(S==7)S=7+w[o++];
L=(O&31)<<8|w[o++];var Q=V-L-1,b=S>>>1;s[V++]=s[Q++];s[V++]=s[Q++];for(var z=0;z<b;z++){s[V++]=s[Q++];
s[V++]=s[Q++]}if((S&1)==1)s[V++]=s[Q++]}else{for(var z=0;z<=O;z++){s[V++]=w[o++]}}}}function c(w,s){var o=0;
while(w[s+o]!=10)o++;return n.zQ(w,s,o)}var g=new aP(0,0,64,64),d=new Uint8Array(64*64*4),U=new Uint8Array(64*64*4);
function e(){for(var z=0;z<4096;z++){var w=z<<2;d[w+0]=U[z+8192];d[w+1]=U[z+4096];d[w+2]=U[z];d[w+3]=U[z+12288]}}function N(w){var s=0,o={};
for(var z=0;z<5;z++){var V=c(w,s);s+=V.length+1;V=V.split(" ");o[V[0]]=parseInt(V[1])}var a=o.PIXELSIZE,O=[],S=new aP;
while(s<w.length){var V=c(w,s),L=V.split(",");s+=V.length+1;if(L[2]!="LZF")throw L[2];g.x=parseInt(L[0]);
g.y=parseInt(L[1]);S=S.y8(g);var Q=parseInt(L[3]);O.push([g.clone(),new Uint8Array(w.buffer,s+1,Q-1)]);
s+=Q}var b=u.B(S.Z()*a);for(var z=0;z<O.length;z++){var Z=O[z];T(Z[1],U);if(a==4){e();u.yU(d,Z[0],b,S)}else u.gN(U,Z[0],b,S)}return[S,b]}function l(w,s){return parseInt(w.getAttribute(s))}function J(w,s){var o=w.getAttribute("filename"),V=s.NH[s.qy+"/layers/"+o+".pixelselection"],a=N(V),O=new F.Wu;
O.va=l(w,"visible")==1;O.rect=a[0];O.channel=a[1];return O}return{eE:x}}();dp.Pu={};dp.Pu.y0=!0;dp.Pu.x3=function(x,R){fR.eE(x,R)};
dp.ee={};dp.ee.x3=function(x){var R=new Uint8Array(x),T=dp.ee.Zy(R,0,0),c=T.sub[2],g=dp.ee.om(R,c),d=T.sub[3],U=dp.ee.om(R,d);
return[g,U]};dp.ee.om=function(x,R){var T=R.sub[R.sub.length-1],c=T.sub[0].w,g=T.sub[1].w,d=x.slice(c,c+16),U=x.slice(g,g+T.sub[1].size),e=n.pJ,N=x[c],l=e(x,c+1),J=e(x,c+5),w=x[c+13],s=new aP(0,0,l,J),o=u.B(l*J*4);
if(w){new Uint32Array(o.buffer).fill(4278190080)}else{UTEX.readBC1(x,g,o,l,J)}return{d8:s,data:o}};dp.ee.Zy=function(x,R,T){var c=n.zQ,g=n.pJ,d=c(x,R,4);
d=d.split("").reverse().join("");var U=g(x,R+4);if(U!=0){console.log(x.slice(R-8));throw U}var e=g(x,R+8);
while((e&3)!=0)e++;var N={E5:d,w:R+12,size:e};if(d=="CARF"||d=="CTEX"||d=="CREW"||d=="BMAP"){N.sub=[];
R+=12;if(d=="CTEX"||d=="CREW")R+=32;var l=N.w+N.size;while(R<l){var J=dp.ee.Zy(x,R,T+1);N.sub.push(J);
R+=12+J.size+(J.size&1)}}return N};dp.U_={};dp.U_.y0=!0;dp.U_.x3=function(x,R){h$.eE(x,R)};dp.pZ={};
dp.pZ.y0=!0;dp.pZ.x3=function(x,R){ba.eE(x,R)};dp.jz={};dp.jz.y0=!0;dp.jz.x3=function(x,R){a3.eE(x,R)};
dp.y3={};dp.y3.y0=!0;dp.y3.x3=function(x,R){he.eE(x,R)};dp.ur={};dp.ur.y0=!0;dp.ur.x3=function(x,R){av.eE(x,R)};
dp.Yw={};dp.Yw.y0=!0;dp.Yw.LA=function(x,R,T,c,g,d){if(c==null)c=[!0,!1,!1,!1,!0];var U=aV.P7(x,{h_:c[0],hidden:c[1],adn:c[2],av3:c[3],l4:c[4],aBz:R,aoD:T},g.dA,d);
return U};dp.Yw.x3=function(x,R,T){aV.eE(x,R,T)};dp.$y={};dp.$y.y0=!0;dp.$y.x3=function(x,R){var T=150,c=new gP(1,0,0,-1,0,0);
c.scale(T/72,T/72);R.De=T;var g=new cl(R,c,!0);FromPS.Parse(x,g)};dp.Mw={};dp.Mw.y0=!0;dp.Mw.LA=function(x,R,T,c,g){if(c==null)c=["",100,!1,!1,!1,0,!1];
c[7]=["jpg"];var d=new ToPDF;is.P7(x,c,d,g.dA,R,T);return d.buffer};dp.Mw.x3=function(x,R,T){var c=2;
while(!0){var g=c*72,d=new gP(1,0,0,-1,0,0);d.scale(g/72,g/72);R.De=g;var U=new cl(R,d,!0);FromPDF.Parse(x,U);
var e=Math.max(R.m,R.e);if(T&&e<Math.max(T[0],T[1])){R.R=[];var N=c;while(e*(c/N)<Math.max(T[0],T[1]))c++}else break}};
dp.H2={};dp.H2.y0=!0;dp.H2.x3=function(x,R){var T=72,c=new gP(1,0,0,1,0,0);c.scale(T/72,T/72);R.De=T;
var g=new cl(R,c,!1);FromWMF.Parse(x,g)};dp.yX={};dp.yX.Fk=!0;dp.yX.y0=!0;dp.yX.LA=function(x,R,T,c,g){if(c==null)c=["",100,!1,!1,!1,0,!1];
c[7]=[];var d=new ToEMF;is.P7(x,c,d,g.dA);return d.buffer};dp.yX.x3=function(x,R){var T=72,c=new gP(1,0,0,1,0,0);
c.scale(T/72,T/72);R.De=T;var g=new cl(R,c,!1);FromEMF.Parse(x,g)};dp.Qz={};dp.Qz.y0=!0;dp.Qz.x3=function(x,R){return ax.eE(x,R)};
dp.uF={};dp.uF.x3=function(){var x,R,T,c,g,d,U=0,e=0,N=0,l=0,J=0,L="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",Q=null;
function w(b){var Z=jr.eE(b),I=Z.af,H=0,p,f;console.log(Z);var y=new Uint8Array(b);if(I=="ILBM")return s(Z,y);
if(I=="CIMG")return a(Z,y);if(I=="ANIM"&&Z.sub[0].E5=="ADAT")return S(Z,y);if(I!="ANIM")throw I;var r=n.wh,h=n.s,k=Z.sub,K=s(k[0],y);
for(var A=1;A<k.length-2;A++){var _=K[Math.max(0,A-2)].asX.slice(0),W=k[A];for(var Y=0;Y<W.sub.length;
Y++){var G=W.sub[Y],i=G.w;if(G.E5=="ANHD"){var E=y[i++];if(E!=5)throw E;var c=y[i++],$=r(y,i),C=r(y,i+2);
if($!=0&&$!=x)throw $;if(C!=0&&C!=R)throw C;var B=r(y,i+4),M=r(y,i+6);if(B!=0||M!=0)throw B;i+=8;var j=r(y,i);
i+=2;p=r(y,i);i+=2;if(y[i++]!=0)throw"e";if(y[i++]!=0)throw"e";f=r(y,i);i+=2}else if(G.E5=="DLTA"){var P=[],t=i;
for(var z=0;z<16;z++)P.push(h(y,i+z*4));i+=64;var q=d;for(var m=0;m<g;m++){if(P[m]==0)continue;i=t+P[m];
for(var iE=0;iE<q;iE++){var hV=y[i++],dD=0;if(hV==0)continue;for(var z=0;z<hV;z++){var bh=y[i++];if(bh==0){var ho=y[i++],aH=y[i++];
for(var f2=0;f2<ho;f2++){_[(dD*g+m)*q+iE]=aH;dD++}}else if(bh<128){dD+=bh}else{bh-=128;for(var f2=0;
f2<bh;f2++){_[(dD*g+m)*q+iE]=y[i+f2];dD++}i+=bh}}}}}else console.log(G.E5)}if(A==1&&p>100)p=0;var e9=p==0?17:Math.round((p-H)*1e3/60);
K.push({data:V(y,_).buffer,d8:new aP(0,0,x,R),asX:_,jF:"_a_frm"+A+","+e9});H=p}if(N!=0&&x>R*2){var kB=new Uint32Array(x*R*2);
kB.fill(4294967295);for(var A=0;A<K.length;A++){var ct=K[A],jF=new Uint32Array(ct.data);for(var dD=0;
dD<R;dD++){var fj=dD*2;for(var iE=0;iE<x;iE++)kB[fj*x+iE]=jF[dD*x+iE];fj++;for(var iE=0;iE<x;iE++)kB[fj*x+iE]=jF[dD*x+iE]}ct.d8.e*=2;
ct.data=kB.slice(0).buffer}}return K}function s(b,Z){var I,y,r;U=0;e=0;l=0;J=0;N=0;for(var h=0;h<b.sub.length;
h++){var k=b.sub[h],K=k.w;if(k.E5=="BMHD"){var H=[];for(var z=0;z<4;z++)H[z]=n.wh(Z,K+2*z);K+=8;var p=H[2],f=H[3];
x=H[0];R=H[1];T=Z[K++];c=Z[K++];r=Z[K++];if(r!=0&&r!=1)throw r;d=x+15>>>4<<1;g=T+c}else if(k.E5=="CMAP")U=K;
else if(k.E5=="CAMG"){var A=n.s(Z,K);e=A&32768,N=A&4,l=A&2048;J=A&128}else if(k.E5=="BODY"){y=u.B(d*R*g);
if(r==0)y=Z.slice(K,K+y.length);if(r==1)eH.dj(Z,K,k.size,y,0,y.length)}else if(k.E5=="PLTP"){console.log(Z.slice(K,K+k.size))}}I=V(Z,y);
return[{d8:new aP(0,0,x,R),data:I.buffer,asX:y}]}function o(b,cg){return b[cg>>>3]>>>7-(cg&7)&1}function V(b,Z){var I=T-2,y=(1<<I)-1,r=Math.round(255/y),h,k,K,H=d*8;
if(U!=0){var p=1<<T,f=!0;for(var z=1;z<p;z++){var A=U+z*3;if(b[A]!=b[A-3]||b[A+1]!=b[A-2]||b[A+2]!=b[A-1]&&b[A+2]!=b[A-1]+1)f=!1}if(f){for(var z=0;
z<p;z++){var A=U+z*3,_=Math.round(z*255/(p-1));b[A]=b[A+1]=b[A+2]=_}}}var W=u.B(x*R*4);for(var Y=0;Y<R;
Y++)for(var G=0;G<x;G++){var i=0;for(var E=0;E<g;E++){var $=(Y*g+E)*H+G,C=o(Z,$);i|=C<<E}i=i&(1<<T)-1;
var z=Y*x+G,B=z<<2;if(U!=0){if(l!=0&&i>>>I!=0){var M=i>>>I,j=(i&y)*r;if(M==1)K=j;else if(M==2)h=j;else if(M==3)k=j}else{var j=U+i*3;
h=b[j+0];k=b[j+1];K=b[j+2]}}else{if(T==24){h=i>>>0&255;k=i>>>8&255;K=i>>>16&255}else if(T==16){var P=0,t=1,m=4;
for(var E=0;E<16;E++)P+=(i>>>E&1)<<15-E;var q=(1<<t)-1,iE=(1<<m)-1;h=(P>>>7&q)*(255/q);k=K=h}else throw T}W[B+0]=h;
W[B+1]=k;W[B+2]=K;W[B+3]=255}return W}function a(b,Z){var I=1,y=2,r=4,h=n.s,k=n.wh,x=200,R=200,K,H,p,f;
for(var A=0;A<b.sub.length;A++){var _=b.sub[A],W=_.w;if(_.E5=="TBHD"){x=h(Z,W);W+=4;R=h(Z,W);W+=4;f=u.B(x*R*4);
p=new aP(0,0,x,R);W+=4;var Y=h(Z,W);W+=4;var G=k(Z,W);W+=2;if(G!=0)throw"e";H=k(Z,W);W+=2;var i=h(Z,W);
W+=4;if(i!=1)throw i;K=0;if(Y&I)K+=3;if(Y&y)K+=1}if(_.af=="TBMP"){var E=_.sub;for(var $=0;$<E.length;
$++){var C=E[$].w,B=E[$].size,M=k(Z,C),j=k(Z,C+2),P=k(Z,C+4)-M+1,t=k(Z,C+6)-j+1;C+=8;var q=u.B(P*t*4),m=u.B(P*t);
q.fill(255);for(var z=0;z<4;z++){C=O(Z,C,B-8,m,0);u.rN(m,q,3-z)}if(C!=E[$].w+B)throw"e";u.yU(q,new aP(M,j,P,t),f,p)}}}return[{d8:p,data:f.buffer}]}function O(b,Z,I,y,r){var h=Z;
while(r<y.length){var k=b[Z++],jc=(k&127)+1;if(k&128){k=b[Z++];for(var z=0;z<jc;++z)y[r++]=k}else{for(var z=0;
z<jc;++z)y[r++]=b[Z++]}}return Z}function S(b,Z){if(Q==null){var I=dp.D9(L);Q=new Uint32Array(pako.inflate(new Uint8Array(I)).buffer)}var y=n.s,r=n.wh,h=b.sub[0],k=b.sub[1],x=r(Z,h.w),R=r(Z,h.w+2),K=r(Z,h.w+4),_,z,W,Y,G,i;
if(K!=3)throw K;var H=new aP(0,0,x,R),p=u.B(x*R*4),f=u.B(x*R);p.fill(255);var A=new Uint32Array(p.buffer),E=k.w;
for(Y=0;Y<2;Y++){i=Y;G=0;_=Math.floor((x*R+2-Y-1)/2);while(_>0){z=Z[E++];if(z&128){z=257-z;_-=z;W=Z[E++];
G=G&Q[W]|Q[W+256];do{A[i]=G;i+=2}while(--z)}else{z++;_-=z;do{W=Z[E++];A[i]=G=G&Q[W]|Q[W+256];i+=2}while(--z)}}}for(var z=0;
z<p.length;z+=4){var $=p[z+3],C=p[z+2],B=p[z+1];p[z]=$;p[z+1]=C;p[z+2]=B;p[z+3]=255}for(var M=0;M<R>>>1;
M++){for(var j=0;j<x;j++){var z=M*x+j,W=(R-1-M)*x+j,P=A[z];A[z]=A[W];A[W]=P}}return[{d8:H,data:p.buffer}]}return w}();
dp.iL={};dp.iL.y0=!1;dp.iL.LA=function(x,R,T,c){var g=x[0][4],d=new Uint8Array(x[0][0]),U=2,e=g?!0:!1,N=e?4:3,l=new Uint8Array(R*T*N);
for(var J=0;J<T;J++)for(var w=0;w<R;w++){var s=J*R+w<<2,o=((T-J-1)*R+w)*N;l[o]=d[s+2];l[o+1]=d[s+1];
l[o+2]=d[s+0];if(e)l[o+3]=g[0][J*R+w]}if(!0){var V=l.length,a=0,O=new Uint8Array(V*2),S=0,L=0,Q=R*N;
while(L<V){var b=L,Z=0,I=Q*(Math.floor(L/Q)+1);while(b<I&&Z<128){var y=!0;for(var z=0;z<N;z++)y=y&l[L+z]==l[b+z];
if(!y)break;b+=N;Z++}if(Z==1){var r=1;while(r<128&&L+(r+1)*N<I){var y=!0,h=L+r*N;for(var z=0;z<N;z++)y=y&l[h+z]==l[h+N+z];
if(y)break;r++}O[S++]=r-1;for(var k=0;k<r;k++)for(var z=0;z<N;z++)O[S++]=l[L++]}else{O[S++]=127+Z;for(var z=0;
z<N;z++)O[S+z]=l[L+z];S+=N;L+=N*Z;a+=Z}}l=O.slice(0,S);U+=8}var K=new Uint8Array(18+l.length+26);K[2]=U;
n.mO(K,12,R);n.mO(K,14,T);K[16]=N*8;K[17]=N==4?8:0;K.set(l,18);n.vW(K,18+l.length+8,"TRUEVISION-XFILE.");
return K.buffer};dp.iL.x3=function(x){var R=new Uint8Array(x),T=0,c=R[0],g=R[1],d=R[2],U=R[4]*256+R[3],e=R[6]*256+R[5],N=R[7],l=R[9]*256+R[8],J=R[11]*256+R[10],w=R[13]*256+R[12],s=R[15]*256+R[14],o=R[16],V=R[17],a=V>>>4,O=n.zQ(R,18,c),S=u.B(w*s*4),T=18+c+(e*N>>>3),L=new Uint8Array(R.buffer,T);
if(d>3){var Q=0,b=R,Z=new Uint8Array(w*s*o>>>3),I=T,y=0,r=R.length,h=o>>>3;while(y<Z.length){var cg=b[I];
I++;if(cg<128)for(var z=0;z<cg+1;z++){for(var k=0;k<h;k++){Z[y]=b[I];y++;I++}}else{for(var z=0;z<cg-127;
z++){for(var k=0;k<h;k++){Z[y]=b[I+k];y++}}I+=h}}d-=8;L=Z;T=I}else T+=w*s*o>>>3;var K=new Uint8Array(4),H=dp.iL.a7y;
for(var p=0;p<s;p++)for(var f=0;f<w;f++){var A=(a&2)==0?(s-p-1)*w+f:p*w+f,_=p*w+f,W,Y,G,i=255,E=A*o>>>3;
if(d==1){var $=0;if(o==8)$=L[E];else throw"e";H(R,18+c+U+($*N>>>3),N,K);W=K[0];Y=K[1];G=K[2];i=K[3]}else if(d==2){H(L,E,o,K);
W=K[0];Y=K[1];G=K[2];i=K[3]}else if(d==3){if(o==8)W=Y=G=L[E];else throw"e"}var C=_*4;S[C]=W;S[C+1]=Y;
S[C+2]=G;S[C+3]=i}var K={d8:new aP(0,0,w,s),data:S.buffer,jF:O};if(u.PN(S)){var B=u.B(w*s);u.TR(S,B,3);
u.Qu(S,4278190080,16777215);K.Hp=[B]}return[K]};dp.iL.a7y=function(x,R,T,c){var g,d,U,e=255;if(T==24||T==32){U=x[R];
d=x[R+1];g=x[R+2];if(T==32)e=x[R+3]}else if(T==16){var N=x[R+1]<<8|x[R+0];g=N>>>10&31;d=N>>>5&31;U=N>>>0&31;
g=Math.round(g*(255/31));d=Math.round(d*(255/31));U=Math.round(U*(255/31))}else throw"e";c[0]=g;c[1]=d;
c[2]=U;c[3]=e};dp.au3=function(){var x,R=[],T=!1;function c(U,e,N,l){x=N;R.push(U,l);g()}function g(){if(T||R.length==0)return;
T=!0;dp.akG(R.shift(),"image/avif",d)}function d(U){x(null,[U],R.shift());T=!1;g()}return{y0:!1,GZ:!0,x3:c}}();
dp.QJ=function(){var x,R=[],T=!1,c,g,d,U=10,e,N,l,J=0,s;function w(Q,b,Z,I,y){x=Z;R.push(Q,I);var r=jw.eE(Q),h=jw.aa0(r,"vide"),k=h.tkhd,K=h.mdia.minf.stbl,H=k.duration/r.moov.mvhd.FN,p=K.stsz.length,f=Math.round(p/H);
console.log(r);c=k.KQ;g=k.kh;var A=c+" \xD7 "+g+" px, "+p+" frames, "+dO.uE(c*g*4*p)+" decoded<br/>";
A+=H.toFixed(2)+" seconds, "+f+" FPS";var _=new aA(v.E.P,!0);_.data={d:v.H.i$,$k:"setFPS",Ey:U,BJ:a,aA0:A};
y.c(_)}async function o(){if(T||R.length==0)return;T=!0;var Q=R.shift(),b=jw.eE(Q),Z=jw.aa0(b,"vide"),I=Z.tkhd,y=Z.mdia.minf.stbl,r=y.stsd.au7.avcC,h=I.duration/b.moov.mvhd.FN,k=y.stsz.length,K=Math.round(k/h),H=Math.max(1,Math.round(K/U)),A=0;
if(y.stsd.Q9=="hvc1"||y.stsd.Q9=="hev1")alert("HEVC codec not supported");s=Date.now();c=I.KQ;g=I.kh;
d=[];e=document.createElement("canvas");N=e.getContext("2d");e.width=c;e.height=g;var p=new Uint8Array(Q),f=[];
if(y.stsd.Q9=="raw "){for(var _=0;_<k;_++){var W=c*g;if(A%H==0){var Y=jw.a4H(b,"vide",_),G=new Uint8Array(Q,Y[0],Y[1]),i=u.B(c*g*4);
i.fill(255);for(var z=0;z<W;z++){var E=z*4,$=z*3;i[E]=G[$];i[E+1]=G[$+1];i[E+2]=G[$+2]}var C=d.length;
d[C]={jF:"_a_"+C+","+Math.round(H*1e3/K),d8:new aP(0,0,c,g),data:i}}A++}V();return}var B=new VideoDecoder({output:function(P){if(A%H==0){N.drawImage(P,0,0);
P.close();var i=N.getImageData(0,0,c,g).data.buffer,C=d.length;d[C]={jF:"_a_"+C+","+Math.round(H*1e3/K),d8:new aP(0,0,c,g),data:i}}else P.close();
clearTimeout(J);J=setTimeout(V,100);A++},error:function(P){console.log(P.message)}}),M={codec:"vp09.00.10.08",codedWidth:c,codedHeight:g};
if(r){M.codec="avc1.640034";M.description=p.slice(r.w,r.w+r.Pl)}B.configure(M);for(var z=0;z<k;z++){var Y=jw.a4H(b,"vide",z),G=new Uint8Array(Q,Y[0],Y[1]),j=new EncodedVideoChunk({timestamp:z,duration:1e3,type:z==0?"key":"delta",data:G});
B.decode(j)}await B.flush()}function V(){x(null,d,R.shift());T=!1;console.log(Date.now()-s);o()}function a(Q){U=Math.max(1,Math.min(60,Q));
if(window.VideoDecoder)o();else O()}function O(){if(T||R.length==0)return;T=!0;e=document.createElement("canvas");
N=e.getContext("2d");l=document.createElement("video");var Q="data:"+"video/mp4"+";base64,"+dp.SU(R.shift());
l.src=Q;l.muted=!0;l.currentTime=0;l.addEventListener("canplay",S,!1);l.addEventListener("timeupdate",L,!1)}function S(Q){l.removeEventListener("canplay",S);
c=e.width=l.videoWidth;g=e.height=l.videoHeight;d=[];l.play()}function L(Q){clearTimeout(J);N.drawImage(l,0,0);
d.push({jF:"_a_"+d.length+","+Math.round(1e3/U),d8:new aP(0,0,c,g),data:N.getImageData(0,0,c,g).data.buffer});
var b=l.currentTime+1/U;if(b<l.duration&&Q){l.currentTime=b;J=setTimeout(L,1e3)}else{x(null,d,R.shift());
l.removeEventListener("timeupdate",L);T=!1;O();d=null}}return{y0:!1,GZ:!0,x3:w}}();dp.QJ.LA=function(){var x,R,T,c,g,d,U=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101],e=40,N,l,J,w,s,o;
function V(p,f){if(!g&&f){if(f.description){g=f.description}if(f.decoderConfig&&f.decoderConfig.description){g=f.decoderConfig.description}}var A=new ArrayBuffer(p.byteLength);
p.copyTo(A);a(A);T.push({duration:p.duration,timestamp:p.timestamp,type:p.type,byteLength:p.byteLength});
if(p.type=="key"){c.push(T.length)}}function a(p){var f=new Uint8Array(d.byteLength+p.byteLength);f.set(new Uint8Array(d));
f.set(new Uint8Array(p),d.byteLength);d=f.buffer}function O(p){return new Uint8Array([p.charCodeAt(0),p.charCodeAt(1),p.charCodeAt(2),p.charCodeAt(3)]).buffer}function S(p){var f=new Uint32Array([p]),A=new Uint8Array(f.buffer);
return new Uint8Array([A[3],A[2],A[1],A[0]])}function L(p){s[w]=p;++w}function Q(p){s[w]=p>>8&255;s[w+1]=p&255;
w+=2}function b(p){s[w]=p>>16&255;s[w+1]=p>>8&255;s[w+2]=p&255;w+=3}function Z(p){s[w]=p>>24&255;s[w+1]=p>>16&255;
s[w+2]=p>>8&255;s[w+3]=p&255;w+=4}function I(p){J.push(w);w+=4;y(p)}function y(p){for(var z=0;z<p.length;
++z){s[w]=p.charCodeAt(z);++w}}function r(p){s.set(new Uint8Array(p),w);w+=p.byteLength}function h(){var p=w;
w=J.pop();Z(p-w);w=p}function k(){J=[];var p=[],f={},A=9e4,_=T.length,W=c.length,Y=-1;for(var z=0;z<T.length;
++z){N+=T[z].duration/1e3;l+=T[z].byteLength;if(T[z].duration!=Y){if(z!=0){p.push(f)}Y=T[z].duration;
f={duration:9e4*T[z].duration/1e6,a1_:1}}else{f.sampleCount=f.sampleCount+1}}l+=8;p.push(f);var G=p.length,i=579+g.byteLength+4*_+4*_+4*W+8*G;
s=new Uint8Array(i);w=0;I("moov");I("mvhd");Z(0);Z(0);Z(0);Z(1e3);Z(N);Z(65536);Q(256);Q(0);Z(0);Z(0);
Z(65536);Z(0);Z(0);Z(0);Z(65536);Z(0);Z(0);Z(0);Z(1073741824);Z(0);Z(0);Z(0);Z(0);Z(0);Z(0);Z(2);h();
I("trak");I("tkhd");Z(7);Z(0);Z(0);Z(1);Z(0);Z(N);Z(0);Z(0);Q(0);Q(0);Q(256);Q(0);Z(65536);Z(0);Z(0);
Z(0);Z(65536);Z(0);Z(0);Z(0);Z(1073741824);Z(x*65536);Z(R*65536);h();I("mdia");I("mdhd");Z(0);Z(0);Z(0);
Z(A);Z(N/1e3*A);L(85);L(196);Q(0);h();I("hdlr");Z(0);Z(0);y("vide");Z(0);Z(0);Z(0);y("VideoHandler");
L(0);h();I("minf");I("vmhd");Z(1);Q(0);Q(0);Q(0);Q(0);h();I("dinf");I("dref");Z(0);Z(1);I("url ");Z(1);
h();h();h();I("stbl");I("stsd");Z(0);Z(1);I("avc1");Q(0);Q(0);Q(0);Q(1);Q(0);Q(0);Z(0);Z(0);Z(0);Q(x);
Q(R);Z(4718592);Z(4718592);Z(0);Q(1);for(var z=0;z<8;++z){Z(0)}Q(24);Q(-1);I("avcC");r(g);h();h();h();
I("stts");Z(0);Z(G);for(var z=0;z<G;++z){Z(p[z].sampleCount);Z(p[z].duration)}h();I("stsc");Z(0);Z(1);
Z(1);Z(1);Z(1);h();I("stsz");Z(0);Z(0);Z(_);for(var z=0;z<_;++z){Z(T[z].byteLength)}h();I("stco");Z(0);
Z(_);var E=e;for(var z=0;z<_;++z){Z(E);E+=T[z].byteLength}h();I("stss");Z(0);Z(W);for(var z=0;z<W;++z){Z(c[z])}h();
h();h();h();h();h();return}function K(p,f,A){var _=new Uint8Array(x*R*4),W=new Uint8Array(p),Y=f?x-1:x,G=A?R-1:R;
if(f){for(var z=0;z<G;++z){_.set(W.slice(4*z*Y,4*z*Y+4*Y),4*z*x);_[4*(z+1)*x-4]=W[4*(z+1)*Y-4];_[4*(z+1)*x-3]=W[4*(z+1)*Y-3];
_[4*(z+1)*x-2]=W[4*(z+1)*Y-2];_[4*(z+1)*x-1]=W[4*(z+1)*Y-1]}if(A){_.set(_.slice(4*x*G-4*x,4*x*G),4*x*G)}}else if(A){_.set(W);
_.set(W.slice(4*Y*G-4*Y),4*Y*G)}return _.buffer}async function H(p,f,A,_){var W=Date.now(),Y=!1,G=!1,C=0;
if(f%2!=0){Y=!0;x=f+1}else{x=f}if(A%2!=0){G=!0;R=A+1}else{R=A}g=null;c=[];T=[];N=0;l=0;d=new Uint8Array;
a(new Uint8Array(U));a(S(0).buffer);a(O("mdat"));var i=new VideoEncoder({output:(chunk,opts)=>V(chunk,opts),error:i3=>{console.log(i3)}}),E={width:x,height:R,codec:"avc1.420034"},$=await VideoEncoder.isConfigSupported(E);
console.log($);if($.supported==!1){console.log("Encoding not supported. Config: ",$.config);return new Uint8Array(0).buffer}i.configure(E);
for(var z=0;z<p.length;++z){var B=p[z][1]*1e3,M=p[z][0];if(G||Y){M=K(p[z][0],Y,G)}var j=new VideoFrame(M,{timestamp:C,duration:B,format:"RGBA",codedWidth:x,codedHeight:R});
i.encode(j);j.close();C+=B}await i.flush();k();o=new Uint8Array(d.byteLength+s.byteLength);o.set(new Uint8Array(d),0);
o.set(S(l),e-8);o.set(s,d.byteLength);var P=Date.now();console.log(P-W);return o.buffer}return H}();
dp.aB={};dp.aB.x3=function(x){var R=new Uint8Array(x),T=0,c=112,g=42,d=n.pJ,J;T+=8;var U=R[T];T++;if(U!=g)throw"e";
var e=d(R,T);T+=4;var N=n.Y_(R,T,e);T+=e*2;var l=[];while(T<R.length){J=d(R,T);T+=4;if(J!=c)throw J;
T+=4;J=R[T];T++;if(J!=g)throw J;var w=d(R,T);T+=4;var s=R[T];T++;if(s!=g){T-=5;w=d(R,T);T+=8;J=R[T];
T++;if(J!=g)throw J}var o=d(R,T)*2;T+=4;if(w>0)l.push(T+o);T+=o+w}var V=new DOMParser,a=V.parseFromString(N,"image/svg+xml").firstChild.firstChild,O=[];
dp.aB.gu(a,R,l,O);return O};dp.aB.gu=function(x,R,T,c){var g=x.firstChild.firstChild;if(g.tagName=="Image"){var d=g.getElementsByTagName("ImageDescription")[0],U=d.children[0].children,e=d.children[1].children,N=T.shift(),l=[];
for(var z=0;z<e.length;z++)l.push(parseInt(e[z].getAttribute("NumberOfElements")));while(l.length>3)l[2]*=l.pop();
var J=U.length,w=l[0],s=l[1],o=l[2],V=parseInt(e[0].getAttribute("BytesInc"));for(var a=0;a<o;a++){var O=u.B(w*s*4);
u.Qu(O,4278190080);for(var S=0;S<J;S++){var L=u.B(w*s);if(V==1)for(var Q=0;Q<L.length;Q++)L[Q]=R[N+Q];
else if(V==2)for(var Q=0;Q<L.length;Q++)L[Q]=Math.min(255,(R[N+Q*2+1]<<8|R[N+Q*2])>>>2);else throw V;
if(S!=3)u.rN(L,O,S);if(J==1){u.rN(L,O,1);u.rN(L,O,2)}N+=w*s*V}c.push({d8:new aP(0,0,w,s),data:O.buffer})}}else{var b=x.children,Z=0;
while(Z<b.length&&b[Z].tagName!="Children")Z++;if(Z==b.length)throw"e";b=b[Z].children;for(var I=0;I<b.length;
I++)dp.aB.gu(b[I],R,T,c)}};dp.adk=function(){function x(U,e,N,l,J){var w=new Int8Array(U.buffer),s=new Int8Array(l.buffer),o=e+N;
while(e<o){var cg=w[e];e++;if(cg>=0&&cg<128)for(var z=0;z<cg+1;z++){s[J]=w[e];J++;e++}if(cg>=-127&&cg<0){for(var z=0;
z<-cg+1;z++){s[J]=w[e];J++}e++}}return J}function R(U,e,N,l,J,w){var s=e*N*l>>>3,o=u.B(s*J),V=c(U,0,0,0)[0];
for(var a=0;a<J;a++){var O=V[a+1];if(w){var S=dp.Ix("jpg").x3(O.buffer),L=u.B(s);u.Ve(new Uint8Array(S[0].data),L);
o.set(L,s*a)}else if(O[0]==255&&O[1]==216&&O[2]==255){var Q=UTIF.LosslessJpegDecode(O);o.set(new Uint8Array(Q.buffer),s*a)}else x(O,64,O.length,o,s*a)}return o}function T(U){var e=new Uint8Array(U),N=0,l=n.zQ(e,0,128);
N+=128;var J=n.zQ(e,N,4);N+=4;var w=g(e,N,0)[0],s=w.g28;if(s==null){alert("No image.");return[]}var o=s.cols,V=s.rows,a=o*V,O=s.photoInterpret,S=s.bitsAlloc,L=s.bitsStored,Q=s.lossyCompr;
if(Q==null)Q=w.g8.lossyCompr;var b=w.g7fe0.pixelData,Z=s.numOfFrames;Z=Z?parseInt(Z):1;var I=new Uint8Array(b.buffer),y=a*S>>>3;
if(I.length!=y*Z){b=R(b,o,V,S,Z,Q)}else{}if(S==16)b=new Uint16Array(b.buffer);console.log(s);console.log(w);
var r=[];for(var h=0;h<Z;h++){var k=h*y,U=u.B(o*V*4);U.fill(255);if(O=="MONOCHROME2"){var K=0,H=255,p=s.largestValue,f=s.smallestValue;
if(p!=null){H=p;K=f}else if(L!=8){H=0;K=1e9;for(var z=0;z<a;z++){var A=b[k+z];if(A>1<<L-8){if(A>H)H=A;
if(A<K)K=A}}}var _=255/(H-K);for(var z=0;z<a;z++){var A=Math.max(0,Math.min(255,(b[k+z]-K)*_)),W=z*4;
U[W]=U[W+1]=U[W+2]=A}}else if(O=="PALETTE COLOR"){var Y=s.pltRed,G=s.pltGreen,i=s.pltBlue;for(var z=0;
z<a;z++){var E=b[k+z],W=z*4;U[W]=Y[E]>>>8;U[W+1]=G[E]>>>8;U[W+2]=i[E]>>>8}}else throw O;r.push({d8:new aP(0,0,o,V),data:U.buffer})}return r}function c(U,e,N,l){if(N==0)N=U.length;
var J=n.zY,w=n.p9,s=n.pJ,o=[],V=e;while(e<N){var a=J(U,e);e+=2;var O=J(U,e);e+=2;var S=s(U,e);e+=4;if(a==65534&&O==57344){if(S==4294967295){var L=g(U,e,l+1);
o.push(L[0]);e=L[1]}else{o.push(U.slice(e,e+S));e+=S}}else if(a==65534&&O==57357){}else if(a==65534&&O==57565)break;
else throw"e"}return[o,e]}function g(U,e,N){var l=n.zY,J=n.p9,w=n.pJ,s={},o="\t".repeat(N);while(e<U.length){var V=l(U,e),L="",Q=0,Z=null;
e+=2;var a=l(U,e);e+=2;var O=V.toString(16),S=a.toString(16);if(V==65532)break;if(V==65534&&a==57357){e-=4;
break}if(V==65534&&a==57565)throw"e";if(a==0){e+=8;continue}if(65<=U[e+1]){L=n.zQ(U,e,2);e+=2;if(L=="OB"||L=="SQ"||L=="OW"){Q=w(U,e+2);
e+=6}else{Q=l(U,e);e+=2}}else{L=d[O][S].split(",")[1];Q=w(U,e);e+=4}console.log(O,S,L,Q);var b=d[O][S];
if(b)b=b.split(",")[0];if(b==null){b="t"+S}if(L=="SQ"){var I=c(U,e,e+Q,N);Z=I[0];e=I[1];Q=0}else if(L=="US")Z=l(U,e);
else if(L=="SS")Z=J(U,e);else if(L=="UL")Z=w(U,e);else if(L=="FL")Z=n.AT(U,e);else if(L=="AT")Z=[l(U,e),l(U,e+2)];
else if(L=="OB")Z=U.slice(e,e+Q);else if(L=="OW")Z=new Uint16Array(U.slice(e,e+Q).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(L)!=-1){var y=e+Q;
while(U[y-1]==0)y--;Z=n.zQ(U,e,y-e).trim()}else{console.log(o,JSON.stringify(n.zQ(U,e,Math.min(Q,32))));
throw L}if(s["g"+O]==null)s["g"+O]={};s["g"+O][b]=Z;e+=Q}return[s,e]}var d={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{x3:T}}();dp.MZ={};dp.MZ.x3=function(x){var R=new Uint8Array(x),T=0,c={},J=1e9;for(var z=0;z<306;
z++){var g=n.zQ(R,T,8).trim(),d=n.zQ(R,T+9,71).split("/")[0].trim();c[g]=d;T+=80;if(g=="END"){T=Math.ceil(T/2880)*2880;
break}}var U=parseInt(c.NAXIS1),e=parseInt(c.NAXIS2),N=U*e,l=parseInt(c.BITPIX),w=-1e9,s=new Float32Array(N),o=new Float32Array(x,T,x.byteLength-T>>>2);
for(var z=0;z<N;z++){var V=z<<2,a=z<<1;if(l==-32){var O=R[T+V+0];R[T+V+0]=R[T+V+3];R[T+V+3]=O;var O=R[T+V+1];
R[T+V+1]=R[T+V+2];R[T+V+2]=O;s[z]=o[z]}else if(l==16){s[z]=n.zY(R,T+a)}else throw l;var S=s[z];if(S<J)J=S;
if(S>w)w=S}var L=u.B(N*4),Q=1/w;for(var b=0;b<e;b++)for(var Z=0;Z<U;Z++){var z=b*U+Z,I=(e-b-1)*U+Z,V=I<<2,S=s[z]*Q;
L[V]=L[V+1]=L[V+2]=255*S;L[V+3]=255}return[{d8:new aP(0,0,U,e),data:L,jF:c.OBJECT}]};dp.at={};dp.at.x3=function(x){var R=new Uint8Array(x),T=16,c=n.zQ(R,T,4),d=32,S=0,L=0,Q=!1,Y;
T+=4;var g=n.zQ(R,T,8);T+=8;while(R[T+d-1]==0)d--;var U=n.zQ(R,T,d);T+=32;var e=n.zQ(R,T,4);T+=4;T+=20;
var N=n.s(R,T);T+=4;var l=n.s(R,T);T+=4;var J=n.s(R,T);T+=4;var w=n.s(R,T);T+=4;var s=n.s(R,T);T+=4;
var o=n.s(R,T);T+=4;var V="FujiFilm "+U,a=[0,1,1,2];if(V=="FujiFilm X10"){V="FujiFilm FinePix X10";a=[2,1,1,0]}var O={t271:["FujiFilm"],t272:[V],t277:[1],t33421:[2,2],t33422:a,lx:1};
T=J;var b=[],Z=n.wh,I=n.s(R,T);T+=4;for(var z=0;z<I;z++){var y=Z(R,T);T+=2;var r=Z(R,T);T+=2;if(y==256){L=Z(R,T);
S=Z(R,T+2)}else if(y==272){b=[Z(R,T),Z(R,T+2)]}else if(y==273){b.push(Z(R,T),Z(R,T+2))}else if(y==304){Q=!(R[T]>>>7)}else if(y==305){var h=Math.round(Math.sqrt(r)),k=[];
for(var K=0;K<r;K++)k.push(R[T+K]);k.reverse();O.t33421=[h,h];O.t33422=k}else if(y==12272){var H=Z(R,T),p=Z(R,T+2),f=Z(R,T+6);
O.t50728=[H/p,1,H/f]}T+=r}var A=S<L,_=R.slice(s,s+o),W=Math.round(o*8/(S*L));if(_[0]==73&&_[1]==73&&_[2]==42){Y=UTIF.decode(_.buffer)[0].fujiIFD;
W=Y.t61443[0];var G=Y.t61454,i=Y.t61450;if(i)O.t50714=i;if(G)O.t50728=[G[0]/G[1],1,G[0]/G[2]];var E=Y.t61447[0];
_=_.slice(E,E+Y.t61448[0])}var o=_.length,$=o*8<S*L*W;if($){console.log("compressed");var C=O.t33422,B=~~Math.sqrt(C.length),M=[];
for(var z=0;z<B;z++)M[z]=C.slice(z*B,z*B+B);_=new Uint8Array(UTIF._decompressRAF(_,M).buffer);o=_.length}function j(iE,hV,dD){dD=dD<<8-(hV&7);
var bh=hV>>>3;iE[bh]|=dD>>>16;iE[bh+1]|=dD>>>8;iE[bh+2]|=dD}var P=o*8/(S*L);if(P==16)for(var z=0;z<o;
z+=2){var t=_[z];_[z]=_[z+1];_[z+1]=t}else if(P==14){for(var z=0;z<o;z+=4){var t=_[z];_[z]=_[z+3];_[z+3]=t;
t=_[z+1];_[z+1]=_[z+2];_[z+2]=t}}else if(P==12)for(var z=0;z<o;z+=3){var q=_[z+2]<<16|_[z+1]<<8|_[z+0];
q=q>>>12|(q&4095)<<12;_[z]=q>>>16&255;_[z+1]=q>>>8&255;_[z+2]=q&255}if(A)_=dp.at.aqD(_,S,L);var m=A?2:1;
S*=m;O.t256=[S];O.t257=[L];O.t258=[W];O.t50719=[b[1],b[0]*m];O.t50720=[b[3],b[2]*m];O.width=S;O.height=L;
O.data=new Uint8Array(_.buffer);return[O]};dp.at.aqD=function(x,R,T){x=new Uint16Array(x.buffer);var c=new Uint16Array(R*T*2);
for(var g=0;g<T;g+=2)for(var d=0;d<R;d++){var U=g*R+d,e=U*2,N=x[U],l=x[U+R];c[e+1]=c[e+2*R]=l;if(((g>>>1)+d&1)==0){c[e]=N;
c[e+2*R+1]=x[U+1]}else{c[e]=x[U-1];c[e+2*R+1]=N}}return c};dp.GH={};dp.GH.Fk=!0;dp.GH.LA=function(x,R,T,c){var g=new Uint8Array(x[0][0]),d=R*T,U=[1,3,4][c[0]],e=8+8*c[1],N=c[2];
if(U==1){var l=new Uint8Array(R*T);u.TR(g,l,0);g=l}if(U==3){var l=new Uint8Array(R*T*3);for(var z=0;
z<d;z++){var J=z*4,w=z*3;l[w]=g[J];l[w+1]=g[J+1];l[w+2]=g[J+2]}g=l}if(e==16){var s=g.length,l=new Uint8Array(s*2);
for(var z=0;z<s;z++){var o=Math.round(g[z]*(65535/255));l[z*2+N]=o>>>8;l[z*2+1-N]=o&255}g=l}return g.buffer};
dp.Kn={};dp.Kn.x3=function(x,R){function T(N){return~~(.5+u.DW(Math.max(0,Math.min(1,N)))*255)}var c=EXRLoader.parse(x),g=c.width,d=c.height,U=u.B(g*d*4);
for(var e=0;e<d;e++)for(var N=0;N<g;N++){var z=(e*g+N)*4,l=((d-e-1)*g+N)*4;U[z]=T(c.data[l+0]);U[z+1]=T(c.data[l+1]);
U[z+2]=T(c.data[l+2]);U[z+3]=T(c.data[l+3])}return[{d8:new aP(0,0,g,d),data:U.buffer}]};dp.gB={};dp.gB.Fk=!0;
dp.gB.y0=!0;dp.gB.LA=function(x,R,T,c,g){c=["",100,!1,!1,!1,0,!1];c[7]=["jpg"];var d=new ToDXF;is.P7(x,c,d,g.dA);
return d.buffer};dp.gB.x3=function(x,R){var T=72,c=new gP(1,0,0,1,0,0);c.scale(T/72,T/72);R.De=T;var g=new cl(R,c,!1);
FromDXF.Parse(x,g)};dp.p7={};dp.p7.x3=function(){var x=n.zY,R=n.pJ,T=n.zQ,c;function g(U,e,N,l,J){var w=R(U,N),s=R(U,N+4),o=R(U,N+8),V=x(U,N+12),a=x(U,N+14);
N+=16;var O={};for(var z=0;z<V+a;z++){var S=R(U,N),L=R(U,N+4),Q,b;if(S>>>31==1){S=S&16777215}if(z<V)Q=n.Y_(U,e+S+2,x(U,e+S));
else Q="id"+S;var Z=l.slice(0);Z.push(Q);if(L>>>31==1){L=L&268435455;b=g(U,e,e+L,Z,J)}else{var I=R(U,e+L),y=R(U,e+L+4),r=R(U,e+L+8),h=R(U,e+L+12);
if(h!=0)throw"e";if(I<J[0]||I>J[0]+J[1])throw"e";var k=J[2]+I-J[0];b=U.slice(k,k+y);var K=dp.Xk(b.buffer);
if(K&&["bmp","png","ico"].indexOf(K)!=-1){var H=dp.Ix(K);if(!H.y0){var p=null;try{p=H.x3(b.buffer)}catch(i3){}if(p){p[0].jF=Z[1];
c.push(p[0])}}}else if(K)console.log(K)}O[Q]=b;N+=8}return O}function d(U){c=[];var e=new Uint8Array(U),N=0,l=x(e,N);
N+=2;N+=58;var J=R(e,N);N+=4;N=J;var w=T(e,N,4);N+=4;var s=x(e,N);N+=2;var o=x(e,N);N+=2;var V=R(e,N);
N+=4;var a=R(e,N);N+=4;var O=R(e,N);N+=4;var S=x(e,N);N+=2;var L=x(e,N);N+=2;N+=S;var Q={};for(var z=0;
z<o;z++){var b=N;while(e[b]!=0)b++;var Z=T(e,N,b-N),I=R(e,N+8),y=R(e,N+12),r=R(e,N+16),h=R(e,N+20),k=R(e,N+24),K=R(e,N+28),H=x(e,N+32),p=x(e,N+34),L=R(e,N+36);
Q[Z]=[y,I,h,r,L];if(k+K!=0)throw"e";N+=40}for(var f in Q){var A=Q[f];N=A[2];if(f==".rsrc"){var _=g(e,N,N,[],A),W="id134"}}return c}return d}();
dp.dt={};dp.dt.y0=!0;dp.dt.x3=function(x,R,T){iV.eE(x,R,T)};dp.dt.LA=function(x,R,T){return iV.P7(x)};
(function(){var x=dp.wz.get("wasm/zstd").buffer;WebAssembly.instantiate(x).then(function(R){var T=R.instance.exports;
dp.dt.aeT=T})}());dp.dt.PA=function(x,R){var T=dp.dt.aeT,c=x.length,g=T.memory,d=2*c+1e6,N=8;dp.Pd(T,d);
var U=new Uint8Array(g.buffer),e=T.malloc(c);U.set(x,e);while(!0){var l=R==null?c*N:R;dp.Pd(T,d+l);var J=T.malloc(l),w=T.ZSTD_decompress(J,l,e,c);
if(w==-70){T.free(J);N+=N>>>1;if(R!=null)throw"error"}else{U=new Uint8Array(g.buffer);x=U.slice(J,J+w);
T.free(J);break}}T.free(e);return x};dp.kE={};dp.kE.y0=!0;dp.kE.x3=function(){var x=0,R=1,T=2,c=3,g=4,d=5,U=6,e=7,N=1,l=2,J=7,w=8,s=9,o,V,a,O,S;
function L(){var cg=n.LZ(o,V);V+=4;return cg}function Q(){var Y=0,G=0;for(var z=0;z<5;z++){var i=o[V++];
Y+=(i&127)<<G;G+=7;if((i&128)==0)break}return Y}function b(){var Y=Q(),G=n.KW(o,V,Y);V+=Y;return G}function Z(){return{typeName:b(),a2r:L()}}function I(){var Y=L(),G=b(),i=[],E=L();
for(var z=0;z<E;z++)i.push([b()]);return{id:Y,QP:G,adh:i}}function y(Y){var G=Y.adh,i=[];for(var z=0;
z<G.length;z++)G[z].push(o[V++]);for(var z=0;z<G.length;z++){var E=G[z][1],$;G[z].push(r(E))}}function r(Y){var G;
if(Y==x)G=o[V++];else if(Y==c)G=b();else if(Y==g)G=Z();else if(Y==R||Y==T||Y==U||Y==d){}else throw Y;
return G}function h(Y,G,i){var E;if(Y==x){if(G==N)E=o[V++]==1;else if(G==l){E=o[V++]}else if(G==w)E=L();
else if(G==s){E=L();L()}else throw G}else if(Y==c){E=p(i+1)}else if(Y==g){E=p(i+1)}else if(Y==d){E=p(i+1)}else if(Y==R){E=p(i+1)}else if(Y==U){E=p(i+1)}else throw Y;
return E}function k(Y,G){var i=a["c"+Y],E=i.adh,$={_class:i.QP};for(var z=0;z<E.length;z++){var C=E[z],B=C[1],M=C[2],j=h(B,M,G),P=C[0];
$[P]=j}return $}function K(Y,G,i,E){var $=[];for(var z=0;z<Y;z++){var C=h(G,i,E);if(C.fU&&C.fU=="null_count"){var B=C.hu;
for(var M=0;M<B;M++)$.push(null);z+=B-1}else $.push(C)}return $}function H(){return[L(),L()]}function p(Y){if(Y==null)throw"e";
var G=null,i=o[V],E=null;V++;if(i==0){var $=L(),C=L(),B=L(),M=L();G=[$,C,B,M]}else if(i==1){E=L();var j=L();
G=k(j,Y)}else if(i==4){var P=I();E=P.id;y(P);a["c"+P.id]=P;G=k(P.id,Y)}else if(i==5){var P=I();E=P.id;
y(P);var t=L();a["c"+P.id]=P;G=k(P.id,Y)}else if(i==6){E=L();var q=b();G=q}else if(i==7){E=L();var m=o[V++];
if(m!=0)throw m;var iE=L();if(iE!=1)throw iE;var hV=L(),dD=o[V++],bh=r(dD);G=K(hV,dD,bh,Y)}else if(i==9){var ho=L();
G={fU:"ref",hu:ho};S["o"+ho]=!0}else if(i==10){G={fU:"null_count",hu:1}}else if(i==11){G={fU:"end"}}else if(i==12){var t=L(),aH=b()}else if(i==13){var f2=o[V++];
G={fU:"null_count",hu:f2}}else if(i==16){var e9=H();E=e9[0];G=K(e9[1],g,null,Y)}else if(i==17){var e9=H();
E=e9[0];G=K(e9[1],R,null,Y)}else throw"e";if(E!=null&&E>0){if(O["o"+E]!=null)throw"e";O["o"+E]=G}return G}function f(Y,O){if(Y instanceof Array){for(var z=0;
z<Y.length;z++)Y[z]=A(Y[z],O)}else if(Y instanceof Object){for(var G in Y)Y[G]=A(Y[G],O)}}function A(Y,O){if(Y&&Y.fU&&Y.fU=="ref")return O["o"+Y.hu];
else return Y}function _(Y,G,i){o=new Uint8Array(Y);V=0;a={};O={};S={};var E=n.zQ(o,0,4);if(E!="PDN3")throw E;
V+=4;var $=n.zY(o,V)+o[V+2]*256*256;V+=3;var C=n.zQ(o,V,$);V+=$;V+=2;while(!0){var B=p(0);if(B&&B.fU&&B.fU=="end")break}for(var M in S)if(O[M]==null)throw M;
for(var M in O)f(O[M],O);var j=O.o1;console.log(j);G.m=j.width;G.e=j.height;G.buffer=u.B(G.m*G.e*4);
var P=j.layers["ArrayList+_items"];for(var z=0;z<P.length;z++){var t=P[z];if(t==null)continue;console.log(t);
var q=t["Layer+width"],m=t["Layer+height"],iE=t["Layer+properties"],hV=t.properties,dD=hV.blendOp._class.split("+").pop();
dD=dD.slice(0,dD.length-7);var bh={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[dD],ho=G.CH();
ho.Je(iE.name);ho.opacity=iE.opacity;ho.oE(iE.visible);ho.mh=bh;var aH=1<<16,f2=Math.ceil(q*m/aH);ho.rect=new aP(0,0,q,m);
ho.buffer=u.B(q*m*4);var e9=ho.buffer;V+=5;for(var kB=0;kB<f2;kB++){var ct=W();e9.set(ct[1],ct[0]*aH*4)}for(var jF=0;
jF<e9.length;jF+=4){var fj=e9[jF+0];e9[jF+0]=e9[jF+2];e9[jF+2]=fj}G.R.push(ho)}}function W(){var Y=n.s(o,V);
V+=4;var G=n.s(o,V);V+=4;var i=pako.inflateRaw(o.slice(V+10));V+=G;return[Y,i]}return _}();dp.tH={};
dp.tH.y0=!0;dp.tH.x3=function(x,R){fU.eE(x,R)};dp.B5={};dp.B5.y0=!0;dp.B5.x3=function(){var x,R,O=null,r,h;
function T(){var W=x[R];R+=1;return W}function c(){var W=n.wh(x,R);R+=2;return W}function g(){var W=n.s(x,R);
R+=4;return W}function d(){var W=n.yr(x,R);R+=4;return W}function U(){var W=n.UO(x,R);R+=8;return W}function e(){var W=g();
if(W>200)throw W;var Y=n.tS(x,R,W);R+=W*2;return Y}function N(){var W=n.nP(x,R);R+=8;return W}function l(){var W=n.Ky(x,R);
R+=4;return W}function J(){var W=g();if(g()!=4)throw"e";var Y=[];for(var z=0;z<W;z++)Y.push(g());return Y}function w(W,Y,G){for(var z=0;
z<W.length;z++)if(W[z][Y]==G)return W[z]}function s(W,Y){var G=Date.now();x=new Uint8Array(W);R=n.KZ(x,"CH"+"NK"+"SQ"+"Li")+8;
var i=U(),E=b8.parse(x.buffer.slice(R,R+i)),$=b8.a4q(E,!0);console.log($);var C=$.Canvas[0],B=C.Width,M=C.Height,j=C.Unit,P=Y.De=C.Resolution;
if(j==0){}else if(j==2){B=Math.round(B*P/25.4);M=Math.round(M*P/25.4)}else if(j==3){B=Math.round(B*P);
M=Math.round(M*P)}else if(j==5){B=Math.round(B*P/72);M=Math.round(M*P/72)}else{console.log(C);throw j}Y.m=B;
Y.e=M;Y.buffer=u.B(B*M*4);console.log(Date.now()-G);var t=w($.Layer,"MainId",C.RootFolder);p($,x,Y,t.FirstChildIndex,0);
console.log(Date.now()-G)}function o(){var W=n.zY(x,R);R+=2;return W}function V(){var W=n.pJ(x,R);R+=4;
return W}function a(){var W=n.LZ(x,R);R+=4;return W}function S(W){var Y={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},i=0;
x=W;R=0;var G={};while(R<x.length){var E=V(),$=V(),C=R+$;if($==0)continue;var B=[];if(E==11){var M=V();
for(var j=0;j<M;j++){var P=[V(),V()];B.push(P);i+=P[1];var t=R+V()-4;P.push(o(),o(),o(),o());P.push(n.ey(x,R));
R+=8;var q=o();P.push(n.Y_(x,R,q));R+=q*2;if(R!=t)throw"e"}}else if(E==31){B=n.KW(x,R,$);R+=$}else if(E==34)for(var z=0;
z<3;z++)B.push(V()>>>16);else if(E==42)for(var z=0;z<4;z++)B.push(a());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(E)!=-1){if($!=4)throw"e";
B=V();if([37,45,46,51,53,55,61,62].indexOf(E)!=-1){if(B!=0&&B!=1)throw E+":"+B;R=C;continue}}else if(E==47){var m=o();
if(V()!=50)throw"e";if(V()!=0)throw"e";var iE=o();B=n.zQ(x,R,iE);R+=iE}else if(E==57){var M=o();for(var z=0;
z<M;z++){var hV=o(),dD=n.zQ(x,R,hV);R+=hV;var bh=o(),ho=n.zQ(x,R,bh);R+=bh;B.push([dD,ho])}var aH=V();
for(var z=0;z<M;z++)B[z].push(aH)}else if(E==39||E==63)B.push(V(),V());else if(E==64){for(var z=0;z<8;
z++)B.push(n.LZ(x,R+z*4)/100);R+=32}else{B=x.slice(R,C);R+=$}var f2=Y[E];if(f2==null)f2="t"+E;if(G[f2])throw"e";
G[f2]=B;if(R!=C)throw E}if(O){}O=G;return G}function L(W){x=W;R=0;var Y=g();if(Y!=W.length)throw"e";
var G=g(),i=e(),E=g(),$=N(),C=[g()/4294967295,g()/4294967295,g()/4294967295];return[E,$,C]}function Q(W,Y){function G(){var at=[];
for(var z=0;z<4;z++)at.push(n.yr(x,R+z*4));R+=16;return at}function i(cg){var at=[];for(var z=0;z<cg;
z++)at.push(l());return at}function E(at){var gt="";for(var z=R;z<at;z+=4)gt+=x.slice(z,z+4).join(", ")+"\n";
return gt}x=W;R=Y+8;var $=U(),C=R+$;R+=56;if(R==C)return;var B=[],M=[],j=[],P=[],t=[];while(R<C){var q=g(),e9=1;
if(q!=88&&q!=96)throw q;var q=g();if(q!=72)throw"e";var m=g();if(m!=88&&m!=104&&m!=120)throw m;var q=g();
if(q!=88)throw"e";var iE=g(),hV=g(),dD=G(),bh=[];j.push(bh);for(var z=0;z<6;z++){bh.push(Z(g()))}var ho=N(),aH=g();
if(aH==16||aH==1040||aH==304){g();aH=g()}var f2=N();P.push(f2);var kB=g(),ct=(hV&256)!=0,jF=[],fj=[],ab={88:1,104:2,120:3}[m];
for(var z=0;z<iE;z++){var iw=z==0?1:ab;for(var jD=0;jD<iw;jD++)jF.push(N(),N());fj.push(iw==1?z==0?"M":"L":iw==2?"Q":"C");
var a1=G(),gd=g();e9=l();var i6=i(10),hv=g(),hO=g()}t.push(e9);if(m==104){var jh=N(),aJ=N();if(ct){fj.push("Q");
jF.push(jh,aJ,jF[0],jF[1])}}if(m==120){var jh=N(),aJ=N(),hS=N(),iO=N();if(ct){fj.push("C");jF.push(jh,aJ,hS,iO,jF[0],jF[1])}}if(hV&128){var g$=["M"],bF=[jF[0],jF[1]],hy=jF.length>>>1,fg=u.M.a9E(jF);
for(var z=0;z<hy;z++){var hL=jF[2*z],dn=jF[2*z+1],c5=.7;for(var jD=0;jD<2;jD++){fg[z*4+jD*2]=c5*fg[z*4+jD*2]+(1-c5)*hL;
fg[z*4+jD*2+1]=c5*fg[z*4+jD*2+1]+(1-c5)*dn}}for(var z=1;z<hy;z++){g$.push("C");bF.push(fg[z*4-2],fg[z*4-1],fg[z*4],fg[z*4+1],jF[z*2],jF[z*2+1])}if(ct){g$.push("C");
bF.push(fg[hy*4-2],fg[hy*4-1],fg[0],fg[1],jF[0],jF[1])}jF=bF;fj=g$}if(ct)fj.push("Z");M=M.concat(jF);
B=B.concat(fj)}if(R!=C)throw"e";return[{z:M,G:B},j,P,t]}function b(W,Y){x=W;R=Y+8;var G=U(),i=R+G,E=0;
R+=56;var $=[];while(R<i){var C=g(),B=R+C-4;if(B>i)throw"e";if(C==11){R-=4;var M=e(),j=g();if(j!=12)throw"e";
var P=J(),t=e(),j=g();if(j!=12)throw"e";var q=J();if(R!=i)throw"e"}else{var m=e(),iE=g();if(iE!=E)throw iE;
E++;var hV=c();if(hV!=0&&hV!=1&&hV!=2&&hV!=5)throw hV;var dD=T();if(dD!=0&&dD!=32&&dD!=64)throw dD;if(g()!=1)throw"e";
if(g()!=1)throw"e";if(T()!=0)throw"e";if(g()==1){var bh=g(),ho=n.pJ(x,R);if(bh!=ho+4)throw"e";$.push(new Uint8Array(x.buffer,R+4,ho));
R+=bh}else $.push(new Uint8Array(0));var aH=e();if(R!=B)throw R}}return $}function Z(W){return Math.min(255,Math.round(W/16777216))}function I(W){x=W;
R=0;var Y=g();if(Y!=16)throw Y;var G=g();if(G!=102)throw G;var i=g();if(i!=42&&i!=58)throw i;var E=g();
if(W.length-E!=118+i)throw W.length-E;var $=e();if($!="Parameter")throw $;var C=g(),B=g(),M=g(),j=g(),P=[];
for(var z=0;z<16;z++)P.push(g());var $=e();if($!="InitColor")throw $;if(g()!=20)throw"e";var t=g(),q=g(),m=g();
if(g()!=4)throw"e";if(i==58){var iE=[];P.push(iE);for(var z=0;z<4;z++)iE.push(Z(g()))}var $=e();if($!="BlockSize")throw $;
var hV=g();if(hV!=12)throw hV;var dD=J();if(R!=x.length)throw"e";return[C,B,M,j,t*255,P]}function y(W,Y){var G=n.zQ(Y,0,40),i=w(W["ExternalC"+"hunk"],"Exte"+"rnalID",G);
if(i==null){console.log("chnk not found",G)}return i?i.Offset:-1}function k(W,Y,G,i){if(r==null){r=u.B(256*256*4);
h=u.B(256*256)}var E=W.Mipmap,$=W.MipmapInfo,C=W.Offscreen,B=w(E,"MainId",G),M=w($,"MainId",B.BaseMipmapInfo),j=w(C,"MainId",M.Offscreen),P=y(W,j.BlockData),s=null;
if(P==-1)return null;var t=b(Y,P),q=I(j.Attribute),m=q[0],iE=q[1],hV=q[2],dD=q[3],bh=q[4],ho=q[5],aH=ho[16],f2=ho[1],e9=ho[2],kB=f2+e9;
if(e9!=ho[5])throw"e";if(f2!=ho[7])throw"e";var ct=u.B(256*(ho[6]+ho[8])),jF=new aP;if(aH)jF=new aP(0,0,m,iE);
else{for(var fj=0;fj<dD;fj++)for(var ab=0;ab<hV;ab++){var iw=t[fj*hV+ab];if(iw.length==0)continue;jF=jF.y8(new aP(ab<<8,fj<<8,256,256))}}var jD=jF.yx(new aP(0,0,m,iE)),a1=u.B(jD.Z()*(kB==1?1:4));
if(aH)new Uint32Array(a1.buffer).fill(255<<24|aH[0]<<16|aH[1]<<8|aH[2]);if(kB==1)a1.fill(bh);for(var fj=0;
fj<dD;fj++)for(var ab=0;ab<hV;ab++){var iw=t[fj*hV+ab];if(iw.length==0)continue;var gd=new Uint8Array(iw.buffer,iw.byteOffset+2,iw.length-6),i6=new aP(ab<<8,fj<<8,256,256);
UZIP.inflateRaw(gd,ct);if(kB==1){if(ho[8]==32){K(ct,0,h);u.gN(h,i6,a1,jD)}else u.gN(ct,i6,a1,jD)}else if(kB==2){if(ho[8]==32){new Uint32Array(r.buffer).fill(4278190335);
K(ct,0,h);u.rN(h,r,3);K(ct,256*32,h);u.Oj(h,r)}else for(var z=0;z<262144;z+=4){var aH=ct[65536+(z>>>2)];
r[z]=aH;r[z+1]=aH;r[z+2]=aH;r[z+3]=ct[z>>>2]}u.yU(r,i6,a1,jD)}else if(kB==5){for(var z=0;z<262144;z+=4){r[z]=ct[65536+z+2];
r[z+1]=ct[65536+z+1];r[z+2]=ct[65536+z+0];r[z+3]=ct[z>>>2]}u.yU(r,i6,a1,jD)}else throw kB}if(i&&kB==1){var hv=u.B(m*iE*4);
u.rN(a1,hv,3);a1=hv}return[jD,a1,bh]}function K(W,R,Y){for(var z=0;z<Y.length;z++){Y[z]=(W[R+(z>>>3)]>>>7-(z&7)&1)*255}}var H=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function p(W,Y,G,i,E){var $=W.Layer,C=W.Canvas[0];while(i!=0){var B=w($,"MainId",i),M=B.Type,hV=!1;console.log(B);
var j=G.CH();j.Je(B.Name);j.opacity=Math.min(255,B.Opacity);j.oE((B.Visibility&1)!=0);j.mh=H[B.Composite];
if(j.mh==null){alert("Unknown blend mode "+B.Composite);j.mh="norm"}j.UP=B.Clip==1;G.R.push(j);var P=B.LayerMaskMipmap;
if(P!=0){var t=k(W,Y,P,!1);if(t){j.F=new F.Wu;j.F.rect=t[0];j.F.channel=t[1];j.F.color=t[2];f(j.F.rect,B,"Mask","Mask");
j.F.mu()}}var q=[];for(var z=0;z<3;z++)q.push(Z(B["DrawColorMain"+["Red","Green","Blue"][z]]));var m={t:"Objc",v:u.I.SE({o:q[0],A:q[1],J:q[2]})},iE=JSON.parse(fJ.default);
for(var z=0;z<fJ.order.length;z++)iE[fJ.YZ[z]]={t:"VlLs",v:[]};if(B.DrawColorEnable==1&&M!=1584){hV=!0;
var dD=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);dD.Clr=m;iE.solidFillMulti.v.push({t:"Objc",v:dD})}if(B.EffectInfo){var bh=L(B.EffectInfo),q=bh[2];
if(bh[0]==1){hV=!0;var dD=JSON.parse(fJ.Ck[fJ.order.indexOf("FrFX")]);dD.Clr.v=u.I.SE({o:q[0]*255,A:q[1]*255,J:q[2]*255});
dD.Sz.v.val=Math.round(bh[1]);iE.frameFXMulti.v.push({t:"Objc",v:dD})}}if(B.FilterLayerInfo){x=B.FilterLayerInfo;
R=0;var ho=g(),aH=g();if(aH!=x.length-R)throw"e";var f2={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[ho];
if(f2!=null){var e9=gm.GI(f2);j.add[f2]=e9?e9:{};if(f2=="brit")gm.n7["g"+f2](e9,[d(),d(),!0]);if(f2=="hue2")fu.v3(e9,0,[d(),d(),d()]);
if(f2=="curv"){var kB=[],ct=R;for(var z=0;z<32;z++){R=ct+z*130;var jF=c(),fj=[];kB.push(fj);for(var ab=0;
ab<jF;ab++)fj.push(c()/65535,c()/65535)}for(var z=0;z<4;z++){var fj=kB[z],iw=er.Eh(e9,z),jD=iw[0];for(var ab=0;
ab<fj.length;ab+=2){var a1=iw[ab>>>1]=JSON.parse(JSON.stringify(jD));a1.v.Hrzn.v=Math.round(fj[ab]*255);
a1.v.Vrtc.v=Math.round(fj[ab+1]*255)}er.v3(e9,z,iw)}}if(f2=="grdm"){var gd=e9.Grad.v,i6=[],hv=g();if(hv!=aH-4)throw hv;
var hO=g();if(hO!=16)throw hO;var jh=g();if(jh!=28)throw jh;var aJ=g();for(var z=0;z<aJ;z++){var hS=0,iO=[];
for(var ab=0;ab<7;ab++)iO.push(g());i6.push([iO[6]/32768,[iO[1]/4294967295,iO[2]/4294967295,iO[3]/4294967295],iO[4]/4294967295])}u.I.lw(i6,gd)}if(f2=="blnc"){e9.PrsL.v=g()==1;
for(var z=0;z<3;z++){var g$=e9[["ShdL","MdtL","HghL"][z]].v;for(var ab=0;ab<3;ab++)g$[ab].v=d()}}}else console.log("Unknown adjustment",ho,aH,j.getName())}if(M==1584){j.Yn|=16;
j.add.SoCo={classID:"null",Clr:m};j.sG(G)}else if(M==800){G.R.pop()}else if(B.Folder!=0){j.add.lsct=(B.Folder&16)!=0?ew.qW:ew.bZ;
j.mh="pass";G.R.pop();G.R.push(G.Sw());p(W,Y,G,B.FirstChildIndex,E+1);G.R.push(j)}else if(M==0||M==1||M==2||M==3){var t=k(W,Y,B.RenderMipmap,!0);
if(t){j.rect=t[0];j.buffer=t[1];f(j.rect,B,"Render","");j.mu()}if(B.TextLayerType!=null){var bF="TextLayerString",hy="TextLayerAttributes",hL=[B[bF]],c5=[B[hy]];
if(B[bF+"Array"]){x=B[bF+"Array"];R=0;while(R<x.length){var aH=V();hL.push(x.slice(R,R+aH));R+=aH}x=B[hy+"Array"];
R=0;while(R<x.length){var aH=V();c5.push(x.slice(R,R+aH));R+=aH}}var gt=j;G.R.pop();for(var iK=0;iK<hL.length;
iK++){var j=gt.clone();G.R.push(j);var iz=S(c5[iK]),gI=iz.runs,ce=iz.fnts,b7=iz.bplg,br=iz.bbox,kg=br[2]-br[0],bM=br[3]-br[1],eQ=b7[2]-b7[0],eT=b7[3]-b7[1],b6=new gP;
b6.translate(-kg/2,-bM/2);b6.rotate(Math.atan2(-eT,eQ));b6.translate(kg/2,bM/2);var hx=br[0]+B.OffsetX,io=br[1]+B.OffsetY;
b6.translate(hx,io);j.add.lnsr="rend";j.add.TySh=bL.Zk(0,0);j.add.TySh.ij=new aP(0,0,500,500);j.add.TySh.i=b6;
var jm=j.add.TySh.pM,bq=n.KW(hL[iK]);j.Je(bq);bL.nw(jm,0,bq);bL.vo(jm,1);bL.RO(jm,[0,0,kg,bM]);for(var z=0;
z<gI.length;z++){var gO=gI[z],ae=gO[0],dl=ae+gO[1],eF=gO[2],e6=bL.ge(jm,ae,dl),dJ=G.De/72*iz.size/100;
if((eF&512)!=0)dJ*=gO[6]/100;e6.Ba.FontSize=Math.round(dJ);var m=(eF&256)!=0?gO.slice(3):iz.colr;e6.Ba.FillColor={Type:1,Values:[1,m[0]/65535,m[1]/65535,m[2]/65535]};
var d2=gO[7]==""?iz.font:gO[7];if(ce){if(ce[z])d2=ce[z][1];else for(var ab=0;ab<ce.length;ab++)if(ce[ab][0]==d2)d2=ce[ab][1]}bL.EF(e6,d2);
bL.T3(jm,ae,dl,e6)}if(j.rect.Z()==0)G.cF=!0;else{j.rect=new aP(hx,io,kg,bM);j.buffer=u.B(j.rect.Z()*4);
u.yU(gt.buffer,gt.rect,j.buffer,j.rect)}}}}var gQ=W.VectorObjectList;if(B.VectorNormalType!=null&&gQ&&w(gQ,"LayerId",i)){var a6=w(gQ,"LayerId",i).VectorData,h6=y(W,a6),cU=Q(Y,h6);
if(cU){var jv=null;if(j.add.TySh){var jv=j.clone();G.R.push(jv);delete j.add.TySh}A(j,B,cU[0]);if(j.NW()){j.Yn|=24;
var de=G.CH();de.Je(j.getName());de.opacity=j.opacity;G.R.push(de);A(de,B,cU[0]);_(de,cU);de.sG(G)}else{_(j,cU,jv!=null)}j.sG(G);
if(jv){jv.add.TySh.i.concat(new gP(1,0,0,1,j.rect.x+j.rect.m/2,j.rect.y+j.rect.e/2))}}}if(hV)j.add.lmfx=iE;
if(i==C.CurrentLayer)G.g=[G.R.indexOf(j)];i=B.NextIndex}}function f(W,Y,G,i){W.x+=Y[G+"OffscrOffsetX"]+Y[i+"OffsetX"];
W.y+=Y[G+"OffscrOffsetY"]+Y[i+"OffsetY"]}function A(W,Y,G){W.add.vmsk=new F.LS;u.M.i(G.z,new gP(1,0,0,1,Y.OffsetX,Y.OffsetY),G.z);
W.add.vmsk.$=u.M.gj(G);W.h5()}function _(W,Y,G){var i=Y[1][0],E=Y[2][0]*Y[3][0];W.Yn|=16;var $=W.add.vstk=fJ.SC.GI(!0,!0);
$.fillEnabled.v=G==!0;W.add.SoCo={classID:"null",Clr:{t:"Objc",v:u.I.SE({o:255,A:255,J:255})}};$.strokeStyleContent.v.Clr.v=u.I.SE({o:i[0],A:i[1],J:i[2]});
$.strokeStyleLineWidth.v.val=E*2;$.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return s}();
var fq={};fq.tc=!1;fq.IT=!1;fq.yp=!1;fq.V=document.createElement("canvas");fq.xv=null;fq.DJ=null;fq.J6=0;
(function(){var x={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},R;if(!R)R=fq.V.getContext("webgl",x);
if(!R)R=fq.V.getContext("experimental-webgl",x);if(R){fq.tc=!0;fq.IT=!0;fq.xv=R;fq.DJ=R.createFramebuffer();
R.bindFramebuffer(R.FRAMEBUFFER,fq.DJ);R.disable(R.BLEND);R.disable(R.DEPTH_TEST);var T=R.createBuffer();
R.bindBuffer(R.ARRAY_BUFFER,T);R.bufferData(R.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),R.STATIC_DRAW);
R.enableVertexAttribArray(0);R.vertexAttribPointer(0,2,R.FLOAT,!1,0,0)}}());fq.a9W=function(x){x=x.replace(/\s\s+/g," ");
x=x.replace(/; /g,";");x=x.replace(/} /g,"}");x=x.replace(/ }/g,"}");x=x.replace(/{ /g,"{");x=x.replace(/ {/g,"{");
x=x.replace(/= /g,"=");x=x.replace(/ =/g,"=");x=x.replace(/\| /g,"|");x=x.replace(/ \|/g,"|");return x};
fq.RF=function(x){var R=fq.xv;if(x>R.getParameter(R.MAX_TEXTURE_SIZE)){fq.tc=!1;alert("Disabling WebGL")}};
fq.vP=function(x,R){return new Float32Array([(x.x-R.x)/R.m,(x.y-R.y)/R.e,x.m/R.m,x.e/R.e])};fq._e=function(){return this.V};
fq.WM=function(x,R){var T=fq.xv;T.bindFramebuffer(T.FRAMEBUFFER,fq.DJ);T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,x.G1,0);
T.viewport(0,0,x.m,x.e);if(R){T.enable(T.SCISSOR_TEST);T.scissor(R.x,R.y,R.m,R.e)}else T.disable(T.SCISSOR_TEST)};
fq.ZK=function(x,R,T){if(T)throw"error";var c=fq.xv;c.disable(c.SCISSOR_TEST);c.bindFramebuffer(c.FRAMEBUFFER,null);
c.viewport(0,0,x,R);if(T){c.enable(c.SCISSOR_TEST);c.scissor(T.x,T.y,Math.round(T.m),Math.round(T.e))}else c.disable(c.SCISSOR_TEST)};
fq.clear=function(){var x=fq.xv;x.clearColor(0,0,0,0);x.clear(x.COLOR_BUFFER_BIT)};fq.IC=function(x,R){if(R==null)R=0;
var T=(R>>>0&255)==0,c=(R>>>8&255)==0,g=(R>>>16&255)==0,d=(R>>>24&255)==0,U=(x>>>0&255)*(1/255),e=(x>>>8&255)*(1/255),N=(x>>>16&255)*(1/255),l=(x>>>24&255)*(1/255),J=fq.xv;
J.colorMask(T,c,g,d);J.clearColor(U,e,N,l);J.clear(J.COLOR_BUFFER_BIT);J.colorMask(!0,!0,!0,!0)};fq.BZ=function(x,R,T,c,g){var d=R.yx(c);
if(g)d=d.yx(g);if(d.Y3())return;var U=fq.xv;fq.WM(x);U.bindTexture(U.TEXTURE_2D,T.G1);U.copyTexSubImage2D(U.TEXTURE_2D,0,d.x-c.x,d.y-c.y,d.x-R.x,d.y-R.y,d.m,d.e)};
fq.kN=function(z,x,R){var T=fq.DO[z];if(T==null||T.m!=x||T.e!=R){if(T)T.delete();T=new fq.IV(x,R)}fq.DO[z]=T;
return T};fq.DO=[];fq.aa=function(){this.Oe=null;this.Vi=null};fq.aa.Hd=null;fq.aa.prototype.me=function(x){if(this.Vi)return;
this.Vi={};var R=fq.xv,T=this.Oe,c=this.Vi;for(var z=0;z<x.length;z++){var g=x[z];c[g]=R.getUniformLocation(T,g)}};
fq.aa.prototype.jo=function(){};fq.aa.prototype.FT=function(x){var R=fq.xv;for(var z=0;z<x.length;z+=2){R.uniform1i(x[z],z>>>1);
R.activeTexture(R["TEXTURE"+(z>>>1)]);R.bindTexture(R.TEXTURE_2D,x[z+1])}R.activeTexture(R.TEXTURE0)};
fq.aa.prototype.bF=function(x,R){var T=fq.xv,c=T.createShader(T.FRAGMENT_SHADER);T.shaderSource(c,x);
T.compileShader(c);if(!T.getShaderParameter(c,T.COMPILE_STATUS))console.log(T.getShaderInfoLog(c));var g=T.createShader(T.VERTEX_SHADER);
T.shaderSource(g,R);T.compileShader(g);if(!T.getShaderParameter(g,T.COMPILE_STATUS))console.log(T.getShaderInfoLog(g));
var d=T.createProgram();T.attachShader(d,g);T.attachShader(d,c);T.linkProgram(d);if(!T.getProgramParameter(d,T.LINK_STATUS))console.log("Could not initialise shaders");
this.Oe=d};fq.aa.prototype.YK=function(){if(fq.aa.Hd!=this){fq.xv.useProgram(this.Oe);fq.aa.Hd=this}};
fq.JK=function(x,R){fq.iV++;fq.J6+=x*R;if(fq.yp)console.log("GL.Channels instances: "+fq.iV+", memory: "+fq.J6);
var T=fq.xv;this.m=x;this.e=R;this.G1=T.createTexture();this.xU=null;this.He(this.G1,x,R)};fq.JK.prototype.He=function(x,R,T){var c=fq.xv;
c.bindTexture(c.TEXTURE_2D,x);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);
c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,R,T,0,c.ALPHA,c.UNSIGNED_BYTE,null)};fq.JK.prototype.set=function(x,R){var T=fq.xv;
T.bindTexture(T.TEXTURE_2D,this.G1);T.pixelStorei(T.UNPACK_ALIGNMENT,1);var c=this.m*this.e;if(R==null||R.Z()*10>c)T.texImage2D(T.TEXTURE_2D,0,T.ALPHA,this.m,this.e,0,T.ALPHA,T.UNSIGNED_BYTE,x);
else{var g=new aP(0,0,this.m,this.e),d=u.B(R.Z());u.gN(x,g,d,R);T.texSubImage2D(T.TEXTURE_2D,0,R.x,R.y,R.m,R.e,T.ALPHA,T.UNSIGNED_BYTE,d)}T.pixelStorei(T.UNPACK_ALIGNMENT,4)};
fq.JK.prototype.delete=function(){var x=fq.xv;if(this.G1){x.deleteTexture(this.G1);fq.iV--;fq.J6-=this.m*this.e}if(fq.yp)if(fq.yp)console.log("GL.Channels instances: "+fq.iV+", memory: "+fq.J6*4)};
fq.iV=0;fq.IV=function(x,R,T){if(T==null)T=!1;fq.iV++;fq.J6+=x*R*4;if(fq.yp)console.log("GL.Channels instances: "+fq.iV+", memory: "+fq.J6);
var c=fq.xv;this.ae$=T;this.m=x;this.e=R;this.G1=c.createTexture();this.xU=null;this.He(this.G1,x,R)};
fq.IV.prototype.set=function(x,R){var T=fq.xv;T.disable(T.SCISSOR_TEST);T.bindTexture(T.TEXTURE_2D,this.G1);
if(x==null||x instanceof Uint8Array){var c=this.m*this.e;if(R==null||R.Z()*10>c)T.texImage2D(T.TEXTURE_2D,0,T.RGBA,this.m,this.e,0,T.RGBA,T.UNSIGNED_BYTE,x);
else{var g=u.B(R.Z()*4);u.yU(x,new aP(0,0,this.m,this.e),g,R);T.texSubImage2D(T.TEXTURE_2D,0,R.x,R.y,R.m,R.e,T.RGBA,T.UNSIGNED_BYTE,g)}}else T.texImage2D(T.TEXTURE_2D,0,T.RGBA,T.RGBA,T.UNSIGNED_BYTE,x)};
fq.IV.prototype.get=function(x){var R=fq.xv;fq.WM(this);R.readPixels(0,0,this.m,this.e,R.RGBA,R.UNSIGNED_BYTE,x)};
fq.IV.prototype.Gu=function(x){if(x.Y3())return;var R=fq.xv;if(this.xU==null){this.xU=R.createTexture();
this.He(this.xU,this.m,this.e);fq.iV++;fq.J6+=this.m*this.e*4}R.bindFramebuffer(R.FRAMEBUFFER,fq.DJ);
R.bindTexture(R.TEXTURE_2D,this.xU);if(x){var T=Math.max(x.x,0),c=Math.max(x.y,0);R.copyTexSubImage2D(R.TEXTURE_2D,0,T,c,T,c,x.m,x.e)}else R.copyTexImage2D(R.TEXTURE_2D,0,R.RGBA,0,0,this.m,this.e,0)};
fq.IV.prototype.He=function(x,R,T){var c=fq.xv;c.bindTexture(c.TEXTURE_2D,x);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this.ae$?c.LINEAR:c.NEAREST);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,R,T,0,c.RGBA,c.UNSIGNED_BYTE,null)};
fq.IV.prototype.delete=function(){var x=fq.xv;if(this.G1){x.deleteTexture(this.G1);fq.iV--;fq.J6-=this.m*this.e*4}if(this.xU){x.deleteTexture(this.xU);
fq.iV--;fq.J6-=this.m*this.e*4}if(fq.yp)if(fq.yp)console.log("GL.Channels instances: "+fq.iV+", memory: "+fq.J6)};
fq.IV.prototype.clone=function(){var x=fq.xv,R=new fq.IV(this.m,this.e);fq.WM(this);x.bindTexture(x.TEXTURE_2D,R.G1);
x.copyTexImage2D(x.TEXTURE_2D,0,x.RGBA,0,0,this.m,this.e,0);return R};fq.ai={a9$:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",aCI:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",Io:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Ya:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",Q3:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",UG:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",rV:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",uX:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",aup:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Nm:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",am1:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",uV:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",iA:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",mr:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",IK:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",t9:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",c3:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",oC:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",jX:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",avf:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",ah3:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",sA:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",UM:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
fq.l={};fq.l.em={};fq.l.fM=null;fq.l.jS=null;fq.l.uw=null;fq.l.aw=function(x,R,T,c,g,d,U,e){if(e==null)e=e5.Jk();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(x)==-1){U=U*e.fill;e.fill=1;e.style=!1}var N=x+(e.sn?"1":"");
if(fq.l.em[N]==null)fq.l.em[N]=new fq.l.Dj(x,e.sn!=null);var l=fq.l.em[N],J=T.yx(g).yx(d);J.offset(-g.x,-g.y);
if(J.Y3())return;var w=fq.xv;fq.WM(c,J);c.Gu(J);l.YK();l.jo(R.G1,c.xU,fq.vP(T,g),U,e.fill,e.style?1:0,e.lg?1:0,e.sn?new Float32Array(e.sn):null);
w.drawArrays(w.TRIANGLES,0,6)};fq.l.Qh=function(x,R,T,c,g,d,U,e,N,l,J){if(fq.l.fM==null)fq.l.fM=new fq.l.JJ(!0,!0);
if(fq.l.jS==null)fq.l.jS=new fq.l.JJ(!0,!1);if(fq.l.uw==null)fq.l.uw=new fq.l.JJ(!1,!0);var w=l?1:0,s=x?g?fq.l.fM:fq.l.jS:fq.l.uw,o=new Float32Array(J?[J[0],J[1],J[2],1]:[1,1,1,1]),V=R?R.yx(c).yx(e):c.yx(e);
if(V.Y3())return;V.offset(-c.x,-c.y);var a=fq.xv;fq.WM(T,V);T.Gu(V);s.YK();if(x==null)s.jo(null,T.xU,g.G1,fq.vP(c,c),fq.vP(d,c),U/255,N,w,o);
else if(g)s.jo(x.G1,T.xU,g.G1,fq.vP(R,c),fq.vP(d,c),U/255,N,w,o);else s.jo(x.G1,T.xU,null,fq.vP(R,c),null,U/255,N,w,o);
a.drawArrays(a.TRIANGLES,0,6)};fq.l.as8=function(x,R,T){if(fq.l.avZ==null)fq.l.avZ=new fq.l.UA;var c=fq.l.avZ,g=new aP(0,0,x.m,x.e),d=fq.xv;
fq.WM(R);R.Gu(g);c.YK();c.jo(g,x.G1,R.xU,T.G1);d.drawArrays(d.TRIANGLES,0,6)};fq.l.JP={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
fq.l.Dj=function(x,R){fq.aa.call(this);var T="\t\t\tprecision highp float;\t\t\t"+fq.ai.Io+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(R?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+fq.ai.UG+"\t\t\t"+fq.ai.rV+"\t\t\t"+fq.ai.uX+"\t\t\t"+fq.ai.a9$+"\t\t\t"+fq.ai.aCI+"\t\t\t"+fq.ai.aup+"\t\t\t"+fq.ai.Nm+"\t\t\t"+fq.ai.am1+"\t\t\t"+fq.ai.uV+"\t\t\t"+fq.ai.hash+"\t\t\t"+(R?fq.ai.sA:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+fq.l.JP[x]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",c="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(x=="diss")T+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else T+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(R?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.bF(T,c)};fq.l.Dj.prototype=new fq.aa;fq.l.Dj.prototype.jo=function(x,R,T,c,g,d,U,e){this.me("srct alpha source target fill style keepBGA blIf".split(" "));
var N=fq.xv,l=this.Vi;N.uniform4fv(l.srct,T);N.uniform1f(l.alpha,c);N.uniform1f(l.fill,g);N.uniform1f(l.style,d);
N.uniform1f(l.keepBGA,U);if(e)N.uniform4fv(l.blIf,e);this.FT([l.source,x,l.target,R])};fq.l.JJ=function(x,R){fq.aa.call(this);
this.aoV=x;this.r4=R;var T="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+fq.ai.iA+"\t\t\t"+fq.ai.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(x?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(R?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(x?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(R?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",c="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.bF(T,c)};fq.l.JJ.prototype=new fq.aa;fq.l.JJ.prototype.jo=function(x,R,T,c,g,d,U,e,N){if(this.r4)this.me("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.me("srct awg dissv source target cswitch".split(" "));var l=fq.xv,J=this.Vi;l.uniform4fv(J.srct,c);
if(this.r4){l.uniform4fv(J.wrct,g);l.uniform1f(J.wcolor,d)}else{l.uniform4fv(J.cswitch,N)}l.uniform1f(J.awg,U);
l.uniform1f(J.dissv,e);var w=[J.source,x,J.target,R];if(this.r4)w.push(J.weight,T);this.FT(w)};fq.l.UA=function(){fq.aa.call(this);
var x="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",R="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.bF(x,R)};fq.l.UA.prototype=new fq.aa;fq.l.UA.prototype.jo=function(x,R,T,c){this.me(["rct","prev","next","alpha"]);
var g=fq.xv,d=this.Vi;g.uniform4fv(d.rct,[0,0,1,1]);this.FT([d.prev,R,d.next,T,d.alpha,c])};fq.m$={fj:{},UI:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
fq.m$.c8=function(x,R){var T=hD.u$,c=[T.sF,T.qu,T.Oh,T.HM,T.bU,T.KO,T.pY,T.q4].indexOf(x.type),g=fq.m$.fj[x.type];
if(g==null)g=fq.m$.fj[x.type]=new fq.fj[c];g.YK();g.jo(R,x);fq.xv.drawArrays(fq.xv.TRIANGLES,0,6)};fq.fj=[];
fq.fj[0]=function(){fq.aa.call(this);this.lR={};var x="\t\t\tprecision mediump float;\t\t\t"+fq.ai.rV+"\t\t\t"+fq.ai.Io+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.bF(x,fq.m$.UI)};fq.fj[0].prototype=new fq.aa;fq.fj[0].prototype.jo=function(x,R){var T={o:R.Ip,A:R.Ea,J:R.wN,Y:u.B(R.Ip.length)},c=T.o.length;
if(this.lR["m"+c]==null){this.lR["m"+c]={aAz:new fq.IV(c,1),z6:u.B(c*4)}}var g=this.lR["m"+c];u.dZ(T,g.z6,0);
var d=g.aAz;d.set(g.z6);this.me(["source","map","toGray","presLum"]);var U=fq.xv,e=this.Vi;U.uniform1f(e.toGray,R.$Y?1:0);
U.uniform1f(e.presLum,R.QS?1:0);this.FT([e.source,x,e.map,d.G1])};fq.fj[1]=function(){fq.aa.call(this);
this.auW=new fq.IV(256,1);this.aeW=u.B(256*4);var x="\t\t\t\tprecision mediump float;\t\t\t\t"+fq.ai.t9+"\t\t\t\t"+fq.ai.mr+"\t\t\t\t"+fq.ai.IK+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.bF(x,fq.m$.UI)};fq.fj[1].prototype=new fq.aa;fq.fj[1].prototype.jo=function(x,R){u.dZ({o:R.a9n,A:R.Eg,J:R.azJ,Y:u.B(256)},this.aeW);
this.auW.set(this.aeW);this.me(["source","map","cfa","cfb","colorize"]);var T=fq.xv,c=this.Vi;T.uniform1f(c.cfa,R.a1p);
T.uniform1f(c.cfb,R.C_);T.uniform1i(c.colorize,R.ase);this.FT([c.source,x,c.map,this.auW.G1])};fq.fj[2]=function(){fq.aa.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+fq.ai.t9+"\t\t\t"+fq.ai.c3+"\t\t\t"+fq.ai.oC+"\t\t\t"+fq.ai.mr+"\t\t\t"+fq.ai.IK+"\t\t\t"+fq.ai.avf+"\t\t\t"+fq.ai.ah3+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.bF(x,fq.m$.UI)};fq.fj[2].prototype=new fq.aa;fq.fj[2].prototype.jo=function(x,R){this.me(["source","vib","sat","yF"]);
var T=fq.xv,c=this.Vi;T.uniform1f(c.vib,R.vr[0]);T.uniform1f(c.sat,R.vr[1]);T.uniform3fv(c.yF,new Float32Array([R.vr[2],R.vr[3],R.vr[3]]));
this.FT([c.source,x])};fq.fj[3]=function(){fq.aa.call(this);var x="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.bF(x,fq.m$.UI)};fq.fj[3].prototype=new fq.aa;fq.fj[3].prototype.jo=function(x,R){this.me(["source","trf"]);
var T=fq.xv,c=this.Vi;T.uniformMatrix4fv(c.trf,!1,new Float32Array(u.Id.xZ(R.Zv)));this.FT([c.source,x])};
fq.fj[4]=function(){fq.aa.call(this);var x="\t\t\tprecision mediump float; \t\t\t"+fq.ai.jX+"\t\t\t"+fq.ai.t9+"\t\t\t"+fq.ai.IK+"\t\t\t"+fq.ai.mr+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.bF(x,fq.m$.UI)};fq.fj[4].prototype=new fq.aa;fq.fj[4].prototype.jo=function(x,R){this.me(["source","mnm","mxm","shift","lim"]);
var T=fq.xv,c=this.Vi;T.uniform3fv(c.mnm,new Float32Array(R.ec));T.uniform3fv(c.mxm,new Float32Array(R.nL));
T.uniform3fv(c.shift,new Float32Array(R.shift));T.uniform1f(c.lim,R.e5);this.FT([c.source,x])};fq.fj[5]=function(){fq.aa.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+fq.ai.Io+"\t\t\t"+fq.ai.Ya+"\t\t\t"+fq.ai.Q3+"\t\t\t"+fq.ai.mr+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.bF(x,fq.m$.UI)};fq.fj[5].prototype=new fq.aa;fq.fj[5].prototype.jo=function(x,R){this.me(["source","cfs"]);
var T=fq.xv,c=this.Vi;T.uniform3fv(c.cfs,R.arM);this.FT([c.source,x])};fq.fj[6]=function(){fq.aa.call(this);
var x="\t\t\tprecision mediump float;\t\t\t"+fq.ai.t9+"\t\t\t"+fq.ai.Ya+"\t\t\t"+fq.ai.Q3+"\t\t\t"+fq.ai.mr+"\t\t\t"+fq.ai.IK+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.bF(x,fq.m$.UI)};fq.fj[6].prototype=new fq.aa;fq.fj[6].prototype.jo=function(x,R){this.me(["source","wght","prms"]);
var T=fq.xv,c=this.Vi,g=[R.kg,R.apu,R.rV,R.aAP,R.Mf,R.auT];T.uniform1fv(c.wght,new Float32Array(R.al6));
T.uniform1fv(c.prms,new Float32Array(g));this.FT([c.source,x])};fq.fj[7]=function(){fq.aa.call(this);
this.g1={};var x="\t\t\tprecision mediump float;\t\t\t"+fq.ai.UM+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.bF(x,fq.m$.UI)};fq.fj[7].prototype=new fq.aa;fq.fj[7].prototype.jo=function(x,R){this.me(["source","lut","N"]);
var T=fq.xv,c=this.Vi,g=R.BL,d=R.Ik;if(this.g1["m"+g]==null)this.g1["m"+g]=new fq.IV(g,g*g);var U=this.g1["m"+g];
U.set(d);T.uniform1f(c.N,g);this.FT([c.source,x,c.lut,U.G1]);T.activeTexture(T.TEXTURE1);var e=T.LINEAR;
T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,e);T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,e);
T.activeTexture(T.TEXTURE0)};fq.filter={DY:{},UI:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",a2d:0,a1n:1,ZS:2,auw:3,a1$:4,aiT:5,Es:6,a2g:7};
fq.filter.c8=function(x,R){var T=fq.filter,c,g=x.type+":"+(x.in?x.in.join(","):""),c=fq.filter.DY[g];
if(c==null)c=fq.filter.DY[g]=new fq.DY[x.type](x.in);c.YK();c.jo(R,x);fq.xv.drawArrays(fq.xv.TRIANGLES,0,6)};
fq.DY=[0,0,0,0,0,0,0,0,0,0,0,0];fq.DY[7]=function(){fq.aa.call(this);var x="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.bF(fl.En(x),fl.En(fq.filter.UI))};fq.DY[7].prototype=new fq.aa;fq.DY[7].prototype.jo=function(x,R){this.me(["source","iwh","kern"]);
var T=fq.xv,c=this.Vi;T.uniform2fv(c.iwh,R.rm);T.uniform1fv(c.kern,R.a7l);this.FT([c.source,x])};fq.DY[6]=function(x){fq.aa.call(this);
var R=x[0],T=x[1],c=x[2],g="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",d=fl.En(g);
d=d.replaceAll("PRC",c+".0");d=d.replaceAll("DIR",["x,0","0,x"][T]);this.bF(d,fq.m$.UI)};fq.DY[6].prototype=new fq.aa;
fq.DY[6].prototype.jo=function(x,R){this.me(["source","iwh","rad"]);var T=fq.xv,c=this.Vi;T.uniform2fv(c.iwh,R.rm);
T.uniform1f(c.rad,R.c_);this.FT([c.source,x])};fq.DY[4]=function(x){fq.aa.call(this);var R=x[0],T=x[1],c="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+x[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][T]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][R]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][T]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(T==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.bF(c,fq.m$.UI)};fq.DY[4].prototype=new fq.aa;fq.DY[4].prototype.jo=function(x,R){this.me(["source","iwh","rrad","tr"]);
var T=fq.xv,c=this.Vi;T.uniform2fv(c.iwh,R.rm);T.uniform1f(c.rrad,R.wy);T.uniform1f(c.tr,R.agF);this.FT([c.source,x]);
var g=T.LINEAR;g=T.NEAREST;T.activeTexture(T.TEXTURE0);T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,g);
T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,g);T.activeTexture(T.TEXTURE0)};fq.DY[5]=function(){fq.aa.call(this);
var x="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.bF(fl.En(x),fl.En(fq.filter.UI))};fq.DY[5].prototype=new fq.aa;fq.DY[5].prototype.jo=function(x,R){this.me(["source","ssum","iwh","amnt","edgf"]);
var T=fq.xv,c=this.Vi;T.uniform2fv(c.iwh,R.rm);T.uniform1f(c.amnt,R.ak7);T.uniform1f(c.edgf,R.ap5);this.FT([c.source,x,c.ssum,R.axZ])};
fq.DY[3]=function(){fq.aa.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.bF(fl.En(x),fl.En(fq.filter.UI))};fq.DY[3].prototype=new fq.aa;fq.DY[3].prototype.jo=function(x,R){this.me("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var T=fq.xv,c=this.Vi;T.uniform2fv(c.iwh,R.rm);T.uniform1f(c.tdep,R.aai);T.uniform1f(c.rrad,R.wy);T.uniform2fv(c.spec,R.ahw);
T.uniform3fv(c.nois,R.arL);T.uniformMatrix4fv(c.poly0,!1,R.abH);T.uniformMatrix4fv(c.poly1,!1,R.ali);
this.FT([c.source,x]);var g=T.LINEAR;T.activeTexture(T.TEXTURE0);T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,g);
T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,g);T.activeTexture(T.TEXTURE0)};fq.DY[0]=function(){fq.aa.call(this);
var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.bF(fl.En(x),fl.En(fq.filter.UI))};fq.DY[0].prototype=new fq.aa;fq.DY[0].prototype.jo=function(x,R){this.me(["source","iwh","ld","shine"]);
var T=fq.xv,c=this.Vi;T.uniform2fv(c.iwh,R.rm);T.uniform3fv(c.ld,R.auF);T.uniform1f(c.shine,R.acn);this.FT([c.source,x,c.tang,R.Xv])};
fq.DY[1]=function(){fq.aa.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.bF(fl.En(x),fl.En(fq.filter.UI))};fq.DY[1].prototype=new fq.aa;fq.DY[1].prototype.jo=function(x,R){this.me(["source","iwh","isc","bristle"]);
var T=fq.xv,c=this.Vi;T.uniform2fv(c.iwh,R.rm);T.uniform1f(c.isc,R.a8G);T.uniform1f(c.bristle,R.abD);
this.FT([c.source,x])};fq.DY[2]=function(){fq.aa.call(this);var x="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.bF(fl.En(x),fl.En(fq.filter.UI))};fq.DY[2].prototype=new fq.aa;fq.DY[2].prototype.jo=function(x,R){this.me(["source","tang","iwh","sigma","expo"]);
var T=fq.xv,c=this.Vi;T.uniform2fv(c.iwh,R.rm);T.uniform1f(c.sigma,R.ayX);T.uniform1f(c.expo,R.a6L);
this.FT([c.source,x,c.tang,R.Xv]);var g=T.LINEAR;T.activeTexture(T.TEXTURE0);T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,g);
T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,g);T.activeTexture(T.TEXTURE0)};function u(){}u.X={};
u.a73={};u.aAV=function(){var x=[64,64,128,256,512,1024,2048],R=[];for(var z=0;z<x.length;z++){var T=x[z],c=document.createElement("canvas");
c.width=T;c.height=T;R.push(c.getContext("2d",{willReadFrequently:!0}))}return R}();u._e=function(x,R){var T,c=u.aAV,z=1,g=Math.max(x,R);
while(z<c.length&&g>c[z].canvas.width)z++;if(z==c.length){T=c[0];var d=T.canvas;d.width=x;d.height=R}else{T=c[z];
T.clearRect(0,0,x,R)}return T};u.Bj=function(x,R,T){var c=new Uint32Array(R*T);c[0]=x[0];for(var g=1;
g<R;g++)c[g]=c[g-1]+x[g];for(var d=1;d<T;d++){var z=d*R;c[z]=c[z-R]+x[z];for(var g=1;g<R;g++)c[z+g]=x[z+g]+c[z+g-1]+c[z+g-R]-c[z+g-R-1]}return c};
u.Wn=function(x,R,T,c,g,d){var U=(g-1)*R,e=d*R;return x[e+c]-x[e+T-1]-x[U+c]+x[U+T-1]};u.uB=function(x,R,T){var c={},g=0,d=0,U=new Uint32Array(x.buffer),e=U.length,N=Date.now();
for(var l=1;l<T-1;l++)for(var J=1;J<R-1;J++){var w=l*R+J,s=U[w];if(s>>>24<230)d++;if(c[s]==null){c[s]=!0;
g++}}if(d!=0||g<20)return!1;return!0};u.P8=function(x,R,T,c,g,d){if(g==null)g=d=0;c=Math.log(c)/Math.log(2);
c=Math.round(c);var U=new Uint32Array(x.buffer);for(var z=0;z<T;z++)for(var e=0;e<R;e++){U[z*R+e]=u.ae7(z+d,e+g,c)}};
u.as7=function(z,x,R){return 255-((z>>>R)+(x>>>R)&1)*51};u.ae7=function(z,x,R){return 4294967295-((z>>>R)+(x>>>R)&1)*3355443};
u.m4=function(x){return{o:x>>>16&255,A:x>>>8&255,J:x&255}};u.o8=function(x){return x.J<<16|x.A<<8|x.o};
u.TN=function(x){var R=x.toString(16);while(R.length<6)R="0"+R;return R};u.xI=function(x){return parseInt(x,16)};
u.rV=function(x){return.3*x.o+.59*x.A+.11*x.J};u.UG=function(x){return Math.max(x.o,x.A,x.J)-Math.min(x.o,x.A,x.J)};
u.Et=function(x,R,T){return.3*x+.59*R+.11*T};u.asc=function(x,R,T){return Math.max(x,R,T)-Math.min(x,R,T)};
u.Ya=function(x,R){var T=R-x,c=Math.abs(T),g=T-1,d=T+1;if(Math.abs(g)<c)T=g;else if(Math.abs(d)<c)T=d;
return T};u.DW=function(x){return x<.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055};u.lW=function(x){return x<.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)};
u.auZ=function(x,R){var T=Math.min(x.length,R.length);for(var z=0;z<T;z+=4){var c=x[z],g=x[z+1],d=x[z+2];
R[z]=16+Math.floor(65.481/255*c+128.553/255*g+24.966/255*d+.5);R[z+1]=128-Math.floor(37.797/255*c-74.203/255*g+112/255*d+.5);
R[z+2]=128+Math.floor(112/255*c-93.786/255*g-18.214/255*d+.5);R[z+3]=x[z+3]}};u.c5=function(x,R,T){var c,g,d,U=Math.max(x,R,T),e=Math.min(x,R,T);
d=U;if(U!=0)g=(U-e)/U;else g=0;if(g==0)c=0;else{var N=U-e,l=(U-x)/N,J=(U-R)/N,w=(U-T)/N;if(x==U)c=w-J;
else if(R==U)c=2+l-w;else c=4+J-l;c*=1/6;if(c<0)c=c+1}return{kh:c,Kt:g,J:d}};u.a8v=function(x,R,T){var c=0,g=0,d=0;
if(R==0)c=g=d=T;else{var U=(x-Math.floor(x))*6,e=Math.floor(U),N=U-Math.floor(U),l=T*(1-R),J=T*(1-R*N),w=T*(1-R*(1-N));
switch(e){case 0:c=T;g=w;d=l;break;case 1:c=J;g=T;d=l;break;case 2:c=l;g=T;d=w;break;case 3:c=l;g=J;
d=T;break;case 4:c=w;g=l;d=T;break;case 5:c=T;g=l;d=J;break}}return{o:c,A:g,J:d}};u.mr=function(x,R,T){var c=Math.max(x,R,T),g=Math.min(x,R,T),d=0,U=0,e=(c+g)*.5;
if(c!=g){var N=c-g;U=e>.5?N/(2-(c+g)):N/(c+g);switch(c){case x:d=(R-T)/N+(R<T?6:0);break;case R:d=(T-x)/N+2;
break;case T:d=(x-R)/N+4;break}d*=1/6}return{kh:d,Kt:U,tB:e}};u.IK=function(x,R,T){var c,g,d;if(R==0)c=g=d=T;
else{var U=T<.5?T*(1+R):T+R-T*R,e=2*T-U;c=u.t9(e,U,x+1/3);g=u.t9(e,U,x);d=u.t9(e,U,x-1/3)}return{o:c,A:g,J:d}};
u.t9=function(x,R,T){if(T<0)T+=1;if(T>1)T-=1;if(T<1/6)return x+(R-x)*6*T;if(T<1/2)return R;if(T<2/3)return x+(R-x)*(2/3-T)*6;
return x};u.c3=function(x,R,T){var c=Math.max(x,R,T),g=Math.min(x,R,T),d,U,e=c,N=c-g;U=c==0?0:N/c;if(c==g)d=0;
else{switch(c){case x:d=(R-T)/N+(R<T?6:0);break;case R:d=(T-x)/N+2;break;case T:d=(x-R)/N+4;break}d*=1/6}return{kh:d,Kt:U,hu:e}};
u.oC=function(x,R,T){var c,g,d,z,U,e,N,l;z=Math.floor(x*6);U=x*6-z;e=T*(1-R);N=T*(1-U*R);l=T*(1-(1-U)*R);
switch(z%6){case 0:c=T,g=l,d=e;break;case 1:c=N,g=T,d=e;break;case 2:c=e,g=T,d=l;break;case 3:c=e,g=N,d=T;
break;case 4:c=l,g=e,d=T;break;case 5:c=T,g=e,d=N;break}return{o:c,A:g,J:d}};u.We=function(){var x=[],R=[];
for(var z=0;z<8e3;z++){var T=z*(1/4e3);x[z]=u.lW(T);R[z]=T>.008856?Math.pow(T,1/3):(903.3*T+16)*(1/116)}return[x,R]}();
u.jX=function(x,R,T,c){if(c==null)c=[.9642,1,.8249];var g=u.We[0],d=u.We[1];x=g[~~(.5+x*(4e3/255))];
R=g[~~(.5+R*(4e3/255))];T=g[~~(.5+T*(4e3/255))];var U=u.Id.a6H,e=U[0]*x+U[1]*R+U[2]*T,N=U[4]*x+U[5]*R+U[6]*T,l=U[8]*x+U[9]*R+U[10]*T;
e=e*(1/c[0]);N=N*(1/c[1]);l=l*(1/c[2]);return u.vT(e,N,l)};u.vT=function(x,R,T){var c=u.We[1],g=c[~~(.5+x*4e3)],d=c[~~(.5+R*4e3)],U=c[~~(.5+T*4e3)];
return{h8:116*d-16,Y:500*(g-d),J:200*(d-U)}};u.hc=function(x,R,T){var c=903.3,g=.008856,d=(x+16)/116,U=d*d*d,e=d-T/200,N=e*e*e,l=R/500+d,J=l*l*l,w=N>g?N:(116*e-16)/c,s=U>g?U:(116*d-16)/c,o=J>g?J:(116*l-16)/c,V=o*96.42,a=s*100,O=w*82.49,S=u.Id.yu(u.Id.ob,[V/100,a/100,O/100,0]);
for(var z=0;z<4;z++)S[z]=Math.max(0,Math.min(255,u.DW(S[z])*255));return{o:S[0],A:S[1],J:S[2]}};u.Ee=function(x,R,T,c,g){var d=x.h8,U=x.Y,e=x.J,N=(d<R.h8?R.h8-d:T.h8<d?T.h8-d:0)*(1/100),l=(U<R.Y?R.Y-U:T.Y<U?T.Y-U:0)*(1/116),J=(e<R.J?R.J-e:T.J<e?T.J-e:0)*(1/116),w=Math.sqrt(N*N+l*l+J*J)*1.35;
return w<=c?Math.min(1,1.17*(1-w*g)):0};u.qo=function(x){var R=u.ZO("cmykToRgb"),T=R[2],c=R[3],g=[0,0,0,0];
ICC.U.applyLUT4Float(c,T,x,g);return g};u.apr=function(){var x=function(cg){return Math.round(cg*255)},R="",T=3;
for(var z=0;z<tab.length;z++){var c=x(tab[z]);if(T<=z)c=c-x(tab[z-T])+256&255;R+=c.toString(16).padStart(2,"0")}return R};
u.ZO=function(x){var R=LUTS["_"+x];if(R==null){var T=LUTS[x],c=T[0],cg=T[1],g=T[2],d=T[3],U=[];for(var z=0;
z<d.length;z+=2)U.push(parseInt(d.slice(z,z+2),16));for(var z=cg;z<U.length;z++)U[z]=U[z]+U[z-cg]&255;
for(var z=0;z<U.length;z++)U[z]*=1/255;R=LUTS["_"+x]=[c,cg,g,U]}return R};u.Sj=function(x){var R=u.ZO("rgbToCmyk"),T=R[2],c=R[3],g=[0,0,0,0];
ICC.U.applyLUT3to4Float(c,T,x,g);return g};u.acu=function(x){for(var z=0;z<x.length;z+=4){var R=[x[z+0]*(1/255),x[z+1]*(1/255),x[z+2]*(1/255)],T=u.Sj(R);
x[z+0]=255-Math.floor(.5+T[0]*255);x[z+1]=255-Math.floor(.5+T[1]*255);x[z+2]=255-Math.floor(.5+T[2]*255);
x[z+3]=255-Math.floor(.5+T[3]*255)}};u.Ve=function(x,R,T){var c=x.length,g=.3,d=.59,U=.11;if(T){g=T[0];
d=T[1];U=T[2]}for(var z=0;z<c;z+=4)R[z>>2]=~~(x[z+0]*g+x[z+1]*d+x[z+2]*U+.5)};u.Oj=function(x,R){var T=R.length;
for(var z=0;z<T;z+=4){var c=x[z>>>2];R[z]=c;R[z+1]=c;R[z+2]=c}};u.dZ=function(x,R){var T=x.Y,c=x.o,g=x.A,d=x.J,U=Math.min(x.Y.length,R.buffer.byteLength>>>2),e=4*Math.floor(U/4),N=new Uint32Array(R.buffer),l=new Uint32Array(T.buffer),J=new Uint32Array(c.buffer),w=new Uint32Array(g.buffer),s=new Uint32Array(d.buffer);
for(var z=0;z<e;z+=4){var o=l[z>>2],V=s[z>>2],a=w[z>>2],O=J[z>>2];N[z]=o<<24|(V&255)<<16|(a&255)<<8|O&255;
N[z+1]=(o&65280)<<16|(V&65280)<<8|a&65280|(O&65280)>>>8;N[z+2]=(o&16711680)<<8|V&16711680|(a&16711680)>>>8|(O&16711680)>>>16;
N[z+3]=o&4278190080|(V&4278190080)>>>8|(a&4278190080)>>>16|(O&4278190080)>>>24}for(var z=e;z<U;z++)N[z]=T[z]<<24|d[z]<<16|g[z]<<8|c[z]};
u.ZC=function(x,R){var T=R.Y,c=R.o,g=R.A,d=R.J,U=Math.min(R.Y.length,x.buffer.byteLength>>>2),e=4*Math.floor(U/4),N=new Uint32Array(x.buffer),l=new Uint32Array(T.buffer),J=new Uint32Array(c.buffer),w=new Uint32Array(g.buffer),s=new Uint32Array(d.buffer);
for(var z=0;z<e;z+=4){var o=N[z],V=N[z+1],a=N[z+2],O=N[z+3];J[z>>2]=o&255|(V&255)<<8|(a&255)<<16|O<<24;
w[z>>2]=(o&65280)>>8|V&65280|(a&65280)<<8|(O&65280)<<16;s[z>>2]=(o&16711680)>>16|(V&16711680)>>8|a&16711680|(O&16711680)<<8;
l[z>>2]=o>>>24|V>>>24<<8|a>>>24<<16|O&4278190080}for(var z=e;z<U;z++){var S=N[z];c[z]=S>>0&255;g[z]=S>>8&255;
d[z]=S>>16&255;T[z]=S>>24&255}};u.TR=function(x,R,T){var c=new Uint8Array(x.buffer),g=Math.min(c.length/4,R.length);
for(var z=0;z<g;z++){R[z]=c[(z<<2)+T]}};u.rN=function(x,R,T){var c=new Uint8Array(R.buffer),g=new Uint32Array(x.buffer),d=Math.min(c.length/4,x.length),z=0;
while(z+4<d){var U=g[z>>>2];c[(z<<2)+T]=U&255;c[(z<<2)+T+4]=U>>>8&255;c[(z<<2)+T+8]=U>>>16&255;c[(z<<2)+T+12]=U>>>24;
z+=4}while(z<d){c[(z<<2)+T]=x[z];z++}};u.Qu=function(x,R,T){if(T==null)T=0;var c=new Uint32Array(x.buffer),g=c.length;
for(var z=0;z<g;z++)c[z]=c[z]&T|R};u.akJ=function(x,R,T,c,g){if(g==null)g=0;var d=new Uint32Array(x.buffer);
T=T.yx(R);var U=T.x-R.x,e=T.y-R.y,N=T.m,l=T.e,J=R.m;for(var w=0;w<l;w++){var z=(e+w)*J+U;for(var s=0;
s<N;s++){d[z]=d[z]&g|c;z++}}};u.kS=function(x,R){var T=Math.min(x.buffer.byteLength,R.buffer.byteLength),c=T>>>2,x=new Uint32Array(x.buffer,0,c),R=new Uint32Array(R.buffer,0,c);
R.set(x)};u.X$=function(x,R){var T=x.buffer.byteLength,c=R.buffer.byteLength,g=new Uint32Array(x.buffer,0,T>>2),d=new Uint32Array(R.buffer,0,c>>2);
if(T!=c)return!1;var U=g.length;for(var z=0;z<U;z++)if(d[z]!=g[z])return!1;return!0};u.F0=function(x){var R=new Uint32Array(x.buffer),T=R.length;
for(var z=0;z<T;z++)R[z]=~R[z]};u.a04=function(x){var R=x.length;for(var z=0;z<R;z+=4){x[z]=~x[z];x[z+1]=~x[z+1];
x[z+2]=~x[z+2]}};u.a5F=function(x){var R=x.length;for(var z=3;z<R;z+=4)x[z]=~x[z]};u.aaG=function(x){return x+(x%4==0?0:4-x%4)};
u.B=function(x,R){if(R==null)R=!1;if(!R)x=u.aaG(x);try{var T=new Uint8Array(x)}catch(i3){alert("Not enough RAM! (need "+Math.round(x/(1<<20))+" MB)",7e3);
throw"low_ram"}return T};u.iB=function(x,R,T,c){if(c==null)c=0;var g=0;while(g+3<x.length&&x[g+3].Z()>=c&&R.Rt()*(1<<(g>>>1))<T)g+=2;
var d=x[1],U=x[g+1],e=new gP;e.translate(-d.x,-d.y);e.scale(d.m/U.m,d.e/U.e);e.translate(d.x,d.y);e.concat(R);
return[g,e]};u.hj=function(x){var R=x.length,T=x[R-2],c=x[R-1];while(c.m>=2&&c.e>=2){var g=u.j$(T,c);
x.push(g.z6,g.rect);T=g.z6;c=g.rect}};u.jE=function(x){var R=x.length,T=x[R-2],c=x[R-1];while(c.m>=2&&c.e>=2){var g=u.fQ(T,c);
x.push(g.z6,g.rect);T=g.z6;c=g.rect}};u.j$=function(x,R,T){var c=R.m,g=R.e,d=c>>1,U=g>>1,e=new aP(R.x,R.y,d,U),N=T&&T.length==d*U*4?T:u.B(d*U*4),l=new Uint32Array(x.buffer),J=new Uint32Array(N.buffer);
for(var w=0;w<U;w++)for(var s=0;s<d;s++){var o=w*d+s,V=(w<<1)*c+(s<<1),a=l[V],O=l[V+1],S=l[V+c],L=l[V+c+1],Q=a>>>24,b=O>>>24,Z=S>>>24,I=L>>>24,y=Q+b+Z+I;
if(y==1020){var r=(a>>>0&255)+(O>>>0&255)+(S>>>0&255)+(L>>>0&255)+2>>>2,h=(a>>>8&255)+(O>>>8&255)+(S>>>8&255)+(L>>>8&255)+2>>>2,k=(a>>>16&255)+(O>>>16&255)+(S>>>16&255)+(L>>>16&255)+2>>>2;
J[o]=255<<24|k<<16|h<<8|r}else if(y==0)J[o]=0;else{var r=(a>>>0&255)*Q+(O>>>0&255)*b+(S>>>0&255)*Z+(L>>>0&255)*I,h=(a>>>8&255)*Q+(O>>>8&255)*b+(S>>>8&255)*Z+(L>>>8&255)*I,k=(a>>>16&255)*Q+(O>>>16&255)*b+(S>>>16&255)*Z+(L>>>16&255)*I,K=1/y;
r=~~(r*K+.5);h=~~(h*K+.5);k=~~(k*K+.5);J[o]=y+2>>>2<<24|k<<16|h<<8|r}}return{rect:e,z6:N}};u.Vu=function(x,R,T){var c=R.m,g=R.e,d=c>>1,U=g>>1,e=new aP(R.x,R.y,d,U),N=T&&T.length==d*U*4?T:u.B(d*U*4),l=new Uint32Array(x.buffer),J=new Uint32Array(N.buffer);
for(var w=0;w<U;w++)for(var s=0;s<d;s++){var o=w*d+s,V=(w<<1)*c+(s<<1),a=l[V],O=l[V+1],S=l[V+c],L=l[V+c+1],Q=2+(a>>>0&255)+(O>>>0&255)+(S>>>0&255)+(L>>>0&255)>>>2,b=2+(a>>>8&255)+(O>>>8&255)+(S>>>8&255)+(L>>>8&255)>>>2,Z=2+(a>>>16&255)+(O>>>16&255)+(S>>>16&255)+(L>>>16&255)>>>2,I=2+(a>>>24&255)+(O>>>24&255)+(S>>>24&255)+(L>>>24&255)>>>2;
J[o]=I<<24|Z<<16|b<<8|Q}return{rect:e,z6:N}};u.adc=function(x,R,T){var c=R.m,g=R.e,d=2*Math.floor(c/3),U=2*Math.floor(g/3),e=new aP(R.x,R.y,d,U),N=T&&T.length==d*U*4?T:u.B(d*U*4),l=new Uint32Array(x.buffer),J=new Uint32Array(N.buffer);
for(var w=0;w<U;w+=2)for(var s=0;s<d;s+=2){var o=w*d+s,V=(w*3>>>1)*c+(s*3>>>1),a=l[V],O=l[V+1],S=l[V+2],L=l[V+c],Q=l[V+1+c],b=l[V+2+c],Z=l[V+c+c],I=l[V+1+c+c],y=l[V+2+c+c],r=a>>>24<<2,h=(a>>>16&255)*r,k=(a>>>8&255)*r,K=(a&255)*r,H=O>>>24<<1,p=(O>>>16&255)*H,f=(O>>>8&255)*H,A=(O&255)*H,_=S>>>24<<2,W=(S>>>16&255)*_,Y=(S>>>8&255)*_,G=(S&255)*_,i=L>>>24<<1,E=(L>>>16&255)*i,$=(L>>>8&255)*i,C=(L&255)*i,B=Q>>>24,M=(Q>>>16&255)*B,j=(Q>>>8&255)*B,P=(Q&255)*B,t=b>>>24<<1,q=(b>>>16&255)*t,m=(b>>>8&255)*t,iE=(b&255)*t,hV=Z>>>24<<2,dD=(Z>>>16&255)*hV,bh=(Z>>>8&255)*hV,ho=(Z&255)*hV,aH=I>>>24<<1,f2=(I>>>16&255)*aH,e9=(I>>>8&255)*aH,kB=(I&255)*aH,ct=y>>>24<<2,jF=(y>>>16&255)*ct,fj=(y>>>8&255)*ct,ab=(y&255)*ct,iw=r+H+i+B,jD=_+H+t+B,a1=hV+aH+i+B,gd=ct+aH+t+B,i6=iw==0?0:1/iw,hv=jD==0?0:1/jD,hO=a1==0?0:1/a1,jh=gd==0?0:1/gd,aJ=0,hS=0,iO=0,g$=0;
aJ=~~(.5+(K+A+C+P)*i6);hS=~~(.5+(k+f+$+j)*i6);iO=~~(.5+(h+p+E+M)*i6);g$=~~(.5+iw*(1/9));J[o]=g$<<24|iO<<16|hS<<8|aJ;
aJ=~~(.5+(G+A+iE+P)*hv);hS=~~(.5+(Y+f+m+j)*hv);iO=~~(.5+(W+p+q+M)*hv);g$=~~(.5+jD*(1/9));J[o+1]=g$<<24|iO<<16|hS<<8|aJ;
aJ=~~(.5+(ho+kB+C+P)*hO);hS=~~(.5+(bh+e9+$+j)*hO);iO=~~(.5+(dD+f2+E+M)*hO);g$=~~(.5+a1*(1/9));J[o+d]=g$<<24|iO<<16|hS<<8|aJ;
aJ=~~(.5+(ab+kB+iE+P)*jh);hS=~~(.5+(fj+e9+m+j)*jh);iO=~~(.5+(jF+f2+q+M)*jh);g$=~~(.5+gd*(1/9));J[o+d+1]=g$<<24|iO<<16|hS<<8|aJ}return{rect:e,z6:N}};
u.adC=function(x,R,T){var c=R.m,g=R.e,d=2*Math.floor(c/3),U=2*Math.floor(g/3),e=new aP(R.x,R.y,d,U),N=T&&T.length==d*U*4?T:u.B(d*U*4),l=new Uint32Array(x.buffer),J=new Uint32Array(N.buffer);
for(var w=0;w<U;w+=2)for(var s=0;s<d;s+=2){var o=w*d+s,V=(w*3>>>1)*c+(s*3>>>1),a=l[V],O=l[V+1],S=l[V+2],L=l[V+c],Q=l[V+1+c],b=l[V+2+c],Z=l[V+c+c],I=l[V+1+c+c],y=l[V+2+c+c],r=(a>>>16&255)<<2,h=(a>>>8&255)<<2,k=(a&255)<<2,K=(O>>>16&255)<<1,H=(O>>>8&255)<<1,p=(O&255)<<1,f=(S>>>16&255)<<2,A=(S>>>8&255)<<2,_=(S&255)<<2,W=(L>>>16&255)<<1,Y=(L>>>8&255)<<1,G=(L&255)<<1,i=Q>>>16&255,E=Q>>>8&255,$=Q&255,C=(b>>>16&255)<<1,B=(b>>>8&255)<<1,M=(b&255)<<1,j=(Z>>>16&255)<<2,P=(Z>>>8&255)<<2,t=(Z&255)<<2,q=(I>>>16&255)<<1,m=(I>>>8&255)<<1,iE=(I&255)<<1,hV=(y>>>16&255)<<2,dD=(y>>>8&255)<<2,bh=(y&255)<<2,ho=0,aH=0,f2=0;
ho=~~(.5+(k+p+G+$)*(1/9));aH=~~(.5+(h+H+Y+E)*(1/9));f2=~~(.5+(r+K+W+i)*(1/9));J[o]=255<<24|f2<<16|aH<<8|ho;
ho=~~(.5+(_+p+M+$)*(1/9));aH=~~(.5+(A+H+B+E)*(1/9));f2=~~(.5+(f+K+C+i)*(1/9));J[o+1]=255<<24|f2<<16|aH<<8|ho;
ho=~~(.5+(t+iE+G+$)*(1/9));aH=~~(.5+(P+m+Y+E)*(1/9));f2=~~(.5+(j+q+W+i)*(1/9));J[o+d]=255<<24|f2<<16|aH<<8|ho;
ho=~~(.5+(bh+iE+M+$)*(1/9));aH=~~(.5+(dD+m+B+E)*(1/9));f2=~~(.5+(hV+q+C+i)*(1/9));J[o+d+1]=255<<24|f2<<16|aH<<8|ho}return{rect:e,z6:N}};
u.PN=function(x){var R=255,T=x.length;T-=T&31;for(var z=3;z<T;z+=32)R=R&x[z]&x[z+4]&x[z+8]&x[z+12]&x[z+16]&x[z+20]&x[z+24]&x[z+28];
return R!=255};u.AA=function(x,R,T,c){var g=u.j$,d=u.adc;if(!u.PN(x)){g=u.Vu;d=u.adC}var U={z6:x,rect:R},e=u.gc(T);
for(var z=0;z<e.length;z++){if(e[z]==2)U=g(U.z6,U.rect,c);else U=d(U.z6,U.rect,c)}return U};u.amr=function(x,R,T,c){var g=u.fQ,d=u._0,U={z6:x,rect:R},e=u.gc(T);
for(var z=0;z<e.length;z++){if(e[z]==2)U=g(U.z6,U.rect,c);else U=d(U.z6,U.rect,c)}return U};u.gc=function(x){var R=[],T=x;
while(T<.499){R.push(2);T*=2}R.push(T<.5001?2:3);return R};u.fQ=function(x,R,T){var c=R.m,g=R.e,d=c>>1,U=g>>1,e=new aP(R.x,R.y,d,U);
if(x==null)return{rect:e};var N=T&&T.length>=d*U?T:u.B(d*U);for(var l=0;l<U;l++){var J=l*d;for(var w=0;
w<d;w++){var s=(l<<1)*c+(w<<1);N[J+w]=2+x[s]+x[s+1]+x[s+c]+x[s+c+1]>>>2}}return{rect:e,z6:N}};u._0=function(x,R,T){var c=R.m,g=R.e,d=2*Math.floor(c/3),U=2*Math.floor(g/3),e=new aP(R.x,R.y,d,U);
if(x==null)return{rect:e};var N=T&&T.length>=d*U?T:u.B(d*U);for(var l=0;l<U;l+=2)for(var J=0;J<d;J+=2){var w=l*d+J,s=(l*3>>>1)*c+(J*3>>>1),o=x[s]<<2,V=x[s+1]<<1,a=x[s+2]<<2,O=x[s+c]<<1,S=x[s+1+c],L=x[s+2+c]<<1,Q=x[s+c+c]<<2,b=x[s+1+c+c]<<1,Z=x[s+2+c+c]<<2;
N[w]=~~(.5+(o+V+O+S)*(1/9));N[w+1]=~~(.5+(a+V+L+S)*(1/9));N[w+d]=~~(.5+(Q+b+O+S)*(1/9));N[w+d+1]=~~(.5+(Z+b+L+S)*(1/9))}return{rect:e,z6:N}};
u.ay6=function(x,R,T,c,g){var d=R.yx(c);if(g)d=d.yx(g);var U=Math.max(0,d.x-R.x),e=Math.max(0,d.x-c.x),N=Math.max(0,d.y-R.y),l=Math.max(0,d.y-c.y),J=d.m,w=d.e;
for(var z=0;z<w;z++){var s=(N+z)*R.m+U,o=(l+z)*c.m+e;for(var V=0;V<J;V++){T[o+V]=Math.max(T[o+V],x[s+V])}}};
u.gN=function(x,R,T,c,g){var d=R.yx(c);if(g)d=d.yx(g);var U=Math.max(0,d.x-R.x),e=Math.max(0,d.x-c.x),N=Math.max(0,d.y-R.y),l=Math.max(0,d.y-c.y),J=d.m,w=d.e;
for(var z=0;z<w;z++){var s=(N+z)*R.m+U,o=(l+z)*c.m+e;T.set(new Uint8Array(x.buffer,s,J),o)}};u.H8=function(x,R,T,c){if(R.X$(c)){u.rN(x,T,3);
return}var g=R.yx(c),d=Math.max(0,g.x-R.x),U=Math.max(0,g.x-c.x),e=Math.max(0,g.y-R.y),N=Math.max(0,g.y-c.y),l=g.m,J=g.e;
for(var z=0;z<J;z++){var w=(e+z)*R.m+d,s=(N+z)*c.m+U;for(var o=0;o<l;o++)T[(s+o<<2)+3]=x[w+o]}};u.GB=function(x,R,T,c){var g=R.yx(c),d=Math.max(0,g.x-R.x),U=Math.max(0,g.x-c.x),e=Math.max(0,g.y-R.y),N=Math.max(0,g.y-c.y),l=g.m,J=g.e;
for(var z=0;z<J;z++){var w=(e+z)*R.m+d,s=(N+z)*c.m+U;for(var o=0;o<l;o++)T[s+o]=x[(w+o<<2)+3]}};u.yU=function(x,R,T,c,g){if(R.X$(c)&&(g==null||g.X$(c))){u.kS(x,T);
return}x=new Uint32Array(x.buffer),T=new Uint32Array(T.buffer);var d=R.yx(c);if(g)d=d.yx(g);var U=Math.max(0,d.x-R.x),e=Math.max(0,d.x-c.x),N=Math.max(0,d.y-R.y),l=Math.max(0,d.y-c.y),J=d.m,w=d.e,s=J&3,o=s==0?J:J-s;
for(var z=0;z<w;z++){var V=(N+z)*R.m+U,a=(l+z)*c.m+e;T.set(new Uint32Array(x.buffer,V*4,J),a)}};u.BZ=function(x,R,T,c){var g=R.yx(c),d=Math.max(0,g.x-R.x),U=Math.max(0,g.x-c.x),e=Math.max(0,g.y-R.y),N=Math.max(0,g.y-c.y),l=g.m,J=g.e,w=x.Y,s=x.o,o=x.A,V=x.J,a=T.Y,O=T.o,S=T.A,L=T.J;
for(var z=0;z<J;z++){var Q=(e+z)*R.m+d,b=(N+z)*c.m+U;for(var Z=0;Z<l;Z++){a[b+Z]=w[Q+Z];O[b+Z]=s[Q+Z];
S[b+Z]=o[Q+Z];L[b+Z]=V[Q+Z]}}};u.yk=function(x){var R=x.length;for(var z=0;z<R;z+=4){var T=x[z+3];if(T==255)continue;
x[z]=~~(x[z]*T*(1/255)+.5);x[z+1]=~~(x[z+1]*T*(1/255)+.5);x[z+2]=~~(x[z+2]*T*(1/255)+.5)}};u.MD=function(x){var R=x.length;
for(var z=0;z<R;z+=4){var T=x[z+3];if(T==0||T==255)continue;var c=255/T;x[z]=~~(x[z]*c+.5);x[z+1]=~~(x[z+1]*c+.5);
x[z+2]=~~(x[z+2]*c+.5)}};u.gI=function(x,R){for(var z=0;z<x.length;z++)if(x[z]!=R)return!1;return!0};
u.k5=function(x){return x+1+(x>>>8)>>>8};u.round=function(x,R){if(R==null)R=128;var T=x.length;for(var z=0;
z<T;z++)x[z]=x[z]<R?0:255};u.VO=function(x,R){var T=x.length;for(var z=0;z<T;z++)x[z]=Math.round(x[z]*R)};
u.oB=function(x,R){var T=new Uint32Array(x.buffer),c=new Uint32Array(R.buffer),g=T.length;for(var z=0;
z<g;z++){var d=T[z],U=c[z];c[z]=u.k5((d>>>24)*(U>>>24))<<24|u.k5((d>>>16&255)*(U>>>16&255))<<16|u.k5((d>>>8&255)*(U>>>8&255))<<8|u.k5((d&255)*(U&255))}};
u.iv=function(x,R){var T=x.length;for(var z=0;z<T;z++)R[(z<<2)+3]=u.k5(R[(z<<2)+3]*x[z])};u.a2t=function(x,R,T,c){var g=Math.max(0,c.x-R.x),d=Math.max(0,R.x-c.x),U=Math.max(0,c.y-R.y),e=Math.max(0,R.y-c.y),N=Math.min(R.x+R.m,c.x+c.m)-Math.max(R.x,c.x),l=Math.min(R.y+R.e,c.y+c.e)-Math.max(R.y,c.y);
for(var z=0;z<l;z++){var J=(U+z)*R.m+g,w=(e+z)*c.m+d;for(var s=0;s<N;s++){T[w]=u.k5(T[w]*x[J]);J++;w++}}};
u.AD=function(x,R,T,c){var g=Math.max(0,c.x-R.x),d=Math.max(0,R.x-c.x),U=Math.max(0,c.y-R.y),e=Math.max(0,R.y-c.y),N=Math.min(R.x+R.m,c.x+c.m)-Math.max(R.x,c.x),l=Math.min(R.y+R.e,c.y+c.e)-Math.max(R.y,c.y);
for(var z=0;z<l;z++){var J=(U+z)*R.m+g,w=((e+z)*c.m+d<<2)+3;for(var s=0;s<N;s++){T[w]=u.k5(T[w]*x[J]);
J++;w+=4}}};u.oG=function(x,R,T,c){var g=Math.max(0,c.x-R.x),d=Math.max(0,R.x-c.x),U=Math.max(0,c.y-R.y),e=Math.max(0,R.y-c.y),N=Math.min(R.x+R.m,c.x+c.m)-Math.max(R.x,c.x),l=Math.min(R.y+R.e,c.y+c.e)-Math.max(R.y,c.y);
for(var z=0;z<l;z++){var J=((U+z)*R.m+g<<2)+3,w=((e+z)*c.m+d<<2)+3;for(var s=0;s<N;s++){T[w]=u.k5(T[w]*x[J]);
J+=4;w+=4}}};u.wu=function(x,R){if(R==null)R=1;var T=4*R,c=x.length>>>2,g=new Float64Array(256),d=new Float64Array(256),U=new Float64Array(256),e=new Float64Array(256),N=4*Math.floor(c/R)*R,l=0;
for(var z=0;z<N;z+=T){var J=x[z+0],w=x[z+1],s=x[z+2],o=x[z+3]*R,V=o*(1/255);d[J]+=V;U[w]+=V;e[s]+=V;
l+=o}for(var z=0;z<256;z++)g[z]=d[z]+U[z]+e[z];return[g,d,U,e,c,l/255]};u.PF=function(x,R){function T(I,y){var r=-1,h=0;
while(h<=y){r++;h+=I[r]}return r}function c(I,y){var r=256,h=0;while(h<=y){r--;h+=I[r]}return r}function g(I){var y=0,r=0;
for(var z=0;z<256;z++){r+=I[z];y+=I[z]*z*(1/255)}return y/r}var d=x[0],U=x[1]/100,e=x[2]/100,N=[],l=[];
for(var z=0;z<4;z++){var J=z==0?3:1;N[z]=T(R[z],J*U*R[5]);l[z]=c(R[z],J*e*R[5])}var w=[g(R[1]),g(R[2]),g(R[3])],s=w.slice(0);
s.sort(function(I,y){return I-y});var o=w.indexOf(s[1]),V=(w[0]+w[1]+w[2])/3,a=[];for(var z=0;z<4;z++){var O=0,S=255,L=N[z],Q=l[z];
if(d==0&&z==0){O=L;S=Q}if(d==1&&z!=0){O=L;S=Q}if(d==2&&z!=0){var J=w[z-1]/V;S=Math.max(0,Math.min(255,l[o]*J))}var b=[O,S];
a.push(b);if(d==3&&z==0){var Z=255*(1-V);b.push(Z)}}return a};u.qr=function(x,R){var T=new Uint32Array(x.buffer),c=T.length;
for(var z=0;z<c;z++){var g=T[z],d=g&255,U=g>>8&255,e=g>>16&255,N=g>>24&255;T[z]=R[d]|R[U]<<8|R[e]<<16|R[N]<<24}};
u.ao7=function(x,R,T,c,g,d,U){var e=new Uint32Array(x.buffer),N=new Uint32Array(R.buffer),l=e.length,J=0;
while(256<<J<T.length)J++;if(!U&&!d){for(var z=0;z!=l;z++){var w=e[z],s=(w&255)<<J,o=(w>>>8&255)<<J,V=(w>>>16&255)<<J,a=T[s],O=c[o],S=g[V];
N[z]=a|O<<8|S<<16|w&4278190080}return}for(var z=0;z<l;z++){var w=e[z],s=(w&255)<<J,o=(w>>>8&255)<<J,V=(w>>>16&255)<<J;
if(d)s=o=V=Math.round(s*.3+o*.59+V*.11);var a=T[s],O=c[o],S=g[V];if(U){var L=u.Et(s,o,V),Q=u.Et(a,O,S);
if(L>Q){var b=(L-Q)/(255-Q);a+=b*(255-a);O+=b*(255-O);S+=b*(255-S)}else if(Q==0)a=O=S=0;else{var b=L/Q;
a=b*a;O=b*O;S=b*S}}N[z]=a|O<<8|S<<16|w&4278190080}};u.Vn=function(x,R){var T=R.m,c=R.e,top=0,g=0,d=0,U=0,e=0;
e=0;for(var N=0;N<c;N++){var l=N*T;for(var z=0;z<T;z++)e|=x[l+z];if(e!=0)break;top++}if(top==c)return new aP(0,0,0,0);
e=0;for(var N=c-1;N>=0;N--){var l=N*T;for(var z=0;z<T;z++)e|=x[l+z];if(e!=0)break;d++}var J=c-d;e=0;
for(var z=0;z<T;z++){for(var N=top;N<J;N++)e|=x[N*T+z];if(e!=0)break;g++}e=0;for(var z=T-1;z>=0;z--){for(var N=top;
N<J;N++)e|=x[N*T+z];if(e!=0)break;U++}var w=new aP(R.x+g,R.y+top,T-g-U,c-top-d);return w};u.Wb=function(x,R,T,c){if(c==null)c=[!0,!0,!0,!0];
if(T==null)T=0;var g=new Uint32Array(x.buffer),d=R.m,U=R.e,top=0,e=0,N=0,l=0,J=!1,w=[g[0],g[g.length-1],0][T];
J=!1;if(c[0])for(var s=0;s<U;s++){var o=s*d;for(var z=0;z<d;z++)if(g[o+z]!=w)J=!0;if(J)break;top++}J=!1;
if(c[2])for(var s=U-1;s>=0;s--){var o=s*d;for(var z=0;z<d;z++)if(g[o+z]!=w)J=!0;if(J)break;N++}J=!1;
if(c[1])for(var z=0;z<d;z++){for(var s=0;s<U;s++)if(g[s*d+z]!=w)J=!0;if(J)break;e++}J=!1;if(c[3])for(var z=d-1;
z>=0;z--){for(var s=0;s<U;s++)if(g[s*d+z]!=w)J=!0;if(J)break;l++}var V=new aP(R.x+e,R.y+top,d-e-l,U-top-N);
return V.Y3()?new aP(0,0,0,0):V};u.mu=function(x){var R=u.Vn(x.channel,x.rect);if(R.X$(x.rect))return;
var T=u.B(R.Z());u.gN(x.channel,x.rect,T,R);x.channel=T;x.rect=R};u.T_=function(x){var R=u.B(x.buffer.length>>2);
u.TR(x.buffer,R,3);var T=u.Vn(R,x.rect);if(T.X$(x.rect))return;var c=new u.B(T.Z()*4);u.yU(x.buffer,x.rect,c,T);
x.buffer=c;x.rect=T};u.extend=function(x,R,T){if(x.rect.Ae(R))return;var c=x.rect.y8(R),g=u.B(c.Z());
if(T!=null)g.fill(T);u.gN(x.channel,x.rect,g,c);x.rect=c;x.channel=g};u.aym=function(x,R){if(R.Y3()||x.rect.Ae(R))return;
var T=x.rect.y8(R),c=u.B(T.Z()*4);u.yU(x.buffer,x.rect,c,T);x.rect=T;x.buffer=c};u.Ua=function(x,R,T){if(!T.mD(x))return!1;
var c=Math.floor(x.x)-T.x,g=Math.floor(x.y)-T.y,z=g*T.m+c;return R[z]>128};u.aoq=function(x,R,T){if(!T.mD(x))return!1;
var c=Math.floor(x.x)-T.x,g=Math.floor(x.y)-T.y,z=g*T.m+c;return R[4*z+3]>128};u.DA=function(x){if(u.C1.length<x){u.C1=u.B(x);
u.C1.fill(255)}return u.C1};u.C1=u.B(0);u.uz=function(x){if(u.cz.length<x)u.cz=u.B(x);return u.cz};u.cz=u.B(0);
u.IV=function(x){this.Y=u.B(x);this.o=u.B(x);this.A=u.B(x);this.J=u.B(x)};u.IV.prototype.clone=function(){var x=this.Y.length,R=new u.IV(1);
R.Y=this.Y.slice(0);R.o=this.o.slice(0);R.A=this.A.slice(0);R.J=this.J.slice(0);return R};u.X.aa$=function(x,R,T,c,g){var d=g[0]+1,U=g[1],e=Math.abs(U-25)/4,N=g[2],l=N%2+N*N>>1,J=u.X.q;
J.bF(R,T);var w=J.TK(1),s=J.TK(1),o=J.TK(1);J.Z4(x,c,N,N,l);J.C0(c);J.IX(c,w);J.vF(w,s,d,d,1);J.vF(w,o,d,d,d*d);
J.sub(o,s);J.oB(s,e);(U<25?J.sub:J.add)(w,s);J.FF(s,c);J.$_(c)};u.X.ajZ=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);var U=g[0]*2.55,e=g[1],N=e>>1,l=g[2]*.25,J=d.TK(4),w=d.TK(1),s=d.TK(1);d.$G(x,J,e,1,!0,N);
d.$G(x,c,e,1,!1,N);d.kP(x,w);d.I1(w,U);d.cl(w,s,3);d.Zr(c,s,J);d.e0(J,c,l)};u.X.abZ=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);d.hH(g[3]);var U=g[0]*-3+80,e=g[1]*-3+80,N=g[2]/2+.5,l=g[4],J=g[5],w=d.TK(1),s=d.TK(1),o=d.TK(1),V=d.TK(1),a=d.TK(4),O=d.TK(4);
d.kP(x,w);d.kS(w,s);d.TH(w,e,5);d.R_(w,.4,0);d.cl(w,o,3);d.nb(o,w,9,3,!0,27);d.kS(s,o);d.F0(o);var S=d.P2(U,5,o);
for(var z=0;z<d.Mi;z++){s[z]=S[255-s[z]]}d.R_(s,.4,0);d.kS(s,o);d.cl(o,V,2);d.nb(V,o,5,3,!1,15);d.oB(w,N);
d.oB(o,N);d.EM(c,2155905279);d.EM(O,l);d.EM(a,J);d.Zr(O,w,c);d.Zr(a,o,c)};u.X.aAv=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);var U=new Uint8Array(256),e=5+10*g[1];e+=g[1]>3?(g[1]-3)*10:0;var N=~~(g[2]*.73)+50,l=Math.min(N+e,128),J=l-N,w=-255*N;
for(var z=0;z<256;z++){var s=z*65;U[z]=d.hh(w/J);w+=255}var o=d.TK(1),V=d.TK(1),a=d.TK(1);d.kP(x,o);
d.kS(o,a);d.cl(o,V,2*g[0]+1);d.sub(V,o);d.oB(o,65);d.nb(o,V,9,3,!0,20);for(var z=0;z<d.Mi;z++){var O=a[z],S=V[z];
o[z]=S>0?~~((S*O+(255-S)*128)/255):128}d.cl(o,V,3);d.nb(V,o,15,2,!0,16);d.nb(V,a,15,2,!1,15);d.$j(o,a);
d.Dy(a,V,2);d.jp(V,U);d.cl(V,o,2);d.iS(o,c)};u.X.anW=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);var U=2*g[0]+1,e=d.L5[g[1]],N=g[2]*5.1,l=g[3],J=d.TK(1),w=d.TK(1),s=d.TK(4),o=d.TK(4);
d.EM(s,l);d.C0(s,c);d.Z7(J,N);d.FF(J,c);d.$_(c,s);d.kP(x,w);d.cl(w,J,U);d.sub(J,w);d.oB(w,e);d.nb(w,J,9,3,!0,20);
d.Zr(x,J,s);d.GP(s,c,3);d.$G(c,s,15,2,!0,16);d.$G(c,o,15,2,!1,16);d.$j(s,o);d.e0(o,c,2)};u.X.alF=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);var U=(15-g[0])/4+1,e=(15-g[1])/4+1,N=g[2],l=g[3],J=d.C$(g[4]),w=g[5]+1,s=g[6],o=g[7],V=g[8],a=d.TK(1),O=d.TK(1),S=d.TK(1),L=d.TK(1),Q=d.TK(4),b=d.TK(4);
d.hs(S,N,l,s);d.kP(x,O);d.cl(O,a,5);d.pL(S,a,L,w,J);d.oB(L,U);d.y2(L,2);d.F0(a);d.pL(S,a,O,w,J);d.oB(O,e);
d.y2(O,2);d.EM(Q,2155905279);d.EM(b,o);d.EM(c,V);d.Zr(Q,O,b);d.Zr(b,L,c)};u.X.a4k=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);d.hH(g[3]);var U=g[0],e=g[1]/10,N=g[2]/10,l=d.TK(1),J=d.TK(1),w=d.TK(1),s=d.Q_(),o=d.Q_(),V=d.Q_();
d.CT(l);d.cl(l,J,11);d.cl(J,l,11);d.qh(l,s);d.OA(x,l);d.kS(l,w);d.cl(l,J,9);d.cl(J,l,9);d.qh(l,o);d.ka(o,V,5);
d.ka(V,o,5);d.V9(s,.8);d.atM(s,o,.8,.9);d.gY(o,l,U);d.vF(l,J,2,2,1);d.vF(J,l,2,2,3);d.vF(l,J,2,2,3);
d.vF(w,l,5,5,13);d.Go(J,l,J,e);d.IJ(l,J,J,N);d.pL(J,J,l,5,1);d.C0(x,c);d.FF(l,c);d.$_(c)};u.X.aBn=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);var U=g[0],e=g[1]/2,N=g[2],l=U/2,J=d.TK(4),w=d.TK(4);d.kS(x,c);for(var s=0;s<N;s++){d.$G(c,J,U,1,!0,l);
d.$G(c,w,U,1,!1,l);d.$j(w,J);d.GP(J,w,2);d.e0(w,c,e)}};u.X.a93=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);
var U=g[0]*10,e=g[1]*4.9,N=g[2]*4.9,l=d.TK(1),J=d.TK(1),w=d.TK(4),s=d.TK(4);d.kP(x,l);d.I1(l,d.aqN(l,U));
d.cl(l,J,3);d.$G(x,w,5,1,!1,1);d.$G(x,c,15,2,!0,16);d.Zr(c,J,w);d.C0(w,c);d.IX(c,l);d.TH(l,e,N);d.FF(l,c);
d.$_(c)};u.X.avP=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);d.hH(g[4]);var U=g[0]/20,e=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][g[1]],N=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][g[2]],l=g[3],J=new Int16Array(256);
for(var z=0;z<256;z++){J[z]=~~((z-128)*U)}var w=d.TK(1),s=d.TK(1),o=d.TK(4);d.kP(x,w);d.cl(w,s,25);d.oB(s,e);
d.y2(s,N);d.cl(s,w,25);d.CT(s);d.pI(w,s,J);d.kS(x,c);d.EM(o,l);d.Zr(o,w,c)};u.X.a5w=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);var U=g[0]+5,e=15-g[1],N=U*U/2,l=1-(3-g[2])/10,J=~~(e*e*l-1),w=~~(e*e*(1-l));if(w==0)w=1;var s=d.TK(1),o=d.TK(1),V=d.TK(1),a=d.TK(4);
d.kP(x,V);d.vF(V,s,U,U,N);d.cl(V,o,U);d.sub(s,o);d.I1(o,1);d.Z4(x,a,e,e,J);d.Z4(x,c,e,e,w);d.Zr(a,o,c)};
u.X.axb=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);d.hH(g[3]);var U=(20-g[0])*.05,e=g[1]*-2.75+60,N=65-e,l=g[2]/10,J=d.TK(1),w=d.TK(1);
d.OA(x,w);var s=d.P2(e,N,w);d.C0(x,c);d.IX(c,w);d.CT(J);d.Eo(w,J,U);d.jp(w,s);d.oB(w,g[2]/10);d.add(J,w);
d.FF(w,c);d.$_(c)};u.X.aoi=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);var U=5+g[0],e=15-g[1],N=g[2],l=U*U/2+U*U%2*1,J=1-(3-g[2])/10,w=~~(e*e*J-1),s=~~(e*e*(1-J));
if(s==0)s=1;var o=d.TK(1),V=d.TK(1),a=d.TK(1),O=d.TK(1),S=d.TK(1);d.OA(x,V);d.Dy(V,o,3);d.vF(o,V,2,2,1);
var L=d.P2(20,20,V);d.jp(V,L);d.cl(V,S,5);d.vF(S,o,U,U,l);d.vF(S,V,e,e,w);d.vF(S,a,e,e,s);d.cl(S,O,U);
d.sub(o,O);d.I1(O,1);d.se(V,O,a);d.C0(x,c);d.FF(a,c);d.$_(c)};u.X.a3Y=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);d.hH(g[5]);var U=d.Mi,e=d.i0,N=g[0],l=g[1],J=g[2],w=g[3],s=g[4],o=.05*N+1,V=N/100,a=N>>1,O=2*N-100,S=+(l==9),L=+(l==7),Q=[4,1][S],b=[3,2][S],Z=[1,2][L],I=[2,1][L],y=[50,75][S],r=l<4?J:(J>>1)+50,h=d.EG(y,r),k=d.Gm(w),K=d.Gm(s),H=d.TK(4),p=d.TK(4),f=d.TK(1),A=d.TK(1);
function _(c,h){if(r!=50){d.D6(c,h)}}function W(x,q){for(var z=0;z<U;z++){x[z]=d.hh(x[z]+(q[z]-128)*V)}}function Y(x,q){for(var z=0,m=0;
z<U;z++){x[m]=d.hh(x[m]+(q[m]-128)*V);x[m+1]=d.hh(x[m+1]+(q[m+1]-128)*V);x[m+2]=d.hh(x[m+2]+(q[m+2]-128)*V);
m+=4}}function G(x,c){d.CT(p);d.kS(x,c);Y(c,p);_(c,h)}function i(q){var m=0;for(var iE=0;iE<12;iE++)m+=d.random();
return d.hh(a*(m-6)+q)}function E(x,c){d.kS(x,c);for(var z=0;z<e;z+=4){c[z]=i(c[z]);c[z+1]=i(c[z+1]);
c[z+2]=i(c[z+2])}_(c,h)}function $(x,c){d.kS(x,c);for(var z=0;z<e;z+=4){if(d.random()<V){c[z]=k[0];c[z+1]=k[1];
c[z+2]=k[2]}}_(c,h)}function C(x,c){d.CT(H);d.Z4(H,p,b,b,Q);d.kS(x,H);Y(H,p);d.Z4(H,c,5,5,13);_(c,h)}function B(x,c){d.CT(p);
d.kS(x,H);Y(H,p);_(c,h);d.Z4(H,c,b,b,Q)}function M(x,c){d.kS(x,H);_(c,h);d.kP(H,f);for(var z=0,q=0;z<U;
z++){var m=((O-f[z]+255)*128.5+.5)/32767;if(d.random()<=m){c[q++]=K[0];c[q++]=K[1];c[q++]=K[2]}else{c[q++]=k[0];
c[q++]=k[1];c[q++]=k[2]}c[q]=x[q];q++}}function j(x,c){d.C0(x,c);d.IX(c,f);d.Dy(f,A,o);d.vF(A,f,b,b,Q);
d.jp(f,h);d.FF(f,c);d.$_(c)}function P(x){var q=0;if(l==8){for(var m=0;m<R;m++){x[q++]=~~(d.random()*255)}for(var z=1;
z<T;z++){for(var m=0;m<R;m++){x[q++]=x[m]}}}else{for(var z=0;z<T;z++){var iE=~~(d.random()*255);for(var m=0;
m<R;m++){x[q++]=iE}}}}function t(x,c){d.kP(x,f);d.CT(A);W(f,A);P(A);W(f,A);d.GP(x,H,9);d.GP(H,p,9);d.cl(f,A,2);
d.jp(A,h);d.cl(A,f,2);d.C0(p,c);d.FF(f,c);d.$_(c)}[G,E,$,C,C,B,M,t,t,j][l](x,c)};u.X.a8f=function(x,R,T,c,g){var d=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],U=u.X.q,a=0,O,z,Z,I,y,r=0,h=1,k=255;
U.bF(R,T);U.hH(g[3]);var e=U.TK(1),N=U.TK(1);U.kP(x,e);var l=g[0],J=g[1],w=J<=50?d[J]/255:1+(255-d[101-J])/255,s=g[2],o=e.length,V=new Float32Array(o),S=1+1/10*l,L=(1-1/S)/2,Q=16/256,b=R-1;
for(z=0;z<U.Mi;z++){V[z]=e[z]/255;N[z]=l==1?U.random()<1/255?k:h:h}function K(H,p){var f=H*R+p;if(N[f]!=h||H>=T||p>=R){return}var I=V[f],A=w-I,_=U.random(),W=_/S+L;
if(a==0||Math.abs(y-I)>Q){O=W<=A?r:k;a=~~(U.random()*l)}else if(.1<_){a--}else{a=0}N[f]=O;y=I}if(s==0){for(z=0;
z<R;z++){for(Z=0;Z<R;Z++){I=z+Z;if(I>=R)break;K(Z,b-I)}a=0}for(z=1;z<T;z++){for(Z=0;Z<T;Z++){I=z+Z;if(I>=T||Z>=R)break;
K(I,b-Z)}a=0}}else if(s==1){for(z=0;z<T;z++){for(Z=0;Z<R;Z++){K(z,Z)}a=0}}else if(s==2){for(z=0;z<R;
z++){for(Z=0;Z<R;Z++){I=z+Z;if(I>=R)break;K(Z,I)}a=0}for(z=1;z<T;z++){for(Z=0;Z<T;Z++){I=z+Z;if(I>=T||Z>=R)break;
K(I,Z)}a=0}}else{for(z=0;z<R;z++){for(Z=0;Z<T;Z++){K(Z,z)}a=0}}U.iS(N,c)};u.X.axP=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);var U=g[0],e=g[1],N=g[2],l=d.TK(1),J=d.TK(1),w=d.TK(1),s=d.TK(1),o=d.TK(4),V=d.TK(4);d.IX(x,s,3,4);
d.kP(x,l);d.vF(l,J,3,3,1);d.vF(l,w,3,3,9);d.sub(w,J);d.cl(J,l,3);d.TH(l,40,10,s);d.$G(x,c,U,2,!1,U);
d.$G(x,o,U,2,!0,U);d.EM(V,255);d.Zr(c,l,V);d.Zr(V,l,o);d.e0(o,c,1);d.C0(c);d.IX(c,l);d.TH(l,e,N,s);d.FF(l,c);
d.$_(c)};u.X.a6I=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);d.hH(g[3]);var U=g[0],e=g[1],N=g[2]/10;U=U+e;
var l=d.TK(1),J=d.TK(1),w=d.Q_(),s=d.Q_();d.CT(l);d.cl(l,J,11);d.cl(J,l,11);d.qh(l,w);d.ka(w,s,5);d.ka(s,w,5);
d.V9(s,.97);d.gY(s,l,U);d.vF(l,J,e,e,1);d.OA(x,l);d.Go(J,l,J,.6);d.IJ(l,J,J,N);d.pL(J,J,l,5,1);d.C0(x,c);
d.FF(l,c);d.$_(c)};u.X.a9B=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);var U=Math.abs(g[0]),e=U+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][U],N=2*U+1,l=g[1]/10,J=l*13/15,w=d.TK(1),s=d.TK(1),o=d.TK(1),V=d.TK(1),a=d.TK(4),O=d.TK(4),S=d.TK(4),L=d.TK(4),Q=d.TK(4);
d.kP(x,w);if(g[0]>=0){d.F0(w)}d.kS(w,o);d.cl(w,V,e);d.cl(V,w,e);d.oB(w,l);d.kS(w,s);d.cl(w,V,N);d.cl(V,w,N);
d.oB(w,J);d.EM(S,g[2]);d.EM(L,g[3]);d.EM(Q,g[4]);d.Zr(S,w,L,a);d.Zr(Q,s,a,O);d.Zr(L,o,O,c);d.IX(x,o,3);
d.FF(o,c,3)};u.X.a4A=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);d.hH(g[5]);var U=g[0]*5.1,e=g[1]/100,N=d.a78[g[2]],l=d.TK(1),J=d.TK(1),w=d.TK(1);
d.kP(x,l);d.Z7(J,255);d.CT(w);d.I1(l,U);d.Eo(J,l,.7);d.Eo(w,l,e);d.pL(l,l,J,5,N);d.kS(x,c);d.a9d(c,U,g[4],g[3]);
d.C0(c);d.FF(J,c);d.$_(c)};u.X.aoP=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);var U=g[0],e=4-g[1],N=11-g[2],l=d.TK(1),J=d.TK(1),w=d.TK(4);
d.OA(x,J);for(var z=0;z<e;z++){d.kS(J,l);d.qt(l,J,U,U)}d.GP(x,w,U);d.C0(w,w);d.FF(J,w);d.$_(w,w);(N<11?d.a1Y:d.kS)(w,c,N)};
u.X.ahZ=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);d.hH(g[2]);var U=g[0]+5,e=~~(U/5+1),N=~~(U/2)+1,l=N*N,J=~~(U/3),w=d.a78[g[1]],s=new Array(256);
for(var z=0;z<256;z++){s[z]=~~(.2*(z-128))}var o=d.TK(1),V=d.TK(1);d.aiR(x,c,U);d.C0(c);d.IX(c,o);d.CT(V);
d.pI(o,V,s);d.an4(V,U,U,e,e);d.Go(o,V,o,1);d.cl(o,V,J);d.cl(V,o,J);d.vF(o,V,N,N,l);d.pL(V,V,o,5,w);d.FF(o,c);
d.$_(c)};u.X.a1C=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);var U=d.TK(1),e=d.TK(1),N=d.TK(1),l=d.Q_(),J=d.Q_();
d.kP(x,U);d.cl(U,e,g[2]);d.I1(e,g[0]*5.1);d.vF(e,U,2,2,4);d.cl(U,e,3);d.cl(e,U,3);d.kS(U,N);d.cl(U,e,5);
d.cl(e,U,5);d.qh(U,l);d.ka(l,J,5);d.ka(J,l,5);d.aiA(l,e,g[1]);d.F0(e);d.Go(N,e,N,1);d.iS(N,c)};u.X.ajR=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);var U=1<<7-g[2],e=d.TK(1),N=d.TK(1),l=d.TK(1);d.OA(x,N);d.cl(N,e,3);d.kS(e,N);d.cl(e,l,g[0]+5);
d.sub(l,N);d.TH(N,1,g[1]);d.oB(e,1/U);d.oB(e,U);d.sub(e,N);d.C0(x,c);d.FF(N,c);d.$_(c)};u.X.azA=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);d.hH(g[3]);var U=d.TK(1),e=d.TK(1),N=d.TK(1);d.kP(x,U);d.azU(e,g[0]/50);d.cl(e,N,3);d.vF(U,e,9,9,41);
d.TH(e,g[1],g[2]);d.Go(e,N,N,.75);d.IJ(e,N,e,.5);d.kS(e,U);d.vF(U,N,3,3,8);d.Go(N,e,N,.75);d.oB(N,1.2);
d.Dy(N,U,1);d.cl(U,N,2);d.Dy(N,U,2);d.oB(U,1.2);d.cl(U,N,2);d.iS(N,c)};u.X.apG=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);var U=g[0]+9,e=g[1]/2,N=g[2],l=g[3],J=d.C$(g[4]),w=g[5]+1,s=g[6],o=d.TK(1),V=d.TK(1),a=d.TK(4),O=d.TK(4);
d.hs(V,N,l,s);d.Nu(x,c,U,1,1);d.Nu(c,a,U,1,1);d.ajU(a,a,O,7,e);d.oB(O,1.2);d.y2(O,1.2);d.pL(V,o,o,w,J);
d.oB(o,3);d.kS(x,c);d.Zr(O,o,c)};u.X.ajy=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);d.hH(g[3]);var U=g[0]+4,e=U*2/5+(U%5|0);
U--;var N=g[1]*-2.75+60,l=65-N,J=g[2]/10,w=d.TK(1),s=d.TK(1);d.CT(w);d.OA(x,s);var o=d.P2(N,l,s);d.C0(x,c);
d.IX(c,s);d.Eo(s,w,.8);d.jp(s,o);d.oB(s,J);d.add(w,s);d.nb(s,w,U,3,!1,e);d.FF(w,c);d.$_(c)};u.X.ae6=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);d.hH(g[3]);var U=g[0]+5,e=(U*U>>1)+U%2,N=g[1]/10,l=g[2],J=(l*l>>1)+l%2,w=d.TK(1),s=d.TK(1),o=d.TK(1),V=d.TK(4),a=d.TK(4),O=d.TK(4);
d.CT(o);d.C0(x,O);d.IX(O,w);d.Eo(w,o,.8);d.cl(o,w,3);d.Dy(w,o,N);d.FF(o,O);d.$_(O,O);d.kP(O,o);d.vF(o,w,U,U,e);
d.cl(o,s,U);d.sub(w,s);d.I1(s,1);d.Z4(O,V,7,7,40);d.Z4(O,a,7,7,10);d.Zr(V,s,a);d.Z4(a,c,l,l,J)};u.X.aei=function(x,R,T,c,g){var d=u.X.q,e=255,z,l;
d.bF(R,T);var U=g[0];if(U<2)e=U;else if(U<12)e=5*U-5;else if(U<47)e=2*U+28;else if(U<50){z=U-47;e=125+12.5*z+12.5*z*z}var N=new Uint8Array(256);
for(z=75,l=15;z<256;z++,l+=24)N[z]=Math.min(255,l);var J=d.TK(1),w=d.TK(1),s=d.TK(1);d.kP(x,J);d.cl(J,w,11);
d.cl(w,s,11);d.sub(s,J);d.oB(J,8);d.sub(s,J);d.I1(J,e);d.F0(J);d.cl(J,w,5);d.I1(w,51);d.cl(w,J,g[1]);
d.cl(J,w,g[1]);d.F0(w);d.jp(w,N);d.iS(w,c)};u.X.a0A=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);var U=d.L5[g[1]],e=g[2],N=e*1.5,l=d.TK(1),J=d.TK(1),w=d.TK(1);
d.OA(x,l);d.nb(l,J,15,2,!0,15);d.kS(J,w);d.TH(w,e,N);d.cl(w,l,3);d.cl(J,w,g[0]);d.sub(w,J);d.oB(J,U);
d.sub(l,J);d.cl(J,l,3);d.nb(l,J,3,1,!1,1);d.GP(x,c,15);d.C0(c);d.FF(J,c);d.$_(c)};u.X.atG=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);d.hH(g[3]);var U=g[0]*5.1,e=16-g[1],N=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][g[2]],l=d.TK(1),J=d.TK(1),w=d.TK(1);
d.kP(x,l);d.I1(l,U);d.cl(l,J,e);d.cl(J,l,e);d.CT(w);d.IJ(l,w,w,1);d.Go(l,w,l,.75);d.oB(l,N);d.y2(l,N);
d.vF(l,J,2,2,2);d.iS(J,c)};u.X.a5c=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);var U=g[0]+9,e=g[1]+9,N=g[2],l=g[3],J=d.C$(g[4]),w=g[5]+1,s=g[6],o=d.TK(1),V=d.TK(1),a=d.TK(1),O=d.TK(1),S=d.TK(1),L=d.TK(4);
d.OA(x,o);d.qt(o,a,U,U);d.cl(a,o,e);d.kS(a,S);d.kS(o,O);d.sub(S,O);d.sub(o,S);d.add(S,O);d.oB(O,10);
d.hs(V,N,l,s);d.pL(V,o,S,w,J);d.se(S,O,a,.8);d.GP(x,L,9);d.GP(L,c,9);d.C0(c);d.FF(a,c);d.$_(c)};u.X.a0C=function(x,R,T,c,g){var d=u.X.q;
d.bF(R,T);var U=16-g[0],e=g[1]*8,N=1-(3-g[2])/10,l=~~(U*U*N-1),J=~~(U*U*(1-N));if(J==0)J=1;var w=d.TK(1),s=d.TK(1),o=d.TK(1),V=d.TK(4);
d.kP(x,o);d.vF(o,w,7,7,25);d.cl(o,s,7);d.sub(w,s);d.I1(s,1);d.Z4(x,V,U,U,l);d.Z4(x,c,U,U,J);d.Zr(V,s,c);
d.C0(c);d.IX(c,w);d.vF(w,o,3,3,1);d.vF(w,s,3,3,9);d.sub(s,o);d.kS(o,s);d.sub(w,o);d.sub(o,s);d.vF(s,w,3,3,8);
d.TH(w,e,1);d.FF(w,c);d.$_(c)};u.X.a2T=function(x,R,T,c,g){var d=u.X.q;d.bF(R,T);d.hH(g[3]);var U=g[0],e=g[1],N=g[2],l=U>>1,J=Math.max(~~(U/5),1),w=Math.max(~~(U*2/3),1),s=d.EG(e,N),o=d.TK(1),V=d.TK(1),a=d.TK(1),O=d.TK(1),S=d.TK(4);
d.OA(x,o);d.g9(2147483647,4,2,2,0,255,V);d.g9(4,2147483647,2,2,0,255,O);d.CT(a);d.IJ(V,a,V,1);d.IJ(O,a,O,1);
d.IJ(V,o,V,1);d.IJ(O,o,O,1);d.GP(x,S,l);d.GP(S,c,l);d.vF(V,o,1,U,J);d.vF(o,V,3,U,w);d.vF(O,o,U,1,J);
d.vF(o,O,U,3,w);d.$j(V,O);d.C0(c);d.FF(O,c);d.$_(c);d.D6(c,s)};u.X.Er=function(x,R,T){var c=T.a90,g=T.Mi,d=T.TK(1),top=T.TK(1),U=T.TK(1),e=T.TK(1),N=T.TK(1),l=T.TK(1),J=T.TK(1),w=T.TK(1),s=T.TK(1),o=T.KQ,V=T.kh,a=u.zo.qQ,O=u.zo.nc;
a(x,d,o,V,O([8,5,2,5,2,-1,2,-1,-4]));a(x,top,o,V,O([5,5,5,2,2,2,-1,-1,-1]));a(x,U,o,V,O([2,5,8,-1,2,5,-4,-1,2]));
a(x,e,o,V,O([5,2,-1,5,2,-1,5,2,-1]));a(x,N,o,V,O([2,2,2,2,2,2,2,2,2]));a(x,l,o,V,O([-1,2,5,-1,2,5,-1,2,5]));
a(x,J,o,V,O([2,-1,-4,5,2,-1,8,5,2]));a(x,w,o,V,O([-1,-1,-1,2,2,2,5,5,5]));a(x,s,o,V,O([-4,-1,2,-1,2,5,2,5,8]));
var S=[d,top,U,e,N,l,J,w,s];for(var L=0;L<V;L++){for(var Q=0;Q<o;Q++){var b=L*o+Q,Z=x[b],I=null,y=0;
for(var r=-1;r<2;r++){for(var h=-1;h<2;h++){var k=S[(r+1)*3+h+1],K=Math.max(0,Math.min(L+r,V-1)),H=Math.max(0,Math.min(Q+h,o-1)),p=k[K*o+H],f=Math.abs(p-Z);
if(I==null||f<I){I=f;y=p}}}R[b]=y}}};u.X.aah=function(x,R,T,c,g){var self=u.X.q;self.bF(R,T);var d=self.TK(1),U=self.TK(1);
for(var z=0;z<4;z++){self.IX(x,d,z);if(z<3){u.X.Er(d,U,self);u.X.Er(U,d,self);u.X.Er(d,U,self);u.X.Er(U,d,self);
u.X.Er(d,U,self);u.X.Er(U,d,self);u.X.Er(d,U,self);u.X.Er(U,d,self);u.X.Er(d,U,self)}else U=d;self.FF(U,c,z)}};
u.X.q={};u.X.q.KQ=0;u.X.q.kh=0;u.X.q.Mi=0;u.X.q.mW=0;u.X.q.i0=0;u.X.q.bF=function(x,R){var T=x*R,self=u.X.q;
self.KQ=x;self.kh=R;self.Mi=T;self.mW=T<<1;self.i0=T<<2};u.X.q.hH=function(x){u.X.q.random=function(){var R=x+=1831565813;
R=Math.imul(R^R>>>15,R|1);R^=R+Math.imul(R^R>>>7,R|61);return((R^R>>>14)>>>0)/4294967296}};u.X.q.TK=function(x){var R=u.X.q;
return new Uint8Array([-1,R.Mi,R.mW,-1,R.i0][x])};u.X.q.Q_=function(){return new Int32Array(u.X.q.mW)};
u.X.q.cl=function(x,R,T,c){if(c==null)c=T;var self=u.X.q,g=self.KQ,d=self.kh,U=c,e=c>>1,N=T,l=T>>1,J=T*c,w=0;
for(var z=0;z<d;z++){var s=0;for(var o=0;o<U;o++){for(var V=0;V<N;V++){var a=0-l+V,O=z-e+o;if(a<0)a=0;
else if(a>=g)a=g-1;if(O<0)O=0;else if(O>=d)O=d-1;s+=x[O*g+a]}}R[w++]=~~(s/J);for(var S=1;S<g;S++){for(var o=0;
o<U;o++){var L=S-l-1,Q=L+N,O=z-e+o;if(L<0)L=0;if(Q>=g)Q=g-1;if(O<0)O=0;else if(O>=d)O=d-1;s+=x[O*g+Q]-x[O*g+L]}R[w++]=~~(s/J)}}};
u.X.q.ka=function(x,R,T,c){var self=u.X.q,g=new Int32Array(self.Mi),d=new Int32Array(self.Mi);for(var z=0;
z<2;z++){self.IX(x,g,z,2);self.cl(g,d,T,c);self.FF(d,R,z,2)}};u.X.q.GP=function(x,R,T,c){var self=u.X.q,g=self.TK(1),d=self.TK(1);
for(var z=0;z<4;z++){self.IX(x,g,z);if(z<3)self.cl(g,d,T,c);else d=g;self.FF(d,R,z)}};u.X.q.Nu=function(x,R,T,c,g){var self=u.X.q,d=self.KQ,U=self.kh,e=T+c-1,N=T>>1,l=e>>1,J=0,w=T*c,s=new Int32Array(T);
for(var z=0;z<U;z++){var o=0,V=0,a=0;for(var O=0;O<T;O++){var S=g?e-O-c:O;for(var L=S,Q=c+S;L<Q;L++){var b=0-l+L,Z=z-N+O;
if(L==S){s[O]=b}if(b<0)b=0;else if(b>=d)b=d-1;if(Z<0)Z=0;else if(Z>=U)Z=U-1;var I=d*Z+b<<2;o+=x[I];V+=x[I+1];
a+=x[I+2]}}R[J++]=~~(o/w);R[J++]=~~(V/w);R[J++]=~~(a/w);R[J]=x[J];J++;for(var y=1;y<d;y++){for(var O=0;
O<T;O++){var Z=z-N+O,S=s[O]+1;s[O]=S;var r=S-1,h=S+c-1;if(Z<0)Z=0;else if(Z>=U)Z=U-1;if(r<0)r=0;else if(r>=d)r=d-1;
if(h<0)h=0;else if(h>=d)h=d-1;var k=Z*d+r<<2,K=Z*d+h<<2;o=o+x[K]-x[k];V=V+x[K+1]-x[k+1];a=a+x[K+2]-x[k+2]}R[J++]=~~(o/w);
R[J++]=~~(V/w);R[J++]=~~(a/w);R[J]=x[J];J++}}};u.X.q.nb=function(x,R,T,c,g,d){var self=u.X.q,U=self.KQ,e=self.kh,N=T+c-1,l=T>>1,J=N>>1,w=0,s=new Int32Array(T),o=new Int32Array(256),V=new Int32Array(16);
for(var z=0;z<e;z++){for(var a=0;a<256;a++){o[a]=0}for(var a=0;a<16;a++){V[a]=0}for(var O=0;O<T;O++){var S=g?N-O-c:O;
for(var L=S,Q=c+S;L<Q;L++){var b=0-J+L,Z=z-l+O;if(L==S){s[O]=b}if(b<0)b=0;else if(b>=U)b=U-1;if(Z<0)Z=0;
else if(Z>=e)Z=e-1;o[x[Z*U+b]]++;V[x[Z*U+b]>>>4]++}}var I=0,y=0;while(I+V[y>>>4]<d){I+=V[y>>>4];y+=16}for(;
y<256;y++){I+=o[y];if(I>=d)break}R[w++]=y;for(var a=1;a<U;a++){for(var O=0;O<T;O++){var Z=z-l+O,S=s[O]+1;
s[O]=S;var r=S-1,h=S+c-1;if(Z<0)Z=0;else if(Z>=e)Z=e-1;if(r<0)r=0;else if(r>=U)r=U-1;if(h<0)h=0;else if(h>=U)h=U-1;
o[x[Z*U+r]]--;o[x[Z*U+h]]++;V[x[Z*U+r]>>>4]--;V[x[Z*U+h]>>>4]++}I=0;y=0;while(I+V[y>>>4]<d){I+=V[y>>>4];
y+=16}for(;y<256;y++){I+=o[y];if(I>=d)break}R[w++]=y}}};u.X.q.$G=function(x,R,T,c,g,d){var self=u.X.q,U=self.TK(1),e=self.TK(1);
for(var z=0;z<4;z++){self.IX(x,U,z);if(z<3)self.nb(U,e,T,c,g,d);else e=U;self.FF(e,R,z)}};u.X.q.vF=function(x,R,T,c,g){g=Math.min(c*T,g);
var self=u.X.q,d=self.KQ,U=self.kh,e=c>>1,N=T>>1,l=0,J=new Int32Array(c),w=new Int32Array(256),s=new Int32Array(16);
for(var z=0;z<U;z++){for(var o=0;o<256;o++){w[o]=0}for(var o=0;o<16;o++){s[o]=0}for(var V=0;V<c;V++){for(var a=0,O=T;
a<O;a++){var S=0-N+a,L=z-e+V;if(a==0){J[V]=S}if(S<0)S=0;else if(S>=d)S=d-1;if(L<0)L=0;else if(L>=U)L=U-1;
w[x[L*d+S]]++;s[x[L*d+S]>>>4]++}}var Q=0,b=0;while(Q+s[b>>>4]<g){Q+=s[b>>>4];b+=16}for(;b<256;b++){Q+=w[b];
if(Q>=g)break}R[l++]=b;for(var o=1;o<d;o++){for(var V=0;V<c;V++){var L=z-e+V,Z=J[V]+1;J[V]=Z;var I=Z-1,y=Z+T-1;
if(L<0)L=0;else if(L>=U)L=U-1;if(I<0)I=0;else if(I>=d)I=d-1;if(y<0)y=0;else if(y>=d)y=d-1;w[x[L*d+I]]--;
w[x[L*d+y]]++;s[x[L*d+I]>>>4]--;s[x[L*d+y]>>>4]++}Q=0;for(b=0;b<256;b++){Q+=w[b];if(Q>=g)break}R[l++]=b}}};
u.X.q.Z4=function(x,R,T,c,g){var self=u.X.q,d=self.TK(1),U=self.TK(1);for(var z=0;z<4;z++){self.IX(x,d,z);
if(z<3)self.vF(d,U,T,c,g);else U=d;self.FF(U,R,z)}};u.X.q.Dy=function(x,R,T){var self=u.X.q,c=self.KQ,g=self.kh,d=0;
for(var z=0;z<g;z++){var U=z*c,e=(z-1)*c,N=(z+1)*c;if(e<0)e=U;if(N>=g)N=U;for(var l=0;l<c;l++){var J=l-1,w=l+1;
if(J<0)J=l;if(w>=c)w=l;var s=U+J,o=U+w,V=e+l,a=N+l,O=U+l,S=x[s],L=x[o],Q=x[V],b=x[a],Z=x[O],I=Z+(Z*4*T+.5);
I=I-((S+L+b+Q)*T+.5);R[d++]=self.hh(I)}}};u.X.q.e0=function(x,R,T){var self=u.X.q,c=self.TK(1),g=self.TK(1);
for(var z=0;z<4;z++){self.IX(x,c,z);if(z<3)self.Dy(c,g,T);else g=c;self.FF(g,R,z)}};u.X.q.a1Y=function(x,R,T){var self=u.X.q,c=self.KQ,g=self.kh,d=0,U=T+4;
for(var z=0;z<g;z++){var e=z*c,N=(z-1)*c,l=(z+1)*c;if(N<0)N=e;if(l>=g)l=e;for(var J=0;J<c;J++){var w=J-1,s=J+1;
if(w<0)w=J;if(s>=c)s=J;var o=e+w<<2,V=e+s<<2,a=N+J<<2,O=l+J<<2,S=e+J<<2;for(var L=0;L<3;L++){var Q=x[o+L],b=x[V+L],Z=x[a+L],I=x[O+L],y=x[S+L];
R[d++]=(y*T+Q+b+I+Z)/U}R[d]=x[d];d++}}};u.X.q.qt=function(x,R,T,c){var self=u.X.q,g=self.KQ,d=self.kh,U=T>>1,e=c>>1,N=0,l=new Int32Array(T),J=new Int32Array(256);
for(var z=0;z<d;z++){for(var w=0;w<256;w++){J[w]=0}for(var s=0;s<T;s++){for(var o=0,V=c;o<V;o++){var a=0-e+o,O=z-U+s;
if(o==0){l[s]=a}if(a<0)a=0;else if(a>=g)a=g-1;if(O<0)O=0;else if(O>=d)O=d-1;J[x[O*g+a]]++}}var S=0,L=0;
for(var Q=0;Q<256;Q++){if(S<J[Q]){L=Q;S=J[Q]}}R[N++]=L;for(var w=1;w<g;w++){for(var s=0;s<T;s++){var O=z-U+s,b=l[s]+1;
l[s]=b;var Z=b-1,I=b+c-1;if(O<0)O=0;else if(O>=d)O=d-1;if(Z<0)Z=0;else if(Z>=g)Z=g-1;if(I<0)I=0;else if(I>=g)I=g-1;
J[x[O*g+Z]]--;J[x[O*g+I]]++}S=0;L=0;for(var Q=0;Q<256;Q++){if(S<J[Q]){L=Q;S=J[Q]}}R[N++]=L}}};u.X.q.awQ=[function(x,R,T,c,g,d,U,e,N,l){return g+(x+R+T)*l-(N+e+U)*l},function(x,R,T,c,g,d,U,e,N,l){return g+(R+T+d)*l-(e+U+c)*l},function(x,R,T,c,g,d,U,e,N,l){return g+(T+d+N)*l-(U+c+x)*l},function(x,R,T,c,g,d,U,e,N,l){return g+(d+N+e)*l-(c+x+R)*l},function(x,R,T,c,g,d,U,e,N,l){return g+(N+e+U)*l-(x+R+T)*l},function(x,R,T,c,g,d,U,e,N,l){return g+(e+U+c)*l-(R+T+d)*l},function(x,R,T,c,g,d,U,e,N,l){return g+(U+c+x)*l-(T+d+N)*l},function(x,R,T,c,g,d,U,e,N,l){return g+(c+x+R)*l-(d+N+e)*l}];
u.X.q.pL=function(x,R,T,c,g){var self=u.X.q,d=self.KQ,U=self.kh,e=d,N=self.awQ[c-1];for(var z=0;z<U;
z++){var l=(z>0?z-1:0)*e,J=z*e,w=(z<U?z+1:z)*e;for(var s=0;s<d;s++){var o=s>0?s-1:0,V=s<d?s+1:s,a=J+s,O=x[l+o],S=x[l+s],L=x[l+V],Q=x[J+o],b=R[a],Z=x[J+V],I=x[w+o],y=x[w+s],r=x[w+V];
T[a]=self.hh(N(O,S,L,Q,b,Z,I,y,r,g))}}};u.X.q.ajU=function(x,R,T,c,g){var self=u.X.q,d=self.TK(1),U=self.TK(1),e=self.TK(1);
for(var z=0;z<3;z++){self.IX(x,d,z);self.IX(R,U,z);self.pL(d,U,e,c,g);self.FF(e,T,z)}self.IX(R,d,3);
self.FF(d,T,3)};u.X.q.kP=function(x,R){var T=x.length,c=0;for(var z=0;z<T;z++){R[c++]=~~((x[z++]+x[z++]+x[z++]+2)/3)}};
u.X.q.iS=function(x,R){var T=R.length,c=0;for(var z=0;z<T;z++){var g=x[z];R[c++]=g;R[c++]=g;R[c++]=g;
R[c++]=255}if(R[0]==255)R[0]--;else R[0]++};u.X.q.OA=function(x,R){var T=R.length,c=0;for(var z=0;z<T;
z++){var g=x[c++],d=x[c++],U=x[c++];c++;if(d>g)g=d;if(U>g)g=U;R[z]=g}};u.X.q.C0=function(x,R){if(R==null)R=x;
var T=x.length;for(var c=0;c<T;c+=4){var g=x[c],d=x[c+1],U=x[c+2],e=g,N=0,l=g,w;if(d<=g){g=d}else{N=1;
l=d}if(U<=l){if(g>U){g=U}}else{N=2;l=U}var J=l-g;if(J!=0){if(N==0){w=~~(43*(d-U)/J)}else if(N==1){w=~~(43*(U+2*J-e)/J)}else{w=43*(e+4*J-d)/J}if(w<0){w=255&w-1}R[c]=w;
R[c+1]=~~(255*J/l)}else{R[c]=J;R[c+1]=J}R[c+2]=l;R[c+3]=x[c+3]}};u.X.q.$_=function(x,R){if(R==null)R=x;
var T=x.length;for(var c=0;c<T;c+=4){var g=x[c],d=x[c+1],U=x[c+2];if(d){if(g==255)g=0;var e=~~(6*g/255),N=~~(-255*e+6*g);
if(e==0){R[c]=U;R[c+1]=~~(U*(255-d*(255-N)/255)/255);R[c+2]=~~(U*(255-d)/255)}else if(e==1){R[c]=~~(U*(255-d*N/255)/255);
R[c+1]=U;R[c+2]=~~(U*(255-d)/255)}else if(e==2){R[c]=~~(U*(255-d)/255);R[c+1]=U;R[c+2]=~~(U*(255-d*(255-N)/255)/255)}else if(e==3){R[c]=~~(U*(255-d)/255);
R[c+1]=~~(U*(255-d*N/255)/255);R[c+2]=U}else if(e==4){R[c]=~~(U*(255-d*(255-N)/255)/255);R[c+1]=~~(U*(255-d)/255);
R[c+2]=U}else{R[c]=U;R[c+1]=~~(U*(255-d)/255);R[c+2]=~~(U*(255-d*N/255)/255)}}else{R[c]=U;R[c+1]=U;R[c+2]=U}R[c+3]=x[c+3]}};
u.X.q.FF=function(x,R,T,c){if(T==null)T=2;if(c==null)c=4;var g=x.length;for(var z=0;z<g;z++){R[T]=x[z];
T+=c}};u.X.q.IX=function(x,R,T,c){if(T==null)T=2;if(c==null)c=4;var g=R.length;for(var z=0;z<g;z++){R[z]=x[T];
T+=c}};u.X.q.se=function(x,R,T,c){if(c==null)c=1;var g=R.length,d=0,U;for(var d=0;d<g;d++){U=R[d];if(U){U*=c;
T[d]=~~((U*x[d]+(255-U)*T[d])/255)}}};u.X.q.Zr=function(x,R,T,c){if(c==null)c=T;var g=R.length,d=0,U,e;
for(var z=0;z<g;z++){U=R[z];if(U){e=255-U;c[d]=~~((U*x[d]+e*T[d])/255);c[d+1]=~~((U*x[d+1]+e*T[d+1])/255);
c[d+2]=~~((U*x[d+2]+e*T[d+2])/255)}c[d+3]=x[d+3];d+=4}};u.X.q.Go=function(x,R,T,c){var g=~~(c*255),d=T.length;
for(var z=0;z<d;z++){T[z]=((255-g*(255-x[z])/255)*R[z]+x[z]*(g*(255-x[z])/255))/255}};u.X.q.IJ=function(x,R,T,c){var g=~~(c*255),d=T.length;
for(var z=0;z<d;z++){T[z]=((255-g*x[z]/255)*R[z]+x[z]*(g*x[z]/255))/255}};u.X.q.Eo=function(x,R,T){var c=R.length;
for(var z=0;z<c;z++){R[z]=~~(x[z]*T+.5)+(R[z]-~~(R[z]*T+.5))}};u.X.q.sub=function(x,R){var T=x.length;
for(var z=0;z<T;z++){R[z]=Math.max(x[z]-R[z],0)}};u.X.q.add=function(x,R){var T=x.length;for(var z=0;
z<T;z++){R[z]=Math.min(x[z]+R[z],255)}};u.X.q.a90=function(x,R){var T=x.length;for(var z=0;z<T;z++){R[z]=x[z]+R[z]}};
u.X.q.$j=function(x,R){var T=x.length;for(var z=0;z<T;z++){R[z]=x[z]+R[z]>>1}};u.X.q.kS=function(x,R){var T=x.length;
for(var z=0;z<T;z++){R[z]=x[z]}};u.X.q.jp=function(x,R){var T=x.length;for(var z=0;z<T;z++){x[z]=R[x[z]]}};
u.X.q.D6=function(x,R){var T=u.X.q.i0;for(var z=0;z<T;z+=4){var c=x[z],g=x[z+1],d=x[z+2],U=c;if(g>c)U=g;
if(d>c)U=d;var e=R[U];if(e){x[z]=~~(e*c/U);x[z+1]=~~(e*g/U);x[z+2]=~~(e*d/U)}else{x[z]=e;x[z+1]=e;x[z+2]=e}}};
u.X.q.oB=function(x,R){for(var z=0,T=x.length;z<T;z++){x[z]=Math.min(255,~~(.5+x[z]*R))}};u.X.q.y2=function(x,R){for(var z=0,T=x.length;
z<T;z++){x[z]=255-Math.min(255,~~(.5+(255-x[z])*R))}};u.X.q.F0=function(x){var R=x.length;for(var z=0;
z<R;z++){x[z]=255-x[z]}};u.X.q.I1=function(x,R,T,c){if(T==null)T=0;if(c==null)c=255;for(var z=0,g=x.length;
z<g;z++){x[z]=x[z]>=R?c:T}};u.X.q.Gm=function(x){return[x>>24&255,x>>16&255,x>>8&255,x&255]};u.X.q.a9d=function(x,R,T,c){if(T==null)T=255;
if(c==null)c=4278190335;var g=u.X.q,d=g.i0,U=g.Gm(T),e=g.Gm(c);for(var z=0;z<d;z+=4){var N=~~((x[z]+x[z+1]+x[z+2]+2)/3);
if(N>=R){x[z]=U[0];x[z+1]=U[1];x[z+2]=U[2]}else{x[z]=e[0];x[z+1]=e[1];x[z+2]=e[2]}}};u.X.q.EM=function(x,R){var T=u.X.q,c=T.i0,g=T.Gm(R);
for(var z=0;z<c;){x[z++]=g[0];x[z++]=g[1];x[z++]=g[2];x[z++]=g[3]}};u.X.q.Z7=function(x,R){var T=x.length;
for(var z=0;z<T;){x[z++]=R}};u.X.q.EG=function(x,R){x=x>5?(100-Math.max(4,x))/100:.95;R=R!=100?Math.max(4,R)/100:.9995;
var T=new Uint8Array(256),c=R>.5?.5/(1-R):R*2,g=~~(c*256),d=~~((.5-x*c)*256)<<8;for(var z=0;z<256;z++){T[z]=u.X.q.hh(d>>8);
d+=g}return T};u.X.q.CT=function(x){for(var z=0,R=u.X.q,T=x.length;z<T;z++){x[z]=~~(R.random()*256)}};
u.X.q.azU=function(x,R){for(var z=0,T=u.X.q,c=x.length;z<c;z++){x[z]=T.random()<R?255:0}};u.X.q.R_=function(x,R,T){for(var z=0,c=u.X.q,g=x.length;
z<g;z++){if(c.random()<R)x[z]=T}};u.X.q.pI=function(x,R,T){var c=x.length;for(var z=0;z<c;z++){x[z]=u.X.q.hh(x[z]+T[R[z]])}};
u.X.q.rf=function(x){var R=new Uint32Array(256);for(var z=0,T=x.length;z<T;z++)R[x[z]]++;return R};u.X.q.aBo=function(x,R){var T=0,c=0,g=new Uint32Array(256),d=new Float32Array(256);
for(var z=0,U=x.length;z<U;z++){var e=x[z],N=R[z];if(N==255){g[e]++;T++}else if(N>0){N/=255;c+=N;d[e]+=N;
if(c>=1){c--;T++}if(d[e]>=1){d[e]--;g[e]++}}}return[T,g]};u.X.q.P2=function(x,R,T,c){var self=u.X.q,g,d,J=0,s=256;
if(c){var U=self.aBo(T,c);g=U[1];d=U[0]/100}else{g=self.rf(T);d=self.Mi/100}var e=new Uint8Array(256),N=d*x,l=d*R,w=-1;
do{J+=g[++w]}while(J<=N);J=0;do{J+=g[--s]}while(J<=l);if(s-w<=0)s=w+1;if(s>255){s=255;w=254}var o=255/(s-w),V=-w;
for(var z=0;z<256;z++){e[z]=self.hh(o*V+.5);V++}return e};u.X.q.TH=function(x,R,T,c){var g=u.X.q;g.jp(x,g.P2(R,T,x,c))};
u.X.q.aqN=function(x,R){var self=u.X.q,T=self.rf(x),c=self.Mi*R/100,g=0,d=-1;do{g+=T[++d]}while(g<=c);
return d};u.X.q.qh=function(x,R){var T=0,self=u.X.q,c=self.KQ,g=self.kh,d=1/Math.PI,U=d*255;for(var z=0;
z<g;z++){var e=z+1;if(e==g)e--;var N=z*c,l=~~((1-(z+1)/g)*255);for(var J=0;J<c;J++){var w=J+1;if(w==c)w--;
var s=x[N+J],o=x[N+w],V=x[e*c+J];if(s-V==0){R[T++]=l}else{var a=s-V+255;if(a==255){a=0}else{a=~~(Math.atan2(1/(255-a),1)*U+.5);
if(a<0)a+=255}R[T++]=a}if(s-o==0){R[T++]=~~((1-(J+1)/c)*255)}else{var a=s-o+255;if(a==255){a=0}else{a=~~(Math.atan2(1/(255-a),1)*U+.5);
if(a<0)a+=255}R[T++]=a}}}};u.X.q.V9=function(x,R){var self=u.X.q,T=self.KQ,c=self.kh,g=0;for(var z=0;
z<c;z++){for(var d=0;d<T;d++){x[g]=~~(z*R+.5)+~~(x[g]*(1-R)+.5);g++;x[g]=~~(d*R+.5)+~~(x[g]*(1-R)+.5);
g++}}};u.X.q.atM=function(x,R,T,c){var self=u.X.q,g=self.KQ,d=self.kh,U=0;for(var z=0;z<d;z++){for(var e=0;
e<g;e++){R[U]=~~(R[U]*(1-T)+.5)+~~(x[U]*c+.5);U++;R[U]=~~(R[U]*(1-T)+.5)+~~(x[U]*c+.5);U++}}};u.X.q.gY=function(x,R,T){var self=u.X.q,c=self.KQ,g=self.kh,d=0,U=0;
for(var z=0;z<g;z++){for(var e=0;e<c;e++){var N=x[d++],l=x[d++];R[U++]=l%T>=2&&N%T>=2?255:0}}};u.X.q.g9=function(x,R,T,c,g,d,U){var self=u.X.q,e=self.KQ,N=self.kh,l=0,J=0,w=0;
for(var z=0;z<N;z++){var s=z%x<T||N-T<=z;for(var o=0;o<e;o++){U[l++]=s||o%R<c||e-c<=o?g:d}}};u.X.q.hs=function(x,R,T,c){var self=u.X.q,g=self.KQ,d=self.kh;
self.g9(8,8,4,4,0,255,x)};u.X.q.hh=function(x){return~~Math.min(255,Math.max(0,x))};u.X.q.L5=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
u.X.q.a78=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];u.X.q.C$=function(x){return x>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][x-41]:x/40};
u.X.q.aiR=function(x,R,T){var self=u.X.q,c=self.KQ,g=self.kh,d=T,U=T>>1,e=U-1,N=d*d,l=0;for(var z=0;
z<g;z++){var J=0,w=0,s=0,o=~~(z/T)*T,V=0;for(var a=0;a<d;a++){for(var O=0;O<d;O++){var S=V+O,L=o+a;if(S>=c)S=c-1;
if(L>=g)L=g-1;J+=x[L*c+S<<2];w+=x[(L*c+S<<2)+1];s+=x[(L*c+S<<2)+2]}}var Q=~~(J/N),b=~~(w/N),Z=~~(s/N);
R[l]=Q;R[l+1]=b;R[l+2]=Z;R[l+3]=x[l+3];l+=4;for(var I=1;I<c;I++){for(var a=0;a<d;a++){var y=I-1,r=y+d,L=o+a;
if(r>=c)r=c-1;if(L>=g)L=g-1;var h=L*c,k=h+r<<2,K=h+y<<2;J+=x[k]-x[K];w+=x[k+1]-x[K+1];s+=x[k+2]-x[K+2]}if(I%T==0){Q=~~(J/N);
b=~~(w/N);Z=~~(s/N)}R[l]=Q;R[l+1]=b;R[l+2]=Z;R[l+3]=x[l+3];l+=4}}};u.X.q.an4=function(x,R,T,c,g){var self=u.X.q,d=self.KQ,U=self.kh,e=0,N=0,l=0,J=0;
for(var z=J;z<U+J;z++){var w=z%R>=c||z<c||U+J-c<=z;for(var s=0;s<d;s++){x[e++]=w&&(s%T>=g||s<g||d-g<=s)?255:0}}};
u.X.q.aiA=function(x,R,T){var c=function(l,J){return J<=l?l/J&1?J-l%J:l%J:l},g=[function(e,N){return c(e,255)/255},function(e,N){return(255+c(e,255)-c(N,255))/510},function(e,N){return(255-c(N,255))/255},function(e,N){return(510-c(e,255)-c(N,255))/510},function(e,N){return(255-c(e,255))/255},function(e,N){return(255-c(e,255)+c(N,255))/510},function(e,N){return c(N,255)/255},function(e,N){return(c(e,255)+c(N,255))/510}][T],d=0,U=0;
for(var z=0;z<u.X.q.Mi;z++){var e=x[d++],N=x[d++];R[U++]=~~(255*g(e,N))}};u.X.ab_=function(){var x=[],R=new Uint8Array(512),T=new Float32Array(512),c=new Float32Array(512),g=[1,-1,1,-1,1,-1,0,0],d=[1,1,-1,-1,0,0,1,-1],U=0,e,V=0;
for(;U<256;U++)x[U]=U;while(U!=0){U--;e=Math.floor(Math.random()*U);x[e]^=x[U]^(x[U]=x[e])}function N(N){N=Math.floor(N*65536);
if(N<256){N|=N<<8}for(var z=0;z<256;z++){var S=z+256,L=x[z]^(z&1?N:N>>8)&255;R[z]=R[S]=L;L=L%8;T[z]=T[S]=g[L];
c[z]=c[S]=d[L]}}function l(S){return S*S*S*(S*(S*6-15)+10)}function J(S,L,Q){return(1-Q)*S+Q*L}function w(S,L){return S&L}function s(S,L){return S%L}function o(S,L,Q,b,Z){var I=Math.floor(S),y=Math.floor(L),U,r,h,k,K,H;
S=S-I;L=L-y;I=I&255;y=y&255;U=I+R[y];k=T[U]*S+c[U]*L;U=I+R[Z(y+1,b)];h=T[U]*S+c[U]*(L-1);U=Z(I+1,Q)+R[y];
K=T[U]*(S-1)+c[U]*L;U=Z(I+1,Q)+R[Z(y+1,b)];H=T[U]*(S-1)+c[U]*(L-1);r=l(S);return J(J(k,K,r),J(h,H,r),l(L))}function a(S,U,L){S[U]=L}function O(S,L,Q,b,Z){var I=Math.min(Math.min(L,256),Math.min(256,Q)),y=I==256||I<8,r=8,h=new Uint32Array(r),k=new Uint32Array(r),K=new Float32Array(r),H=new Float32Array(r),p=1,f=1,A=y?w:s,_=a,W;
for(var z=0;z<r;z++){W=f*1/I;if(y){k[z]=(1<<Math.ceil(Math.log2(Q*W)))-1;h[z]=(1<<Math.ceil(Math.log2(L*W)))-1}else{k[z]=W*Q;
h[z]=W*L}K[z]=p;H[z]=W;p*=.5;f=f<<1}N(Math.random());for(var Y=0,U=0;Y<Q;Y++){for(var G=0;G<L;G++){var i=0;
for(var E=0;E<r;E++){W=H[E];i+=o(G*W,Y*W,h[E],k[E],A)*K[E]}_(b,U++,Math.round(Math.max(0,255*Math.min(1,.5+i*.5))))}}}return O}();
u.X.ahP=function(){function x(R,T,c,g){var d=new Uint8Array(R.length>>>2),U=new Uint8Array(R.length>>>2),e=new Uint8Array(R.length);
for(var z=0;z<R.length;z+=4){var N=R[z+0]*.3+R[z+1]*.59+R[z+2]*.11;U[z>>>2]=N;e[z]=R[z];e[z+1]=R[z+1];
e[z+2]=R[z+2]}u.zo.a38(U,d,T,c);u.zo.nh(R,g,T,c,u.zo.hU[1],0,!0);for(var z=0;z<R.length;z+=4){e[z+3]=255-d[z>>>2]}for(var z=0,l=R.length;
z<l;z+=4){var J=e[z+3]/255;g[z]=e[z]*J+g[z]*(1-J);g[z+1]=e[z+1]*J+g[z+1]*(1-J);g[z+2]=e[z+2]*J+g[z+2]*(1-J)}}return x}();
u.X.acN=function(){function x(d,U,e,N,l){var J=new Uint32Array(d.buffer),w=0;for(var z=0;z<e;z++){for(var s=0;
s<U;s++,w+=4){var o=J[z*U+s],V=o&255,a=o>>>8&255,O=o>>>16&255,S=o>>>24&255,L=~~(Math.random()*8),Q=L%3,b=0,Z=0;
if(L<3){Z--}else if(L>4){Z++}if(Q==0){b--}else if(Q==2){b++}var I=s+b,y=z+Z;if(I<0)I=0;else if(I>U-1)I=U-1;
if(y<0)y=0;else if(y>e-1)y=e-1;var o=J[y*U+I],r=o&255,h=o>>>8&255,k=o>>>16&255,K=o>>>24&255;N[w]=l(V,r);
N[w+1]=l(a,h);N[w+2]=l(O,k);N[w+3]=l(S,K)}}}function R(d,U){return U}function T(d,U){return d>U?U:d}function c(d,U){return d<U?U:d}function g(d,U,e,N,l){var J=l[0];
if(J==0)x(d,U,e,N,R);else if(J==1)x(d,U,e,N,T);else if(J==2)x(d,U,e,N,c);else if(J==3){console.error("Not implemented")}else console.error("Mew mew")}return g}();
u.X.aqC=function(){function x(R,T,c,g,d){var U=d&&d[0]?d[0]:4,e,N,l,J,w,s,o;for(var z=0;z<c;z++){var V=Math.max(z-U,0),a=Math.min(z+U,c-1);
for(var O=0;O<T;O++){var S=Math.max(O-U,0),L=Math.min(O+U,T-1);e=V*T+S<<2;J=R[e];w=R[e+1];s=R[e+2];o=R[e+3];
e=V*T+L<<2;J+=R[e];w+=R[e+1];s+=R[e+2];o+=R[e+3];e=a*T+S<<2;J+=R[e];w+=R[e+1];s+=R[e+2];o+=R[e+3];e=a*T+L<<2;
J+=R[e];w+=R[e+1];s+=R[e+2];o+=R[e+3];e=z*T+O<<2;g[e]=J+2>>>2;g[e+1]=w+2>>>2;g[e+2]=s+2>>>2;g[e+3]=o+2>>>2}}}return x}();
u.X.anU=function(){function x(R,T,c,g){var d=new Uint8Array(R.length),U=new Uint8Array(R.length>>>2),e=new Uint8Array(R.length>>>2);
u.zo.nh(R,d,T,c,u.zo.hU[2],0,!0);for(var z=0;z<R.length;z+=4){var N=d[z+0]*.3+d[z+1]*.59+d[z+2]*.11;
U[z>>>2]=N;g[z+0]=R[z+0];g[z+1]=R[z+1];g[z+2]=R[z+2];g[z+3]=R[z+3]}u.zo.a38(U,e,T,c);for(var z=0;z<R.length;
z+=4){d[z+3]=~~(Math.max(0,255-e[z>>>2]-50)*(255/205))}for(var z=0,l=R.length;z<l;z+=4){var J=d[z+3]/255;
g[z]=d[z]*J+g[z]*(1-J);g[z+1]=d[z+1]*J+g[z+1]*(1-J);g[z+2]=d[z+2]*J+g[z+2]*(1-J)}}return x}();u.X.$k=function(){function x(L,Q){return L[Q]+L[Q+1]+L[Q+2]+L[Q+3]}function R(L,Q){return L[Q]+L[Q+1]+L[Q+2]+2*L[Q+3]}function T(L,Q,b,Z){L[Q]=b[Z];
L[Q+1]=b[Z+1];L[Q+2]=b[Z+2];L[Q+3]=b[Z+3]}function c(L,Q,b){L[Q]=L[b];L[Q+1]=L[b+1];L[Q+2]=L[b+2];L[Q+3]=L[b+3]}function g(L,Q,b){L[b]=Q[b];
L[b+1]=Q[b+1];L[b+2]=Q[b+2];L[b+3]=255-Q[b+3]}function d(L){for(var z=0,Q=L.length;z<Q;z+=4){L[z+3]=255-L[z+3]}}function U(){var L=Math.random();
if(L>.5)return 0;if(L>.25)return 1;if(L>.1)return 2;if(L>.02143)return 3;if(L>.00445)return 4;if(L>65e-5)return 5;
if(L>415e-6)return 6;if(L>55e-6)return 7;return 8}function e(L,Q,b,Z,I,y){L[Q]=b[Z]+(I[y]-b[Z]>>1);L[Q+1]=b[Z+1]+(I[y+1]-b[Z+1]>>1);
L[Q+2]=b[Z+2]+(I[y+2]-b[Z+2]>>1);L[Q+3]=b[Z+3]+(I[y+3]-b[Z+3]>>1)}function N(L,Q,b,Z,I,y){L[Q]=I[y]+b[Z]>>1;
L[Q+1]=I[y+1]+b[Z+1]>>1;L[Q+2]=I[y+2]+b[Z+2]>>1;L[Q+3]=I[y+3]+b[Z+3]>>1}function l(L,Q,b,Z,I,y,r,h,k){var K=0,H=0,p=0,z,f=I[y],A;
e(h,0,L,Q,L,b);for(z=0;z<f;z++){e(h,(z+1)*4,h,z*4,L,b)}H=(f+1)*4;p+=f;y--;T(L,Q,h,H-4);Z[y]=x(L,Q);Q-=k;
while(y>0&&Z[y-1]<Z[y]){A=h;h=r;r=A;K=H;N(h,0,L,Q-k,r,0);for(z=4;z<K;z+=4){N(h,z,h,z-4,r,z)}f=I[y];for(z=p;
z<f;z++){e(h,H,h,H-4,r,K-4);H+=4;p++}y--;T(L,Q,h,H-4);Z[y]=x(L,Q);Q-=k}}function J(L,Q,b,Z,I){var y=Q*4,r=0,h,k,K=new Uint8Array(Q+1),H=new Uint8Array(10*4),p=new Uint8Array(10*4);
for(var z=0;z<b;z++){g(Z,L,r);I[0]=x(Z,r);K[0]=U();h=r;r+=4;for(var f=1;f<Q;f++){g(Z,L,r);I[f]=x(Z,r);
k=U();K[f]=k;if(I[f-1]<I[f]&&k>0){l(Z,r-4,r,I,K,f,H,p,4)}r+=4}I[Q]=I[0];K[Q]=K[0];if(I[Q-1]<I[Q]&&k>0){l(Z,r,h,I,K,Q,H,p,4)}}d(Z)}function w(){var L=Math.random();
if(L>.659755)return 0;if(L>.1625)return 10;if(L>.06)return 20;if(L>.01)return 30;if(L>.0035)return 40;
if(L>65e-5)return 50;if(L>415e-6)return 60;if(L>55e-6)return 70;return 80}function s(L,Q,b,Z,I,y){var r=w()+1,h=Z[I];
for(var z=1;z<r;z++){if(0>I)break;if(Z[I-z]<h){c(L,Q,b)}else{break}Q+=y}}function o(L,Q,b,Z,I){var y=Q*4,r=0;
for(var z=0;z<b;z++){g(Z,L,r);I[0]=x(Z,r);r+=4;for(var h=1;h<Q;h++){g(Z,L,r);I[h]=x(L,r);if(I[h-1]<I[h]){s(Z,r-4,r,I,h,-4)}r+=4}I[Q]=I[0];
if(I[h-1]<I[h]){s(Z,r-4,r-y,I,h,-4)}}d(Z)}function V(L,Q,b,Z,I,y){var r=1,h,k,K=new Uint8Array(4),H,p=Q;
while(Math.random()<1/r){p=Q;if(Z<=1)break;h=b[Z];k=b[Z-1];if(h<=k)break;T(K,0,L,p-y);H=!0;for(var z=Z;
z<I;z++){if(k>b[z]){T(L,p-y,K,0);b[z-1]=k;H=!1;break}T(L,p-y,L,p);b[z-1]=b[z];p+=y}if(H){T(L,p-y,K,0);
b[I-1]=k}r++;Z--;Q-=y}}function a(L,Q,b,Z,I){var y=0,r=0,h=Q*4;for(var z=0;z<b;z++){r=y;for(var k=0;
k<Q;k++){g(Z,L,y);I[k]=R(Z,y);y+=4}y=r;for(var k=1;k<Q;k++){if(I[k-1]<I[k]&&Math.random()<.66){V(Z,y+4,I,k,Q,4)}y+=4}y+=4}d(Z)}function O(L,Q,b,Z,I){var y=I[0],r=I[1],h=new Uint16Array(Q+1),k=L,K=Z,H;
if(r){H=Z.slice(0);S(L,Z,Q,b);k=Z;K=H}if(y==0)J(k,Q,b,K,h);else if(y==1)o(k,Q,b,K,h);else if(y==2)a(k,Q,b,K,h);
if(r){S(H,Z,Q,b)}}function S(L,Q,b,Z){for(var I=0;I<Z;I++)for(var y=0;y<b;y++){var r=I*b+y<<2,h=I*b+(b-1-y)<<2;
Q[h]=L[r];Q[h+1]=L[r+1];Q[h+2]=L[r+2];Q[h+3]=L[r+3]}}return O}();u.X.a2_=function(x,R,T,c,g){var d=u.X.q,U=1,O=0,Q=0;
d.bF(R,T);d.hH(g[2]);var e=3<<13,N=Math.PI/2.43,l=N/256,J=Math.PI*2/256;function w(){var y=d.random()*256,r=d.random()*256;
return U*~~(Math.tan(N-y*l)*325*Math.cos(r*J)*256)+e>>16}U=g[0];var s=g[1],o=(s+2)/2,V=d.random()*255,a=d.TK(1);
for(var z=0;z<T;z++){var S=d.hh(w()+V);for(var L=0;L<R;L++){S=d.hh(w()+S);a[O++]=S}}O=R;for(var z=1;
z<T;z++){var b=d.hh(w()+a[Q++]);a[O++]=b;for(var L=1;L<R;L++){var Z=Q+1;if(L+1==R){Z--}var I=(o+b+a[Z]+a[Q]*s)/(s+2);
b=d.hh(w()+I);a[O++]=b;Q++}}d.iS(a,c)};var ie=function(){function x(B){B=B^61^B>>>16;B=B+(B<<3);B=B^B>>>4;
B=B*668265261;B=B^B>>>15;return B}var R=function(){var R=function(B){if(B){this.Y=B}this.Y=x(this.Y);
return(this.Y&16777215)*(1/16777215)};return R};function T(B,M){if(M==null){M=[0,0]}return Math.sqrt((M[0]-B[0])*(M[0]-B[0])+(M[1]-B[1])*(M[1]-B[1]))}function c(B,M){if(M==null){M=[0,0]}return[-(M[1]-B[1])/T(B,M),(M[0]-B[0])/T(B,M)]}function g(B){return[Math.cos(B),Math.sin(B)]}function d(B){var M=T(B,[0,0]),j=[B[0]/M,B[1]/M],P=Math.atan(j[1]/j[0]);
if(j[0]>0&&j[1]<0){P+=2*Math.PI}else if(j[0]<0&&j[1]<0){P+=Math.PI}else if(j[0]<0&&j[1]>0){P+=Math.PI}return P}function U(B){var U=0;
for(var z=1;z<B.length/2;++z){U+=T([B[2*z],B[2*z+1]],[B[2*(z-1)],B[2*(z-1)+1]])}return U}function e(B,M,j){var P=new Float32Array(B.length),t=1/(B.length/2),q=Z(j);
for(var z=0;z<B.length/2;++z){var m=z*t,iE=m/2+.5,hV=1,dD=0;if(j.shape==2){hV=1/(2*iE)}if(j.shape==3){iE=(1-m)/2+.5;
hV=1/(2*iE)+.5}if(j.shape==4){iE=m;hV=Math.sin(3/2*Math.PI*iE)/4+1}if(j.shape==5){iE=(m-.5)*6;hV=(-Math.atan(iE)/1.25+1)/5+.6-.2*m}var bh=[null,null];
if(z==0){bh=c([B[2*z],B[2*z+1]],[B[2*(z+1)],B[2*(z+1)+1]])}else if(z==B.length/2-1){bh=c([B[2*(z-1)],B[2*(z-1)+1]],[B[2*z],B[2*z+1]])}else{bh=c([B[2*(z-1)],B[2*(z-1)+1]],[B[2*(z+1)],B[2*(z+1)+1]])}P[2*z]=B[2*z]+(hV*M+dD)*bh[0];
P[2*z+1]=B[2*z+1]+(hV*M+dD)*bh[1];if(j.style==2){P[2*z]+=I(2*z/P.length,q,j)}}return P}function N(B,M,j){var P=new Float32Array(B.length),t=1/(B.length/2);
for(var z=0;z<B.length/2;++z){var q=z*t,m=[null,null],iE=.6*j.C4*h(q,M.anb)*j.u7/100,hV=.6*j.C4*h(q,M.aw3)*j.u7/100,dD=M.aBJ*iE+(1-M.aBJ)*hV;
if(z==0){m=c([B[2*z],B[2*z+1]],[B[2*(z+1)],B[2*(z+1)+1]])}else if(z==B.length/2-1){m=c([B[2*(z-1)],B[2*(z-1)+1]],[B[2*z],B[2*z+1]])}else{m=c([B[2*(z-1)],B[2*(z-1)+1]],[B[2*(z+1)],B[2*(z+1)+1]])}P[2*z]=B[2*z]+dD*m[0];
P[2*z+1]=B[2*z+1]+dD*m[1]}return P}function l(B){if(B.Ah==1){return[.150684932,.205479452,.465753425,.178082192]}else if(B.Ah==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var M=[],j=1/(p(B)-1);
for(var z=0;z<p(B)-1;++z){M.push(j)}return M}}function J(B,M,j){var P=[],t=M-B,q=B;for(var z=0;z<j.length-1;
++z){P.push(q+j[z]*t);q=P[z]}return P}function w(B,M,j,P){var t=new Float32Array(j.length),q=0,m={shape:Math.floor(P.random()*2.99),as0:P.random()*.1+.15};
for(var z=0;z<j.length-1;++z){var iE=q+j[z];t[z]=((1-iE)*B+iE*M)*S(P,iE,m);q=iE}return t}function s(B,M,j,P){var t=K(P),q=P.random(),m=q*20+(1-q)*26,iE=new Float32Array(j.length),hV=0;
for(var z=0;z<j.length-1;++z){var dD=hV+j[z];iE[z]=(1-dD)*B+dD*M+t/m*(2/3*Math.sin(Math.PI*dD)+1/3*Math.sqrt(Math.sin(Math.PI*dD)));
hV=dD}return iE}function o(B,M,j){var P=[];for(var z=0;z<M.length-1;++z){P.push(M[z].slice());var t=z*(p(j)-1),q=(z+1)*(p(j)-1),m=B[q]-B[t];
for(var iE=t+1;iE<q;++iE){var hV=Z(j),dD=new Float32Array(M[0].length),bh=(B[iE]-B[t])/m;for(var ho=0;
ho<M[0].length/2;++ho){dD[2*ho]=(1-bh)*M[z][2*ho]+bh*M[z+1][2*ho];dD[2*ho+1]=(1-bh)*M[z][2*ho+1]+bh*M[z+1][2*ho+1];
if(j.style==2){dD[2*ho]+=I(2*ho/M[0].length,hV,j)}}P.push(dD)}}P.push(M[M.length-1]);return P}function V(B,M,j){var P=new Array(M.length),t=i(B),m=null;
for(var z=0;z<M.length;++z){P[z]=e(t,(M[z]-.5)*j.u7,j)}var q=1+.05*j.afQ*K(j)/K({Ah:1});for(var z=0;
z<M.length;++z){if(M[z]==0){m=z}}for(var z=0;z<M.length;++z){var iE=(j.random()-.5)*2,hV=Math.round(j.random()*9+1),dD=new Float32Array(hV*2+2);
for(var bh=0;bh<=hV;++bh){dD[2*bh]=P[z][0]-(P[z][2*bh]-P[z][0]);dD[2*bh+1]=P[z][1]-(P[z][2*bh+1]-P[z][1])}if(z==m){iE*=.1}for(var bh=(P[z].length-1)/2;
bh>hV;--bh){P[z][2*bh]=(1-iE)*P[z][2*bh]+iE*(P[z][2*(bh-hV)]+q*(P[z][2*bh]-P[z][2*(bh-hV)]));P[z][2*bh+1]=(1-iE)*P[z][2*bh+1]+iE*(P[z][2*(bh-hV)+1]+q*(P[z][2*bh+1]-P[z][2*(bh-hV)+1]))}for(var bh=hV-1;
bh>=0;--bh){P[z][2*bh]=(1-iE)*P[z][2*bh]+iE*(dD[2*(hV-bh)]+q*(P[z][2*bh]-dD[2*(hV-bh)]));P[z][2*bh+1]=(1-iE)*P[z][2*bh+1]+iE*(dD[2*(hV-bh)+1]+q*(P[z][2*bh+1]-dD[2*(hV-bh)+1]))}}var ho=r(M,j);
if(j.C4>0){var aH=0;for(var z=0;z<M.length;++z){if(z==0){aH+=M[z]}else{aH+=Math.abs(M[z]-M[z-1])}var f2=aH-Math.floor(aH),e9=1;
if(f2==0){e9=0}P[z]=N(P[z],{anb:ho[Math.floor(aH)],aw3:ho[Math.floor(aH)+e9],aBJ:f2},j)}}return P}function a(B,M){var j=_(M,B),P=W(M,B),t=[],q=[],m=[],iE=l(B);
for(var z=0;z<M.length-1;++z){t.push(M[z]);q.push(j[z]);m.push(P[z]);var hV=J(M[z],M[z+1],iE),dD=w(j[z],j[z+1],iE,B),bh=s(P[z],P[z+1],iE,B);
for(var ho=0;ho<hV.length;++ho){t.push(hV[ho]);q.push(dD[ho]);m.push(bh[ho])}}t.push(M[M.length-1]);
q.push(j[j.length-1]);m.push(P[P.length-1]);return{a1x:t,al8:q,Ja:m}}function O(B,M,j,P){var t=new Float32Array(2*P),q=B.length/2,m=q-M,iE=j*m,hV=iE/P;
for(var z=0;z<P;++z){var dD=Math.floor(M+z*hV),bh=Math.ceil(M+z*hV),j=M+z*hV,ho=bh-dD,aH=1,f2=0;if(ho!=0){aH=(bh-j)/ho;
f2=(j-dD)/ho}t[2*z]=aH*B[2*dD]+f2*B[2*bh];t[2*z+1]=aH*B[2*dD+1]+f2*B[2*bh+1]}return t}function S(B,M,j){var P=j.as0,t=M*2*Math.PI,q=t,m=0;
if(j.shape==0){m=(Math.sin(2*q+Math.PI/2)+1)/2}else if(j.shape==1){m=(Math.sin(q+Math.PI/2)+1)/2}else{m=(4*Math.sin(3/4*q+Math.PI)+Math.sin(Math.PI/2+2*q)-2*q/Math.PI+6)/7}return Math.min(1,1-P+P*m)}function L(B,M,j,P){var t=[];
for(var z=0;z<B.length;++z){t.push(O(B[z],M[z],j[z],P))}return t}function Q(B,M,j){var P=[];for(var z=0;
z<B.length;++z){var t=g(2*Math.PI*j.random()),q=g(2*Math.PI*j.random()),m=j.cL*.5*f({Ah:1})/f(j),iE=m*j.u7/200,hV=m*M/500,dD=new Float32Array(B[0].length);
for(var bh=0;bh<B[0].length/2;++bh){var ho=g(2*Math.PI*j.random()),aH=2*bh/B[0].length;dD[2*bh]=B[z][2*bh]+iE*(ho[0]+((1-aH)*t[0]+aH*q[0]));
dD[2*bh+1]=B[z][2*bh+1]+hV*(ho[1]+((1-aH)*t[1]+aH*q[1]))}P.push(dD)}return P}function b(B,M,j){var P=j.Ur,t=2/P,q=[1/10,1/30,1/40,1/45,1/100],m=q[j.Ah-1],iE=4*(j.opacity/25*t*m)*(1-j.cL/150),ho=0,f2=0;
if(j.style==3){return iE*.09}var hV=2.2*(B-.5),dD=hV*hV*hV*hV+.27+Math.max(0,(j.opacity-50)/15),bh=2*(Math.sin(3*Math.PI*M)/(Math.PI*M+2)+1.1)-M/2;
M=2*M;if(M<.41){var aH=2*Math.PI*M/.41;ho=(Math.sin(aH-Math.PI/2)+1)/4+.5}else if(M<.77){var aH=2*Math.PI*(M-.41)/.36;
ho=(Math.sin(aH-Math.PI/2)+1)/4+.5-aH/2/Math.PI*.5}else{var aH=2*Math.PI*(M-.77)/.23;ho=(Math.sin(aH-Math.PI/2)+1)/2*.12}ho*=3;
ho+=Math.max(0,(j.opacity-50)/15);if(j.type==6){f2=bh}else{f2=ho}return iE*dD*f2}function Z(B){return{H:B.random()*7/2+.5,C9:B.random()*2*Math.PI}}function I(B,M,j){return j.u7/300*p({Ah:1})/p(j)*10*(Math.sin(M.H*2*Math.PI*B+M.C9)+10*(j.random()-.5))}function y(B){var M=Math.exp(-B.C4/25);
return{H:B.random()*3/2+.5,C9:B.random()*2*Math.PI,Fa:(B.random()-.5)*10*M}}function r(B,M){var j=Math.ceil(Y(B)),P=[];
for(var z=0;z<=j;++z){P.push(y(M))}return P}function h(B,M){var j=M.H*4*Math.PI*B+M.C9;return Math.exp(-1/2*Math.PI*B)*Math.cos(j)*Math.cos(j)*Math.cos(j)*Math.cos(j)*Math.cos(j)+B*M.Fa-M.Fa/4}function k(B,M,j,P,t){var q=0,m=f(M)-1;
for(var z=0;z<m;++z){for(var iE=0;iE<B.length-1;iE+=p(M)-1){for(var hV=z;hV<B[0].length/2-m;hV+=m){for(var dD=iE;
dD<iE+(p(M)-1);++dD){j[t+q]=b(dD*(M.Ur-1)/(B.length-1)%1,hV/B[0].length,M);var bh=0,ho=0;if(M.type==6&&dD!=0&&dD!=B.length-1){ho=(B[dD][2*(hV+1)+1]-B[dD][2*hV+1])/2;
bh=(B[dD][2*(hV+1)]-B[dD][2*hV])/2}P[8*t+8*q]=B[dD][2*hV]+bh;P[8*t+8*q+1]=B[dD][2*hV+1]+ho;P[8*t+8*q+2]=B[dD][2*(hV+m)]+bh;
P[8*t+8*q+3]=B[dD][2*(hV+m)+1]+ho;P[8*t+8*q+4]=B[dD+1][2*(hV+m)];P[8*t+8*q+5]=B[dD+1][2*(hV+m)+1];P[8*t+8*q+6]=B[dD+1][2*hV];
P[8*t+8*q+7]=B[dD+1][2*hV+1];++q}}}}}function K(B){var M=[100,300,500,700,1e3];return M[B.Ah-1]}function H(B){var M=[30,70,100,140,300];
return M[B.Ah-1]}function p(B){var M=[5,7,26,40,100];return M[B.Ah-1]}function f(B){if(B.Ah==1){return 4}else if(B.Ah==2){return 8}else{return Math.floor(H(B)/9)}}function A(B){var M=B.Ur,j=new Float32Array(M),P=null;
for(var z=0;z<M;++z){j[z]=B.random()}if(B.Ur<=3){j[0]=0;j[B.Ur-1]=1}else{for(var z=0;z<2;++z){var t=Math.floor(B.random()*M);
if(P==null||P!=t){j[t]=z;P=t}else{j[t+1]=z}}}return j}function _(B,M){var j=[],P=.2,q=0;for(var z=0;
z<B.length;++z){var t=M.random()*(1-P)+P;j.push(t)}var m=Math.min(3,M.Ur);for(var z=0;z<B.length;++z){if(j[z]>.9){++q}}while(q<m){var iE=Math.floor(M.random()*B.length);
if(j[iE]<=.9){j[iE]=.9+.1*M.random();++q}}return j}function W(B,M){var j=K(M),P=K({Ah:1}),t=[];for(var z=0;
z<B.length;++z){t.push(Math.max(1,(M.random()*10+2)*j/P))}return t}function Y(B){var M=0;for(var z=0;
z<B.length;++z){if(z==0){M+=B[z]}else{M+=Math.abs(B[z]-B[z-1])}}return M}function G(B,M){if(B.length/2-1==K(M)){return B}var j=new Float32Array(2*(K(M)+1)),P=(B.length-2)/(j.length-2);
for(var z=0;z<j.length/2;++z){var t=z*P,q=Math.floor(t),m=Math.ceil(t),iE=m-q,hV=1,dD=0;if(iE!=0){hV=(m-t)/iE;
dD=(t-q)/iE}j[2*z]=hV*B[2*q]+dD*B[2*m];j[2*z+1]=hV*B[2*q+1]+dD*B[2*m+1]}return j}function i(B,M){var j=B.length/2,P=U(B),t=P/j,q=!1,hV=0,dD=0,bh=1;
if(M){var m=Math.floor(P/M.aja),iE=M.aja;if(M.ans&&B[0]==B[B.length-2]&&B[1]==B[B.length-1]){q=!0;iE=P/(m+1)}if(M.type==2&&!q&&iE*m+M.length>P){j=m+1}else{j=m+2}t=iE}var ho=new Float32Array(j*2);
ho[0]=B[0];ho[1]=B[1];for(var z=1;z<j;++z){while(hV<=z*t){dD=hV;hV+=T([B[2*bh],B[2*bh+1]],[B[2*(bh-1)],B[2*(bh-1)+1]]);
++bh}var aH=1-(z*t-dD)/(hV-dD);ho[2*z]=(1-aH)*B[2*bh]+aH*B[2*(bh-1)];ho[2*z+1]=(1-aH)*B[2*bh+1]+aH*B[2*(bh-1)+1]}ho[ho.length-2]=B[B.length-2];
ho[ho.length-1]=B[B.length-1];return ho}function E(B,M){var j=i(B,M),P=[];for(var z=0;z<(j.length-2)/2;
++z){var t=[];t.push(j[2*z]);t.push(j[2*z+1]);var q=T([j[2*(z+1)],j[2*(z+1)+1]],[j[2*z],j[2*z+1]]),m=[(j[2*(z+1)]-j[2*z])/q,(j[2*(z+1)+1]-j[2*z+1])/q],iE=g((M.a6v-90)/360*2*Math.PI),hV=m;
if(M.type==3){hV=iE}else if(M.type==4){hV=g(d(m)+d(iE))}else if(M.type==5){hV=g(((M.random()-.5)*M.a6v-90)/360*2*Math.PI)}var dD=M.length;
if(M.a2q){dD=2*M.random()*M.length}t.push(j[2*z]+hV[0]*dD);t.push(j[2*z+1]+hV[1]*dD);P.push(t)}return P}function $(B){if(B.a8S){B.jO=100*Math.random()}else{B.jO=B.azt}B.random=new R;
B.random(B.jO);if(B.type==6){B.Ur=2;B.shape=5;B.afQ=0}}function C(B,M){B=G(B,M);var j=[B],dD=0;if(M.type>=2&&M.type<6){j=E(B,M)}var P=f(M)-1,t=H(M)-P,q=(M.Ur-1)*(p(M)-1),m=j.length*t*q,iE=new Float32Array(m),hV=new Float32Array(8*m);
for(var z=0;z<j.length;++z){for(var bh=0;bh<1e4;++bh){M.jO=x(M.jO)}M.random(M.jO);var B=G(j[z],M),ho=A(M),aH=Y(ho),f2=V(B,ho,M),e9=a(M,ho),kB=o(e9.a1x,f2,M);
kB=L(kB,e9.Ja,e9.al8,H(M));if(M.cL>0){kB=Q(kB,U(j[z]),M)}k(kB,M,iE,hV,dD);dD+=t*q}return[iE,hV]}var ie=function(B){var M=performance.now(),j=B[0],P=B[1];
$(P);var t=[new Float32Array(0),new Float32Array(0)];for(var z=0;z<j.length;++z){P.jO=x(P.jO);var q=C(j[z],P),m=new Float32Array(t[0].length+q[0].length),iE=new Float32Array(t[1].length+q[1].length);
m.set(t[0]);m.set(q[0],t[0].length);t[0]=m;iE.set(t[1]);iE.set(q[1],t[1].length);t[1]=iE}var hV=performance.now();
if(P.a0G){console.aO("Geometry: "+String(hV-M)+"ms")}return t};return ie}(),ke=function(){function x(g,d){var U=[],e=0,N=d.length,l=0,J=0,w=new aP,s=0,o=1e9;
for(J=0;J<N;J++){var V=J*8,a=d[J];if(a<o)o=a;var O=g[V+0],S=g[V+1],L=g[V+2],Q=g[V+3],b=g[V+4],Z=g[V+5],I=g[V+6],y=g[V+7],r=Math.min(O,L,b,I),h=Math.max(O,L,b,I),k=Math.min(S,Q,Z,y),K=Math.max(S,Q,Z,y),H=new aP(r,k,h-r,K-k),p=H.y8(w),f=s+a;
if(J-l<10&&(J==l||p.Z()*.8<H.Z()+w.Z())){w=p;s=f}else{U.push(J-l);l=J;w=H;s=a;o=a}}if(J!=l)U.push(J-l);
return U}function R(g,d,U,e,N,l){var J=document.createElement("canvas"),S=0,m=.8;J.width=d;J.height=U;
var w=J.getContext("2d"),s=N[0],o=N[1],V=new Float64Array(d*U),a=Date.now(),O=x(o,s);for(var L=0;L<O.length;
L++){var Q=S,b=S+O[L],y=1e9,h=1e9,_=0;S=b;var Z=Q*8,I=b*8,r=-y,k=-h;for(var K=Z;K<I;K+=2){var H=o[K],p=o[K+1];
if(H<y)y=H;if(H>r)r=H;if(p<h)h=p;if(p>k)k=p}y=Math.floor(y);r=Math.ceil(r);h=Math.floor(h);k=Math.ceil(k);
var f=r-y,A=k-h;for(var W=Q;W<b;W++)_+=s[W];for(var K=Z;K<I;K+=8){var Y=s[K>>>3],G=o[K+0],i=o[K+1],E=o[K+2],$=o[K+3],C=o[K+4],B=o[K+5],M=o[K+6],j=o[K+7];
w.fillStyle="rgba(0,0,0,"+Y/_+")";w.beginPath();w.moveTo(G,i);w.lineTo(E,$);w.lineTo(C,B);w.lineTo(M,j);
w.closePath();w.fill()}var P=w.getImageData(y,h,f,A).data;for(var p=0;p<A;p++)for(var H=0;H<f;H++){var z=p*f+H,t=P[z*4+3],q=(h+p)*d+y+H;
if(t!=0)V[q]+=t*_}w.clearRect(y,h,f,A)}var iE=l[1].color,hV=Math.pow(iE.o/255,m),dD=Math.pow(iE.A/255,m),bh=Math.pow(iE.J/255,m),ho=new aP(0,0,d,U),aH=u.B(d*U*4);
for(var p=0;p<U;p++)for(var H=0;H<d;H++){var z=p*d+H,W=z*4,s=V[z]*(1/255);aH[W]=c(hV,s);aH[W+1]=c(dD,s);
aH[W+2]=c(bh,s);aH[W+3]=Math.min(255,s*255)}u.l.Hy("norm",aH,ho,e,ho,ho,1)}var T=new Uint8Array(2e3);
for(var z=0;z<2e3;z++)T[z]=255*Math.min(1,Math.log(z/700+1));function c(g,d){return T[Math.min(1500,~~(g*d*1e3))]}return R}(),jR=function(){var x=new Float32Array(3e3),R=new Float32Array(3e3),T=new Float32Array(256),c=new Float32Array(3e3);
function g(){var o=x.length;x[0]=Math.log10(157647e-9);for(var z=1;z<o;++z)x[z]=Math.log10(z/o)}function d(){var o=R.length;
for(var z=0;z<o;++z)R[z]=Math.pow(10,20*(z-o/2)/o)}function U(){var o=T.length;for(var z=0;z<o;++z)T[z]=u.lW(z/255)}function e(){var o=c.length;
for(var z=0;z<o;++z)c[z]=255*u.DW(z/(o-1))}function N(o,V){var a=o.length>>>2;for(var z=0;z<a;++z){var O=T[o[4*z]],S=T[o[4*z+1]],L=T[o[4*z+2]],Q=.3811*O+.5783*S+.0402*L,b=.1967*O+.7244*S+.0782*L,Z=.0241*O+.1288*S+.8444*L;
Q=x[~~(Q*x.length)];b=x[~~(b*x.length)];Z=x[~~(Z*x.length)];V[3*z]=(Q+b+Z)*.5773502692;V[3*z+1]=(Q+b-2*Z)*.4082482905;
V[3*z+2]=(Q-b)*.7071067812}}function l(o,V){var a=V.length>>>2,O=c.length-1;for(var z=0;z<a;++z){var S=.5773502692*o[3*z],L=.4082482905*o[3*z+1],Q=.7071067812*o[3*z+2],b=R[~~((S+L+Q+10)*(3e3/20))],Z=R[~~((S+L-Q+10)*(3e3/20))],I=R[~~((S-2*L+10)*(3e3/20))],y=4.4679*b-3.5873*Z+.1193*I,r=-1.2186*b+2.3809*Z-.1624*I,h=.0497*b-.2439*Z+1.2045*I;
V[4*z]=c[~~(O*Math.max(0,Math.min(1,y)))];V[4*z+1]=c[~~(O*Math.max(0,Math.min(1,r)))];V[4*z+2]=c[~~(O*Math.max(0,Math.min(1,h)))]}}function J(o){var V=0,a=0,O=0;
for(var z=0;z<o.length;z+=3){V+=o[z];a+=o[z+1];O+=o[z+2]}return[V/(o.length/3),a/(o.length/3),O/(o.length/3)]}function w(o,J){var V=0,a=0,O=0;
for(var z=0;z<o.length;z+=3){var S=o[z]-J[0],L=o[z+1]-J[1],Q=o[z+2]-J[2];V+=S*S;a+=L*L;O+=Q*Q}return[Math.sqrt(V/(o.length/3)),Math.sqrt(a/(o.length/3)),Math.sqrt(O/(o.length/3))]}function s(o,V,a,O,S,L){g();
d();U();e();var Q=0,i,E;if(L[0]>100)Q=-(L[0]-100)/100*.13;else if(L[0]>=75)Q=(100-L[0])/25*.04;else if(L[0]>=50)Q=.04+(75-L[0])/25*.04;
else if(L[0]>=25)Q=.08+(50-L[0])/25*.08;else Q=.16+(25-L[0])/25*.24;var b=(L[1]-100+100)/100,Z=L[2]/100,I=L[3],y=new Float32Array(o.length*3/4),r=new Float32Array(O.length*3/4),h=Date.now();
N(o,y);N(O,r);var k=Date.now(),K=J(y),H=J(r),p=Date.now(),f=w(y,K),A=w(r,H),_=Date.now();H[0]*=Math.pow(10,Q);
var W=[A[0]/f[0],A[1]/f[1],A[2]/f[2]],Y=y.length,G=1/-1.1546978950500488;for(var z=0;z<Y;z+=3){if(I){var $=Math.max(0,Math.min(1,y[z]*G));
$=1-Math.sqrt($);i=$*H[1];E=$*H[2]}else{i=H[1];E=H[2]}y[z]=(y[z]-K[0])*W[0]+H[0];y[z+1]=(y[z+1]-K[1])*W[1]*b+i;
y[z+2]=(y[z+2]-K[2])*W[2]*b+E}var C=Date.now();l(y,S);var B=S.length>>>2;for(var z=0;z<B;++z){S[4*z]=(1-Z)*S[4*z]+Z*o[4*z];
S[4*z+1]=(1-Z)*S[4*z+1]+Z*o[4*z+1];S[4*z+2]=(1-Z)*S[4*z+2]+Z*o[4*z+2];S[4*z+3]=255}}return s}(),il=function(){function x(R,T,c,g,d){var U=[-1,-1,-1,-1],e=255,N=160,l,J=!1,w=new Array(4);
w[0]=new Array(T);w[1]=new Array(c);w[2]=new Array(T);w[3]=new Array(c);var s=new Array(2);s[0]=new Array(c);
s[1]=new Array(c);function o(A,_,W,Y,G){this.start=Y;this.axis=G;this.dir=A;this.end=-1;this.source=_;
this.Z=W}function V(A,_,W,Y,G){if(W%2==0){if(!w[W][A])w[W][A]=new Array;w[W][A].push(new o(W,Y,G,_,A))}else{if(!w[W][_])w[W][_]=new Array;
w[W][_].push(new o(W,Y,G,A,_))}var i=Date.now()}function a(z){var A=!1,_=0;if(R[4*z+3]<e)return A;var W=z%T,Y=Math.floor(z/T);
O(W,Y);if(z+T<T*c&&R[4*(z+T)+3]<e&&R[4*(z-T)+3]>=e&&R[4*(z-2*T)+3]>=e){var G=2;if(R[4*(z+T)+3]<=N)_=-1;
if(R[4*(z+2*T-1)+3]<e&&R[4*(z+2*T+1)+3]<e)A=!0;else if(R[4*(z+2*T-1)+3]>=e&&R[4*(z+1)+3]>=e)A=!0;else if(R[4*(z+2*T+1)+3]>=e&&R[4*(z-1)+3]>=e)A=!0;
V(W,Y,G,_,A)}else if(z-T>=0&&R[4*(z-T)+3]<e&&R[4*(z+T)+3]>=e&&R[4*(z+2*T)+3]>=e){var G=0;if(R[4*(z-T)+3]<=N)_=-1;
if(R[4*(z-2*T-1)+3]<e&&R[4*(z-2*T+1)+3]<e)A=!0;else if(R[4*(z-2*T-1)+3]>=e&&R[4*(z+1)+3]>=e)A=!0;else if(R[4*(z-2*T+1)+3]>=e&&R[4*(z-1)+3]>=e)A=!0;
V(W,Y,G,_,A)}_=0;if(z+1<T*c&&R[4*(z+1)+3]<e&&R[4*(z-1)+3]>=e&&R[4*(z-2)+3]>=e){var G=3;if(R[4*(z+1)+3]<=N)_=-1;
if(!A&&R[4*(z+T+2)+3]<e&&R[4*(z-T+2)+3]<e){A=!0;V(W,Y,G,_,!0)}else V(W,Y,G,_,!1)}else if(z>=1&&R[4*(z-1)+3]<e&&R[4*(z+1)+3]>=e&&R[4*(z+2)+3]>=e){var G=1;
if(R[4*(z-1)+3]<=N)_=-1;if(!A&&R[4*(z+T-2)+3]<e&&R[4*(z-T-2)+3]<e){A=!0;V(W,Y,G,_,!0)}else V(W,Y,G,_,!1)}return A}function O(z,A){if(U[0]==-1){U[0]=z;
U[1]=A;U[2]=1;U[3]=1}if(z<U[0]){U[2]+=U[0]-z;U[0]=z}if(z>U[0]+U[2])U[2]=z-U[0];if(A<U[1]){U[3]+=U[1]-A;
U[1]=A}if(A>U[1]+U[3])U[3]=A-U[1]}function S(A,z,_,W){if(!_.Z)return;var Y=(A+2)%4,G=_.start,i=U[1];
if(A==2)i+=U[3];else if(A==1)i=U[0];else if(A==3)i=U[0]+U[2];var E=_.source;if(w[Y][z])for(var $=0;$<w[Y][z].length;
++$){if(A>1){var C=G+Math.floor((w[Y][z][$].start-G)/2);if(w[Y][z][$].start>G&&C<i)i=C}else{var C=G-Math.floor((G-w[Y][z][$].start)/2);
if(w[Y][z][$].start<G&&C>i)i=C}}for(var B=1;B<Math.abs(i-G);++B){var $=G+B;if(A==1||A==0)$=G-B;for(var M=0;
M<2;++M){var j=2*M,P=!1;if(A%2==0)j+=1;if(w[j][$]){for(var t=0;t<w[j][$].length;++t){if(w[j][$][t].Z){var q=w[j][$][t].start,m=z-q,iE=$-G;
if(j==0||j==1)m=-m;if(m<=0)continue;if(A==0||A==1)iE=-iE;if(iE>m){i=$;P=!0;break}}}if(P)break}}}_.end=i;
b(A,z,G,i,E)}function L(A){for(var z=0;z<w[A].length;++z){if(w[A][z])for(var _=0;_<w[A][z].length;++_){S(A,z,w[A][z][_])}}}function Q(){var A=[2,0,3,1];
for(var z=0;z<A.length;++z)L(A[z])}function b(A,z,_,W,Y){if(A==2)for(var G=_;G<=W;++G){if(!Z(G*T+z,(_+Y)*T+z))return!1}else if(A==0)for(var G=_;
G>=W;--G){if(!Z(G*T+z,(_-Y)*T+z))return!1}else if(A==1)for(var G=_;G>=W;--G){if(!Z(z*T+G,z*T+_-Y))return!1}else if(A==3)for(var G=_;
G<=W;++G){if(!Z(z*T+G,z*T+_+Y))return!1}}function Z(A,_){if(!l[A]){g[4*A]=g[4*_];g[4*A+1]=g[4*_+1];g[4*A+2]=g[4*_+2];
if(J)g[4*A+3]=255;l[A]=!0;return!0}return!1}function I(){for(var z=0;z<4;z+=1){for(var A=0;A<w[z].length;
++A){if(w[z][A])for(var _=0;_<w[z][A].length;++_){var W=w[z][A][_];for(var Y=1;Y<3;Y+=2){var G=(z+Y)%4;
if(w[G][W.start])for(var i=0;i<w[G][W.start].length;++i){if(w[G][W.start][i].start==W.axis){var cg=T*W.start+W.axis;
if(z%2==1){cg=W.start+T*W.axis;y(w[G][W.start][i])}else y(W)}}}}}}}function y(A){if(A.dir%2==0){var cg=T*A.start+A.axis,_=A.start,W=1;
if(!l[cg+1])W=3;else if(l[cg-1])return;var Y=g[4*cg],G=g[4*cg+1],i=g[4*cg+2];while(g[4*cg]==Y&&g[4*cg+1]==G&&g[4*cg+2]==i){if(W==1){if(!s[0][_])s[0][_]=new Array;
s[0][_].push(new o(W,0,!1,A.axis,_))}else{if(!s[1][_])s[1][_]=new Array;s[1][_].push(new o(W,0,!1,A.axis,_))}if(A.dir==2){cg+=T;
_++}else{cg-=T;_--}}}}function r(){for(var A=0;A<2;++A){var _=(A+1)%2;for(var z=0;z<s[A].length;++z){if(s[A][z])for(var W=0;
W<s[A][z].length;++W){var Y=U[0];if(A==1)Y+=U[2];var G=s[A][z][W].start;if(s[_][z])for(var i=0;i<s[_][z].length;
++i){var E=s[_][z][i].Kt;if(A==0){if(E>Y&&E<G){Y=G-Math.floor((G-E)/2)}}else{if(E<Y&&E>G){Y=G+Math.ceil((E-G)/2)}}}if(A==0)b(s[A][z][W].dir,z,G-1,Y,-1);
else b(s[A][z][W].dir,z,G+1,Y,-1)}}}for(var z=0;z<l.length;++z){if(!l[z]&&z%T>=U[0]&&z%T<=U[0]+U[2]&&Math.floor(z/T)>=U[1]&&Math.floor(z/T)<=U[1]+U[3]){var G=T;
if(z<G||!l[z-G])G=1;g[4*z]=g[4*(z-G)];g[4*z+1]=g[4*(z-G)+1];g[4*z+2]=g[4*(z-G)+2];l[z]=!0;if(J)g[4*z+3]=255}}}function h(){l=new Array(R.length/4);
for(var z=0;z<g.length/4;++z){l[z]=!1;g[4*z]=R[4*z];g[4*z+1]=R[4*z+1];g[4*z+2]=R[4*z+2];g[4*z+3]=R[4*z+3];
if(g[4*z+3]==255)l[z]=!0;if(a(z))l[z]=!1}if(U[0]>0){U[0]--;U[2]++}if(U[1]>0){U[1]--;U[3]++}if(U[0]+U[2]<T){U[2]++}if(U[1]+U[3]<c){U[3]++}}var k=Date.now();
h();var K=Date.now();Q();var H=Date.now();I();var p=Date.now();r();var f=Date.now();console.log("Init: "+String(K-k));
console.log("Filling: "+String(H-K));console.log("Check areas: "+String(p-H));console.log("Fill areas: "+String(f-p))}return x}();
function gB(){}gB.abA=function(x){var R=[u.lW(x[0]),u.lW(x[1]),u.lW(x[2]),0];return u.Id.yu(u.Id.a6H,R)};
gB.aCH=function(x){var R=u.Id.yu(u.Id.ob,x);return[u.DW(R[0]),u.DW(R[1]),u.DW(R[2])]};gB.ok=function(x,R){var T={},c=5003,g=1667,d=25e3,U=57.4,e=16.1,N=1.8,l=0,J=1.54,w=.75,V=0;
if(R>0){x-=R/100*4}if(x<0){e=22.54;U=80.36;J=.756}if(R>0){N=1.3;w=.2}var s=Math.min(c+U*x,d),o=Math.max(c-e*x,g);
if(x<0){s=Math.max(c+e*x,g);o=Math.min(c-U*x,d)}if(x>0){if(x<=14){V=(x-1)/13*.075+.025}else if(x<=29){V=.1}else if(x<=60){V=.1-.1*(x-29)/(60-29)}else{var a=x-60;
l=-20*(a/40);V=-.3*(a/40)}}else{if(x<-60){var a=x+60;l=-20*(a/40)}}var O=Math.abs(x)/100*J+Math.abs(R)/100*w+V,S=-(R*N+l),L=co.nN(s,-S),Q=co.NK(L),b=co.nN(o,0),Z=co.NK(b),I=co.avU(Q,Z);
T.anY=O;T.am4=I;if(x==0&&R==0)T.ayG=!0;else T.ayG=!1;return T};gB.asi=function(x,R,T,c){if(c.ayG){return[x,R,T]}var g=this.abA([x,R,T]),d=g[0],U=g[1],e=g[2],N=U+1e-12,l=[d/N,U/N,e/N,0],J=u.Id.yu(c.am4,l),w=0,s=.4;
J[0]*=N;J[1]*=N;J[2]*=N;if(N>s)w=1/(1-s)*(N-s);g[0]=(1-w)*J[0]+w*d;g[1]=(1-w)*J[1]+w*U;g[2]=(1-w)*J[2]+w*e;
return this.aCH(g)};u.agm={X6:function(x,R){var z=x.length;x.push(R);var c=z>>>1;while(c!=0&&x[z][0]<x[c][0]){var g=x[z];
x[z]=x[c];x[c]=g;z=c;c=z>>>1}},sP:function(x){if(x.length==2)return x.pop();var top=x[1],z=1;x[1]=x.pop();
var R=x.length;while(!0){var T=z<<1,c=T+1,g=z;if(T<R&&x[T][0]<x[g][0])g=T;if(c<R&&x[c][0]<x[g][0])g=c;
if(g==z)break;var d=x[z];x[z]=x[g];x[g]=d;z=g}return top},a3D:function(x){for(var z=1;z<x.length;z++){var R=z,T=1e9;
while(R!=0){var c=x[R][0];if(c>T){console.log(z);throw"e"}T=c;R=R>>>1}}}};u.l={};u.l.N2=new Float64Array(256);
u.l.gA=new Uint8Array(256*256);u.l.PC=new Uint8Array(256*256);(function(){for(var z=0;z<256;z++)u.l.N2[z]=255/z;
for(var z=0;z<256;z++)for(var x=0;x<256;x++)u.l.gA[z*256+x]=z==0?0:Math.round(x*255/z);for(var z=0;z<256;
z++)for(var x=0;x<256;x++)u.l.PC[z*256+x]=Math.round(z*(255-x)/255)}());u.l.Hy=function(x,R,T,c,g,d,U,e){if(e==null)e=e5.Jk();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(x)==-1){U=U*e.fill;e.fill=1;e.style=!1}var N="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),l="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),J=u.l[x+"F"];
if(e.sn==null&&x=="norm")u.l.ac9(R,T,c,g,d,U,J,e.lg?1:0);else if(x=="diss")u.l.ahf(R,T,c,g,d,U,J,e.lg?1:0);
else if(N.indexOf(x)!=-1)u.l.a8I(R,T,c,g,d,U,J,e);else if(l.indexOf(x)!=-1)u.l.ai6(R,T,c,g,d,U,J,e)};
u.l.afy=function(x,R,T){var c=x*T+1-T;return c<.001?0:1-Math.min(1,(1-R)/c)};u.l.aC$=function(x,R,T){return x*T==1?1:Math.min(1,R/(1-x*T))};
u.l.uX=function(x){return x<=.25?((16*x-12)*x+4)*x:Math.sqrt(x)};u.l.normF=function(x,R,T){return x};
u.l.darkF=function(x,R,T){return Math.min(x,R)};u.l["mul F"]=function(x,R,T){return x*R};u.l.idivF=function(x,R,T){var c=x*T+1-T;
return R==1?1:1-R>=c?0:1-(1-R)/c};u.l.lbrnF=function(x,R,T){return Math.max(0,x*T+R-T)};u.l.dkClF=function(x,R,T){var c=u.rV(x)<u.rV(R)?x:R;
T.o=c.o;T.A=c.A;T.J=c.J;return T};u.l.liteF=function(x,R,T){return Math.max(x,R)};u.l.scrnF=function(x,R,T){return R+x-R*x};
u.l["div F"]=function(x,R,T){x*=T;return R==0?0:R>=1-x?1:R/(1-x)};u.l.lddgF=function(x,R,T){x*=T;return Math.min(1,x+R)};
u.l.lgClF=function(x,R,T){var c=u.rV(x)>u.rV(R)?x:R;T.o=c.o;T.A=c.A;T.J=c.J;return T};u.l.overF=function(x,R,T){return u.l.hLitF(R,x,T)};
u.l.sLitF=function(x,R,T){return x<=.5?R-(1-2*x)*R*(1-R):R+(2*x-1)*(u.l.uX(R)-R)};u.l.hLitF=function(x,R,T){return x<=.5?u.l["mul F"](2*x,R,T):u.l.scrnF(2*x-1,R,T)};
u.l.vLitF=function(x,R,T){return x<=.5?u.l.afy(2*x,R,T):u.l.aC$(2*x-1,R,T)};u.l.lLitF=function(x,R,T){return x<=.5?u.l.lbrnF(2*x,R,T):u.l.lddgF(2*x-1,R,T)};
u.l.pLitF=function(x,R,T){return x<=.5?u.l.darkF(2*x,R,T):u.l.liteF(2*x-1,R,T)};u.l.hMixF=function(x,R,T){if(T>.99)return x+R<1?0:1;
return Math.min(1,Math.max(0,(R+x*T-T)/(1-T+1e-6)))};u.l.diffF=function(x,R,T){x*=T;return Math.abs(x-R)};
u.l.smudF=function(x,R,T){return x+R-2*x*R};u.l.fsubF=function(x,R,T){return Math.max(R-x,0)};u.l.fdivF=function(x,R,T){return Math.min(R/x,1)};
u.l["hue F"]=function(x,R,T){u.l.Nm(x,u.UG(R),T);u.l.uV(T,u.rV(R),T)};u.l["sat F"]=function(x,R,T){u.l.Nm(R,u.UG(x),T);
u.l.uV(T,u.rV(R),T)};u.l.colrF=function(x,R,T){u.l.uV(x,u.rV(R),T)};u.l["lum F"]=function(x,R,T){u.l.uV(R,u.rV(x),T)};
u.l.uV=function(x,R,T){var c=R-u.rV(x);T.o=x.o+c;T.A=x.A+c;T.J=x.J+c;u.l.a1T(T)};u.l.a1T=function(x){var R=x.o,T=x.A,c=x.J,g=u.Et(R,T,c),cg=Math.min(R,T,c),d=Math.max(R,T,c);
if(cg<0){var U=g/(g-cg);R=g+(R-g)*U;T=g+(T-g)*U;c=g+(c-g)*U}if(d>1){var U=(1-g)/(d-g);R=g+(R-g)*U;T=g+(T-g)*U;
c=g+(c-g)*U}x.o=R;x.A=T;x.J=c};u.l.Nm=function(x,R,T){var c=u.l.aqa,g=x.o,d=x.A,U=x.J;if(g==d&&d==U){T.o=T.A=T.J=0}else if(g>d){if(g>U){if(d>U){T.o=R;
T.A=c(g,d,U,R);T.J=0}else{T.o=R;T.J=c(g,U,d,R);T.A=0}}else{T.J=R;T.o=c(U,g,d,R);T.A=0}}else{if(g<U){if(d>U){T.A=R;
T.J=c(d,U,g,R);T.o=0}else{T.J=R;T.A=c(U,d,g,R);T.o=0}}else{T.A=R;T.o=c(d,g,U,R);T.J=0}}};u.l.aqa=function(x,R,T,c){return(R-T)*c/(x-T)};
u.l.ac9=function(x,R,T,c,g,d,U,e){var N=R.yx(c).yx(g),l=Math.max(0,N.x-R.x),J=Math.max(0,N.x-c.x),w=Math.max(0,N.y-R.y),s=Math.max(0,N.y-c.y),o=N.m,V=N.e,a=R.m,O=c.m,S=u.l.gA,L=u.l.PC,Q=new Uint32Array(x.buffer),b=new Uint32Array(T.buffer);
for(var z=0;z<V;z++){var Z=(w+z)*a+l,I=(s+z)*O+J;for(var y=0;y<o;y++){var r=Q[Z+y],W=1;if(r>>>24==0)continue;
if(r>>>24==255&&d==1&&e==0){b[I+y]=Q[Z+y];continue}var h=b[I+y],k=r&255,K=r>>>8&255,H=r>>>16&255,p=h&255,f=h>>>8&255,A=h>>>16&255,_=d,Y=(h>>>24)*(1/255);
if(e==0){_=(r>>>24)*d*(1/255);W=Y}var G=W*(1-_),i=_+G,E=1/i;b[I+y]=~~(.5+(e*Y+(1-e)*i)*255)<<24|~~(.5+(H*_+A*G)*E)<<16|~~(.5+(K*_+f*G)*E)<<8|~~(.5+(k*_+p*G)*E)}}};
u.l.aaA=function(x,R,T,c,g,d){var U=R.yx(c).yx(g),e=Math.max(0,U.x-R.x),N=Math.max(0,U.x-c.x),l=Math.max(0,U.y-R.y),J=Math.max(0,U.y-c.y),w=U.m,s=U.e,o=R.m,V=c.m,a=u.l.gA,O=u.l.PC,S=new Uint32Array(x.buffer),L=new Uint32Array(T.buffer),Q=Math.floor(Math.random()*16777215),b=0;
for(var z=0;z<s;z++){var Z=(l+z)*o+e,I=(J+z)*V+N;for(var y=0;y<w;y++){var r=S[Z+y];if(r>>>24==0)continue;
if(r>>24==255&&d==1){L[I+y]=r;continue}var h=L[I+y],k=(r>>>24)*d*(1/255),K=(h>>>24)*(1/255),H=K*(1-k),p=k+H,f=r&255,A=r>>>8&255,_=r>>>16&255,W=h&255,Y=h>>>8&255,G=h>>>16&255;
b>>>=8;if((y&3)==0)b=u.l.Ys(I+y+Q);var i=p==0?0:1/p,E=Math.floor(p*(256*255))+(b&255)>>>8,$=Math.floor((_*k+G*H)*i+.5),C=Math.floor((A*k+Y*H)*i+.5),B=Math.floor((f*k+W*H)*i+.5);
L[I+y]=E<<24|$<<16|C<<8|B}}};u.l.sA=function(x,R,T,c,g,d,U,e){var N=u.Et(x,R,T),l=u.Et(c,g,d),J=Math.min,w=u.l.ajd,s=w(N,e,0);
s=J(s,w(x,e,8));s=J(s,w(R,e,16));s=J(s,w(T,e,24));var o=w(l,e,4);o=J(o,w(c,e,12));o=J(o,w(g,e,20));o=J(o,w(d,e,28));
o=Math.max(o,1-U);var V=Math.min(s,o);return V<0?0:V>1?1:V};u.l.ajd=function(x,R,z){return Math.min((x-R[z])*R[z+1],(x-R[z+3])*R[z+2])};
u.l.a8I=function(x,R,T,c,g,d,U,e){var N=1/255,l=N*d,J=e.lg?1:0,w=e.fill,s=e.style,o=R.yx(c).yx(g),V=Math.max(0,o.x-R.x),a=Math.max(0,o.x-c.x),O=Math.max(0,o.y-R.y),S=Math.max(0,o.y-c.y),L=o.m,Q=o.e,b=R.m,Z=c.m,I=new Uint32Array(x.buffer),y=new Uint32Array(T.buffer);
for(var z=0;z<Q;z++){var r=(O+z)*b+V,h=(S+z)*Z+a;for(var k=0;k<L;k++,r++,h++){var K=I[r],i=1;if(K>>>24==0)continue;
var H=y[h],p=(K&255)*N,f=(K>>>8&255)*N,A=(K>>>16&255)*N,_=(H&255)*N,W=(H>>>8&255)*N,Y=(H>>>16&255)*N,G=d;
if(J==0){G=(K>>>24)*l;i=(H>>>24)*N}if(e.sn)G*=u.l.sA(p,f,A,_,W,Y,i,e.sn);var E=i*(1-G),$=G+E,C=$==0?0:255/$,B=s?1:G,M=((1-i)*G*p+(1-B)*i*_+B*i*U(p,_,(1+G-B)*w))*C,j=((1-i)*G*f+(1-B)*i*W+B*i*U(f,W,(1+G-B)*w))*C,P=((1-i)*G*A+(1-B)*i*Y+B*i*U(A,Y,(1+G-B)*w))*C;
$=G*w+i*(1-G*w);var t=~~($*255+.5);y[h]=J*(H>>>24)+(1-J)*t<<24|P<<16|j<<8|M}}};u.l.ai6=function(x,R,T,c,g,d,U,e){var N=1/255,l=N*d,J=e.lg?1:0,w=R.yx(c).yx(g),s=Math.max(0,w.x-R.x),o=Math.max(0,w.x-c.x),V=Math.max(0,w.y-R.y),a=Math.max(0,w.y-c.y),O=w.m,S=w.e,L=new Uint32Array(x.buffer),Q=new Uint32Array(T.buffer),b={o:0,A:0,J:0},Z={o:0,A:0,J:0},I={o:0,A:0,J:0};
for(var z=0;z<S;z++){var y=(V+z)*R.m+s,r=(a+z)*c.m+o;for(var h=0;h<O;h++,y++,r++){var k=L[y],K=Q[r],H=(k&255)*N,p=(k>>>8&255)*N,f=(k>>>16&255)*N,A=(K&255)*N,_=(K>>>8&255)*N,W=(K>>>16&255)*N,Y=d,G=1;
if(J==0){Y=(k>>>24)*l;G=(K>>>24)*N}if(e.sn)Y*=u.l.sA(H,p,f,A,_,W,G,e.sn);var i=G*(1-Y),E=Y+i,$=255/E;
b.o=H;b.A=p;b.J=f;Z.o=A;Z.A=_;Z.J=W;U(b,Z,I);var C=(((1-G)*H+G*I.o)*Y+A*i)*$,B=(((1-G)*p+G*I.A)*Y+_*i)*$,M=(((1-G)*f+G*I.J)*Y+W*i)*$,j=J*(K>>>24)+(1-J)*Math.round(E*255);
Q[r]=j<<24|M<<16|B<<8|C}}};u.l.xr=function(x){x=x^61^x>>>16;x=x+(x<<3);x=x^x>>>4;x=x*668265261;x=x^x>>15;
return(x&16777215)*(1/16777215)};u.l.Ys=function(x){x=x^61^x>>>16;x=x+(x<<3);x=x^x>>>4;x=x*668265261;
x=x^x>>>15;return x};u.l.ek=function(x){this.hH=x};u.l.ek.prototype.get=function(){var x=this.hH=u.l.Ys(this.hH);
return(x&16777215)*(1/16777215)};u.l.ahf=function(x,R,T,c,g,d,U,e){var N=1/255,l=N*d,J=Math.round(d*(256*256*256/255)),w=R.yx(c).yx(g),s=Math.max(0,w.x-R.x),o=Math.max(0,w.x-c.x),V=Math.max(0,w.y-R.y),a=Math.max(0,w.y-c.y),O=w.m,S=w.e,L=new Uint32Array(x.buffer),Q=new Uint32Array(T.buffer);
for(var z=0;z<S;z++){var b=(V+z)*R.m+s,Z=(a+z)*c.m+o;for(var I=0;I<O;I++,b++,Z++){var y=L[b],r=Q[Z],h=e*255+(1-e)*(y>>>24);
if((u.l.Ys(b)&16777215)>=h*J)continue;Q[Z]=y&16777215|e*(r>>>24)+(1-e)*255<<24}}};u.l.ala=function(x,R,T){for(var z=0;
z<x.length;z+=4){var c=T[z>>>2];if(c==0)continue;var g=c*(1/255),d=1/g,U=R[z],e=R[z+1],N=R[z+2],l=x[z],J=x[z+1],w=x[z+2];
R[z]=Math.min(255,Math.max(0,Math.round((U-(1-g)*l)*d)));R[z+1]=Math.min(255,Math.max(0,Math.round((e-(1-g)*J)*d)));
R[z+2]=Math.min(255,Math.max(0,Math.round((N-(1-g)*w)*d)));R[z+3]=255}};u.l.pW=function(x,R,T,c,g,d,U,e,N,l,J){if(l==null)l=!1;
if(J==null)J=[1,1,1];var w=255<<24|J[2]*16711680|J[1]*65280|J[0]*255,s=~w;if(g&&!R.X$(d)){var o=u.B(R.Z()*4);
o.fill(U);u.gN(g,d,o,R);g=o;d=R}if(l){if(g==null)u.l.asl(x,R,T,c,g,e,N,w,s);else u.l.aAW(x,R,T,c,g,e,N)}else{if(g==null)u.l.ayb(x,R,T,c,g,e,N,w,s);
else u.l.a8Z(x,R,T,c,g,e,N)}};u.l.ayb=function(x,R,T,c,g,d,U,e,N){var l=1/255,J=R.yx(c).yx(d),w=Math.max(0,J.x-R.x),s=Math.max(0,J.x-c.x),o=Math.max(0,J.y-R.y),V=Math.max(0,J.y-c.y),a=J.m,O=J.e,S=new Uint32Array(x.buffer),L=new Uint32Array(T.buffer),Q=u.l.gA,b=U*255&255;
for(var z=0;z<O;z++){var Z=(o+z)*R.m+w,I=(V+z)*c.m+s;for(var y=0;y<a;y++,Z++,I++){var r=S[Z],h=L[I],k=r>>>24,K=h>>>24,H=u.k5(b*k+(255-b)*K),p=u.k5(k*b),f=u.k5(K*(255-b)),A=r&255,_=r>>>8&255,W=r>>>16&255,Y=h&255,G=h>>>8&255,i=h>>>16&255,E=p*A+Y*f,$=p*_+G*f,C=p*W+i*f;
E=Q[H<<8|u.k5(E)];$=Q[H<<8|u.k5($)];C=Q[H<<8|u.k5(C)];var B=H<<24|C<<16|$<<8|E;L[I]=N&h|e&B}}};u.l.asl=function(x,R,T,c,g,d,U,e,N){var l=1/255,J=R.yx(c).yx(d),w=Math.max(0,J.x-R.x),s=Math.max(0,J.x-c.x),o=Math.max(0,J.y-R.y),V=Math.max(0,J.y-c.y),a=J.m,O=J.e,S=new Uint32Array(x.buffer),L=new Uint32Array(T.buffer),Q=u.l.gA,b=U*16777215&16777215;
for(var z=0;z<O;z++){var Z=(o+z)*R.m+w,I=(V+z)*c.m+s;for(var y=0;y<a;y++,Z++,I++){if((u.l.Ys(Z)&16777215)<b){L[I]=N&L[I]|e&S[Z]}}}};
u.l.a8Z=function(x,R,T,c,g,d,U){var e=1/255,N=R.yx(c).yx(d),l=Math.max(0,N.x-R.x),J=Math.max(0,N.x-c.x),w=Math.max(0,N.y-R.y),s=Math.max(0,N.y-c.y),o=N.m,V=N.e,a=new Uint32Array(x.buffer),O=new Uint32Array(T.buffer),S=u.l.gA;
for(var z=0;z<V;z++){var L=(w+z)*R.m+l,Q=(s+z)*c.m+J;for(var b=0;b<o;b++,L++,Q++){var Z=g[L]*U&255;if(Z==0)continue;
if(Z==255){O[Q]=a[L];continue}var I=a[L],y=O[Q],r=I>>>24,h=y>>>24,k=u.k5(Z*r+(255-Z)*h),K=u.k5(r*Z),H=u.k5(h*(255-Z)),p=I&255,f=I>>>8&255,A=I>>>16&255,_=y&255,W=y>>>8&255,Y=y>>>16&255,G=S[k<<8|u.k5(K*p+_*H)],i=S[k<<8|u.k5(K*f+W*H)],E=S[k<<8|u.k5(K*A+Y*H)];
O[Q]=k<<24|E<<16|i<<8|G}}};u.l.aAW=function(x,R,T,c,g,d,U){var e=1/255,N=R.yx(c).yx(d),l=Math.max(0,N.x-R.x),J=Math.max(0,N.x-c.x),w=Math.max(0,N.y-R.y),s=Math.max(0,N.y-c.y),o=N.m,V=N.e,a=new Uint32Array(x.buffer),O=new Uint32Array(T.buffer),S=u.l.gA,L=Math.round(U*257);
for(var z=0;z<V;z++){var Q=(w+z)*R.m+l,b=(s+z)*c.m+J;for(var Z=0;Z<o;Z++,Q++,b++){var I=g[Q]*L;if((u.l.Ys(Q)&65535)<I)O[b]=a[Q]}}};
u.l.afH=function(x,R,T,c,g,d,U){var e=1/255,N=R.yx(c).yx(d),l=Math.max(0,N.x-R.x),J=Math.max(0,N.x-c.x),w=Math.max(0,N.y-R.y),s=Math.max(0,N.y-c.y),o=N.m,V=N.e,a=new Uint32Array(x.buffer),O=new Uint32Array(T.buffer),S=Math.floor(Math.random()*c.Z()),L=u.l.atK;
for(var z=0;z<V;z++){var Q=(w+z)*R.m+l,b=(s+z)*c.m+J;for(var Z=0;Z<o;Z++){var I=g[Q+Z]*U;if(I==0)continue;
if(I==255){O[b+Z]=a[Q+Z];continue}var y=a[Q+Z],r=O[b+Z],h=y>>>24,k=r>>>24,K=h*I*(1/255),H=k*(255-I)*(1/255),p=y&255,f=y>>>8&255,A=y>>>16&255,_=r&255,W=r>>>8&255,Y=r>>>16&255,G=u.l.Ys(b+Z+S),i=Math.floor((K+H)*256+.5)+(G>>>0&255)>>>8,E=i==0?0:256/(K+H),$=p*K+_*H,C=f*K+W*H,B=A*K+Y*H,M=Math.floor($*E+.5)+(G>>>8&255)>>>8,j=Math.floor(C*E+.5)+(G>>>16&255)>>>8,P=Math.floor(B*E+.5)+(G>>>24&255)>>>8;
O[b+Z]=i<<24|P<<16|j<<8|M}}};u.l.atK=function(x){return Math.floor(x+Math.random())};u.l.v0=function(x,R,T,c,g,d,U){var e=1/255,N=R.yx(c).yx(d),l=Math.max(0,N.x-R.x),J=Math.max(0,N.x-c.x),w=Math.max(0,N.y-R.y),s=Math.max(0,N.y-c.y),o=N.m,V=N.e;
for(var z=0;z<V;z++){var a=(w+z)*R.m+l,O=(s+z)*c.m+J;for(var S=0;S<o;S++,a++,O++){var L=U*g[a]*e;if(L==0)continue;
if(L==1){T[O]=x[a];continue}T[O]=x[a]*L+T[O]*(1-L)}}};u.aju=function(){function x(d){var U=d*.85;return Math.exp(-(U*U)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function R(d,U){var e=d<U?1:x((d-U)/Math.pow(1.001-U,.86));
return e}var T=[];function c(d){if(T[d])return T[d];var U=Math.pow(d,.55),e=new Float64Array(8e3),N=0,l=8e3;
for(var z=0;z<8e3;z++){var J=R(z*(1.55/4e3),U);if(J>=1)N=z;else if(J<=0&&l==8e3)l=z;e[z]=J}var w=[e,N,l];
T[d]=w;return w}function g(d,U,e){var N=1+.55*(1-U),l=Math.round(e*d*N)+2,J=new aP(0,0,l,l),w=u.B(l*l),s=[w,J],o=l/2,V=N/(o-1),a=Date.now(),O=c(U),S=Math.round(8e3/o),L=O[0],Q=O[1]-S,b=O[2]+S,Z=Math.min(l,l+1>>>1),I=V*.4*(4e3/1.55),y=u.B(8e3);
for(var z=0;z<8e3;z++){var r=z,h=z,k=~~Math.max(0,r-I-I),K=~~Math.max(0,r-I),H=~~(r+I),p=~~(r+I+I),f=~~(.5+255*(1/5)*(L[h]+L[k]+L[K]+L[H]+L[p]));
y[z]=f;if(f==0)break}for(var z=0;z<Z;z++){var A=V*(z-o+.5),_=A*A,W=z*l,Y=(l-1-z)*l;for(var G=0;G<Z;G++){var i=V*(G-o+.5),h=~~(Math.sqrt(i*i+_)*(4e3/1.55));
if(b<h)continue;else if(h<Q){var f=255;while(G<Z){var E=l-1-G;w[W+G]=f;w[W+E]=f;w[Y+G]=f;w[Y+E]=f;G++}break}else{var f=y[h],E=l-1-G;
w[W+G]=f;w[W+E]=f;w[Y+G]=f;w[Y+E]=f}}}return s}return{alH:g}}();u.UZ={};u.UZ.a9U=function(x,R,T,c,g,d){u.UZ.Ao(x,R,T,c,g,d,null,0)};
u.UZ.ahL=function(x,R,T,c,g){u.UZ.Ao(x,R,T,c,g,null,null,0)};u.UZ.a1y=function(x,R,T,c,g,d,U){u.UZ.Ao(x,R,T,c,g,null,d,U*.5)};
u.UZ.Ao=function(x,R,T,c,g,d,U,e){var N=0,H=0,p=1e9,f=0,A=1e9,_=0,W=1e9,Y=0,G=0,i=0,E=0;if(d){N=g*.5;
g=3+Math.round((g-3)*.75)}if(U){g=Math.round(g*2.2)}var l=1/g,J=Math.floor(R*l)+1,w=Math.floor(T*l)+1,s=[],o=new Uint8Array(J*w*4),V=U?.5:1,a=d?64:0;
for(var O=0;O<w;O++){var S=U?.5*(O&1):0;for(var L=0;L<J;L++){var Q=(L+Math.random()*V+S)*g,b=(O+Math.random()*V)*g;
s.push(Q,b);var Z=Math.min(R-1,Math.floor(Q)),I=Math.min(T-1,Math.floor(b)),y=(I*R+Z)*4,r=(O*J+L)*4;
for(var z=0;z<4;z++)o[r+z]=Math.max(0,Math.min(255,Math.floor(x[y+z]+(Math.random()-.5)*a)))}}var h=d?d:U?U:[0,0,0],k=J*w*2,K=[-J-1,-J,-J+1,-1,0,1,J-1,J,J+1];
for(var O=0;O<T;O++){i=0;for(var L=0;L<R;L++){var $=L+.5,C=O+.5,B=Math.floor(C*l),M=Math.floor($*l),j=B*J+M,q=0,m=0;
if(i>1+e){p=u.UZ.a98(s,H,$,C);Y=Math.sqrt(p);i--;E++}else{p=A=W=1e9;for(var z=0;z<K.length;z++){var P=(j+K[z])*2;
if(P<0||P>=k)continue;var t=u.UZ.a98(s,P,$,C);if(t<W){if(t<A){if(t<p){_=f;W=A;f=H;A=p;H=P;p=t}else{_=f;
W=A;f=P;A=t}}else{_=P;W=t}}}Y=Math.sqrt(p);G=Math.sqrt(A);i=G-(Y+G)*.5}if(U==null){var iE=(Y+G)*.5,hV=d?Math.max(0,iE-N):0;
q=Math.max(0,Math.min(1,.5+iE-Y-hV));m=Math.max(0,Math.min(1,1-(.5+iE-Y)-hV))}else{var dD=Math.min(u.UZ.aB8(s,H,f,$,C),u.UZ.aB8(s,H,_,$,C));
q=Math.max(0,Math.min(1,dD-e*.5));if($<e||R-e<$||C<e||T-e<C)q=0;m=0}var bh=1-m-q,r=O*R+L<<2,ho=H<<1,aH=f<<1;
c[r+0]=Math.floor(.5+q*o[ho+0]+m*o[aH+0]+bh*h[0]);c[r+1]=Math.floor(.5+q*o[ho+1]+m*o[aH+1]+bh*h[1]);
c[r+2]=Math.floor(.5+q*o[ho+2]+m*o[aH+2]+bh*h[2]);c[r+3]=x[r+3]}}};u.UZ.a98=function(x,R,T,c){var g=T-x[R],d=c-x[R+1];
return g*g+d*d};u.UZ.aB8=function(x,R,T,c,g){var d=x[R],U=x[R+1],e=x[T],N=x[T+1],l=(d+e)*.5,J=(U+N)*.5,w=l+(N-U),s=J-(e-d),o=s-J,V=w-l;
return Math.abs(o*c-V*g+w*J-s*l)/Math.sqrt(V*V+o*o)};u.kc={};u.kc.TX=function(x){if(u.kc.Gn.length<x)u.kc.Gn=u.B(x);
return u.kc.Gn};u.kc.Gn=u.B(0);u.kc.ayw=function(x){if(u.kc.Bp.length<x)u.kc.Bp=new Float32Array(x);
return u.kc.Bp};u.kc.Bp=new Float32Array(0);u.kc.nu=function(x,R,T,c){var g=T.m,d=T.e;u.kc.aqk(x,R,g,d,c)};
u.kc.w5=function(x,R,T,c){var g=T.m,d=T.e;u.kc.azG(x,R,g,d,c)};u.kc.awI=function(x,R,T){var c=R.m,g=R.e;
u.kc.afe(x,c,g,T)};u.kc.cX=function(x,R,T,c,g){var d=T.m,U=T.e;u.kc.avr(x,R,d,U,c,g)};u.kc.aoN=function(x,R,T,c){var g=T.m,d=T.e;
c=Math.round(c);var U=u.kc.TX(g*d);u.kS(x,R);u.kc.B6(R,U,g,d,c)};u.kc.My=function(x,R,T){var c=R.m,g=R.e;
T=Math.round(T);var d=u.kc.TX(c*g*4);u.kc.Tu(x,d,c,g,T)};u.kc.RM=function(x,R,T,c){var g=T.m,d=T.e;c=Math.round(c);
var U=u.kc.ayw(g*d);u.kS(x,R);u.kc.a88(R,U,g,d,c)};u.kc.afs=function(x,R,T){var c=R.m,g=R.e;T=Math.round(T);
var d=u.kc.TX(c*g*4);u.kc.a3e(x,d,c,g,T);u.kS(d,x)};u.kc.Zx=function(x,cg){var R=Math.sqrt(12*x*x/cg+1),T=Math.floor(R);
if(T%2==0)T--;var c=T+2,g=(12*x*x-cg*T*T-4*cg*T-3*cg)/(-4*T-4),d=Math.round(g),U=[];for(var z=0;z<cg;
z++)U.push(z<d?T:c);return U};u.kc.aqk=function(x,R,T,c,g){var d=u.kc.Zx(g,3),U=u.kc.TX(T*c);u.kS(x,R);
u.kc.B6(R,U,T,c,d[0]-1>>1);u.kc.B6(R,U,T,c,d[1]-1>>1);u.kc.B6(R,U,T,c,d[2]-1>>1)};u.kc.azG=function(x,R,T,c,g){var d=u.kc.Zx(g,2),U=u.kc.TX(T*c);
u.kS(x,R);u.kc.B6(R,U,T,c,d[0]-1>>1);u.kc.B6(R,U,T,c,d[1]-1>>1)};u.kc.afe=function(x,R,T,c){var g=u.kc.Zx(c,3),d=u.kc.TX(R*T*4);
u.kc.Tu(x,d,R,T,g[0]-1>>1);u.kc.Tu(x,d,R,T,g[1]-1>>1);u.kc.Tu(x,d,R,T,g[2]-1>>1)};u.kc.avr=function(x,R,T,c,g,d){if(d==null)d=3;
var U=u.kc.Zx(g,d),e=u.kc.ayw(T*c);u.kS(x,R);for(var z=0;z<d;z++)u.kc.a88(R,e,T,c,(U[z]-1)/2)};u.kc.B6=function(x,R,T,c,g){u.kc.aeJ(x,R,T,c,g);
u.kc.aoF(R,x,T,c,g)};u.kc.Tu=function(x,R,T,c,g){u.kc.a3e(x,R,T,c,g);u.kc.awP(R,x,T,c,g)};u.kc.a88=function(x,R,T,c,g){u.kc.aaM(x,R,T,c,g);
u.kc.ajw(R,x,T,c,g)};u.kc.up=[];u.kc.oY=function(x){if(u.kc.up[x])return u.kc.up[x];var R=1/(x+x+1),T=(x+x+1)*256,c=u.B(T);
for(var z=0;z<T;z++)c[z]=Math.round(z*R);u.kc.up[x]=c;return c};u.kc.aeJ=function(x,R,T,c,g){var d=1/(g+g+1),U=T-g-g-1,e=u.kc.oY(g);
for(var z=0;z<c;z++){var N=z*T,l=N,J=N+g,w=x[N],s=x[N+T-1],o=(g+1)*w;for(var V=0;V<g;V++)o+=x[N+V];for(var V=0;
V<=g;V++){o+=x[J+V]-w;R[N+V]=e[o]}J+=g+1;N+=g+1;for(var V=0;V<U;V++){o+=x[J+V]-x[l+V];R[N+V]=e[o]}J+=U;
l+=U;N+=U;for(var V=T-g;V<T;V++){o+=s-x[l++];R[N++]=e[o]}}};u.kc.a3e=function(x,R,T,c,g){var d=T<<2,U=g<<2,e=1/(g+g+1),N=T-g-g-1,l=N<<2,J=u.kc.oY(g);
for(var z=0;z<c;z++){var w=z*d,s=w,o=w+U,V=w+d,a=x[w],O=x[w+1],S=x[w+2],L=x[w+3],Q=(g+1)*a,b=(g+1)*O,Z=(g+1)*S,I=(g+1)*L;
for(var y=0;y<U;y+=4){Q+=x[w+y];b+=x[w+y+1];Z+=x[w+y+2];I+=x[w+y+3]}for(var y=0;y<=U;y+=4){Q+=x[o]-a;
R[w]=J[Q];b+=x[o+1]-O;R[w+1]=J[b];Z+=x[o+2]-S;R[w+2]=J[Z];I+=x[o+3]-L;R[w+3]=J[I];o+=4;w+=4}for(var y=0;
y<l;y+=4){Q+=x[o+y]-x[s+y];R[w+y]=J[Q];b+=x[o+y+1]-x[s+y+1];R[w+y+1]=J[b];Z+=x[o+y+2]-x[s+y+2];R[w+y+2]=J[Z];
I+=x[o+y+3]-x[s+y+3];R[w+y+3]=J[I]}o+=l;s+=l;w+=l;a=x[V-4];O=x[V-3];S=x[V-2];L=x[V-1];for(var y=T-g;
y<T;y++){Q+=a-x[s];R[w]=J[Q];b+=O-x[s+1];R[w+1]=J[b];Z+=S-x[s+2];R[w+2]=J[Z];I+=L-x[s+3];R[w+3]=J[I];
s+=4;w+=4}}};u.kc.aaM=function(x,R,T,c,g){var d=1/(g+g+1),U=T-g-g-1;for(var z=0;z<c;z++){var e=z*T,N=e,l=e+g,J=x[e],w=x[e+T-1],s=(g+1)*J;
for(var o=0;o<g;o++)s+=x[e+o];for(var o=0;o<=g;o++){s+=x[l+o]-J;R[e+o]=s*d}l+=g+1;e+=g+1;for(var o=0;
o<U;o++){s+=x[l+o]-x[N+o];R[e+o]=s*d}l+=U;N+=U;e+=U;for(var o=T-g;o<T;o++){s+=w-x[N++];R[e++]=s*d}}};
u.kc.aoF=function(x,R,T,c,g){var d=1/(g+g+1),U=c-g-g-1,e=u.kc.oY(g);for(var z=0;z<T;z++){var N=z,l=N,J=N+g*T,w=x[N],s=x[N+T*(c-1)],o=(g+1)*w;
for(var V=0;V<g;V++)o+=x[N+V*T];for(var V=0;V<=g;V++){o+=x[J]-w;R[N]=e[o];J+=T;N+=T}for(var V=0;V<U;
V++){var a=V*T;o+=x[J+a]-x[l+a];R[N+a]=e[o]}l+=U*T;J+=U*T;N+=U*T;for(var V=c-g;V<c;V++){o+=s-x[l];R[N]=e[o];
l+=T;N+=T}}};u.kc.awP=function(x,R,T,c,g){var d=T<<2,U=g<<2,e=1/(g+g+1),N=c-g-g-1,l=N<<2,J=u.kc.oY(g);
for(var z=0;z<T;z++){var w=z<<2,s=w,o=w+g*d,V=w+d*(c-1),a=x[w],O=x[w+1],S=x[w+2],L=x[w+3],Q=(g+1)*a,b=(g+1)*O,Z=(g+1)*S,I=(g+1)*L;
for(var y=0;y<g;y++){var r=w+y*d;Q+=x[r];b+=x[r+1];Z+=x[r+2];I+=x[r+3]}for(var y=0;y<=g;y++){Q+=x[o]-a;
R[w]=J[Q];b+=x[o+1]-O;R[w+1]=J[b];Z+=x[o+2]-S;R[w+2]=J[Z];I+=x[o+3]-L;R[w+3]=J[I];o+=d;w+=d}for(var y=0;
y<N;y++){var h=y*d;Q+=x[o+h]-x[s+h];R[w+h]=J[Q];b+=x[o+h+1]-x[s+h+1];R[w+h+1]=J[b];Z+=x[o+h+2]-x[s+h+2];
R[w+h+2]=J[Z];I+=x[o+h+3]-x[s+h+3];R[w+h+3]=J[I]}s+=N*d;o+=N*d;w+=N*d;a=x[V];O=x[V+1];S=x[V+2];L=x[V+3];
for(var y=c-g;y<c;y++){Q+=a-x[s];R[w]=J[Q];b+=O-x[s+1];R[w+1]=J[b];Z+=S-x[s+2];R[w+2]=J[Z];I+=L-x[s+3];
R[w+3]=J[I];s+=d;w+=d}}};u.kc.ajw=function(x,R,T,c,g){var d=1/(g+g+1),U=c-g-g-1;for(var z=0;z<T;z++){var e=z,N=e,l=e+g*T,J=x[e],w=x[e+T*(c-1)],s=(g+1)*J;
for(var o=0;o<g;o++)s+=x[e+o*T];for(var o=0;o<=g;o++){s+=x[l]-J;R[e]=s*d;l+=T;e+=T}for(var o=0;o<U;o++){var V=o*T;
s+=x[l+V]-x[N+V];R[e+V]=s*d}N+=U*T;l+=U*T;e+=U*T;for(var o=c-g;o<c;o++){s+=w-x[N];R[e]=s*d;N+=T;e+=T}}};
u.i1={};u.i1.B=function(x,R,T,c){var g=[];for(var d=0;d<4;d++)for(var U=0;U<4;U++)g.push(x+T*U/3,R+c*d/3);
return g};u.i1.acm=function(x,R){var T=x.slice(0);for(var z=0;z<4;z++)for(var c=0;c<4;c++){var g=2*(z*4+c),d=2*(c*4+(3-z));
if(R){var U=g;g=d;d=U}T[d]=x[g];T[d+1]=x[g+1]}return T};u.i1.iO=u.B(0);u.i1.drawImage=function(x,R,T,c,g,d,U){var e=!1,N=Date.now(),l=2,J=T+2*l,w=c+2*l,s=new aP(l,l,T,c),o=s.clone();
o.t1(l,l);var V=u.i1.iO;if(V.length!=o.Z()*4)V=u.i1.iO=u.B(o.Z()*4);else V.fill(0);u.yU(R,s,V,o);if(e)console.log(Date.now()-N,"copy rect");
N=Date.now();u.yk(V);if(e)console.log(Date.now()-N,"multiply alpha");N=Date.now();var a=Math.max(T,c),O=Math.round(50*T/a),S=Math.round(Math.sqrt(3)*.5*50*c/a),L=O-.5,Q=[],b=[],Z=[];
for(var I=0;I<S+1;I++){var y=(I&1)==0;for(var r=0;r<O+1;r++){var h=(r-(y?.5:0))/L,k=I/S;if(r==0)h=0;
if(r==O)h=1;Q.push(J*h,w*k);if(r<O&&I<S){var K=I*(O+1)+r,H=K+1,p=K+O+1,f=p+1;if(y)b.push(K,H,p,p,H,f);
else b.push(K,H,f,K,f,p)}var A=u.i1.adm(x,h,k);Z.push(-A)}}var _=Q.slice(0);u.i1.i(x,_,s);u.M.i(_,new gP(1,0,0,1,-d.x,-d.y),_);
if(e)console.log(Date.now()-N,"mesh built");N=Date.now();var W=d.m,Y=d.e;u.xn.wa(V,J,w,g,W,Y,Q,_,Z,b,U);
if(e)console.log(Date.now()-N,"rendered");N=Date.now();u.MD(g);if(e)console.log(Date.now()-N,"divided");
N=Date.now()};u.i1.OM=new Array(10);u.i1.x6=function(x,R){var T=200,c=0,g=0,d=1e9,U=u.i1.OM;for(var e=0;
e<T+1;e++)for(var N=0;N<T+1;N++){var l=N/T,J=e/T;u.i1.auM(x,l,J,U);var w=U[8]-R.x,s=U[9]-R.y,o=w*w+s*s;
if(o<d){d=o;c=l;g=J}}return[c,g]};u.i1.i=function(x,R,T){var c=T.x,g=T.y,d=1/T.m,U=1/T.e,e=u.i1.OM;for(var N=0;
N<R.length;N+=2){var l=(R[N]-c)*d,J=(R[N+1]-g)*U;u.i1.auM(x,l,J,e);R[N]=e[8];R[N+1]=e[9]}};u.i1.adm=function(x,R,T){var c,g,d,U,e=u.i1.OM;
u.i1.aqT(x,R,T,e);c=e[8];g=e[9];u.i1.asD(x,R,T,e);d=e[8];U=e[9];return c*U-g*d};u.i1.zM=function(x,R,T){var c=0,g=0,d=x[2][0],U=x[2][1];
while(c+2<d.length&&d[c+1]<R)c++;R=(R-d[c])/(d[c+1]-d[c]);while(g+2<U.length&&U[g+1]<T)g++;T=(T-U[g])/(U[g+1]-U[g]);
return[c*3,g*3,R,T]};u.i1.auM=function(x,R,T,c){var g=u.i1.zM(x,R,T);u.i1.CP(c,0,g[3]);u.i1.CP(c,4,g[2]);
u.i1.Zi(x[3],g[0],g[1],x[0],c)};u.i1.aqT=function(x,R,T,c){var g=u.i1.zM(x,R,T);u.i1.CP(c,0,g[3]);u.i1.ahT(c,4,g[2]);
u.i1.Zi(x[3],g[0],g[1],x[0],c)};u.i1.asD=function(x,R,T,c){var g=u.i1.zM(x,R,T);u.i1.ahT(c,0,g[3]);u.i1.CP(c,4,g[2]);
u.i1.Zi(x[3],g[0],g[1],x[0],c)};u.i1.ahT=function(x,z,R){var T=1-R;x[z]=-3*(T*T);x[z+1]=3*(T*T)-6*(R*T);
x[z+2]=6*(R*T)-3*(R*R);x[z+3]=3*(R*R)};u.i1.CP=function(x,z,R){var T=1-R;x[z]=T*(T*T);x[z+1]=3*R*(T*T);
x[z+2]=3*(R*R)*T;x[z+3]=R*R*R};u.i1.a3W=function(x,R,T,c,g){var d=u.i1.zM(x,R,T),U=d[0],e=d[1],N=d[2],l=d[3],J=x[0],w=Math.floor(N*3),s=Math.floor(l*3),o=u.i1.OM,V=16,y=0;
u.i1.CP(o,0,l);u.i1.CP(o,4,N);var a=[],O=[],S=[];for(var L=0;L<4;L++){for(var Q=0;Q<4;Q++){var z=L*4+Q,b=o[L]*o[4+Q];
a.push(b);O.push((e+L)*J+U+Q);if((L==s||L==s+1)&&(Q==w||Q==w+1)){var Z=N*3-w;if(Q==w)Z=1-Z;var I=l*3-s;
if(L==s)I=1-I;S[z]=Z*I/b}else S[z]=0}}for(var z=0;z<V;z++)y+=a[z]*S[z];for(var z=0;z<V;z++)S[z]/=y;for(var z=0;
z<V;z++){var b=a[z],r=O[z];x[3][r*2]+=S[z]*c;x[3][r*2+1]+=S[z]*g}};u.i1.xZ=function(x){var R=x[0],T=x[1],c=x[2],g=x[3],d=g.slice(0);
for(var U=0;U<T;U++)for(var e=0;e<R;e++){g[(e*T+U)*2]=d[(U*R+e)*2];g[(e*T+U)*2+1]=d[(U*R+e)*2+1]}x[0]=T;
x[1]=R;x[2]=[c[1],c[0]]};u.i1.split=function(x,R,T){if(R==1)u.i1.xZ(x);var c=x[0],g=x[1],d=x[2][0],U=x[3],e=0;
while(d[e+1]&&d[e+1]<T)e++;var N=(T-d[e])/(d[e+1]-d[e]),l=1-N;for(var J=0;J<g;J++){var z=(J*(c+3)+e*3)*2,w=l*U[z]+N*U[z+2],s=l*U[z+1]+N*U[z+3],o=l*U[z+2]+N*U[z+4],V=l*U[z+3]+N*U[z+5],a=l*U[z+4]+N*U[z+6],O=l*U[z+5]+N*U[z+7],S=l*w+N*o,L=l*s+N*V,Q=l*o+N*a,b=l*V+N*O,Z=l*S+N*Q,I=l*L+N*b;
U.splice(z+2,4,w,s,S,L,Z,I,Q,b,a,O)}d.push(T);d.sort();x[0]+=3;if(R==1)u.i1.xZ(x)};u.i1.Zi=function(x,R,T,c,g){var d=0,U=0,e=0,N=g[0],l=g[1],J=g[2],w=g[3],s=g[4],o=g[5],V=g[6],a=g[7],z=(T*c+R)*2;
e=N*s;d+=x[z+0]*e;U+=x[z+1]*e;e=N*o;d+=x[z+2]*e;U+=x[z+3]*e;e=N*V;d+=x[z+4]*e;U+=x[z+5]*e;e=N*a;d+=x[z+6]*e;
U+=x[z+7]*e;z+=c+c;e=l*s;d+=x[z+0]*e;U+=x[z+1]*e;e=l*o;d+=x[z+2]*e;U+=x[z+3]*e;e=l*V;d+=x[z+4]*e;U+=x[z+5]*e;
e=l*a;d+=x[z+6]*e;U+=x[z+7]*e;z+=c+c;e=J*s;d+=x[z+0]*e;U+=x[z+1]*e;e=J*o;d+=x[z+2]*e;U+=x[z+3]*e;e=J*V;
d+=x[z+4]*e;U+=x[z+5]*e;e=J*a;d+=x[z+6]*e;U+=x[z+7]*e;z+=c+c;e=w*s;d+=x[z+0]*e;U+=x[z+1]*e;e=w*o;d+=x[z+2]*e;
U+=x[z+3]*e;e=w*V;d+=x[z+4]*e;U+=x[z+5]*e;e=w*a;d+=x[z+6]*e;U+=x[z+7]*e;z+=c+c;g[8]=d;g[9]=U};u.o6={};
u.o6.aep=function(x,R,T){var c=Date.now(),g=new ArrayBuffer(R*T*16),d=u.o6.a7Z(x,R,T,g),U=u.o6.a1q(R,T,g);
return{BL:U,tB:d}};u.o6.af9=function(x,R,T){var c=Math.round(x.length/8),g=new Uint32Array(c),d=new Uint8Array(c),U=new Uint32Array(c);
u.Qu(g,4294967295,0);g[T]=0;var e=new dB(c);e.push(T,g[T]);var N={BL:x,tB:R,SY:g,Yx:d,dL:U,h8:e,aCL:T};
return N};u.o6.JB=function(x,R){var T=x.BL,c=x.tB,g=x.SY,d=x.Yx,U=x.dL,e=x.h8;while(!e.Y3()&&(R==null||d[R]==0)){var N=e.pop();
d[N]=1;for(var z=0;z<8;z++){var l=T[8*N+z],J=N+l;if(l==0||d[J])continue;var w=g[N]+c[8*N+z];if(e.contains(J)&&w<g[J])e.remove(J,g[J]);
if(!e.contains(J)){g[J]=w;U[J]=N;e.push(J,g[J])}}}};function dB(x){this.Bs=new Uint32Array(x);this.list=[];
this.MA=0;this.XJ=4294967295}dB.prototype.Y3=function(){return this.MA==0};dB.prototype.push=function(x,R){var T=this.list;
if(T[R]==null)T[R]=[];T[R].push(x);this.MA++;this.Bs[x]=T[R].length-1+1;this.XJ=Math.min(this.XJ,R)};
dB.prototype.pop=function(){this.MA--;var x=this.list,R=this.XJ,T=x[R].pop();if(x[R].length==0)x[R]=null;
this.a8y();this.Bs[T]=0;return T};dB.prototype.contains=function(x){return this.Bs[x]!=0};dB.prototype.remove=function(x,R){this.MA--;
var T=this.list,z=this.Bs[x]-1;if(z==T[R].length-1)T[R].pop();else{var c=T[R].pop();T[R][z]=c;this.Bs[c]=z+1}if(T[R].length==0)T[R]=null;
this.Bs[x]=0;this.a8y()};dB.prototype.a8y=function(){if(this.MA==0){this.XJ=4294967295;return}var x=this.XJ,R=this.list;
while(R[x]==null)x++;this.XJ=x};u.o6.aff=function(x,R,T,c){var g=new Int16Array(c);for(var d=0;d<T;d++)for(var U=0;
U<R;U++){var z=d*R+U,e=0;if(1<U&&U<R-2&&1<d&&d<T-2){e+=x[z-R-R];e+=x[z-R-1]+2*x[z-R]+x[z-R+1];e+=x[z-2]+2*x[z-1]-16*x[z]+2*x[z+1]+x[z+2];
e+=x[z+R-1]+2*x[z+R]+x[z+R+1];e+=x[z+R+R]}else e=-16*x[z];g[z]=e}return g};u.o6.ake=function(x,R,T,c){if(c==null)c=128;
var g=new Uint8Array(R*T);for(var d=1;d<T-1;d++)for(var U=1;U<R-1;U++){var z=d*R+U;g[z]=u.o6.apP(x[z],x[z-1],x[z+1],x[z-R],x[z+R],c)}return g};
u.o6.apP=function(x,R,T,c,g,d){var U=Math.abs(x);return x*R<0&&U<Math.abs(R)&&Math.abs(R-x)>d||x*T<0&&U<Math.abs(T)&&Math.abs(T-x)>d||x*c<0&&U<Math.abs(c)&&Math.abs(c-x)>d||x*g<0&&U<Math.abs(g)&&Math.abs(g-x)>d?1:0};
u.o6.abB=function(x,R,T,c){var g=new Float32Array(c),d=0;new Uint32Array(c).fill(0);for(var U=0;U<T;
U++)for(var e=0;e<R;e++){var N=0,l=0,z=U*R+e,J=z*3;if(0<e&&e<R-1)N=x[z+1]-x[z-1];if(0<U&&U<T-1)l=x[z+R]-x[z-R];
var w=g[J+2]=Math.sqrt(N*N+l*l);if(w!=0){var s=1/w;g[J]=N*s;g[J+1]=l*s}if(w>d)d=w}var o=R*T,V=d==0?0:1/d;
for(var z=0;z<o;z++)g[z*3+2]=1-g[z*3+2]*V;return g};u.o6.a6B=function(x,R,T){return T[~~((.5+.5*x)*255)]+T[~~((.5+.5*R)*255)]};
u.o6.a7Z=function(x,R,T,c){var g=Date.now(),d=u.o6.aff(x,R,T,c),U=u.o6.ake(d,R,T),e=u.o6.abB(x,R,T,c),N=new Float32Array(256);
for(var z=0;z<256;z++)N[z]=Math.acos(-1+2*z/255)*(.95/Math.PI);var l=[-1,0,1,1,1,0,-1,-1],J=[-1,-1,-1,0,1,1,1,0];
for(var z=0;z<8;z++){var w=1/Math.sqrt(l[z]*l[z]+J[z]*J[z]);l[z]*=w;J[z]*=w}var s=[l[0],J[0],l[1],J[1],l[2],J[2],l[3],J[3]],o=[-R-1,-R,-R+1,1],V=new Uint8Array(R*T*8);
new Uint32Array(V.buffer).fill(4294967295);var a=R*T;for(var O=1;O<T-1;O++)for(var S=1;S<R-1;S++){var L=O*R+S,Q=1-U[L],b=e[L*3+2],Z=e[3*L+1],I=-e[3*L];
for(var y=0;y<4;y++){var r=L+o[y];u.o6.azb(L,r,y,V,U,e,Q,b,Z,I,s,N)}}return V};u.o6.azb=function(x,R,T,c,g,d,U,e,N,l,J,w){var s=1-g[R],o=(T&1)==0?1:Math.SQRT1_2,V=d[R*3+2]*o,a=d[3*R+1],O=-d[3*R],S=e*o,L=J[T+T],Q=J[T+T+1],b=N*L+l*Q,Z=a*L+O*Q;
if(b+Z<0){b=-b;Z=-Z}var I=u.o6.a6B(b,Z,w);c[(x<<3)+T]=u.o6.aBs(s,I,V);c[(R<<3)+T+4]=u.o6.aBs(U,I,S)};
u.o6.aBs=function(x,R,T){return 1+~~(.5+20*(.43*x+.43*R+.14*T))};u.o6.a1q=function(x,R,T){var c=new Int16Array(T),g=c,z=0,d=0;
new Uint32Array(T).fill(0);for(var U=0;U<R;U++)for(var e=0;e<x;e++){if(U>0&&e>0)g[d+0]=-x-1;if(U>0)g[d+1]=-x;
if(U>0&&e<x-1)g[d+2]=-x+1;if(e<x-1)g[d+3]=1;if(U<R-1&&e<x-1)g[d+4]=x+1;if(U<R-1)g[d+5]=x;if(U<R-1&&e>0)g[d+6]=x-1;
if(e>0)g[d+7]=-1;z++;d+=8}return c};u.zo={};u.zo.nc=function(x){var R=x.slice(0),T=0;for(var z=0;z<x.length;
z++)T+=x[z];for(var z=0;z<x.length;z++)R[z]/=T;return R};u.zo.hU=[u.zo.nc([1,2,1,2,16,2,1,2,1]),u.zo.nc([1,2,1,2,4,2,1,2,1]),u.zo.nc([0,-1,0,-1,8,-1,0,-1,0]),u.zo.nc([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
u.zo.nh=function(x,R,T,c,g,d,U,e){if(U==null)U=!1;if(e==null)e=!1;var N=Math.floor(Math.sqrt(g.length)),l=N-1>>>1,J=new Uint32Array(x.buffer),R=new Uint8ClampedArray(R.buffer);
for(var z=0;z<c;z++)for(var w=0;w<T;w++){var s=0,o=0,V=0,a=0;for(var O=0;O<N;O++)for(var S=0;S<N;S++){var L=g[O*N+S];
if(L==0)continue;var Q=w-l+S,b=z-l+O;if(Q<0)Q=0;else if(Q>T-1)Q=T-1;if(b<0)b=0;else if(b>c-1)b=c-1;if(e&&J[b*T+Q]>>>24==0){b=z;
Q=w}var Z=J[b*T+Q];s+=(Z&255)*L;o+=(Z>>>8&255)*L;V+=(Z>>>16&255)*L;a+=(Z>>>24&255)*L}if(U){if(s<0)s=-s;
if(o<0)o=-o;if(V<0)V=-V;if(a<0)a=-a}if(e){s=Math.max(0,Math.min(255,s));o=Math.max(0,Math.min(255,o));
V=Math.max(0,Math.min(255,V));a=Math.max(0,Math.min(255,a))}var I=z*T+w<<2;R[I]=~~(.5+s);R[I+1]=~~(.5+o);
R[I+2]=~~(.5+V);R[I+3]=255-d&R[I+3]|d&~~(.5+a)}};u.zo.aeL=function(x,R,T,c){var g=x.length,d=new Uint8Array(g);
u.zo.nh(x,R,T,c,u.zo.hU[4],0,!0);u.zo.nh(x,d,T,c,u.zo.hU[5],0,!0);for(var z=0;z<g;z+=4){var U=R[z],e=R[z+1],N=R[z+2],l=R[z+3],J=d[z],w=d[z+1],s=d[z+2],o=d[z+3];
R[z]=255-Math.max(0,Math.min(255,Math.sqrt(U*U+J*J)));R[z+1]=255-Math.max(0,Math.min(255,Math.sqrt(e*e+w*w)));
R[z+2]=255-Math.max(0,Math.min(255,Math.sqrt(N*N+s*s)))}};u.zo.a38=function(x,R,T,c){var g=x.length,d=new Uint8Array(g);
u.zo.qQ(x,R,T,c,u.zo.hU[4],!0);u.zo.qQ(x,d,T,c,u.zo.hU[5],!0);for(var z=0;z<g;z++){var U=R[z],e=d[z];
R[z]=255-Math.max(0,Math.min(255,Math.sqrt(U*U+e*e)))}};u.zo.qQ=function(x,R,T,c,g,d){R=new Uint8ClampedArray(R.buffer);
var U=[-T-1,-T,-T+1,-1,0,1,T-1,T,T+1],e=c-1,N=T-1;for(var z=1;z<e;z++)for(var l=1;l<N;l++){var J=z*T+l,w=u.zo.oh(x,J,T,g);
if(d){if(w<0)w=-w}R[J]=~~(w+.5)}};u.zo.oh=function(x,R,T,c){return x[R-T-1]*c[0]+x[R-T]*c[1]+x[R-T+1]*c[2]+x[R-1]*c[3]+x[R]*c[4]+x[R+1]*c[5]+x[R+T-1]*c[6]+x[R+T]*c[7]+x[R+T+1]*c[8]};
u.zo.aaV=function(x,R,T,c,g){var d=[-T-1,-T,-T+1,-1,0,1,T-1,T,T+1],U=c-1,e=T-1;for(var z=1;z<U;z++)for(var N=1;
N<e;N++){var l=z*T+N;R[l]=u.zo.aC6(x,l,T,g)}};u.zo.aC6=function(x,R,T,c){return x[R-T-1]*c[0]+x[R-T]*c[1]+x[R-T+1]*c[2]+x[R-1]*c[3]+x[R]*c[4]+x[R+1]*c[5]+x[R+T-1]*c[6]+x[R+T]*c[7]+x[R+T+1]*c[8]};
u.np={};u.np.Is=function(){function x(U,e,N,l,J,w){if(J==0){e.set(U);return}var s=u.B(N*l),o=u.B(N*l);
if(u.PN(U)){R(U,e,N,l,J,w);u.TR(U,s,3);u.np.ave(s,o,N,l,J,w);u.rN(o,e,3)}else{for(var z=0;z<3;z++){u.TR(U,s,z);
u.np.ave(s,o,N,l,J,w);u.rN(o,e,z)}}}function R(U,e,N,l,J,w){var s=0,o=new ArrayBuffer(512*4*3),V=[new Int32Array(o,0),new Int32Array(o,2048),new Int32Array(o,2*2048)],a=1+2*Math.round(Math.sqrt(J)),O=a>>>1,S=new Array(a),L=new Array(a);
for(var z=0;z<a;z++){var o=new ArrayBuffer(512*4*3);S[z]=[new Int32Array(o,0),new Int32Array(o,2048),new Int32Array(o,2*2048)];
L[z]=S[z][0]}var Q=[u.np.oz,u.np.Un][w],b=Q[0],Z=Q[1],I=V[0];for(var y=0;y<N;y++)if(y<J||y>N-J-a-1){I.fill(0);
var r=Math.max(y-J,0),h=Math.min(N,y+J+1),k=h-r;for(var K=0;K<J;K++)c(I,U,K*N+r,K*N+h,1);for(var K=0;
K<l;K++){var H=K-J-1,p=K+J;if(p<l)c(I,U,p*N+r,p*N+h,1);if(H>=0)c(I,U,H*N+r,H*N+h,-1);var f=K*N+y<<2;
s=I[300];if(s!=0)for(var z=0;z<3;z++)e[f+z]=b(V[z],U[f+z],s)}}else{for(var z=0;z<a;z++)L[z].fill(0);
var r=y-J+O,h=y+J+1+O;for(var K=0;K<J;K++)T(L,U,K*N+r,K*N+h,1,O);for(var K=0;K<l;K++){var H=K-J-1,p=K+J;
if(H>=0)T(L,U,H*N+r,H*N+h,-1,O);if(p<l)T(L,U,p*N+r,p*N+h,1,O);var A=S[O];s=A[0][300];for(var z=0;z<O;
z++){var _=O-1-z,W=O+1+z,Y=S[_],G=S[W],i=s+Y[0][300],E=s+G[0][300],$=K*N+y+_<<2,C=K*N+y+W<<2;if(i!=0)for(var B=0;
B<3;B++)e[$+B]=Z(A[B],Y[B],U[$+B],i);if(E!=0)for(var B=0;B<3;B++)e[C+B]=Z(A[B],G[B],U[C+B],E)}var f=K*N+y+O<<2;
if(s!=0)for(var B=0;B<3;B++)e[f+B]=b(A[B],U[f+B],s)}y+=a-1}}function T(U,e,N,l,J,w){var s=g,o=N<<2,V=l<<2;
s(U[w-1],e,N-1<<2,J);s(U[w-1],e,l-1<<2,-J);s(U[w+1],e,l<<2,J);s(U[w+1],e,N<<2,-J);for(var z=1;z<w;z++){var a=U[w-z-1],O=U[w+z+1];
for(var S=0;S<=z;S++){var L=S<<2;s(a,e,N-1-S<<2,J);s(a,e,l-1-S<<2,-J);s(O,e,l+S<<2,J);s(O,e,N+S<<2,-J)}}c(U[w],e,N,l,J)}function c(U,e,z,N,l){var J=z<<2,w=N<<2;
while(J<w){g(U,e,J,l);J+=4}}function g(U,e,N,l){var J=l*e[N+3];U[300]+=J;d(U,e[N],0,J);d(U,e[N+1],512,J);
d(U,e[N+2],1024,J)}function d(U,e,N,l){U[N|e]+=l;U[N|256|e>>>4]+=l}return x}();u.np.ave=function(){function x(w,s,o,V,a,O){if(a==0){s.set(w);
return}if(a<=200)R(w,s,o,V,a,O);else d(w,s,o,V,a,O)}function R(w,s,o,V,a,O){var S=0,L=new Int32Array(512),Q=1+2*Math.round(Math.sqrt(a)),b=Q>>>1,Z=new Array(Q);
for(var z=0;z<Q;z++)Z[z]=new Int32Array(512);var I=[u.np.oz,u.np.Un][O],y=I[0],r=I[1];for(var h=0;h<o;
h++)if(h<a||h>o-a-Q-1){L.fill(0);S=0;var k=Math.max(h-a,0),K=Math.min(o,h+a+1),H=K-k;for(var p=0;p<a;
p++){S+=H;c(L,w,p*o+k,p*o+K,1)}for(var p=0;p<V;p++){var f=p-a-1,A=p+a;if(f>=0){S-=H;c(L,w,f*o+k,f*o+K,-1)}if(A<V){S+=H;
c(L,w,A*o+k,A*o+K,1)}var _=y(L,w[p*o+h],S);s[p*o+h]=_}}else{for(var z=0;z<Q;z++)Z[z].fill(0);S=0;var k=h-a+b,K=h+a+1+b,H=K-k;
for(var p=0;p<a;p++){S+=H;T(Z,w,p*o+k,p*o+K,1,b)}for(var p=0;p<V;p++){var f=p-a-1,A=p+a;if(f>=0){S-=H;
T(Z,w,f*o+k,f*o+K,-1,b)}if(A<V){S+=H;T(Z,w,A*o+k,A*o+K,1,b)}for(var z=0;z<b;z++){var W=b-1-z,Y=b+1+z;
s[p*o+h+W]=r(Z[b],Z[W],w[p*o+h+W],S);s[p*o+h+Y]=r(Z[b],Z[Y],w[p*o+h+Y],S)}s[p*o+h+b]=y(Z[b],w[p*o+h+b],S)}h+=Q-1}}function T(w,s,o,V,a,O){var S=g;
S(w[O-1],s[o-1],0,a);S(w[O-1],s[V-1],0,-a);S(w[O+1],s[V],0,a);S(w[O+1],s[o],0,-a);for(var z=1;z<O;z++){var L=w[O-z-1],Q=w[O+z+1];
for(var b=0;b<=z;b++){S(L,s[o-1-b],0,a);S(L,s[V-1-b],0,-a);S(Q,s[V+b],0,a);S(Q,s[o+b],0,-a)}}c(w[O],s,o,V,a)}function c(w,s,z,o,V){while(z<o)g(w,s[z++],0,V)}function g(w,s,o,V){w[o|s]+=V;
w[o|256|s>>>4]+=V}function d(w,s,o,V,a,O){var S=0,L=new Int32Array(512),Q=new Int32Array(1*o),b=new Int32Array(512*o),Z=Math.min(a,o),I=Math.min(a,V),y=[u.np.oz,u.np.Un][O],r=y[0];
for(var h=0;h<I;h++)U(b,Q,w,o,h,1);for(var h=0;h<V;h++){if(h+a<V)U(b,Q,w,o,h+a,1);if(h-a-1>=0)U(b,Q,w,o,h-a-1,-1);
L.fill(0);S=0;for(var k=0;k<Z;k++){S+=Q[k];e(L,b,k)}for(var k=0;k<o;k++){var K=k-a-1,H=k+a;if(K>=0&&Q[K]!=0){S-=Q[K];
N(L,b,K)}if(H<o&&Q[H]!=0){S+=Q[H];e(L,b,H)}var p=S==0?0:r(L,w[h*o+k],S);s[h*o+k]=p}}}function U(w,s,o,V,a,O){var z=a*V;
for(var S=0;S<V;S++){g(w,o[z+S],S<<9,O);s[S]+=O}}function e(w,s,o){for(var z=0;z<16;z++){var V=s[o<<9|256|z];
if(V==0)continue;w[256|z]+=V;var a=z<<4,O=o<<9|a;l(w,s,a,O);l(w,s,a+4,O+4);l(w,s,a+8,O+8);l(w,s,a+12,O+12)}}function N(w,s,o){for(var z=0;
z<16;z++){var V=s[o<<9|256|z];if(V==0)continue;w[256|z]-=V;var a=z<<4,O=o<<9|a;J(w,s,a,O);J(w,s,a+4,O+4);
J(w,s,a+8,O+8);J(w,s,a+12,O+12)}}function l(w,s,o,V){w[o]+=s[V];w[o+1]+=s[V+1];w[o+2]+=s[V+2];w[o+3]+=s[V+3]}function J(w,s,o,V){w[o]-=s[V];
w[o+1]-=s[V+1];w[o+2]-=s[V+2];w[o+3]-=s[V+3]}return x}();u.np.dh=.5;u.np.oz=[function(x,R,T){var c=~~(.5+u.np.dh*T),g=0,z=256;
while(g+x[z]<c)g+=x[z++];z=z-256<<4;while(g<c)g+=x[z++];return z-1},function(x,R,T,c){var g=~~(.5+u.np.dh*c),d=0,z=256;
while(d+x[z]+R[z]<g){d+=x[z]+R[z];z++}z=z-256<<4;while(d<g){d+=x[z]+R[z];z++}return z-1}];u.np.l6=100;
u.np.Un=[function(x,R,T){var c=u.np.l6,g=0,d=0,z=Math.max(0,R-c),U=Math.min(256,R+c+1);while(z<U){var e=x[z];
g+=z*e;d+=e;z++}return d==0?0:g/d},function(x,R,T,c){var g=u.np.l6,d=0,U=0,z=Math.max(0,T-g),e=Math.min(256,T+g+1);
while(z<e){var N=x[z]+R[z];d+=z*N;U+=N;z++}return U==0?0:d/U}];u.D={};u.D.ZE=function(x){var R=D.gW.Yg(x.Trnf),T=x.Sz.v,c=u.D.ok(R,new aP(0,0,T.Wdth.v,T.Hght.v));
return u.D.nA(c)};u.D.ok=function(x,R){var T=x[0],c=x[1],g=x[2],d=x[3],U=x[6],e=x[7],N=x[4],l=x[5],J=0,w=0,s=1,o=0,V=0,a=1,O=1,S=1;
if(R){J=R.x;w=R.y;s=R.x+R.m;o=R.y;V=R.x;a=R.y+R.e;O=R.x+R.m;S=R.y+R.e}return u.D.ami(x,[J,w,s,o,O,S,V,a])};
u.D.anj=function(x){function R(g,d){for(var z=0;z<d.length;z+=2)if(!T(g,d[z],d[z+1]))return!1;return!0}function T(g,d,U){return g[2*d]==g[2*U]&&g[2*d+1]==g[2*U+1]}var c=0;
if(R(x,[0,1,2,3]))c+=1;if(R(x,[0,3,1,2]))c+=2;return c};u.D.ami=function(x,R){function T(_,z,W){var p=_[z*2]-_[W*2],f=_[z*2+1]-_[W*2+1];
return Math.sqrt(p*p+f*f)}var c=x[0],g=x[1],d=x[2],U=x[3],e=x[6],N=x[7],l=x[4],J=x[5],w=R[0],s=R[1],o=R[2],V=R[3],a=R[6],O=R[7],S=R[4],L=R[5],Q=[[w,s,1,0,0,0,-w*c,-s*c,c],[0,0,0,w,s,1,-w*g,-s*g,g],[o,V,1,0,0,0,-o*d,-V*d,d],[0,0,0,o,V,1,-o*U,-V*U,U],[a,O,1,0,0,0,-a*e,-O*e,e],[0,0,0,a,O,1,-a*N,-O*N,N],[S,L,1,0,0,0,-S*l,-L*l,l],[0,0,0,S,L,1,-S*J,-L*J,J]],b=[0,0,0,0,0,0,0,0],Z=u.Zv.X7(Q,b);
if(Z!=0){b=[0,0,0,0,0,0,0,0];var I=u.D.anj(x),y=u.D.anj(R);if(I==y&&I!=0){var r=I==1,h=r?3:1,k=T(x,0,h),K=T(R,0,h),H=K/k,p=x[2*h]-x[0],f=x[2*h+1]-x[1],A=new gP;
A.translate(-c,-g);A.rotate(Math.atan2(f,p)-(r?Math.PI/2:0));if(r)A.scale(1,H);else A.scale(H,1);A.translate(w,s);
A.F0();b=u.D.bY(A)}}return b};u.D.B=function(x,R){if(x==null)x=R=0;return[1,0,x,0,1,R,0,0]};u.D.VJ=function(x){return Math.abs(x[6])<1e-10&&Math.abs(x[7])<1e-10};
u.D.nA=function(x){return new gP(x[0],x[3],x[1],x[4],x[2],x[5])};u.D.bY=function(x){return[x.Y,x.zI,x.a4,x.J,x.jR,x.rY,0,0]};
u.D.i=function(x,R){var T=new Float64Array(2);for(var c=0;c<R.length;c+=2){var g=R[c],d=R[c+1];u.D.y4(g,d,x,T);
R[c]=T[0];R[c+1]=T[1]}};u.D.y4=function(x,R,T,c){var g=1/(T[6]*x+T[7]*R+1);c[0]=(T[0]*x+T[1]*R+T[2])*g;
c[1]=(T[3]*x+T[4]*R+T[5])*g};u.D.acZ=function(x,R){var T=new Float64Array(2);u.D.y4(R.x,R.y,x,T);return new cI(T[0],T[1])};
u.D.xZ=function(x,R,T,c){x=new Uint32Array(x.buffer);R=new Uint32Array(R.buffer);for(var g=0;g<c;g++){for(var d=0;
d<T;d++){R[d*c+g]=x[g*T+d]}}};u.D.Ke=function(x,R,T,c){x=new Uint32Array(x.buffer);R=new Uint32Array(R.buffer);
for(var g=0;g<c;g++){for(var d=0;d<T;d++){R[g*T+d]=x[g*T+T-1-d]}}};u.D.ax7=function(x,R,T,c){x=new Uint32Array(x.buffer);
R=new Uint32Array(R.buffer);for(var g=0;g<c;g++){for(var d=0;d<T;d++){R[g*T+d]=x[(c-1-g)*T+d]}}};u.D.amf=function(x){return Math.abs(x[6])<1e-9&&Math.abs(x[7])<1e-9};
u.D.a3S=function(x){return Math.abs(x[0])<1e-9&&Math.abs(x[4])<1e-9||Math.abs(x[1])<1e-9&&Math.abs(x[3])<1e-9};
u.D.drawImage=function(x,R,T,c,g,d,U,e,N){if(U==null)U=!1;if(e==null)e=!1;var l=u.D.F0(x),J=!0,w=0;for(var z=0;
z<8;z++){var s=Math.round(x[z]);if(z!=2&&z!=5)w+=Math.abs(s);if(Math.abs(s-x[z])>1e-9)J=!1}var o=u.D.amf(x),V=u.D.a3S(x)&&o,a=V?1:0;
if(U||J&&w==T+c&&o){u.D.a9p(l,R,T,c,g,d,e,o,N);return}var O=d.m,S=d.e,L=new Float64Array(2);g=new Uint32Array(g.buffer);
R=new Uint32Array(R.buffer);for(var Q=0;Q<S;Q++)for(var b=0;b<O;b++){var Z=Q*O+b,I,y,r,h,i=0,E=0,$=0,C=0;
g[Z]=0;var k=b+d.x+.5,K=Q+d.y+.5;I=k;y=K;r=l;var H=r[0]*I+r[1]*y+r[2],p=r[3]*I+r[4]*y+r[5];if(!o){h=1/(r[6]*I+r[7]*y+1);
H*=h;p*=h}var f=H*T,A=p*c,_=f<-1||f>T+1||A<-1||A>c+1;if(e){f=Math.max(.001,Math.min(T-1,f));A=Math.max(.001,Math.min(c-1,A))}else if(_)continue;
var W=u.D.aAx(x,T,c,k,K,H,p),Y=Math.round(W*2.3);if(W<1.1){u.D.Tv(f,A,R,T,c,g,Z,a);continue}if(!e&&(f<.6||f>T-.6||A<.6||A>c-.6)){Y=Math.max(Y,5)}if(e&&_)Y=1;
var G=1/Y,B=d.x+b,M=d.y+Q;r=l;for(var z=0;z<Y;z++)for(var j=0;j<Y;j++){I=B+(z+.5)*G;y=M+(j+.5)*G;var f=r[0]*I+r[1]*y+r[2],A=r[3]*I+r[4]*y+r[5];
if(!o){h=1/(r[6]*I+r[7]*y+1);f*=h;A*=h}if(e){f=Math.max(.001,Math.min(.999,f));A=Math.max(.001,Math.min(.999,A))}else if(f<0||f>=1||A<0||A>=1)continue;
f=Math.floor(f*T);A=Math.floor(A*c);var P=A*T+f,t=R[P],q=t>>>24;i+=(t&255)*q;E+=(t>>>8&255)*q;$+=(t>>>16&255)*q;
C+=q}if(C!=0){var m=1/C;i=~~(i*m+.5);E=~~(E*m+.5);$=~~($*m+.5);C=~~(C*G*G+.5);g[Z]=C<<24|$<<16|E<<8|i}}};
u.D.aAx=function(x,R,T,c,g,d,U){var e=u.D.azq(x,c,g,d+1/R,U),N=u.D.azq(x,c,g,d,U+1/T);return 1/Math.sqrt(Math.max(e,N))};
u.D.azq=function(x,R,T,c,g){var d=1/(x[6]*c+x[7]*g+1),U=(x[0]*c+x[1]*g+x[2])*d-R,e=(x[3]*c+x[4]*g+x[5])*d-T;
return U*U+e*e};u.D.a9p=function(x,R,T,c,g,d,U,e,N){if(e&&!U&&d.Z()>4e6&&N){u.D.aw2(x,R,T,c,g,d,U,e,N);
return}var l=d.x+d.m,J=d.y+d.e,w=0,s=new Uint32Array(g.buffer),o=new Uint32Array(R.buffer),V=x[0]*T,a=x[1]*T,O=x[2]*T,S=x[3]*c,L=x[4]*c,Q=x[5]*c,b=x[6],Z=x[7];
if(e&&!U)for(var I=d.y+.5;I<J;I++)for(var y=d.x+.5;y<l;y++){var r=V*y+a*I+O,h=S*y+L*I+Q;if(0<r&&r<T&&0<h&&h<c){var k=~~h*T+~~r;
s[w]=o[k]}else s[w]=0;w++}else for(var I=d.y+.5;I<J;I++)for(var y=d.x+.5;y<l;y++){var K=1/(b*y+Z*I+1),r=(V*y+a*I+O)*K,h=(S*y+L*I+Q)*K;
if(U){r=Math.max(.001,Math.min(T-1,r));h=Math.max(.001,Math.min(c-1,h))}if(0<r&&r<T&&0<h&&h<c){var k=Math.floor(h)*T+Math.floor(r);
s[w]=o[k]}else s[w]=0;w++}};u.D.aw2=function(x,R,T,c,g,d,U,e,N){var l=new Uint32Array(g.buffer),J=new Uint32Array(R.buffer),Z=0;
if(N&&(d.m&3)!=0)throw"e";var w=x[0]*T,s=x[1]*T,o=x[2]*T,V=x[3]*c,a=x[4]*c,O=x[5]*c,S=x[6],L=x[7],Q=d.m,b=d.e,I=d.x+.5,y=d.y+.5,r=(Q>>>2<<2)-1e-9,h=-.1+(b>>>1<<1)-1e-9,k=~~T,K=w==0?0:1/w,H=V==0?0:1/V;
for(var p=0;p<b;p++){var f=I*w+s*(p+y)+o,A=I*V+a*(p+y)+O,_=0,W=Q;if(w==0){}else if(K>0){_=Math.max(_,-f*K);
W=Math.min(W,(T-f)*K)}else{W=Math.min(W,-f*K);_=Math.max(_,(T-f)*K)}if(V==0){}else if(H>0){_=Math.max(_,-A*H);
W=Math.min(W,(c-A)*H)}else{W=Math.min(W,-A*H);_=Math.max(_,(c-A)*H)}if(W<0)W=0;if(_>W)_=W;_=~~Math.ceil(_);
W=~~W;Z=~~(p*Q);l.fill(0,Z,Z+_);Z+=_;for(var Y=_;Y<W;Y+=4){var G=w*Y+f,i=V*Y+A,E=~~i*k+~~G,$=J[E];l[Z]=$;
l[Z+1]=$;l[Z+2]=$;l[Z+3]=$;Z+=4}l.fill(0,Z,Z+Q-W)}};u.D.F0=function(x){var R=x[4]-x[5]*x[7],T=x[2]*x[7]-x[1],c=x[1]*x[5]-x[2]*x[4],g=x[5]*x[6]-x[3],d=x[0]-x[2]*x[6],U=x[3]*x[2]-x[0]*x[5],e=x[3]*x[7]-x[4]*x[6],N=x[1]*x[6]-x[0]*x[7],l=1/(x[0]*x[4]-x[1]*x[3]);
return[R*l,T*l,c*l,g*l,d*l,U*l,e*l,N*l]};u.D.Kq=function(x,R){var T=x[0],c=x[1],g=x[2],d=x[3],U=x[4],e=x[5],N=x[6],l=x[7],J=R[0],w=R[1],s=R[2],o=R[3],V=R[4],a=R[5],O=R[6],S=R[7],L=[T*J+c*o+g*O,T*w+c*V+g*S,T*s+c*a+g,d*J+U*o+e*O,d*w+U*V+e*S,d*s+U*a+e,N*J+l*o+O,N*w+l*V+S],Q=1/(N*s+l*a+1);
for(var z=0;z<8;z++)L[z]*=Q;return L};u.D.Tv=function(x,R,T,c,g,d,U,e){var N=x,l=R,s=0,o=0,V=0,a=0;x-=.499999;
R-=.499999;var J=Math.floor(x),w=Math.floor(R);if(e==0){var z=w*c+J,O=J>=0&&J<c,S=J+1>=0&&J+1<c,L=w>=0&&w<g,Q=w+1>=0&&w+1<g;
if(O&&L)s=T[z];if(S&&L)o=T[z+1];if(O&&Q)V=T[z+c];if(S&&Q)a=T[z+c+1]}else if(e==1){var b=J<0?0:J>c-1?c-1:J,Z=J<-1?0:J>c-2?c-1:J+1,I=w<0?0:w>g-1?g-1:w,y=w<-1?0:w>g-2?g-1:w+1;
s=T[I*c+b];o=T[I*c+Z];V=T[y*c+b];a=T[y*c+Z]}else{var b=(J+50*c)%c,Z=(J+50*c)%c,I=(w+50*g)%g,y=(w+50*g)%g;
s=T[I*c+b];o=T[I*c+Z];V=T[y*c+b];a=T[y*c+Z]}var r=x-J,h=R-w,k=(1-h)*(1-r)*(s>>>24),K=(1-h)*r*(o>>>24),H=h*(1-r)*(V>>>24),p=h*r*(a>>>24),f=k+K+H+p,A=k*(s&255)+K*(o&255)+H*(V&255)+p*(a&255),_=k*(s>>>8&255)+K*(o>>>8&255)+H*(V>>>8&255)+p*(a>>>8&255),W=k*(s>>>16&255)+K*(o>>>16&255)+H*(V>>>16&255)+p*(a>>>16&255);
if(f==0)d[U]=0;else{var Y=1/f;A=~~(A*Y+.5);_=~~(_*Y+.5);W=~~(W*Y+.5);f=~~(f+.5);d[U]=f<<24|W<<16|_<<8|A}};
u.D.a1a=function(x,R,T,c,g,d){var U=x-.499999,e=R-.499999,N=~~U,l=~~e,J=U-N,w=e-l,s=(1-w)*(1-J),o=(1-w)*J,V=w*(1-J),a=w*J,O=l*c+N<<2,S=(l+1)*c+N<<2,L=s*T[O]+o*T[O+4]+V*T[S]+a*T[S+4],Q=s*T[O+1]+o*T[O+5]+V*T[S+1]+a*T[S+5],b=s*T[O+2]+o*T[O+6]+V*T[S+2]+a*T[S+6],Z=s*T[O+3]+o*T[O+7]+V*T[S+3]+a*T[S+7];
d[0]=L;d[1]=Q;d[2]=b;d[3]=Z};u.D.MX=function(x,R,T,c,g){x-=.499999;R-=.499999;var d=Math.floor(x),U=Math.floor(R),e=x-d,N=R-U,l=(1-N)*(1-e),J=(1-N)*e,w=N*(1-e),s=N*e,o=(d+50*c)%c,V=(d+1+50*c)%c,a=(U+50*g)%g,O=(U+1+50*g)%g,S=T[a*c+o],L=T[a*c+V],Q=T[O*c+o],b=T[O*c+V];
if(S==null||b==null)throw"e";return l*S+J*L+w*Q+s*b};u.D.ach=function(x,R,T,c,g){x-=.499999;R-=.499999;
var d=Math.floor(x),U=Math.floor(R),e=x-d,N=R-U,l=(1-N)*(1-e),J=(1-N)*e,w=N*(1-e),s=N*e,o=0,V=U*c+d,a=V+c;
if(0<=U&&U<g&&0<=d&&d<c)o+=l*T[V];if(0<=U&&U<g&&0<=d+1&&d+1<c)o+=J*T[V+1];if(0<=U+1&&U+1<g&&0<=d&&d<c)o+=w*T[a];
if(0<=U+1&&U+1<g&&0<=d+1&&d+1<c)o+=s*T[a+1];return o};u.D.atw=function(x,R,T,c,g,d,U,e,N,l,J,w){var s=new Uint32Array(x.buffer),o=new Uint32Array(c.buffer),V=(1+2*l)/g,a=[],O=[];
for(var S=0;S<g;S++){var L=-.25+l-S*V;a.push(Math.cos(2*Math.PI*L)*w/J);a.push(Math.sin(2*Math.PI*L)/J)}U*=R;
e*=T;for(var Q=0;Q<d;Q++){var b=Math.pow(Q/d,N)*d;for(var S=0;S<g;S++){var Z=U+a[S<<1]*b,I=e+a[(S<<1)+1]*b,y=~~(.5+(Z<0?0:Z>R-1?R-1:Z)),r=~~(.5+(I<0?0:I>T-1?T-1:I));
o[Q*g+S]=s[r*R+y]}}};u.D.apW=function(x,R,T,c,g,d,U,e,N,l,J,w){var s=new Uint32Array(x.buffer),o=new Uint32Array(c.buffer),V=1/w,a=[],O=T*4,S=1/O;
for(var L=0;L<O+10;L++)a.push(Math.pow(L*S,1/N)*T*J);U*=g;e*=d;for(var L=0;L<d;L++)for(var Q=0;Q<g;Q++){var b=V*(Q-U),Z=L-e,I=1.75-Math.atan2(Z,b)*(1/(2*Math.PI));
I=I-~~I;I=(I+l)*(1/(1+2*l));var y=Math.sqrt(b*b+Z*Z);y=a[~~(y*4)];u.D.Tv(I*R+.5,y+.5,s,R,T,o,L*g+Q,1)}};
u.D.D1=function(x,R,T,c,g){var d=g[0],U=g[1];for(var e=0;e<U;e++)for(var N=0;N<d;N++){var l=g[2]*N+g[3]*e+g[4],J=g[5]*N+g[6]*e+g[7],w=e*d+N<<2,s=J*R+l<<2;
c[w]=x[s+0];c[w+1]=x[s+1];c[w+2]=x[s+2];c[w+3]=x[s+3]}};u.I={qv:function(x,R){var T=~~(.499+x*R);return T<0?0:T>R?R:T},axT:function(x,R,T,c,g,d,U,e){var N=T[0],l=T[1],J=T[2],w=T[3],s=c.m,o=c.e,V=new Float64Array(s*4+8),a=new Float64Array(s*4+8);
for(var O=0,z=0;O<o;O++){var S=V;V=a;a=S;a.fill(0);for(var L=0;L<s;L++,z++){var Q=L+g,b=O+d,Z=N*Q+l*b,I=J*Q+w*b,y=0,k=0;
if(e==0)y=Z+.5;else if(e==1)y=2*Math.sqrt(Z*Z+I*I);else if(e==2)y=(Math.PI+Math.atan2(-I,-Z))/(2*Math.PI);
else if(e==3)y=Math.abs(Z*2);else if(e==4)y=2*(Math.abs(Z)+Math.abs(I));var r=u.I.qv(y,U)*4,h=L*4;for(var K=0;
K<4;K++){var H=Math.max(0,Math.min(254.999,R[r+K]+V[h+4+K])),p=Math.floor(H);if(Math.random()<H-p)p++;
var f=H-p;V[h+8+K]=f*(7/16);a[h+0+K]=f*(3/16);a[h+4+K]=f*(5/16);a[h+8+K]=f*(1/16);k|=p<<K*8}x[z]=k}}},um:[function(x,R,T,c,g,d,U){var e=T[0],N=T[1],l=T[2],J=T[3],w=c.m,s=c.e;
for(var o=0,z=0;o<s;o++)for(var V=0;V<w;V++,z++){var a=V+g,O=o+d,S=e*a+N*O,L=l*a+J*O,Q=S+.5;x[z]=R[u.I.qv(Q,U)]}},function(x,R,T,c,g,d,U){var e=T[0],N=T[1],l=T[2],J=T[3],w=c.m,s=c.e;
for(var o=0,z=0;o<s;o++)for(var V=0;V<w;V++,z++){var a=V+g,O=o+d,S=e*a+N*O,L=l*a+J*O,Q=2*Math.sqrt(S*S+L*L);
x[z]=R[u.I.qv(Q,U)]}},function(x,R,T,c,g,d,U){var e=T[0],N=T[1],l=T[2],J=T[3],w=c.m,s=c.e;for(var o=0,z=0;
o<s;o++)for(var V=0;V<w;V++,z++){var a=V+g,O=o+d,S=e*a+N*O,L=l*a+J*O,Q=(Math.PI+Math.atan2(-L,-S))/(2*Math.PI);
x[z]=R[u.I.qv(Q,U)]}},function(x,R,T,c,g,d,U){var e=T[0],N=T[1],l=T[2],J=T[3],w=c.m,s=c.e;for(var o=0,z=0;
o<s;o++)for(var V=0;V<w;V++,z++){var a=V+g,O=o+d,S=e*a+N*O,L=l*a+J*O,Q=Math.abs(S*2);x[z]=R[u.I.qv(Q,U)]}},function(x,R,T,c,g,d,U){var e=T[0],N=T[1],l=T[2],J=T[3],w=c.m,s=c.e;
for(var o=0,z=0;o<s;o++)for(var V=0;V<w;V++,z++){var a=V+g,O=o+d,S=e*a+N*O,L=l*a+J*O,Q=2*(Math.abs(S)+Math.abs(L));
x[z]=R[u.I.qv(Q,U)]}}]};u.I.a2L=function(x,R){return x+.5};u.I.avv=function(x,R){return 2*Math.sqrt(x*x+R*R)};
u.I.atB=function(x,R){return(Math.PI+Math.atan2(-R,-x))/(2*Math.PI)};u.I.aeB=function(x,R){return Math.abs(x*2)};
u.I.ayL=function(x,R){return 2*(Math.abs(x)+Math.abs(R))};u.I.lq=function(x,R,T,c,g,d,U,e,N,l,J,w){var s=x.Clrs,o=new Uint32Array(R.buffer),V=1023,a=s?u.I.eN(x,N,l):null;
if(w&&s){var O=u.I.a7u(x,a,V+1,U);u.I.axT(o,O,c,T,T.x-g,T.y-d,V,e)}else{var S=s?u.I.aA5(x,a,V+1,U):u.I.avt(x,V+1,U);
if(e<5){u.I.um[e](o,S,c,T,T.x-g,T.y-d,V)}else{var L=new Uint8Array(S.buffer),Q=T.m,b=T.e,Z=J.lE-J.wH,I=1/Z,y=J.yw.m-T.m>>1,r=J.yw.e-T.e>>1,h=J.yw.m,k=-.6*I,K=(-.6+.4)*I,H=(-.6+2*.4)*I,p=(-.6+3*.4)*I;
for(var f=0,z=0;f<b;f++)for(var A=0;A<Q;A++,z+=4){var _=0,W=0,Y=0,G=0,i=(f+r)*h+A+y,E=(J.oJ[i]-J.wH)*I,$=0;
if(E<=0||E>=1){$=(E<=0?0:V)<<2;R[z]=L[$];R[z+1]=L[$+1];R[z+2]=L[$+2];R[z+3]=L[$+3];continue}$=Math.max(0,Math.min(V-1,Math.round((E+k)*V)))<<2;
W+=L[$];Y+=L[$+1];G+=L[$+2];_+=L[$+3];$=Math.max(0,Math.min(V-1,Math.round((E+K)*V)))<<2;W+=L[$];Y+=L[$+1];
G+=L[$+2];_+=L[$+3];$=Math.max(0,Math.min(V-1,Math.round((E+H)*V)))<<2;W+=L[$];Y+=L[$+1];G+=L[$+2];_+=L[$+3];
$=Math.max(0,Math.min(V-1,Math.round((E+p)*V)))<<2;W+=L[$];Y+=L[$+1];G+=L[$+2];_+=L[$+3];R[z]=W>>>2;
R[z+1]=Y>>>2;R[z+2]=G>>>2;R[z+3]=_>>>2}}}};u.I.eN=function(x,R,T){var c=[x.Clrs.v,x.Trns.v],g=[[],[]],d=255;
for(var U=0;U<2;U++)for(var z=0;z<c[U].length;z++){var e,N=c[U][z].v;if(U==0){var l=N.Type.v.Clry;if(l=="FrgC")e={o:R>>16&255,A:R>>8&255,J:R&255};
else if(l=="BckC")e={o:T>>16&255,A:T>>8&255,J:T&255};else e=u.I.ir(N.Clr.v)}else{e=N.Opct.v.val*(255/100);
if(e<d)d=e}g[U].push([e,N.Lctn.v/4096,N.Mdpn.v/100])}g.push(d>254);return g};u.I.ir=function(x){var R,T=x.classID;
if(T=="RGBC"){if(x.Rd)R={o:x.Rd.v,A:x.Grn.v,J:x.Bl.v};else R={o:x.redFloat.v*255,A:x.greenFloat.v*255,J:x.blueFloat.v*255}}else if(T=="HSBC"){R=u.oC(x.H.v.val/360,x.Strt.v/100,x.Brgh.v/100);
R.o*=255;R.A*=255;R.J*=255}else if(T=="CMYC"){var c=100-x.Cyn.v,g=100-x.Mgnt.v,d=100-x.Ylw.v,U=100-x.Blck.v,e=255*c*U*1e-4,N=255*(.2*c+.8*g)*U*1e-4,l=255*(.2*g+.8*d)*U*1e-4;
R={o:e,A:N,J:l}}else if(T=="Grsc")R={o:255-x.Gry.v,A:255-x.Gry.v,J:255-x.Gry.v};else if(T=="LbCl"){R=u.hc(x.Lmnc.v,x.A.v,x.B.v)}else if(T=="BkCl")R={o:0,A:0,J:0};
else console.log(x);if(isNaN(R.o))R.o=R.A=R.J=0;return R};u.I.avt=function(x,R,T){var c=new Uint32Array(R),g=new Uint8Array(c.buffer);
c.fill(4278190080);var d=[],U=[],e=x.RndS.v,N=x.Smth.v/4096;for(var z=0;z<4;z++){d[z]=~~(x.Mnm.v[z].v*255/100);
U[z]=~~(x.Mxm.v[z].v*255/100)}var l=u.B(R*4),J=u.B(R);for(var w=0;w<3;w++){u.X.a2_(null,R,1,l,[1+Math.round(N*N*N*60),22,e*(2+w)]);
u.TR(l,J,0);u.rN(J,g,w);var s=d[w],o=U[w];for(var z=0;z<R;z++)g[4*z+w]=Math.max(s,Math.min(o,g[4*z+w]))}if(T)for(var z=0;
z<R/2;z++){var V=c[z];c[z]=c[R-1-z];c[R-1-z]=V}return c};u.I.SE=function(x){return{classID:"RGBC",Rd:{t:"doub",v:x.o},Grn:{t:"doub",v:x.A},Bl:{t:"doub",v:x.J}}};
u.I.a7u=function(x,R,T,c){var g=[],d=1/(T-0);for(var z=0;z<T;z++){var U=z*4,e=u.I.xN(x,R,(c?T-1-z:z)*d);
g[U]=e[0];g[U+1]=e[1];g[U+2]=e[2];g[U+3]=e[3]}return g};u.I.aA5=function(x,R,T,c){var g=new Uint32Array(T),d=1/(T-0);
for(var z=0;z<T;z++)g[z]=u.I.Qb(x,R,(c?T-1-z:z)*d);return g};u.I.xN=function(x,R,T){var c=x.Intr.v*(1/4096),g=R[0],d=R[1],U=g.length-1,e=d.length-1,z=-1,N=0,l=0,J=0,w=0;
if(R[2])N=255;else{while(z<e&&d[z+1][1]<=T)z++;if(z==-1){N=d[0][0]}else if(z==e){N=d[z][0]}else{var s=u.I.ayd(d,z,T,c);
N=s*d[z][0]+(1-s)*d[z+1][0]}}z=-1;while(z<U&&g[z+1][1]<=T)z++;if(z==-1){var o=g[0][0];l=o.o;J=o.A;w=o.J}else if(z==U){var o=g[z][0];
l=o.o;J=o.A;w=o.J}else{var V=g[z][0],a=g[z+1][0],O=u.I.ayd(g,z,T,c);l=O*V.o+(1-O)*a.o;J=O*V.A+(1-O)*a.A;
w=O*V.J+(1-O)*a.J}return[l,J,w,N]};u.I.Qb=function(x,R,T){var c=u.I.xN(x,R,T),g=~~(.5+c[0]),d=~~(.5+c[1]),U=~~(.5+c[2]),e=~~(.5+c[3]);
return e<<24|U<<16|d<<8|g};u.I.ayd=function(x,z,R,T){if(x.length==2)T*=.5;var c=x[z][1],g=x[z+1][1],d=c+x[z+1][2]*(g-c),U;
if(R<d)U=.5*(R-c)/(d-c);else U=.5+.5*(R-d)/(g-d);U=.5+.5*(T*Math.cos(Math.PI*U)+(1-T)*(1-2*U));return U};
u.I.a9m=function(x,R,T){var c=.5*T.e,g=c*(x/R),d=Math.sqrt(c*c+g*g),U=.5*T.m,e=U*(R/x),N=Math.sqrt(U*U+e*e);
return Math.min(d,N)};u.I.pc=function(x,R){var T=Math.PI*x.Angl.v.val/180,c=x.Scl.v.val/100,g=x.Ofst.v,d=g.Hrzn.v.val/100,U=g.Vrtc.v.val/100,e=Math.cos(T),N=-Math.sin(T),l=u.I.a9m(e,N,R),J=l*c,w=R.x+R.m/2+d*R.m,s=R.y+R.e/2+U*R.e;
return[new cI(w,s),new cI(w+e*J,s+N*J)]};u.I.Wz=function(x,R,T,c){var g=R.x-x.x,d=-(R.y-x.y),U=Math.sqrt(g*g+d*d),e=Math.atan2(d,g),N=Math.cos(e),l=-Math.sin(e),J=u.I.a9m(N,l,T),w=U/J,s=(x.x-T.x-T.m/2)/T.m,o=(x.y-T.y-T.e/2)/T.e;
c.Angl.v.val=180*e/Math.PI;c.Scl.v.val=w*100;var V=c.Ofst.v;V.Hrzn.v.val=s*100;V.Vrtc.v.val=o*100};u.I.lw=function(x,R){for(var z=0;
z<x.length;z++){var T=x[z],c=Math.round(T[0]*4096),g=T[1],d=T[2],U=T[3];if(d==null)d=1;if(U==null)U=.5;
var e=u.I.SE({o:g[0]*255,A:g[1]*255,J:g[2]*255});R.Clrs.v[z]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:c},Mdpn:{t:"long",v:Math.round(U*100)},Clr:{t:"Objc",v:e},Type:{t:"enum",v:{Clry:"UsrS"}}}};
R.Trns.v[z]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:c},Mdpn:{t:"long",v:Math.round(U*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(d*100)}}}}}};
u.I.lN=function(x,R,T){if(R){x=JSON.parse(JSON.stringify(x));for(var z=0;z<2;z++){var c=x[z==0?"Clrs":"Trns"].v;
for(var g=0;g<c.length;g++)c[g].v.Lctn.v=4096-c[g].v.Lctn.v;c.reverse()}}var d=[],U=1/255,e=x.Clrs.v,N=x.Trns.v,c=e;
if(b5==0||e.length!=N.length){if(b5!=0)console.log("strange gradient");if(T!=!0)c=e.concat(N);var l=u.I.eN(x,0,0);
for(var z=0;z<c.length;z++){var J=c[z].v,w=J.Lctn.v/4096,s=u.I.xN(x,l,w);d.push([w,[s[0]*U,s[1]*U,s[2]*U],s[3]*U])}d.sort(function(V,a){return V[0]-a[0]});
for(var z=1;z<d.length;z++)if(d[z][0]-d[z-1][0]<.001){d.splice(z,1);z--}}else{for(var z=0;z<c.length;
z++){var J=e[z].v,o=J.Clr.v,w=J.Lctn.v/4096;d.push([w,[o.Rd.v*U,o.Grn.v*U,o.Bl.v*U],N[z].v.Opct.v.val*.01])}}return d};
u.ank={};u.ank.Fv=function(x,R,T,c,g,d,U,e,N,l,J,w){var s,o,V,a=Date.now(),O=!1,S=U,L=l,Q,b,Z,I,y=d*255,r=255-N*255,h=1+g*6,k=1+e*6,K=1+w*4,H=(K-1)/7,p=0,f=255-0,A,_,W,Y,G,i,E,$,C,B,M,j,P,t=0,q=1,m,iE,hV,dD,bh,ho,aH,f2,e9,kB,ct=1+J,jF,fj=u.B(T*c),ab=u.B(T*c),iw=u.B(T*c),jD=u.B(T*c),a1=255/y,gd=255/(255-r);
for(o=0;o<c;o++){for(s=0;s<T;s++){var z=o*T+s,i6=z<<2;m=u.Et(x[i6],x[i6+1],x[i6+2]);jD[z]=m;if(m<y)fj[z]=255-m*a1;
if(m>r)ab[z]=255-(255-m)*gd}}if(O)console.log("init",Date.now()-a);a=Date.now();if(g*S>0){iw.set(fj);
u.kc.w5(iw,fj,new aP(0,0,T,c),S)}if(e*L>0){iw.set(ab);u.kc.w5(iw,ab,new aP(0,0,T,c),L)}if(O)console.log("blur",Date.now()-a);
a=Date.now();var hv=u.B(256),hO=u.B(256);for(var z=0;z<256;z++){var jh=z*(1/255),aJ=0;aJ=(1-Math.pow(1-jh,h))*255;
hv[z]=Math.max(0,Math.min(255,~~(aJ+.5)));aJ=Math.pow(jh,k)*255;hO[z]=Math.max(0,Math.min(255,~~(aJ+.5)))}var hS=new Uint8ClampedArray(R.buffer),iO=new Float32Array(32768);
for(var z=0;z<32768;z++){jF=Math.sqrt(z)*(1/128);if(ct>1)jF=(1-jF)*(ct-1)+1;else jF=jF*(ct-1)+1;iO[z]=jF}for(o=0;
o<c;o++){for(s=0;s<T;s++){var z=o*T+s,i6=z<<2,aJ=jD[z],g$=fj[z]*(1/255),bF=ab[z]*(1/255);aJ=(1-g$)*aJ+g$*hv[~~aJ];
aJ=(1-bF)*aJ+bF*hO[~~aJ];m=aJ;var hy=x[i6],fg=x[i6+1],hL=x[i6+2];iE=-hy*.168736-fg*.331264+hL*.5;hV=hy*.5-fg*.418688-hL*.081312;
jF=iO[~~(.5+iE*iE+hV*hV)];dD=iE*jF;ho=hV*jF;q=1-Math.min(2-(g$+bF),1);iE=q*iE+(1-q)*dD;hV=q*hV+(1-q)*ho;
f2=m+1.402*hV;e9=m-.34414*iE-.71414*hV;kB=m+1.772*iE;hS[i6]=~~(.5+f2);hS[i6+1]=~~(.5+e9);hS[i6+2]=~~(.5+kB)}}if(O)console.log("apply masks",Date.now()-a);
a=Date.now()};u.la={};u.la.xB=function(x,R,T,c,g){var d=!1,O=1,_=0,W=0,M=0,ct=0;if(!R.Ae(g)){var U=R.y8(g),e=u.B(U.Z()*4);
u.yU(x,R,e,U);x=e;R=U}var N=u.B(R.Z());u.gN(T,g,N,R);u.round(N);g=g.yx(R);var l=g.m,J=g.e,w=l*3<J?2:1,s=J*3<l?2:1;
if(g.Z()*(w*2+1)*(s*2+1)<R.Z()){var U=new aP(g.x-l*w,g.y-J*w,l*(w*2+1),J*(s*2+1)).yx(R),e=u.B(U.Z()*4);
u.yU(x,R,e,U);var o=u.B(U.Z());u.gN(N,R,o,U);R=U;x=e;N=o}while((R.m+R.e)/2/O>400)O++;var S=x,L=R,Q=N,b=Math.floor(L.m/O),Z=Math.floor(L.e/O);
x=u.B(b*Z*4);u.scale.y9(S,L.m,L.e,x,b,Z,1/O);N=u.B(b*Z);u.scale.D1(Q,L.m,L.e,N,b,Z,1/O);u.round(N,1);
var I=u.Vn(N,new aP(0,0,b,Z));if(I.Y3())return 1;var y=Math.round((I.m+I.e)/2/15),r=Date.now(),h=u.B(b*Z*4);
u.auZ(x,h);var k=Int16Array,K=new k(b*Z*24),H=new k(64),p=new k(64),f=new k(64),A=new k(64);for(var Y=3;
Y<Z-4;Y++)for(var G=3;G<b-4;G++){var i=Y*b+G;if(N[i]==255)continue;if(u.la.atN(h,N,G,Y,b,Z,H,p,f)!=0)continue;
u.la.B9(H,A);K[_]=G;K[_+1]=Y;u.la.kS(H,K,_+4,12);_+=16;u.la.B9(p,A);u.la.kS(p,K,_,4);_+=4;u.la.B9(f,A);
u.la.kS(f,K,_,4);_+=4;var E=K[_-24+5],$=K[_-24+6];K[_-24+5]=K[_-24+20];K[_-24+6]=K[_-24+16];K[_-24+16]=E;
K[_-24+20]=$;W++}if(W==0)return 2;if(d)console.log(Date.now()-r,"FWHT computed");r=Date.now();var C=[];
u.la.fy(0,W-1,C,K,new k(2*24));if(d)console.log(Date.now()-r,"KD tree computed");r=Date.now();var B=new Float32Array(b*Z*4);
for(var z=0;z<W;z++){var j=z,P=u.la.apt(j,K,C,y);if(P==-1)continue;var t=j*24,q=P*24,m=K[t],iE=K[t+1],hV=K[q],dD=K[q+1];
M+=u.la.getError(q,t,K,1e99);var bh=hV-m,ho=dD-iE;B[(Z+ho)*2*b+(b+bh)]+=1}if(d)console.log(Date.now()-r,"NN found");
r=Date.now();var aH=[],f2=1/(2*b);for(var z=0;z<B.length;z++){if(B[z]>0){var Y=Math.floor(z*f2),G=z-Y*2*b;
aH.push({x:G-b,y:Y-Z,b:B[z],v_:-1})}}aH.sort(function(bF,hy){return hy.b-bF.b});var e9=new Int32Array(b*Z),kB=[];
for(var z=0;z<b*Z;z++){if(N[z]==255){e9[z]=ct;kB.push(z%b,Math.floor(z/b));ct++}else if(x[(z<<2)+3]<200){e9[z]=-2}else{e9[z]=-1}}var jF=u.la.a3E(b,Z,aH,e9,kB,ct);
if(jF==null){return 3}var fj=jF.YS,top=jF.top;fj=u.la.abX(fj,x,b,Z,top,e9,kB,ct);if(d)console.log(Date.now()-r,"optimal labeling found");
r=Date.now();var U=g.clone();U.t1(1,1);U=U.yx(L);var ab=u.B(U.Z()*4),iw=u.B(U.Z());u.yU(S,L,ab,U);var jD=L.m,a1=L.e;
for(var Y=0;Y<a1;Y++)for(var G=0;G<jD;G++){if(Q[Y*jD+G]==0)continue;var gd=Math.min(Math.floor(G/O),b-1),i6=Math.min(Math.floor(Y/O),Z-1),hv=e9[i6*b+gd];
if(hv==-1)continue;var hO=fj[hv],jh=top[hO],aJ=G+jh.x*O,hS=Y+jh.y*O,iO=hS*jD+aJ<<2,g$=(Y-U.y+L.y)*U.m+(G-U.x+L.x)<<2;
ab[g$]=S[iO];ab[g$+1]=S[iO+1];ab[g$+2]=S[iO+2];ab[g$+3]=S[iO+3];ab[g$+3]=S[iO+3];iw[g$>>2]=hO+1}if(d)console.log(Date.now()-r,"copied back");
r=Date.now();u.El.xB(ab,iw,U,null,1e3);if(d)console.log(Date.now()-r,"poisson smooth");r=Date.now();
u.yU(ab,U,c,g);return 0};u.la.a7c=function(x,R,T,c,g,d){return u.la.XB(x+g.x,R+g.y,T,c)&&d[(R+g.y)*T+(x+g.x)]==-1?0:1e9};
u.la.abX=function(x,R,T,c,top,g,d,U){var e=Date.now(),N=[-1,0,0,-1,1,0,0,1],l=1e99,J=[],w=[],s=2*(U*2*3+U*2),o=null,V=0,a=0,O=0,S=1e99;
while(!0&&Date.now()<e+12e3){O++;var L=null,Q=l;for(var b=0;b<top.length;b++){var Z=top[b],I=0,y=U+2,r=0;
for(var z=0;z<U;z++){var h=d[z*2],k=d[z*2+1],K=top[x[z]],H=u.la.a7c(h,k,T,c,Z,g),p=x[z]==b?1e9:u.la.a7c(h,k,T,c,K,g);
for(var cg=0;cg<4;cg++){if(cg==0&&h==0||cg==1&&k==0||cg==2&&h==T-1||cg==3&&k==c-1)continue;var f=N[2*cg],A=N[2*cg+1],_=h+f,W=k+A,Y=g[W*T+_];
if(Y==-2){}else if(Y==-1){H+=3*u.la.tx(_+Z.x,W+Z.y,_,W,T,c,R,g);H+=2*u.la.tx(_+Z.x+f,W+Z.y+A,_+f,W+A,T,c,R,g);
p+=3*u.la.tx(_+K.x,W+K.y,_,W,T,c,R,g);p+=2*u.la.tx(_+K.x+f,W+K.y+A,_+f,W+A,T,c,R,g)}else if(cg>1){if(x[z]==x[Y]){var G=0;
G+=u.la.tx(h+K.x,k+K.y,h+Z.x,k+Z.y,T,c,R,g);G+=u.la.tx(_+K.x,W+K.y,_+Z.x,W+Z.y,T,c,R,g);J[I]=z;J[I+1]=Y;
w[I]=G;w[I+1]=G;I+=2}else{var i=top[x[Y]],E=y,$=0,C=0,B=0;y++;$+=u.la.tx(h+K.x,k+K.y,h+Z.x,k+Z.y,T,c,R,g);
$+=u.la.tx(_+K.x,W+K.y,_+Z.x,W+Z.y,T,c,R,g);C+=u.la.tx(h+i.x,k+i.y,h+Z.x,k+Z.y,T,c,R,g);C+=u.la.tx(_+i.x,W+i.y,_+Z.x,W+Z.y,T,c,R,g);
B+=u.la.tx(h+i.x,k+i.y,h+K.x,k+K.y,T,c,R,g);B+=u.la.tx(_+i.x,W+i.y,_+K.x,W+K.y,T,c,R,g);J[I]=z;J[I+1]=E;
w[I]=$;w[I+1]=$;I+=2;J[I]=Y;J[I+1]=E;w[I]=C;w[I+1]=C;I+=2;J[I]=E;J[I+1]=U+1;w[I]=B;w[I+1]=0;I+=2}}}J[I]=U;
J[I+1]=z;w[I]=H;w[I+1]=0;I+=2;J[I]=z;J[I+1]=U+1;w[I]=p;w[I+1]=0;I+=2;r+=Math.min(H,p)}if(r>Q)continue;
var M=u.ZQ.X7(y,I,U,U+1,J,w,Q);if(M.SY<Q){Q=M.SY;var j=x.slice(0);u.la.asO(j,I,J,M.Ld,b,U);L=j}}if(Q*1>=l){break}l=Q;
x=L;if((O&3)==0){if(Q*1.03>=S)break;S=Q}if((O&3)==0){var P=0*top.length;for(var z=0;z<top.length&&top.length>P;
z++){if(x.indexOf(z)!=-1)continue;top.splice(z,1);for(var Y=0;Y<x.length;Y++)if(x[Y]>z)x[Y]--;z--}}}return x};
u.la.asO=function(x,R,T,c,g,d){for(var z=0;z<c.length;z++){var U=c[z]<<1,e=0,N=0;if(U<R){e=T[U];N=T[U+1]}else{N=T[U];
e=T[U+1]}if(e==d&&x[N]!=g)x[N]=g}};u.la.a8q=function(top,x,R,T,c,g,d,U,e){for(var z=0;z<R.length;z++){var N=R[z],l=!0;
if(U!=null&&!(u.la.XB(U+N.x,e+N.y,g,d)&&T[g*(e+N.y)+U+N.x]==-1))continue;if(N.v_==-1)N.v_=u.la.aoy(N,T,c,g,d);
if(N.v_<=0)continue;for(var J=0;J<top.length;J++){var w=top[J],s=N.x-w.x,o=N.y-w.y;if(s*s+o*o<x){l=!1;
break}}if(l)return N}return null};u.la.aoy=function(x,R,T,c,g){var d=0;for(var z=0;z<T.length;z+=2){var U=T[z]+x.x,e=T[z+1]+x.y;
if(u.la.XB(U,e,c,g)&&R[c*e+U]==-1)d++}return d/(T.length>>1)};u.la.a3E=function(x,R,T,c,g,d){var top=[];
for(var z=0;z<60;z++){var U=u.la.a8q(top,25,T,c,g,x,R);if(U==null)break;else top.push(U)}if(top.length==0)return null;
var e=[];for(var z=0;z<d;z++){var N=g[z*2],l=g[z*2+1],J=-1,w=0;while(!0){w++;var s=Math.random();J=Math.floor(s*.99999*top.length);
var o=top[J],V=N+o.x,a=l+o.y;if(u.la.XB(V,a,x,R)&&c[a*x+V]==-1)break;if(w>100){var U;U=u.la.a8q(top,0,T,c,g,x,R,N,l);
if(U==null)return null;top.push(U);w=0}}e.push(J)}return{top:top,YS:e}};u.la.tx=function(x,R,T,c,g,d,U,e){if(x==T&&R==c)return 0;
if(x<0||R<0||x>=g||R>=d||T<0||c<0||T>=g||c>=d||e[R*g+x]!=-1||e[c*g+T]!=-1)return 1e7;var N=R*g+x<<2,l=c*g+T<<2,J=U[N]-U[l],w=U[N+1]-U[l+1],s=U[N+2]-U[l+2];
return 1+(J*J+w*w+s*s)};u.la.XB=function(x,R,T,c){return x>=0&&x<T&&R>=0&&R<c};u.la.apt=function(x,R,T,c){var g=24*x,d=R[g],U=R[g+1],e=c*c,N=0,s=1e9;
while(T[N]!=99)if(R[g+T[N]]<T[N+1])N=T[N+2];else N=T[N+3];var l=T[N+1],J=T[N+2],w=-1;for(var z=l;z<=J;
z++){var N=z,o=N*24,V=R[o],a=R[o+1];if((V-d)*(V-d)+(a-U)*(a-U)<e)continue;var O=u.la.getError(o,g,R,s);
if(O<s){s=O;w=N}}return w};u.la.getError=function(x,R,T,c){var g=0;for(var d=4;d<24;d+=4){var U=T[R+d]-T[x+d],e=T[R+d+1]-T[x+d+1],N=T[R+d+2]-T[x+d+2],l=T[R+d+3]-T[x+d+3];
g+=U*U+e*e+N*N+l*l;if(g>=c)return g+1}return g};u.la.fy=function(x,R,T,c,g){var d=16,s=0;if(R-x<=d){T.push(99,x,R);
return}u.la.QK(x,R,c,g);var U=-1,e=-1;for(var z=4;z<24;z++){var N=g[2*z+1]-g[2*z];if(N>e){e=N;U=z}}var l=x+R>>1,J=u.la.ah5(l,x,R,c,U),w=-1;
for(var z=x;z<=R;z++)if(c[24*z+U]==J){if(w==-1)w=z;s=z}if(x+8<w&&w-x>R-s)l=w;else if(s+1<R-8)l=s+1;else if(R-x<64){T.push(99,x,R);
return}else l=l;var o=T.length;T.push(U,J,0,0);T[o+2]=o+4;u.la.fy(x,l-1,T,c,g);T[o+3]=T.length;u.la.fy(l,R,T,c,g)};
u.la.QK=function(x,R,T,c){for(var z=0;z<48;z+=4){c[z]=3e4;c[z+1]=-3e4;c[z+2]=3e4;c[z+3]=-3e4}for(var z=x;
z<=R;z++){var g=z*24;for(var d=0;d<24;d++){var U=T[g+d],e=c[d<<1],N=c[(d<<1)+1];if(U<e)c[d<<1]=U;if(U>N)c[(d<<1)+1]=U}}};
u.la.Ab=function(x,R,T){var c=0,z=0;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;
z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;
z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;
z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;
z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;
z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;
z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;
z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;
z++;c=T[x+z];T[x+z]=T[R+z];T[R+z]=c;z++};u.la.k9=function(x,R,T,c){var g=T+c>>>1,d=x[24*g+R];while(T<=c){while(x[24*T+R]<d)T++;
while(x[24*c+R]>d)c--;if(T<=c){if(x[24*T+R]!=x[24*c+R])u.la.Ab(T*24,c*24,x);T++;c--}}return T};u.la.ah5=function(x,R,T,c,g){var d=0;
while(R!=T){d=u.la.k9(c,g,R,T);if(x<d)T=d-1;else R=d}return c[x*24+g]};u.la.kS=function(x,R,T,c){for(var z=0;
z<c;z++)R[T+z]=x[z]};u.la.atN=function(x,R,T,c,g,d,U,e,N){var l=(c-3)*g+(T-3),J=l<<2;for(var w=0;w<8;
w++){if(R[l]+R[l+1]+R[l+2]+R[l+3]+R[l+4]+R[l+5]+R[l+6]+R[l+7]!=0||x[J+3]<200||x[J+7]<200||x[J+11]<200||x[J+15]<200||x[J+19]<200||x[J+23]<200||x[J+27]<200||x[J+31]<200)return 1;
var z=w<<3;U[z+0]=x[J+0];e[z+0]=x[J+1];N[z+0]=x[J+2];U[z+1]=x[J+4];e[z+1]=x[J+5];N[z+1]=x[J+6];U[z+2]=x[J+8];
e[z+2]=x[J+9];N[z+2]=x[J+10];U[z+3]=x[J+12];e[z+3]=x[J+13];N[z+3]=x[J+14];U[z+4]=x[J+16];e[z+4]=x[J+17];
N[z+4]=x[J+18];U[z+5]=x[J+20];e[z+5]=x[J+21];N[z+5]=x[J+22];U[z+6]=x[J+24];e[z+6]=x[J+25];N[z+6]=x[J+26];
U[z+7]=x[J+28];e[z+7]=x[J+29];N[z+7]=x[J+30];J+=g<<2;l+=g}return 0};u.la.B9=function(x,R){R[0]=x[32]+x[0];
R[1]=x[33]+x[1];R[2]=x[34]+x[2];R[3]=x[35]+x[3];R[4]=x[36]+x[4];R[5]=x[37]+x[5];R[6]=x[38]+x[6];R[7]=x[39]+x[7];
R[8]=x[40]+x[8];R[9]=x[41]+x[9];R[10]=x[42]+x[10];R[11]=x[43]+x[11];R[12]=x[44]+x[12];R[13]=x[45]+x[13];
R[14]=x[46]+x[14];R[15]=x[47]+x[15];R[16]=x[48]+x[16];R[17]=x[49]+x[17];R[18]=x[50]+x[18];R[19]=x[51]+x[19];
R[20]=x[52]+x[20];R[21]=x[53]+x[21];R[22]=x[54]+x[22];R[23]=x[55]+x[23];R[24]=x[56]+x[24];R[25]=x[57]+x[25];
R[26]=x[58]+x[26];R[27]=x[59]+x[27];R[28]=x[60]+x[28];R[29]=x[61]+x[29];R[30]=x[62]+x[30];R[31]=x[63]+x[31];
R[32]=x[0]-x[32];R[33]=x[1]-x[33];R[34]=x[2]-x[34];R[35]=x[3]-x[35];R[36]=x[4]-x[36];R[37]=x[5]-x[37];
R[38]=x[6]-x[38];R[39]=x[7]-x[39];R[40]=x[8]-x[40];R[41]=x[9]-x[41];R[42]=x[10]-x[42];R[43]=x[11]-x[43];
R[44]=x[12]-x[44];R[45]=x[13]-x[45];R[46]=x[14]-x[46];R[47]=x[15]-x[47];R[48]=x[16]-x[48];R[49]=x[17]-x[49];
R[50]=x[18]-x[50];R[51]=x[19]-x[51];R[52]=x[20]-x[52];R[53]=x[21]-x[53];R[54]=x[22]-x[54];R[55]=x[23]-x[55];
R[56]=x[24]-x[56];R[57]=x[25]-x[57];R[58]=x[26]-x[58];R[59]=x[27]-x[59];R[60]=x[28]-x[60];R[61]=x[29]-x[61];
R[62]=x[30]-x[62];R[63]=x[31]-x[63];x[0]=R[16]+R[0];x[1]=R[17]+R[1];x[2]=R[18]+R[2];x[3]=R[19]+R[3];
x[4]=R[20]+R[4];x[5]=R[21]+R[5];x[6]=R[22]+R[6];x[7]=R[23]+R[7];x[8]=R[24]+R[8];x[9]=R[25]+R[9];x[10]=R[26]+R[10];
x[11]=R[27]+R[11];x[12]=R[28]+R[12];x[13]=R[29]+R[13];x[14]=R[30]+R[14];x[15]=R[31]+R[15];x[16]=R[0]-R[16];
x[17]=R[1]-R[17];x[18]=R[2]-R[18];x[19]=R[3]-R[19];x[20]=R[4]-R[20];x[21]=R[5]-R[21];x[22]=R[6]-R[22];
x[23]=R[7]-R[23];x[24]=R[8]-R[24];x[25]=R[9]-R[25];x[26]=R[10]-R[26];x[27]=R[11]-R[27];x[28]=R[12]-R[28];
x[29]=R[13]-R[29];x[30]=R[14]-R[30];x[31]=R[15]-R[31];R[0]=x[8]+x[0];R[1]=x[9]+x[1];R[2]=x[10]+x[2];
R[3]=x[11]+x[3];R[4]=x[12]+x[4];R[5]=x[13]+x[5];R[6]=x[14]+x[6];R[7]=x[15]+x[7];R[8]=x[0]-x[8];R[9]=x[1]-x[9];
R[10]=x[2]-x[10];R[11]=x[3]-x[11];R[12]=x[4]-x[12];R[13]=x[5]-x[13];R[14]=x[6]-x[14];R[15]=x[7]-x[15];
x[0]=R[4]+R[0];x[1]=R[5]+R[1];x[2]=R[6]+R[2];x[3]=R[7]+R[3];x[4]=R[0]-R[4];x[5]=R[1]-R[5];x[6]=R[2]-R[6];
x[7]=R[3]-R[7];x[8]=R[12]+R[8];x[9]=R[13]+R[9];x[10]=R[14]+R[10];x[11]=R[15]+R[11];x[12]=R[8]-R[12];
x[13]=R[9]-R[13];x[14]=R[10]-R[14];x[15]=R[11]-R[15];R[0]=x[2]+x[0];R[1]=x[3]+x[1];R[2]=x[0]-x[2];R[3]=x[1]-x[3];
R[4]=x[6]+x[4];R[5]=x[7]+x[5];R[6]=x[4]-x[6];R[7]=x[5]-x[7];R[8]=x[10]+x[8];R[9]=x[11]+x[9];R[10]=x[8]-x[10];
R[11]=x[9]-x[11];R[12]=x[14]+x[12];R[13]=x[15]+x[13];R[14]=x[12]-x[14];R[15]=x[13]-x[15];x[0]=R[1]+R[0];
x[1]=R[0]-R[1];x[2]=R[3]+R[2];x[3]=R[2]-R[3];x[4]=R[5]+R[4];x[5]=R[4]-R[5];x[6]=R[7]+R[6];x[7]=R[6]-R[7];
x[8]=R[9]+R[8];x[9]=R[8]-R[9];x[10]=R[11]+R[10];x[11]=R[10]-R[11];x[12]=R[13]+R[12];x[13]=R[12]-R[13];
x[14]=R[15]+R[14];x[15]=R[14]-R[15]};u.la.aio=function(){var x="",cg=64,R="v",T="t",c="a",g=5,z,d,U;
for(z=cg>>1;z>0;z>>=1,g--){for(d=0;d<cg;d++){U=(d>>g&1)!=0;if(U){x+=T+"["+d+"] = "+R+"["+(-z+d)+"] - "+R+"["+d+"];  "}else{x+=T+"["+d+"] = "+R+"["+(z+d)+"] + "+R+"["+d+"];  "}}c=R;
R=T;T=c;x+="\n"}console.log(x)};u.la.a7B=function(cg,x,R){var T=x,c=R,g=T,d=0,z,e,N;while(cg>>d!=2)d++;
var U=d;for(z=cg>>1;z>0;z>>=1,d--){for(e=0;e<cg;e++){N=(e>>d&1)!=0;if(N)c[e]=T[-z+e]-T[e];else c[e]=T[z+e]+T[e]}g=T;
T=c;c=g}if((U&1)==1)for(z=0;z<cg;z++)R[z]=T[z]};u.Ar={};u.Ar.TQ=function(x,R,T,c,g,d,U,e,N){var l=Date.now(),J=new Uint32Array(x.buffer),w=new Uint32Array(R.buffer),s=U/T,o=e/c,V=1/s,a=1/o,O=new Float64Array(2),S=3,L=1/S,Q=1/(S*S),b=0,Z=0,I=T,y=c;
if(g){b=g.x;Z=g.y;I=g.m;y=g.e}for(var r=0;r<y;r++)for(var h=0;h<I;h++){var k=b+h,K=Z+r,z=K*T+k,H=z<<1,p=z<<2;
u.Ar.ae5(d,U,e,(k+.5)*s,(K+.5)*o,O);var f=O[0]*V,A=O[1]*a;if(f==0&&A==0)w[z]=J[z];else{u.D.Tv(k+f+.5,K+A+.5,J,T,c,w,z,N)}}};
u.Ar.ae5=function(x,R,T,c,g,d){c-=.499999;g-=.499999;var U=~~c,e=~~g,N=c-U,l=g-e,J=(1-l)*(1-N),w=(1-l)*N,s=l*(1-N),o=l*N,V=U<R-1?U+1:U,a=e<T-1?e+1:e,O=e*R+U<<1,S=e*R+V<<1,L=a*R+U<<1,Q=a*R+V<<1;
d[0]=J*x[O]+w*x[S]+s*x[L]+o*x[Q];d[1]=J*x[O+1]+w*x[S+1]+s*x[L+1]+o*x[Q+1]};u.Ar.a4j=function(x,R,T,c,g){var d=1/x,U=[-1,1,-x,x],e=c.length;
for(var N=0;N<e;N++){var z=c[N],l=z<<1,J=N<<1,w=~~(z*d),s=z-x*w,o=T[l],V=T[l+1],a=0,O=0;if(s!=0&&s!=x-1){var S=z-1<<1,L=z+1<<1,Q=T[S],b=T[L],Z=T[S+1],I=T[L+1],y=o-(Q+b)*.5,r=V-(Z+I)*.5;
a-=y*g;O-=r*g}if(w!=0&&w!=R-1){var S=z-x<<1,L=z+x<<1,Q=T[S],b=T[L],Z=T[S+1],I=T[L+1],y=o-(Q+b)*.5,r=V-(Z+I)*.5;
a-=y*g;O-=r*g}T[l]=o+a;T[l+1]=V+O}};u.Ar.agS=function(x,R){var T=x+","+R;if(u.Ar.aAt==T)return u.Ar.afo;
var c=u.Ar.afo=[];u.Ar.aAt=T;for(var z=0;z<=1e3;z++){var g=z*.001,d=Math.sqrt(g),U=Math.exp(-4*d),e=.96*(1-d*d),N=R*((1-x)*U+x*e);
c[z]=N}return c};u.Ar.aAt="";u.Ar.afo=[];u.Ar.ajr=function(x,R,T,c,g,d,U,e,N,l,J,w,s){var o=Math.max(0,Math.floor(g-U-1)),V=Math.min(R,Math.ceil(g+U+1)),a=Math.max(0,Math.floor(d-U-1)),O=Math.min(T,Math.ceil(d+U+1)),S=2*R,L=U*U,Q=1/U,b=0;
if(s&&(c==3||c==6))N=-N;var Z=u.Ar.agS(e,N);for(var I=a;I<O;I++)for(var y=o;y<V;y++){var z=I*R+y,r=z<<1,h=(g-y)*Q,k=(d-I)*Q,K=h*h+k*k;
if(K<1){w[b]=z;var H=Z[~~(K*1e3)];if(c==1){x[r]=x[r]*(1-H*.05);x[r+1]=x[r+1]*(1-H*.05)}else{var p=0,f=0,W,Y,G,i;
if(c==0){p=l*H;f=J*H}else if(c==2){}else if(c==3){p=H*k;f=-H*h}else if(c==4){p=H*h;f=H*k}else if(c==5){p=-H*h;
f=-H*k}else if(c==6){p=J*H;f=-l*H}var A=x[r],_=x[r+1];if(y==0||y!=R-1&&p<0){W=1+x[r+2]-A;G=x[r+3]-_}else{W=A-x[r-2]+1;
G=_-x[r-1]}if(I==0||I!=T-1&&f<0){Y=x[r+S]-A;i=1+x[r+S+1]-_}else{Y=A-x[r-S];i=_-x[r-S+1]+1}x[r]=-(W*p+Y*f-A);
x[r+1]=-(G*p+i*f-_)}b++}}};u.Ar.ace=function(x){var R=x[0],T=x[0],c=x[1],g=x[1];for(var z=0;z<x.length;
z+=2){var d=x[z],U=x[z+1];if(d<R)R=d;else if(d>T)T=d;if(U<c)c=U;else if(U>g)g=U}return[R,c,T,g]};u.a95=function(x,R,T,c,g){function d(m,iE,hV,dD){return Math.sqrt((m-hV)*(m-hV)+(iE-dD)*(iE-dD))}function U(m,iE){return m>=0&&m<R&&iE>=0&&iE<T}function e(m){if(m<0)return 0;
if(m>=R)return R-1;return m}function N(m){if(m<0)return 0;if(m>=T)return T-1;return m}function l(z,m){var iE=m[3]*(1/255),hV=c[z]+m[0]*iE;
if(hV>255)hV=255;c[z]=hV;hV=c[z+1]+m[1]*iE;if(hV>255)hV=255;c[z+1]=hV;hV=c[z+2]+m[2]*iE;if(hV>255)hV=255;
c[z+2]=hV}function J(m,iE,hV){if(!E(m,iE))return;if(hV[3]<0)hV[3]=0;l((iE*R+m)*4,hV)}function w(m){var iE=m.slice(0,3);
iE[3]=0;return iE}var s=R/800;function o(m){return Math.round(m*s)}function V(){for(var z=0;z<=300;z++){C[z]=a(z)}}function a(T){var m=.8,iE=.2,hV=m*iE,dD=T/60%2-1,bh=hV*(1-dD*dD),ho=iE-hV,aH;
if(T<60){aH=[hV+ho,bh,0]}else if(T<120){aH=[bh,hV,0]}else if(T<180){aH=[0,hV,bh]}else if(T<240){aH=[0,bh,hV]}else if(T<300){aH=[bh,0,hV]}else{aH=[hV,0,bh]}return[(aH[0]+ho)*255,(aH[1]+ho)*255,(aH[2]+ho)*255]}function O(T){return C[~~T]}function S(m){return 1-L(m)}function L(m){return m-~~m}function Q(m,iE,hV,dD){G(m,iE,hV,0,iE+1,1,dD)}function b(m,iE,hV,dD,bh,ho){G(m,iE,hV,0,dD,1,bh,ho)}function Z(m){for(var z=0;
z<c.length;z+=4){l(z,m)}}function I(m,iE,hV,dD,bh,ho,aH,f2){y(m,iE,hV,dD,bh,1,ho,aH,f2)}function y(m,iE,hV,dD,bh,ho,aH,f2,e9){if(ho==null)ho=.5;
if(aH==null)aH=0;if(f2==null)f2=0;if(e9==null)e9=!1;var kB=m.x,ct=m.y,jF=hV.slice(0),fj=~~(hV[3]*M);
dD=dD*M;if(!e9){iE=i(iE);bh=i(bh);aH=i(aH);f2=i(f2)}var ab=e(kB-iE),iw=e(kB+iE);for(var jD=ab;jD<=iw;
jD++){var a1=jD-kB,gd=Math.floor(Math.sqrt(iE*iE-a1*a1)),i6=N(ct-gd),hv=N(ct);for(var hO=i6;hO<=hv;hO++){var jh=d(jD,hO,kB,ct);
if(jh>iE||jh<=iE-bh)break;var aJ=(jh-iE+bh)/bh;jF[3]=fj-dD*(ho==1?aJ:Math.pow(aJ,ho));l((hO*R+jD)*4,jF)}i6=N(ct+gd);
for(var hO=i6;hO>hv;hO--){var jh=d(jD,hO,kB,ct);if(jh>iE||jh<=iE-bh)break;var aJ=(jh-iE+bh)/bh;jF[3]=fj-dD*(ho==1?aJ:Math.pow(aJ,ho));
l((hO*R+jD)*4,jF)}}if(aH>0){G(m,iE+aH,jF,jF[3],aH,1,0,0,!0)}if(f2>0){G(m,iE-bh,$(hV),-hV[3],f2,1,0,0,!0)}}function r(m,iE,hV,dD,bh,ho){G(m,iE,hV,hV[3],iE+1,1,dD,bh,ho)}function h(m,iE,hV,dD,bh){if(bh==null)bh=!1;
var ho=m.x,aH=m.y;dD*=M;if(!bh){iE=i(iE);hV=i(hV)}var f2=e(ho-iE),e9=e(ho+iE);for(var kB=f2;kB<e9;kB++){var ct=kB-ho,jF=~~Math.sqrt(iE*iE-ct*ct),fj=N(aH-jF),ab=N(aH);
for(var iw=fj;iw<=ab;iw++){var jD=d(kB,iw,ho,aH);if(jD>iE||jD<=iE-hV)break;var a1=(iE-jD)/hV,gd=O(300*a1);
gd[3]=dD;l((iw*R+kB)*4,gd)}fj=N(aH+jF);for(var iw=fj;iw>ab;iw--){var jD=d(kB,iw,ho,aH);if(jD>iE||jD<=iE-hV)break;
var a1=(iE-jD)/hV,gd=O(300*a1);gd[3]=dD;l((iw*R+kB)*4,gd)}}}function k(B,m){var iE=B.Pj,hV=B.MS,dD=m.slice(0),bh=m[3]*M,ho=Math.abs(hV.y-iE.y)>Math.abs(hV.x-iE.x);
if(ho){var aH=iE.x;iE.x=iE.y;iE.y=aH;aH=hV.x;hV.x=hV.y;hV.y=aH}if(iE.x>hV.x){var aH=iE;iE=hV;hV=aH}var f2=hV.x-iE.x,e9=hV.y-iE.y,kB=f2==0?1:e9/f2,ct=Math.round(iE.x),jF=iE.y+kB*(ct-iE.x),fj=S(iE.x+.5),ab=ct,iw=~~jF;
if(ho){dD[3]=bh*S(jF)*fj;J(iw,ab,dD);dD[3]=bh*L(jF)*fj;J(iw+1,ab,dD)}else{dD[3]=bh*S(jF)*fj;J(ab,iw,dD);
dD[3]=bh*L(jF)*fj;J(ab,iw+1,dD)}var jD=jF-kB;ct=Math.round(hV.x);jF=hV.y+kB*(ct-hV.x);fj=L(hV.x+.5);
var a1=ct,gd=~~jF;if(ho){dD[3]=bh*S(jF)*fj;J(gd,a1,dD);dD[3]=bh*L(jF)*fj;J(gd+1,a1,dD)}else{dD[3]=bh*S(jF)*fj;
J(a1,gd,dD);dD[3]=bh*L(jF)*fj;J(a1,gd+1,dD)}if(ho){for(var i6=ab+1;i6<=a1-1;i6++){dD[3]=bh*S(jD);J(~~jD,i6,dD);
dD[3]=bh*L(jD);J(~~jD+1,i6,dD);jD+=kB}}else{for(var i6=ab+1;i6<=a1-1;i6++){dD[3]=bh*S(jD);J(i6,~~jD,dD);
dD[3]=bh*L(jD);J(i6,~~jD+1,dD);jD+=kB}}}function K(m,iE,hV,dD){for(var z=0;z<4;z++){var bh=m.qM(iE+1.3*z,hV);
k(bh,dD,1)}}function cI(m,iE){this.x=Math.round(m);this.y=Math.round(iE)}var H=Math.PI/180;cI.prototype.qM=function(m,iE){m=m*H;
var hV=this.x+iE*Math.cos(m),dD=this.y+iE*Math.sin(m);return new p(this.x,this.y,hV,dD)};cI.prototype.aq7=function(m,iE){m=m*H;
var hV=this.DB+iE*Math.cos(m),dD=this.tq+iE*Math.sin(m);return new cI(hV,dD)};function p(m,iE,hV,dD){this.Pj=new cI(m,iE);
this.MS=new cI(hV,dD)}p.prototype.ao=function(m){var iE=m*this.Pj.x+(1-m)*this.MS.x,hV=m*this.Pj.y+(1-m)*this.MS.y;
return new cI(iE,hV)};var f=I,A=r,_=Q,W=b,Y=h,G=y,i=o,E=U,$=w,C=[];V();for(var z=0;z<x.length;z++){c[z]=x[z]}var B=new p(R*g[2],T*g[3],R/2,T/2),M=g[1],j=[];
j[0]=function P(){var m=[80,40,15,60],hV=0,dD=0;_(B.ao(1.4),260,m,10);_(B.ao(1),100,[240,50,50,30],30);
A(B.ao(1),60,[255,40,0,40]);var iE=[255,255,255,255];G(B.ao(1),70,iE,iE[3],58,.5);_(B.ao(1),12,iE);iE[3]=40;
f(B.ao(1),150,iE,iE[3],150);for(var z=0;z<40;z++){hV+=Math.random()*25;dD=Math.random()*i(300)+i(100);
var bh=B.ao(1).qM(hV,dD);k(B.ao(1).qM(hV,dD),[110,110,110,30])}A(B.ao(1),130,[255,255,255,8]);var ho=[170,30,23,70];
W(B.ao(1),70,ho,1,3,3);var aH=[60,60,130,40];_(B.ao(.47),44,aH,5);_(B.ao(.43),22,aH,3);aH[3]=16;_(B.ao(.53),15,aH,2);
var f2=[138,94,42,100];_(B.ao(.2),16,f2,2);var e9=[130,255,170,180];A(B.ao(0),4,e9);A(B.ao(-.25),5,e9);
f2=[150,90,0,50];f(B.ao(-.45),55,$(f2),-f2[3],40,2);_(B.ao(-.42),35,f2,2);_(B.ao(-.5),15,f2,2);Y(B.ao(-1.28),145,11,70);
var kB=O(0);kB[3]=50;f(B.ao(-1.28),149,kB,kB[3],4);kB=O(300);kB[3]=50;f(B.ao(-1.28),155-1,$(kB),-kB[3],3);
var ct=[130,130,10,50];W(B.ao(-1),73,ct,3,2);var jF=[40,130,70,40];f(B.ao(-1),70,$(jF),-jF[3],35);jF=[40,170,60,50];
_(B.ao(-.7),25,jF,4);var jF=[70,110,50,60];f(B.ao(1.3),30,$(jF),-jF[3],11,3);aH=[0,50,210,80];A(B.ao(-.72),20,aH)};
j[1]=function t(){A(B.ao(1),150,[240,70,70,60]);_(B.ao(1),100,[200,60,60,40],30);var m=[255,255,255,255],iE=0,hV=0;
G(B.ao(1),75,m,m[3],63);_(B.ao(1),12,m);A(B.ao(1),270,[200,200,200,20],10);for(var z=0;z<10;z++){iE+=10+Math.random()*40;
hV=Math.random()*i(250)+i(80);var dD=B.ao(1).qM(iE,hV);k(dD,[110,110,110,35])}iE=5;hV=100;for(var z=0;
z<12;z++){iE+=30;K(B.ao(1),iE,hV,[90,90,90,40])}var bh=[150,40,23,100];W(B.ao(1),70,bh,1,3,3);var ho=[30,100,60,40];
A(B.ao(-.9),180,[255,255,255,20]);_(B.ao(-.9),140,ho,15);var aH=[170,80,25,15];W(B.ao(-.9),120,aH,1,4,4);
var f2=[110,240,190,200];A(B.ao(-.6),3,f2);f2[3]=100;A(B.ao(-.6),7,f2);var e9=[230,120,40,85];A(B.ao(-.73),9,e9);
var kB=[60,60,190,50];_(B.ao(.3),28,kB,6);kB[3]=25;_(B.ao(.34),20,kB,3)};j[2]=function q(){var m=[255,255,255,255],hV=0,dD=0;
_(B.ao(1),13,m);G(B.ao(1),150,m,m[3],137);var iE=[120,80,35,20];_(B.ao(1.4),260,iE,10);for(var z=0;z<40;
z++){hV+=5+Math.random()*30;dD=Math.random()*i(300);k(B.ao(1).qM(hV,dD),[110,110,110,20])}var bh=[10,30,255,30];
_(B.ao(1),70,bh,50);var ho=[15,90,170,15];_(B.ao(1.5),60,ho);var aH=[220,220,20,50];_(B.ao(-1.15),8,aH,2);
var m=[255,255,255,40];A(B.ao(-1.18),6,m);A(B.ao(-1.18),4,m);aH=[110,110,10,8];f(B.ao(-1.2),32,$(aH),-aH[3],20,3);
var f2=[5,0,16,255];for(var z=0;z<4;z++){_(B.ao(-1.36),10,f2,3)}var e9=[90,200,150,20],kB=e9.slice(0);
kB[3]*=2;_(B.ao(-1.32),7,kB,3);_(B.ao(-1.36),7,kB,3);_(B.ao(-1.4),7,kB,3);var m=[230,230,230,100];A(B.ao(-1.36),2,m);
m[3]=3;_(B.ao(-.55),10,m);aH=[120,100,10,18];_(B.ao(-.55),160,aH,8);_(B.ao(-.55),80,aH,4);e9[3]=3;kB[3]=6;
f(B.ao(-.49),13,$(kB),-kB[3],13,2);f(B.ao(-.55),13,$(kB),-kB[3],13,2);e9[3]=20;_(B.ao(.15),25,e9,3);
aH[3]=100;A(B.ao(-.52),3,aH);aH=[200,200,50,40];_(B.ao(.27),1,aH,4);var ct=[150,40,23,30];f(B.ao(1),80,$(ct),-ct[3],2,1)};
return j[g[0]]()};u.Zv={};u.Zv.xZ=function(x){var R=x.length,cg=x[0].length,T=new Array(cg);for(var z=0;
z<cg;z++)T[z]=new Array(R);for(var z=0;z<cg;z++)for(var c=0;c<R;c++)T[z][c]=x[c][z];return T};u.Zv.KV=function(x,R){var T=x.length,cg=x[0].length,c=new Array(T);
for(var z=0;z<T;z++)c[z]=new Array(cg);for(var z=0;z<T;z++)for(var g=0;g<cg;g++)c[z][g]=x[z][g]-R[z][g];
return c};u.Zv.add=function(x,R){var T=x.length,cg=x[0].length,c=new Array(T);for(var z=0;z<T;z++)c[z]=new Array(cg);
for(var z=0;z<T;z++)for(var g=0;g<cg;g++)c[z][g]=x[z][g]+R[z][g];return c};u.Zv.multiply=function(x,R){var T=x.length,c=x[0].length,cg=R[0].length;
if(c!=R.length)throw"e";var g=new Array(T);for(var z=0;z<T;z++)g[z]=new Array(cg);if((c&1)!=0)for(var z=0;
z<T;z++){var d=x[z],U=g[z];for(var e=0;e<cg;e++){var N=0;for(var l=0;l<c;l++)N+=d[l]*R[l][e];U[e]=N}}else for(var z=0;
z<T;z++){var d=x[z],U=g[z];for(var e=0;e<cg;e++){var N=0;for(var l=0;l<c;l+=2)N+=d[l]*R[l][e]+d[l+1]*R[l+1][e];
U[e]=N}}return g};u.Zv.kK=function(x,R){var T=x.length,cg=x[0].length,c=new Array(T);for(var z=0;z<T;
z++){var g=0;for(var d=0;d<cg;d++)g+=x[z][d]*R[d];c[z]=g}return c};u.Zv.Ja=function(x,R){var T=[];for(var z=0;
z<x;z++){T.push([]);for(var c=0;c<R;c++)T[z].push(0)}return T};u.Zv.at0=function(x){for(var z=0;z<x.length;
z++)console.log(JSON.stringify(x[z]))};u.Zv.a3X=function(x){var R=[];for(var z=0;z<x.length;z++)R.push(x[z].join(","));
return"["+R.join(";")+"]"};u.Zv.X7=function(x,R){var T=x.length;for(var c=0;c<T;c++){var g=0,d=Number.NEGATIVE_INFINITY;
for(var z=c;z<T;z++)if(Math.abs(x[z][c])>d){g=z;d=Math.abs(x[z][c])}u.Zv.aBF(x,c,g);for(var z=c+1;z<T;
z++){if(x[c][c]==0)return 1;var U=x[z][c]/x[c][c];for(var e=c;e<T+1;e++)x[z][e]-=x[c][e]*U}}for(var z=T-1;
z>=0;z--){if(x[z][z]==0)return 1;var N=x[z][T]/x[z][z];R[z]=N;for(var e=z-1;e>=0;e--){x[e][T]-=x[e][z]*N;
x[e][z]=0}}return 0};u.Zv.aBF=function(x,R,T){var c=x[R];x[R]=x[T];x[T]=c};u.Zv.a2P=function(x){var R=x.length,T=u.Zv.Ja(R,R);
for(var z=0;z<R;z++)T[z][z]=x[z];return T};u.Zv.a3s=function(x){var R=x.length,T=x[0].length,c=new Array(R);
for(var z=0;z<R;z++){c[z]=0;for(var g=0;g<T;g++)c[z]+=x[z][g];c[z]/=T}return c};u.Zv.vY=function(x){var R=0;
for(var z=0;z<x.length;z++)R+=x[z]*x[z];return Math.sqrt(R)};u.Id={};u.Id.hz=function(x){var R=~~(x+.5);
return R<0?0:R>255?255:R};u.Id.transform=function(x,R,T){var c=u.Id.hz,g=x.o.length;for(var z=0;z<g;
z++){var d=x.o[z],U=x.A[z],e=x.J[z];R.o[z]=c(T[0]*d+T[1]*U+T[2]*e+T[3]*255);R.A[z]=c(T[4]*d+T[5]*U+T[6]*e+T[7]*255);
R.J[z]=c(T[8]*d+T[9]*U+T[10]*e+T[11]*255)}};u.Id.ap7=function(x,R,T){var c=u.Id.hz,g=x.length;for(var z=0;
z<g;z+=4){var d=x[z],U=x[z+1],e=x[z+2];R[z]=c(T[0]*d+T[1]*U+T[2]*e+T[3]*255);R[z+1]=c(T[4]*d+T[5]*U+T[6]*e+T[7]*255);
R[z+2]=c(T[8]*d+T[9]*U+T[10]*e+T[11]*255)}};u.Id.apT=function(x){var R=x[0]+x[1]+x[2],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(R==1){var c=x.indexOf(1);T[c]=T[c+4]=T[c+8]=1}else{T[0]=x[0];T[5]=x[1];T[10]=x[2]}return T};u.Id.kF=function(x,R,T){return[1,0,0,x,0,1,0,R,0,0,1,T,0,0,0,1]};
u.Id.LD=function(x,R,T){return[x,0,0,0,0,R,0,0,0,0,T,0,0,0,0,1]};u.Id.ayT=function(x){return[x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]]};
u.Id.b8=function(x){return[x[0],x[1],x[2],0,x[3],x[4],x[5],0,x[6],x[7],x[8],0,0,0,0,1]};u.Id.yu=function(x,R){return[x[0]*R[0]+x[1]*R[1]+x[2]*R[2]+x[3]*R[3],x[4]*R[0]+x[5]*R[1]+x[6]*R[2]+x[7]*R[3],x[8]*R[0]+x[9]*R[1]+x[10]*R[2]+x[11]*R[3],x[12]*R[0]+x[13]*R[1]+x[14]*R[2]+x[15]*R[3]]};
u.Id.xZ=function(x){var R=[];R[0]=x[0];R[1]=x[4];R[2]=x[8];R[3]=x[12];R[4]=x[1];R[5]=x[5];R[6]=x[9];
R[7]=x[13];R[8]=x[2];R[9]=x[6];R[10]=x[10];R[11]=x[14];R[12]=x[3];R[13]=x[7];R[14]=x[11];R[15]=x[15];
return R};u.Id.add=function(x,R){var T=x.slice(0);for(var z=0;z<16;z++)T[z]+=R[z];return T};u.Id.multiply=function(x,R){var T=[];
T[0]=x[0]*R[0]+x[1]*R[4]+x[2]*R[8]+x[3]*R[12];T[1]=x[0]*R[1]+x[1]*R[5]+x[2]*R[9]+x[3]*R[13];T[2]=x[0]*R[2]+x[1]*R[6]+x[2]*R[10]+x[3]*R[14];
T[3]=x[0]*R[3]+x[1]*R[7]+x[2]*R[11]+x[3]*R[15];T[4]=x[4]*R[0]+x[5]*R[4]+x[6]*R[8]+x[7]*R[12];T[5]=x[4]*R[1]+x[5]*R[5]+x[6]*R[9]+x[7]*R[13];
T[6]=x[4]*R[2]+x[5]*R[6]+x[6]*R[10]+x[7]*R[14];T[7]=x[4]*R[3]+x[5]*R[7]+x[6]*R[11]+x[7]*R[15];T[8]=x[8]*R[0]+x[9]*R[4]+x[10]*R[8]+x[11]*R[12];
T[9]=x[8]*R[1]+x[9]*R[5]+x[10]*R[9]+x[11]*R[13];T[10]=x[8]*R[2]+x[9]*R[6]+x[10]*R[10]+x[11]*R[14];T[11]=x[8]*R[3]+x[9]*R[7]+x[10]*R[11]+x[11]*R[15];
T[12]=x[12]*R[0]+x[13]*R[4]+x[14]*R[8]+x[15]*R[12];T[13]=x[12]*R[1]+x[13]*R[5]+x[14]*R[9]+x[15]*R[13];
T[14]=x[12]*R[2]+x[13]*R[6]+x[14]*R[10]+x[15]*R[14];T[15]=x[12]*R[3]+x[13]*R[7]+x[14]*R[11]+x[15]*R[15];
return T};u.Id.F0=function(x){var R=[];R[0]=x[5]*x[10]*x[15]-x[5]*x[14]*x[11]-x[6]*x[9]*x[15]+x[6]*x[13]*x[11]+x[7]*x[9]*x[14]-x[7]*x[13]*x[10];
R[1]=-x[1]*x[10]*x[15]+x[1]*x[14]*x[11]+x[2]*x[9]*x[15]-x[2]*x[13]*x[11]-x[3]*x[9]*x[14]+x[3]*x[13]*x[10];
R[2]=x[1]*x[6]*x[15]-x[1]*x[14]*x[7]-x[2]*x[5]*x[15]+x[2]*x[13]*x[7]+x[3]*x[5]*x[14]-x[3]*x[13]*x[6];
R[3]=-x[1]*x[6]*x[11]+x[1]*x[10]*x[7]+x[2]*x[5]*x[11]-x[2]*x[9]*x[7]-x[3]*x[5]*x[10]+x[3]*x[9]*x[6];
R[4]=-x[4]*x[10]*x[15]+x[4]*x[14]*x[11]+x[6]*x[8]*x[15]-x[6]*x[12]*x[11]-x[7]*x[8]*x[14]+x[7]*x[12]*x[10];
R[5]=x[0]*x[10]*x[15]-x[0]*x[14]*x[11]-x[2]*x[8]*x[15]+x[2]*x[12]*x[11]+x[3]*x[8]*x[14]-x[3]*x[12]*x[10];
R[6]=-x[0]*x[6]*x[15]+x[0]*x[14]*x[7]+x[2]*x[4]*x[15]-x[2]*x[12]*x[7]-x[3]*x[4]*x[14]+x[3]*x[12]*x[6];
R[7]=x[0]*x[6]*x[11]-x[0]*x[10]*x[7]-x[2]*x[4]*x[11]+x[2]*x[8]*x[7]+x[3]*x[4]*x[10]-x[3]*x[8]*x[6];R[8]=x[4]*x[9]*x[15]-x[4]*x[13]*x[11]-x[5]*x[8]*x[15]+x[5]*x[12]*x[11]+x[7]*x[8]*x[13]-x[7]*x[12]*x[9];
R[9]=-x[0]*x[9]*x[15]+x[0]*x[13]*x[11]+x[1]*x[8]*x[15]-x[1]*x[12]*x[11]-x[3]*x[8]*x[13]+x[3]*x[12]*x[9];
R[10]=x[0]*x[5]*x[15]-x[0]*x[13]*x[7]-x[1]*x[4]*x[15]+x[1]*x[12]*x[7]+x[3]*x[4]*x[13]-x[3]*x[12]*x[5];
R[11]=-x[0]*x[5]*x[11]+x[0]*x[9]*x[7]+x[1]*x[4]*x[11]-x[1]*x[8]*x[7]-x[3]*x[4]*x[9]+x[3]*x[8]*x[5];R[12]=-x[4]*x[9]*x[14]+x[4]*x[13]*x[10]+x[5]*x[8]*x[14]-x[5]*x[12]*x[10]-x[6]*x[8]*x[13]+x[6]*x[12]*x[9];
R[13]=x[0]*x[9]*x[14]-x[0]*x[13]*x[10]-x[1]*x[8]*x[14]+x[1]*x[12]*x[10]+x[2]*x[8]*x[13]-x[2]*x[12]*x[9];
R[14]=-x[0]*x[5]*x[14]+x[0]*x[13]*x[6]+x[1]*x[4]*x[14]-x[1]*x[12]*x[6]-x[2]*x[4]*x[13]+x[2]*x[12]*x[5];
R[15]=x[0]*x[5]*x[10]-x[0]*x[9]*x[6]-x[1]*x[4]*x[10]+x[1]*x[8]*x[6]+x[2]*x[4]*x[9]-x[2]*x[8]*x[5];var T=x[0]*R[0]+x[1]*R[4]+x[2]*R[8]+x[3]*R[12];
for(var z=0;z<16;z++)R[z]/=T;return R};u.Id.a0V=function(x){var R=[],T=x[5]*x[10]*x[15]-x[5]*x[14]*x[11]-x[6]*x[9]*x[15]+x[6]*x[13]*x[11]+x[7]*x[9]*x[14]-x[7]*x[13]*x[10],c=-x[4]*x[10]*x[15]+x[4]*x[14]*x[11]+x[6]*x[8]*x[15]-x[6]*x[12]*x[11]-x[7]*x[8]*x[14]+x[7]*x[12]*x[10],g=x[4]*x[9]*x[15]-x[4]*x[13]*x[11]-x[5]*x[8]*x[15]+x[5]*x[12]*x[11]+x[7]*x[8]*x[13]-x[7]*x[12]*x[9],d=-x[4]*x[9]*x[14]+x[4]*x[13]*x[10]+x[5]*x[8]*x[14]-x[5]*x[12]*x[10]-x[6]*x[8]*x[13]+x[6]*x[12]*x[9];
return x[0]*T+x[1]*c+x[2]*g+x[3]*d};u.Id.aog=function(x,R,T,c){var g=Math.sin(c),d=Math.cos(c),U=1/Math.sqrt(x*x+R*R+T*T);
x*=U;R*=U;T*=U;return u.Id.b8([x*x*(1-d)+d,x*R*(1-d)-T*g,x*T*(1-d)+R*g,x*R*(1-d)+T*g,R*R*(1-d)+d,R*T*(1-d)-x*g,x*T*(1-d)-R*g,R*T*(1-d)+x*g,T*T*(1-d)+d])};
u.Id.ob=u.Id.b8([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
u.Id.azp=u.Id.b8([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
u.Id.a6H=u.Id.F0(u.Id.ob);u.ZQ={};u.ZQ.K0=new Uint32Array(1);u.ZQ.aa9=function(x,R,T,c,g,d){var U=new Uint32Array(x),e=0,N=u.ZQ.K0;
if(N.length<R*4)u.ZQ.K0=N=new Uint32Array(R*4);var l=new Float64Array(N.buffer);for(var z=0;z<R;z+=2){var J=g[z],w=g[z+1],s=d[z],o=d[z+1];
N[e]=w;l[e+2>>1]=s;N[e+1]=U[J];U[J]=e+1;e+=4;N[e]=J;l[e+2>>1]=o;N[e+1]=U[w];U[w]=e+1;e+=4}return{Yx:N,aao:l,azT:U}};
u.ZQ.X7=function(x,R,T,c,g,d,U){var e=1,N=u.ZQ.aa9(x,R,T,c,g,d),l=N.Yx,J=N.aao,w=N.azT,s=new Uint32Array(x),o=new u.ZQ.NL(x),a=1,b=0;
o.push(T);o.push(c);var V=new u.ZQ.NL(x),O=new Uint8Array(x),S=new Uint32Array(x);O[T]=1;O[c]=2;var L=new Uint32Array(x),Q=new Uint32Array(x);
Q[T]=Q[c]=0;L[T]=L[c]=1;while(!0){var Z=-1,H=0,_=1e30;while(!o.py()&&Z==-1){var I=o.top(),y=O[I],r=w[I]-1;
while(r!=-1){var h=l[r],k=O[h],K=r^y-1<<2;if(J[K+2>>1]!=0){if(k==0){u.ZQ.Qs(I,r,h,O,S,Q,L);o.push(h)}else if(k==y&&L[h]<=L[I]&&Q[h]>Q[I])u.ZQ.Qs(I,r,h,O,S,Q,L);
else if(k!=y){Z=K}}r=l[r+1]-1}if(Z!=-1)break;o.pop()}if(Z==-1){break}a++;var p=Z;while(p!=-1){s[H]=p;
H++;p=S[l[p^4]]-1}var f=H>>1;for(var z=0;z<f;z++){var A=s[z];s[z]=s[H-z-1];s[H-z-1]=A}p=S[l[Z]]-1;while(p!=-1){s[H]=p^4;
H++;p=S[l[p^4]]-1}for(var z=0;z<H;z++)_=Math.min(_,J[s[z]+2>>1]);b+=_;if(b>=U)return{Ld:null,SY:b};for(var z=0;
z<H;z++){var W=s[z],Y=W^4,I=l[Y],h=l[W];J[W+2>>1]-=_;J[Y+2>>1]+=_;if(J[W+2>>1]==0&&O[I]==O[h]){if(O[I]==1){S[h]=0;
V.push(h)}if(O[I]==2){S[I]=0;V.push(I)}}}while(!V.py()){var I=V.pop(),y=O[I],r=w[I]-1,G=y==1?4:0,i=0,E=0,$=1e9;
while(r!=-1){var h=l[r],C=r^4,K=r^G;if(O[h]==y&&J[K+2>>1]>0&&u.ZQ.agR(h,T,c,S,l,a,L,Q)+1<$){i=h;E=C;
$=Q[h]+1}r=l[r+1]-1}if(E!=0){u.ZQ.Qs(i,E,I,O,S,Q,L);continue}r=w[I]-1;while(r!=-1){var h=l[r],K=r^G;
if(O[h]==y){if(J[K+2>>1]>0){o.push(h)}if(S[h]==r+1){S[h]=0;V.push(h)}}r=l[r+1]-1}O[I]=0;o.remove(I)}}var B=[];
for(var z=0;z<R;z+=2){var I=g[z],h=g[z+1];if(O[I]==1&&O[h]!=1){B.push(z>>1)}if(O[h]==1&&O[I]!=1){B.push(R+z>>1)}}return{Ld:B,SY:b}};
u.ZQ.Qs=function(x,R,T,c,g,d,U){c[T]=c[x];g[T]=R+1;d[T]=d[x]+1;U[T]=U[x]};u.ZQ.agR=function(x,R,T,c,g,d,U,e){var N=x,l=c[x]-1,J=0;
while(l!=-1&&U[x]!=d){x=g[l^4];l=c[x]-1;J++}if(l==-1&&x!=R&&x!=T)return 1e9;var w=e[x]+J;J=0;l=c[N]-1;
while(N!=x){e[N]=w-J;J++;U[N]=d;N=g[l^4];l=c[N]-1}return w};u.ZQ.a5j=function(x,R,T,c,g,d){var U=u.ZQ.aa9(x,R,T,c,g,d),e=U.Yx,N=U.aao,l=U.azT,J=0,w=0,s=new Uint32Array(x*2),o=new u.ZQ.asY(x),V=0;
while(!0){o.reset();o.push(T);for(var z=0;z<x;z++)s[z<<1]=0;while(!o.py()){var a=o.pop(),O=l[a]-1;while(O!=-1){V=e[O];
if(s[V<<1]==0&&N[O+2>>1]>0&&V!=T){s[V<<1]=a+1;s[(V<<1)+1]=O;o.push(V)}O=e[O+1]-1}if(s[c<<1]!=0){break}}if(s[c<<1]==0){break}var S=1e30;
V=c;while(!0){var L=s[V<<1]-1;if(L==-1)break;var Q=s[(V<<1)+1];S=Math.min(S,N[Q+2>>1]);V=L}V=c;while(!0){var L=s[V<<1]-1;
if(L==-1)break;var Q=s[(V<<1)+1],b=Q^4;N[Q+2>>1]-=S;N[b+2>>1]+=S;V=L}J+=S}var Z=[];for(var z=0;z<R;z+=2){var L=g[z],V=g[z+1];
if((s[L<<1]!=0||L==T)&&s[V<<1]==0&&V!=T){Z.push(z>>1)}if((s[V<<1]!=0||V==T)&&s[L<<1]==0&&L!=T){Z.push(R+z>>1)}}return{Ld:Z,SY:J}};
u.ZQ.asY=function(x){x|=x>>1;x|=x>>2;x|=x>>4;x|=x>>8;x|=x>>16;this.g2=new Uint32Array(x+1);this.zf=x;
this.$p=0;this.vv=0};u.ZQ.asY.prototype={push:function(x){var R=this.vv;this.g2[R]=x;this.vv=R+1&this.zf},pop:function(){var x=this.$p,R=this.g2[x];
this.$p=x+1&this.zf;return R},py:function(){return this.$p==this.vv},reset:function(){this.$p=0;this.vv=0}};
u.ZQ.NL=function(x){x|=x>>1;x|=x>>2;x|=x>>4;x|=x>>8;x|=x>>16;this.g2=new Uint32Array(x+1);this.I9=new Uint32Array(x+1);
this.zf=x;this.$p=0;this.vv=0};u.ZQ.NL.prototype={top:function(){return this.g2[this.$p]},abv:function(){return this.g2[this.vv]},push:function(x){if(this.I9[x]!=0)return;
this.I9[x]=this.vv+1;var R=this.vv;this.g2[R]=x;this.vv=R+1&this.zf},pop:function(){var x=this.$p,R=this.g2[x];
this.I9[R]=0;this.$p=x+1&this.zf;return R},py:function(){return this.$p==this.vv},remove:function(x){var R=this.I9[x]-1;
if(R==-1)return;this.I9[x]=0;if(R==this.$p){this.pop();return}var T=this.pop();this.g2[R]=T;this.I9[T]=R+1},_8:function(z){return z+this.zf+1&this.zf}};
u.ZQ.api=function(x,R,T){var c=u.ZQ.k9(x,R,T);if(R<c-1)u.ZQ.api(x,R,c-1);if(c<T)u.ZQ.api(x,c,T)};u.ZQ.k9=function(x,R,T){var c=x[R+T>>>1];
while(R<=T){while(x[R]<c)R++;while(x[T]>c)T--;if(R<=T){u.ZQ.Ab(x,R,T);R++;T--}}return R};u.ZQ.Ab=function(x,R,T){var c=x[R];
x[R]=x[T];x[T]=c};u.Rn=function(){var x,R;function T(U,e,cg){var N=cg-1,l=e+cg;x[cg-2]=U[l-2];R[0]=U[l-1];
var J=Math.max;for(var z=1;z<N;z++){x[cg-2-z]=J(x[cg-1-z],U[l-2-z]);R[z]=J(R[z-1],U[l-1+z])}for(var z=0;
z<N;z++)U[e+z]=J(x[z],R[z])}function c(U,e,cg){var N=cg-1,l=Math.ceil(e/N)*N;for(var J=0;J<l;J+=N)T(U,J,cg)}function g(U,e,N,l,cg,J){e.set(U);
if(cg==1)return;x=u.B(cg-1);R=u.B(cg-1);var w=cg>>>1,s=u.B(Math.ceil(Math.max(N,l)/(cg-1))*(cg-1)+(cg-2)),o=new Uint8Array(s.buffer,0,N);
if(!J)u.F0(e);for(var V=0;V<l;V++){s.fill(0);s.set(new Uint8Array(e.buffer,V*N,N),w);c(s,N,cg);e.set(o,V*N)}for(var a=0;
a<N;a++){s.fill(0);for(var V=0;V<l;V++)s[V+w]=e[V*N+a];c(s,l,cg);for(var V=0;V<l;V++)e[V*N+a]=s[V]}if(!J)u.F0(e)}function d(U,e,N,l,cg,J){var w=u.B(N*l);
for(var s=0;s<4;s++){u.TR(U,w,s);if(s==3)u.F0(w);g(w,w,N,l,cg,J);if(s==3)u.F0(w);u.rN(w,e,s)}}return{Fv:g,a0D:d}}();
u.oZ={};u.oZ.aqP=function(x){for(var z=0;z<x.length;z++)u.oZ.K2(x,z)};u.oZ.K2=function(x,z){x[z].v.keyShapeInvalidated={t:"bool",v:!0}};
u.oZ.a7O=function(x){for(var z=0;z<x.length;z++)x[z].v.keyOriginIndex.v=z};u.oZ.uz=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
u.oZ.Bb=function(x){x=x.v;var R={Rctn:2,Ln:4,Elps:5},T=R[x.classID],c=x.topLeft?u.oZ.a3P(x):null,g=null,d=0,U=[!1,!1,0,0,0];
if(T==4){var e=x.Strt.v,N=x.End.v;g=[e.Hrzn.v.val,e.Vrtc.v.val,N.Hrzn.v.val,N.Vrtc.v.val];d=x.Wdth.v.val;
for(var z=0;z<2;z++){var l=x[z==0?"StrA":"EndA"];if(l==null)continue;l=l.v;U[z]=l.On.v;U[2]=l.Wdth.v;
U[3]=l.Lngt.v;U[4]=l.Cncv.v.val}}if(T==null)return null;return u.oZ.Pe(T,T==4?null:u.oZ.iQ(x),c,g,d,U)};
u.oZ.Cx=function(x,R,T,c,g,d,U){var e={classID:x,unitValueQuadVersion:{t:"long",v:1}};if(R)u.oZ.ou(e,["Left","Top","Rght","Btom"],R);
if(T)u.oZ.ou(e,["topLeft","topRight","bottomRight","bottomLeft"],T);if(x=="Ln"){e.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:c[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:c[1]}}}},e.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:c[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:c[3]}}}},e.Wdth={t:"UntF",v:{type:"#Pxl",val:g}};
for(var z=0;z<2;z++){var N=z==0?"StrA":"EndA";e[N]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:U[z]},Wdth:{t:"doub",v:U[2]},Lngt:{t:"doub",v:U[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:U[4]}}}}}}if(d)e.Nm={t:"TEXT",v:d};
return{t:"Objc",v:e}};u.oZ.ahY=function(x,R){var T=u.oZ.Lj(x),c=x[2]-x[0],g=x[3]-x[1],d=Math.sqrt(c*c+g*g),U=[0,0,d,0,d,R,0,R],e=new gP;
e.rotate(-T);e.translate(x[0],x[1]);u.M.i(U,e,U);return U};u.oZ.Pe=function(x,R,T,c,g,d){var U=u.oZ.uz(),e=U.v,N;
delete e.keyShapeInvalidated;e.keyOriginType={t:"long",v:x};e.keyOriginResolution={t:"doub",v:75};if(x==4){e.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c[0]},Vrtc:{t:"doub",v:c[1]}}};
e.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:c[2]},Vrtc:{t:"doub",v:c[3]}}};N=u.oZ.ahY(c,g);
var l=u.M.QK(N);R=[l.x,l.y,l.x+l.m,l.y+l.e];e.keyOriginLineWeight={t:"doub",v:g};if(d)u.oZ.asn(e,d)}else N=[R[0],R[1],R[2],R[1],R[2],R[3],R[0],R[3]];
e.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};u.oZ.by(e,"keyOriginBoxCorners",N);var J={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
e.keyOriginShapeBBox={t:"Objc",v:J};u.oZ.aAD(e,R);if(T!=null){var w={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
e.keyOriginRRectRadii={t:"Objc",v:w};u.oZ.Cs(e,T)}return U};u.oZ.i=function(x,R,T,c){var g=u.D.a3S(R),d=u.D.amf(R),U=u.D.nA(R),e=U.Y*U.jR-U.J*U.zI;
for(var z=0;z<x.length;z++){var N=x[z].v;if(!u.oZ.ZM(N))continue;if(T.length!=0&&T.indexOf(z)==-1)continue;
var l=N.keyOriginType.v,J=R;if(e<0&&l==2){var w=u.oZ.yV(N),s=0;s=w[0];w[0]=w[1];w[1]=s;s=w[2];w[2]=w[3];
w[3]=s;u.oZ.Cs(N,w);var o=u.oZ.GY(N,"keyOriginBoxCorners"),V=u.M.QK(o),a=V.x+V.m/2,O=new gP;O.translate(-a,0);
O.scale(-1,1);O.translate(a,0);J=u.D.Kq(J,u.D.bY(O))}var S=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var L=0;L<S.length;L++){var o=u.oZ.GY(N,S[L]);if(o==null)continue;u.D.i(J,o);u.oZ.by(N,S[L],o);var V=u.M.QK(o);
u.oZ.aAD(N,[V.x,V.y,V.x+V.m,V.y+V.e]);var Q=new gP;Q.rotate(-u.oZ.Lj(o));var b={classID:"Trnf"};N.Trnf={t:"Objc",v:b};
var Z="xx xy yx yy tx ty".split(" "),I=[Q.Y,Q.J,Q.zI,Q.jR,Q.a4,Q.rY];for(var y=0;y<6;y++)b[Z[y]]={t:"doub",v:I[y]}}if(l==2&&c){var w=u.oZ.yV(N);
for(var L=0;L<4;L++)w[L]=Math.round(w[L]*R[0]);u.oZ.Cs(N,w)}var o=u.oZ.GY(N,"keyOriginBoxCorners"),r=o[2]-o[0],h=o[3]-o[1],k=Math.sqrt(r*r+h*h);
r/=k;h/=k;var K=o[6]-o[0],H=o[7]-o[1],p=Math.sqrt(K*K+H*H);K/=p;H/=p;if(l==4){N.keyOriginLineWeight.v=p;
var f=u.oZ.AU(N);u.D.i(R,f);u.oZ.aay(N,f)}var A=r*K+h*H;if(Math.abs(A)>.001){u.oZ.K2(x,z)}}};u.oZ.ZM=function(x){var R=x.keyShapeInvalidated,T=x.keyOriginType;
return(R==null||!R.v)&&T!=null&&T.v!=9};u.oZ.axn=function(x){var R=x.keyOriginType.v,T=u.oZ.MY(x),c=T[0],g=T[1],d=T[2],U=T[3],e=new gP,N=x.keyOriginPolyCornerRadius,o;
N=N?N.v:0;var l=u.oZ.GY(x,R==7||R==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),J=u.oZ.a2X(l),w=J[2],s=J[3];
c=-w/2;d=w/2;g=-s/2;U=s/2;e.rotate(-u.oZ.Lj(l));e.a4=J[0];e.rY=J[1];if(R==1||R==2){var V=R==1?0:u.oZ.yV(x);
o=u.j.u1.Rect(c,g,d-c,U-g,V)}else if(R==4){var a=u.oZ.AU(x),O=u.oZ.alz(x);e=new gP;if(O==null)o=u.j.u1.su(a[0],a[1],a[2],a[3],x.keyOriginLineWeight.v);
else o=u.j.u1.Xz(a[0],a[1],a[2],a[3],x.keyOriginLineWeight.v,O)}else if(R==5){o=u.j.u1.mR(c,g,d-c,U-g)}else if(R==7||R==8){var S=R==7?3:x.keyOriginPolySides.v;
o=u.j.u1.zy(0,0,100,Math.PI/S-Math.PI/2,S,N,d,U)}u.j.q0(o,e);return o};u.oZ.wY=function(x,R){var T=R.$;
for(var z=0;z<x.length;z++){var c=x[z].v;if(!u.oZ.ZM(c))continue;var g=u.oZ.axn(c),d=u.j.wn(T,z),U=u.j.Ih(T,z);
g[2].AC=T[d].AC;var e=T;T=T.slice(0,d);for(var N=2;N<g.length;N++)T.push(g[N]);for(var N=d+U;N<e.length;
N++)T.push(e[N])}R.$=T;R.IP=!0};u.oZ.ok=function(x){var R=1e9,T=-R,c=1e9,g=-c,d=[],U=x.JR(),e=U[0],N=U[1];
for(var l=0;l<N.length;l++){var J=e[N[l]],w=J.add.vogk;if(w==null)continue;var s=J.add.vmsk.g;for(var o=0;
o<w.length;o++){var V=w[o].v,S=0;if(!u.oZ.ZM(V))continue;if(N.length==1&&s.length!=0&&s.indexOf(o)==-1)continue;
var a=V.keyOriginType.v;if(a==9)continue;var O=u.oZ.MY(V);R=Math.min(R,O[0]);c=Math.min(c,O[1]);T=Math.max(T,O[2]);
g=Math.max(g,O[3]);var L=u.oZ.GY(V,"keyOriginBoxCorners");if(L){var Q=u.oZ.a2X(L),b=Q[2],Z=Q[3];O[2]=O[0]+b;
O[3]=O[1]+Z;S=u.oZ.Lj(L)}var I=[a,O,S];d.push(I);var y=V.keyOriginPolyCornerRadius;if(a==2)I.push(u.oZ.yV(V));
if(a==7||a==8)I.push(y?y.v:0);if(a==8)I.push(V.keyOriginPolySides.v)}}return d.length==1?d[0]:[0,R<T?[R,c,T,g]:null,0]};
u.oZ.Lj=function(x){var R=x[2]-x[0],T=x[3]-x[1];return-Math.atan2(-T,R)};u.oZ.axm=function(x){var R=u.oZ.MY(x);
return u.oZ.Lj(R)};u.oZ.akb=function(x,R,T){var c=u.oZ.ok(x),g=-1;for(var z=0;z<R.length;z++)if(JSON.stringify(R[z])!=JSON.stringify(c[z]))g=z;
if(g==1||g==2){}var d=x.JR(),U=d[0],e=d[1];for(var N=0;N<e.length;N++){var l=U[e[N]],J=l.add.vogk;if(J==null)continue;
var w=l.add.vmsk.g;for(var s=0;s<J.length;s++){var o=J[s].v;if(!u.oZ.ZM(o))continue;if(e.length==1&&w.length!=0&&w.indexOf(s)==-1)continue;
var V=o.keyOriginType.v;if(g==1||g==2){u.oZ.i(J,u.oZ.adZ(g,o,c,R),w,!1);break}if(g==3)if(V==2)u.oZ.Cs(o,R[3]);
else o.keyOriginPolyCornerRadius={t:"doub",v:R[3]};if(g==4)o.keyOriginPolySides.v=R[4];if(T)u.oZ.K2(J,s)}}};
u.oZ.adZ=function(x,R,T,c){var g=c[1],d=T[1],U=(g[2]-g[0])/(d[2]-d[0]),e=(g[3]-g[1])/(d[3]-d[1]),N=new gP;
if(x==1){if(Math.max(Math.abs(U-1),Math.abs(e-1))>1e-8){var l=g[0],J=g[1];if(c[0]!=0){var w=u.oZ.GY(R,"keyOriginBoxCorners");
l=w[0];J=w[1]}N.translate(-l,-J);N.rotate(c[2]);N.scale(U,e);N.rotate(-c[2]);N.translate(l,J)}else{N.translate(-d[0],-d[1]);
N.translate(g[0],g[1])}}else{if(c[0]!=0)g=u.oZ.MY(R);var l=(g[0]+g[2])/2,J=(g[1]+g[3])/2;N.translate(-l,-J);
if(T[0]!=0)N.rotate(T[2]);N.rotate(-c[2]);N.translate(l,J)}return u.D.bY(N)};u.oZ.a2X=function(x){var R=x[0],T=x[1],c=x[2],g=x[3],d=x[4],U=x[5],e=x[6],N=x[7],l=c-R,J=g-T,w=Math.sqrt(l*l+J*J),l=d-c,J=U-g,s=Math.sqrt(l*l+J*J);
return[(R+d)/2,(T+U)/2,w,s]};u.oZ.GY=function(x,R){var T=x[R];if(T==null)return null;var c=[];T=T.v;
for(var g=0;g<4;g++){var d=T["rectangleCorner"+["A","B","C","D"][g]].v;c.push(d.Hrzn.v,d.Vrtc.v)}return c};
u.oZ.by=function(x,R,T){var c=x[R];if(c==null)return null;c=c.v;for(var g=0;g<4;g++){var d="rectangleCorner"+["A","B","C","D"][g];
c[d]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:T[2*g]},Vrtc:{t:"doub",v:T[2*g+1]}}}}};u.oZ.MY=function(x){return u.oZ.iQ(x.keyOriginShapeBBox.v)};
u.oZ.iQ=function(x){var R=x.classID,T=x.Left.v,c=x.Rght.v,g=x.Top.v,d=x.Btom.v;if(T.val!=null){T=T.val;
c=c.val;g=g.val;d=d.val}return[T,g,c,d]};u.oZ.aAD=function(x,R){u.oZ.ou(x.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],R)};
u.oZ.yV=function(x){var R=x.keyOriginRRectRadii;if(R==null)return[0,0,0,0];return u.oZ.a3P(R.v)};u.oZ.a3P=function(x){var R=[],T=["topLeft","topRight","bottomRight","bottomLeft"];
for(var c=0;c<4;c++)R.push(x[T[c]].v.val);return R};u.oZ.Cs=function(x,R){u.oZ.ou(x.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],R)};
u.oZ.ou=function(x,R,T){var c=x.classID;if(c=="unitRect"||c=="radii"||c=="Rctn"){for(var z=0;z<4;z++)if(T[z]!=null)x[R[z]]={t:"UntF",v:{type:"#Pxl",val:T[z]}}}else{for(var z=0;
z<4;z++)if(T[z]!=null)x[R[z]]={t:"doub",v:T[z]}}};u.oZ.AU=function(x){var R=x.keyOriginLineStart.v,T=x.keyOriginLineEnd.v;
return[R.Hrzn.v,R.Vrtc.v,T.Hrzn.v,T.Vrtc.v]};u.oZ.aay=function(x,R){var T=x.keyOriginLineStart.v,c=x.keyOriginLineEnd.v;
T.Hrzn.v=R[0];T.Vrtc.v=R[1];c.Hrzn.v=R[2];c.Vrtc.v=R[3]};u.oZ.alz=function(x){var R=[],T=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var z=0;z<5;z++){var c=x["keyOriginLineArr"+T[z]];if(c==null)return null;R[z]=c.v}return R};u.oZ.asn=function(x,R){x.keyOriginLineArrowSt={t:"bool",v:R[0]};
x.keyOriginLineArrowEnd={t:"bool",v:R[1]};x.keyOriginLineArrWdth={t:"doub",v:R[2]};x.keyOriginLineArrLngth={t:"doub",v:R[3]};
x.keyOriginLineArrConc={t:"long",v:R[4]}};u.oZ.ab9=function(x){function R(I,y){return Math.abs(I-y)<.5}function T(I,y){return R(I.x,y.x)&&R(I.y,y.y)}function c(I,y,r,h,k,K,H){for(var z=0;
z<H;z++){var p=I[y+(r+z)%H],f=h[k+(K+z)%H];if(!(T(p.L,f.L)&&T(p.YA,f.YA)&&T(p.VV,f.VV)))return!1}return!0}var g=[];
for(var d=0;d<x.length;d++){var N=x[d],J=null;if(N.type!=0&&N.type!=3||N.AC==-1)continue;var l=d;if(N.length==4||N.length==8){var w=u.j.aim(x.slice(0,2).concat(x.slice(l,l+N.length+1)));
l=2;if(N.length==4){var s=u.j.Bc(w,l+1,4),o=s.x,V=s.y,a=o+s.m,O=V+s.e;if(s.Z()>4){if(u.j.Tl(w.slice(l-2,l+5)))J=u.oZ.Pe(2,[o,V,a,O],[0,0,0,0]);
else{var S=-1;for(var z=0;z<4;z++)if(R(w[l+1+z].L.y,O))S=z;if(S!=-1){var L=u.j.u1.mR(o,V,a-o,O-V),Q=c(w,l+1,S,L,3,0,4);
if(Q)J=u.oZ.Pe(5,[o,V,a,O])}}}}if(N.length==8){var s=u.j.Bc(w,l+1,8),o=s.x,V=s.y,a=o+s.m,O=V+s.e;if(s.Z()>4){var S=-1;
for(var z=0;z<8;z++)if(R(w[l+1+(z+1&7)].L.y,V)&&R(w[l+1+(z+2&7)].L.y,V))S=z;if(S!=-1){var b=Math.abs(w[l+1+S].L.y-V),Z=[b,b,b,b];
if(b>.5){var L=u.j.u1.Rect(o,V,a-o,O-V,Z),Q=c(w,l+1,S,L,3,0,8);if(Q)J=u.oZ.Pe(2,[o,V,a,O],Z)}}}}}g.push(J?J:u.oZ.uz())}return g};
u.M={};u.M.clone=function(x){return{G:x.G.slice(0),z:x.z.slice(0)}};u.M.adL=function(x){if(x.length<6)return!0;
var R=x.length-4;for(var z=0;z<R;z+=2)if(!u.M.QM(x[z],x[z+1],x[z+2],x[z+3],x[z+4],x[z+5]))return!1;if(!u.M.QM(x[R],x[R+1],x[R+2],x[R+3],x[0],x[1]))return!1;
if(!u.M.QM(x[R+2],x[R+3],x[0],x[1],x[2],x[3]))return!1;return!0};u.M.QM=function(x,R,T,c,g,d){return(R-c)*(g-T)+(T-x)*(d-c)>=0};
u.M.GS=function(x){var R={},T=null,c=0,g={M:2,L:2,Q:4,C:6},d="",U="";for(var z=0;z<x.G.length;z++){var e=x.G[z];
if(e[0]=="#")d=e;else if(e[0]=="X")d="";else if(e[0]=="O"&&e[1]=="-")U=e;else if(e=="OX")U="";else{var N=d+U;
T=R[N];if(T==null)T=R[N]={z:[],G:[]};T.G.push(e);var l=g[e];if(l==null)l=0;for(var J=0;J<l;J++)T.z.push(x.z[c+J]);
c+=l}}return R};u.M.abz=function(x,R,T){var c=x[R]-x[T-2],g=x[R+1]-x[T-1];return c*c+g*g<1e-4};u.M.gj=function(x,R,T){x=u.M.uS(x);
var c=x.z,g=x.G,d=0,U="",e=0,N=0,d=0,w=null;for(var z=0;z<g.length;z++){var l=g[z];if(l=="M"){e=c[d];
N=c[d+1];d+=2;U=l}if(l=="C"){if(U=="Z"){g.splice(z,0,"M");c.splice(d,0,e,N);z--;continue}d+=6;U=l}if(l=="Z"){U=l}}var J=[];
d=0;for(var z=0;z<g.length;z++){var l=g[z];if(l=="M"){w={_l:d,Mi:0,dC:!1};J.push(w);d+=2}if(l=="C"){w.Mi++;
d+=6}if(l=="Z"&&w!=null){w.dC=!0}}var s=[];for(var z=0;z<J.length;z++)if(J[z].Mi!=0)s.push(J[z]);J=s;
for(var z=0;z<J.length;z++){var o=J[z],V=o._l,a=V+2+o.Mi*6,S=0;o.Uc=u.M.QK(c,V,a);var O=u.M.abz(c,V,a);
for(var L=0;L<o.Mi;L++){var Q=V+L*6,b=Q+6;S+=(c[b]-c[Q])*(c[b+1]+c[Q+1])}if(o.Mi==2){var Z=function(t,q,m){var iE=1-m;
return iE*iE*iE*t[q]+3*iE*iE*m*t[q+2]+3*iE*m*m*t[q+4]+m*m*m*t[q+6]},I=c[V],y=c[V+1],r=c[V+6],h=c[V+7],k=c[V+6],K=c[V+7],H=Z(c,V,.5),p=Z(c,V+1,.5),f=Z(c,V+6,.5),A=Z(c,V+7,.5);
S=(H-I)*(p-y)+(r-H)*(h-p)+(f-r)*(A-h)+(k-f)*(K-A)}if(!O)S+=(c[V]-c[a-2])*(c[V+1]+c[a-1]);o.dE=S<=0}for(var z=0;
z<J.length-1;z++)for(var Q=z+1;Q<J.length;Q++){var _=J[z],W=J[Q];if(W.Uc.Ae(_.Uc)){J[z]=W;J[Q]=_}}var Y=J.length==0?!0:J[0].dE,G=[{type:6},{type:8,all:0}];
for(var z=0;z<J.length;z++){var o=J[z],V=o._l,a=V+2+o.Mi*6,O=u.M.abz(c,V,a);if(o.Mi==1)O=!1;var i=o.dC||O?0:3,E=o.dE==Y&&!R?1:0;
if(!R&&z!=0){if(J[z-1].Uc.Ae(o.Uc)&&J[z-1].dE!=o.dE)E=0;for(var Q=0;Q<J.length;Q++)if(Q!=z&&J[Q].Uc.Ae(o.Uc))E=0}G.push({type:i,length:o.Mi+(O?0:1),AC:T?1:E,$e:2});
for(var Q=0;Q<o.Mi;Q++){var d=V+Q*6,$=new cI(c[d],c[d+1]),C=new cI(c[d+2],c[d+3]),B;if(Q==0){if(O){B=new cI(c[a-4],c[a-3]);
if(cI.rE(B,$)<1e-5)B=$.clone()}else B=$.clone()}else B=new cI(c[d-2],c[d-1]);G.push({type:i+2,YA:B,L:$,VV:C})}if(!O){var M=new cI(c[a-2],c[a-1]);
G.push({type:i+2,YA:new cI(c[a-4],c[a-3]),L:M,VV:M.clone()})}}for(var Q=0;Q<G.length;Q++){var j=G[Q];
if(j.type>5||j.type==0||j.type==3)continue;var P=j.YA.X$(j.L)||j.VV.X$(j.VV);if(!P){var _=j.YA.x*(j.L.y-j.VV.y)+j.L.x*(j.VV.y-j.YA.y)+j.VV.x*(j.YA.y-j.L.y);
if(Math.abs(_)<1e-6)P=!0}if(P)j.type--}return G};u.M.Ju=function(x,R){var T=u.j.fc(x),c=[];for(var z=2;
z<x.length;z++){var g=x[z].AC;if(g!=null){if(g==2||g==0||g==3||g==-1)c.push(g)}}var d=c.length!=0;if((d||R)&&x.length<15e3&&1<T&&T<200)x=u.j.yJ(x);
var U=u.M.td(x);return{wP:U,HL:d?1:0}};u.M.td=function(){function x(c,g,d,U){if(U!=2&&c.VV.X$(c.L)&&g.YA.X$(g.L)){d.z.push(g.L.x,g.L.y);
d.G.push("L")}else{var e=c.L,N=c.VV,l=g.YA,J=g.L,w=3/2*N.x-1/2*e.x,s=3/2*N.y-1/2*e.y,o=3/2*l.x-1/2*J.x,V=3/2*l.y-1/2*J.y,a=o-w,O=V-s;
if(U==0&&a*a+O*O<.001){d.z.push((w+o)*.5,(s+V)*.5,J.x,J.y);d.G.push("Q")}else{d.z.push(N.x,N.y,l.x,l.y,J.x,J.y);
d.G.push("C")}}}function R(c,g,z,d,U,e){var N=g[z];c.z.push(N.L.x,N.L.y);c.G.push("M");for(var l=z;l<z+d-1;
l++)x(g[l],g[l+1],c,e);if(!U)x(g[l],g[z],c,e)}function T(c,g){if(g==null)g=0;var d={z:[],G:[]};for(var z=0;
z<c.length;z++){if(c[z].type>5)continue;var U=c[z].length;if(U==0)continue;if(z==c.length-1)break;var e=c[z].type==3;
R(d,c,z+1,U,e,g);if(!e)d.G.push("Z");z+=U}return d}return T}();u.M.ahg=function(x){var R=x.z,T=[],c,g=0;
for(var z=0;z<x.G.length;z++){var d=x.G[z];if(d=="C"){c.push(R[g++],R[g++],R[g++],R[g++],R[g++],R[g++])}else if(d=="Z"){}else{c=[];
if(d!="M"){c.push(d);z++}c.push(R[g++],R[g++]);T.push(c)}}return T};u.M.WL=function(x,R,T,c){if(c==null)c=1e9;
var g=1e9,d=0;for(var z=0;z<x.length;z+=2){var U=R-x[z],e=T-x[z+1],N=U*U+e*e;if(N<g){g=N;d=z>>>1}}return g<c*c?d:-1};
u.M.BN=function(x,R,T,c){for(var z=0;z<x.length;z+=2){var g=x[z],d=x[z+1],U=R[z],e=R[z+1];T[z]=g+(U-g)*c;
T[z+1]=d+(e-d)*c}};u.M.i=function(x,R,T){for(var z=0;z<x.length;z+=2){var c=x[z],g=x[z+1];T[z]=c*R.Y+g*R.zI+R.a4;
T[z+1]=c*R.J+g*R.jR+R.rY}};u.M.QK=function(x,R,T){if(R==null)R=0;if(T==null)T=x.length;var c=99999999999,g=-c,d=99999999999,U=-d;
for(var z=R;z<T;z+=2){var e=x[z],N=x[z+1];c=Math.min(c,e);d=Math.min(d,N);g=Math.max(g,e);U=Math.max(U,N)}return new aP(c,d,g-c,U-d)};
u.M.abk=function(x,R){var T=Math.max(R.x,Math.min(R.x+R.m,x.x)),c=Math.max(R.y,Math.min(R.y+R.e,x.y)),g=x.x-T,d=x.y-c;
return Math.sqrt(g*g+d*d)};u.M.cJ=function(x,R){var T=Math.floor,c=Math.ceil;if(R){T=Math.ceil;c=Math.floor}var g=T(x.x),d=c(x.x+x.m),U=T(x.y),e=c(x.y+x.e);
return new aP(g,U,d-g,e-U)};u.M.CC=function(x,R){return u.M.cJ(u.M.QK(x),R)};u.M.$x=function(x,R){var T=x.x,c=x.y,g=x.x+x.m,d=x.y+x.e,U=[T,c,g,c,g,d,T,d];
if(R){var e=R.clone();e.F0();u.M.i(U,e,U)}return{G:["M","L","L","L","Z"],z:U}};u.M.concat=function(x,R,T){if(T==null)T=new gP;
for(var z=0;z<R.z.length;z+=2){var c=R.z[z],g=R.z[z+1];x.z.push(c*T.Y+g*T.zI+T.a4);x.z.push(c*T.J+g*T.jR+T.rY)}for(var z=0;
z<R.G.length;z++)x.G.push(R.G[z])};u.M.ayU=function(x,R,T,c,g){function d(s,o,V){return new cI(s.x*(1-V)+o.x*V,s.y*(1-V)+o.y*V)}var U=d(x,R,g),e=d(T,c,g),N=d(R,T,g),l=d(U,N,g),J=d(N,e,g),w=d(l,J,g);
return[U,l,w,J,e]};u.M.uS=function(x){var R=x.z,T=[],c=[],g=0,d=0,U=0,e=0,N=0,l=0,J=0,w=0,s=0,o=0,V=0;
for(var z=0;z<x.G.length;z++){var a=x.G[z];if(a=="M"){d=R[g];U=R[g+1];g+=2;c.push(a);T.push(d,U);o=d;
V=U}else if(a=="C"){e=R[g];N=R[g+1];l=R[g+2];J=R[g+3];w=R[g+4];s=R[g+5];g+=6;c.push(a);T.push(e,N,l,J,w,s);
d=w;U=s}else if(a=="Q"){e=R[g];N=R[g+1];l=R[g+2];J=R[g+3];g+=4;var O=e-d,S=N-U,L=l-e,Q=J-N;c.push("C");
T.push(d+2/3*O,U+2/3*S,e+1/3*L,N+1/3*Q,l,J);d=l;U=J}else if(a=="L"){e=R[g];N=R[g+1];g+=2;if(e!=d||N!=U){c.push("C");
T.push(d,U,e,N,e,N);d=e;U=N}}else{if(a=="Z"){d=o;U=V}c.push(a)}}return{G:c,z:T}};u.M.aB7=function(x){var R=x.z,T=[],c=[],g=0;
for(var z=0;z<x.G.length;z++){var d=x.G[z];if(d=="Q"){var U=R[g-2],e=R[g-1],N=R[g],l=R[g+1],J=R[g+2],w=R[g+3];
g+=4;var s=N-U,o=l-e,V=J-N,a=w-l;c.push("C");T.push(U+2/3*s,e+2/3*o,N+1/3*V,l+1/3*a,J,w)}else{var O=0;
if(d=="M"||d=="L")O=2;else if(d=="C")O=6;for(var S=0;S<O;S++)T.push(R[g+S]);g+=O;c.push(d)}}return{G:c,z:T}};
u.M.RN=function(x,R){var T=x.z,c=[],g=[],d=0,U=0,e=0,N=0,l=0,J=0,w=0,s=0,o=0;for(var z=0;z<x.G.length;
z++){var V=x.G[z];if(V=="M"){U=T[d];e=T[d+1];d+=2;g.push(V);c.push(U,e)}else if(V=="C"){N=T[d];l=T[d+1];
J=T[d+2];w=T[d+3];s=T[d+4];o=T[d+5];d+=6;u.M.yA(U,e,N,l,J,w,s,o,R,g,c,0);U=s;e=o}else g.push(V)}return{G:g,z:c}};
u.M.yA=function(x,R,T,c,g,d,U,e,N,l,J,w){var s=Math.sqrt((U-x)*(U-x)+(e-R)*(e-R)),o=Math.sqrt((U-g)*(U-g)+(e-d)*(e-d))+Math.sqrt((g-T)*(g-T)+(d-c)*(d-c))+Math.sqrt((T-x)*(T-x)+(c-R)*(c-R)),V=(s+o)/2;
if(V<=N){l.push("C");J.push(T,c,g,d,U,e)}else{var a=0,O=0,S=0,L=0,Q=0,b=0,Z=0,I=0,y=0,r=0,h=0,k=0,K=0;
O=(x+T)/2;S=(R+c)/2;L=(T+g)/2;Q=(c+d)/2;b=(g+U)/2;Z=(d+e)/2;I=(O+L)/2;y=(S+Q)/2;r=(L+b)/2;h=(Q+Z)/2;
k=(I+r)/2;K=(y+h)/2;u.M.yA(x,R,O,S,I,y,k,K,N,l,J,w+1);u.M.yA(k,K,r,h,b,Z,U,e,N,l,J,w+1)}};u.M.arI=function(x,R,T,c,g){var d=Date.now(),U=u.M.aaZ(x,R,T);
if(g){console.log("trace polygons",Date.now()-d);d=Date.now()}var e=[];for(var z=0;z<U.length;z++){var N=U[z],l=N[0],J=["M"],w=x[l[1]*R+l[0]];
if(l.length>8)l=u.M.a6y(l,c,N[1]);if(l.length<=4)continue;for(var s=2;s<l.length;s+=2)J.push("L");J.push("Z");
e.push({path:{z:l,G:J},color:w,parent:-1,Uc:u.M.QK(l)})}if(g){console.log("simplify polygons",Date.now()-d);
d=Date.now()}for(var z=1;z<e.length;z++){var o=e[z],V=o.path.z,a=V[0],O=V[1],S=V[2],L=V[3],Q=S-a,b=L-O,Z=a+.5*Q-.001*b,I=O+.5*b+.001*Q;
for(var s=z-1;s>=0;s--){var y=e[s];if(!y.Uc.Ae(o.Uc))continue;if(!bd.vb(y.path.z,Z,I))continue;o.parent=s;
break}}if(g){console.log("checking parents",Date.now()-d);d=Date.now()}return e};u.M.aaZ=function(x,R,T){var c=R*T,g=new Uint16Array(R*T),U=0;
for(var z=0;z<c;z++)g[z]=x[z];var d=new Uint8Array(R*T);d[1*R+1]=d[(T-1)*R+1]=d[1*R+R-1]=d[(T-1)*R+R-1]=1;
for(var e=1;e<T;e++)for(var N=1;N<R;N++){var z=e*R+N,l=g[z-R-1],J=g[z-R],w=g[z-1],s=g[z],o=l==s&&J==w&&l!=J,V=0;
if(s<w){U=s;s=w;w=U}if(w<J){U=w;w=J;J=U}if(J<l){U=J;J=l;l=U}if(s<w){U=s;s=w;w=U}if(w<J){U=w;w=J;J=U}if(s<w){U=s;
s=w;w=U}if(l!=J)V++;if(J!=w)V++;if(w!=s)V++;if(s!=l)V++;if(V>=3||o)d[z]=1}var a=[];for(var e=1;e<T;e++)for(var N=1;
N<R;N++){var z=e*R+N;if(g[z]!=g[z-1]){var O=u.M.agl(g,R,T,N,e),S=[];for(var L=0;L<O.length;L+=2)if(d[O[L+1]*R+O[L]]==1)S.push(L>>>1);
a.push([O,S]);u.M.op(g,R,T,N,e)}}return a};u.M.op=function(x,R,T,c,g){var d=[g*R+c],U=x[g*R+c];x[g*R+c]=65535;
while(d.length!=0){var z=d.pop();x[z]=0;if(x[z+R]==U){d.push(z+R);x[z+R]=65535}if(x[z-R]==U){d.push(z-R);
x[z-R]=65535}if(x[z-1]==U){d.push(z-1);x[z-1]=65535}if(x[z+1]==U){d.push(z+1);x[z+1]=65535}}};u.M.agl=function(x,R,T,c,g){var d=[0,-1,1,0,0,1,-1,0],J=1;
function U(s,o,J){var z=l*R+N,V=0;if(J==0)V=z-R;else if(J==1)V=z;else if(J==2)V=z-1;else if(J==3)V=z-R-1;
return x[V]}var e=[],N=c,l=g,w=U(N,l,J);do{e.push(N,l);N+=d[J*2];l+=d[J*2+1];if(U(N,l,J)!=w)J=J+1&3;
else if(U(N,l,J+3&3)!=w)J=J;else if(U(N,l,J+2&3)!=w)J=J+3&3}while(N!=c||l!=g);return e};u.M.a6y=function(x,R,T){var c=x.length-2;
if(T&&T.length!=0){var g=T[0]*2,d=T[T.length-1]*2,U=g==0?c:g-2,e=x.slice(d);for(var z=0;z<g;z++)e.push(x[z]);
if(g==d)e.push(.9*x[g]+.1*x[U],.9*x[g+1]+.1*x[U+1]);else e.push(x[g],x[g+1]);e=u.M.y$(e,R);e.pop();e.pop();
for(var z=0;z<T.length-1;z++){var N=x.slice(T[z]*2,T[z+1]*2+2);N=u.M.y$(N,R);for(var l=0;l<N.length-2;
l++)e.push(N[l])}return e}var J=x.slice(0);J.push(.9*x[0]+.1*x[c],.9*x[1]+.1*x[c+1]);J=u.M.y$(J,R);J.pop();
J.pop();return J};u.M.y$=function(x,R){var T=x.length-2,c=x[0],g=x[1],d=x[T],U=x[T+1],e=d-c,N=U-g,l=1/Math.sqrt(e*e+N*N),J=d*g-U*c,w=-1,s=-1,o=0;
for(var z=2;z<T;z+=2){var V=x[z],a=x[z+1],O=a*a*1e6+V*V,S=Math.abs(N*V-e*a+J)*l;if(S>s||S==s&&O>o){s=S;
w=z;o=O}}if(s<R)return[c,g,d,U];var L=u.M.y$(x.slice(0,w+2),R),Q=u.M.y$(x.slice(w),R);for(var z=2;z<Q.length;
z++)L.push(Q[z]);return L};u.M.ak4=function(){var x=function(c,g,d,U,e,N){return(g-U)*(e-d)+(d-c)*(N-U)>=0},R=function(c,g,d,U,e,N,l,J){var w=l-d,s=J-U,o=e-d,V=N-U,a=c-d,O=g-U,S=w*w+s*s,L=w*o+s*V,Q=w*a+s*O,b=o*o+V*V,Z=o*a+V*O,I=1/(S*b-L*L),y=(b*Q-L*Z)*I,r=(S*Z-L*Q)*I;
return y>=0&&r>=0&&y+r<1},T=function(c){var cg=c.length>>>1,z=0;if(cg<3)return[];var g=[],d=[];for(var z=0;
z<cg;z++)d.push(z);var U=cg;while(U>3){var e=d[(z+0)%U],N=d[(z+1)%U],l=d[(z+2)%U],J=c[2*e],w=c[2*e+1],s=c[2*N],o=c[2*N+1],V=c[2*l],a=c[2*l+1],O=!1;
if(x(J,w,s,o,V,a)){O=!0;for(var S=0;S<U;S++){var L=d[S];if(L==e||L==N||L==l)continue;if(R(c[2*L],c[2*L+1],J,w,s,o,V,a)){O=!1;
break}}}if(O){g.push(e,N,l);d.splice((z+1)%U,1);U--;z=0}else if(z++>3*U)break}g.push(d[0],d[1],d[2]);
return g};return T}();u.M.a4i=function(x,R){var T={},c={G:[],z:[]};for(var z=0;z<R.length;z+=3){var g=R[z]*2,d=R[z+1]*2,U=R[z+2]*2;
u.M.sT(x,g,d,c,T);u.M.sT(x,g,U,c,T);u.M.sT(x,d,U,c,T)}return c};u.M.sT=function(x,R,T,c,g){if(R>T){var d=T;
T=R;R=d}if(g[R+","+T])return;g[R+","+T]=!0;c.G.push("M","L");c.z.push(x[R],x[R+1],x[T],x[T+1])};u.M.awN=function(x,R){var T=[],c=x.length;
for(var z=0;z<c;z+=2){var g=x[z],d=x[z+1],U=x[(z+2)%c],e=x[(z+3)%c];if(e<d){var N=d;d=e;e=N}if(d<R&&R<e){var l=(R-d)/(e-d);
T.push(g+l*(U-g))}}T.sort(function(J,w){return J-w});return T};u.M.a9u=function(x,R,T,c,g,d,U){var e=x-T,N=R-c,l=g-T,J=d-c,w=1/Math.sqrt(e*e+N*N),s=1/Math.sqrt(l*l+J*J),o=e*w,V=N*w,a=l*s,O=J*s,S=V*U,L=-o*U,Q=-O*U,b=a*U,Z=u.M.N9(S,L,o,V,Q,b,a,O),I=S+o*Z,y=L+V*Z,Z=u.M.N9(0,0,o,V,I,y,-V,o),r=o*Z,h=V*Z;
return[Math.sqrt(r*r+h*h),o,V,a,O]};u.M.a9k=function(x,R,T,c,g,d,U){var e=u.M.a9u(x,R,T,c,g,d,U),N=e[0],l=e[1],J=e[2],w=e[3],s=e[4],o=Math.atan2(l*s-J*w,l*w+J*s);
if(o<0){o=o*-1}var V=Math.PI-o,a=4/3*Math.tan(V/4),O=T+N*l,S=c+N*J,L=T+N*w,Q=c+N*s,b=O+a*U*-l,Z=S+a*U*-J,I=L+a*U*-w,y=Q+a*U*-s;
return[0,0,O,S,b,Z,I,y,L,Q]};u.M.N9=function(x,R,T,c,g,d,U,e){var N=U*(R-d)-e*(x-g),l=e*T-U*c;if(l==0)return 0;
return N/l};u.M.io=function(x,R,T,c,g,d){return x*(c-d)+T*(d-R)+g*(R-c)};u.M.a9E=function(x){function R(f,A,_,W,Y,G,i,E,$){var C=u.M.N9(f,A,_,W,Y,G,i,E);
$.push(f+_*C,A+W*C)}var T=[],c=x.length,g=[];for(var z=0;z<c;z+=2){var d=z==0?c-2:z-2,U=z==c-2?0:z+2,e=x[z],N=x[z+1],l=e-x[d],J=N-x[d+1],w=x[U]-e,s=x[U+1]-N,o=Math.sqrt(l*l+J*J),V=Math.sqrt(w*w+s*s);
g.push(V);var a=o/(o+V),O=e-l*.5,S=N-J*.5,L=e+w*.5,Q=N+s*.5,b=(x[U]+x[d])*.5,Z=(x[U+1]+x[d+1])*.5,I=O+a*(L-O),y=S+a*(Q-S),r=e-I,h=N-y,k=(w*-l+s*-J)/(o*V),K=(a-.5)*7,H=1+K*a,p=1-K*(1-a);
T.push(O+r*H,S+h*H,L+r*p,Q+h*p)}return T};u.El=function(){};u.El.xB=function(x,R,T,c,g){var d=T.m,U=T.e,e=d*U,N=new Int32Array(e),cg=0;
for(var z=0;z<e;z++)if(R[z]!=0){N[z]=cg;cg++}else if(x[(z<<2)+3]<200){N[z]=-2}else N[z]=-1;if(cg==0)return;
var l=new u.BO(cg,cg),J=new Array(3*cg),w=new Array(3*cg);for(var z=0;z<w.length;z++)w[z]=J[z]=0;var s=1/255,o=[-d,-1,1,d],V=[],a=[];
for(var O=0;O<U;O++)for(var S=0;S<d;S++){var L=O*d+S,Q=L<<2,z=N[L],b=z*3,Z=0,I=0,y=0;if(z==-1||z==-2)continue;
for(var r=0;r<4;r++){if(r==2){I=y;V[y]=0;a[y]=z;y++}var h=L+o[r],k=h<<2,K=N[h];if(r==0&&O==0||r==1&&S==0||r==2&&S==d-1||r==3&&O==U-1||K==-2)continue;
Z++;if(K==-1){J[b+0]+=x[k+0];J[b+1]+=x[k+1];J[b+2]+=x[k+2]}else{V[y]=-1;a[y]=K;y++;if(R[L]==R[h]){J[b+0]+=x[Q+0]-x[k+0];
J[b+1]+=x[Q+1]-x[k+1];J[b+2]+=x[Q+2]-x[k+2]}}}V[I]=Z;l.FI(V,a,y)}for(var z=0;z<e;z++)if(N[z]!=-1){var H=z<<2,p=N[z],f=p*3;
w[f]=x[H+0];w[f+1]=x[H+1];w[f+2]=x[H+2]}var A=Date.now();l.a7$(w,J,c,g);console.log(Date.now()-A);for(var z=0;
z<e;z++){var p=N[z],_=p*3,H=z<<2;if(p==-1||x[H+3]!=255)continue;x[H+0]=~~(.5+Math.max(0,Math.min(255,w[_+0])));
x[H+1]=~~(.5+Math.max(0,Math.min(255,w[_+1])));x[H+2]=~~(.5+Math.max(0,Math.min(255,w[_+2])))}};u.rect={};
u.rect.a6N=function(x,R){var T=[x],c=[];for(var z=0;z<R.length;z++){var g=R[z],d=!1;for(var U=z+1;U<R.length;
U++){var e=R[U];if(e[0]<=g[0]&&e[1]<=g[1]&&g[2]<=e[2]&&g[3]<=e[3]){d=!0;break}}if(!d)c.push(g)}R=c;for(var z=0;
z<R.length;z++){var g=R[z];for(var U=0;U<T.length;U++){var e=T[U],N=Math.max(g[0],e[0]),l=Math.min(g[2],e[2]),J=Math.max(g[1],e[1]),w=Math.min(g[3],e[3]);
if(N<l&&J<w){var s=[];if(e[1]<g[1]){var o=e.slice(0);o[3]=g[1];s.push(o)}if(e[0]<g[0]){var V=e.slice(0);
V[1]=J;V[2]=g[0];s.push(V)}if(g[2]<e[2]){var a=e.slice(0);a[1]=J;a[0]=g[2];s.push(a)}if(g[3]<e[3]){var O=[N,w,l,e[3]];
s.push(O)}if(s.length!=0){T[U]=s[0];for(var S=1;S<s.length;S++)T.push(s[S])}}}T.push(g);T=u.rect.a4e(T)}T.sort(function(g,e){return g[1]!=e[1]?g[1]-e[1]:g[0]-e[0]});
for(var z=1;z<T.length;z++){var g=T[z-1],e=T[z];if(g[0]==e[0]&&g[1]==e[1]&&g[2]==e[2]&&g[3]==e[3]){T.splice(g[4]==null?z-1:z,1);
z--}}return T};u.rect.a4e=function(x){x=x.slice(0);for(var z=0;z<x.length;z++){var R=x[z],T=null;if(R[4]!=null)continue;
for(var c=0;c<x.length;c++){var g=x[c];if(z==c||g[4]!=null)continue;var d=R[0]==g[0],U=R[1]==g[1],e=R[2]==g[2],N=R[3]==g[3];
if(U&&N&&(R[2]==g[0]||R[0]==g[2])){T=[Math.min(R[0],g[0]),R[1],Math.max(R[2],g[2]),R[3]]}if(d&&e&&(R[3]==g[1]||R[1]==g[3])){T=[R[0],Math.min(R[1],g[1]),R[2],Math.max(R[3],g[3])]}if(T){x[z]=T;
x.splice(c,1);break}}if(T){z--}}return x};u.rect.Fh=function(x){var R=new aP;for(var z=0;z<x.length;
z++)R=R.y8(x[z]);return R};u.rect.ao0=function(x,R){var T=u.rect.Fh,c=new UnionFind(x.length),I=1e3,y=1e3;
for(var z=0;z<x.length;z++)for(var g=z+1;g<x.length;g++){if(!R)continue;var d=x[z],U=x[g],w=1e9,s=1e9;
if(d.fg(U)){c.link(z,g);continue}var e=d.x+d.m,N=d.y+d.e,l=U.x+U.m,J=U.y+U.e;if((e<U.x||l<d.x)&&(N<U.y||J<d.y))continue;
if(!(N<U.y||J<d.y))w=Math.min(Math.abs(e-U.x),Math.abs(d.x-l));if(!(e<U.x||l<d.x))s=Math.min(Math.abs(N-U.y),Math.abs(d.y-J));
var o=Math.min(w,s),V=Math.min(d.m,d.e,U.m,U.e);if(o<.3*V)c.link(z,g)}var a=[],O={};for(var z=0;z<x.length;
z++){var S=c.find(z),L=x[z];if(O[S]==null){O[S]=a.length;a.push([])}a[O[S]].push(L)}var Q=[],b=[];for(var z=0;
z<a.length;z++){Q.push(T(a[z]));var Z=T(a[z]);Z._8=z;b.push(Z)}b.sort(function(W,Y){return Math.max(Y.e,Y.m)-Math.max(W.e,W.m)});
var r=new NETXUS.RectanglePacker(I,y);while(!0){var h=!1;r.reset(I,y);for(var z=0;z<b.length;z++){var k=r.findCoords(b[z].m,b[z].e);
if(k){b[z].x=k.x;b[z].y=k.y}else{I=Math.floor(I*1.1);y=Math.floor(y*1.1);h=!0;break}}if(h)continue;break}for(var z=0;
z<a.length;z++){var K=b[z],H=K._8,p=Q[H],f=a[H],A=K.x-p.x,_=K.y-p.y;for(var g=0;g<f.length;g++)f[g].offset(A,_)}};
u.A8=function(){};u.A8.Tb=Math.floor(16*window.devicePixelRatio);u.A8.ti={};u.A8.sW=0;u.A8.zK=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
u.A8.a5G=["px","in","cm","mm","%"];u.A8.B2=function(x,R,T,c){var g=[1,R,R/2.54,R/25.4,T/100][c];return x*g};
u.A8.axw=function(x,R,T,c){var g=[1,R,R/2.54,R/25.4,T/100][c];return x/g};u.A8.tN=function(x,R,T,c,g){var d=T.j3.Zg,U=[1,R,R/2.54,R/25.4,c/100][d],e=[2,3,2,1,2][d];
x=x/U;var N=Math.round(x),l=d==0&&Math.abs(x-N)<1e-6?N+"":x.toFixed(e);if(g)l+=" "+u.A8.a5G[d];return l};
u.A8.aiC=function(x,R,T,c){var g=T.j3.Zg,d=[1,R,R/2.54,R/25.4,c/100][g];x=parseFloat(x)*d;return x};
u.A8.afS=function(x,R){var T=x+","+R;if(u.A8.ti.clr==T)return;var c=Math.round(u.A8.Tb*.5);u.A8.sW=c;
var g=u._e(c,c);g.save();g.font=c*1.5+"px monospace";var d="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var z=0;
z<d.length;z++){g.fillStyle="#"+u.TN(R);g.fillRect(0,0,c,c);g.fillStyle="#"+u.TN(x);g.fillText(d[z],0,c);
u.A8.ti[d[z]]=new Uint8Array(g.getImageData(0,0,c,c).data.buffer)}u.A8.ti.clr=T;g.restore()};u.A8.ab7=function(x,R,T){var c=0,g=0,d=4*u.A8.Tb;
for(var z=9;z>=0;z--){var U=Math.pow(10,z);if(5*U*x<=d){c=5*U;g=10;break}if(2*U*x<=d){c=2*U;g=4;break}if(1*U*x<=d){c=1*U;
g=10;break}}if(c==0){c=1;g=10}var e=Math.ceil(c*x),N=u.B(e*u.A8.Tb*4);u.Qu(N,4278190080|T);for(var z=0;
z<u.A8.Tb;z++)u.A8.mo(N,4*z*e,R);for(var z=0;z<e;z++)u.A8.mo(N,4*((u.A8.Tb-1)*e+z),R);if(c==2)g=2;if(c==5)g=5;
if(c>1||c==1&&e>20)for(var z=1;z<g;z++)u.A8.a46(N,z*(e/g),e,(z&1)==1?.8:.7,R);return{fR:N,step:c}};u.A8.a46=function(x,R,T,c,g){var R=Math.round(R);
for(var d=Math.round(u.A8.Tb*c);d<u.A8.Tb-1;d++)u.A8.mo(x,4*(d*T+R),g)};u.A8.mo=function(x,R,T){x[R+0]=T>>16&255;
x[R+1]=T>>8&255;x[R+2]=T&255};u.A8.aj7=function(x,R,T,c,g,d,U){var e=x.dz.m,N=x.dz.e,l=u.A8.Tb,J=R&255,w=R>>8&255,s=R>>16&255;
R=Math.round(J*.6)<<16|Math.round(w*.6)<<8|Math.round(s*.6);u.A8.afS(Math.round(J*.8)<<16|Math.round(w*.8)<<8|Math.round(s*.8),T);
var o=x.O,V=x.w,a=x.Hh;for(var O=0;O<2;O++){var S=O==0?d:U;x.O=S[0];x.w=S[1];x.Hh=0;var L=this.ab7(x.O,R,T),Q=x.nU(0,0),b=x.nU(e,N),Z=Math.floor(Q.x/L.step)*L.step,I=Math.ceil(b.x/L.step)*L.step,y=Math.floor(Q.y/L.step)*L.step,r=Math.ceil(b.y/L.step)*L.step,h=x.YP(Z,y),k=x.YP(I,y),K=L.step*x.O,H=Math.ceil(K);
if(O==1){var p=L.fR;L.fR=u.B(p.length*4);u.D.xZ(p,L.fR,H,l)}var f=O==0?x.te.data:x.LN.data,A=new aP(0,0,[e,l][O],[l,N][O]),_=new aP(0,0,[H,l][O],[l,H][O]),W=new aP([0,Math.round(l*.2)][O],[Math.round(l*.08),0][O],u.A8.sW,u.A8.sW),Y=(O==0?I-Z:r-y)/L.step;
for(var z=0;z<Y;z++){if(O==0)_.x=Math.round(h.x+z*K);else _.y=Math.round(h.y+z*K);u.yU(L.fR,_,f,A,_);
var G=(O==0?Z+z*L.step:Math.abs(y+z*L.step)).toString(10);for(var i=0;i<G.length;i++){if(O==0)W.x=_.x+3+i*Math.round(u.A8.sW*.8);
else W.y=_.y+3+i*Math.round(u.A8.sW*1.15);var E=u.A8.ti[G[i]];u.yU(E,W,f,A,W)}}}x.O=o;x.w=V;x.Hh=a;var $=Math.floor(l*.6),C=new Uint32Array(x.te.data.buffer),B=new Uint32Array(x.LN.data.buffer),M=J<128?4278190080:4294967295;
if(0<c&&c<e)for(var z=0;z<$;z++)C[z*e+c]=M;if(0<g&&g<N)for(var z=0;z<$;z++)B[g*l+z]=M};u.scale={};u.scale.V=document.createElement("canvas");
u.scale.xv=u.scale.V.getContext("2d");u.scale.Ms=function(x,R,T){var c=u.scale.V,g=u.scale.xv;c.width=R;
c.height=T;var d=new ImageData(new Uint8ClampedArray(x.buffer),R,T);g.putImageData(d,0,0);return g.createPattern(g.canvas,"repeat")};
u.scale.asr=function(x,R,T,c,g,d,U,e,N){var l=u.scale.aC7(x,T,c,g,d,U,e,N);if(R)R.set(l);return new Uint8Array(l.buffer)};
u.scale.aC7=function(x,R,T,c,g,d,U,e){var N=u._e(R,T);N.save();N.rect(0,0,R,T);N.translate(d,U);N.scale(c,g);
if(e!=null)N.rotate(-e);N.fillStyle=x;N.fill();N.restore();return new Uint8Array(N.getImageData(0,0,R,T).data.buffer)};
u.scale.i=function(x,R,T,c,g){var d=T.J==0&&T.zI==0,U=g.m,e=g.e,N=u.M.$x(R,T).z,l=u.M.CC(N,d).yx(g),J=l.x,w=l.y,s=J+l.m,o=w+l.e,V=~~R.x,a=~~R.y,O=~~R.m,S=~~R.e;
if(d)for(var L=w;L<o;L++){var Q=T.jR*(L+.5)+T.rY-a,b=~~Q*O;for(var Z=J;Z<s;Z++){var I=T.Y*(Z+.5)+T.a4-V;
c[L*U+Z]=x[b+~~I]}}else for(var L=w;L<o;L++)for(var Z=J;Z<s;Z++){var y=Z+.5,r=L+.5,I=T.Y*y+T.zI*r+T.a4-V,Q=T.J*y+T.jR*r+T.rY-a;
if(0<=I&&0<=Q&&I<O&&Q<S)c[L*U+Z]=x[~~Q*O+~~I]}};u.scale.amO=function(x,R,T,c,g,d){var U=new Uint32Array(x.buffer),e=new Uint32Array(c.buffer),N=g.m,l=g.e,J=u.M.$x(R,T).z,w=d?g:u.M.CC(J).yx(g),s=w.x,o=w.y,V=s+w.m,a=o+w.e,O=~~R.x,S=~~R.y,L=~~R.m,Q=~~R.e;
for(var b=o;b<a;b++)for(var Z=s;Z<V;Z++){var I=Z+.5,y=b+.5,r=T.Y*I+T.zI*y+T.a4-O,h=T.J*I+T.jR*y+T.rY-S;
if(d){r=((L<<10)+r)%L;h=((Q<<10)+h)%Q}if(0<=r&&0<=h&&r<L&&h<Q)e[b*N+Z]=U[~~h*L+~~r]}};u.scale.D1=function(x,R,T,c,g,d,U){if(U<1)u.scale.a8T(x,R,T,c,g,d,Math.round(1/U));
else u.scale.afU(x,R,T,c,g,d,U)};u.scale.y9=function(x,R,T,c,g,d,U,e){if(e)e=e.yx(new aP(0,0,R,T));x=new Uint32Array(x.buffer);
c=new Uint32Array(c.buffer);if(U<1)u.scale.av1(x,R,T,c,g,d,Math.round(1/U),e);else u.scale.a4l(x,R,T,c,g,d,U)};
u.scale.afU=function(x,R,T,c,g,d,U){for(var e=0;e<T;e++)for(var N=0;N<R;N++){var l=x[e*R+N],J=Math.min(U,g-N*U),w=Math.min(U,d-e*U);
for(var z=0;z<w;z++)for(var s=0;s<J;s++)c[(U*e+z)*g+U*N+s]=l}};u.scale.a8T=function(x,R,T,c,g,d,U){for(var e=0;
e<d;e++)for(var N=0;N<g;N++){var l=0,J=Math.min(U,R-N*U),w=Math.min(U,T-e*U);for(var z=0;z<w;z++)for(var s=0;
s<J;s++)l+=x[(U*e+z)*R+(U*N+s)];c[e*g+N]=Math.round(l/(J*w))}};u.scale.a4l=function(x,R,T,c,g,d,U){for(var e=0;
e<T;e++)for(var N=0;N<R;N++){var l=x[e*R+N],J=Math.min(U,g-N*U),w=Math.min(U,d-e*U);for(var z=0;z<w;
z++)for(var s=0;s<J;s++)c[(U*e+z)*g+U*N+s]=l}};u.scale.a7N=function(x,R,T){return(x>>>T&255)+(R>>>T&255)>>>1};
u.scale._L=function(x,R){var T=u.scale.a7N;return T(x,R,24)<<24|T(x,R,16)<<16|T(x,R,8)<<8|T(x,R,0)};
u.scale.awo=function(x,R,T,c,g,d){var U=new Uint32Array(x.buffer),e=new Uint32Array(c.buffer);for(var N=0;
N<T;N++){for(var l=0;l<R;l++){var J=N*R+l,w=U[J],s=w,o=w,V=w;if(l<R-1)s=u.scale._L(w,U[J+1]);if(N<T-1)o=u.scale._L(w,U[J+R]);
if(l<R-1&&N<T-1)V=u.scale._L(w,U[J+R+1]);var a=(N*g+l)*2;e[a]=w;e[a+1]=s;e[a+g]=o;e[a+g+1]=V}}if((g&1)==1)for(var N=0;
N<d;N++)e[N*g+g-1]=e[N*g+g-2];var O=g*(d-1);if((d&1)==1)for(var l=0;l<g;l++)e[O+l]=e[O-g+l]};u.scale.av1=function(x,R,T,c,g,d,U,e){var N=0,l=g,J=0,w=d;
if(e){N=Math.floor(e.x/U);l=Math.ceil((e.x+e.m)/U);J=Math.floor(e.y/U);w=Math.ceil((e.y+e.e)/U)}for(var s=J;
s<w;s++)for(var o=N;o<l;o++){var V=0,a=0,O=0,S=0,L=Math.min(U,R-o*U),Q=Math.min(U,T-s*U);for(var z=0;
z<Q;z++)for(var b=0;b<L;b++){var Z=x[(U*s+z)*R+U*o+b],I=Z>>>24;V+=I;a+=I*(Z>>>16&255);O+=I*(Z>>>8&255);
S+=I*(Z&255)}if(V!=0){var y=1/V;c[s*g+o]=V/(L*Q)<<24|a*y<<16|O*y<<8|S*y}else c[s*g+o]=0}};u.u=function(){function x(e,N,z){return(128&e[z-N-1]&e[z-N]&e[z-2]&e[z-1]&e[z+1]&e[z+N-1]&e[z+N])==0}function R(e,N,z){return(128&e[z-N-N]&e[z-N+1]&e[z+2]&e[z+N+1]&e[z+N+N])==0}function T(e,N,z){return(e[z-N]&e[z-1]&e[z+1]&e[z+N]&128)==0}function c(e,z){return(e[z]&128)!=0}function g(e,N,l,J){var z=0,w=l.m,s=l.e;
if(J)for(var o=0;o<s;o++)for(var V=0;V<w;V++){if(c(e,z)&&(V<2||o<2||V>w-3||o>s-3||((e[z-1]&128)==0||N[z-1]!=0)&&x(e,w,z)||R(e,w,z)))N[z]=255;
z++}else for(var o=0;o<s;o++)for(var V=0;V<w;V++){if(c(e,z)&&(V==0||o==0||V==w-1||o==s-1||T(e,w,z)))N[z]=255;
z++}}function d(e,N,l,J,w){var s=l.m,o=l.e,V=new Uint8Array(N.buffer),a=new Uint32Array(N.buffer);if(w)for(var O=2;
O<o-2;O++)for(var S=2;S<s-2;S++){var z=O*s+S;if(c(e,z)&&(((e[z-1]&128)==0||a[z-1]!=0)&&x(e,s,z)||R(e,s,z)))a[z]=J[(S+O&4)>>>2]}else for(var O=1;
O<o-1;O++)for(var S=1;S<s-1;S++){var z=O*s+S;if(c(e,z)&&T(e,s,z)){a[z]=J[(S+O&4)>>>2]}}}function U(e,N,l,J,w){var s=l.m,o=l.e,V=new Uint8Array(N.buffer),a=new Uint32Array(N.buffer),z=0;
if(J==1)for(var O=0;O<o;O++)for(var S=0;S<s;S++,z++){var L=e[z];a[z]=255-L>>>1<<24|255}else for(var O=0;
O<o;O++)for(var S=0;S<s;S++,z++){var L=e[z];a[z]=255<<24|(L<<16|L<<8|L)}}return{a8r:g,aCo:d,axO:U}}();
u.jY={};u.jY.EU=function(x,R,T){var c,g;if(T==0){c=x.rect.clone();g=u.jY.aaY}if(T==1){c=x.rect.y8(R.rect);
g=u.jY.y8}if(T==2){c=R.rect.clone();g=u.jY.a3v}if(T==3){c=x.rect.yx(R.rect);g=u.jY.yx}if(T==4){c=x.rect.y8(R.rect);
g=u.jY.amV}if(c.Y3())return null;var d=u.B(c.Z());u.gN(R.channel,R.rect,d,c);var U=u.B(c.Z());u.gN(x.channel,x.rect,U,c);
g(U,d,d);var e=u.Vn(d,c);if(e.Y3())return null;if(!e.X$(c)){var N=u.B(e.Z());u.gN(d,c,N,e);d=N;c=e}return{channel:d,rect:c}};
u.jY.aaY=function(x,R,T){for(var z=0;z<x.length;z++)T[z]=x[z]};u.jY.y8=function(x,R,T){for(var z=0;z<x.length;
z++)T[z]=Math.min(x[z]+R[z],255)};u.jY.a3v=function(x,R,T){for(var z=0;z<x.length;z++)T[z]=Math.max(R[z]-x[z],0)};
u.jY.yx=function(x,R,T){var c=1/255;for(var z=0;z<x.length;z++)T[z]=x[z]*R[z]*c};u.jY.amV=function(x,R,T){var c=1/255;
for(var z=0;z<x.length;z++)T[z]=Math.min(x[z]+R[z],255)-x[z]*R[z]*c};u.BO=function(x,R){this.H=[];this.n1=[0];
this.w2=[];this.gh=[];this.bj=[0];this.tT=[];this.Wf=[];this.rows=x;this.cols=R};u.BO.prototype.clone=function(){var x=this,R=x.rows,T=x.cols,c=new u.BO(R,T);
c.H=x.H.slice(0);c.n1=x.n1.slice(0);c.w2=x.w2.slice(0);c.gh=x.gh.slice(0);c.bj=x.bj.slice(0);c.tT=x.tT.slice(0);
c.Wf=x.Wf.slice(0);return c};u.BO.prototype.FI=function(x,R,T){var c=this.n1.length-1;for(var z=0;z<T;
z++){var g=x[z],d=R[z];this.H.push(g);this.w2.push(d);if(d==c){this.Wf.push(g==0?0:1/g)}else{this.gh.push(g);
this.tT.push(d)}}this.n1.push(this.H.length);this.bj.push(this.gh.length)};u.BO.prototype.kK=function(x,R){var T=this,c=T.rows,g=T.H,d=T.w2;
if(R==null)R=new Array(c);for(var z=0;z<c;z++){var U=T.n1[z],e=T.n1[z+1],N=0;while((e-U&3)!=0){N+=g[U]*x[d[U]];
U++}for(var l=U;l<e;l+=4)N+=g[l]*x[d[l]]+g[l+1]*x[d[l+1]]+g[l+2]*x[d[l+2]]+g[l+3]*x[d[l+3]];R[z]=N}return R};
u.BO.prototype.multiply=function(x){return this.xQ(x.xZ())};u.BO.prototype.xQ=function(x){var R=this,T=R.rows,c=R.cols,g=x.rows,d=new u.BO(T,g),U=R.w2,e=x.w2;
for(var z=0;z<T;z++){var N=[],l=[],J=R.n1[z],w=R.n1[z+1];for(var s=0;s<g;s++){var o=x.n1[s],V=x.n1[s+1],a=0,O=J,S=o;
while(O<w&&S<V){var L=Math.max(U[O],e[S]);while(O<w&&U[O]<L)O++;while(S<V&&e[S]<L)S++;if(O<w&&S<V&&U[O]==e[S])a+=R.H[O++]*x.H[S++]}if(a!=0){N.push(a);
l.push(s)}}d.FI(N,l,N.length)}return d};u.BO.prototype.xZ=function(){var x=this.rows,R=this.cols,T=[];
for(var z=0;z<R;z++)T.push([[],[]]);var c=this.H,g=this.n1,d=this.w2;for(var z=0;z<x;z++){var U=g[z],e=g[z+1];
for(var N=U;N<e;N++){var l=T[d[N]];l[0].push(c[N]);l[1].push(z)}}var J=new u.BO(R,x);for(var z=0;z<R;
z++)J.FI(T[z][0],T[z][1],T[z][1].length);return J};u.BO.prototype.DA=function(){var x=this.rows,R=this.cols,T=new Array(x),c=this.H,g=this.n1,d=this.w2;
for(var z=0;z<x;z++){var U=T[z]=new Array(R);for(var e=0;e<R;e++)U[e]=0;var N=g[z],l=g[z+1];for(var J=N;
J<l;J++)U[d[J]]=c[J]}return T};u.BO.prototype.sV=function(x,R,T,c,g){function d(y,R,r,h){var k=y.length;
for(var z=0;z<k;z++)h[z]=y[z]-R[z]*r}function U(y,R,r,h){var k=y.length,K=0;while((k-K&3)!=0){h[K]=y[K]+R[K]*r;
K++}for(var z=K;z<k;z+=4){h[z]=y[z]+R[z]*r;h[z+1]=y[z+1]+R[z+1]*r;h[z+2]=y[z+2]+R[z+2]*r;h[z+3]=y[z+3]+R[z+3]*r}}function e(y,R,r){var h=y.length;
for(var z=0;z<h;z++)r[z]=y[z]*R[z]}function N(y,R){var r=y.length,h=0,k=0;while((r-h&3)!=0){k+=y[h]*R[h];
h++}for(var z=h;z<r;z+=4)k+=y[z]*R[z]+y[z+1]*R[z+1]+y[z+2]*R[z+2]+y[z+3]*R[z+3];return k}var l=c!=null?2:1,J=Date.now(),w=0,s=this,o=x.slice(0),V=x.slice(0);
s.kK(x,V);d(R,V,1,o);var a=this.Wf;if(l==0){a=o.slice(0);a.fill(1)}var O=o.slice(0);e(a,o,O);var S=O.slice(0),L=N(o,O);
while(!0){s.kK(S,V);var Q=L/N(S,V);U(x,S,Q,x);d(o,V,Q,o);if((w&7)==0&&Math.sqrt(N(o,o))<T)break;if(l<=1)e(a,o,O);
else{var b=o.slice(0);c.alN(b,o);g.a6l(O,b)}var Z=N(o,O),I=Z/L;U(O,S,I,S);L=Z;w++}};u.BO.prototype.a19=function(x,R,T,c){var g=Date.now(),d=1.96,e=0;
if(T==null)T=5e-6;if(c==null)c=1e9;var U=1-d,cg=this.rows,N=this.gh,l=this.bj,J=this.tT,w=this.Wf;while(!0){var s=0;
for(var z=0;z<cg;z++){var o=R[z],V=l[z],a=l[z+1];if(a-V==4)o-=N[V]*x[J[V]]+N[V+1]*x[J[V+1]]+N[V+2]*x[J[V+2]]+N[V+3]*x[J[V+3]];
else for(var O=V;O<a;O++)o-=N[O]*x[J[O]];var S=x[z]*U+w[z]*o*d,L=S-x[z];s+=L*L;x[z]=S}if(s/cg<T||Date.now()>g+c)break}};
u.BO.prototype.a7$=function(x,R,T,c){var g=Date.now(),d=1.96,e=0;if(T==null)T=5e-5;if(c==null)c=1e9;
var U=1-d,cg=this.rows,N=this.gh,l=this.bj,J=this.tT,w=this.Wf;while(!0){var s=0;for(var z=0;z<cg;z++){var o=z*3,V=R[o],a=R[o+1],O=R[o+2],S=l[z],L=l[z+1];
for(var Q=S;Q<L;Q++){var b=N[Q],Z=J[Q]*3;V-=b*x[Z+0];a-=b*x[Z+1];O-=b*x[Z+2]}var I=w[z]*d,y=x[o+0]*U+V*I,r=x[o+1]*U+a*I,h=x[o+2]*U+O*I,k=y-x[o+0],K=r-x[o+1],H=h-x[o+2];
s+=.4*k*k+.5*K*K+.1*H*H;x[o+0]=y;x[o+1]=r;x[o+2]=h}if(s/cg<T||Date.now()>g+c)break}};u.a1={};u.a1.eB=function(x,R,T){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:x},Vrtc:{t:"doub",v:R},Cnty:{t:"bool",v:T}}}};
u.a1.i=function(x,R){for(var z=0;z<x.length;z++){var T=x[z].v,c=R.Wk(new cI(T.Hrzn.v,T.Vrtc.v));T.Hrzn.v=Math.round(c.x);
T.Vrtc.v=Math.round(c.y)}};u.a1.ag8=function(x,R,T){var cg=x.length-1,c=u.Zv.Ja(cg+1,cg+2);for(var z=1;
z<cg;z++){c[z][z-1]=1/(x[z]-x[z-1]);c[z][z]=2*(1/(x[z]-x[z-1])+1/(x[z+1]-x[z]));c[z][z+1]=1/(x[z+1]-x[z]);
c[z][cg+1]=3*((R[z]-R[z-1])/((x[z]-x[z-1])*(x[z]-x[z-1]))+(R[z+1]-R[z])/((x[z+1]-x[z])*(x[z+1]-x[z])))}c[0][0]=2/(x[1]-x[0]);
c[0][1]=1/(x[1]-x[0]);c[0][cg+1]=3*(R[1]-R[0])/((x[1]-x[0])*(x[1]-x[0]));c[cg][cg-1]=1/(x[cg]-x[cg-1]);
c[cg][cg]=2/(x[cg]-x[cg-1]);c[cg][cg+1]=3*(R[cg]-R[cg-1])/((x[cg]-x[cg-1])*(x[cg]-x[cg-1]));u.Zv.X7(c,T)};
u.a1.a3H=function(x,R,T,c){if(x<=R[0])return T[0];if(x>=R[R.length-1])return T[R.length-1];var z=1;while(R[z]<x)z++;
var g=R[z],d=R[z-1],U=T[z],e=T[z-1],N=(x-d)/(g-d),l=c[z-1]*(g-d)-(U-e),J=-c[z]*(g-d)+(U-e),w=(1-N)*e+N*U+N*(1-N)*(l*(1-N)+J*N);
return w};u.a1.aAX=function(x,R,T,c){var g={lA:[x[0]],d4:[R[0]],AX:[]};c[0]=g;for(var z=1;z<x.length-1;
z++){g.lA.push(x[z]);g.d4.push(R[z]);if(T[z]==!1){u.a1.ag8(g.lA,g.d4,g.AX);g={lA:[x[z]],d4:[R[z]],AX:[]}}c[z]=g}g.lA.push(x[z]);
g.d4.push(R[z]);u.a1.ag8(g.lA,g.d4,g.AX);c[z]=g};u.a1.acC=function(x,R,T,c){if(x<=R[0])return T[0];if(x>=R[R.length-1])return T[R.length-1];
var z=1;while(R[z]<x)z++;var g=c[z-1];return u.a1.a3H(x,g.lA,g.d4,g.AX)};u.a1.au_=function(x){var R={lA:[],d4:[],Eg:[]};
for(var z=0;z<x.length;z++){R.lA[z]=x[z].v.Hrzn.v;R.d4[z]=x[z].v.Vrtc.v;R.Eg[z]=x[z].v.Cnty?x[z].v.Cnty.v:!0}return R};
u.a1.A0=function(x,cg,R){var T=0,c=255;if(R){T=-1e9;c=1e9}var g=u.a1.au_(x),d=[];u.a1.aAX(g.lA,g.d4,g.Eg,d);
var U=[];for(var z=0;z<cg;z++)U[z]=1/255*Math.max(T,Math.min(c,u.a1.acC(z*(255/(cg-1)),g.lA,g.d4,d)));
return U};u.a1.a7d=function(x,cg,R){var T=Math.round(x.length/20),c=cg-x.length,g=R?(x[T]-x[0])/T:0,d=R?x[0]-c*g:x[x.length-1],U=[];
for(var z=0;z<c;z++)U.push(d+z*g);return R?U.concat(x):x.concat(U)};u.a1.Ez=function(x,cg,R){var T=u.a1.au_(x),c=[];
u.a1.aAX(T.lA,T.d4,T.Eg,c);var g=new Uint8Array(cg),d=cg/256;for(var z=0;z<cg;z++)g[z]=Math.max(0,Math.min(cg-1,u.a1.acC(z*d,T.lA,T.d4,c)));
if(R){g[0]=0;if(g[1]>100)g[1]=.4*g[1];if(g[2]>150)g[1]=.7*g[2]}return g};u.a1.ako=function(x,R){var T=new Uint8Array(x.length);
for(var z=0;z<x.length;z++)T[z]=R[x[z]];return T};u.a1.N4=function(x,R,T){var c=document.createElement("canvas");
c.width=R;c.height=T;var g=c.getContext("2d"),d=u.a1.Ez(x,256);g.scale(R/255,T/255);g.fillStyle="#fff";
g.fillRect(0,0,255,255);g.fillStyle="#333";g.beginPath();g.moveTo(0,255);for(var z=0;z<d.length;z++)g.lineTo(z,255-d[z]);
g.lineTo(255,255);g.closePath();g.fill();return c.toDataURL()};u.style={};u.style.stroke=function(x,R,T,c){var g=T.m,d=T.e,U=new Float64Array(g*d);
u.style.C6(x,U,g,d);u.style.m8(R,T,U,T,c)};u.style.m8=function(x,R,T,c,g){var d=R.yx(c),U=d.m,e=d.e;
g+=.5;var N=d.x-R.x,l=d.y-R.y,J=R.m,w=d.x-c.x,s=d.y-c.y,o=c.m;for(var V=0;V<e;V++){var a=(V+s)*o+w,O=(V+l)*J+N;
for(var S=0;S<U;S++){var L=Math.max(0,Math.min(1,g-T[a+S]));x[O+S]=Math.round(L*255)}}};u.style.aBq=function(x,R,T,c){for(var g=0;
g<T;g++)for(var d=0;d<R;d++){var U=g*R+d,e=0,N=0,l=x[U];if(d==0||g==0){e=x[U+1]-l;N=x[U+R]-l}else if(d==T-1||g==R-1){e=l-x[U-1];
N=l-x[U-R]}else{e=x[U+1]-x[U-1];N=x[U+R]-x[U-R]}if(e!=0||N!=0){var J=1/Math.sqrt(e*e+N*N);e*=J;N*=J}c[U+U]=e;
c[U+U+1]=N}};u.style.C6=function(x,R,T,c){var g=0,d=T*c;for(var z=0;z<d;z++)g|=x[z];if(g==0){R.fill(1e9);
return}var U=u.style.Q2(x,T,c);for(var e=0;e<c;e++)for(var N=0;N<T;N++){var z=e*T+N,l=U[z*2],J=U[z*2+1],w=(e+J)*T+N+l;
if(l==0&&J==0){R[z]=0;continue}var s=Math.sqrt(l*l+J*J),o=x[w]*(1/255),V=1/s,a=Math.abs(l)*V,O=Math.abs(J)*V;
if(O>a){var S=O;O=a;a=S}R[z]=s+u.style.aiX(a,O,o)}};u.style.aiX=function(x,R,T){return(.5-T)*x};u.style.Q2=function(x,R,T,c){var g=new Int16Array(R*T*2);
u.style.acq(x,g,R,T,128);return g};u.style.acq=function(x,R,T,c,g){var d=new Int32Array(T*c);u.style.aBt(x,d,T,c,g);
u.style.azr(d,R,T,c)};u.style.aBt=function(x,R,T,c,g){var d=new Int32Array(c);for(var U=0;U<T;U++){var e=T+c;
for(var N=c-1;N>=0;N--){if(x[N*T+U]>g)e=0;else e++;d[N]=e}e=T+c;for(var N=0;N<c;N++){if(x[N*T+U]>g)e=0;
else e++;R[N*T+U]=e<d[N]?-e:d[N]}}};u.style.azr=function(x,R,T,c){var g=(T+c)*(T+c),d=new Float64Array(T),U=new Uint16Array(T);
for(var e=0;e<c;e++){var N=e*T,l=0;U[0]=0;d[0]=-g;d[1]=+g;for(var J=1;J<T;J++){var w=x[J+N]*x[J+N]+J*J,s=(w-(x[U[l]+N]*x[U[l]+N]+U[l]*U[l]))/(2*J-2*U[l]);
while(s<=d[l]){l--;s=(w-(x[U[l]+N]*x[U[l]+N]+U[l]*U[l]))/(2*J-2*U[l])}l++;U[l]=J;d[l]=s;d[l+1]=g}l=0;
for(var J=0;J<T;J++){while(d[l+1]<J)l++;var o=U[l]-J,V=x[U[l]+N],z=e*T+J<<1;R[z]=o;R[z+1]=V}}};u.style.m0=function(x,R,T){if(T)for(var z=0;
z<x.length;z++){var c=x[z];if(c>0)x[z]=Math.max(0,Math.min(255,c+R*2*(u.style.xr(z)-128)))}else for(var z=0;
z<x.length;z++){var c=x[z];if(c>0)x[z]=Math.max(0,Math.min(255,c+Math.min(c*3,R*2*(u.style.xr(z)-128))))}};
u.style.xr=function(x){x=x^61^x>>16;x=x+(x<<3);x=x^x>>4;x=x*668265261;x=x^x>>15;return x&255};u.Jf={};
u.Jf.EZ=function(x,R,T){var c=x.canvas;if(c.width!=R||c.height!=T){c.width=R;c.height=T}};u.Jf.RB=function(x,R,T,c,g,d){u.Jf.EZ(x,R,T);
if(d==null)d=!1;var U=g.channel,e=g.rect,N=!g.isEnabled;if(R*T==0)return;var l=x.createImageData(R,T),J=l.data,w=1/R,s=1/T;
for(var z=0;z<T;z++)for(var o=0;o<R;o++){var V=z*R+o,a=V*4,O=Math.round(c.x+o*w*c.m),S=Math.round(c.y+z*s*c.e),L=0;
if(O<e.x||O>=e.x+e.m||S<e.y||S>=e.y+e.e)L=g.color;else L=U[(S-e.y)*e.m+(O-e.x)];L=255*(255-g.Fo)+L*g.Fo>>>8;
if(d)L=170+Math.round(.4*(L-170));J[a]=L;J[a+1]=L;J[a+2]=L;J[a+3]=255}x.putImageData(l,0,0);if(N)u.Jf.a1B(x,R,T)};
u.Jf.aml=[];u.Jf.a0$=function(x,R,T,c){var g,d,U;g=Math.ceil(Math.max(R,T)*.35);d=R-g;U=T-g;var e=u.Jf.aml[g];
if(e==null){var N=u._e(g,g);N.fillStyle="#eeeeee";N.fillRect(0,0,g,g);var l=Math.round(g*.27),J=N.lineWidth=Math.max(1,Math.round(g*.12)),w=J/2;
N.strokeRect(1+w,1+w,g-J-2,g-J-2);N.strokeRect(l+w,l+w,g-l-l-J,g-l-l-J);e=u.Jf.aml[g]=N.getImageData(0,0,g,g)}x.putImageData(e,d,U)};
u.Jf.asM=[];u.Jf.apZ=function(x,R,T){var c,g,d;c=Math.ceil(Math.max(R,T)*.35);g=R-c;d=T-c;var U=u.Jf.asM[c];
if(U==null){var e=u._e(c,c);e.fillStyle="#eeeeee";e.fillRect(0,0,c,c);e.lineWidth=1;e.strokeRect(2.5,2.5,c-5,c-5);
var N=e.createImageData(3,3);u.Qu(N.data,4278190080);N.data[4*4]=N.data[4*4+1]=N.data[4*4+2]=238;e.putImageData(N,1,1);
e.putImageData(N,c-4,1);e.putImageData(N,1,c-4);e.putImageData(N,c-4,c-4);U=u.Jf.asM[c]=e.getImageData(0,0,c,c)}x.putImageData(U,g,d)};
u.Jf.ab8=function(x,R,T,c,g){u.Jf.EZ(x,R,T);var d=R/c.m;if(R*T==0)return;x.fillStyle="#999999";x.setTransform(1,0,0,1,0,0);
x.clearRect(0,0,R,T);var U=u.Jf.Sk;if(U==null)U=u.Jf.Sk=fJ.SC.GI(!0,!0);U.strokeStyleLineWidth.v.val=1/d;
x.fillStyle="#ffffff";x.scale(d,d);u.j._y(g.$,x,0,0);u.j._y(g.$,x,0,0,U)};u.Jf.acF=null;u.Jf.G3=function(x,R,T,c,g,d,U,e,N){u.Jf.EZ(x,R,T);
if(R*T==0)return;var l=Math.max(R,T),J=u.Jf.acF;if(J==null||J.width<l||J.height<l){u.Jf.acF=J=x.createImageData(l,l)}l=J.width;
var w=J.data,s=c.m/R,o=c.e/T,V=d.x,a=d.x+d.m,O=d.y,S=d.y+d.e;for(var z=0;z<T;z++)for(var L=0;L<R;L++){var Q=z*l+L,b=Q*4,Z=~~(c.x+L*s),I=~~(c.y+z*o),y=u.as7(z,L,2);
if(Z<V||Z>=a||I<O||I>=S||N){w[b]=y;w[b+1]=y;w[b+2]=y;w[b+3]=255}else{var r=(I-d.y)*d.m+(Z-d.x)<<2,h=g[r+3]*(1/255);
w[b]=g[r+0]*h+y*(1-h);w[b+1]=g[r+1]*h+y*(1-h);w[b+2]=g[r+2]*h+y*(1-h);w[b+3]=255}}if(e!=null)for(var z=0;
z<w.length;z+=4)w[z]=w[z+1]=w[z+2]=w[z+e];x.putImageData(J,0,0);if(U)u.Jf.a1B(x,R,T)};u.Jf.a3I=function(x,R,T,c){u.Jf.EZ(x,R,T);
x.fillStyle=u.Jf.ir(c.Clr.v);x.fillRect(0,0,R,T);u.Jf.xo(x,R,T)};u.Jf.a40=null;u.Jf.ahv=function(x,R,T,c){u.Jf.EZ(x,R,T);
var g=x.canvas.width,d=x.canvas.height,U=u.Jf.a40;if(U==null||U.width!=g||U.height!=d){x.fillStyle="#ffffff";
x.fillRect(0,0,R,T);x.fillStyle="#000000";x.font=""+T*.7+"px serif";x.fillText("T",(R-T*.43)/2,T*.75);
x.fillText("T",(R-T*.43)/2,T*.75);u.Jf.a40=x.getImageData(0,0,g,d)}else x.putImageData(U,0,0)};u.Jf.ahA=function(x,R,T){u.Jf.EZ(x,R,T);
x.clearRect(0,0,R,T);x.font=T*.7+"px serif";x.fillText(":(",(R-T*.43)/2,T*.7)};u.Jf.arP=function(x,R,T,c){u.Jf.EZ(x,R,T);
var g=hD.get(c),d=x.canvas.width,U=u.Jf.af2[d+g];if(U==null){var e=PIMG["adj/"+g],N=dp.bR(e),l=UPNG.decode(N.buffer),J=new Uint8Array(UPNG.toRGBA8(l)[0]),w=new aP(0,0,160,160),s=0,o=d-s*2,V=D.gW.ug([J,w],new gP(o/160,0,0,o/160,0,0)),a=new aP(0,0,d,d),O=u.B(a.Z()*4);
u.l.Hy("norm",V.buffer,V.rect,O,a,V.rect,1);U=u.Jf.af2[d+g]=new ImageData(new Uint8ClampedArray(O.buffer),d,d)}x.putImageData(U,0,0)};
u.Jf.af2={};u.Jf.aab=function(x,R,T,c){u.Jf.EZ(x,R,T);var g=x.canvas.width,d=x.canvas.height,U=x.getImageData(0,0,g,d);
u.I.lq(c.Grad.v,new Uint8Array(U.data.buffer),new aP(0,0,g,d),[1/g,0,0,1/d],g/2,d/2,!1,0,16711680,65280);
x.putImageData(U,0,0);u.Jf.xo(x,R,T)};u.Jf.a3w=function(x,R,T,c,g){u.Jf.EZ(x,R,T);var d=x,U=e5.s2(c.Ptrn.v,g.add.Patt);
if(U==null)return;var e=U.NR[1];u.Jf.G3(x,R,T,e,U.NR[0],e,!1);u.Jf.xo(d,R,T)};u.Jf.a1B=function(x,R,T){x.strokeStyle="#bb0000";
x.lineWidth=3;x.beginPath();x.moveTo(R*.15,T*.15);x.lineTo(R*.85,T*.85);x.moveTo(R*.85,T*.15);x.lineTo(R*.15,T*.85);
x.closePath();x.stroke()};u.Jf.xo=function(x,R,T){x.fillStyle="#eeeeee";x.fillRect(0,T*.75,R,T*.25);
x.beginPath();x.moveTo(0,T*.75);x.lineTo(R,T*.75);x.moveTo(R*.1,T*.875);x.lineTo(R*.9,T*.875);x.moveTo(R*.65,T*.825);
x.lineTo(R*.65,T*.95);x.closePath();x.stroke()};u.Jf.ir=function(x){var R=u.I.ir(x),T=Math.round(R.o)<<16|Math.round(R.A)<<8|Math.round(R.J);
return"#"+u.TN(T)};u.j={};u.j.Md=function(x,R,T){var c=[],g=-1;for(var z=0;z<x.length;z++){var d=x[z];
if((d.type==0||d.type==3)&&d.AC!=-1)g++;if(d.type>5||d.type==0||d.type==3)continue;if(R!=null&&R.indexOf(g)==-1)continue;
if(T!=null&&T.indexOf(z)==-1)continue;c.push(d.YA.x);c.push(d.YA.y);c.push(d.L.x);c.push(d.L.y);c.push(d.VV.x);
c.push(d.VV.y)}return c};u.j.A3=function(x,R,T,c){var g=0,d=-1;for(var z=0;z<R.length;z++){var U=R[z];
if((U.type==0||U.type==3)&&U.AC!=-1)d++;if(U.type>5||U.type==0||U.type==3)continue;if(T!=null&&T.indexOf(d)==-1)continue;
if(c!=null&&c.indexOf(z)==-1)continue;U.YA.LR(x[g],x[g+1]);U.L.LR(x[g+2],x[g+3]);U.VV.LR(x[g+4],x[g+5]);
g+=6}};u.j.q0=function(x,R,T,c){var g=u.j.Md(x,T,c);u.M.i(g,R,g);u.j.A3(g,x,T,c)};u.j.aiV=function(x,R,T,c){var g=u.j.Md(x,T,c);
u.D.i(R,g);u.j.A3(g,x,T,c)};u.j.ad3=function(x,R,T,c){if(c==null){var g=u.j.aii(x,40,T);for(var z=0;
z<g.length;z++)x[z]=g[z]}var d=u.j.Md(x,T,c);u.i1.i(R,d,u.M.QK(d));u.j.A3(d,x,T,c)};u.j.aii=function(x,R,T){var c=[],g=-1;
for(var z=0;z<x.length;z++){var d=x[z],U=d.length;if(d.type>5){c.push(JSON.parse(JSON.stringify(d)));
continue}d=JSON.parse(JSON.stringify(d));c.push(d);if(d.AC!=-1)g++;if(T&&T.indexOf(g)==-1){c=c.concat(x.slice(z+1,z+1+U))}else{var e=u.j.atm(x,z+1,U);
e=u.M.RN(e,R);var N=u.j.aoe(e);d.length=N.length;for(var l=0;l<N.length;l++)c.push(N[l])}z+=U}return c};
u.j.atm=function(x,R,T){var c={G:["M"],z:[]},g=x[R],d=x[R+T-1];c.z.push(g.L.x,g.L.y);for(var z=1;z<T;
z++){var U=x[R+z-1],e=x[R+z];c.G.push("C");c.z.push(U.VV.x,U.VV.y,e.YA.x,e.YA.y,e.L.x,e.L.y)}c.G.push("C");
c.z.push(d.VV.x,d.VV.y,g.YA.x,g.YA.y,g.L.x,g.L.y);return c};u.j.aoe=function(x){var R=[],T=x.G,c=x.z,g=0,cg=c.length;
R.push({type:2,YA:new cI(c[cg-4],c[cg-3]),L:new cI(c[0],c[1]),VV:new cI(c[2],c[3])});for(var z=0;z<T.length-2;
z++){var d=z*6+4;R.push({type:2,YA:new cI(c[d],c[d+1]),L:new cI(c[d+2],c[d+3]),VV:new cI(c[d+4],c[d+5])})}return R};
u.j.a7S=function(x){for(var z=0;z<x.length;z++){if(x[z].type>5)continue;var R=x[z].length;if(!(R==4||R==6||R==8)){z+=R;
continue}for(var T=0;T<R;T++){var c=x[z+1+T],g=x[z+1+(T+1)%R],d=Math.min(c.L.x,g.L.x),U=Math.min(c.L.y,g.L.y),e=0,N=0;
if(c.L.x<g.L.x){e=c.L.y-U;N=e-(g.L.x-d)}else{e=g.L.y-U;N=e-(c.L.x-d)}if(Math.abs(N)<.2*e)return e}}return-1};
u.j.pP=function(x,R,T){function c(s,o){var V=Math.min(s.x,o.x),a=Math.min(s.y,o.y),O=Math.max(s.x+s.m,o.x+o.m),S=Math.max(s.y+s.e,o.y+o.e);
return new aP(V,a,O-V,S-a)}var g=null,d=-1,U=!u.j.Qt(x);for(var z=0;z<x.length;z++){var e=x[z];if(e.type>5)continue;
if((e.type==0||e.type==3)&&e.AC!=-1)d++;if(R!=null&&R.indexOf(d)==-1)continue;if(z==x.length-1)break;
var N=e.type==3,l=e.length,J=e.AC,w=u.j.Bc(x,z+1,l,N);if(g==null)g=w;else if(T)g=c(g,w);else if(U){if(R!=null||J==0||J==-1||J==2)g=c(g,w);
else if(J==1)g=g;else if(J==3){g=w;U=!1}}else{if(R!=null||J==0||J==-1||J==1)g=c(g,w);else if(J==2)g=g;
else if(J==3)g=g.yx(w)}z+=l}if(g==null||g.m<0||g.e<0)g=new aP(0,0,0,0);return g};u.j.arY=new Float64Array(4);
u.j.Bc=function(x,z,R,T){var c=u.j.arY;c[0]=1e30;c[1]=1e30;c[2]=-1e30;c[3]=-1e30;var g=x[z+R-1];if(!T)u.j.aqQ(g.L.x,g.L.y,g.VV.x,g.VV.y,x[z].YA.x,x[z].YA.y,x[z].L.x,x[z].L.y,c);
for(var d=z;d<z+R-1;d++){var U=x[d],e=x[d+1];u.j.aqQ(U.L.x,U.L.y,U.VV.x,U.VV.y,e.YA.x,e.YA.y,e.L.x,e.L.y,c)}return new aP(c[0],c[1],c[2]-c[0],c[3]-c[1])};
u.j.aqQ=function(x,R,T,c,g,d,U,e,N){if(x==T&&R==c&&g==U&&d==e){N[0]=Math.min(N[0],Math.min(x,U));N[1]=Math.min(N[1],Math.min(R,e));
N[2]=Math.max(N[2],Math.max(x,U));N[3]=Math.max(N[3],Math.max(R,e));return}var l=x,J=R,w=x,s=R,o=40,V=1/(o-1);
for(var a=0;a<o;a++){var O=a*V,S=1-O,L=S*S*S,Q=3*S*S*O,b=3*S*O*O,Z=O*O*O,I=L*x+Q*T+b*g+Z*U,y=L*R+Q*c+b*d+Z*e;
if(I<l)l=I;else if(I>w)w=I;if(y<J)J=y;else if(y>s)s=y}if(l<N[0])N[0]=l;if(J<N[1])N[1]=J;if(w>N[2])N[2]=w;
if(s>N[3])N[3]=s};u.j.auX=function(x,R){var T=x.length-3,c=R%T,g=Math.floor(c);if(R<0||g>=T)return null;
var d=x[3+g],U=x[3+(g+1)%T],e=d.L,N=d.VV,l=U.YA,J=U.L,w=c-g,s=1-w,o=s*s*s*e.x+3*s*s*w*N.x+3*s*w*w*l.x+w*w*w*J.x,V=s*s*s*e.y+3*s*s*w*N.y+3*s*w*w*l.y+w*w*w*J.y;
return new cI(o,V)};u.j.cK=function(x,R){var T=u.M.Ju(x),c=T.wP;T.wP=Typr.U.pathToSVG({crds:c.z,cmds:c.G},R==null?2:R);
return T};u.j.yJ=function(x){u.j.At();var R,T=u.j.Bh(x),c=[];for(var z=0;z<T.length;z++){var g=T[z][0],d=T[z][1];
if(Math.abs(g.area)<1e-5)c.push(g);else if(R==null)R=g;else{if(!g.closed)g.closed=!0;R=R[d](g);R.remove()}}if(R==null)R=new paper.CompoundPath(c);
else{if(R.segments)R=new paper.CompoundPath(R);for(var z=0;z<c.length;z++){R.addChild(c[z])}}var U=x.slice(0,2);
U=U.concat(u.j.JE(R));if(U[2])U[2].AC=1;for(var z=3;z<U.length;z++)if(U[z].AC!=null)U[z].AC=-1;return U};
u.j.At=function(){if(u.j.air==null){var x=document.createElement("canvas");paper.setup(x);u.j.air=!0}};
u.j.abS=function(x,R){u.j.At();var T=[],c=u.j.Bh(x),g=new paper.Path.Rectangle(new paper.Rectangle(R.x,R.y,R.m,R.e));
g.remove();g.fillColor=new paper.Color(1,0,0);for(var z=0;z<c.length;z++){if(g.intersects(c[z][0])||g.contains(c[z][0].children[0].segments[0].point))T.push(z)}return T};
u.j.Ua=function(x,R,T,c){u.j.At();var g=T?{curves:!0,tolerance:c}:null,d=new paper.Point(R.x,R.y),U=u.j.Bh(x);
for(var z=U.length-1;z>=0;z--){var e=U[z][0],N=e.hitTest(d,g);if(N!=null)return{iY:z,EL:T?N.location.index:null,wx:T?N.location.time:0}}return{iY:-1}};
u.j.wf=function(x,R,T){var c=[[],[],[]];for(var z=0;z<x.length;z++){var g=x[z];if(g.type>5||g.type==0||g.type==3)continue;
var d=T==null?!0:T.indexOf(z)!=-1;if(R.mD(g.L))c[0].push(z);if(R.mD(g.YA)&&d)c[1].push(z);if(R.mD(g.VV)&&d)c[2].push(z)}return c};
u.j.alc=function(x,R,T){var c=x[R];for(var g=R+1;g<T;g++)x[g-1]=x[g];x[T-1]=c};u.j.ajx=function(x,R,T,c){var z,g,d,U=0;
x=x.slice(0);R.sort(function(V,a){return V-a});d=-1;for(z=2;z<x.length;){var e=x[z],N=e.length;if(e.AC!=-1)d++;
var l=U;while(l<R.length&&R[l]<z+1+N)l++;if(U!=l){var J=R.slice(U,l);U=l;for(g=0;g<N;g++)if(J.indexOf(z+1+g)!=-1)x[z+1+g]=null;
if(e.type==0){var w=J[0]-(z+1);while(w!=0){u.j.alc(x,z+1,z+1+N);w--}}var s=e;s.length=0;g=0;while(g<N&&x[z+1+g]==null)g++;
while(g<N){var o=x[z+1+g];if(o!=null)s.length++;else if(g<N+1&&x[z+1+g+1]){s=x[z+1+g]={type:0,AC:-1,length:0,W5:0,dD:0,$e:1}}g++}if(c)for(g=-1;
g<N;g++)if(x[z+1+g]&&x[z+1+g].type<3)x[z+1+g].type+=3;u.oZ.K2(T,d)}z+=1+N}for(z=0;z<x.length;z++)if(x[z]==null){x.splice(z,1);
z--}d=0;for(z=2;z<x.length;z++){var e=x[z];if(e.length==0){if(x[z+1]&&x[z+1].AC==-1)x[z+1].AC=e.AC;else if(e.AC!=-1)T.splice(d,1);
x.splice(z,1);z--}else if(e.length!=null&&e.AC!=-1)d++}return x};u.j.aht=function(x,R){var T=x.slice(0,2),c=-1;
for(var z=2;z<x.length;z++){if((x[z].type==0||x[z].type==3)&&x[z].AC!=-1)c++;if(R.indexOf(c)==-1)T.push(x[z])}return T};
u.j.aqV=function(x,R){var T=x.slice(0,2),c=-1;for(var z=2;z<x.length;z++){if((x[z].type==0||x[z].type==3)&&x[z].AC!=-1)c++;
if(R.indexOf(c)!=-1)T.push(x[z])}return T};u.j.adH=function(x){var R=0;for(var z=0;z<x.length;z++)if(x[z].type==0||x[z].type==3)R=z;
return x[R]};u.j.fc=function(x){var R=-1;for(var z=0;z<x.length;z++)if((x[z].type==0||x[z].type==3)&&x[z].AC!=-1)R++;
return R+1};u.j.wn=function(x,R,T){var c=-1;for(var z=0;z<x.length;z++)if((x[z].type==0||x[z].type==3)&&(T||x[z].AC!=-1)){c++;
if(c==R)return z}return-1};u.j.j9=function(x,R,T){var c=-1;for(var z=0;z<x.length;z++)if((x[z].type==0||x[z].type==3)&&(T||x[z].AC!=-1)){if(z>=R)return c;
c++}return c};u.j.Ih=function(x,R){var T=-1,c=0;for(var z=0;z<x.length;z++){if((x[z].type==0||x[z].type==3)&&x[z].AC!=-1)T++;
if(T==R)c++}return c};u.j.a7g=function(x){var R=180;for(var z=0;z<x.length;z++){if(x[z].type!=0&&x[z].type!=3)continue;
var T=x[z].length;if(T<3)continue;for(var c=0;c<T;c++){var g=x[z+1+(c-1+T)%T],d=x[z+1+c],U=x[z+1+(c+1)%T],e=d.L,N=d.YA.X$(e)?g.VV:d.YA,l=d.VV.X$(e)?U.YA:d.VV;
if(e.X$(N)||e.X$(l))continue;var J=N.x-e.x,w=N.y-e.y,s=l.x-e.x,o=l.y-e.y,N=Math.atan2(N.y-e.y,N.x-e.x)*180/Math.PI,l=Math.atan2(l.y-e.y,l.x-e.x)*180/Math.PI,V=Math.abs(l-N)%360,a=V>180?360-V:V;
if(a<R)R=a}}return R*Math.PI/180};u.j.JE=function(x){var R=x.segments?[x]:x.children,T=[];for(var z=0;
z<R.length;z++){var c=R[z],g=c.segments,d=c.closed?0:3,U=T.length,e=null;if(g.length<=1)continue;T.push({type:d,length:g.length,AC:0,$e:2});
for(var N=0;N<g.length;N++){var l=g[N],J=new cI(l.handleIn.x,l.handleIn.y),w=new cI(l.handleOut.x,l.handleOut.y),s=new cI(l.point.x,l.point.y),o={type:d+1,YA:s.add(J),L:s,VV:s.add(w)};
if(e==null)e=o;T.push(o);if(N+1==g.length&&cI.rE(e.L,o.L)<1e-5){T.pop();T[U].length--;e.YA=o.YA;if(d==3)for(var V=U;
V<T.length;V++)T[V].type-=3}}}return T};u.j.Bh=function(x){u.j.At();var R=[],T,c=new paper.Color(1,0,0);
function g(o,e){o.remove();o.closed=!e;o.fillRule="evenodd"}for(var z=0;z<x.length;z++){if(x[z].type>5)continue;
var d=x[z].length,U;if(z==x.length-1)break;var e=x[z].type==3;if(z==2){if(!u.j.OI(x))U="subtract";else U="unite"}else{if(x[z].AC==0)U="exclude";
if(x[z].AC==1)U="unite";if(x[z].AC==2)U="subtract";if(x[z].AC==3)U="intersect"}if(x[z].AC!=-1){T=new paper.CompoundPath;
R.push([T,U]);T.fillRule="evenodd";T.fillColor=c}var N=[];for(var l=0;l<d;l++){var J=x[z+1+l],w=J.YA.KV(J.L),s=J.VV.KV(J.L);
N.push([[J.L.x,J.L.y],[w.x,w.y],[s.x,s.y]])}var o=new paper.Path(N);g(o,e);T.addChild(o);z+=d}return R};
u.j.fZ=function(x){for(var z=0;z<x.length;z++){var R=x[z];if(R.L==null)continue;if(!R.L.X$(R.YA)||!R.L.X$(R.VV))return!1}return!0};
u.j.a7j=function(x){if(x.length<=5)return 0;var R=0,T=x.length-3-1;for(var z=0;z<T;z++){var c=x[3+z],g=x[3+z+1];
if(c.type==0||g.type==0)return 0;R+=(g.L.x-c.L.x)*(c.L.y+g.L.y)}R+=(x[3].L.x-x[3+T].L.x)*(x[3+T].L.y+x[3+1].L.y);
return-R*.5};u.j.Qt=function(x){var R=x[2],T=!1;if(x.length==2)T=x[1].all==0;else if(x[1].all==1){if(R.AC==1||R.AC==3)T=!0;
else T=!1}else{if(R.AC==1||R.AC==3||R.AC==0)T=!0;else T=!1}return T};u.j.OI=function(x){var R=u.j.Qt(x);
for(var z=3;z<x.length;z++)if(x[z].AC==3)R=!0;return R};u.j.a0Y=0;u.j.a8b=0;u.j.adK=0;u.j.abl=function(x,R,T,c){if(T.Y3())return;
var g=T.Z(),S=16384;u.j.a0Y+=g;if(g>u.j.a8b){u.j.a8b=g}var d=T.m,U=T.e;if(c==null&&u.j.fZ(x)&&x[2]&&x[2].AC!=2){var e=!0;
for(var z=2;z<x.length;)if(x[z].length==2)z+=3;else{e=!1;break}if(e){return}if(u.j.Tl(x)){R.fill(255);
var N=u.j.pP(x);if(N.Z()!=g){var l=1-(N.x-T.x),J=1-(N.y-T.y),w=1-(T.x+T.m-(N.x+N.m)),s=1-(T.y+T.e-(N.y+N.e)),o=~~(l*255),V=~~(w*255),a=~~(J*255),O=~~(s*255);
R.fill(a,0,d);R[0]=~~(l*J*255);R[d-1]=~~(w*J*255);for(var z=d;z<g;z+=d){R[z]=o;R[z+d-1]=V}R.fill(O,(U-1)*d,U*d);
R[g-d]=~~(l*s*255);R[g-1]=~~(w*s*255)}return}}var L=Math.ceil(d/S),Q=Math.ceil(U/S),b=Math.ceil(d/L),Z=Math.ceil(U/Q),I=Date.now();
for(var y=0;y<Q;y++)for(var r=0;r<L;r++){var h=r*b,k=y*Z,K=b,H=Z,p=u._e(K,H);if(!u.j.Qt(x))p.fillRect(0,0,K,H);
u.j._y(x,p,-T.x-h,-T.y-k,c);var f=new Uint8Array(p.getImageData(0,0,K,H).data.buffer);if(K==d&&H==U)u.TR(f,R,3);
else u.GB(f,new aP(h,k,K,H),R,new aP(0,0,d,U))}};u.j.axD=function(x){var R=!1,T=!1,c=0,g=!1;for(var z=0;
z<x.length;z++){var d=x[z].AC;if(d!=null){c++;if(d==-1)R=!0;if(d==1||d==2||d==3)T=!0;if(x[z].type==0)g=!0}}if(!R&&c<20&&g&&T)x=u.j.yJ(x);
return x};u.j._y=function(x,R,T,c,g,d){if(g!=null){x=u.j.axD(x)}for(var z=0;z<x.length;z++){if(x[z].type>5)continue;
var U=x[z].length;if(U==0)continue;if(z==x.length-1)break;var e=x[z].type==3,N=x[z].AC;if(N!=-1&&g==null){var l=["xor","source-over","destination-out","source-in"][N];
R.globalCompositeOperation=l}if(x[z].AC!=-1){R.beginPath();if(g)u.j.dn(g,R)}u.j.ask(R,x,z+1,U,T,c,e);
if(e){}else R.closePath();if(x[z+1+U]==null||x[z+1+U].AC!=-1){if(g){if(d)R.clip();R.stroke()}else R.fill(N==-1?"nonzero":"evenodd")}z+=U}R.globalCompositeOperation="source-over";
R.setLineDash([])};u.j.dn=function(x,R,T){var c=fJ.SC.rA(x,null,T),g=c.lwidth;R.setLineDash(c.dash);
R.lineCap=["butt","round","square"][c.lcap];R.lineJoin=["miter","round","bevel"][c.ljoin];R.lineWidth=c.sal==1?g:g*2;
R.miterLimit=c.mlimit};u.j.ask=function(x,R,z,T,c,g,d){var U=R[z],e=null;x.moveTo(U.L.x+c,U.L.y+g);for(var N=z;
N<z+T-1;N++){U=R[N];e=R[N+1];x.bezierCurveTo(U.VV.x+c,U.VV.y+g,e.YA.x+c,e.YA.y+g,e.L.x+c,e.L.y+g)}if(!d){U=R[N];
e=R[z];x.bezierCurveTo(U.VV.x+c,U.VV.y+g,e.YA.x+c,e.YA.y+g,e.L.x+c,e.L.y+g)}};u.j.af8=function(x,R){var T=[],c=R?4:1;
for(var z=0;z<x.length;z+=2){var g=new cI(x[z],x[z+1]);T.push({type:c,YA:g.clone(),L:g.clone(),VV:g.clone()})}return T};
u.j.abI=function(x,R,T){var c=(1-(T!=null?T:25)*.01)*10;if(c>0){for(var z=0;z<R.length;z++){var g=R[z],d=u.j.wn(x,g),U=u.j.Ih(x,g),e=x.slice(d,d+U);
u.j.At();var N=new paper.Path;N.remove();N.closed=!0;for(var l=1;l<e.length;l++)N.add(new paper.Point(e[l].L.x,e[l].L.y));
var J=N.simplify(c);if(J)x.splice(d,U,...u.j.JE(N))}}return x};u.j.i7=function(x,R,T){var c=u.M.QK(x),g=Math.sqrt(Math.sqrt(c.Z()))*.2,d=.2;
x=x.slice(0);var U=x.length,e=R?0:2;for(var N=0;N<5;N++)for(var z=e;z<x.length-e;z+=2){var l=(z-2+U)%U,J=(z+2)%U,w=x[z],s=x[z+1],o=(x[l]+x[J])*.5,V=(x[l+1]+x[J+1])*.5;
x[z]=w+(o-w)*d;x[z+1]=s+(V-s)*d}if(T)return u.j.u1.f5(x,null,!R);u.j.At();var a=new paper.Path;a.remove();
a.closed=R;for(var z=0;z<x.length;z+=2)a.add(new paper.Point(x[z],x[z+1]));a.simplify(g);var O=[{type:6},{type:8,all:0}];
O=O.concat(u.j.JE(a));return O};u.j.FG=function(x,R,T){var c=x[R].length,g=x[R].type,d=0,U=x.slice(R+1,R+1+c);
for(var z=0;z<c;z++){var e=T[(z-1+c)%c],N=T[(z+1+c)%c],l=T[z];if(l!=0){var J=U[(z-1+c)%c].L,w=U[(z+0+c)%c].L,s=U[(z+1+c)%c].L,o=cI.rE(w,J),V=cI.rE(w,s),a=u.M.a9u(J.x,J.y,w.x,w.y,s.x,s.y,l)[0],O=Math.min(a,e==0?o:o/2,N==0?V:V/2);
l*=O/a;var S=u.M.a9k(J.x,J.y,w.x,w.y,s.x,s.y,l),L={type:g+1,YA:new cI(S[2],S[3]),L:new cI(S[2],S[3]),VV:new cI(S[4],S[5])},Q={type:g+1,YA:new cI(S[6],S[7]),L:new cI(S[8],S[9]),VV:new cI(S[8],S[9])};
x.splice(R+d+1,1,L,Q);d++;x[R].length++}d++}};u.j.fZ=function(x){for(var z=0;z<x.length;z++){var R=x[z],T=R.type;
if(T==1||T==2||T==4||T==5)if(!R.L.X$(R.YA)||!R.L.X$(R.VV))return!1}return!0};u.j.Tl=function(x){if(x.length!=7||x[2].length!=4||!u.j.fZ(x))return!1;
for(var z=0;z<4;z++){var R=!0;for(var T=0;T<4;T++){var c=x[3+(z+T&3)],g=x[3+(z+T+1&3)];if(c.L.x!=g.L.x&&c.L.y!=g.L.y)R=!1}if(R)return!0}return!1};
u.j.ad4=function(x){if(x.length<6)return 0;var R=x.length-2,T=0;for(var z=0;z<R;z+=2)T+=(x[z+2]-x[z])*(x[z+1]+x[z+3]);
T+=(x[0]-x[R])*(x[R+1]+x[1]);return-T*.5};u.j.aim=function(x){x=F.LS.Lz(x);var R=u.j.fc(x);for(var T=0;
T<R;T++){var c=u.j.wn(x,T)+1,g=x[c-1].length,d=[];for(var z=0;z<g;z++){var U=x[c+z].L;d.push(U.x,U.y)}var e=u.j.ad4(d);
if(e<0)u.j.ax0(x,c-1)}return x};u.j.ax0=function(x,R){var T=R+1,c=x[R].length,g=[];for(var z=0;z<c;z++){var d=x[T+z],U=d.YA;
d.YA=d.VV;d.VV=U;g.push(d)}for(var z=0;z<c;z++)x[T+z]=g[c-1-z]};u.j.u1={};u.j.u1.f5=function(x,R,T){var c=[{type:6},{type:8,all:0}],g=null;
c.push({type:T?3:0,AC:1,length:0,W5:0,dD:0,$e:1});if(R==0||R==null)g=null;else if(R instanceof Array)g=R;
else{g=[];for(var z=0;z<x.length;z+=2)g.push(R)}c=c.concat(u.j.af8(x,T));c[2].length=c.length-3;if(g)u.j.FG(c,2,g);
return c};u.j.u1.au1=function(x,R,T,c,g){var d=[],U=[],e=.553,N=1,l=-1;d.push({type:1,YA:new cI(0,e),L:new cI(0,0),VV:new cI(0,-e)});
g+=2;for(var z=0;z<g;z++){var J={type:1};if(z==0){J.L=new cI(1,-1);J.YA=new cI(1-e,-1);J.VV=new cI(1+e,-1)}else{var w=-(z+2)*Math.PI/2,s=1+((z&1)==1?z-1:z),o=Math.sin(w),V=Math.cos(w);
N+=s*(o-V);l+=s*(V+o);J.L=new cI(N,l);J.YA=new cI(N+s*V*e,l-s*o*e);if((z&1)==1)s+=2;J.VV=new cI(N-s*V*e,l+s*o*e)}var a={type:1,YA:new cI(-J.VV.x,-J.VV.y),L:new cI(-J.L.x,-J.L.y),VV:new cI(-J.YA.x,-J.YA.y)};
d.push(J);if(z<g-2)U.push(a)}U.reverse();d=d.concat(U);var O=[{type:6},{type:8,all:0}];O.push({type:0,AC:1,length:d.length,W5:0,dD:0,$e:1});
O=O.concat(d);var S=new gP(T/g,0,0,T/g,0,0);S.rotate(c);S.translate(x,R);u.j.q0(O,S);return O};u.j.u1.Rect=function(x,R,T,c,g){var d=[x,R,x+T,R,x+T,R+c,x,R+c];
return u.j.u1.f5(d,g)};u.j.u1.zy=function(x,R,T,c,g,d,U,e){var N=[],l=2*Math.PI/g;for(var z=0;z<g;z++)N.push(Math.cos(z*l-c),Math.sin(z*l-c));
if(U!=null){var J=u.M.QK(N),w=J.m,s=J.e,o=U/(w/2),V=e/(s/2);for(var z=0;z<N.length;z+=2){N[z]=(N[z]-(J.x+w/2))*o;
N[z+1]=(N[z+1]-(J.y+s/2))*V}T=1}var a=new gP(T,0,0,T,0,0);a.translate(x,R);u.M.i(N,a,N);return u.j.u1.f5(N,d)};
u.j.u1.apx=function(x,R,T,c,g,d,U){var e=[],N=Math.PI/g;for(var z=0;z<g*2;z++){var l=(z&1)==0?1:U;e.push(l*Math.cos(z*N),l*Math.sin(z*N))}var J=new gP(T,0,0,T,0,0);
J.rotate(c);J.translate(x,R);u.M.i(e,J,e);return u.j.u1.f5(e,d)};u.j.u1.su=function(x,R,T,c,g){return u.j.u1.Rq(0,x,R,T,c,g)};
u.j.u1.axk=function(x,R,T,c,g,d){return u.j.u1.Rq(1,x,R,T,c,g,d)};u.j.u1.Xz=function(x,R,T,c,g,d){return u.j.u1.Rq(2,x,R,T,c,g,d)};
u.j.u1.Rq=function(x,R,T,c,g,d,U){var e=Math.sqrt((c-R)*(c-R)+(g-T)*(g-T)),N;d/=2;if(x==0)N=[-d,0,d,0,d,e,-d,e];
if(x==1){var l=d*2*U*1.3/1.5,J=d*U;N=[-d,0,d,0,d,e-l,J,e-l,0,e,-J,e-l,-d,e-l]}if(x==2){var l=U[3],J=U[2]/2,w=l*(2/3)*U[4]/100,s=l-w,o=l;
N=[];if(U[0])N.push(-d,s,-J,o,0,0,J,o,d,s);else N.push(-d,0,d,0);if(U[1])N.push(d,e-s,J,e-o,0,e,-J,e-o,-d,e-s);
else N.push(d,e,-d,e)}var V=new gP(1,0,0,1,0,0);V.rotate(Math.atan2(-g+T,c-R)+Math.PI/2);V.translate(R,T);
u.M.i(N,V,N);return u.j.u1.f5(N,0)};u.j.u1.mR=function(x,R,T,c){var g=[{type:6},{type:8,all:0}],w=.553;
g.push({type:0,AC:1,length:4,W5:0,dD:0,$e:1});var d=x,U=R,e=x+T,N=R+c,x=(d+e)/2,R=(U+N)/2,l=(d-e)/2,J=(U-N)/2;
g.push({type:1,YA:new cI(x-w*l,R-J),L:new cI(x,R-J),VV:new cI(x+w*l,R-J)});g.push({type:1,YA:new cI(x+l,R-w*J),L:new cI(x+l,R),VV:new cI(x+l,R+w*J)});
g.push({type:1,YA:new cI(x+w*l,R+J),L:new cI(x,R+J),VV:new cI(x-w*l,R+J)});g.push({type:1,YA:new cI(x-l,R+w*J),L:new cI(x-l,R),VV:new cI(x-l,R-w*J)});
return g};u.j.u1.auL=function(x,R,T,c,g){var d=[{type:6},{type:8,all:0}];d.push({type:3,AC:1,length:5,W5:0,dD:0,$e:1});
var U=(g-c)/4;for(var z=0;z<5;z++){var e=z*U,N=Math.cos(e),l=Math.sin(e),J=.553*(U/(Math.PI/2)),w=l*J,s=-N*J,o=new cI(N,l);
d.push({type:4,YA:z==0?o.clone():new cI(N+w,l+s),L:o,VV:z==4?o.clone():new cI(N-w,l-s)})}var V=new gP;
V.rotate(-c);V.scale(T,T);V.translate(x,R);u.j.q0(d,V);return d};u.zb={};u.zb.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
u.zb.rJ=function(x){var R=x.warpStyle.v.warpStyle;if(R=="warpNone")return!0;else if(R=="warpCustom"){var T=!1,c=u.zb.ao_(x);
for(var z=0;z<4;z++)for(var g=0;g<4;g++){var d=c[z*2]-c[(g*4+z)*2],U=c[z*4*2+1]-c[(z*4+g)*2+1];if(d*d>1||U*U>1)T=!0}return!T}else return x.warpValue.v==0&&x.warpPerspective.v==0&&x.warpPerspectiveOther.v==0};
u.zb.an0=function(x){var R=JSON.parse(JSON.stringify(x));R.v.classID="quiltWarp";R.v.deformNumRows={t:"long",v:4};
R.v.deformNumCols={t:"long",v:4};if(R.v.customEnvelopeWarp)u.zb.a20(R.v,[[0,1],[0,1]]);return R};u.zb.aAg=function(x){var R;
if(u.zb.xD(x.v)==16)R=JSON.parse(JSON.stringify(x));else R={t:"Objc",v:u.zb.B(u.zb.zC(x.v))};R.v.classID="warp";
delete R.v.deformNumRows;delete R.v.deformNumCols;var T=R.v.customEnvelopeWarp;if(T){delete T.v.quiltSliceX;
delete T.v.quiltSliceY}return R};u.zb.xD=function(x){return x.deformNumRows.v*x.deformNumCols.v};u.zb.B=function(x){var R={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(x){R.classID="quiltWarp";R.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:x.y}},Left:{t:"UntF",v:{type:"#Pxl",val:x.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:x.y+x.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:x.x+x.m}}}};
R.uOrder={t:"long",v:4};R.vOrder={t:"long",v:4};R.deformNumRows={t:"long",v:4};R.deformNumCols={t:"long",v:4}}return R};
u.zb.akh=function(x,R,T,c){for(var z=0;z<x.length;z+=2){var g=x[z],d=x[z+1],U=(g-R.x)/R.m,e=(d-R.y)/R.e,N=(1-T)/2,l=1-N,J=N+U*(l-N);
e=.5+(e-.5)*J*2;var w=(1-c)/2,s=1-w,o=w+e*(s-w);U=.5+(U-.5)*o*2;g=R.x+U*R.m;d=R.y+e*R.e;x[z]=g;x[z+1]=d}};
u.zb.Vy=function(x,R){return{id:x,type:"UnFl",uID:"#Pxl",arr:R}};u.zb.a20=function(x,R){var T=u.zb.zC(x);
function c(d,U){d=d.slice(0);var e=d.length,z;for(z=0;z<e;z++)d[z]*=U;d[0]-=.6;d[e-1]+=.6;return d}var g=x.customEnvelopeWarp.v;
g.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[u.zb.Vy("quiltSliceX",c(R[0],T.m))]}};g.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[u.zb.Vy("quiltSliceY",c(R[1],T.e))]}}};
u.zb.akv=function(x){var R=u.zb.zC(x);function T(U,e){U=U.slice(0);var d=U.length,z,N=1e9,l=-N;for(z=0;
z<d;z++){if(U[z]<N)N=U[z];if(U[z]>l)l=U[z]}for(z=0;z<d;z++)U[z]=(U[z]-N)/(l-N);U[0]=0;U[d-1]=1;return U}var c=x.customEnvelopeWarp.v,g=[],d=["X","Y"];
for(var z=0;z<2;z++)g.push(T(c["quiltSlice"+(z==0?"X":"Y")].v.arr[0].arr.slice(0),z==0?R.m:R.e));return g};
u.zb.aeE=function(x,R){var T=[],c=[];for(var z=0;z<R.length;z+=2){T.push(R[z]);c.push(R[z+1])}x.customEnvelopeWarp.v.meshPoints.v.arr=[u.zb.Vy("Hrzn",T),u.zb.Vy("Vrtc",c)]};
u.zb.ao_=function(x){var R=[],T=x.customEnvelopeWarp.v.meshPoints.v.arr,c=T[0].arr,g=T[1].arr;for(var z=0;
z<c.length;z++)R.push(c[z],g[z]);return R};u.zb.xe=function(x,R){var T,c=x.warpStyle.v.warpStyle;if(c=="warpCustom")T=[x.deformNumCols.v,x.deformNumRows.v,u.zb.akv(x),u.zb.ao_(x)];
else{if(R==null)R=u.zb.zC(x);if(R.Y3())R.m=R.e=1;var g="warpPerspective",d=u.zb.zb(R,c,x.warpRotate.v.Ornt=="Hrzn",x.warpValue.v/100,x[g].v/100,x[g+"Other"].v/100);
T=[4,4,[[0,1],[0,1]],d]}return T};u.zb.s8=function(x,R){x.warpStyle.v.warpStyle="warpCustom";x.deformNumCols.v=R[0];
x.deformNumRows.v=R[1];var T="customEnvelopeWarp";if(x[T]==null)x[T]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
u.zb.a20(x,R[2]);u.zb.aeE(x,R[3])};u.zb.zC=function(x){var R=x.bounds.v,T=R.Left.v.val,c=R.Rght.v.val,g=R.Top.v.val,d=R.Btom.v.val;
if(T==null){T=R.Left.v,c=R.Rght.v;g=R.Top.v,d=R.Btom.v}return new aP(T,g,c-T,d-g)};u.zb.zb=function(x,R,T,c,g,d){var U=u.i1.B(x.x,x.y,x.m,x.e);
if(R=="warpNone")return U;var e=JSON.parse(JSON.stringify(x)),N=new gP;if(!T){N.translate(-x.x,-x.y);
N.rotate(-Math.PI/2);N.translate(x.e,0);u.M.i(U,N,U);x=new aP(0,0,x.e,x.m);U=u.i1.acm(U,!1)}u.zb.a3b(U,x,R,c,g,d);
if(!T){U=u.i1.acm(U,!0);x=e;N.F0();u.M.i(U,N,U)}if(c==0)u.zb.akh(U,x,g,d);else{var N=new gP(1/x.m,0,0,1/x.e,-x.x,-x.y);
N.translate(-.5,-.5);u.M.i(U,N,U);u.zb.ain(U,d,g);N.F0();u.M.i(U,N,U)}return U};u.zb.a3b=function(x,R,T,c,g,d){for(var z=0;
z<4;z++){for(var U=0;U<4;U++){var e=2*(4*z+U),N=x[e]-R.x,l=x[e+1]-R.y,J=N,w=l;if(c!=0){var s=R.m/2,o=R.e/2;
J-=s;w-=o;var V=J,a=J,O=-o,S=o,L=Math.abs(c),Q=Math.tan((1-L)*Math.PI/2),b=Math.sqrt(Q*Q+1),Z=Math.atan2(1,Q),I=J/s*Z,y=s*b,r=s*b+R.e,h=Math.cos(Z),k=Math.sin(Z),K=u.zb.ax2(h,k),H=u.zb.alm(h,k),p=-Q*s+K*y;
if(T=="warpArc"){V=Math.sin(I)*r;O=Q*s-Math.cos(Z)*r+o;a=Math.sin(I)*y;S=Q*s-Math.cos(Z)*y+o;if(U==1||U==2){V=U==1?-H*r:H*r;
a=U==1?-H*y:H*y;O=Q*s+o-K*r;S=Q*s+o-K*y}if(c<0){var f=V;V=a;a=f;f=O;O=-S;S=-f}}if(T=="warpArcLower"){if(U==1||U==2){a=U==1?-H*y:H*y;
S=c<0?o-p:o+p}}if(T=="warpArcUpper"||T=="warpArch"||T=="warpBulge"){if(U==1||U==2){V=U==1?-H*y:H*y;O=c<0?-o+p:-o-p}if(T=="warpArch"){a=V;
S=O+2*o}if(T=="warpBulge"){a=V;S=-O}}if(T=="warpFish"||T=="warpFlag"||T=="warpWave"){var A=U;if(T=="warpFlag")A=3-U;
if(A==1){O-=c*4*o;S+=c*4*o}if(A==2){O+=c*4*o;S-=c*4*o}if(T=="warpFlag"||T=="warpWave")O=S-2*o}if(T=="warpRise"){if(U<2)O=-o+c*o*4;
S=O+2*o}var _=(w+o)/R.e;J=V+_*(a-V);w=O+_*(S-O);if(T=="warpWave"){if(z==0)w=-o;if(z==3)w=o;if(z==1||z==2)w=2*o*(z/3-.5)*(1/3)+w*(2/3)}if(T=="warpFisheye"){if((z==1||z==2)&&(U==1||U==2)){J=J+4*J*c;
w=w+4*w*c}}if(T=="warpInflate"){var W=2/3;if((z==1||z==2)&&(U==1||U==2)){J=J+.5*J*c;w=w+.5*w*c}else if(z==1||z==2)J=J+W*J*c;
else if(U==1||U==2)w=w+W*w*c}if(T=="warpSqueeze"){var W=2/3;if((z==1||z==2)&&(U==1||U==2)){if(c>0)J=J-W*J*c;
else w=w+W*w*c}else if(z==1||z==2)J=J-W*J*c;else if(U==1||U==2)w=w+W*w*c}if(T=="warpTwist"){if((z==1||z==2)&&(U==1||U==2)){var Y=c*Math.PI/2,b=1+Math.abs(c)*2,G=J*Math.cos(Y)-w*Math.sin(Y),i=J*Math.sin(Y)+w*Math.cos(Y);
J=G*b;w=i*b}}if(T=="warpShellLower"||T=="warpShellUpper"){if(T=="warpShellUpper"){z=3-z;w=-w}if(z>2||z==2&&(U==0||U==3)){if(c>0){var E=y+z/3*2*o;
J=Math.sin(I)*E;w=-Q*s-o+Math.cos(I)*E;if(U==1||U==2){J=U==1?-H*E:H*E;w=-Q*s-o+K*E}}else{if((U==1||U==2)&&z==3){J=U==1?-H*y:H*y;
w=Q*s-K*y+o}else if(z==2){w=o-o*(2/3)*Math.cos(I);J=J+o*(2/3)*Math.sin(I)}}}if(T=="warpShellUpper"){z=3-z;
w=-w}}J+=s;w+=o}N=J,l=w;x[e]=N+R.x;x[e+1]=l+R.y}}};u.zb.ain=function(x,R,T){var c=[];for(var g=0;g<4;
g++)c.push(1-T+g/3*2*T);var d=[];for(var g=0;g<4;g++)d.push(1-R+g/3*2*R);var U=[0,0,0,0],e=[0,0,0,0];
for(var z=0;z<4;z++)for(var g=0;g<4;g++){var N=2*(4*z+g),l=x[N],J=x[N+1];U[g]+=l/4;e[g]+=J/4}for(var z=0;
z<4;z++)for(var g=0;g<4;g++){var w=c[g],N=2*(4*z+g),l=x[N],J=x[N+1],s=U[g],o=e[g];x[N]=s+w*(l-s);x[N+1]=o+w*(J-o)}var V=x.slice(0);
for(var z=0;z<4;z++)for(var g=1;g<3;g++){var N=2*(4*z+g),l=x[N],J=x[N+1],a=N+(g==1?-2:2),O=x[a],S=x[a+1];
x[N]=l-O;x[N+1]=J-S}var L=x[0],Q=x[1],b=x[8],Z=x[9],I=x[16],y=x[17],r=x[24],h=x[25],k=x[6],K=x[7],H=x[14],p=x[15],f=x[22],A=x[23],_=x[30],W=x[31],Y=k-L,G=K-Q,i=H-b,E=p-Z,$=f-I,C=A-y,B=_-r,M=W-h;
for(var z=0;z<4;z++){var j=2*z*4,P=0,t=0,q=z==1?.33:.66,m=1-q;if(z==0){P=Y;t=G}if(z==1){P=m*Y+q*-B;t=m*G+q*-M}if(z==2){P=m*Y+q*-B;
t=m*G+q*-M}if(z==3){P=-B;t=-M}x[j]=x[j]+P/2;x[j+1]=x[j+1]+t/2;x[j+6]=x[j+6]-P/2;x[j+7]=x[j+7]-t/2}for(var z=0;
z<4;z++)for(var g=1;g<3;g++){var N=2*(4*z+g),l=x[N],J=x[N+1],a=N+(g==1?-2:2),O=x[a],S=x[a+1],w=2*z/3;
x[N]=O+w*l;x[N+1]=S+w*J}for(var z=1;z<3;z++)for(var g=1;g<3;g++){var N=2*(4*z+g),l=x[N],J=x[N+1],iE=z==1?-8:-16,hV=z==1?16:8,dD=x[N+iE],bh=x[N+iE+1],ho=x[N+hV],aH=x[N+hV+1],w=z/3;
l=(1-w)*dD+w*ho;J=(1-w)*bh+w*aH;x[N]=l;x[N+1]=J}u.M.BN(V,x,x,R)};u.zb.ax2=function(x,R){return(4-x)*(1/3)};
u.zb.alm=function(x,R){return(1-x)*(3-x)/(3*R)};u.uH={};u.uH.aj$=function(x,R,T,c,g,d,U,e,N,l){for(var J=0;
J<e;J++)for(var w=0;w<U;w++){var s=3*(J*U+w),o=J+d,V=w+g,a=x[o*R+V];c[s]=a;c[s+1]=a;c[s+2]=a}};u.uH.D1=function(x,R,T,c,g,d,U,e,N,l){var J=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],w=1/N,s=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],o=new Uint32Array(6);
for(var V=0;V<e;V++){for(var a=0;a<U;a++){var O=3*(V*U+a),S=V+d,L=a+g;o[0]=0;o[1]=0;o[2]=0;o[3]=0;o[4]=0;
o[5]=0;for(var z=0;z<16;z+=2){var Q=L+s[z],b=S+s[z+1],Z=Q-N*~~(Q*w),I=b-N*~~(b*w),y=l[I*N+Z];o[y]+=x[b*R+Q];
o[y+3]++}var Q=L,b=S,Z=Q-N*~~(Q*w),I=b-N*~~(b*w),y=l[I*N+Z];o[y]=x[S*R+L];o[y+3]=1;c[O]=o[0]*J[o[3]];
c[O+1]=o[1]*J[o[4]];c[O+2]=o[2]*J[o[5]]}}};u.uH.a4G=function(x,R,T){for(var z=0;z<T;z+=2)x[R+z]=x[R+z+1];
R=R+T;for(var z=0;z<T;z+=2)x[R+z+1]=x[R+z]};u.uH.a2y=function(x,R,T,c){for(var z=0;z<c;z+=2){var g=R+z*T;
x[g]=x[g+T];x[g+T+1]=x[g+1]}};u.uH.anR=function(x,R,T,c,g,d){var U=c[g],e=c[g+1],N=c[d],l=c[d+1],J=e+N>>>1;
x[R]=x[R+3]=x[T]=x[T+3]=U;x[R+1]=J;x[R+4]=e;x[T+1]=N;x[T+4]=J;x[R+2]=x[R+5]=x[T+2]=x[T+5]=l};u.uH.aqU=function(x,R,T,c,g,d){var U=d*3;
for(var z=0;z<d;z+=2){var e=R+z,N=g+z*3;u.uH.anR(c,N,N+U,x,e,e+T)}};u.uH.arT=function(x,R,T,c,g,d,U){var e=d*3;
for(var z=0;z<U;z+=2){var N=R+z*T,l=g+z*d*3;u.uH.anR(c,l,l+e,x,N,N+T)}};u.uH.a1A=function(x,z,R){var T=x[z-R-R],c=x[z-R],g=x[z-2],d=x[z-1],U=x[z],e=x[z+1],N=x[z+2],l=x[z+R],J=x[z+R+R],w=Math.abs(c-l),s=Math.abs(d-e),o=Math.abs(U-T)*2+w,V=Math.abs(U-N)*2+s,a=Math.abs(U-g)*2+s,O=Math.abs(U-J)*2+w,S=Math.min(o,Math.min(V,Math.min(a,O)));
if(S==o)return c*3+l+U-T>>2;if(S==V)return e*3+d+U-N>>2;if(S==a)return d*3+e+U-g>>2;return l*3+c+U-J>>2};
u.uH.VP=function(x,R,T,c,g){if(x<R&&R<T||x>R&&R>T)return~~(.5+c+(g-c)*(R-x)/(T-x));else return(c+g>>1)+(R+R-x-T>>2)};
u.uH.ajc=function(x,R,z,T){var c=R[z-T-1],g=R[z-T+1],d=R[z],U=R[z+T-1],e=R[z+T+1],N=x[z-T-1],l=x[z-T+1],J=x[z],w=x[z+T-1],s=x[z+T+1],o=Math.abs(l-w)+Math.abs(x[z-T-T+2]-J)+Math.abs(J-x[z+T+T-2])+Math.abs(g-d)+Math.abs(d-U),V=Math.abs(N-s)+Math.abs(x[z-T-T-2]-J)+Math.abs(J-x[z+T+T+2])+Math.abs(c-d)+Math.abs(d-e);
if(o<V)return u.uH.VP(g,d,U,l,w);else return u.uH.VP(c,d,e,N,s)};u.uH.DG=function(x,R,T,c,g,d){x[R+0]=T[g];
x[R+1]=c[g];x[R+2]=u.uH.ajc(T,c,g,d)};u.uH.hi=function(x,R,T,c,g,d){var U=c[g];x[R+0]=u.uH.VP(c[g-1],U,c[g+1],T[g-1],T[g+1]);
x[R+1]=U;x[R+2]=u.uH.VP(c[g-d],U,c[g+d],T[g-d],T[g+d])};u.uH.Le=function(x,R,T,c,g,d){var U=c[g];x[R+0]=u.uH.VP(c[g-d],U,c[g+d],T[g-d],T[g+d]);
x[R+1]=U;x[R+2]=u.uH.VP(c[g-1],U,c[g+1],T[g-1],T[g+1])};u.uH.bS=function(x,R,T,c,g,d){x[R+0]=u.uH.ajc(T,c,g,d);
x[R+1]=c[g];x[R+2]=T[g]};u.uH.ar6=function(x,R,T,c,g,d,U,e,N){var l=Date.now(),J=2,w=R-2,s=2;if((g&1)==1){J++;
w--}var o=T-2;if((d&1)==1){s++;o--}if(N==1||N==3){J++;w--}var V=x.slice(0);u.uH.a4G(V,0,R);u.uH.a2y(V,0,R,T);
u.uH.a2y(V,R-2,R,T);u.uH.a4G(V,(T-2)*R,R);for(var a=s;a<o;a+=2)for(var O=J;O<w;O+=2){var z=a*R+O,S=u.uH.a1A(V,z,R),L=u.uH.a1A(V,z+R+1,R);
V[z]=Math.max(0,S);V[z+R+1]=Math.max(0,L)}var Q=U,b=e;if(d+e==T){b-=2;u.uH.aqU(x,(T-2)*R+g,R,c,(e-2)*U*3,U)}if(g+U==R){Q-=2;
u.uH.arT(x,d*R+g+U-2,R,c,(U-2)*3,U,e)}if(N==0)for(var a=0;a<b;a+=2)for(var O=0;O<Q;O+=2){var Z=(a+d)*R+O+g,I=(a*U+O)*3;
u.uH.DG(c,I,x,V,Z,R);u.uH.hi(c,I+3,x,V,Z+1,R);Z+=R;I+=3*U;u.uH.Le(c,I,x,V,Z,R);u.uH.bS(c,I+3,x,V,Z+1,R)}else if(N==1)for(var a=0;
a<b;a+=2)for(var O=0;O<Q;O+=2){var Z=(a+d)*R+O+g,I=(a*U+O)*3;u.uH.hi(c,I,x,V,Z,R);u.uH.DG(c,I+3,x,V,Z+1,R);
Z+=R;I+=3*U;u.uH.bS(c,I,x,V,Z,R);u.uH.Le(c,I+3,x,V,Z+1,R)}else if(N==2)for(var a=0;a<b;a+=2)for(var O=0;
O<Q;O+=2){var Z=(a+d)*R+O+g,I=(a*U+O)*3;u.uH.bS(c,I,x,V,Z,R);u.uH.Le(c,I+3,x,V,Z+1,R);Z+=R;I+=3*U;u.uH.hi(c,I,x,V,Z,R);
u.uH.DG(c,I+3,x,V,Z+1,R)}else if(N==3)for(var a=0;a<b;a+=2)for(var O=0;O<Q;O+=2){var Z=(a+d)*R+O+g,I=(a*U+O)*3;
u.uH.Le(c,I,x,V,Z,R);u.uH.bS(c,I+3,x,V,Z+1,R);Z+=R;I+=3*U;u.uH.DG(c,I,x,V,Z,R);u.uH.hi(c,I+3,x,V,Z+1,R)}};
u.raw={};u.raw.apR=function(x){var R=Date.now(),T=x.width,c=x.height,g=0,d=0,U=T,e=c;if(x.t50829){var N=x.t50829;
g=N[1];d=N[0];U=N[3];e=N[2]}if(x.t50720&&x.t50720[0]*1.2>T){if(x.t50719){var l=x.t50719;g+=l[0]>>1<<1;
d+=l[1]>>1<<1}if(x.t50720){var J=x.t50720;U=g+J[0];e=d+J[1]}}var w=U-g,s=e-d,o=u.raw.axy(x),V=x.t33422,a=x.t33421;
if(a){var J=a[0],O=V.slice(0);for(var S=0;S<J;S++)for(var L=0;L<J;L++){var Q=(L+(g&1))%J,b=(S+(d&1))%J;
O[S*J+L]=V[b*J+Q]}V=O}if(x.t277[0]==1&&V)u.raw.a8H(o,T,c,x,V);u.raw.nt(2,x,o,T,c);var Z=new Float32Array(w*s*3);
if(x.t277[0]==1){if(a==null){u.uH.aj$(o,T,c,Z,g,d,w,s)}else if(a.length!=2||a[0]!=2||a[1]!=2){console.log("Unknown CFA pattern size",a);
u.uH.D1(o,T,c,Z,g,d,w,s,a[0],V)}else{var I=x.t33422.join(","),y=0;if(I=="0,1,1,2")y=0;else if(I=="1,0,2,1")y=1;
else if(I=="2,1,1,0")y=2;else if(I=="1,2,0,1")y=3;else throw"Unknown CFA pattern "+I;if((w&1)!=0||(s&1)!=0)throw"e";
u.uH.ar6(o,T,c,Z,g,d,w,s,y)}}else{for(var S=0;S<s;S++)for(var L=0;L<w;L++){var r=((S+d)*T+L+g)*3,h=(S*w+L)*3;
Z[h+0]=o[r+0];Z[h+1]=o[r+1];Z[h+2]=o[r+2]}}var k=Z,K=Z.length,H=u.raw.gD(x),p=1/H;for(var z=0;z<K;z+=3){Z[z]=k[z]*p;
Z[z+1]=k[z+1]*p;Z[z+2]=k[z+2]*p}u.raw.nt(3,x,Z,w,s);var f=x.lx,A=w,_=s;if(f==1||f==9){}else{var W=u.raw.avJ(f,w,s),h=0;
A=W[0];_=W[1];var Y=Z.slice(0);for(var S=0;S<_;S++)for(var L=0;L<A;L++){var G=W[2]*L+W[3]*S+W[4],i=W[5]*L+W[6]*S+W[7],r=(i*w+G)*3;
Z[h]=Y[r];Z[h+1]=Y[r+1];Z[h+2]=Y[r+2];h+=3}}return{z6:Z,S1:A,rD:_}};u.raw.avJ=function(x,R,T){var c=R,g=T;
if(!1){}else if(x==2)return[R,T,-1,0,R-1,0,1,0];else if(x==3)return[R,T,-1,0,R-1,0,-1,T-1];else if(x==4)return[R,T,1,0,0,0,-1,T-1];
else if(x==5)return[T,R,0,1,0,1,0,0];else if(x==6)return[T,R,0,1,0,-1,0,T-1];else if(x==7)return[T,R,0,-1,R-1,-1,0,T-1];
else if(x==8)return[T,R,0,-1,R-1,1,0,0];else throw"unknown orientation "+x};u.raw.a8H=function(x,R,T,c,g){var d=Date.now(),p=0,_=0;
if(u.raw.gD(c)>4e4){for(var z=0;z<x.length;z++)x[z]>>=1;var U=["t50714","t50715","t50712","t50717"];
for(var z=0;z<U.length;z++){var e=c[U[z]];if(e)for(var N=0;N<e.length;N++)e[N]>>>=1}console.log("remapping to lower bit depth")}var l=~~Math.sqrt(g.length),J=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],w=[];
for(var s=0;s<l;s++)for(var o=0;o<l;o++){var z=s*l+o,V=g[z],a=4,O=4,S=8,L=0,Q=0;for(var N=0;N<18;N+=2){var b=(l+o+J[N])%l,Z=(l+s+J[N+1])%l,I=g[Z*l+b];
if(I==V){}else if(a==4){a=I;L=N}else if(O==4&&I!=a){O=I;Q=N;break}}if(O<a){var y=O;O=a;a=y;y=Q;Q=L;L=y}if(a<V){var y=a;
a=V;V=y;y=L;L=S;S=y}if(O<a){var y=O;O=a;a=y;y=Q;Q=L;L=y}w[z*3]=J[S+1]*R+J[S];w[z*3+1]=J[L+1]*R+J[L];
w[z*3+2]=J[Q+1]*R+J[Q]}var r=~~(.996*u.raw.gD(c)),h=~~(.992*u.raw.gD(c)),k=c.t50728;if(k==null||k[0]==0)k=[1,1,1];
var K=[],H=[0,0,0];for(var s=1;s<T-1;s++)for(var o=1;o<R-1;o++){var z=s*R+o,f=s%l*l+o%l,V=x[z+w[f*3+0]],a=x[z+w[f*3+1]],O=x[z+w[f*3+2]],A=Math.max(V,a,O);
if(A>r)K.push(z);else if(A>h){H[0]+=V;H[1]+=a;H[2]+=O;p++}}if(K.length==0)return;if(p/(R*T)<1e-5){console.log("not enough semi-saturated pixels",p);
H=k}if(H[1]<H[_])_=1;if(H[2]<H[_])_=2;var W=[H[0]/H[_],H[1]/H[_],H[2]/H[_]],Y=x.slice(0);for(var G=0;
G<K.length;G++){var z=K[G],s=~~(z/R),o=z-s*R,f=s%l*l+o%l,i=Math.min(65535,~~(x[z+w[f*3+_]]*W[g[f]]));
if(i>Y[z])Y[z]=i}x.set(Y)};u.raw.Cw=function(x,R,T,c){var g=Math.round(x.length/3),d=co.nN(c[0],c[1]),U=u.raw.a96(T,d),e=u.Id.multiply(u.Id.ob,U),N=Math.pow(2,T.t50730?T.t50730[0]:0);
e=u.Id.multiply(e,u.Id.LD(N,N,N));var l=u.raw.Cw.a5k;if(l==null){l=u.raw.Cw.a5k=new Float64Array(8e3);
for(var z=0;z<8e3;z++)l[z]=u.DW(z*(1/1e3))}for(var z=0;z<g;z++){var J=z<<2,w=J-z,s=x[w],o=x[w+1],V=x[w+2],a=e[0]*s+e[1]*o+e[2]*V,O=e[4]*s+e[5]*o+e[6]*V,S=e[8]*s+e[9]*o+e[10]*V;
if(a<0)a=0;if(O<0)O=0;if(S<0)S=0;R[w]=l[~~(a*1e3)];R[w+1]=l[~~(O*1e3)];R[w+2]=l[~~(S*1e3)]}};u.raw.axy=function(x){var R=x.width,T=x.height,c=R*T*x.t277,g=new Uint16Array(c),d=null,U=0;
u.raw.axt(x,g);u.raw.nt(1,x,g,R,T);if(x.t50712){d=x.t50712;U=d.length-1;if(d[U]>65535)throw"too big values"}var e=u.raw.aiJ(x),N=u.raw.ag1(x);
if(d==null)for(var z=0;z<c;z++)g[z]=Math.max(0,g[z]-e);else for(var z=0;z<c;z++){var l=g[z];if(l>U)l=U;
l=d[l];g[z]=Math.max(0,l-e)}return g};u.raw.aiJ=function(x){var R=x.t50714,T=R?R[0]:0,c=x.t50715,g=x.t50716;
if(c)T+=c[0][0]/c[0][1];if(g)T+=g[0][0]/g[0][1];return Math.round(T)};u.raw.ag1=function(x){var R=null,T=0;
if(x.t50712){R=x.t50712;T=R.length-1}var c=x.t50717?x.t50717[0]:(1<<x.t258[0])-1;if(R)c=Math.min(c,R[T]);
return c};u.raw.gD=function(x){var R=u.raw.aiJ(x),T=u.raw.ag1(x);return T-R};u.raw.axt=function(x,R){var T=R.length,c=x.data,g=x.t258[0];
if(g!=16&&g!=14&&g!=12&&g!=10&&g!=8)throw"Unsupported Bits Per Sample:"+g;g=Math.round(c.length*8/T);
if(g==16&&x.isLE){u.kS(c,R);return}for(var z=0;z<T;z+=2){var d=0,U=0,e=0;if(g==16){d=z<<1;U=c[d]<<8|c[d+1];
e=c[d+2]<<8|c[d+3]}else if(g==14){var N=z*14,l=N>>>3,J=c[l]<<24|c[l+1]<<16|c[l+2]<<8|c[l+3];if((N&7)==0){U=J>>>18;
e=J>>>4&16383}else{U=J>>>14&16383;e=J&16383}}else if(g==12){d=z+(z>>>1);U=c[d]<<4|c[d+1]>>4;e=(c[d+1]&15)<<8|c[d+2]}else if(g==10){var N=z*10,l=N>>>3;
if((N&7)==0){U=(c[l]<<2|c[l+1]>>6)&1023;e=(c[l+1]<<4|c[l+2]>>4)&1023}else{U=(c[l]<<6|c[l+1]>>2)&1023;
e=(c[l+1]<<8|c[l+2]>>0)&1023}}else if(g==8){d=z;U=c[d];e=c[d+1]}R[z]=U;R[z+1]=e}};u.raw.a2c=function(x,R,T,c,g,d,U){var e=x-.499999,N=R-.499999,l=~~e,J=~~N,w=e-l,s=N-J,o=(1-s)*(1-w),V=(1-s)*w,a=s*(1-w),O=s*w,S=(J*c+l)*3,L=((J+1)*c+l)*3,Q=o*T[S]+V*T[S+3]+a*T[L]+O*T[L+3],b=o*T[S+1]+V*T[S+4]+a*T[L+1]+O*T[L+4],Z=o*T[S+2]+V*T[S+5]+a*T[L+2]+O*T[L+5];
d[U]=Q;d[U+1]=b;d[U+2]=Z};u.raw.nt=function(x,R,T,c,g){var d=R["t"+[51008,51009,51022][x-1]],J=0;if(d==null)return;
var U=c*g,e=n.s,N=n.nP,l=new Uint8Array(d),bp=n.s(l,J);J+=4;for(var w=0;w<bp;w++){var s=e(l,J);J+=4;
var o=e(l,J);J+=4;var V=e(l,J);J+=4;var a=e(l,J);J+=4;if(!1){}else if(s==1&&x==3){var O=J,S=e(l,O);O+=4;
var L=N(l,O);O+=8;var Q=N(l,O);O+=8;var b=N(l,O);O+=8;var Z=N(l,O);O+=8;var I=N(l,O);O+=8;var y=N(l,O);
O+=8;O+=(S-1)*8*6;var r=N(l,O);O+=8;var h=N(l,O);O+=8;var k=r*c,K=h*g,H=Math.max(k,c-k),p=Math.max(K,g-K),f=Math.sqrt(H*H+p*p),A=1/f,_=T.slice(0);
for(var W=0;W<g;W++)for(var Y=0;Y<c;Y++){var G=(Y+.5-k)*A,i=(W+.5-K)*A,E=G*G+i*i,$=L+Q*E+b*(E*E)+Z*(E*E)*E,C=I*(2*G*i)+y*(E+2*G*G),B=y*(2*G*i)+I*(E+2*i*i),M=Math.min(k+f*($*G+C),c-1),j=Math.min(K+f*($*i+B),g-1),P=(W*c+Y)*3;
u.raw.a2c(M,j,_,c,g,T,P)}}else if(s==3&&x==3){var O=J,t=N(l,O);O+=8;var q=N(l,O);O+=8;var m=N(l,O);O+=8;
var iE=N(l,O);O+=8;var hV=N(l,O);O+=8;var r=N(l,O);O+=8;var h=N(l,O);O+=8;var k=r*c,K=h*g,H=Math.max(k,c-k),p=Math.max(K,g-K),f=Math.sqrt(H*H+p*p),A=1/f;
for(var W=0;W<g;W++)for(var Y=0;Y<c;Y++){var G=(Y+.5-k)*A,i=(W+.5-K)*A,E=G*G+i*i,dD=1+(t+(q+(m+(iE+hV*E)*E)*E)*E)*E,P=(W*c+Y)*3;
T[P]=dD*T[P];T[P+1]=dD*T[P+1];T[P+2]=dD*T[P+2]}}else if(s==4&&x==1){var O=J,bh=e(l,O);O+=4;var ho=e(l,O);
O+=4;for(var z=0;z<U;z++)if(T[z]==bh)T[z]=T[z-2]+T[z+2]>>1}else if(s==5&&x==1){var O=J,aH=e(l,O);O+=4;
var f2=e(l,O);O+=4;var e9=e(l,O);O+=4;for(var z=0;z<f2;z++){var kB=e(l,O);O+=4;var ct=e(l,O);O+=4;var z=kB*c+ct;
T[z]=T[z-2]+T[z+2]>>1}}else if(s==7&&x==1){var O=J,jF=n.v7(l,O);O+=16;var fj=e(l,O);O+=4;var ab=e(l,O);
O+=4;var iw=e(l,O),jD=e(l,O+4);O+=8;var a1=e(l,O);O+=4;var gd=new Uint16Array(a1);for(var z=0;z<a1;z++)gd[z]=n.wh(l,O+2*z);
var i6=jF.m,hv=jF.e;for(var W=0;W<hv;W+=iw)for(var Y=0;Y<i6;Y+=jD){var z=(jF.y+W)*c+(jF.x+Y);T[z]=gd[T[z]]}}else if(s==8&&x==2){var O=J,jF=n.v7(l,O);
O+=16;var fj=e(l,O);O+=4;var ab=e(l,O);O+=4;var iw=e(l,O),jD=e(l,O+4);O+=8;var hO=e(l,O);O+=4;var jh=[];
for(var z=0;z<=hO;z++)jh[z]=n.nP(l,O+z*8);var aJ=jF.x,hS=jF.x+jF.m,iO=jF.y,g$=jF.y+jF.e,bF=R.t50717[0],hy=1/bF;
for(var fg=0;fg<ab;fg++)for(var W=iO;W<g$;W+=iw){var P=3*W*c+fj+fg;for(var Y=aJ;Y<hS;Y+=jD){var z=P+3*Y,hL=T[z]*hy,dn=jh[hO];
for(var c5=hO;c5>0;c5--)dn=dn*hL+jh[c5-1];T[z]=Math.max(0,Math.min(65535,~~(dn*bF)))}}}else if(s==9&&x==2){var O=J,jF=n.v7(l,O),bM=!0;
O+=16;var fj=e(l,O);O+=4;var ab=e(l,O);O+=4;var iw=e(l,O),jD=e(l,O+4);O+=8;var at=e(l,O),gt=e(l,O+4);
O+=8;var iK=N(l,O),iz=N(l,O+8);O+=16;var gI=N(l,O),ce=N(l,O+8);O+=16;var b7=e(l,O);O+=4;if(b7!=1)throw"more than one map plane";
var br=at*gt,kg=new Float32Array(br);for(var c5=0;c5<br;c5++)kg[c5]=n.Ky(l,O+c5*4);for(var c5=0;c5<br;
c5++)if(kg[c5]!=1)bM=!1;if(!bM){var i6=jF.m,hv=jF.e,eQ=.9999*(gt-1)/i6,eT=.9999*(at-1)/hv;for(var W=0;
W<hv;W+=iw)for(var Y=0;Y<i6;Y+=jD){var z=(jF.y+W)*c+(jF.x+Y),b6=Y*eQ,hx=W*eT,io=Math.floor(b6),jm=Math.floor(hx),bq=b6-io,gO=hx-jm,P=jm*gt+io,ae=kg[P]*(1-bq)+kg[P+1]*bq,dl=kg[P+gt]*(1-bq)+kg[P+1+gt]*bq,eF=ae*(1-gO)+dl*gO;
T[z]=Math.max(0,Math.min(65535,~~(T[z]*eF+.5)))}}}else console.log("Unknown opcode "+s+" in OpcodeList"+x+". Length: "+a);
J+=a}};u.raw.a96=function(x,R){var T=co.NK(R),c=u.raw.atD(x,R),g=u.Id.F0(c),d=co.avU(T,co.NK(co.adD)),U=u.Id.multiply(d,g);
return U};u.raw.aBH=function(x){var R=x.t50728,g=1;if(R==null||R[0]==0)R=[1,1,1];var T=R.slice(0);T.push(0);
var c={x:.34567,y:.3585};do{var d=u.Id.F0(u.raw.atD(x,c)),U=u.Id.yu(d,T),e=co.a6E(U);g=Math.abs(c.x-e.x)+Math.abs(c.y-e.y);
c=e}while(g>1e-7);return c};u.raw.atD=function(x,R){var T=co.a9o(R),c=u.raw.avG,g=x.t50778?x.t50778[0]:0,d=x.t50779?x.t50779[0]:0,U=x.t50723,e=x.t50724;
if(U&&U.length==3)U=null;if(e&&e.length==3)e=null;var N=c(x.t50721,x.t50722,g,d,T.Ic),l=c(U,e,g,d,T.Ic);
N=N||[1,0,0,0,1,0,0,0,1];l=l||[1,0,0,0,1,0,0,0,1];var J=x.t50727?[x.t50727[0],0,0,0,x.t50727[1],0,0,0,x.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return u.Id.multiply(u.Id.b8(J),u.Id.multiply(u.Id.b8(l),u.Id.b8(N)))};u.raw.avG=function(x,R,T,c,g){if(!x&&!R){return null}else if(x&&!R){return x}else if(g<T){return x}else if(g>c){return R}else{var d=(1/g-1/c)/(1/T-1/c),U=1-d,e=[];
for(var z=0;z<9;z++)e[z]=x[z]*d+R[z]*U;return e}};var co={};co.adD={x:.34567,y:.3585};co.acB=[{o:0,os:.18006,hu:.26352,fU:-.24341},{o:10,os:.18066,hu:.26589,fU:-.25479},{o:20,os:.18133,hu:.26846,fU:-.26876},{o:30,os:.18208,hu:.27119,fU:-.28539},{o:40,os:.18293,hu:.27407,fU:-.3047},{o:50,os:.18388,hu:.27709,fU:-.32675},{o:60,os:.18494,hu:.28021,fU:-.35156},{o:70,os:.18611,hu:.28342,fU:-.37915},{o:80,os:.1874,hu:.28668,fU:-.40955},{o:90,os:.1888,hu:.28997,fU:-.44278},{o:100,os:.19032,hu:.29326,fU:-.47888},{o:125,os:.19462,hu:.30141,fU:-.58204},{o:150,os:.19962,hu:.30921,fU:-.70471},{o:175,os:.20525,hu:.31647,fU:-.84901},{o:200,os:.21142,hu:.32312,fU:-1.0182},{o:225,os:.21807,hu:.32909,fU:-1.2168},{o:250,os:.22511,hu:.33439,fU:-1.4512},{o:275,os:.23247,hu:.33904,fU:-1.7298},{o:300,os:.2401,hu:.34308,fU:-2.0637},{o:325,os:.24792,hu:.34655,fU:-2.4681},{o:350,os:.25591,hu:.34951,fU:-2.9641},{o:375,os:.264,hu:.352,fU:-3.5814},{o:400,os:.27218,hu:.35407,fU:-4.3633},{o:425,os:.28039,hu:.35577,fU:-5.3762},{o:450,os:.28863,hu:.35714,fU:-6.7262},{o:475,os:.29685,hu:.35823,fU:-8.5955},{o:500,os:.30505,hu:.35907,fU:-11.324},{o:525,os:.3132,hu:.35968,fU:-15.628},{o:550,os:.32129,hu:.36011,fU:-23.325},{o:575,os:.32931,hu:.36038,fU:-40.77},{o:600,os:.33724,hu:.36051,fU:-116.45}];
co.a9o=function(x){var R=co.acB,T=2*x.x/(1.5-x.x+6*x.y),c=3*x.y/(1.5-x.x+6*x.y),g=0,d=0,U=0;for(;U<31;
U++){g=c-R[U].hu-R[U].fU*(T-R[U].os);if(U>0&&g<0){break}d=g}while(U>=R.length)U--;g/=Math.sqrt(1+R[U].fU*R[U].fU);
d/=Math.sqrt(1+R[U-1].fU*R[U-1].fU);var e=d/(d-g),N=1e6/((R[U].o-R[U-1].o)*e+R[U-1].o),l=T-((R[U].os-R[U-1].os)*e+R[U-1].os),J=c-((R[U].hu-R[U-1].hu)*e+R[U-1].hu),w=Math.sqrt(1+R[U].fU*R[U].fU),s=1/w,o=R[U].fU/w,V=Math.sqrt(1+R[U-1].fU*R[U-1].fU),a=1/V,O=R[U-1].fU/V,S=(s-a)*e+a,L=(o-O)*e+O,Q=Math.sqrt(S*S+L*L);
S/=Q;L/=Q;var b=(l*S+J*L)*-3e3;return{Ic:N,kg:b}};co.nN=function(x,R){var T=co.acB,c=1e6/x,g=1;for(;
g<31;g++){if(c<T[g].o){break}}var d=(T[g].o-c)/(T[g].o-T[g-1].o),U=(T[g-1].os-T[g].os)*d+T[g].os,e=(T[g-1].hu-T[g].hu)*d+T[g].hu,N=Math.sqrt(1+T[g].fU*T[g].fU),l=1/N,J=T[g].fU/N,w=Math.sqrt(1+T[g-1].fU*T[g-1].fU),s=1/w,o=T[g-1].fU/w,V=(s-l)*d+l,a=(o-J)*d+J,O=Math.sqrt(V*V+a*a);
V/=O;a/=O;U+=V*R/-3e3;e+=a*R/-3e3;return{x:1.5*U/(U-4*e+2),y:e/(U-4*e+2)}};co.a6E=function(x){var R=x[0]+x[1]+x[2];
return{x:x[0]/R,y:x[1]/R}};co.NK=function(x){return{x:x.x/x.y,y:1,Kj:(1-x.x-x.y)/x.y}};co.avU=function(x,R){var T=u.Id.b8([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),c=[x.x,x.y,x.Kj,0],g=[R.x,R.y,R.Kj,0];
c=u.Id.yu(T,c);g=u.Id.yu(T,g);var d=g[0]/c[0],U=g[1]/c[1],e=g[2]/c[2],N=u.Id.b8([d,0,0,0,U,0,0,0,e]),l=u.Id.F0(T);
return u.Id.multiply(u.Id.multiply(l,N),T)};u.raw.vY={};u.raw.sS=function(x){x*=8;var R=[8,10,12,14,16];
for(var T in CAMS){var c=CAMS[T];if(c.length==4)continue;var g=c[4],d=c[5];for(var z=0;z<R.length;z++)if(g*d*R[z]==x)return[T,R[z]]}var U=[[4e3,3e3]];
for(var z=0;z<U.length;z++){var c=U[z],g=c[0],d=c[1];for(var z=0;z<R.length;z++)if(g*d*R[z]==x)return[c,R[z]]}return null};
u.raw.aBT=function(x){var x=new Uint8Array(x);for(var z=0;z<x.length;z+=2){var R=x[z];x[z]=x[z+1];x[z+1]=R}var T=u.raw.sS(x.length),c=CAMS[T[0]];
if(c==null)c=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,T[0][0],T[0][1]];var g=c[4],d=c[5],U=Math.max(c[2],116),e={data:x,lx:1,width:g,height:d,t256:[g],t257:[d],t258:[T[1]],t277:[1],t33421:[2,2],t33422:u.raw.Hi[c[1]],t50706:[1,2,0,0],t50714:[U,U,U,U],t50717:[c[3]],t50721:c[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var z=0;z<9;z++)e.t50721[z]/=1e4;return e};u.raw.a8a=function(x){if(x==null||x.length==0||typeof x[0]=="number")return x;
var R=[];for(var z=0;z<x.length;z++)R[z]=x[z][1]==0?0:x[z][0]/x[z][1];return R};u.raw.Hi=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
u.raw.normalize=function(x,R){if(x.t50706!=null||x.t271[0].startsWith("Hasselblad")){var T=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var z=0;z<T.length;z++)if(x["t"+T[z]]!=null)x["t"+T[z]]=u.raw.a8a(x["t"+T[z]]);if(x.t271&&x.t271[0].startsWith("Hasselblad")){x.t50706=[1,2,0,0];
x.t33422=u.raw.Hi[1];x.t50723=[1,0,0,0,1,0,0,0,1];x.t50778=[17];if(!x.isLE)for(var z=0;z<x.data.length;
z+=2){var c=x.data[z];x.data[z]=x.data[z+1];x.data[z+1]=c}}if(x.t272&&x.t272[0]=="HERO10 Black"){x.t50728=[.469725,1,.739884];
if(!x.t305[0].startsWith("Adobe")){var g=new Uint16Array(x.data.buffer);for(var z=0;z<g.length;z++)g[z]>>>=2}}return}var d=x.t258[0],U=x.exifIFD,R=new Uint8Array(R);
x.t50706=[1,2,0,0];var e=x.t271[0].trim(),N=x.t272[0].trim();if(x.t50708==null)x.t50708=[e+" "+N];var l=(e+":"+N).toLowerCase(),J=CAMS[l];
if(J==null)alert("Unknown camera:"+l);else{var w=J[2];x.t50714=[w,w,w,w];if(x.t272=="Canon EOS REBEL T3")J[3]=13584;
x.t50717=[J[3]];x.t50721=J[0].slice(0);for(var z=0;z<9;z++)x.t50721[z]=x.t50721[z]*(1/1e4)}x.t50723=[1,0,0,0,1,0,0,0,1];
if(x.t50728==null)x.t50728=[.35,1,.6];x.t50778=[17];if(e.startsWith("OLYMPUS")||e.startsWith("OM Digital Solutions")){x.t33422=[2,1,1,0];
var s=U.t41730,O;if(s)x.t33422=[s[4],s[5],s[6],s[7]];var o=x.t50341;if(o==null)o=U.t36864;var V=u.raw.a7_(o.buffer,x);
x.data=new Uint8Array(V.buffer);if((x.height&1)==1)x.t50829=[0,0,x.height-1,x.width];var a=U.makerNote,S=a.t8256;
if(S)O=S.t256;else O=a.t12288.t256;x.t50728=[256/O[0],1,256/O[1]]}else if(x.t271[0].startsWith("SONY")){var L=UTIF["_bin"+(x.isLE?"LE":"BE")],Q=x.t28688,k;
if(JSON.stringify(Q)!="[8000,10400,12900,14100]")console.log(Q);if(Q){var b=[0,0,0,0,0,4095],Z=new Uint16Array(16385);
for(var z=0;z<4;z++){var I=Q[z]>>>2;b[z+1]=I;if(I>4095)throw"e"}for(var z=0;z<16385;z++)Z[z]=z;for(var z=0;
z<5;z++)for(var y=b[z]+1;y<=b[z+1];y++)Z[y]=Z[y-1]+(1<<z);var r=R.length*8<x.width*x.height*d;if(r)x.t50712=Z}else console.log("no curve");
var h=x.dngPrvt;if(h){var K=h.t29184[0],H=h.t29185[0],p=(x.isLE?n.pJ:n.s)(h.t29217,0),f=new Uint32Array(R.slice(K,K+(H&4294967292)).buffer),A=new Uint32Array(H>>>2);
u.raw.aAm(f,A,H>>>2,p);var _=new Uint8Array(K+H);_.set(new Uint8Array(A.buffer),K);var W=[];UTIF._readIFD(L,_,K,W,0,!1);
var Y=W.pop(),G=Y.t29458;x.t50728=[G[1]/G[0],1,G[1]/G[3]];x.t50730=[.5];var i=Y.t29891;x.t50829=[i[1],i[0],i[3],i[2]]}else if(U.makerNote&&U.makerNote.t8208){var k=U.makerNote,E=k.t8208,$=E.length,C=0,B=new Uint8Array(256);
for(var z=249;z<256;z++)B[z]=z;for(var z=0;z<249;z++)B[z*z*z%249]=z;for(var z=0;z<$;z++)E[z]=B[E[z]];
if($==6604)C=612;else throw"e";var G=[];for(var z=0;z<3;z++)G.push(n.p9(E,C+z*2));console.log(G);x.t50728=[G[1]/G[0],1,G[1]/G[2]]}else console.log("no white balance");
if(x.width*x.height*1.5==x.t279[0]){w=w>>>2;x.t50714=[w,w,w,w];x.t50717=[J[3]>>>2]}}else if(x.t271[0].startsWith("Canon")){var R=x.data,M=R.slice(0),j=x.t50752,P=[],q=0;
if(j==null||j[0]==0&&j[1]==0)P.push(x.width);else{for(var z=0;z<j[0];z++)P.push(j[1]);P.push(j[2])}var t=x.width*2,m=x.t50885&&x.t50885[0]==4;
if(!m)for(var iE=0;iE<P.length;iE++){var hV=P[iE],dD=2*q,bh=2*hV;for(var ho=0;ho<x.height;ho+=2){var aH=ho*t+dD,f2=x.height*dD+ho*bh;
for(var z=0;z<bh;z++){R[aH+z]=M[f2+z];R[aH+z+t]=M[f2+z+bh]}}q+=hV}else{var e9=new Uint16Array(M.buffer),kB=new Uint16Array(R.buffer);
function ct(fj,ab){kB[ab*3+0]=e9[fj*3+0];kB[ab*3+1]=e9[fj*3+1];kB[ab*3+2]=e9[fj*3+2]}var jF=(j[0]*j[1]+j[2])/x.width;
for(var iE=0;iE<P.length;iE++){var hV=Math.round(P[iE]/jF);for(var ho=0;ho<x.height;ho++){var fj=x.height*q+(jF==3?(ho>>>3)*8+[0,4,1,5,2,6,3,7][ho&7]:ho)*hV,ab=ho*x.width+q;
for(var iw=0;iw<hV;iw++)ct(fj+iw,ab+iw)}q+=hV}var jD=new Uint16Array(R.buffer),a1=new Uint16Array(1),gd=new Int16Array(a1.buffer);
for(var z=0;z<jD.length;z+=3){var i6=jD[z],hv=jD[z+1],hO=jD[z+2];a1[0]=hv<<2;hv=gd[0]>>2;a1[0]=hO<<2;
hO=gd[0]>>2;jD[z+0]=Math.max(0,hO+i6);jD[z+1]=Math.max(0,(i6<<12)-hv*778-(hO<<11)>>12);jD[z+2]=Math.max(0,hv+i6)}}var k=U.makerNote;
if(k.t16385){var fj=k.t224,g$=0;if(fj){var K=x.t50719=[fj[5],fj[6]],jh=x.t50720=[fj[7]+1-fj[5],fj[8]+1-fj[6]],aJ=k.t154;
if(aJ){K[0]+=aJ[3];K[1]+=aJ[4];jh[0]=aJ[1];jh[1]=aJ[2]}}var hS=k.t16385,iO=hS.length;if(iO==582)g$=1;
else if(iO==653)g$=2;else if(iO==796)g$=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(iO)!=-1)g$=4;
else if(iO==5120){g$=5;hS=new Int16Array(hS.slice(0).buffer)}else if(iO==1273||iO==1275)g$=6;else if([1312,1313,1316,1506].indexOf(iO)!=-1)g$=7;
else if([1560,1592,1353,1602].indexOf(iO)!=-1)g$=8;else throw"e"+iO;var bF=hS[0],hy=[null,[25,166],[34,286],[63,196],[63],[71,bF==-4?333:264],[63,251],[63,bF==10?504:728],[63,326]],C=hy[g$][0],fg=hy[g$][1];
if(g$==4){if(hS[0]==2)fg=231;else if(hS[0]==3)fg=231;else if(hS[0]==4)fg=231;else if(hS[0]==5)fg=231;
else if(hS[0]==6)fg=231;else if(hS[0]==7)fg=231;else if(hS[0]==9)fg=231;else throw"e"}x.t50728=[hS[C+1]/hS[C],1,hS[C+1]/hS[C+3]];
var w=fg==null?1024:hS[fg];if(g$!=4)x.t50714=[w,w,w,w]}else{x.t50728=[.4,1,.6]}if(m){x.t277=[3];x.t50728=[1,1,1];
x.t50714=[0,0,0,0]}}else if(x.t271[0].startsWith("NIKON")){var k=U.makerNote,hL=x.isLE?n.p9:n.Z8,iz=0,gI=0,kg,jm=0;
if(k.t61){var dn=k.t61,c5=[];for(var z=0;z<4;z++)c5[z]=dn[z]/Math.pow(2,14-d);x.t50714=c5}if(k.t3585){var at=k.t3585,z=0,K=22;
while(K<at.length&&z!=-4){var gt=n.pJ(at,K);K+=4;K+=14;z=n.pJ(at,K)-4;K+=4;if(gt==1990472198){if(at[K]!=0)throw"Flip"}if(gt==1990472199){var iK=n.p9(at,K);
if(iK==0)x.lx=1;else if(iK==270)x.lx=8;else throw"e "+iK}K+=z}}if(k.t183){var ce=k.t183,jh=[];for(var z=0;
z<6;z++)jh.push(hL(ce,16+z*2));iz=jh[0];gI=jh[1]}if(k.t3614){var b7=k.t3614;iz=n.pJ(b7,8);gI=n.pJ(b7,12)}if(iz!=0&&Math.max(iz,gI)<Math.max(x.width,x.height)){if(iz<gI){var c=iz;
iz=gI;gI=c}var iw=x.width-iz>>>1,ho=x.height-gI>>>1;x.t50829=[ho,iw,ho+gI,iw+iz]}else x.t50829=[8,8,x.height-8,x.width-56];
var br=k.t69;if(br)x.t50829=[br[1],br[0],br[1]+br[3],br[0]+br[2]];if(k.t12){var bM=u.raw.a8a(k.t12);
kg=[1/bM[0],1,1/bM[1]]}else if(k.t151){var eQ=u.raw.ari(k,151),eT=eQ[0],jc=eQ[1],b6=eQ[2];if(eT=="0100"&&jc>=80)throw"e";
else if(eT=="0102"){var hx=[];for(var z=0;z<4;z++)hx.push(hL(b6,6+z*2));kg=[hx[1]/hx[0],1,hx[1]/hx[3]]}else if(eT=="0103"&&jc>=26){var hx=[];
for(var z=0;z<4;z++)hx.push(hL(b6,16+z*2));kg=[hx[1]/hx[0],1,hx[3]/hx[2]]}else if(eT=="0204"&&jc>=564||eT=="0205"&&jc>=284){var K=eT=="0204"?6:14,hx=[];
for(var z=0;z<4;z++)hx.push(hL(b6,K+z*2));kg=[hx[1]/hx[0],1,hx[1]/hx[3]]}else throw"e"}else console.log("no white balance info");
if(N=="NIKON D1")kg=[1,1,1];if(kg)x.t50728=kg;var io=k.t150?k.t150:k.t140;if(io){var bq=io[jm++],gO=io[jm++],eF;
if(bq==73||gO==88)jm+=2110;jm+=8;var ae=1<<d&32767,dl=hL(io,jm);jm+=2;var Z=[];if(dl>1)eF=Math.floor(ae/(dl-1));
if(bq==68&&gO==32&&eF>0){for(z=0;z<dl;z++){Z[z*eF]=hL(io,jm);jm+=2}for(z=0;z<ae;z++)Z[z]=Math.floor((Z[z-z%eF]*(eF-z%eF)+Z[z-z%eF+eF]*(z%eF))/eF)}else if(bq!=70&&dl<=16385){ae=dl;
for(var z=0;z<dl;z++)Z[z]=hL(io,jm+2*z);jm+=2*dl}var N=x.t272[0];if(Z.length!=0)x.t50712=new Uint16Array(Z);
if(x.t258[0]==14&&x.t50717&&x.t50717[0]<1e4){console.log("fixing white");x.t50717[0]*=4}}}else if(e.startsWith("FujiFilm")){}else if(e.startsWith("Panasonic")){if(x.t277==null)x.t277=[1]}else alert("Unknown camera "+e)};
u.raw.aAm=function(x,R,T,c){if(0==T)return;var g=new Uint32Array(128),d=new Uint8Array(g.buffer),U=127,e=0,N=0;
for(var U=0;U<4;U++)g[U]=c=(c*15625>>>0)*3125+1>>>0;g[3]=g[3]<<1|(g[0]^g[2])>>>31;for(var U=4;U<127;
U++)g[U]=(g[U-4]^g[U-2])<<1|(g[U-3]^g[U-1])>>>31;for(var U=0;U<127;U++)g[U]=n.s(d,U*4);for(;T>0;T--){g[U&127]=g[U+1&127]^g[U+1+64&127];
var l=g[U&127],J=x[e];J^=l;R[N]=J;e++;N++;U++}};u.raw.aaP=function(x,R){var T=n.zQ(R,0,4),c=u.raw.av4;
for(var z=0;z<c.length;z++)if(c[z][0]==x&&T.startsWith(c[z][1])&&(c[z][2]==0||c[z][2]==R.length))return c[z];
throw"e"};u.raw.aln=function(x){if(x.t29==null)return[];var R=u.raw.a6b,T=u.raw.agi,c=x.t29[0],g=0,U=0;
for(var z=0;z<c.length;z++){var d=c.charCodeAt(z);g=g*10+(48<=d&&d<=57?d-48:d%10)}var jc=x.t167[0];for(var z=0;
z<4;z++)U^=jc>>>(z<<3)&255;var e=R[g&255],N=T[U&255];return[e,N,96]};u.raw.ari=function(x,R){var T=x["t"+R],jc=T.length,c=u.raw.aaP(R,T),g=n.zQ(T,0,4),d,U=c[4];
if(U==null)d=T.slice(4);else{d=new Uint8Array(jc-U);var e=u.raw.aln(x),N=e[0],l=e[1],J=e[2];for(var z=0;
z<d.length;z++){l=l+N*J++&255;d[z]=T[U++]^l}}return[g,jc,d]};u.raw.a7_=function(x,R){var T=R.t271[0],c=R.t272[0],g=R.t256[0],d=R.t257[0],U=R.t258[0],e=R.t273[0],N=e,l=new Uint8Array(x),J,w=g-4,s=d,o=l.length-e,O=0,S=0;
function V(){var I=new Uint16Array(4096),cg=0;I[cg]=3084;for(var z=12;z--;)for(var y=0;y<2048>>z;y++)I[++cg]=z+1<<8|z;
return I}function a(){return l[N++]}function L(I,y){var r;if(I>25)return 0;if(I==0||S<0)return 0;if(I<0){O=0;
S=0;return 0}while(S<I){r=a();if(r==null)break;O=(O<<8)+(255&r);S+=8}r=S==0?0:O<<32-S>>>32-I;if(y){S-=y[r]>>8;
r=255&y[r]}else S-=I;return r}function Q(){var I=V();N+=7;L(-1);for(var y=0;y<s;y++){var r=[new Int32Array(3),new Int32Array(3)];
for(var h=0;h<g;h++){var k=r[h&1],z=2*(k[2]<3),K;for(K=2+z;(65535&k[0])>>K+z;K++);var H=L(3),p=H&3;H=H<<29>>31;
var f=L(12,I);if(f==12)f=L(16-K)>>>1;var A=L(K);k[0]=f<<K|A;var _=(k[0]^H)+k[1];k[1]=_*3+k[1]>>5;k[2]=k[0]>16?0:k[2]+1;
if(h>=w)continue;var W=J[y*g+h-2],cg=J[(y-2)*g+h],Y=J[(y-2)*g+h-2];J[y*g+h]=(y<2&&h<2?0:y<2?W:h<2?cg:W<Y&&Y<cg||cg<Y&&Y<W?Math.abs(W-Y)>32||Math.abs(cg-Y)>32?W+cg-Y:W+cg>>1:Math.abs(W-Y)>Math.abs(cg-Y)?W:cg)+(_<<2|p)}}}function b(){var I=g*U/8,y=d+1>>1,h=0,k=0;
I+=I&6>>7;var r=I*8-g*U;for(var K=0;K<d;K++){var H=K%y*2+~~(K/y);if(H==1){h=0;N=e-(-y*I&-2048)}for(var p=0;
p<g;p++){for(h-=U;h<0;h+=8){k<<=8;for(var z=0;z<8;z+=8)k|=a()<<z}var f=k<<64-U-h>>>64-U;J[H*g+p]=f}h-=r}}function Z(){var I=!T.startsWith("OLYMPUS")||!T.startsWith("OM Digi")||!T.toLowerCase().startsWith("clauss")&&!c.toLowerCase().startsWith("pix 5oo");
return I&&o<g*d}if(Z()){J=new Uint16Array(w*s);Q()}else{J=new Uint16Array(g*d);b()}return J};u.raw.av4=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
u.raw.a6b=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
u.raw.agi=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
u.bD={};u.bD.bD=function(x,R,T,c,g){if(c==null)c=3;if(g==null)g=!0;var d=x.m,U=x.e,e=1/d,N=d*U,l=Date.now(),J=!1,w=u.bD.at7(T,d,U,255,128),s=u.bD.at7(T,d,U,0,128),q=0;
if(J)console.log("extract contours",Date.now()-l);l=Date.now();var o=function(dn,c5){var iK=dn<<2,iz=c5<<2;
return R[iK]+R[iK+1]+R[iK+2]-(R[iz]+R[iz+1]+R[iz+2])};w.sort(o);s.sort(o);var V=u.B(N),a=u.B(N),O=[],S=new Uint32Array(d*U);
S.fill(4294967295);for(var z=0;z<N;z++)if(T[z]==0)a[z]=255;else if(T[z]==255)V[z]=255;else{S[z]=O.length;
O.push(z)}var L=w.length,Q=s.length,b=O.length;function Z(dn,c5,iK,iz){var gI=dn.length,ce=new Array(gI*2);
for(var z=0;z<gI;z++){var W=dn[z],Y=~~(W*iz),G=W-Y*iK,hy=W<<2;ce[z*2]=G<<16|Y;ce[z*2+1]=c5[hy]<<16|c5[hy+1]<<8|c5[hy+2]}return ce}var I=Z(w,R,d,e),y=Z(s,R,d,e),r=Z(O,R,d,e);
if(J)console.log("Itemize",Date.now()-l,"Unknown:",b,L,Q);l=Date.now();var h=u.style.Q2(V,d,U,!0),k=u.style.Q2(a,d,U,!0),K=new Array(b),H=new Array(b),p=new Array(b),f=new Array(b),A=new Array(b);
if(J)console.log("Dist transform",Date.now()-l);l=Date.now();var _=u.bD.SY;for(var z=0;z<b;z++){var W=O[z],Y=~~(W*e),G=W-Y*d,i=h[W<<1],E=h[(W<<1)+1],$=Math.sqrt(i*i+E*E),C=k[W<<1],B=k[(W<<1)+1],M=Math.sqrt(C*C+B*B);
K[z]=1/$;H[z]=1/M;var j=Math.floor(u.l.xr(W*17)*L),P=Math.floor(u.l.xr(W*19)*Q);p[z]=j;f[z]=P;A[z]=_(r[z*2],r[z*2+1],I[j*2],I[j*2+1],y[P*2],y[P*2+1],K[z],H[z],1e9)}var t=[-d-1,-d,-d+1,-1,1,d-1,d,d+1];
while(Math.floor(Math.max(L,Q)*Math.pow(.5,q))>1)q++;for(var m=0;m<c;m++){var iE=0;for(var z=0;z<b;z++){var W=O[z],Y=~~(W*e),G=W-Y*d,hV=K[z],dD=H[z],bh=r[z*2],ho=r[z*2+1],aH=A[z],j=p[z],P=f[z],fj=1;
if(Y!=0&&G!=0&&G!=d-1&&Y!=U-1)for(var f2=0;f2<8;f2++){var e9=S[W+t[f2]];if(e9==4294967295)continue;var kB=p[e9],ct=f[e9];
if(kB==j&&ct==P)continue;var jF=_(bh,ho,I[kB*2],I[kB*2+1],y[ct*2],y[ct*2+1],hV,dD,aH);if(jF<aH){aH=jF;
j=kB;P=ct}}for(var ab=0;ab<q;ab++){var iw=~~(L*fj),jD=~~(Q*fj);fj*=.5;var a1=u.l.xr(W+m*17+ab*31),i6=u.l.xr(W+m*29+ab*63),hv=Math.max(0,j-iw),hO=Math.min(j+iw,L-1),jh=Math.max(0,P-jD),aJ=Math.min(P+jD,Q-1),kB=hv+~~(a1*(hO-hv)),ct=jh+~~(i6*(aJ-jh)),jF=_(bh,ho,I[kB*2],I[kB*2+1],y[ct*2],y[ct*2+1],hV,dD,aH);
if(jF<aH){aH=jF;j=kB;P=ct}}A[z]=aH;p[z]=j;f[z]=P;iE+=aH}}if(J)console.log(iE);if(J)console.log("iterations",Date.now()-l);
l=Date.now();var hS=T.slice(0);for(var z=0;z<b;z++){var iO=u.bD.alpha(r[z*2+1],I[p[z]*2+1],y[f[z]*2+1]);
hS[O[z]]=~~(.5+255*iO)}hS=u.yy.a8h(hS,R,new aP(0,0,d,U),16,.01*.01);if(J)console.log("guided filter",Date.now()-l);
l=Date.now();if(g)for(var z=0;z<N;z++)if(T[z]==255||T[z]==0)hS[z]=T[z];var g$=R.slice(0);for(var z=0;
z<b;z++){var bF=O[z],j=w[p[z]],aH=A[z],hy=bF<<2,fg=hS[bF],hL=(fg>=250?bF:j)<<2;g$[hy]=R[hL];g$[hy+1]=R[hL+1];
g$[hy+2]=R[hL+2]}u.rN(hS,g$,3);if(J)console.log(Date.now()-l);l=Date.now();return g$};u.bD.SY=function(x,R,T,c,g,d,U,e,N){var l=x>>>16,J=x&65535,w=l-(T>>>16),s=J-(T&65535),o=l-(g>>>16),V=J-(g&65535),a=Math.sqrt(w*w+s*s)*U,O=Math.sqrt(o*o+V*V)*e;
if(a+O>=N)return 1e9;var S=u.bD.aeX(R,c,d);return S+a+O};u.bD.aeX=function(x,R,T){var c=x>>>16,g=x>>>8&255,d=x&255,U=R>>>16,e=R>>>8&255,N=R&255,l=T>>>16,J=T>>>8&255,w=T&255,s=u.bD.alpha(x,R,T),o=c-(s*U+(1-s)*l),V=g-(s*e+(1-s)*J),a=d-(s*N+(1-s)*w);
return Math.sqrt(o*o+V*V+a*a)};u.bD.alpha=function(x,R,T){var c=x>>>16,g=x>>>8&255,d=x&255,U=R>>>16,e=R>>>8&255,N=R&255,l=T>>>16,J=T>>>8&255,w=T&255,s=U-l,o=e-J,V=N-w,a=c-l,O=g-J,S=d-w,L=s*s+o*o+V*V,Q=L==0?.5:(a*s+O*o+S*V)/L;
return Math.max(0,Math.min(1,Q))};u.bD.a2R=function(x){};u.bD.at7=function(x,R,T,c,g){var d=[],U=R-1,e=T-1;
for(var N=1;N<e;N++)for(var l=1;l<U;l++){var z=N*R+l;if(x[z]==c&&(x[z-R-1]==g||x[z-R]==g||x[z-R+1]==g||(x[z-1]==g||x[z+1]==g)||(x[z+R-1]==g||x[z+R]==g||x[z+R+1]==g)))d.push(z)}return d};
u.yy={};u.yy.ant=function(x,R,T,c,g){var d=T.m,U=T.e,e=d*U,N=u.yy.arO,l=u.B(e*4),J;u.Qu(l,4294967295);
var w=T,s=x,o=R,V=c;u.rN(x,l,0);J=u.j$(l,T);J=u.j$(J.z6,J.rect);w=J.rect;V=c>>>2;console.log(w,V);s=u.B(w.Z());
u.TR(J.z6,s,0);u.rN(R,l,0);J=u.j$(l,T);J=u.j$(J.z6,J.rect);o=u.B(w.Z());u.TR(J.z6,o,0);var a=u.yy.alB(s,o,w,V,g),O=a[0],S=a[1],L=new aP(0,0,w.m*2,w.e*2);
O=N(O,w,L,!0);O=N(O,L,T,!0);S=N(S,w,L,!0);S=N(S,L,T,!0);var Q=u.B(e);for(var z=0;z<e;z++)Q[z]=Math.max(0,Math.min(255,Math.floor(.5+(O[z]*R[z]+255*S[z]))));
return Q};u.yy.arO=function(x,R,T,c){var g=T.m,d=T.e,U=R.m,e=R.e,N=u.yy.Tv,l=new Float32Array(g*d);for(var J=0;
J<e;J++){var w=(J+J)*g;for(var s=0;s<U;s++){if(!0||s==0||J==0||s==U-1||J==e-1)l[w]=l[w+1]=l[w+g]=l[w+g+1]=x[J*U+s];
else{l[w]=N(s+.25,J+.25,x,U,e);l[w+1]=N(s+.75,J+.25,x,U,e);l[w+g]=N(s+.25,J+.75,x,U,e);l[w+g+1]=N(s+.75,J+.75,x,U,e)}w+=2}}return l};
u.yy.Tv=function(x,R,T,c,g){x-=.499999;R-=.499999;var d=Math.floor(x),U=Math.floor(R),e=U*c+d,N=x-d,l=R-U,J=(1-l)*(1-N),w=(1-l)*N,s=l*(1-N),o=l*N;
if(T[e]==null||T[e+c+1]==null){console.log(x,R,c,g);throw"e"}return J*T[e+0]+w*T[e+1]+s*T[e+c+0]+o*T[e+c+1]};
u.yy.alB=function(x,R,T,c,g){var d=T.m,U=T.e,e=d*U,N=u.yy.aBS,l=u.yy.B,J=u.kc.RM,w=u.yy.aj,R=N(R),x=N(x),s=l(e);
J(R,s,T,c);var o=l(e);J(x,o,T,c);var V=l(e);w(R,R,V);J(V,V,T,c);var a=l(e);w(R,x,a);J(a,a,T,c);var O=l(e),S=l(e);
for(var z=0;z<e;z++){var L=s[z],Q=o[z],b=V[z]-L*L,Z=a[z]-L*Q,I=Z/(b+g),y=Q-I*L;O[z]=I;S[z]=y}var r=l(e);
J(O,r,T,c);var h=l(e);J(S,h,T,c);return[r,h]};u.yy.a8h=function(x,R,T,c,g){var d=T.m,U=T.e,e=d*U,N=u.yy.arO,l=Date.now(),J=!1,w=T,s=x,o=R,V=c;
w=new aP(0,0,d>>>2,U>>>2);V=c>>>2;s=u.yy.asE(x,d,U);o=u.yy.a9e(R,d,U);if(J)console.log(Date.now()-l);
l=Date.now();var a=u.yy.aA2(s,o,w,V,g),O=a[0],S=a[1],L=a[2],Q=a[3];if(J)console.log(Date.now()-l);l=Date.now();
var b=u.B(e);for(var Z=0;Z<U;Z++)for(var I=0;I<d;I++){var z=Z*d+I,y=(Z>>>2)*(d>>>2)+(I>>>2),r=z<<2,h=O[y]*R[r]+S[y]*R[r+1]+L[y]*R[r+2]+Q[y]*255;
b[z]=Math.max(0,Math.min(255,~~(.5+h)))}if(J)console.log(Date.now()-l);l=Date.now();return b};u.yy.asE=function(x,R,T){var c=R>>>2,g=T>>>2,d=u.B(R*T);
for(var U=0;U<g;U++)for(var e=0;e<c;e++)d[U*c+e]=x[U*R+e<<2];return d};u.yy.a9e=function(x,R,T){var c=R>>>2,g=T>>>2,d=u.B(R*T*4);
for(var U=0;U<g;U++)for(var e=0;e<c;e++){var N=U*c+e<<2,l=U*R+e<<4;d[N]=x[l];d[N+1]=x[l+1];d[N+2]=x[l+2];
d[N+3]=x[l+3]}return d};u.yy.aA2=function(x,R,T,c,g){var d=T.m,U=T.e,e=d*U,N=u.yy.aBS,l=u.yy.B,J=u.kc.RM,w=u.yy.aj,x=N(x),s=new u.IV(d*U);
u.ZC(R,s);var R=[N(s.o),N(s.A),N(s.J)],o=u.yy.a3c(x,R,T,c,g),V=l(e);J(x,V,T,c);var a=l(e);w(R[0],x,a);
J(a,a,T,c);var O=l(e);w(R[1],x,O);J(O,O,T,c);var S=l(e);w(R[2],x,S);J(S,S,T,c);var L=l(e),Q=l(e),b=l(e),Z=l(e);
for(var z=0;z<e;z++){var I=V[z],y=o.Wd[z],r=o.K1[z],h=o.aV[z],k=a[z]-y*I,K=O[z]-r*I,H=S[z]-h*I;L[z]=o.anL[z]*k+o.FK[z]*K+o.DH[z]*H;
Q[z]=o.FK[z]*k+o.ae9[z]*K+o.So[z]*H;b[z]=o.DH[z]*k+o.So[z]*K+o.aBX[z]*H;Z[z]=I-L[z]*y-Q[z]*r-b[z]*h}J(L,L,T,c);
J(Q,Q,T,c);J(b,b,T,c);J(Z,Z,T,c);return[L,Q,b,Z]};u.yy.a3c=function(x,R,T,c,g){var d=T.m,U=T.e,e=d*U,N=u.yy.B,l=u.kc.RM,J=u.yy.aj,w={};
w.Wd=N(e);l(R[0],w.Wd,T,c);w.K1=N(e);l(R[1],w.K1,T,c);w.aV=N(e);l(R[2],w.aV,T,c);var s=N(e);J(R[0],R[0],s);
l(s,s,T,c);var o=N(e);J(R[0],R[1],o);l(o,o,T,c);var V=N(e);J(R[0],R[2],V);l(V,V,T,c);var a=N(e);J(R[1],R[1],a);
l(a,a,T,c);var O=N(e);J(R[1],R[2],O);l(O,O,T,c);var S=N(e);J(R[2],R[2],S);l(S,S,T,c);w.anL=s;w.FK=o;
w.DH=V;w.ae9=a;w.So=O;w.aBX=S;for(var z=0;z<e;z++){var L=w.Wd[z],Q=w.K1[z],b=w.aV[z],Z=s[z]-L*L+g,I=o[z]-L*Q,y=V[z]-L*b,r=a[z]-Q*Q+g,h=O[z]-Q*b,k=S[z]-b*b+g,K=r*k-h*h,H=h*y-I*k,p=I*h-r*y,f=Z*k-y*y,A=y*I-Z*h,_=Z*r-I*I,W=K*Z+H*I+p*y,Y=1/W;
w.anL[z]=K*Y;w.FK[z]=H*Y;w.DH[z]=p*Y;w.ae9[z]=f*Y;w.So[z]=A*Y;w.aBX[z]=_*Y}return w};u.yy.B=function(x){return new Float32Array(x)};
u.yy.aBS=function(x){var R=x.length,T=new Float32Array(R);for(var z=0;z<R;z++)T[z]=x[z]*(1/255);return T};
u.yy.aj=function(x,R,T){for(var z=0;z<x.length;z++)T[z]=x[z]*R[z]};u.DF={};u.DF.j0=function(x,R,T,c){var g=x[R]-T[c],d=x[R+1]-T[c+1],U=x[R+2]-T[c+2];
return Math.sqrt(g*g+d*d+U*U)*(1/441.7)};u.DF.getSelection=function(x,R,T){var c=R*T,g=u.B(c),d=!1,U=Math.round(T*.7),e=1,N=new Uint32Array(12),l=u.B(12);
for(var J=0;J<U;J++)for(var w=0;w<R;w++){if(w<e||J<e||w>R-e-1||J>T-e-1){var z=J*R+w,s=z<<2,o=0;if(J<e)o=4;
else if(w>R-e-1)o=8;N[o]+=x[s];N[o+1]+=x[s+1];N[o+2]+=x[s+2];N[o+3]++;g[z]=255}}for(var z=0;z<12;z+=4)for(var V=0;
V<3;V++)l[z+V]=N[z+V]/N[z+3];var a=new Float32Array(c);for(var z=0;z<c;z++){var s=z*4,O=u.DF.j0(x,s,l,0),S=u.DF.j0(x,s,l,4),L=u.DF.j0(x,s,l,8),Q=Math.max(O,Math.max(S,L));
a[z]=O+S+L-Q}u.DF.pG(a);var b=Date.now(),Z=new Float32Array(c),I=[],y=u.B(c);for(var z=0;z<3;z++){u.TR(x,y,z);
var r=new Uint16Array(c);I.push(r);u.DF.abL(y,g,R,T,r)}if(d)console.log("MBD",Date.now()-b);b=Date.now();
for(var z=0;z<c;z++)Z[z]=I[0][z]+I[1][z]+I[2][z];u.DF.pG(Z);for(var z=0;z<c;z++)Z[z]+=.4*a[z];var h=R>>>1,U=T>>>1,k=1/Math.sqrt(h*h+U*U);
for(var J=0;J<T;J++)for(var w=0;w<R;w++){var K=w-h,H=J-U,p=1-Math.sqrt(K*K+H*H)*k;Z[J*R+w]*=p}if(d)console.log("Centeredness",Date.now()-b);
b=Date.now();for(var z=0;z<c;z++)g[z]=Z[z]*255;var f=Math.round(R/120),A=Math.round(f*.8);if(d)console.log(f,A);
u.Rn.Fv(g,g,R,T,f+f+1,!1);if(d)console.log("erosion",Date.now()-b);b=Date.now();for(var z=0;z<c;z++)Z[z]=g[z];
u.DF.pG(Z);var _=u.B(256);for(var z=0;z<256;z++)_[z]=256/(1+Math.exp(-20*(z/255-.5)));for(var z=0;z<c;
z++){var W=~~(Z[z]*255+.5);g[z]=_[W]}if(d)console.log("Simoid",Date.now()-b);b=Date.now();return g};
u.DF.pG=function(x){var R=x.length,T=0;for(var z=0;z<R;z++)T=Math.max(T,x[z]);var c=1/T;for(var z=0;
z<R;z++)x[z]=x[z]*c};u.DF.abL=function(x,R,T,c,g){var d=T*c,U=x.slice(0),e=x.slice(0);for(var z=0;z<d;
z++)g[z]=R[z]==255?0:65535;u.DF.aoT(x,e,U,g,T,c);u.DF.aof(x,e,U,g,T,c);u.DF.aoT(x,e,U,g,T,c);u.DF.aof(x,e,U,g,T,c);
return g};u.DF.aoT=function(x,R,T,c,g,d){for(var U=1;U<g;U++)u.DF.Vk(U,-1,x,R,T,c);for(var e=1;e<d;e++){u.DF.Vk(e*g,-g,x,R,T,c);
for(var U=1;U<g;U++){var z=e*g+U;u.DF.Vk(z,-1,x,R,T,c);u.DF.Vk(z,-g,x,R,T,c)}}};u.DF.aof=function(x,R,T,c,g,d){for(var U=g-2;
U>=0;U--)u.DF.Vk(g*d-g+U,1,x,R,T,c);for(var e=d-2;e>=0;e--){u.DF.Vk(e*g+g-1,g,x,R,T,c);for(var U=g-2;
U>=0;U--){var z=e*g+U;u.DF.Vk(z,1,x,R,T,c);u.DF.Vk(z,g,x,R,T,c)}}};u.DF.Vk=function(z,x,R,T,c,g){var d=z+x,U=R[z],e=T[d],N=c[d];
if(e<U)e=U;else if(U<N)N=U;var l=e-N;if(g[d]!=65535&&l<g[z]){g[z]=l;T[z]=e;c[z]=N}};u.Zu={};u.Zu.filter=function(x,R,T,c){var g=R.m,d=R.e,U=g*d,e=c[0],N=c[1],l=c[2],J=c[3],w=c[4],s=c[5],o=c[6],V=Date.now(),a=new Float32Array(g*d*4);
u.Zu.alG(x,g,d,a);var O=Math.ceil(e*Math.sqrt(-2*Math.log(.1))),S=new ArrayBuffer(U*4),L=new Float32Array(S),Q=new Float32Array(U),b=new Float32Array(U);
for(var z=0;z<U;z++){var Z=z*4;L[z]=a[Z];Q[z]=a[Z+1];b[z]=a[Z+2]}u.kc.cX(L,L,R,O*1/2.4,2);u.kc.cX(Q,Q,R,O*1/2.4,2);
u.kc.cX(b,b,R,O*1/2.4,2);for(var z=0;z<U;z++){var Z=z*4;a[Z]=L[z];a[Z+1]=Q[z];a[Z+2]=b[z]}var I=new Uint8Array(S);
for(var z=0;z<U;z++){var Z=z*4,y=z*4,L=a[Z],Q=a[Z+1],b=a[Z+2],r=Math.sqrt((L-b)*(L-b)+4*Q*Q),h=(L+b+r)*.5,k=(L+b-r)*.5,K=k-b,H=Q,p=K*K+H*H;
if(p!=0){var f=Math.sqrt(p),A=1/f;K*=A;H*=A}I[y]=128+127*K;I[y+1]=128+127*H}var _=1.3*N+2,W=J*(2/10),Y=x.slice();
if(fq.tc){var G=new Float32Array([1/g,1/d]),i=fq.kN(0,g,d);i.set(Y);var E=fq.kN(1,g,d);E.set(I);fq.WM(i,R);
if(w){i.Gu(R);fq.filter.c8({type:fq.filter.a1n,rm:G,a8G:1/l,abD:W},i.xU)}i.Gu(R);fq.filter.c8({type:fq.filter.ZS,Xv:E.G1,rm:G,ayX:_,a6L:2},i.xU);
if(w){i.Gu(R);fq.filter.c8({type:fq.filter.a2d,rm:G,auF:new Float32Array(o),acn:s},i.xU)}i.get(T)}else{if(w)u.Zu.m0(1/l,W,Y,g,d);
u.Zu.ZS(Y,T,I,g,d,_);if(w)u.Zu.aoS(g,d,T,o,s)}var $=U*4;for(var z=3;z<$;z+=4)T[z]=x[z]};u.Zu.ZS=function(x,R,T,c,g,d){var U=Math.ceil(2*d),e=-1/(2*d*d),N=[],l=1;
for(var z=0;z<U+20;z++)N[z]=Math.exp(z*z*e);var J=[0,0,0,0];for(var w=0;w<g;w++){for(var s=0;s<c;s++){var o=w*c+s,V=o*4,a=1,O=x[V],S=x[V+1],L=x[V+2],Q=x[V+3],b=(T[V]-128)*(1/127),Z=(T[V+1]-128)*(1/127),I=b,y=Z,r=s==0?.51:.49,h=w==0?.51:.49;
for(var z=0;z<2;z++){var k=s+r,K=w+h,H=0;while(H<U){if(k<.5||c-.5<k||K<.5||g-.5<K)break;var p=~~k,f=~~K,A=f*c+p,_=A*4,W=(T[_]-128)*(1/127),Y=(T[_+1]-128)*(1/127);
if(W*I+Y*y<0){W=-W;Y=-Y}I=W;y=Y;k+=l*W;K+=l*Y;if(k<.5||c-.5<k||K<.5||g-.5<K)break;var G=~~k,i=~~K,E=i*c+G<<2;
H+=l;var $=N[~~H];u.D.a1a(k,K,x,c,g,J);O+=J[0]*$;S+=J[1]*$;L+=J[2]*$;Q+=J[3]*$;a+=$}I=-b;y=-Z}var C=1/a;
R[V]=~~(.5+O*C);R[V+1]=~~(.5+S*C);R[V+2]=~~(.5+L*C);R[V+3]=~~(.5+Q*C)}}};u.Zu.aoS=function(x,R,T,c,g){for(var d=0;
d<R;d++)for(var U=0;U<x;U++){var e=d*x+U<<2,N=1+u.Zu.aiK(U,d,T,x,R,c)*g;T[e]=Math.max(0,Math.min(255,T[e]*N));
T[e+1]=Math.max(0,Math.min(255,T[e+1]*N));T[e+2]=Math.max(0,Math.min(255,T[e+2]*N))}};u.Zu.aiK=function(x,R,T,c,g,d){var U=T[(R*c+Math.max(0,x-1))*4+3],e=T[(R*c+Math.min(c-1,x+1))*4+3],N=T[(Math.max(0,R-1)*c+x)*4+3],l=T[(Math.min(g-1,R+1)*c+x)*4+3],J=.7,w=(e-U)*(1/255),s=.7,o=(l-N)*(1/255),V=-w*s,a=-J*o,O=J*s,S=Math.sqrt(V*V+a*a+O*O),L=1/S,Q=V*L,b=a*L,Z=O*L,I=d[0]*Q+d[1]*b+d[2]*Z;
return I};u.Zu.m0=function(x,R,T,c,g){function d(e,l,J){return Math.max(l,Math.min(J,e))}for(var U=0;
U<g;U++)for(var e=0;e<c;e++){var N=u.Zu.ahi(e+.5,U+.5,x,R);T[(U*c+e)*4+3]=Math.max(0,Math.min(255,N*255))}};
u.Zu.ahi=function(x,R,T,c){function g(y,r,h){return(1-h)*y+h*r}var d=(x+613)*T,U=(R+117)*T,e=~~d,N=~~U,l=d-e,J=U-N,w=Math.sin(11),s=Math.cos(e)*w,o=Math.cos(e+1)*w,V=Math.cos(N)*w,a=Math.cos(N+1)*w,cg=u.Zu.hash(s,V),O=u.Zu.hash(o,V),S=u.Zu.hash(s,a),L=u.Zu.hash(o,a),Q=g(cg,O,l),b=g(S,L,l),Z=g(Q,b,J);
Z=Z<.5?0:1;var I=Z+c*u.Zu.hash(Math.cos(d)*w,Math.cos(U)*w);return I*(1/3)};u.Zu.hash=function(x,R){var T=Math.sin(x*11.697096+R*73.32456)*12157.47691;
return T-Math.floor(T)};u.Zu.alG=function(x,R,T,c){var g=[-1,0,1,-2,0,2,-1,0,1],d=[-1,-2,-1,0,0,0,1,2,1],U=R-1,e=T-1,N=R*4;
for(var l=1;l<e;l++)for(var J=1;J<U;J++){var z=l*R+J,w=z*4,s=u.Zu.oh(x,w,N,g),o=u.Zu.oh(x,w,N,d),V=u.Zu.oh(x,w+1,N,g),a=u.Zu.oh(x,w+1,N,d),O=u.Zu.oh(x,w+2,N,g),S=u.Zu.oh(x,w+2,N,d);
c[w]=s*s+V*V+O*O;c[w+1]=s*o+V*a+O*S;c[w+2]=o*o+a*a+S*S}u.Zu.acf(c,R,T)};u.Zu.oh=function(x,R,T,c){return x[R-T-4]*c[0]+x[R-T]*c[1]+x[R-T+4]*c[2]+x[R-4]*c[3]+x[R]*c[4]+x[R+4]*c[5]+x[R+T-4]*c[6]+x[R+T]*c[7]+x[R+T+4]*c[8]};
u.Zu.acf=function(x,R,T){function c(N,z,l){var J=z*4,w=l*4;N[w]=N[J];N[w+1]=N[J+1];N[w+2]=N[J+2]}var g=R-1,d=T-1;
c(x,R+1,0);c(x,2*R-2,R-1);for(var U=1;U<g;U++)c(x,R+U,U);for(var e=1;e<d;e++){c(x,e*R+1,e*R);c(x,e*R+R-2,e*R+R-1)}for(var U=1;
U<g;U++)c(x,(T-2)*R+U,(T-1)*R+U);c(x,(e-2)*R+1,(e-1)*R);c(x,(e-1)*R-2,e*R-1)};u.zx=function(){function x(l,J,w,s){var o=new Float32Array(l*l),V=l/2;
for(var a=0;a<l;a++)for(var O=0;O<l;O++){var S=O+w-V,L=a+s-V;o[a*l+O]=Math.max(0,Math.min(1,J+.5-Math.sqrt(S*S+L*L)))}return o}var R=[],c=null;
function T(l,J,w,s){var o=Math.floor(J*10),V=R[o],a=l*8,O=a>>>1;if(V==null){V=R[o]=[];var S=new aP(0,0,a,a),L=l/2/(1+.2*J),Q=Math.floor(l*o*.1);
for(var b=0;b<2;b++)for(var Z=0;Z<2;Z++){var I=x(a,L,.25+Z*.5,.25+b*.5),y=0;u.kc.cX(I,I,S,Q);while(I[a*O+y]<.005)y++;
if(y!=0)y--;var r=2*(O-y),h=new aP(y,y,r,r),k=new Float32Array(r*r);for(var K=0;K<r;K++)for(var H=0;
H<r;H++)k[K*r+H]=I[(y+K)*a+y+H];V.push([k,h])}}var p=Math.floor(w),f=Math.floor(s),A=w-p,_=s-f,W=A<.5?1:0,Y=_<.5?1:0;
V=V[Y*2+W];var h=V[1].clone();h.x+=p-O;h.y+=f-O;return[V[0],h]}function g(l,J,w){if(c==null){c=new Uint8Array(4e4);
for(var z=0;z<4e4;z++)c[z]=Math.min(255,~~(.5+255*u.lW(z*(1/255))))}var s=l.length;for(var z=0;z<s;z++){var o=l[z],V=~~(255*o);
J[z]=c[V]<<24|w}}function d(l,J,w,s,o){var V=J.yx(s),a=Math.max(0,V.x-J.x),O=Math.max(0,V.x-s.x),S=Math.max(0,V.y-J.y),L=Math.max(0,V.y-s.y),Q=V.m,b=V.e;
for(var z=0;z<b;z++){var Z=(S+z)*J.m+a,I=(L+z)*s.m+O;for(var y=0;y<Q;y++){w[I+y]+=o*l[Z+y]}}}var U=-1;
function e(l,J,w,s,o){var V=Math.round(s[1]*J*w*.01),a=s[2],O=s[3],S=s[4],L=s[5],Q=s[6],b=s[7],Z=s[8],I=s[9],y=s[10]?s[10]:1,$=!1;
if(a!=U){R=[];U=a}var r=Date.now(),h=new aP(0,0,J,w),k=new N(s[0]);if(o)l.fill(0);var K=new Float32Array(o?l.buffer:J*w);
for(var z=0;z<V;z++){var H=k.get()*J,p=k.get()*w,f=k.get()*O,A=k.get()*a*4,_=(k.get()+Q)*Math.PI*2,W=k.get()*a*4,Y=(k.get()+2*Q)*Math.PI*2;
H+=I*(A*Math.cos(_)+W*Math.cos(Y));p+=I*(A*Math.sin(_)+W*Math.sin(Y));if(Z)p=p+Q*w*y;var G=T(a,f,H,p%w),i=S,E=k.get();
if(b)i=.5+.5*S*(.5+.5*Math.sin((2*Q+E)*2*Math.PI));d(G[0],G[1],K,h,i)}if($)console.log(Date.now()-r,"add floats");
r=Date.now();var C=new Uint8Array(K.buffer);g(K,new Uint32Array(C.buffer),L.J<<16|L.A<<8|L.o);if($)console.log(Date.now()-r,"toInt");
r=Date.now();if(!o){u.l.Hy("scrn",C,h,l,h,h,1);if($)console.log(Date.now()-r,"blendOver")}}function N(l){this.xu=123456789;
this.og=987654321;this.F=4294967295;this.hH(l)}N.prototype.hH=function(z){this.xu=123456789+z&this.F;
this.og=987654321-z&this.F};N.prototype.get=function(){this.og=36969*(this.og&65535)+(this.og>>16)&this.F;
this.xu=18e3*(this.xu&65535)+(this.xu>>16)&this.F;var l=(this.og<<16)+(this.xu&65535)>>>0;l/=4294967296;
return l};return{$$:e}}();u.lZ={};u.lZ.sM=function(x,R,T,c){var g=x[R*2],d=x[R*2+1],U=x[T*2],e=x[T*2+1],N=x[c*2],l=x[c*2+1];
return g*e+U*l+N*d-N*e-U*d-g*l};u.lZ.aud=function(x,R){var T=[],c=[],g=[],d={};for(var z=0;z<R.length;
z+=3){var U=~~(z*(1/3)),e=R[z+0],N=R[z+1],l=R[z+2],J=u.lZ.sM(x,e,N,l);if(J>0){var w=N;N=l;l=w}var s=d[l+"-"+N],o=d[N+"-"+e],V=d[e+"-"+l],a=[l,s,U,null],O=[N,o,U,a],S=[e,V,U,O];
a[3]=S;if(s)s[1]=a;if(o)o[1]=O;if(V)V[1]=S;d[l+"-"+e]=S;d[e+"-"+N]=O;d[N+"-"+l]=a;T[e]=O;g[z]=O;T[N]=a;
g[z+1]=a;T[l]=S;g[z+2]=S;c[U]=O}return{AW:T,LI:c,Am:g}};u.lZ.axN=function(x){var R=[],T=x.LI;for(var z=0;
z<T.length;z++){var c=T[z];R.push(c[0]);c=c[3];R.push(c[0]);c=c[3];R.push(c[0])}return R};u.lZ.a3o=function(x,R,T,c){var g=x[R*2],d=x[R*2+1],U=x[T*2],e=x[T*2+1],N=x[c*2],l=x[c*2+1],J=U-g,w=e-d,s=N-g,o=l-d,V=J*(g+U)+w*(d+e),a=s*(g+N)+o*(d+l),O=2*(J*(l-e)-w*(N-U));
if(Math.abs(O)<1e-5){var S=Math.min(g,U,N),L=Math.min(d,e,l),Q=(Math.max(g,U,N)-S)*.5,b=(Math.max(d,e,l)-L)*.5;
return[S+Q,L+b,Q*Q+b*b,1]}var Z=(o*V-w*a)/O,I=(J*a-s*V)/O,Q=Z-g,b=I-d;return[Z,I,Q*Q+b*b,0]};u.lZ.axr=function(x,R,T){var c=T[1],g=T[3],d=g[3],U=c[3],e=U[3],N=T[2],l=c[2],J=T[0],w=c[0],s=g[0],o=U[0],V=u.lZ.a3o(x,w,o,s),a=x[J*2]-V[0],O=x[J*2+1]-V[1],S=a*a+O*O>V[2]&&V[3]==0&&u.lZ.sM(x,o,J,s)<0&&u.lZ.sM(x,s,w,o)<0;
if(S){T[0]=s;c[0]=o;T[3]=d;d[3]=U;U[3]=T;c[3]=e;e[3]=g;g[3]=c;g[2]=l;U[2]=N;R.LI[l]=e;R.LI[N]=d;R.AW[w]=U;
R.AW[J]=g}return S};u.lZ.axf=function(x,R,T){var c=x[R*2]-x[T*2],g=x[R*2+1]-x[T*2+1];return Math.sqrt(c*c+g*g)};
u.lZ.auJ=function(x,R,T){var c=T[1],g=T[3],d=g[3],U,e,N=T[2],l,J=T[0],w=d[0],s=g[0],o;if(c){U=c[3];e=U[3];
l=c[2];o=U[0]}var V=x.length>>>1;x[2*V]=(x[2*w]+x[2*J])*.5;x[2*V+1]=(x[2*w+1]+x[2*J+1])*.5;if(!0){var a=N,O=T,S=R.LI.length,L=[V,null,a,O],Q=[s,L,S,d];
L[1]=Q;var b=[V,null,S,Q];g[3]=L;d[3]=b;d[2]=S;R.LI[a]=g;R.LI[S]=b;R.AW[J]=g;R.AW[s]=d;R.Am.push(L,Q,b)}if(c){var Z=l,I=c,y=S+1;
b[1]=I,I[1]=b;var r=[V,null,Z,I],h=[o,r,y,e];r[1]=h;var k=[V,O,y,h];O[1]=k;U[3]=r;e[3]=k;e[2]=y;R.LI[Z]=U;
R.LI[y]=e;R.AW[w]=U;R.AW[o]=e;R.Am.push(r,h,k)}R.AW[V]=O};u.lZ.a2K=function(x,R){var T=0;while(!0){var c=T;
for(var z=0;z<R.Am.length;z++){var g=R.Am[z];if(g[1]==null)continue;var d=u.lZ.axr(x,R,g);if(d){T++;
break}}if(c==T)break}return T!=0};u.lZ.a3O=function(x,R,T,c){var g=0;for(var z=0;z<c;z++){var d=null,U=0;
for(var e=0;e<R.Am.length;e++){var N=R.Am[e],l=u.lZ.axf(x,N[0],N[3][3][0])*(N[1]?1:2);if(l>U){d=N;U=l}}if(U>T){u.lZ.auJ(x,R,d);
g++}}return g!=0};u.lZ.ayk=function(x,R){var T=[],s=0;for(var z=0;z<x.length;z++)T.push(0);for(var z=0;
z<R.Am.length;z++){var c=R.Am[z],g=c[0],d=c[3][3][0],U=x[g*2],e=x[g*2+1],N=x[d*2],l=x[d*2+1],J=U-N,w=e-l;
T[g*2]+=-J;T[g*2+1]+=-w;T[d*2]+=J;T[d*2+1]+=w}for(var z=0;z<x.length;z+=2){var o=z>>>1,V=R.AW[o],c=V,a=!0;
do{if(c[1]==null){a=!1;break}c=c[1][3]}while(c!=V);if(a){var O=.02;x[z]+=O*T[z];x[z+1]+=O*T[z+1];s+=O*(T[z]*T[z]+T[z+1]*T[z+1])}}return s};
u.lZ.ajN=function(x,R,T){var c=u.M.QK(x),g=u.lZ.aud(x,R);u.lZ.a2K(x,g);for(var d=0;d<300;d++){var U=!1,e=!1;
U=u.lZ.a3O(x,g,T,5);if(U)e=u.lZ.a2K(x,g);var N=u.lZ.ayk(x,g);if(!U&&!e&&N<1e-4){break}}return u.lZ.axN(g)};
u.xn={};u.xn.a24=function(x){var R=x.dG,T=x.qe,c=x.Pg,g=x.hn,d=x.Np,U=x.YD,e=x.bH,N=u.Zv.kK,L,Q,b=0;
function l(cg){var iE=new Array(cg);for(var z=0;z<cg;z++)iE[z]=0;return iE}var J=T.length>>>1,w=l(R.MR*2),s=l(R.MR),o=l(R.MR),V=Date.now();
for(var z=0;z<x.Qa.length;z++){var a=R.ayY+z,O=R.KQ*(U[z*2]+e[z*2]),S=R.KQ*(U[z*2+1]+e[z*2+1]);w[a*2]=O;
w[a*2+1]=S;s[a]=O;o[a]=S}R.abc.sV(g,R.axg.kK(w),.01,L,Q);for(var z=0;z<R.a3T.Am.length;z++){var Z=R.a3T.Am[z],I=Z[3][3][0],y=Z[0],r=Z[3][0],h=Z[1]?Z[1][3][0]:r;
if(Z[1]&&I>y)continue;var k=T[I*2],K=T[I*2+1],H=T[y*2],p=T[y*2+1],f=g[I*2],A=g[I*2+1],_=g[y*2],W=g[y*2+1],Y=g[r*2],G=g[r*2+1],i=g[h*2],E=g[h*2+1],$=[f,A,_,W,Y,G];
if(Z[1])$.push(i,E);var C=N(R.aj4[b],$),B=C[0],M=C[1],j=1/Math.sqrt(B*B+M*M);B*=j;M*=j;var P=H-k,t=p-K;
s[b]=B*P+M*t;o[b]=-M*P+B*t;b++}var q=new Array(J),m=new Array(J);for(var z=0;z<J;z++){q[z]=d[z*2];m[z]=d[z*2+1]}R.aq3.sV(q,R.ahX.kK(s),.5);
R.aq3.sV(m,R.ahX.kK(o),.5);for(var z=0;z<J;z++){d[z*2]=q[z];d[z*2+1]=m[z]}};u.xn.afz=function(x){var R=x.qe,T=x.Pg,c=x.Qa,g=u.Zv.multiply,d=Date.now(),U=u.lZ.aud(R,T),e=R.length>>>1,N=0,V=0,M=1e3;
for(var z=0;z<U.Am.length;z++)N+=U.Am[z][1]?.5:1;var l=N+c.length,J=[],w=new u.BO(l*2,e*2),s=new u.BO(l,e),o=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],a=[],O=[];
for(var z=0;z<U.Am.length;z++){var S=U.Am[z],L=S[3][3][0],Q=S[0],b=S[3][0],Z=S[1]?S[1][3][0]:b;if(S[1]&&L>Q)continue;
var I=R[L*2],y=R[L*2+1],r=R[Q*2],h=R[Q*2+1],k=R[b*2],K=R[b*2+1],H=R[Z*2],p=R[Z*2+1],f=[[I,y,1,0],[y,-I,0,1],[r,h,1,0],[h,-r,0,1],[k,K,1,0],[K,-k,0,1]];
if(S[1])f.push([H,p,1,0],[p,-H,0,1]);var A=u.Zv.xZ(f),_=g(linear.invert(g(A,f)),A);_.pop();_.pop();J.push(_);
var W=r-I,Y=h-y,G=o[S[1]?1:0];G=u.Zv.KV(G,g([[W,Y],[Y,-W]],_));var i=[L*2,L*2+1,Q*2,Q*2+1,b*2,b*2+1,Z*2,Z*2+1],E=S[1]?8:6,$=[];
for(var C=0;C<E;C++)$.push([i[C],G[0][C],G[1][C]]);$.sort(function(iE,hV){return iE[0]-hV[0]});for(var B=0;
B<2;B++){for(var C=0;C<E;C++){a[C]=$[C][0];O[C]=$[C][1+B]}w.FI(O,a,E)}if(L<Q)s.FI([-1,1],[L,Q],2);else s.FI([1,-1],[Q,L],2);
V++}for(var z=0;z<c.length;z++){var j=c[z];w.FI([M],[j*2],1);w.FI([M],[j*2+1],1);s.FI([M],[j],1)}var P=w.xZ(),t=P.xQ(P),q=s.xZ(),m=q.xQ(q);
return{ayY:N,MR:l,axg:P,abc:t,ahX:q,aq3:m,a3T:U,aj4:J,KQ:M}};u.xn.alS=function(x,R,T,c,g){var d=new aP(0,0,R,T),U=u.B(d.Z());
u.TR(x,U,3);u.round(U,70);var e=u.Vn(U,d),N=[.1,.065,.035][c]*Math.max(e.m,e.e),l=g+1,J=R+l*2,w=T+l*2,s=new aP(-l,-l,J,w),o=u.B(s.Z());
u.gN(U,d,o,s);var V=o.slice(0);for(var a=0;a<g;a++){for(var O=1;O<w-1;O++){for(var S=1;S<J-1;S++){var z=O*J+S;
V[z]=o[z-J]|o[z-1]|o[z]|o[z+1]|o[z+J]}}var L=V;V=o;o=L}var Q=bd.WU(o,J,w,Math.round(e.Z()*5e-4)),b=bd.JR(Q),Z=new gP(1,0,0,1,-l,-l);
for(var z=0;z<b.length;z++){var I=b[z];u.M.i(I.path.z,Z,I.path.z);I.qe=u.xn.akn(I.path);I.Pg=u.M.ak4(I.qe);
I.Pg=u.lZ.ajN(I.qe,I.Pg,N)}return b};u.xn.akn=function(x){var R=[],T=x.z,c=x.G.length-1,g=0,d=0;for(var U=0;
U<c;U++){var z=U*6,e=T[z+6]-T[z+0],N=T[z+7]-T[z+1],l=Math.ceil(Math.sqrt(e*e+N*N));for(var J=0;J<l;J++){var w=J/l,s=1-w,o=s*s*s*T[z+0]+3*s*s*w*T[z+2]+3*s*w*w*T[z+4]+w*w*w*T[z+6],V=s*s*s*T[z+1]+3*s*s*w*T[z+3]+3*s*w*w*T[z+5]+w*w*w*T[z+7];
R.push(o,V);g=o;d=V}}R=u.M.a6y(R,1);var a=[],O=R.length;for(var z=0;z<O;z+=2){var V=R.pop(),o=R.pop();
a.push(o,V)}return a};u.xn.akm=function(x,R,T,c){function g(r,h,k,K,H){var p=H[r*2]-H[h*2],f=H[r*2+1]-H[h*2+1],A=Math.sqrt(p*p+f*f);
if(k[r].indexOf(h)==-1){k[r].push(h);K[r].push(A)}if(k[h].indexOf(r)==-1){k[h].push(r);K[h].push(A)}}var d=x.length>>>1,U=new Array(d);
if(T.length==0){U.fill(0);return U}var e=new Array(d),N=new Array(d);for(var z=0;z<d;z++){e[z]=[];N[z]=[]}for(var z=0;
z<R.length;z+=3){g(R[z],R[z+1],e,N,x);g(R[z],R[z+2],e,N,x);g(R[z+1],R[z+2],e,N,x)}var l=new Float64Array(d*2),J=new Uint32Array(d*2);
l.fill(1e9);var w=new Uint8Array(d);for(var s=0;s<T.length;s++){w.fill(0);var o=["---",[0,T[s]]];while(o.length!=1){var V=u.agm.sP(o),a=V[0],O=V[1];
if(w[O]==1)continue;var S=O<<1;if(a<l[S]){l[S+1]=l[S];J[S+1]=J[S];l[S]=a;J[S]=s}else if(a<l[S+1]){l[S+1]=a;
J[S+1]=s}w[O]=1;var L=e[O],Q=N[O];for(var z=0;z<L.length;z++){var b=L[z];if(w[b]!=1){u.agm.X6(o,[a+Q[z],b])}}}}for(var z=0;
z<d;z++){var S=z<<1,Z=l[S],I=l[S+1],y=1/(Z+I);U[z]=(1-Z*y)*c[J[S]]+(1-I*y)*c[J[S+1]]}return U};u.xn.a0I=function(x){var R={G:[],z:[]},T=[x];
while(T.length!=0){var c=T.pop(),g=c.Uc;if(c.aAK instanceof Array||c.a5T instanceof Array){R.G.push("M","L","L","L","Z");
R.z.push(g[0],g[1],g[2],g[1],g[2],g[3],g[0],g[3])}else T.push(c.aAK,c.a5T)}return R};u.xn.wa=function(x,R,T,c,g,d,U,e,N,l,J){var w=Math.round(l.length/3),s=new Array(w);
for(var z=0;z<w;z++)s[z]=z;s.sort(function(V,a){return N[l[V*3]]-N[l[a*3]]});for(var z=0;z<w;z++){var o=s[z]*3;
u.xn.aw6(l[o]*2,l[o+1]*2,l[o+2]*2,U,e,x,R,T,c,g,d,J)}};u.xn.aw6=function(x,R,T,c,g,d,U,e,N,l,J,w){var s=[x,R,T,1.2,1.2,1.2,0],o=[0,0,0,0],V=g[x],a=g[x+1],O=g[R],S=g[R+1],L=g[T],Q=g[T+1],b=O-V,Z=S-a,I=L-V,y=Q-a,r=b*y-I*Z+1e-9,h=1/r,k=Math.max(0,Math.min(U-1,c[x])),K=Math.max(0,Math.min(U-1,c[R])),H=Math.max(0,Math.min(U-1,c[T])),p=Math.max(0,Math.min(e-1,c[x+1])),f=Math.max(0,Math.min(e-1,c[R+1])),A=Math.max(0,Math.min(e-1,c[T+1])),_=V<O?V<L?x:T:O<L?R:T,W=g[_+1]+.5,Y=Math.max(0,Math.floor(Math.min(V,O,L))),G=Math.min(l,Math.ceil(Math.max(V,O,L))),i=Math.max(0,Math.floor(Math.min(a,S,Q))),E=Math.min(J,Math.ceil(Math.max(a,S,Q))),$=1e9;
for(var C=i;C<E;C++){var B=C>W&&$!=1e9?$:Y;$=1e9;for(var M=B;M<G;M++){var j=M+.5-V,P=C+.5-a,t=(j*y-I*P)*h,q=(b*P-j*Z)*h;
if(t>=0&&q>=0&&t+q<=1){if($==1e9)$=M;var m=1-t-q,iE=k*m+K*t+H*q,hV=p*m+f*t+A*q;if(w){var dD=Math.floor(.5+hV)*U+Math.floor(.5+iE),bh=dD<<2,ho=C*l+M<<2;
N[ho]=d[bh];N[ho+1]=d[bh+1];N[ho+2]=d[bh+2];N[ho+3]=d[bh+3]}else{u.D.a1a(iE,hV,d,U,e,o);u.xn.at$(o,N,C*l+M<<2)}}else if($!=1e9)break}}};
u.xn.at$=function(x,R,T){if(x[3]>250){R[T]=~~(.5+x[0]);R[T+1]=~~(.5+x[1]);R[T+2]=~~(.5+x[2]);R[T+3]=~~(.5+x[3])}else{var c=R[T],g=R[T+1],d=R[T+2],U=R[T+3],e=1-x[3]*(1/255);
R[T]=~~(.5+x[0]+c*e);R[T+1]=~~(.5+x[1]+g*e);R[T+2]=~~(.5+x[2]+d*e);R[T+3]=~~(.5+x[3]+U*e)}};u.xn.aq8=function(){var x=function(T,c,g,d){var U=d[0],e=d[1],N=d[2],l=T[U+0],J=T[U+1],w=T[e+0],s=T[e+1],o=T[N+0],V=T[N+1],a=w-l,O=s-J,S=o-l,L=V-J,Q=c-l,b=g-J,Z=a*L-S*O,I=1/(Z+1e-9),y=(Q*L-S*b)*I,r=(a*b-Q*O)*I;
if(y>=0&&r>=0&&y+r<=1){d[3]=1-y-r;d[4]=y;d[5]=r;return 1}return 0},R=function(T,c,g,d){var U=[0,0,0,0,0,0];
for(var z=0;z<c.length;z+=3){U[0]=c[z]*2;U[1]=c[z+1]*2;U[2]=c[z+2]*2;if(x(T,g,d,U)==1)return!0}return!1};
return{a3p:x,aCa:R}}();u.Nr={};u.Nr.ar1=function(x,R,T,c){x=x.slice(0);if(c)u.rN(c,x,3);else for(var z=0;
z<x.length;z+=4)x[z+3]=0;var g=u.B(R*T*4),d=!1;u.D.D1(x,R,T,g,[T,R,0,1,0,1,0,0]);return[u.Nr.KG(x,R,T,d),u.Nr.KG(g,T,R,d)]};
u.Nr.i=function(x,R){var T=!1,c=x[0],g=x[1],d=c[1],U=c[2],e=c[3],N=R.m,l=R.e;if(U==N&&e==l)d=d.slice(0);
else if(e!=l){var J=u.B(U*l*4);u.Nr.d0(g,l,J,T);d=u.B(U*l*4);u.D.D1(J,l,U,d,[U,l,0,1,0,1,0,0]);if(U!=N){c=u.Nr.KG(d,U,l,T);
d=u.B(N*l*4);u.Nr.d0(c,N,d,T)}}else if(U!=N){d=u.B(N*e*4);u.Nr.d0(c,N,d,T)}for(var z=0;z<d.length;z+=4)d[z+3]=255;
return d};u.Nr.KG=function(x,R,T,c){var g=Date.now(),d=new Uint16Array(R*T),l=1;u.Nr.aCX(x,R,T,d);var U=u.B(R*T);
u.TR(x,U,3);for(var e=0;e<T;e++)for(var N=0;N<R;N++)d[e*R+N]+=Math.floor((65535-d[e*R+N])*U[e*R+N]*(1/255));
var J=Math.ceil(R/l),w=new Uint32Array(l),s=new Uint32Array(l),J=Math.floor(R/l);for(var o=0;o<l;o++)s[o]=o<l-1?J:R-(l-1)*J;
for(var e=0;e<T;e++){var z=e*R;for(var o=0;o<l;o++){var J=s[o];for(var N=0;N<J;N++)w[o]+=d[z+N];z+=J}}if(c){console.log(Date.now()-g,"cost");
g=Date.now()}var V=new Uint32Array(R),a=new Uint32Array(R),O=new Uint32Array(R*T);for(var N=0;N<R;N++){O[(T-1)*R+N]=d[(T-1)*R+N]}for(var e=T-2;
e>=0;e--){var S=e*R;for(var o=0;o<l;o++){var J=s[o];O[S]=d[S]+Math.min(O[S+R],O[S+R+1]);for(var N=1;
N<J-1;N++){var z=S+N;O[z]=d[z]+Math.min(O[z+R-1],Math.min(O[z+R],O[z+R+1]))}S+=J-1;O[S]=d[S]+Math.min(O[S+R-1],O[S+R]);
S++}}if(c){console.log(Date.now()-g,"Building M");g=Date.now()}function L(H,p){return H<p?H:p}function Q(z,H){var p=a[z],f=O[H],A=~~(p*f*1e-4);
return A}var b=new Uint8Array(R*T),Z=new Uint32Array(R);for(var z=0;z<R;z++){V[z]=z;a[z]=d[z]}for(var e=1;
e<T;e++){var I=0,S=e*R;for(var o=0;o<l;o++){var J=s[o],z=S;Z[I]=Q(I,z);var y=Z[I]+Q(I+1,z+1),r=Q(I,z+1)+Q(I+1,z);
Z[I+1]=L(y,r);for(var N=2;N<J;N++){var z=S+N,h=Z[I+N-1]+Q(I+N-1,z-1),k=Z[I+N-2]+Q(I+N-1,z-2)+Q(I+N-2,z-1);
Z[I+N]=L(h,k)}var N=J-1;while(N>=2){var z=S+N,h=Z[I+N-1]+Q(I+N-1,z-1),k=Z[I+N-2]+Q(I+N-1,z-2)+Q(I+N-2,z-1);
if(Z[I+N]==h){b[z-R]=1;N-=1}else{b[z-R]=0;b[z-R-1]=2;N-=2}}var z=S;if(N==0){b[z-R]=1}else{if(Z[I+1]==y){b[z+1-R]=1;
b[z-R]=1}else{b[z+1-R]=0;b[z-R]=2}}S+=J;I+=J}u.Nr.aad(e,R,b,d,V,a,!0,g)}if(c){console.log(Date.now()-g,"Matching");
g=Date.now()}var K=d;return[UZIP.adler(x,0,x.length),x,R,T,l,s,w,V,a,b,K]};u.Nr.d0=function(x,R,T,c){var g=x.slice(0),d=g.shift(),U=g.shift(),e=g.shift(),N=g.shift(),l=g.shift(),J=g.shift(),w=g.shift(),s=g.shift(),o=g.shift().slice(0),V=g.shift(),a=g.shift(),O=Date.now(),S=Math.abs(e-R),L=Math.floor(S/l),Q=new Uint32Array(l),Z=0,I=1e9,r=0,h=0,k=0;
for(var b=0;b<l;b++)Q[b]=b<l-1?L:S-(l-1)*L;a.fill(0);for(var y=0;y<e;y++){Z=Math.max(Z,o[y]);I=Math.min(I,o[y])}for(var b=0;
b<l;b++){var K=J[b],L=Q[b];for(var H=0;H<L;H++){var p=0,f=1e9;for(var y=0;y<K;y++)if(o[h+y]<f){f=o[h+y];
p=h+y}if(R<e)o[p]=1e9;else o[p]*=1.2;if(k<e/3)r+=f;var A=s[p],_=a[A],W=_<65280?65280:_+1;if(W<65280)throw"e";
for(var Y=0;Y<N;Y++){var z=Y*e+A;a[z]=W;A+=V[z]-1}k++}h+=K}if(c){console.log(Date.now()-O,"Removing best seams");
O=Date.now()}function G(z,E){var $=z<<2,C=E<<2;T[$]=U[C];T[$+1]=U[C+1];T[$+2]=U[C+2];T[$+3]=U[C+3]}for(var Y=0;
Y<N;Y++){var i=0,z=Y*e;for(var y=0;y<R;y++,i++){if(R<e){while(a[z+i]==65280)i++;G(Y*R+y,Y*e+i)}else{G(Y*R+y,Y*e+i);
while(a[z+i]>=65280){a[z+i]--;y++;G(Y*R+y,Y*e+i)}}}}if(c){console.log(Date.now()-O,"Shifting image pixels");
O=Date.now()}};u.Nr.aad=function(x,R,T,c,g,d){var U=0,z=x*R;while(U<R){if(T[z-R]==1){d[U]=d[U]+c[z];
U++;z++}else{var e=g[U];g[U]=g[U+1];g[U+1]=e;var N=d[U];d[U]=d[U+1]+c[z];d[U+1]=N+c[z+1];U+=2;z+=2}}};
u.Nr.aCX=function(x,R,T,c){function g(x,z,N){var w=z<<2,s=N<<2,o=x[w]-x[s],V=x[w+1]-x[s+1],a=x[w+2]-x[s+2];
return Math.abs(o)+Math.abs(V)+Math.abs(a)}for(var d=1;d<R;d++){var U=g(x,d,d-1);c[d-1]+=U;c[d]+=U}for(var e=1;
e<T;e++){var N=e*R,U=g(x,N,N-R);c[N]+=U;c[N-R]+=U;for(var d=1;d<R;d++){var z=e*R+d,l=g(x,z,z-1),J=g(x,z,z-R);
c[z-R]+=J;c[z-1]+=l;c[z]+=J+l}}for(var e=0;e<T;e++){c[e*R]*=2;c[e*R+R-1]*=2}for(var z=0;z<c.length;z++)if(c[z]==0)c[z]=1};
u.KJ=function(){function x(){return 1953e6+Math.floor(Math.random()*999999)}function R(f,A){var _=A[0]-f[0],W=A[1]-f[1];
return _*_+W*W}function T(f,A,_,W,Y,G,i,E){var $=_-f,C=W-A,B=u.M.N9(f,A,$,C,Y,G,i-Y,E-G),M=[f+B*$,A+B*C],j=B>0?[[[f,A],M,!1,0,1],[[Y,G],M,!1,0,5]]:[[[_,W],M,!1,0,1],[[i,E],M,!1,0,5]];
return j}function c(f,A){var _=T(f[0],f[1],f[2],f[3],f[6],f[7],f[4],f[5]),W=T(f[0],f[1],f[6],f[7],f[2],f[3],f[4],f[5]),Y=[_,W],G=[_[0][1],W[0][1]];
for(var z=0;z<2;z++){var i=G[1-z],E=Y[z];if(R(E[0][0],i)<R(E[1][0],i)){var $=E[0];E[0]=E[1];E[1]=$}}var C=[x(),0,-1,0,[0,0],_[0],_[1],W[0],W[1]],B=Z(C,A),M=B[1][0];
C[3]=M;C[4]=B[0][M];C[5][3]=C[6][3]=B[0].indexOf(C[5][1]);C[7][3]=C[8][3]=B[0].indexOf(C[7][1]);if((C[6][3]+1)%3!=C[7][3]){var $=C[5];
C[5]=C[7];C[7]=$;var $=C[6];C[6]=C[8];C[8]=$}for(var z=0;z<4;z++)C[5+z][4]=[1,5,7,3][z];return C}function g(f){var A=f[5],_=f[8],W=f[6],Y=A[0],G=_[0],i=W[0],E=A[1],$=_[1],C=G[0],B=G[1],M=$[0]-C,j=$[1]-B,P=u.M.N9(C,B,M,j,i[0],i[1],E[0]-i[0],E[1]-i[1]);
return[Y[0],Y[1],C,B,C+P*M,B+P*j,i[0],i[1]]}function d(f,A){return f[0]==A[0]&&f[1]==A[1]}function U(f){return{1:0,5:1,7:2,3:3}[f]}function e(f,A,_){var W=A[5+U(f)],Y=W[1],G=W[0][0]-Y[0],i=W[0][1]-Y[1],E=Math.sqrt(G*G+i*i);
G/=E;i/=E;for(var $=0;$<_.length;$++){var C=_[$];if(C[0]!=A[1]&&C[1]!=A[0])continue;for(var z=0;z<4;
z++){var B=C[5+z],M=B[0];if(!d(Y,B[1]))continue;var j=M[0]-Y[0],P=M[1]-Y[1];E=Math.sqrt(j*j+P*P);j/=E;
P/=E;var t=j*G+P*i;if(Math.abs(t-1)<1e-7)return!0}}return!1}function N(f,A){u.D.i(f,A);return A}function l(f,A){var _=[];
for(var W=0;W<f.length;W++){var Y=f[W],G=Y[1];for(var i=0;i<G.length;i++){if(A&&A[W].indexOf(i)==-1)continue;
var E=G[i],$=[],C=u.D.ok(g(E),new aP(0,0,1,1));for(var z=1;z<=7;z+=2){$[z]=e(z,E,G)}if(!$[1]){if(!$[7])_.push([N(C,[0,0]),W,i,0]);
_.push([N(C,[.5,0]),W,i,1])}if(!$[3]){if(!$[1])_.push([N(C,[1,0]),W,i,2]);_.push([N(C,[1,.5]),W,i,3])}if(!$[5]){if(!$[3])_.push([N(C,[1,1]),W,i,4]);
_.push([N(C,[.5,1]),W,i,5])}if(!$[7]){if(!$[5])_.push([N(C,[0,1]),W,i,6]);_.push([N(C,[0,.5]),W,i,7])}}}return _}function J(f){var A=f.length-2,_=0;
for(var z=0;z<A;z+=2)_+=(f[z+2]-f[z])*(f[z+1]+f[z+3]);_+=(f[0]-f[A])*(f[A+1]+f[1]);return-_*.5}function w(f,A,_,W){}function s(f,z){var A=f[z+2&7]-f[z&7],_=f[z+3&7]-f[z+1&7],W=1/Math.sqrt(A*A+_*_);
return[A*W,_*W]}function o(f){var A=f[2];f[2]=f[6];f[6]=A;var A=f[3];f[3]=f[7];f[7]=A}function V(f,A,_,W){if(W==null)W=0;
var Y=A[1],G=g(A),P=null,t,hV,dD,hO,jh,j,aJ;if(Y==0){if(J(G)<0)o(G);var i=6,E=G[7]+G[1];for(var z=0;
z<6;z+=2){var $=G[z+1]+G[z+3];if($<E){E=$;i=z}}G=G.slice(i).concat(G.slice(0,i));var C=D._x.rc(G,_[0],_[1]),B=Math.sqrt(R(G,G.slice(2))),M=Math.sqrt(R(G.slice(4),G.slice(6))),j=(B+M)*.5;
return[G,new aP(0,0,j,j/C)]}for(var z=0;z<f.length&&P==null;z++){t=f[z][1];for(var q=0;q<t.length&&P==null;
q++)if(t[q][0]==Y)P=t[q]}var m=V(f,P,_,W+1),iE=m[0];m=m[1];for(var z=0;z<8;z+=2){var bh=iE[z&7],ho=iE[z+1&7],aH=iE[z+2&7],f2=iE[z+3&7];
for(var q=0;q<8;q+=2){var e9=G[q],kB=G[q+1],ct=G[q+2&7],jF=G[q+3&7],fj=Math.abs(u.M.io(bh,ho,aH,f2,e9,kB))+Math.abs(u.M.io(bh,ho,aH,f2,ct,jF));
if(fj<=30){hV=q;dD=z}}}var ab=s(iE,dD),iw=s(G,hV),jD=ab[0]-iw[0],a1=ab[1]-iw[1],gd=jD*jD+a1*a1;if(gd<.001){o(G);
hV={0:6,2:4,4:2,6:0}[hV]}while(hV!=(dD+4&7)){G.unshift(G.pop());hV=hV+1&7}var C=D._x.rc(G,_[0],_[1]),i6=u.D.ok(iE,m);
i6=u.D.F0(i6);var hv=[G[hV],G[hV+1],G[hV+2&7],G[hV+3&7]];u.D.i(i6,hv);var hS=u.M.QK(hv);if(dD==0||dD==4){j=hS.m;
aJ=j/C;hO=hS.x;jh=hS.y+(dD==0?-aJ:0)}else{aJ=hS.e;j=aJ*C;jh=hS.y;hO=hS.x+(dD==6?-j:0)}return[G,new aP(hO,jh,j,aJ)]}function a(f,A){function _(M,j,P,t){var q=N(M,[j,P]);
q.push(t);return q}var W=[];for(var Y=0;Y<f.length;Y++){var G=f[Y],i=G[1];for(var E=0;E<i.length;E++){var $=i[E],C=V(f,$,A),B=C[0],M=u.D.ok(B,new aP(0,0,1,1));
W.push(_(M,.5,0,1));W.push(_(M,1,.5,3));W.push(_(M,.5,1,5));W.push(_(M,0,.5,7));W.push(_(M,.5,.5,[C?(C[1].m/C[1].e).toFixed(2):""].join(", ")))}}return W}function O(f,A,_,W){var Y=[A],G=[A];
while(!0){var i=[];for(var z=0;z<f.length;z++){var E=f[z],$=!1;for(var C=0;C<Y.length;C++){if(E[1]==f[Y[C]][0]||E[0]==f[Y[C]][1])i.push(z)}}var B=Y.length;
for(var z=0;z<i.length;z++){var M=i[z],E=f[M];if(G.indexOf(M)!=-1)continue;G.push(M);var j=V([[10,f]],E,W);
if(j[1].fg(_))Y.push(M)}if(B==Y.length)break}return Y}function S(f,A,_){var W=_[0],Y=_[1],G=A.x-f[0],i=A.y-f[1],E=u.M.N9(f[0],f[1],G,i,Y[0],Y[1],W[0]-Y[0],W[1]-Y[1]);
return[f[0]+E*G,f[1]+E*i]}function L(f,A,_){f=JSON.parse(JSON.stringify(f));var W=f[A[1]][1][A[2]],Y=A[3]>=8,G=A[3]&7;
if((G&1)==0)return f;var i=U(G);if(G==1||G==7){var E=W[5+i],$=W[5+2-i],C=W[5+(G==1?3:1)],B=W[5+(G==1?1:3)],M=E[1],j=S(M,_,$);
if(!Y&&R(j,$[1])<R(B[0],$[1]))return f;E[0]=$[0]=j;C[0]=S(M,_,C)}else{var C=W[5+i],M=C[1],E=W[5+(G==3?0:2)],j=S(M,_,E);
if(!Y&&R(j,E[1])>R(E[0],E[1]))return f;if(Math.sign(E[1][0]-E[0][0])!=Math.sign(E[1][0]-j[0]))return f;
C[0]=j}return f}function Q(f,A,_){var W=A[0]-f[0],Y=A[1]-f[1],G=u.M.N9(_[0],_[1],-Y,W,f[0],f[1],W,Y);
return[_[0]-Y*G,_[1]+W*G]}function b(f,A,_){var W=_[0],Y=_[1],N=Q(f,A,_),G=N[0],i=N[1],E=Q(f,_,A),$=u.M.N9(G,i,W-G,Y-i,A[0],A[1],E[0]-A[0],E[1]-A[1]);
return[G+(W-G)*$,i+(Y-i)*$]}function Z(f,A){var _=f[5][1],W=f[7][1],Y=b(_,W,A),G=[_,W,Y];G.sort(function($,C){return $[0]-C[0]});
if(J([G[0][0],G[0][1],G[1][0],G[1][1],G[2][0],G[2][1]])<0){var i=G[1];G[1]=G[2];G[2]=i}var E=[G.indexOf(_),G.indexOf(W),G.indexOf(Y)];
return[G,E]}function I(f,A,_){f=JSON.parse(JSON.stringify(f));var W=A[1],Y=f[W][1][A[2]],G=A[3];if((G&1)!=1)return f;
var i=Z(Y,_),E=i[1][2],$=i[0][E],C=JSON.parse(JSON.stringify(Y));f[W][1].push(C);C[0]=x();C[1]=Y[0];
C[2]=-10+G;C[3]=E;C[4]=$;if(G==1||G==5){C[7][3]=C[8][3]=E;C[7][1]=C[8][1]=$;if(G==5){C[5][0]=C[7][0]=Y[6][0];
C[8][0]=g(Y).slice(4,6)}}else{C[5][3]=C[6][3]=E;C[5][1]=C[6][1]=$;if(G==3){C[5][0]=C[7][0]=Y[8][0];C[6][0]=g(Y).slice(4,6)}}return f}function y(f,A,_){f=JSON.parse(JSON.stringify(f));
var W=A[1],Y=f[W][1][A[2]],G=Y[2]+10,i=G+4&7,E=G==1||G==5,$=Y[5+U(E?7:1)][1],C=Y[5+U(i)][0],B=Y[5+U(G)][0];
Y[2]=(E?90:0)+(R(C,$)<R(B,$)?180:0);var M=c(g(Y),_);for(var z=5;z<9;z++)Y[z]=M[z];return f}function r(f,A,_){var cg=f.length>>1,W,Y=f[2*cg-3]-_,G=f[2*cg-2]-A,i=f[2*cg-1]-_,E=!1,$=0;
for(var z=0;z<cg;z++){W=G;Y=i;G=f[2*z]-A;i=f[2*z+1]-_;if(Y==i)continue;E=i>Y}for(var z=0;z<cg;z++){W=G;
Y=i;G=f[2*z]-A;i=f[2*z+1]-_;if(Y<0&&i<0)continue;if(Y>0&&i>0)continue;if(W<0&&G<0)continue;if(Y==i&&Math.min(W,G)<=0)return!0;
if(Y==i)continue;var C=W+(G-W)*-Y/(i-Y);if(C==0)return!0;if(C>0)$++;if(Y==0&&E&&i>Y)$--;if(Y==0&&!E&&i<Y)$--;
E=i>Y}return($&1)==1}function h(f,A,_,W,Y){var G=null;for(var i=0;i<f.length;i++){var E=f[i][1];for(var $=0;
$<E.length;$++){var C=g(E[$]);if(r(C,A,_)||Y&&Y[0]==i&&Y[1]==$&&G==null){G=[i,$];if(W){var B=V(f,E[$],W),M=u.D.ok(B[0],B[1]),j=[A,_];
M=u.D.F0(M);u.D.i(M,j);G.push(j)}}}}return G}function k(f,A){for(var _=0;_<f.length;_++){var W=f[_][1],Y=A[_];
if(Y.length==0)continue;var G=K(W,Y);for(var i=0;i<W.length;i++){if(G.indexOf(W[i][0])!=-1){W.splice(i,1);
i--}}}for(var _=0;_<f.length;_++)if(f[_][1].length==0){f.splice(_,1);_--}return f}function K(f,A){var _=[];
for(var z=0;z<10;z++)for(var W=0;W<f.length;W++){var Y=f[W];if(A.indexOf(W)!=-1||_.indexOf(Y[1])!=-1)if(_.indexOf(Y[0])==-1)_.push(Y[0])}return _}function H(f){var A=n.zQ(f,0,f.length),_=A.split("\n").slice(1);
function W(){return parseFloat(_.shift())}function Y(){var e9=[W(),W()];G(1);return e9}function G(cg){for(var z=0;
z<cg;z++)_.shift()}var i=[],E=W();for(var $=0;$<E;$++){var C=W(),B=W(),M=[];i.push([C,M]);for(var j=0;
j<B;j++){var P=W(),t=W(),q=W(),m=W(),iE=Y(),hV=[P,t,q,m,iE];M.push(hV);for(var z=0;z<4;z++){var dD=Y(),bh=Y(),ho=W()==1,aH=W(),f2=W();
hV.push([dD,bh,ho,aH,f2])}}}return i}function p(f){function A(B){_.push(B[0],B[1],"")}var _=["tNaF203"];
_.push(f.length);for(var W=0;W<f.length;W++){_.push(f[W][0]);var Y=f[W][1];_.push(Y.length);for(var G=0;
G<Y.length;G++){var i=Y[G];_.push(i[0],i[1],i[2],i[3]);A(i[4]);for(var z=0;z<4;z++){var E=i[5+z];A(E[0]);
A(E[1]);_.push(E[2]?1:0,E[3],E[4])}}}var $=_.join("\n"),C=new Uint8Array($.length);n.vW(C,0,$);return C}return{eE:H,Li:p,a6e:g,alj:c,Mu:l,a83:L,O9:a,avm:function(f,A){return A&&(A[3]&1)==0&&f[A[1]][1].length==1},sl:function(f,A){return A&&(A[3]&1)==1},wv:V,at4:I,av6:y,ag7:k,t7:K,TC:h,uD:O}}();
u.aor=function(){var x=0,R=0,c=15,d=256;function T(J,w,s,o,V,a){var O=(V-1)*w,S=a*w;return J[S+o]-J[S+s-1]-J[O+o]+J[O+s-1]}var g=Math.round(c/8),U=[];
function e(J,w){for(var s=0;s<w.length;s++){var o=w[s],V=0,a=0,O=J[o.UY],S=O.Po,L=O.KQ,Q=O.kh;for(var b=-c;
b<=c;b++)for(var Z=-c;Z<=c;Z++){var I=Z+o.a2w,y=b+o.aBp;if(Z*Z+b*b>c*c||I<0||y<0||I>=L||y>=L)continue;
var r=S[y*L+I];V+=Z*r;a+=b*r}o.nv=Math.atan2(a,V)}}function N(J,w,s,o,V){var a=~~(J+.5),O=~~(w+.5);return T(s,o,a-g,a+g,O-g,O+g)}function l(J,w,s,o,V){x=o;
R=V;if(U.length==0){var a=new u.l.ek(16200817),Q=8,b=0;function O(iE){var k=iE[0]-iE[2],K=iE[1]-iE[3];
return k*k+K*K}function S(){var iE=0,hV=0;while(iE===0)iE=a.get();while(hV===0)hV=a.get();return Math.sqrt(-2*Math.log(iE))*Math.cos(2*Math.PI*hV)}var L=S,Z=[];
while(b!=d){var I=Math.max(-c,Math.min(c,L()*Q)),y=Math.max(-c,Math.min(c,L()*Q)),r=Math.max(-c,Math.min(c,L()*Q)),h=Math.max(-c,Math.min(c,L()*Q)),k=I-r,K=y-h,H=Math.sqrt(k*k+K*K);
if(H<3||H>12)continue;U.push(I,y,r,h);b++}}var p=20;for(var f=0;f<w.length;f++){var A=w[f],_=J[A.UY],W=_.Rr,s=_.Po,o=_.KQ,V=_.kh,Y=A.a2w,G=A.aBp,i=A.nv,E=Math.cos(i),$=Math.sin(i),C=new Uint8Array(d>>>3);
A.M1=C;for(var z=0;z<d;z++){var B=z*4,I=U[B+0],y=U[B+1],r=U[B+2],h=U[B+3],M=E*I-$*y,j=$*I+E*y,P=E*r-$*h,t=$*r+E*h,q=N(Y+M,G+j,W,o,V),m=N(Y+P,G+t,W,o,V);
C[z>>>3]|=(q<m?0:1)<<(z&7)}}}return{aen:e,a8V:l}}();u.aps=function(){function x(R,T){var c=[[9]],g=Date.now(),d=[];
for(var U=0;U<R.length;U++){var e=R[U],N=e.Rr,l=e.KQ,J=e.kh,o=9,Q=1,A=24;if(N==null)continue;var w=new Float32Array(l*J),s=new Uint8Array(l*J),V=o>>>1,a=V>>>1,O=Math.round(o/3);
if(O!=o/3)throw"e";var S=1/(o*o),L=1.2*(o/9);for(var b=V+1;b<J-V;b+=Q)for(var Z=V+1;Z<l-V;Z+=Q){var I=u.Wn(N,l,Z-a,Z+a,b-V,b+V)-3*u.Wn(N,l,Z-a,Z+a,b-V+O,b+V-O),y=u.Wn(N,l,Z-V,Z+V,b-a,b+a)-3*u.Wn(N,l,Z-V+O,Z+V-O,b-a,b+a),r=Z-V+1,h=Z+V-1,k=b-V+1,K=b+V-1,H=u.Wn(N,l,r,Z-1,k,b-1)+u.Wn(N,l,Z+1,h,b+1,K)-u.Wn(N,l,Z+1,h,k,b-1)-u.Wn(N,l,r,Z-1,b+1,K),p=(y*I-.9*H*(.9*H))*(S*S);
w[b*l+Z]=Math.abs(p);s[b*l+Z]=p<0?0:1}var f=l*Q;for(var b=A;b<J-A;b+=Q)for(var Z=A;Z<l-A;Z+=Q){var z=b*l+Z,_=w[z];
if(_<16)continue;if(w[z-Q]>=_||w[z+Q]>=_)continue;if(w[z-f-Q]>=_||w[z-f]>=_||w[z-f+Q]>=_)continue;if(w[z+f-Q]>=_||w[z+f]>=_||w[z+f+Q]>=_)continue;
d.push({x:~~(Z*e.SR+.5),y:~~(b*e.SR+.5),a2w:Z,aBp:b,UY:U,b:_,auO:s[z],Kt:L})}}if(T!=null){d.sort(function(B,M){return M.b-B.b});
d=d.slice(0,T)}return d;var W=[];for(var z=0;z<d.length;z++){var Y=!0,G=d[z];for(var i=0;i<d.length;
i++){var E=d[i];if(i!=z&&E.b>G.b&&(E.UY==G.UY+1||E.UY==G.UY-1)){var $=G.x-E.x,C=G.y-E.y;if($*$+C*C<5){Y=!1;
break}}}if(Y)W.push(G)}console.log(d.length,W.length);return W}return{an1:x}}();u._U={};u._U.a3h=function(x){var R=x.length,T=u._U.agx(x,!1),g=0,d=1;
throw"e";var c=[];for(var z=0;z<R;z++)c[z]=u._U.afj(T[z]);var U=x[0][1],e=u._U.match(T[g],T[d],c[d]);
console.log(e.length);var N=Math.max(Math.min(e.length,40),e.length*.54);N=Math.min(N,200);var l=e.slice(0,N),J=u.Z5.axG(T[g],T[d],l,U.m,U.e),w=u.Z5.anO(J,[0,0,0],1),s=U.m/2,o=U.e/2,V=1/Math.max(s,o);
for(var z=0;z<1;z++){var a=l[z],O=T[g][a[0]],S=T[d][a[1]],L=u.Z5.a6n(w,V*(O.x-s),V*(O.y-o),V*(S.x-s),V*(S.y-o))}var Q=u.Z5.a9h(J,U),b=[];
for(var z=0;z<2;z++){var Z=Q[z],I=[Z[0][0],Z[0][1],Z[0][2],Z[1][0],Z[1][1],Z[1][2],Z[2][0],Z[2][1]],y=D.gW.W8(x[z],null,I);
b.push([y.buffer,y.rect])}return[u._U.a0Z(b[0],b[1],T[g],T[d],l,J,Q,U)]};u._U.eF=function(x,R){var T=x.length,c=!1,g=Date.now(),d=u._U.agx(x,!1,1e4);
if(c)console.log("Descriptors ready",Date.now()-g);g=Date.now();for(var z=0;z<T;z++){var U=x[z][1];for(var e=0;
e<d[z].length;e++){d[z][e].x+=U.x;d[z][e].y+=U.y}}if(c)console.log("shifted",Date.now()-g);g=Date.now();
var N=[];for(var z=0;z<T;z++)N[z]=u._U.afj(d[z]);if(c)console.log("trees built",Date.now()-g);g=Date.now();
var l=[];for(var z=0;z<T-1;z++)for(var e=z+1;e<T;e++){var J=u._U.match(d[z],d[e],N[e]);if(c)console.log("Matches found",z,e,J.length);
J=J.slice(0,J.length>>>1);if(J.length<10)continue;var w=u._U.a53(d[z],d[e],J,2);l.push([z,e,J,w])}l.sort(function(h,k){return k[2].length-h[2].length});
if(c)console.log("Matches found",Date.now()-g);g=Date.now();var s=[],o=new UnionFind(T);for(var z=0;
z<l.length;z++){var V=l[z],a=o.find(V[0]),O=o.find(V[1]);if(a!=O){s.push(V);o.link(a,O)}}var S=[];for(var z=0;
z<T;z++)S[z]=[1,0,0,0,1,0,0,0];var L=[0],Q=new Uint8Array(T);Q[L[0]]=1;while(L.length!=0){var O=L.pop(),w=S[O],b=[];
for(var z=0;z<s.length;z++){var V=s[z],Z=V[0],I=V[1];if(Z==O&&Q[I]==0){S[I]=u.D.Kq(w,V[3]);L.push(I);
Q[I]=1}if(I==O&&Q[Z]==0){S[Z]=u.D.Kq(w,u.D.F0(V[3]));L.push(Z);Q[Z]=1}}}if(R==null){var y=[];for(var z=0;
z<T;z++)y.push([S[z][2],z]);y.sort(function(h,k){return h[0]-k[0]});R=y[y.length>>>1][1]}var r=u.D.F0(S[R]);
for(var z=0;z<T;z++)S[z]=u.D.Kq(S[z],r);if(c)console.log("Transforms reordered",Date.now()-g);g=Date.now();
return S};u._U.agx=function(x,R,T){var c=[],g=!1;for(var z=0;z<x.length;z++){var d=x[z][0],U=x[z][1],e=U.m,N=U.e,l=u.B(U.Z());
u.Ve(d,l);var J=Date.now(),w=u._U.a7e(l,U,!0);if(g)console.log("Pyramid built ---------------",Date.now()-J);
J=Date.now();var s=u.aps.an1(w,T);if(g)console.log("SURF Generation",Date.now()-J);J=Date.now();if(!R){u.aor.aen(w,s);
if(g)console.log("ORB Orientations",Date.now()-J);J=Date.now();u.aor.a8V(w,s,l,e,N);if(g)console.log("ORB Descriptors",Date.now()-J);
J=Date.now()}c.push(s)}return c};u._U.a7e=function(x,R,T){var c=[],g=[x,R];u.jE(g);if(T){var d=u._0(x,R),U=d.rect,e=[d.z6,U];
u.jE(e)}for(var z=0;z<g.length;z++){var N=g[2*z],l=g[2*z+1],J=l.m,w=l.e,s=Math.min(J,w);if(s<30)break;
if(s<1600)c.push({Po:N,KQ:J,kh:w,SR:1<<z,Rr:u.Bj(N,J,w)});if(!T)continue;var N=e[2*z],l=e[2*z+1],J=l.m,w=l.e,s=Math.min(J,w);
if(s<30)break;if(s<1600)c.push({Po:N,KQ:J,kh:w,SR:(1<<z)*3/2,Rr:u.Bj(N,J,w)})}return c};u._U.a53=function(x,R,T,c){var g=Date.now(),d,U=0,e=0,N=T.length,l=new Float64Array(2);
for(var J=0;J<3e3;J++){var w=~~(Math.random()*N),s=~~(Math.random()*N),o=~~(Math.random()*N),V=~~(Math.random()*N),f=0,A=0;
if(w==s||w==o||w==V||s==o||s==V||o==V)continue;var a=T[w],O=T[s],S=T[o],L=T[V],Q=x[a[0]],b=R[a[1]],Z=x[O[0]],I=R[O[1]],y=x[S[0]],r=R[S[1]],h=x[L[0]],k=R[L[1]],K=[Q.x,Q.y,Z.x,Z.y,y.x,y.y,h.x,h.y],H=[b.x,b.y,I.x,I.y,r.x,r.y,k.x,k.y],p=u.D.ami(K,H);
if(p[0]==0&&p[1]==0&&p[3]==0&&p[4]==0)continue;var _=N-U+2;for(var z=0;z<N&&z-f<_;z++){var W=x[T[z][0]],Y=R[T[z][1]];
u.D.y4(Y.x,Y.y,p,l);var G=l[0]-W.x,i=l[1]-W.y,E=G*G+i*i;if(E<c){f++;A+=E}}if(f>U||f==U&&A<e){d=p;U=f;
e=A}}return d};var bp=new Uint8Array(256);for(var z=0;z<256;z++){var jc=0,cg=z;while(cg!=0){cg=cg&cg-1;
jc++}bp[z]=jc}u._U.adj=function(x,R,T){var c=0,g=x.length;for(var z=0;z<g&&c<T;z++)c+=bp[x[z]^R[z]];
return c};u._U.akH=function(x,R,T,top,c){if(c[T]==1)return;var g=u._U.adj(x.M1,R.M1,top[0]);if(g<top[0]){if(g<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=g;top[3]=T}else{top[0]=g;top[1]=T}}c[T]=1};u._U.afj=function(x){var R=[],T=[],c=[[],[]],g=4;
for(var z=0;z<x.length;z++)(x[z].auO==0?R:T).push(z);for(var d=0;d<2;d++){var U=new Array(g),e=[],N=d==0?R:T,l=N.length/256,J=[];
for(var w=0;w<32;w++){var s=new Array(256),a=0;for(var o=0;o<256;o++)s[o]=[];for(var o=0;o<N.length;
o++){var V=N[o];s[x[V].M1[w]].push(V)}for(var o=0;o<256;o++)a+=Math.abs(s[o].length-l);J.push([a,w,s])}J.sort(function(O,S){return O[0]-S[0]});
var e=[],U=[];c[d]=[e,U];for(var z=0;z<g;z++){e.push(J[z][1]);U.push(J[z][2])}}return c};u._U.match=function(x,R,T){var c=[],g=new Uint16Array(R.length);
g.fill(65535);var d=new Uint8Array(R.length),top=new Uint32Array(4),U=[];for(var e=0;e<x.length;e++){var N=x[e],l=N.M1;
top.fill(1e6);d.fill(0);var J=T[N.auO];for(var w=0;w<J[1].length;w++){var s=J[1][w][l[J[0][w]]];for(var o=0;
o<s.length;o++){var V=s[o];u._U.akH(N,R[V],V,top,d)}}if(top[2]<50&&top[2]<top[0]*.5){var a=g[top[3]];
if(a==65535){g[top[3]]=c.length;c.push([e,top[3],top[2]])}else if(top[2]<c[a][2]){c[a]=[e,top[3],top[2]]}}}c.sort(function(O,S){return O[2]-S[2]});
return c};u._U.a7b=function(x){var R=new aP;for(var z=0;z<x.length;z++)R=R.y8(x[z][1]);var T=u.B(R.Z()*4);
for(var z=0;z<x.length;z++)u.l.Hy("norm",x[z][0],x[z][1],T,R,R,1);return[T,R]};u._U.a0Z=function(x,R,T,c,g,d,U,e){var N=x[1].clone(),l=N.clone();
N.x=N.y=0;var J=R[1].clone(),w=J.clone();J.x=J.y=0;J.x=N.m;var s=N.y8(J),o=w.y-l.y,V=u.B(s.Z()*4);u.yU(x[0],N,V,s);
u.yU(R[0],new aP(J.x,J.y+o,J.m,J.e),V,s);var a=document.createElement("canvas");a.width=s.m;a.height=s.e;
var O=a.getContext("2d");O.lineWidth=.5;O.putImageData(new ImageData(new Uint8ClampedArray(V.buffer),s.m,s.e),0,0);
if(d){var S=d[0],L=u.Zv.xZ(S),Q=N.m,b=e.m;for(var z=0;z<g.length;z++){var Z=g[z],x=T[Z[0]],R=c[Z[1]];
O.strokeStyle="#"+"ff0000";O.beginPath();var I=u.Z5.aua(L,U[0],R,0,b),y=u.Z5.aua(S,U[1],x,0,b);O.moveTo(-l.x+I[0],-l.y+I[1]);
O.lineTo(-l.x+I[2],-l.y+I[3]);O.moveTo(Q-w.x+y[0],-w.y+o+y[1]);O.lineTo(Q-w.x+y[2],-w.y+o+y[3]);O.stroke()}}if(g){var r=g.length;
for(var z=0;z<r;z++){var Z=g[z],x=T[Z[0]],R=c[Z[1]];O.strokeStyle="#"+"ffff00"}}var h=new Uint8Array(O.getImageData(0,0,s.m,s.e).data.buffer);
if(!1){for(var k=0;k<2;k++){var K=k==0?T:c,H=k*N.m;for(var z=0;z<K.length;z++){var p=K[z],f=~~p.x,A=~~p.y,_=(A*s.m+f+H)*4;
h[_+1]=h[_+2]=p.apj*60;h[_+0]=0;h[_+3]=255}}}return[h,s]};u.stack={};u.stack.stack=function(x,R,T){var c=x.length,g=R.length;
if(c==1){R.set(x[0]);return}if(T=="avrg"||T=="stdv"||T=="summ"||T=="vari"){var d=1/c;for(var z=0;z<g;
z++){var U=0;for(var e=0;e<c;e++)U+=x[e][z];var N=~~(U*d+.5);if(T=="avrg"||(z&3)==3)R[z]=N;else if(T=="summ")R[z]=255*Math.pow(Math.min(255,U)*(1/255),1/2.4);
else{var l=0;for(var e=0;e<c;e++){var J=x[e][z]-N;l+=J*J}var w=Math.sqrt(l*d)*(1/255);if(T=="stdv")R[z]=255*Math.pow(w,1/2.4);
else R[z]=255*Math.pow(w*w,1/2.4)}}}else if(T=="maxx"){for(var z=0;z<g;z++){var s=0;for(var e=0;e<c;
e++)s=Math.max(s,x[e][z]);R[z]=s}}else if(T=="minn"){for(var z=0;z<g;z++){var s=255;for(var e=0;e<c;
e++)s=Math.min(s,x[e][z]);R[z]=s}}else if(T=="medn"||T=="rang"){var o=function(S,L){return S-L},V=new Array(c),a=0,O=0;
if((c&1)==0){O=c>>>1;a=O-1}else{a=O=c>>>1}for(var z=0;z<g;z++){for(var e=0;e<c;e++)V[e]=x[e][z];V.sort(o);
if(T=="medn")R[z]=V[a]+V[O]>>>1;else R[z]=(z&3)==3?V[c-1]:V[c-1]-V[0]}}else console.log(T)};u.kV={};
u.kV.a5D=function(x,R,T,c){var g=Date.now(),d=new Uint32Array(R*T),U=new Uint8Array(R*T);while(!0){U.fill(0);
d.fill(0);var e=[],N=0;for(var l=0;l<T;l++){for(var J=0;J<R;J++){var z=l*R+J;if(U[z]==0){var w=e.length,s=u.kV.op(x,R,T,J,l,U,d,w);
e.push([w,J,l,s[0],s[1],x[z]]);if(s[0]<c)N++}}}if(N==0)break;var o=e.length,V=new UnionFind(o),a=[];
for(var z=0;z<o;z++)a.push([]);for(var z=0;z<o;z++){var s=e[z],O=s[4],S=0,L=0;if(s[3]>=c)continue;var w=s[0];
for(var Q=0;Q<O.length;Q+=2){var b=d[O[Q+1]*R+O[Q]],Z=e[b];if(Z[3]>L){L=Z[3];S=b}}if(V.find(w)!=V.find(S)){V.link(w,S);
a[w].push(S);a[S].push(w)}}var I=new Uint32Array(o);I.fill(4294967295);var y=new Uint32Array(o);for(var z=0;
z<o;z++){if(I[z]!=4294967295||a[z].length==0)continue;var r=[z],h=[z],k=z,K=e[z][3];while(h.length!=0){var H=h.pop(),p=a[H];
for(var Q=0;Q<p.length;Q++){var f=p[Q];if(r.indexOf(f)==-1){r.push(f);h.push(f);var A=e[f];if(A[3]>K){K=A[3];
k=f}}}}for(var Q=0;Q<r.length;Q++){I[r[Q]]=k;var _=e[k];y[r[Q]]=x[_[2]*R+_[1]]}}for(var l=0;l<T;l++)for(var J=0;
J<R;J++){var z=l*R+J,W=I[d[z]];if(W!=4294967295)x[z]=y[W]}}};u.kV.op=function(x,R,T,c,g,d,U,e){var N=[c,g],l=x[g*R+c],J=0,w=[];
d[g*R+c]=1;while(N.length!=0){var s=N.pop(),o=N.pop(),z=s*R+o;U[z]=e;J++;if(s!=T-1)if(x[z+R]==l){if(d[z+R]==0){N.push(o,s+1);
d[z+R]=1}}else w.push(o,s+1);if(s!=0)if(x[z-R]==l){if(d[z-R]==0){N.push(o,s-1);d[z-R]=1}}else w.push(o,s-1);
if(o!=R-1)if(x[z+1]==l){if(d[z+1]==0){N.push(o+1,s);d[z+1]=1}}else w.push(o+1,s);if(o!=0)if(x[z-1]==l){if(d[z-1]==0){N.push(o-1,s);
d[z-1]=1}}else w.push(o-1,s)}return[J,w]};u.kV.alp=function(x,R,T,c,g){var d=u.kV.a77(x.buffer,R,T).Q0,U=Date.now(),e=[];
for(var z=0;z<d.length;z++){var N=d[z],l=1;for(var J=0;J<l;J++)e.push(N.zI)}var w=new Uint32Array(e),s=UPNG.quantize.getKDtree(new Uint8Array(w.buffer),c),o=[R,1,-R,-1,R+1,-R+1,-R-1,R-1,R+R,2,-R-R,-2,R+R-1,R+R+1,R+2,-R+2,-R-R+1,-R-R-1,-R-2,R-2,R+R+2,-R-R+2-R-R-2,R+R-2],V=new Uint8Array(R*T),a=x;
for(var O=0;O<T;O++)for(var S=0;S<R;S++){var z=O*R+S<<2,L=a[z]*(1/255),Q=a[z+1]*(1/255),b=a[z+2]*(1/255),Z=a[z+3]*(1/255),I=u.kV.kC(s,L,Q,b,Z,g);
if(I==null){var y=[],r=0;while(r<20){var h=O*R+S+o[r]<<2,k=a[h]*(1/255),K=a[h+1]*(1/255),H=a[h+2]*(1/255),p=a[h+3]*(1/255),f=u.kV.kC(s,k,K,H,p,.005);
if(f!=null){if(y.indexOf(f)==-1){y.push(f);f.F$=1}else f.F$++}r++}y.sort(function(Z,b){return b.F$-Z.F$});
while(y.length!=0&&y[y.length-1].F$<3)y.pop();if(y.length==0)I=u.kV.kC(s,L,Q,b,Z,100);else if(y.length==1)I=y[0];
else if(y.length==2){var A=y[0],_=y[1],W=A.est.q,Y=_.est.q,G=Y[0]-W[0],i=Y[1]-W[1],E=Y[2]-W[2],$=Y[3]-W[3],C=L-W[0],B=Q-W[1],M=b-W[2],j=Z-W[3],P=G*G+i*i+E*E+$*$,t=C*C+B*B+M*M+j*j,q=(C*G+B*i+M*E+j*$)/P,m=t-q*q*P;
if(m<.5)I=q<.5?A:_;else{I=u.kV.kC(s,L,Q,b,Z,100)}}else{var A=y[0],_=y[1],iE=y[2],W=A.est.q,Y=_.est.q,hV=iE.est.q,dD=W[0]-hV[0],bh=W[1]-hV[1],ho=W[2]-hV[2],aH=W[3]-hV[3],f2=Y[0]-hV[0],e9=Y[1]-hV[1],kB=Y[2]-hV[2],ct=Y[3]-hV[3],jF=hV[0]-L,fj=hV[1]-Q,ab=hV[2]-b,iw=hV[3]-Z,jD=dD*dD+bh*bh+ho*ho+aH*aH,a1=dD*f2+bh*e9+ho*kB+aH*ct,gd=jF*dD+fj*bh+ab*ho+iw*aH,i6=dD*f2+bh*e9+ho*kB+aH*ct,hv=f2*f2+e9*e9+kB*kB+ct*ct,hO=jF*f2+fj*e9+ab*kB+iw*ct,jh=1/(a1*i6-jD*hv),q=(hv*gd-hO*a1)*jh,aJ=(hO*jD-gd*i6)*jh,hS=1-q-aJ,iO=Math.max(q,aJ,hS);
if(iO==q)I=A;else if(iO==aJ)I=_;else I=iE}}V[z>>2]=I.ind}return{Pg:V,Q0:s[1]}};u.kV.a77=function(x,R,T){var c=[],g={},d=R-1,U=T-1,e=0,N=new Uint32Array(x),l=[-R-1,-R,-R+1,-1,1,R-1,R,R+1,R+R,2,-R-R,-2,R+R-1,R+R+1,R+2,-R+2,-R-R+1,-R-R-1,-R-2,R-2,R+R+2,-R-R+2-R-R-2,R+R-2];
for(var J=1;J<U;J++)for(var w=1;w<d;w++){var s=J*R+w,o=N[s],V=!0;for(var z=0;z<8;z++)V=V&&N[s+l[z]]==o;
if(V){e++;var a=g[o];if(a==null){g[o]=c.length;c.push({zI:o,BL:1})}else c[a].BL++}}return{Q0:c,aCM:e}};
u.kV.kC=function(x,R,T,c,g,d){var U=UPNG.quantize.getNearest(x[0],R,T,c,g);return u.kV.a5f(U,R,T,c,g)<d?U:null};
u.kV.a5f=function(x,R,T,c,g){var d=x.est.q,U=R-d[0],e=T-d[1],N=c-d[2],l=g-d[3];return U*U+e*e+N*N+l*l};
(function(){u.kV.i7=function(e,N,l,J,w){var s=e.kw,o=N*l,V=e.tp,a=e.Pg,O=c(J,a,s,o),S=new UnionFind(s),y=0;
for(var L=1;L<l;L++)for(var Q=1;Q<N;Q++){var z=L*N+Q,b=a[z],Z=0;if((Z=a[z-1])!=b&&O[Z]==O[b]&&x(V,0,b*6,Z*6)<w)S.link(b,Z);
if((Z=a[z-N])!=b&&O[Z]==O[b]&&x(V,0,b*6,Z*6)<w)S.link(b,Z)}var I=new Uint16Array(s);I.fill(65535);var r=new Uint16Array(s);
for(var z=0;z<s;z++){var h=S.find(z);if(I[h]==65535)I[h]=y++;r[z]=I[h]}var k=new Uint16Array(o);for(var z=0;
z<o;z++)k[z]=r[a[z]];return{Pg:k,kw:y}};u.kV.pv=function(e,N,l){var J=u.B(N),w=e.length;for(var z=0;
z<w;z++){var s=l[z];if(s==0||s==255){var o=e[z],V=2-(s>>>7),a=J[o]=J[o]|V;if(a==3)return o}}return-1};
function x(e,N,l,J){var w=1/e[l+5],s=1/e[J+5],o=e[l]*w-e[J]*s,V=e[l+1]*w-e[J+1]*s,a=e[l+2]*w-e[J+2]*s,O=e[l+3]*w-e[J+3]*s,S=e[l+4]*w-e[J+4]*s,L=Math.sqrt(o*o+V*V+a*a),Q=Math.sqrt(O*O+S*S);
return~~(L+N*Q+.5)}function R(e,N){var z=0,l=e.length;while(z!=l&&e[z]!=N)z+=2;return z==l?-1:z}function T(e,z){if(z==e.length-2){e.pop();
e.pop()}else{e[z+1]=e.pop();e[z]=e.pop()}}u.kV.aAh=function(e,N,l,J,w){var s=new Uint32Array(w*4400),o=[];
for(var z=0;z<w;z++)o.push([]);for(var V=0;V<l;V++)for(var a=0;a<N;a++){var z=V*N+a,O=z<<2,S=J[z],L=0,Q=e[O]>>>4,b=e[O+1]>>>4,Z=e[O+2]>>>4;
s[S*4400+(Q<<8|b<<4|Z)]++;s[S*4400+4096]++;s[S*4400+4100+(Q<<4|b)]++;s[S*4400+4360+Q]++;if(a!=0&&(L=J[z-1])!=S&&R(o[S],L)==-1){o[S].push(L,0);
o[L].push(S,0)}if(V!=0&&(L=J[z-N])!=S&&R(o[S],L)==-1){o[S].push(L,0);o[L].push(S,0)}}for(var z=0;z<w;
z++){var Z=o[z];for(var I=0;I<Z.length;I+=2)Z[I+1]=U(s,z,Z[I])}return[s,o]};function c(e,N,l,J){var w=u.B(l);
for(var z=0;z<J;z++){var s=e[z];if(s==0||s==255)w[N[z]]=2-(s>>>7)}return w}u.kV.apC=function(e,N,l,J,w,s,o){var V=N*l,a=o[0],O=o[1],S=new UnionFind(J),L=c(w,e,J,V),Q=-1,b=!0,Z=0;
for(var z=0;z<J;z++)if(L[z]==1){if(Q==-1)Q=z;else S.link(z,Q)}if(Q==-1){for(var z=0;z<V;z++)s[z]=w[z]==255?255:0;
return}while(b){while(b){b=!1;for(var z=0;z<J;z++){if(L[z]==0){var I=g(O[z]);if(L[I]==1){L[z]=L[I];b=!0;
S.link(z,I)}}}}b=!0;Z=0;while(b){b=!1;for(var z=0;z<J;z++){if(L[z]==0){var I=g(O[z]);if(L[I]==0){var y=z*4400,r=I*4400;
for(var h=0;h<4400;h+=2){a[y+h]+=a[r+h];a[y+h+1]+=a[r+h+1]}d(O,a,z,I);Z++;L[I]=3;b=!0;S.link(z,I)}}}}b=Z!=0}var k=S.find(Q);
for(var z=0;z<J;z++)L[z]=S.find(z)==k?255:0;for(var z=0;z<V;z++){s[z]=L[e[z]]}for(var z=0;z<V;z++){var I=w[z];
if(I==0||I==255)s[z]=I}};function g(e){var N=0,l=0,J=e.length;for(var w=0;w<J;w+=2){var s=e[w+1];if(s>l){l=s;
N=w}}return e[N]}function d(e,N,l,J){var w=e[l],s=e[J];T(w,R(w,J));T(s,R(s,l));for(var z=0;z<s.length;
z+=2){var o=s[z],V=e[o];T(V,R(V,J));if(R(V,l)==-1){V.push(l,0);w.push(o,0)}}for(var z=0;z<w.length;z+=2){var o=w[z],V=e[o],a=U(N,l,o);
w[z+1]=a;V[R(V,l)+1]=a}}function U(e,N,l){var J=0,w=4096,s=N*4400,o=l*4400;for(var V=0;V<16;V++){if(e[s+4360+V]==0||e[o+4360+V]==0)continue;
for(var a=0;a<16;a++){var O=V<<4|a;if(e[s+4100+O]==0||e[o+4100+O]==0)continue;var S=s+(O<<4),L=o+(O<<4);
for(var z=0;z<16;z++)J+=Math.sqrt(e[S+z]*e[L+z])}}var Q=J/Math.sqrt(e[s+w]*e[o+w]);return~~(999.99999*Q)}}());
u.kV.SV=function(){var x,R,T,U=0,e=0;function c(o,V,a){var O=[],S=a,L=a,Q=a>>>2;for(var b=0;b<V;b++)for(var Z=0;
Z<o;Z++){var I=~~((Z+.5)*S),y=~~((b+.5)*L),r=1e9,h=Math.max(0,I-Q),k=Math.min(R,I+Q+1),K=Math.max(0,y-Q),H=Math.min(T,y+Q+1);
for(var p=K;p<H;p++)for(var f=h;f<k;f++){var A=g(f,p);if(A<r){I=f;y=p;r=A}}O.push(I,y)}return O}function g(o,V){var a=(V*R+o)*4,O=R*4,S=d(a-4,a)+d(a,a+4),L=d(a-O,a)+d(a,a+O);
return S+L}function d(o,V){var a=x[o]-x[V],O=x[o+1]-x[V+1],S=x[o+2]-x[V+2];return a*a+O*O+S*S}function N(o,V,a,O){e++;
if(O<U)U=O;o[O].push(V,a)}function l(o){e--;while(o[U].length==0)U++}function J(o,V,a,O,S){var L=(a*R+V)*4,Q=O[S+5],b=1/Q,Z=x[L]*Q-O[S],I=x[L+1]*Q-O[S+1],y=x[L+2]*Q-O[S+2],r=V*Q-O[S+3],h=a*Q-O[S+4],k=Math.sqrt(Z*Z+I*I+y*y),K=Math.sqrt(r*r+h*h);
return~~((k+o*K)*b+.5)}function w(o,V,a,O,S){x=o;R=V;T=a;U=0;e=0;var L=R*T,Q=Math.round(Math.min(R,T)/(O?O:30));
if(Q==0)Q=1;var b=(S?S:30)/Q,Z=Math.floor(R/Q),I=Math.floor(T/Q),y=new Uint16Array(L);for(var z=0;z<L;
z++)y[z]=65535;var r=c(Z,I,Q),h=r.length>>>1;if(h>65535)throw h;var k=new Uint32Array(h*6),K=[];for(var z=0;
z<1e3+T;z++)K.push([]);var H=1e3*700/(R*T),p=Math.floor(I*H);p=Math.min(I,Math.max(4,p));var k=new Uint32Array(h*6);
for(var f=0;f<I;f+=p){var A=Math.min(f+p,I);for(var _=f;_<A;_++)for(var W=0;W<Z;W++){var z=_*Z+W;N(K,r[z*2+1]<<16|r[z*2],z,0)}var Y=Math.min(T,A*Q);
if(f+p>=I)Y=T;s(k,K,y,b,Y)}x=null;return{Pg:y,kw:h,tp:k,a54:b}}function s(o,V,a,O,S){while(e!=0){l(V);
var L=V[U].pop(),Q=V[U].pop(),b=Q>>>16,Z=Q&65535,z=b*R+Z;if(a[z]==null)throw"e";if(a[z]==65535){var I=L*6,y=z<<2;
a[z]=L;o[I]+=x[y];o[I+1]+=x[y+1];o[I+2]+=x[y+2];o[I+3]+=Z;o[I+4]+=b;o[I+5]++;if(b!=S-1&&a[z+R]==65535)N(V,b+1<<16|Z,L,J(O,Z,b+1,o,I));
if(b!=0&&a[z-R]==65535)N(V,b-1<<16|Z,L,J(O,Z,b-1,o,I));if(Z!=0&&a[z-1]==65535)N(V,b<<16|Z-1,L,J(O,Z-1,b,o,I));
if(Z!=R-1&&a[z+1]==65535)N(V,b<<16|Z+1,L,J(O,Z+1,b,o,I))}}}w.RN=function(o,V,a,O,S,L){x=o;R=V;T=a;var Q=O.kw=O.kw+1,b=O.Pg,Z=O.tp,I=O.tp=new Uint32Array(Q*6);
I.set(Z,0);var y=b[S[1]*R+S[0]];for(var z=0;z<b.length;z++)if(b[z]==y)b[z]=65535;for(var z=0;z<6;z++)I[y*6+z]=0;
var r=[];for(var z=0;z<1e3+T;z++)r.push([]);for(var z=0;z<S.length;z+=2)N(r,S[z+1]<<16|S[z],y,0);for(var z=0;
z<L.length;z+=2)N(r,L[z+1]<<16|L[z],Q-1,0);s(I,r,b,O.a54,T);x=null};return w}();u.at3={};u.at3.aA9=function(){var x=11,R=7,T=x>>>1,cg=R>>>1,c=2,g=2e3/c,d=[],e=null,N="";
function U(J,w,s){var o=(J[w+0]-J[s+0])*(1/255),V=(J[w+1]-J[s+1])*(1/255),a=(J[w+2]-J[s+2])*(1/255),O=(J[w+3]-J[s+3])*(1/255),S=o*o*.125+V*V*.25+a*a*.5+O*O;
return d[~~(S*g)]}function l(J,w,s,o,V,a){var O=Date.now(),S=u.B(w*s);u.Ve(J,S);var L=UZIP.adler(S,0,w*s);
if(L!=N){var Q=u.Bj(S,w,s);e=u.B(w*s*4);N=L;var b=[1,1/9,1/25,1/49,1/81];for(var Z=0;Z<s;Z++)for(var I=0;
I<w;I++)for(var z=0;z<4;z++){var y=Math.max(1,I-z),r=Math.min(w-1,I+z),h=Math.max(1,Z-z),k=Math.min(s-1,Z+z),K=u.Wn(Q,w,y,r,h,k);
if(isNaN(K))throw I+","+Z+","+z+","+K;e[(Z*w+I)*4+z]=K*b[z]}}if(fq.tc){var H=fq.kN(0,w,s);H.set(J);var p=fq.kN(1,w,s);
p.set(e);var f=fq.kN(2,w,s);fq.WM(f);fq.filter.c8({type:fq.filter.aiT,rm:new Float32Array([1/w,1/s]),axZ:p.G1,ak7:V,ap5:a},H.G1);
f.get(o)}else{for(var z=0;z<2e3;z++)d[z]=Math.exp(-(z/2e3)*c*(100+(1-V)*(1-V)*1e4));var A=cg+2;for(var Z=A;
Z<s-A;Z++)for(var I=A;I<w-A;I++){var _=0,W=0,Y=0,G=0;for(var i=0;i<x;i++)for(var E=0;E<x;E++){var $=I+E-T,C=Z+i-T;
if($==I&&C==Z||$<A||C<A||$>=w-A||C>=s-A)continue;var B=U(e,(Z*w+I)*4,(C*w+$)*4),M=C*w+$<<2;_+=B*J[M+0];
W+=B*J[M+1];Y+=B*J[M+2];G+=B}if(G==0){continue}var j=1/G,P=(Z*w+I)*4;o[P+0]=~~((1-a)*j*_+a*o[P+0]);o[P+1]=~~((1-a)*j*W+a*o[P+1]);
o[P+2]=~~((1-a)*j*Y+a*o[P+2])}}}return l}();u.aCy=function(){var x=6,R=x>>>1,T=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],c=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function g(a,O){var S=!1,L=a.length,Q=O[0],y=5,h=0,k=0;for(var z=1;z<L;z++)Q=Q.y8(O[z]);if((Q.m&1)!=0)Q.m++;
if((Q.e&1)!=0)Q.e++;var b=Q.m,Z=Q.e,I=Math.max(b,Z);while(I>>>y>8&&y<10)y++;var r=1<<y;if(b%r!=0)h=r-b%r;
if(Z%r!=0)k=r-Z%r;Q.t1(h>>>1,k>>>1);b=Q.m;Z=Q.e;if(b%r!=0||Z%r!=0)throw"e";var K=Date.now(),H=[],p=u.B(Q.Z()),f=[],A=b*Z,_=new Float32Array(b*Z*2);
for(var z=0;z<L;z++){var W=O[z],Y=u.B(W.Z());u.Ve(a[z],Y);p.fill(0);u.gN(Y,W,p,Q);H.push(p.slice(0));
var G=W.x-Q.x,i=W.y-Q.y,E=G+W.m-2,$=i+W.e;for(var C=0;C<W.e;C++){var B=(C+i)*b;for(var M=0;M<G;M++)p[B+M]=p[B+G];
for(var M=E;M<b;M++)p[B+M]=p[B+E-1]}for(var M=0;M<b;M++){for(var C=0;C<i;C++)p[C*b+M]=p[i*b+M];for(var C=$;
C<Z;C++)p[C*b+M]=p[($-1)*b+M]}var j=new Float32Array(b*Z*2);f.push(j);for(var P=0;P<A;P++)j[P*2]=p[P]*(1/255);
N(j,_,b,Z,y);d(j,b,Z,y)}if(S)console.log("to gray, decompose",Date.now()-K);K=Date.now();var t=u.B(b*Z);
for(var C=0;C<Z;C++)for(var M=0;M<b;M++){var q=0,m=0,iE=C*b+M<<1;for(var z=0;z<L;z++){var hV=f[z],dD=hV[iE],bh=hV[iE+1],ho=dD*dD+bh*bh;
if(ho>m){m=ho;q=z}}t[iE>>>1]=q}if(S)console.log("max abs value",Date.now()-K);K=Date.now();U(t,b,Z,y);
e(t,b,Z);if(S)console.log("denoise",Date.now()-K);K=Date.now();var aH=_.slice(0);for(var C=0;C<Z;C++)for(var M=0;
M<b;M++){var z=C*b+M,iE=z<<1,f2=f[t[z]];aH[iE]=f2[iE];aH[iE+1]=f2[iE+1]}l(aH,_,b,Z,y);if(S)console.log("compose",Date.now()-K);
K=Date.now();for(var P=0;P<A;P++){var ho=aH[P*2]*255,q=0,m=1e9;for(var z=0;z<L;z++){var e9=Math.abs(H[z][P]-ho);
if(e9<m){m=e9;q=z}H[z][P]=0}H[q][P]=255}if(S)console.log("toRGB",Date.now()-K);K=Date.now();return[H,Q]}function d(a,O,S,L){var Q=O>>>L,b=S>>>L,Z=1e-4;
for(var I=0;I<S;I++)for(var y=0;y<O;y++){if(y<Q&&I<b)continue;var r=(I*O+y)*2,h=a[r],k=a[r+1],K=h*h+k*k;
if(K<Z)h=k=0;else{var H=(K-Z)/K;h*=H;k*=H}a[r]=h;a[r+1]=k}}function U(a,O,S,L){for(var Q=0;Q<L;Q++){var b=O>>>Q,Z=S>>>Q,I=b>>>1,y=Z>>>1;
for(var r=0;r<y;r++)for(var h=0;h<I;h++){var k=r*O+I+h,K=(r+y)*O+I+h,H=(r+y)*O+h,p=a[k],f=a[K],A=a[H];
if(p==f==A){}else if(p==f)a[H]=p;else if(f==A)a[k]=f;else if(p==A)a[K]=p}}}function e(a,O,S){for(var L=1;
L<S-1;L++)for(var Q=1;Q<O-1;Q++){var z=L*O+Q,b=a[z-O],Z=a[z-1],I=a[z],y=a[z+1],r=a[z+O],h=b==Z&&b==y||b==y&&y==r||y==r&&Z==r||b==Z&&r==Z;
if(h)a[z]=b==Z?b:Z==y?Z:b;else if(I>b&&I>Z&&I>y&&I>r)a[z]=b+Z+y+r>>>2;else if(I<b&&I<Z&&I<y&&I<r)a[z]=b+Z+y+r>>>2}}function N(a,O,S,L,Q){for(var z=0;
z<Q;z++){var b=S>>>z,Z=L>>>z;J(a,O,S,L,b,Z)}}function l(a,O,S,L,Q){for(var z=Q-1;z>=0;z--){var b=S>>z,Z=L>>z;
w(a,O,S,L,b,Z)}}function J(a,O,S,L,Q,b){o(a,O,S,L,Q,b,!0);o(O,a,S,L,Q,b,!1)}function w(a,O,S,L,Q,b){V(a,O,S,L,Q,b,!0);
V(O,a,S,L,Q,b,!1)}function s(a,O,S,L,Q,b){var Z=S*L+O<<1;a[Z]=Q;a[Z+1]=b}function o(a,O,S,L,Q,b,Z){var jc=Z?Q:b,I=Z?b:Q,y=I>>>1;
for(var r=0;r<jc;r++){for(var h=0;h<I;h+=2){var k=0,K=0,H=0,p=0,f=h>>>1;for(var A=0;A<6;A++){var _=h+A-3;
if(_<0)_=I+_;if(_>=I)_=_-I;var W=(Z?_*S+r:r*S+_)<<1,Y=a[W],G=a[W+1],i=T[A],E=c[A];k+=Y*i[0]-G*i[1];K+=G*i[0]+Y*i[1];
H+=Y*E[0]-G*E[1];p+=G*E[0]+Y*E[1]}if(Z){s(O,r,f,S,k,K);s(O,r,f+y,S,H,p)}else{s(O,f,r,S,k,K);s(O,f+y,r,S,H,p)}}}}function V(a,O,S,L,Q,b,Z){var jc=Z?Q:b,I=Z?b:Q,y=I>>>1,r,h,k,K;
for(var H=0;H<jc;H++){for(var p=0;p<I;p++){var f=0,A=0;for(var _=p+3&1;_<6;_+=2){var W=p-_+3>>1;if(W<0)W=y+W;
if(W>=y)W=W-y;if(Z){r=H;h=W;k=H;K=W+y}else{h=H;r=W;K=H;k=W+y}var Y=h*S+r<<1,G=K*S+k<<1,i=a[Y],E=a[Y+1],$=a[G],C=a[G+1],B=T[_],M=c[_];
f+=i*B[0]+$*M[0];f+=E*B[1]+C*M[1];A+=E*B[0]+C*M[0];A-=i*B[1]+$*M[1]}if(Z)s(O,H,p,S,f,A);else s(O,p,H,S,f,A)}}}return{Fv:g}}();
var bd=function(){function x(){this.Z=0;this.Mi=0;this.Jr={};this.Kh=[];this.Yz=1e5;this.Ti=1e5;this.JF=-1;
this.fB=-1;this.color=0}function R(cg){this.wV=cg;this.dq=new Array(cg);this.zI=new Array(cg*6);this.a8z=0;
this.TU=new Array(cg*2);this.alpha=new Array(cg);this.tA=new Array(cg);this.LE=new Array(cg)}function T(g,d,U,e){function N(O,S,g,d){return g[d*S+O]}function l(z){var y=g.length;
while(z<y&&g[z]==0)z++;return z<y?z:-1}function J(O,S,y){for(var z=2;z<5;z++){var r=0;for(var h=-z+1;
h<=z-1;h++){r+=N(O+h,S+z-1,g,d)==y?1:-1;r+=N(O+z-1,S+h-1,g,d)==y?1:-1;r+=N(O+h-1,S-z,g,d)==y?1:-1;r+=N(O-z,S+h,g,d)==y?1:-1}if(r>0)return 1;
else if(r<0)return 0}return 0}function w(y,V){var a=new x,O=y,S=V,r=0,h=1,k;a.color=g[V*d+y];a.sign=N(y,V,g,d)==a.color?"+":"-";
while(1){a.Kh.push(O,S);if(O>a.JF)a.JF=O;if(O<a.Yz)a.Yz=O;if(S>a.fB)a.fB=S;if(S<a.Ti)a.Ti=S;a.Mi++;O+=r;
S+=h;a.Z-=O*h;if(O==y&&S==V)break;var K=N(O+(r+h-1>>1),S+(h-r-1>>1),g,d)==a.color,H=N(O+(r-h-1>>1),S+(h+r-1>>1),g,d)==a.color;
if(H&&!K){if(e.eM=="right"||e.eM=="black"&&a.sign=="+"||e.eM=="white"&&a.sign=="-"||e.eM=="majority"&&J(O,S,a.color)||e.eM=="minority"&&!J(O,S,a.color)){k=r;
r=-h;h=k}else{k=r;r=h;h=-k}}else if(H){k=r;r=-h;h=k}else if(!K){k=r;r=h;h=-k}}return a}var s=0,o=[];
while(!0){var s=l(s);if(s==-1)break;var V=Math.floor(s/d),a=w(s-V*d,V);for(var z=0;z<a.Kh.length-2;z+=2){var O=a.Kh[z],S=a.Kh[z+1],L=S*d+O;
if(O==a.Kh[z+2]&&S+1==a.Kh[z+3]&&g[L]!=0)bd.fill(L,g,d,0)}if(a.Z>e.aq0)o.push(a)}for(var z=0;z<o.length;
z++)o[z].parent=-1;var Q=Date.now();for(var z=1;z<o.length;z++){var b=o[z];for(var Z=z-1;Z>=0;Z--){var I=o[Z];
if(b.Yz<I.Yz||b.JF>I.JF||b.Ti<I.Ti||b.fB>I.fB)continue;if(!bd.vb(I.Kh,b.Kh[0]+.5,b.Kh[1]+.5))continue;
b.parent=Z;break}}return o}function c(g,d){function U(r,h,k,K,H){this.x=r;this.y=h;this.b6=k;this.wG=K;
this._Z=H}function e(r,cg){return(cg+r)%cg}function N(r,h,k,K){return r*K-k*h}function l(r,h,k,K){return r*k+h*K}function J(r,h,k){if(r<=k)return r<=h&&h<k;
else return r<=h||h<k}function w(r,h,k){var K=0;K+=h*r[0]*h;K+=h*r[1]*k;K+=h*r[2];K+=k*r[3]*h;K+=k*r[4]*k;
K+=k*r[5];K+=r[6]*h;K+=r[7]*k;K+=r[8];return K}function s(r,h,k){return h+r*(k-h)}function o(r,h,k,K){var H=Math.sign(k-r),p=-Math.sign(K-h);
return H*(k-r)-p*(K-h)}function V(r,h){return Math.sqrt(r*r+h*h)}function a(r,h,k,K,H){var p=1-r;return p*p*p*h+3*(p*p*r)*k+3*(r*r*p)*K+r*r*r*H}function O(r,h,k,K,H,p,f,A){var _=N(r,h,f,A),W=N(k,K,f,A),Y=N(H,p,f,A),G=_-2*W+Y,i=-2*_+2*W,E=_,$=i*i-4*G*E;
if(G==0||$<0)return-1;var C=Math.sqrt($),B=(-i+C)/(2*G),M=(-i-C)/(2*G);if(B>=0&&B<=1)return B;else if(M>=0&&M<=1)return M;
else return-1}function S(y){var z,r,h;y.Mf=y.Kh[0];y.azC=y.Kh[1];y.Da=[];var k=y.Da;k.push(new U(0,0,0,0,0));
for(z=0;z<y.Mi;z++){r=y.Kh[z<<1]-y.Mf;h=y.Kh[(z<<1)+1]-y.azC;k.push(new U(k[z].x+r,k[z].y+h,k[z].b6+r*h,k[z].wG+r*r,k[z]._Z+h*h))}}function L(y){var cg=y.Mi,r=y.Kh,h,k=new Array(cg),K=new Array(cg),H=new Array(4),p,f,A,_,W,Y,G,i,E,$,C,z,B,M,j,P,t,q,m=0;
y.PY=new Array(cg);for(z=cg-1;z>=0;z--){if(r[z<<1]!=r[m<<1]&&r[(z<<1)+1]!=r[(m<<1)+1])m=z+1;K[z]=m}for(z=cg-1;
z>=0;z--){var iE=e(z+1,cg)<<1;H[0]=H[1]=H[2]=H[3]=0;h=(3+3*(r[iE]-r[z<<1])+(r[iE+1]-r[(z<<1)+1]))/2;
H[h]++;p=0;f=0;A=0;_=0;m=K[z];M=z;while(1){C=0;h=(3+3*Math.sign(r[m*2]-r[M*2])+Math.sign(r[m*2+1]-r[M*2+1]))/2;
H[h]++;if(H[0]&&H[1]&&H[2]&&H[3]){k[z]=M;C=1;break}E=r[m*2]-r[z*2];$=r[m*2+1]-r[z*2+1];if(N(p,f,E,$)<0||N(A,_,E,$)>0){break}if(Math.abs(E)<=1&&Math.abs($)<=1){}else{W=E+($>=0&&($>0||E<0)?1:-1);
Y=$+(E<=0&&(E<0||$<0)?1:-1);if(N(p,f,W,Y)>=0){p=W;f=Y}W=E+($<=0&&($<0||E<0)?1:-1);Y=$+(E>=0&&(E>0||$<0)?1:-1);
if(N(A,_,W,Y)<=0){A=W;_=Y}}M=m;m=K[M];if(!J(m,z,M)){break}}if(C==0){G=Math.sign(r[m*2]-r[M*2]);i=Math.sign(r[m*2+1]-r[M*2+1]);
E=r[M*2]-r[z*2];$=r[M*2+1]-r[z*2+1];j=N(p,f,E,$);P=N(p,f,G,i);t=N(A,_,E,$);q=N(A,_,G,i);B=1e7;if(P<0){B=Math.floor(j/-P)}if(q>0){B=Math.min(B,Math.floor(-t/q))}k[z]=e(M+B,cg)}}B=k[cg-1];
y.PY[cg-1]=B;for(z=cg-2;z>=0;z--){if(J(z+1,k[z],B)){B=k[z]}y.PY[z]=B}for(z=cg-1;J(e(z+1,cg),B,y.PY[z]);
z--){y.PY[z]=B}}function Q(y){function r(y,z,h){var cg=y.Mi,E=y.Kh,$=y.Da,C,B,M,j,P,K,t,q,i,m,iE,hV,dD,bh,ho=0;
if(h>=cg){h-=cg;ho=1}if(ho==0){C=$[h+1].x-$[z].x;B=$[h+1].y-$[z].y;j=$[h+1].wG-$[z].wG;M=$[h+1].b6-$[z].b6;
P=$[h+1]._Z-$[z]._Z;K=h+1-z}else{C=$[h+1].x-$[z].x+$[cg].x;B=$[h+1].y-$[z].y+$[cg].y;j=$[h+1].wG-$[z].wG+$[cg].wG;
M=$[h+1].b6-$[z].b6+$[cg].b6;P=$[h+1]._Z-$[z]._Z+$[cg]._Z;K=h+1-z+cg}iE=(E[z<<1]+E[h<<1])/2-E[0];hV=(E[(z<<1)+1]+E[(h<<1)+1])/2-E[1];
bh=E[h<<1]-E[z<<1];dD=-(E[(h<<1)+1]-E[(z<<1)+1]);t=(j-2*C*iE)/K+iE*iE;q=(M-C*hV-B*iE)/K+iE*hV;i=(P-2*B*hV)/K+hV*hV;
m=dD*dD*t+2*dD*bh*q+bh*bh*i;return Math.sqrt(m)}var z,h,k,K,cg=y.Mi,H=new Array(cg+1),p=new Array(cg+1),f=new Array(cg),A=new Array(cg+1),_=new Array(cg+1),W=new Array(cg+1),Y,G,i;
for(z=0;z<cg;z++){i=e(y.PY[e(z-1,cg)]-1,cg);if(i==z){i=e(z+1,cg)}if(i<z){f[z]=cg}else{f[z]=i}}h=1;for(z=0;
z<cg;z++){while(h<=f[z]){A[h]=z;h++}}z=0;for(h=0;z<cg;h++){_[h]=z;z=f[z]}_[h]=cg;k=h;z=cg;for(h=k;h>0;
h--){W[h]=z;z=A[z]}W[0]=0;H[0]=0;for(h=1;h<=k;h++){for(z=W[h];z<=_[h];z++){G=-1;for(K=_[h-1];K>=A[z];
K--){Y=r(y,K,z)+H[K];if(G<0||Y<G){p[z]=K;G=Y}}H[z]=G}}y.abK=k;y.a4M=new Array(k);for(z=cg,h=k-1;z>0;
h--){z=p[z];y.a4M[h]=z}}function b(y){function r(y,z,Y,f,A,aH){var cg=y.Mi,f2=y.Da,e9=0,i;while(Y>=cg){Y-=cg;
e9+=1}while(z>=cg){z-=cg;e9-=1}while(Y<0){Y+=cg;e9-=1}while(z<0){z+=cg;e9+=1}var kB=f2[Y+1].x-f2[z].x+e9*f2[cg].x,ct=f2[Y+1].y-f2[z].y+e9*f2[cg].y,jF=f2[Y+1].wG-f2[z].wG+e9*f2[cg].wG,fj=f2[Y+1].b6-f2[z].b6+e9*f2[cg].b6,ab=f2[Y+1]._Z-f2[z]._Z+e9*f2[cg]._Z,G=Y+1-z+e9*cg;
f[aH]=kB/G;f[aH+1]=ct/G;var iw=(jF-kB*kB/G)/G,jD=(fj-kB*ct/G)/G,a1=(ab-ct*ct/G)/G,gd=(iw+a1+Math.sqrt((iw-a1)*(iw-a1)+4*jD*jD))/2;
iw-=gd;a1-=gd;if(Math.abs(iw)>=Math.abs(a1)){i=Math.sqrt(iw*iw+jD*jD);if(i!=0){A[aH]=-jD/i;A[aH+1]=iw/i}}else{i=Math.sqrt(a1*a1+jD*jD);
if(i!=0){A[aH]=-a1/i;A[aH+1]=jD/i}}if(i==0){A[aH]=A[aH+1]=0}}var h=y.abK,k=y.a4M,cg=y.Mi,K=y.Kh,H=y.Mf,p=y.azC,f=new Array(h*2),A=new Array(h*2),_=new Array(h),W=new Array(3),z,Y,G,i,B,M,j,P,t,q,m;
y.Jr=new R(h);for(z=0;z<h;z++){Y=k[e(z+1,h)];Y=e(Y-k[z],cg)+k[z];f[z<<1]=0;f[(z<<1)+1]=0;A[z<<1]=0;A[(z<<1)+1]=0;
r(y,k[z],Y,f,A,z<<1)}for(z=0;z<h;z++){_[z]=[0,0,0,0,0,0,0,0,0];var E=A[z<<1]*A[z<<1]+A[(z<<1)+1]*A[(z<<1)+1],$=1/E;
if(E!=0){W[0]=A[(z<<1)+1];W[1]=-A[z<<1];W[2]=-W[1]*f[(z<<1)+1]-W[0]*f[z<<1];for(i=0;i<3;i++){_[z][i*3+0]=W[i]*W[0]*$;
_[z][i*3+1]=W[i]*W[1]*$;_[z][i*3+2]=W[i]*W[2]*$}}}var C=[0,0,0,0,0,0,0,0,0];for(z=0;z<h;z++){C[0]=C[1]=C[2]=C[3]=C[4]=C[5]=C[6]=C[7]=C[8]=C[9]=0;
var iE=K[k[z]<<1]-H,hV=K[(k[z]<<1)+1]-p,dD=0,bh=0;Y=e(z-1,h);for(i=0;i<9;i+=3){C[i+0]=_[Y][i+0]+_[z][i+0];
C[i+1]=_[Y][i+1]+_[z][i+1];C[i+2]=_[Y][i+2]+_[z][i+2]}while(1){var ho=C[0]*C[4]-C[1]*C[3];if(ho!=0){dD=(-C[2]*C[4]+C[5]*C[0])/ho;
bh=(C[2]*C[3]-C[5]*C[0])/ho;break}if(C[0]>C[4]){W[0]=-C[1];W[1]=C[0]}else if(C[4]){W[0]=-C[4];W[1]=C[3]}else{W[0]=1;
W[1]=0}var E=W[0]*W[0]+W[1]*W[1],$=1/E;W[2]=-W[1]*hV-W[0]*iE;for(i=0;i<3;i++){C[i*3+0]+=W[i]*W[0]*$;
C[i*3+1]+=W[i]*W[1]*$;C[i*3+2]+=W[i]*W[2]*$}}B=Math.abs(dD-iE);M=Math.abs(bh-hV);if(B<=.5&&M<=.5){y.Jr.TU[z<<1]=dD+H;
y.Jr.TU[(z<<1)+1]=bh+p;continue}j=w(C,iE,hV);t=iE;q=hV;if(C[0]!=0){for(m=0;m<2;m++){bh=hV-.5+m;dD=-(C[1]*bh+C[2])/C[0];
B=Math.abs(dD-iE);P=w(C,dD,bh);if(B<=.5&&P<j){j=P;t=dD;q=bh}}}if(C[4]!=0){for(m=0;m<2;m++){dD=iE-.5+m;
bh=-(C[3]*dD+C[5])/C[4];M=Math.abs(bh-hV);P=w(C,dD,bh);if(M<=.5&&P<j){j=P;t=dD;q=bh}}}for(i=0;i<2;i++){for(G=0;
G<2;G++){dD=iE-.5+i;bh=hV-.5+G;P=w(C,dD,bh);if(P<j){j=P;t=dD;q=bh}}}y.Jr.TU[z<<1]=t+H;y.Jr.TU[(z<<1)+1]=q+p}}function Z(y){var r=y.Jr.wV,h=y.Jr,z,k,K,H,p,f,A,_,W;
for(z=0;z<r;z++){k=e(z+1,r);K=e(z+2,r);var Y=h.TU[z<<1],G=h.TU[(z<<1)+1],i=h.TU[K<<1],E=h.TU[(K<<1)+1],$=h.TU[k<<1],C=h.TU[(k<<1)+1],B=s(.5,i,$),M=s(.5,E,C);
p=o(Y,G,i,E);if(p!=0){H=N($-Y,C-G,i-Y,E-G)/p;H=Math.abs(H);f=H>1?1-1/H:0;f=f*(1/.75)}else{f=4/3}h.tA[k]=f;
var j=3*k<<1;if(f>=d.aCA){h.dq[k]=0;h.zI[j+0]=h.zI[j+1]=0;h.zI[j+2]=$;h.zI[j+3]=C;h.zI[j+4]=B;h.zI[j+5]=M}else{if(f<.55){f=.55}else if(f>1){f=1}var P=.5+.5*f;
h.dq[k]=1;h.zI[j]=s(P,Y,$);h.zI[j+1]=s(P,G,C);h.zI[j+2]=s(P,i,$);h.zI[j+3]=s(P,E,C);h.zI[j+4]=B;h.zI[j+5]=M}h.alpha[k]=f;
h.LE[k]=.5}h.a8p=1}function I(y){function r(){this.FX=0;this.Qq=0;this.ML=0;this.a_=0;this.TV=0;this.fU=0;
this.Kt=0;this.alpha=0}function h(y,z,Y,hv,hO,t,q){var K=y.Jr.wV,jh=y.Jr.zI,aJ=y.Jr.TU;if(z==Y)return 1;
var hS=z,$=e(z+1,K),iO=e(hS+1,K),fj=aJ[z<<1],ab=aJ[(z<<1)+1],g$=aJ[$<<1],bF=aJ[($<<1)+1],hy=t[iO];if(hy==0)return 1;
var fg=V(fj-g$,ab-bF);for(hS=iO;hS!=Y;hS=iO){var iO=e(hS+1,K),hL=e(hS+2,K),dn=aJ[iO<<1],c5=aJ[(iO<<1)+1],at=aJ[hL<<1],gt=aJ[(hL<<1)+1];
if(t[iO]!=hy)return 1;if(Math.sign(N(g$-fj,bF-ab,at-dn,gt-c5))!=hy)return 1;if(l(g$-fj,bF-ab,at-dn,gt-c5)<fg*V(dn-at,c5-gt)*-.999847695156)return 1}var iK=e(z,K)*3+2<<1,iz=e(z+1,K)<<1,gI=e(Y,K)<<1,ce=e(Y,K)*3+2<<1,aH=jh[iK],f2=jh[iK+1],b7=aJ[iz],br=aJ[iz+1],kg=aJ[gI],bM=aJ[gI+1],eQ=jh[ce],eT=jh[ce+1],m=aJ[0],iE=aJ[1];
iK=Y*3+2<<1;var b6=jh[iK],hx=jh[iK+1],C=q[Y]-q[z];C-=N(b6-m,hx-iE,b6-m,hx-iE)/2;if(z>=Y){C+=q[K]}var io=b7-aH,jm=br-f2,bq=kg-aH,gO=bM-f2,ae=eQ-aH,dl=eT-f2,eF=N(io,jm,bq,gO),e6=N(io,jm,ae,dl),dJ=N(bq,gO,ae,dl),d2=eF+dJ-e6;
if(e6==eF)return 1;var P=dJ/(dJ-d2),j=e6/(e6-eF),gQ=e6*P/2;if(gQ==0)return 1;var a6=C/gQ,B=2-Math.sqrt(4-a6/.3);
hv.Qq=s(P*B,aH,b7);hv.ML=s(P*B,f2,br);hv.a_=s(j*B,eQ,kg);hv.TV=s(j*B,eT,bM);hv.alpha=B;hv.fU=P;hv.Kt=j;
b7=hv.Qq;br=hv.ML;kg=hv.a_;bM=hv.TV;hv.FX=0;for(hS=e(z+1,K);hS!=Y;hS=iO){iO=e(hS+1,K);var h6=aJ[hS<<1],cU=aJ[(hS<<1)+1],dn=aJ[iO<<1],c5=aJ[(iO<<1)+1];
P=O(b7-aH,br-f2,kg-b7,bM-br,eQ-kg,eT-bM,dn-h6,c5-cU);if(P<-.5)return 1;var jv=a(P,aH,b7,kg,eQ),de=a(P,f2,br,bM,eT),fg=V(dn-h6,c5-cU);
if(fg==0)return 1;var jJ=N(dn-h6,c5-cU,jv-h6,de-cU)/fg;if(Math.abs(jJ)>hO)return 1;if(l(dn-h6,c5-cU,jv-h6,de-cU)<0||l(h6-dn,cU-c5,jv-dn,de-c5)<0){return 1}hv.FX+=jJ*jJ}for(hS=z;
hS!=Y;hS=iO){iO=e(hS+1,K);var iK=hS*3+2<<1,iz=iO*3+2<<1,c4=jh[iK],gn=jh[iK+1],eG=jh[iz],gN=jh[iz+1];
P=O(b7-aH,br-f2,kg-b7,bM-br,eQ-kg,eT-bM,eG-c4,gN-gn);if(P<-.5)return 1;var jv=a(P,aH,b7,kg,eQ),de=a(P,f2,br,bM,eT),fg=V(eG-c4,gN-gn);
if(fg==0)return 1;var jJ=N(eG-c4,gN-gn,jv-c4,de-gn)/fg,et=N(eG-c4,gN-gn,aJ[iO<<1]-c4,aJ[(iO<<1)+1]-gn)/fg;
et*=.75*y.Jr.alpha[iO];if(et<0){jJ=-jJ;et=-et}if(jJ<et-hO)return 1;if(jJ<et){hv.FX+=(jJ-et)*(jJ-et)}}return 0}var k=y.Jr,K=k.wV,H=k.TU,p=new Array(K+1),f=new Array(K+1),A=new Array(K+1),_=new Array(K+1),W,z,Y,G,i=new r,E,$,C,B,M,j,P,t=new Array(K),q=new Array(K+1);
for(z=0;z<K;z++){if(k.dq[z]=="CURVE"){var m=H[e(z-1,K)<<1],iE=H[(e(z-1,K)<<1)+1],hV=H[z<<1],dD=H[(z<<1)+1],bh=H[e(z+1,K)<<1],ho=H[(e(z+1,K)<<1)+1];
t[z]=Math.sign(N(hV-m,dD-iE,bh-hV,ho-dD))}else{t[z]=0}}C=0;q[0]=0;var aH=k.TU[0],f2=k.TU[1];for(z=0;
z<K;z++){$=e(z+1,K);if(k.dq[$]=="CURVE"){B=k.alpha[$];var e9=z*3+2<<1,kB=$*3+2<<1,ct=k.zI[e9],jF=k.zI[e9+1],fj=H[$<<1],ab=H[($<<1)+1],iw=k.zI[kB],jD=k.zI[kB+1];
C+=.3*B*(4-B)*N(fj-ct,ab-jF,iw-ct,jD-jF)/2;C+=N(ct-aH,jF-f2,iw-aH,jD-f2)/2}q[z+1]=C}p[0]=-1;f[0]=0;A[0]=0;
for(Y=1;Y<=K;Y++){p[Y]=Y-1;f[Y]=f[Y-1];A[Y]=A[Y-1]+1;for(z=Y-2;z>=0;z--){G=h(y,z,e(Y,K),i,d.aCe,t,q);
if(G){break}if(A[Y]>A[z]+1||A[Y]==A[z]+1&&f[Y]>f[z]+i.FX){p[Y]=z;f[Y]=f[z]+i.FX;A[Y]=A[z]+1;_[Y]=i;i=new r}}}W=A[K];
M=new R(W);j=new Array(W);P=new Array(W);Y=K;for(z=W-1;z>=0;z--){var a1=e(Y,K),gd=z*3+0<<1,i6=a1*3+0<<1;
if(p[Y]==Y-1){M.dq[z]=k.dq[a1];M.zI[gd]=k.zI[i6];M.zI[gd+1]=k.zI[i6+1];M.zI[gd+2]=k.zI[i6+2];M.zI[gd+3]=k.zI[i6+3];
M.zI[gd+4]=k.zI[i6+4];M.zI[gd+5]=k.zI[i6+5];M.TU[z<<1]=k.TU[a1<<1];M.TU[(z<<1)+1]=k.TU[(a1<<1)+1];M.alpha[z]=k.alpha[a1];
M.tA[z]=k.tA[a1];M.LE[z]=k.LE[a1];j[z]=P[z]=1}else{M.dq[z]="CURVE";M.zI[gd]=_[Y].Qq;M.zI[gd+1]=_[Y].ML;
M.zI[gd+2]=_[Y].a_;M.zI[gd+3]=_[Y].TV;M.zI[gd+4]=k.zI[i6+4];M.zI[gd+5]=k.zI[i6+5];M.TU[z<<1]=s(_[Y].Kt,k.zI[i6+4],H[a1<<1]);
M.TU[(z<<1)+1]=s(_[Y].Kt,k.zI[i6+5],H[(a1<<1)+1]);M.alpha[z]=_[Y].alpha;M.tA[z]=_[Y].alpha;j[z]=_[Y].Kt;
P[z]=_[Y].fU}Y=p[Y]}for(z=0;z<W;z++){$=e(z+1,W);M.LE[z]=j[z]/(j[z]+P[$])}M.a8p=1;y.Jr=M}for(var z=0;
z<g.length;z++){var y=g[z];S(y);L(y);Q(y);b(y);Z(y);if(d.aw_)I(y)}}return{acX:T,avT:c}}();bd.WU=function(x,R,T,c){var g={eM:"minority",aq0:c,aw_:!0,aCA:1,aCe:.2},d=bd.acX(x,R,T,g);
bd.avT(d,g);return d};bd.JR=function(x){var R=[];for(var z=0;z<x.length;z++){var T=x[z],c=T.Jr,g=["M"],d=[c.zI[(c.wV-1)*6+4],c.zI[(c.wV-1)*6+5]];
for(var U=0;U<c.wV;U++){var e=U*6;if(c.dq[U]==1){g.push("C");for(var N=0;N<6;N++)d.push(c.zI[e+N])}else if(c.dq[U]==0){g.push("L");
for(var N=2;N<4;N++)d.push(c.zI[e+N])}}g.push("Z");R.push({parent:T.parent,color:T.color,path:{z:d,G:g}})}return R};
bd.vb=function(x,R,T){var cg=x.length>>1,c,g=x[2*cg-3]-T,d=x[2*cg-2]-R,U=x[2*cg-1]-T,e=U>g,N=0;for(var z=0;
z<cg;z++){c=d;g=U;d=x[2*z]-R;U=x[2*z+1]-T;if(g==U)continue;e=U>g}for(var z=0;z<cg;z++){c=d;g=U;d=x[2*z]-R;
U=x[2*z+1]-T;if(g<0&&U<0)continue;if(g>0&&U>0)continue;if(c<0&&d<0)continue;if(g==U&&Math.min(c,d)<=0)return!0;
if(g==U)continue;var l=c+(d-c)*-g/(U-g);if(l==0)return!0;if(l>0)N++;if(g==0&&e&&U>g)N--;if(g==0&&!e&&U<g)N--;
e=U>g}return(N&1)==1};bd.fill=function(x,R,T,c){var g=R[x],d=[x],U=0;while(U<d.length){var e=d[U];U++;
R[e]=c;if(R[e-T]==g){d.push(e-T);R[e-T]=254}if(R[e-1]==g){d.push(e-1);R[e-1]=254}if(R[e+1]==g){d.push(e+1);
R[e+1]=254}if(R[e+T]==g){d.push(e+T);R[e+T]=254}}};var by=function(){function x(e){return Math.max(0,Math.min(1,e))}function R(e,N){var l=N<0?-N:N;
if(e>1)e=.99;e=e*.99;var J=Math.pow(l/5,.16),w=Math.pow(2,l<1?l:1+(l-1)*.8);if(N<0)w=1/w;e=J*(1-Math.pow(1-e,w))+(1-J)*e;
return e}function T(e,N){var l=N/100;e=e*.99;e=l*(.5-.5*Math.cos(e*Math.PI))+(1-l)*e;return e}var c=u.Id.aog(1,1,1,-.3),g=u.Id.F0(c);
function d(e,N,l,J,w,s,o){var V=e[l],a=e[l+1],O=e[l+2],S=u.Id.yu(c,[V,a,O,1]);V=S[0];a=S[1];O=S[2];V=R(V,J);
a=R(a,J);O=R(O,J);var S=u.Id.yu(g,[V,a,O,1]);V=S[0];a=S[1];O=S[2];V=x(V);a=x(a);O=x(O);V=T(V,w);a=T(a,w);
O=T(O,w);var L=gB.asi(V,a,O,s);V=L[0];a=L[1];O=L[2];V=x(V);a=x(a);O=x(O);if(o){var Q=new Uint8Array(4);
Q[0]=~~(.5+V*255);Q[1]=~~(.5+a*255);Q[2]=~~(.5+O*255);hD.Yt(o,Q,Q,new aP(0,0,1,1));V=Q[0]/255;a=Q[1]/255;
O=Q[2]/255}N[l]=V;N[l+1]=a;N[l+2]=O}function U(e,N,l,J,w,s){var o=w.Temp?w.Temp.v:0,V=w.Tint?w.Tint.v:0,a=w.Ex12?w.Ex12.v:0,O=w.Cr12?w.Cr12.v:0,S=w.Vibr?w.Vibr.v:0,L=w.Strt?w.Strt.v:0,Q=gB.ok(o,V),b=null;
a+=Q.anY;if(S!=0||L!=0)b=hD.V0("vibA",{Strt:w.Strt,vibrance:w.Vibr});var Z=Date.now();if(s){var I=Math.pow(2,a),y=e.length;
a=0;var r=new Float32Array(4e3);for(var z=0;z<4e3;z++){var h=z*(1/1e3);h=u.lW(h);h*=I;h=u.DW(h);h=x(h);
r[z]=h}for(var z=0;z<y;z+=3){J[z]=r[~~(e[z]*1e3)];J[z+1]=r[~~(e[z+1]*1e3)];J[z+2]=r[~~(e[z+2]*1e3)]}console.log(Date.now()-Z,"Exposure normalizing");
Z=Date.now()}else J.set(e);if(a!=0||O!=0||o!=0||V!=0||b){var k=17,K=1/(k-1),H=k*k*k,p=new Array(H*3);
for(var f=0;f<k;f++)for(var A=0;A<k;A++)for(var _=0;_<k;_++){var z=f*k*k+A*k+_,W=z*3;p[W]=f*K;p[W+1]=A*K;
p[W+2]=_*K}for(var z=0;z<H;z++)d(p,p,z*3,a,O,Q,b);console.log(Date.now()-Z,"making LUT");Z=Date.now();
ICC.U.applyLUTFloat(p,k,J,J);console.log(Date.now()-Z,"applying LUT");Z=Date.now()}}return U}();function jP(){}jP.eE=function(x,R){var T=new Uint8Array(x),c=0,g=R.split("/").pop().split(".")[0];
function d(O){for(var z=0;z<O.length;z++)O[z].v.Nm.v=g+"/"+O[z].v.Nm.v.split("/").pop()}var U={DE:[],YF:[],list:[]},e=n.wh(T,c);
c+=2;if(e<=2){U=jP.a7q(T);d(U.list);return U}var N=n.wh(T,c);c+=2;var l=n.zQ(T,c,8);c+=8;var J=n.s(T,c);
c+=4;if(J>0)U.DE=jP.aj3(T,c,J,N,e);c+=J;var w=n.zQ(T,c,8);c+=8;var s=n.s(T,c);c+=4;if(s>0)U.YF=ef.Fn(T,c,s);
c+=s;var o=n.zQ(T,c,8);c+=8;var V=n.s(T,c);c+=4;if(V>0){var a={};ck.fP(T,a,c+4);U.list=a.Brsh.v}c+=V;
var O=U.list;for(var z=0;z<O.length;z++){bE.vY.check(O[z].v)}d(O);return U};jP.kb=function(x,R){x.v.Nm.v=R};
jP.a7q=function(x){var R={DE:[],YF:[],list:[]},T=0,c=n.wh(x,T);T+=2;var g=n.wh(x,T);T+=2;for(var z=0;
z<g;z++){var d=n.wh(x,T);T+=2;var U=n.s(x,T);T+=4;var e=T;if(d==2){var N={};R.DE.push(N);var l=n.s(x,e);
e+=4;var J=n.wh(x,e);e+=2;if(c==2){var w=n.AM(x,e);e+=4+w.length*2+2}N.id=c9.EW()+"-d71c-11e5-b1ae-a548a96e5f9f";
e++;e+=8;N.v4=n.v7(x,e);e+=16;var s=n.wh(x,e);e+=2;var o=x[e];e++;var V=eH.wT(!1,s,x,N.v4.m,N.v4.e,e,o);
jP.aap(N,V);var a=bE.hA(N.id),O=a.Brsh.v;O.Dmtr.v.val=N.v4.m;O.Spcn.v.val=J;R.list.push({t:"Objc",v:a})}T+=U}return R};
jP.P7=function(x){var R=new kE,T=0,c=0;n.qY(R,T,6);T+=2;n.qY(R,T,2);T+=2;var g={},d=[],U={},e=[];for(var z=0;
z<x.list.length;z++){var N=x.list[z].v,l=N.Brsh.v;if(l.classID=="sampledBrush")g[l.sampledData.v]=!0;
if(N.Txtr)U[N.Txtr.v.Idnt.v]=!0}for(var z=0;z<x.DE.length;z++)if(g[x.DE[z].id])d.push(x.DE[z]);for(var z=0;
z<x.YF.length;z++)if(g[x.YF[z].id])e.push(x.YF[z]);n._a(R,T,"8BIMsamp");T+=8;T+=4;c=T;T=jP.a2H(R,T,d);
n.pe(R,c-4,T-c);n._a(R,T,"8BIMpatt");T+=8;T+=4;c=T;T=ef.qF(R,T,e);n.pe(R,c-4,T-c);var J=JSON.parse(JSON.stringify(x.list));
for(var z=0;z<J.length;z++)J[z].v.Nm.v=J[z].v.Nm.v.split("/").pop();var w={classID:"null",Brsh:{t:"VlLs",v:J}};
n._a(R,T,"8BIMdesc");T+=8;T+=4;c=T;n.pe(R,T,16);T+=4;T+=ck.fv(R,w,T);n.pe(R,c-4,T-c);return R.data.slice(0,T).buffer};
jP.aj3=function(x,R,T,c,g){var d=n.s,U=n.v7,e=R+T,N=[];while(R<e){var l={};N.push(l);var J=d(x,R);R+=4;
var w=R,s=n.ZV(x,R);R+=s.length;l.id=s.vq;if(c==1){R+=9;l.v4=U(x,R);R+=16}else{R+=7;var o=d(x,R);R+=4;
l.v4=U(x,R);R+=16;var V=d(x,R);R+=4;R+=V*4;var a=d(x,R);R+=4;var O=d(x,R);R+=4;var S=U(x,R);R+=16}var L=n.wh(x,R);
R+=2;var Q=x[R];R+=1;var b=eH.wT(!1,L,x,l.v4.m,l.v4.e,R,Q);jP.aap(l,b);if(J%4!=0)J+=4-J%4;R=w+J}return N};
jP.aap=function(x,R){var T=x.v4.clone();T.x=T.y=0;x.NR=[R,T]};jP.a2H=function(x,R,T){var c=n.pe,g=n.qZ;
for(var z=0;z<T.length;z++){var d=T[z],U=R+4,N=56,J=1;R+=4;n.ew(x,R,d.id);R+=d.id.length+2;x.sL(R,1);
x.data[R]=1;R+=3;c(x,R,3);R+=4;var e=R;R+=4;g(x,R,d.v4);R+=16;c(x,R,N);R+=4;R+=N*4;c(x,R-4,1);var l=R;
R+=4;c(x,R,8);R+=4;g(x,R,d.v4);R+=16;n.qY(x,R,8);R+=2;x.sL(R,1);x.data[R]=J;R++;var w=d.NR[0];x.sL(R,d.v4.Z()*2);
R=eH.mt(!1,w,x.data,d.v4.m,d.v4.e,R,J);x.sL(R,8);R+=8;var s=R-U;c(x,U-4,s);c(x,e,s-49);c(x,l,s-305);
if(s%4!=0)R+=4-s%4}return R};function er(){}er.eE=function(x,R){var T=new Uint8Array(x),c=[],g=0,d=n.wh(T,g);
g+=2;if(d!=4){throw"Unknown version of curves: "+d}var U=n.wh(T,g);g+=2;for(var z=0;z<U;z++){var e=er.asm(T,g);
g+=2+2*e.length;c.push(e)}if(g!=T.length){var N=n.zQ(T,g,4);g+=4;var l=n.wh(T,g);g+=2;var J=n.wh(T,g);
g+=2;if(J!=0)throw"extra curves for channels"}var w=er.ale(c,0);w.presetKind={t:"long",v:3};w.presetFileName={t:"TEXT",v:R.split("/").pop().split(".")[0]};
return[w]};er.T5=function(x,R,T){var c=R,g=[],d=x[R];R+=3;var U=n.s(x,R);R+=4;for(var z=0;z<4;z++){var e=U>>>z&1;
if(e){if(d==0){var N=er.asm(x,R);R+=2+2*N.length}else{var N=er.azd(x,R);R+=256}g.push(N)}else g.push(d==0?[0,0,255,255]:er.awr())}var l=er.ale(g,d);
return l};er.ale=function(x,R){var T=gm.GI("curv");for(var z=0;z<4;z++){if(R==0){var c=x[z],g=[];for(var d=0;
d<c.length;d+=2)g.push(u.a1.eB(c[d],c[d+1],!0));er.v3(T,z,g)}else er.v3(T,z,x[z])}return T};er.Kb=function(x,R,T){var c=[];
for(var z=0;z<4;z++){var g=er.Eh(T,z);if(g.length==256)c.push(g);else{var d=[];for(var U=0;U<g.length;
U++)d.push(g[U].v.Hrzn.v,g[U].v.Vrtc.v);c.push(d)}}var e=R,N=c[0].length==256?1:0;x.sL(R,3);x.data[R]=N;
x.data[R+1]=0;x.data[R+2]=1;R+=3;n.pe(x,R,15);R+=4;for(var z=0;z<4;z++){var l=c[z];if(N==0){er.awS(x,R,l);
R+=2+2*l.length}else{er.arw(x,R,l);R+=256}}return R-e};er.awr=function(){var x=[];for(var z=0;z<256;
z++)x.push(z);return x};er.v3=function(x,R,T){var c=b9.P5("CrvA",R);if(T.length<256)c.Crv={t:"VlLs",v:T};
else{c.Mpng={t:"VlLs",v:[]};for(var z=0;z<256;z++)c.Mpng.v[z]={t:"long",v:T[z]}}c={t:"Objc",v:c};var g=x.Adjs.v,d=b9.Dx(g,R);
if(d==-1)g.push(c);else g[d]=c};er.Eh=function(x,R){var T=x.Adjs.v,c=b9.Dx(T,R);if(c==-1){if(T.length==0||T[0].v.Crv)return[u.a1.eB(0,0,!0),u.a1.eB(255,255,!0)];
if(T[0].v.autoMachineLearning||T[0].v.AuCo)return[u.a1.eB(0,0,!0),u.a1.eB(128,160,!0),u.a1.eB(255,255,!0)];
var g=[];for(var z=0;z<256;z++)g.push(z);return g}var d=T[c].v;if(d.Crv)return d.Crv.v;if(d.Mpng){var g=[];
for(var z=0;z<256;z++)g.push(d.Mpng.v[z].v);return g}return[u.a1.eB(0,0,!0),u.a1.eB(255,255,!0)]};er.asm=function(x,R){var T=[],c=n.wh(x,R);
R+=2;for(var g=0;g<c;g++){var d=n.wh(x,R);R+=2;var U=n.wh(x,R);R+=2;T.push(U,d)}return T};er.awS=function(x,R,T){var c=T.length/2;
n.qY(x,R,c);R+=2;for(var g=0;g<c;g++){n.qY(x,R,T[g*2+1]);R+=2;n.qY(x,R,T[g*2+0]);R+=2}};er.azd=function(x,R){var T=[];
for(var z=0;z<256;z++)T.push(x[R+z]);return T};er.arw=function(x,R,T){x.sL(R,256);for(var z=0;z<256;
z++)x.data[R+z]=T[z]};function fu(){}fu.T5=function(x,R,T){var c={},g=n.wh(x,R);R+=2;c.cq=x[R]==1;R++;
R++;c.mw=[n.Z8(x,R),n.Z8(x,R+2),n.Z8(x,R+4)];R+=6;c.KM=[n.Z8(x,R),n.Z8(x,R+2),n.Z8(x,R+4)];R+=6;c.fa=[];
for(var z=0;z<6;z++){var d={};d.wb=[n.Z8(x,R),n.Z8(x,R+2),n.Z8(x,R+4),n.Z8(x,R+6)];R+=8;d.lV=[n.Z8(x,R),n.Z8(x,R+2),n.Z8(x,R+4)];
R+=6;c.fa.push(d)}var U=gm.GI("hue2"),e=c;if(U.Clrz==null)U.Clrz={t:"bool",v:!1};U.Clrz.v=e.cq;for(var z=0;
z<7;z++){var N=z==0?e.cq?e.mw:e.KM:e.fa[z-1];fu.v3(U,z,N)}return U};fu.apl=function(x){return{classID:"Hst2",H:{t:"long",v:x[0]},Strt:{t:"long",v:x[1]},Lght:{t:"long",v:x[2]}}};
fu.Dx=function(x,R){for(var z=0;z<x.length;z++){var T=x[z].v.LclR;if(R==0&&T==null||T!=null&&T.v==R)return z}return-1};
fu.v3=function(x,R,T){var c=R==0?T:T.lV,g=fu.apl(c);if(R!=0){var d=T.wb;g.LclR={t:"long",v:R},g.BgnR={t:"long",v:d[0]};
g.BgnS={t:"long",v:d[1]};g.EndS={t:"long",v:d[2]};g.EndR={t:"long",v:d[3]}}g={t:"Objc",v:g};var U=x.Adjs.v,e=fu.Dx(U,R);
if(e==-1)U.push(g);else U[e]=g};fu.Eh=function(x,R){var T=x.Adjs.v,c=fu.Dx(T,R);if(c==-1){if(R==0)return[0,0,0];
else return[{wb:[315,345,15,45],lV:[0,0,0]},{wb:[15,45,75,105],lV:[0,0,0]},{wb:[75,105,135,165],lV:[0,0,0]},{wb:[135,165,195,225],lV:[0,0,0]},{wb:[195,225,255,285],lV:[0,0,0]},{wb:[255,285,315,345],lV:[0,0,0]}][R-1]}var g=T[c].v,d=[g.H.v,g.Strt.v,g.Lght.v];
if(R==0)return d;return{lV:d,wb:[g.BgnR.v,g.BgnS.v,g.EndS.v,g.EndR.v]}};fu.Kb=function(x,R,T){var c={cq:T.Clrz?T.Clrz.v:!1,fa:[]};
c.mw=c.KM=fu.Eh(T,0);for(var z=1;z<7;z++)c.fa.push(fu.Eh(T,z));var g=2+2+12+6*14,d=x.data;x.sL(R,g);
n.$R(d,R,2);R+=2;d[R]=c.cq?1:0;R++;R++;n.x0(d,R+0,c.mw[0]);n.x0(d,R+2,c.mw[1]);n.x0(d,R+4,c.mw[2]);R+=6;
n.x0(d,R+0,c.KM[0]);n.x0(d,R+2,c.KM[1]);n.x0(d,R+4,c.KM[2]);R+=6;for(var z=0;z<6;z++){var U=c.fa[z].wb,e=c.fa[z].lV;
n.x0(d,R+0,U[0]);n.x0(d,R+2,U[1]);n.x0(d,R+4,U[2]);n.x0(d,R+6,U[3]);R+=8;n.x0(d,R+0,e[0]);n.x0(d,R+2,e[1]);
n.x0(d,R+4,e[2]);R+=6}return g};function b9(){}b9.eE=function(x){var R=new Uint8Array(x),T=2,c=[];for(var z=0;
z<29;z++){var g=[];c.push(g);for(var d=0;d<5;d++)g.push(n.wh(R,T+z*10+d*2))}T+=29*10;if(T<R.length){var U=n.zQ(R,T,4);
T+=4;var e=n.wh(R,T);T+=2;var N=n.wh(R,T);T+=2;var l=N-29;for(var z=0;z<l;z++){var g=[];c.push(g);for(var d=0;
d<5;d++)g.push(n.wh(R,T+z*10+d*2))}}var J=gm.GI("levl");for(var z=0;z<4;z++)b9.v3(J,z,c[z]);return J};
b9.P5=function(x,z){var R=["Cmps","Rd","Grn","Bl"],T={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:R[z]}}]};
return{classID:x,Chnl:T}};b9.Dx=function(x,R){var T={Cmps:0,Rd:1,Grn:2,Bl:3};for(var z=0;z<x.length;
z++){var c=x[z].v,g=T[c.Chnl.v[0].v.enum];if(g==R)return z}return-1};b9.v3=function(x,R,T){var c=b9.P5("LvlA",R);
c.Inpt={t:"VlLs",v:[{t:"long",v:T[0]},{t:"long",v:T[1]}]};c.Otpt={t:"VlLs",v:[{t:"long",v:T[2]},{t:"long",v:T[3]}]};
c.Gmm={t:"doub",v:T[4]/100};c={t:"Objc",v:c};var g=x.Adjs.v,d=b9.Dx(g,R);if(d==-1)g.push(c);else g[d]=c};
b9.Eh=function(x,R){var T=[0,255,0,255,100],c=x.Adjs.v,g=b9.Dx(c,R);if(g==-1)return T;var d=c[g].v;if(d.Inpt){T[0]=d.Inpt.v[0].v;
T[1]=d.Inpt.v[1].v}if(d.Otpt){T[2]=d.Otpt.v[0].v;T[3]=d.Otpt.v[1].v}if(d.Gmm){T[4]=Math.round(d.Gmm.v*100)}return T};
b9.P7=function(x,R){var T=[],c=0;for(var z=0;z<4;z++)T.push(b9.Eh(R,z));while(T.length<29)T.push([0,255,0,255,100]);
x.sL(0,2+10*29);n.$R(x.data,c,2);c+=2;for(var z=0;z<29;z++){var g=T[z];for(var d=0;d<5;d++)n.$R(x.data,c+z*10+d*2,g[d])}c+=29*10;
if(T.length==29)return c;x.sL(c,8+10*(T.length-29));n.vW(x.data,c,"Lvls");c+=4;n.$R(x.data,c,3);c+=2;
n.$R(x.data,c,T.length);c+=2;var U=T.length-29;for(var z=0;z<U;z++){var g=T[29+z];for(var d=0;d<5;d++)n.$R(x.data,c+z*10+d*2,g[d])}c+=10*U;
return c};function gj(){}gj.eE=function(x,R){var T=new Uint8Array(x),c=2,g=R.split("/").pop().split(".")[0],d={Xx:[],rj:[]},U=n.zQ(T,c,4);
c+=4;var e=n.wh(T,c);c+=2;var N=n.s(T,c);c+=4;d.Xx=ef.Fn(T,c,N);c+=N;var l=n.s(T,c);c+=4;for(var z=0;
z<l;z++){var J=n.s(T,c);c+=4;var w=c,s={DN:{},U1:{}};d.rj.push(s);c+=4;c+=ck.fP(T,s.DN,c);s.DN.Nm.v=g+"/"+s.DN.Nm.v.split("=").pop();
c+=4;c+=ck.fP(T,s.U1,c);c=w+J;var o=s.U1.blendOptions,V=s.U1.Lefx;if(o&&Object.keys(o.v).length>1){}if(V){if(V.v.masterFXSwitch==null)V.v.masterFXSwitch={t:"bool",v:!0};
kc.I$(V.v)}}return d};gj.kb=function(x,R){x.DN.Nm.v=R};gj.P7=function(x){var R=new kE,T=0;n.qY(R,T,2);
T+=2;n._a(R,T,"8BSL");T+=4;n.qY(R,T,3);T+=2;var c=T;T+=4;T=ef.qF(R,T,x.Xx);n.pe(R,c,T-c-4);var g=x.rj.length;
n.pe(R,T,g);T+=4;for(var z=0;z<g;z++){T+=4;var d=T,U=x.rj[z];n.pe(R,T,16);T+=4;var e=U.DN.Nm.v;U.DN.Nm.v=U.DN.Nm.v.split("/").pop();
T+=ck.fv(R,U.DN,T);U.DN.Nm.v=e;var N=U.U1.Lefx;if(N){U.U1.Lefx=JSON.parse(JSON.stringify(N));kc.An(U.U1.Lefx.v)}n.pe(R,T,16);
T+=4;T+=ck.fv(R,U.U1,T);if(N)U.U1.Lefx=N;n.pe(R,d-4,T-d)}return R.data.slice(0,T).buffer};function ep(){}ep.T5=function(x,R,T){var c=n.wh(x,R);
R+=2;var g={};g.p6=n.wh(x,R)==1;R+=2;g.Jo=[];for(var z=0;z<10;z++){var d=[];g.Jo.push(d);for(var U=0;
U<4;U++)d.push(n.Z8(x,R+U*2));R+=8}var e=gm.GI("selc");e.Mthd.v.CrcM=g.p6?"Absl":"Rltv";for(var z=1;
z<10;z++)ep.v3(e,z-1,g.Jo[z]);return e};ep.TE="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
ep.P5=function(x,z){var R=["Cmps","Rd","Grn","Bl"],T={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:R[z]}}]};
return{classID:x,Chnl:T}};ep.Dx=function(x,R){var T=ep.TE;for(var z=0;z<x.length;z++){var c=x[z].v,g=T.indexOf(c.Clrs.v.Clrs);
if(g==R)return z}return-1};ep.v3=function(x,R,T){var c=["Cyn","Mgnt","Ylw","Blck"],g={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:ep.TE[R]}}};
for(var d=0;d<4;d++)g[c[d]]={t:"UntF",v:{type:"#Prc",val:T[d]}};g={t:"Objc",v:g};var U=x.ClrC.v,e=ep.Dx(U,R);
if(e==-1)U.push(g);else U[e]=g};ep.Eh=function(x,R){var T=[0,0,0,0],c=x.ClrC.v,g=ep.Dx(c,R);if(g==-1)return T;
var d=["Cyn","Mgnt","Ylw","Blck"];for(var z=0;z<4;z++)if(c[g].v[d[z]])T[z]=c[g].v[d[z]].v.val;return T};
ep.Kb=function(x,R,T){var c={p6:T.Mthd.v.CrcM=="Absl",Jo:[[0,0,0,0]]};for(var z=0;z<9;z++)c.Jo.push(ep.Eh(T,z));
x.sL(R,84);n.$R(x.data,R,1);R+=2;n.$R(x.data,R,c.p6?1:0);R+=2;for(var z=0;z<10;z++){var g=c.Jo[z];for(var d=0;
d<4;d++)n.x0(x.data,R+d*2,g[d]);R+=8}return 84};function bD(){}bD.GI=function(){return{Uc:new aP(0,0,50,50),DN:"",R9:"play",$:u.j.u1.f5([.1,.1,.9,.5,.1,.9],0)}};
bD.eE=function(x,R){x=new Uint8Array(x);var T=0,c=[],g=R.split("/").pop().split(".")[0],d=Date.now(),U=n.zQ(x,0,4);
T+=4;var e=n.s(x,T);T+=4;var N=n.s(x,T);T+=4;for(var z=0;z<N;z++){var l=n.AM(x,T);T+=l.length*2+4+2;
if((l.length&1)==0)T+=2;T=bD.abp(x,T,l,c);c[z].R9=g+"/"+c[z].R9}return c};bD.abp=function(x,R,T,c){var g=n.s(x,R);
R+=4;var d=n.s(x,R);R+=4;var U=R,e=n.ZV(x,U).vq;U+=e.length+1;var N=n.v7(x,U);U+=16;var l=bD.Lt(x,U,d-(U-R)),J=u.j.Md(l),w=u.M.QK(J),s=1/w.m,o=1/w.e;
u.j.q0(l,new gP(s,0,0,o,-w.x*s,-w.y*o));c.push({R9:T,DN:e,$:l,Uc:N});R+=d;return R};bD.kb=function(x,R){x.R9=R};
bD.P7=function(x){var R=new kE,T=0;n._a(R,T,"cush");T+=4;n.pe(R,T,2);T+=4;n.pe(R,T,x.length);T+=4;for(var z=0;
z<x.length;z++){var c=x[z],g=c.R9.split("/").pop()+"\0";n.nd(R,T,g);T+=4+g.length*2;if((g.length&1)==1)T+=2;
n.pe(R,T,1);T+=4;T+=4;var d=T;n.ew(R,T,c.DN);T+=c.DN.length+1;n.qZ(R,T,c.Uc);T+=16;R.sL(T,c.$.length*26);
bD.RU(R.data,T,c.$,1,1);T+=c.$.length*26;var U=T-d;if((U&3)!=0)U+=4-(U&3);n.pe(R,d-4,U);T=d+U}return R.data.slice(0,T).buffer};
bD.afu=function(x){var R=[];for(var z=0;z<x.length;z++){var T=x[z],c=T.type,g={type:c};R.push(g);if(c==6){}else if(c==8)g.all=T.all;
else if(c==0||c==3){g.length=T.length;g.frule=T.AC;g.third=T.$e;g.prmA=T.W5;g.prmB=T.dD}else{g.c=[T.YA.x,T.YA.y,T.L.x,T.L.y,T.VV.x,T.VV.y]}}return R};
bD.aqt=function(x){var R=[];for(var z=0;z<x.length;z++){var T=x[z],c=T.type,g={type:c};R.push(g);if(c==6){}else if(c==8)g.all=T.all;
else if(c==0||c==3){g.length=T.length;g.AC=T.frule;g.$e=T.third;g.W5=T.prmA;g.dD=T.prmB}else{var d=T.c;
g.YA=new cI(d[0],d[1]);g.L=new cI(d[2],d[3]);g.VV=new cI(d[4],d[5])}}return R};bD.Lt=function(x,R,T,c,g){if(c==null)c=1;
if(g==null)g=1;function d(a,O,S){var L=n.apU(a,O)*S,Q=Math.round(L);return Math.abs(L-Q)<1e-6?Q:L}var U=n.Z8,e=[],N=Math.floor(T/26);
for(var z=0;z<N;z++){var l=R+z*26,J={},w=0;e.push(J);J.type=U(x,l);l+=2;if(J.type==6){w=24}if(J.type==8){J.all=U(x,l);
l+=2;w=22}if(J.type==0||J.type==3){J.length=U(x,l);l+=2;J.AC=U(x,l);l+=2;J.$e=U(x,l);l+=2;J.W5=n.s(x,l);
l+=4;J.dD=n.s(x,l);l+=4;w=10}if(J.type==1||J.type==2||J.type==4||J.type==5){var s,o;o=d(x,l,g);l+=4;
s=d(x,l,c);l+=4;J.YA=new cI(s,o);o=d(x,l,g);l+=4;s=d(x,l,c);l+=4;J.L=new cI(s,o);o=d(x,l,g);l+=4;s=d(x,l,c);
l+=4;J.VV=new cI(s,o);w=0}for(var V=0;V<w;V++)if(x[l+V]!=0){console.log("Unexpected non-zero byte!",J,V,x[l+V])}}return e};
bD.RU=function(x,R,T,c,g){var d=n.x0,U=n.a6z,e=T.length;for(var z=0;z<e;z++){var N=R+z*26,l=T[z];d(x,N,l.type);
N+=2;if(l.type==6){}if(l.type==8)d(x,N,l.all);if(l.type==0||l.type==3){d(x,N,l.length);N+=2;d(x,N,l.AC);
N+=2;d(x,N,l.$e);N+=2}if(l.type==1||l.type==2||l.type==4||l.type==5){U(x,N,l.YA.y/g);N+=4;U(x,N,l.YA.x/c);
N+=4;U(x,N,l.L.y/g);N+=4;U(x,N,l.L.x/c);N+=4;U(x,N,l.VV.y/g);N+=4;U(x,N,l.VV.x/c);N+=4}}};function gr(){}gr.eE=function(x){var R=new Uint8Array(x),T=[],c=0;
if(n.zQ(R,0,4)=="ASEF")T=gr.anN(R);else{c=gr.aiw(R,c,T);if(c+3<R.length){T=[];c=gr.aiw(R,c,T)}}return T};
gr.anN=function(x){var R=[],T=8,c=n.s(x,T),g,d=null,U,e,N,l;T+=4;for(var J=0;J<c;J++){var w=n.wh(x,T);
T+=2;var s=n.s(x,T);T+=4;var o=T+s;if(w==49153||w==1){var V=n.wh(x,T);T+=2;var a=n.tS(x,T,V-1);T+=V*2;
if(w==1)g=a;else d=a}if(w==1){var O=n.zQ(x,T,4);T+=4;U=n.Ky(x,T);T+=4;e=n.Ky(x,T);T+=4;N=n.Ky(x,T);T+=4;
if(O=="RGB "){}else if(O=="CMYK"){l=n.Ky(x,T);T+=4;var S=UDOC.C.cmykToRgb([U,e,N,l]);U=S[0];e=S[1];N=S[2]}else alert("Unknown color space: "+O);
R.push({o:U*255,A:e*255,J:N*255,hB:(d?d+" : ":"")+g})}T=o}return R};gr.aiw=function(x,R,T){var c=n.wh,g=n.Z8,d=c(x,R);
R+=2;var U=c(x,R);R+=2;for(var z=0;z<U;z++){var e=gr.oT(x,R);R+=10;if(d==2){e.hB=n.AM(x,R);R+=4+e.hB.length*2+2}T.push(e)}return R};
gr.oT=function(x,R){var T=n.wh,c=n.Z8,g=T(x,R),o=null;R+=2;var d=T(x,R);R+=2;var U=T(x,R);R+=2;var e=T(x,R);
R+=2;var N=T(x,R);R+=2;var l=1/65535,J=255/65535,w=100/65535,s=255/1e4;if(g==0)o={o:d*J,A:U*J,J:e*J};
else if(g==1){o=u.oC(d*l,U*l,e*l);o.o*=255;o.A*=255;o.J*=255}else if(g==2)o=u.I.ir({classID:"CMYC",Cyn:{t:"doub",v:100-d*w},Mgnt:{t:"doub",v:100-U*w},Ylw:{t:"doub",v:100-e*w},Blck:{t:"doub",v:100-N*w}});
else if(g==7){var V=u.hc(d/100,c(x,R-6)/100,c(x,R-4)/100);o=V}else if(g==8){o={o:255-d*s,A:255-U*s,J:255-e*s}}else if(g==18){var a=255*d/16384;
o={o:a,A:a,J:a}}else{throw g}return o};gr.P7=function(x){var R=new kE,T=0,c=n.qY;c(R,T,2);T+=2;c(R,T,x.length);
T+=2;for(var z=0;z<x.length;z++){var g=x[z];R.sL(T,10);gr.sm(R.data,T,g);T+=10;var d=(g.hB?g.hB:"")+"\0";
n.nd(R,T,d);T+=4+d.length*2}return R.data.slice(0,T).buffer};gr.kb=function(x,R){x.hB=R};gr.sm=function(x,R,T){var c=65535/255,g=n.$R;
g(x,R,0);g(x,R+2,Math.round(T.o*c));g(x,R+4,Math.round(T.A*c));g(x,R+6,Math.round(T.J*c));g(x,R+8,0)};
function f0(){}f0.eE=function(x){var R=new Uint8Array(x),T=4,c={};c.hK=n.AM(R,T);T+=4+c.hK.length*2+2;
c.exp=R[T++]==1;c.dz=[];var g=n.s(R,T);T+=4;for(var z=0;z<g;z++){var d={};c.dz.push(d);d.iY=n.wh(R,T);
T+=2;d.shift=R[T++]==1;d.ax5=R[T++]==1;d.color=n.wh(R,T);T+=2;d.hK=n.AM(R,T);T+=4+d.hK.length*2+2;d.exp=R[T++]==1;
d.dz=[];var U=n.s(R,T);T+=4;for(var e=0;e<U;e++){var N={};d.dz.push(N);N.exp=R[T++]==1;N.r=R[T++]==1;
N.apO=R[T++]==1;N.akW=R[T++];var l=n.zQ(R,T,4);T+=4;if(l=="TEXT"){N.Sm=f0.ay$(R,T);T+=4+N.Sm.length}else if(l=="long"){N.Sm=n.zQ(R,T,4);
T+=4}else throw"e";N.DP=f0.ay$(R,T);T+=4+N.DP.length;var J=n.yr(R,T);T+=4;if(J==-1){N.M1={};var w=ck.fP(R,N.M1,T);
T+=w}}}console.log(c);var s=new Uint8Array(f0.P7(c));for(var z=0;z<s.length;z++)if(s[z]!=R[z]&&n.zQ(R,z+1,4)!="None"){console.log(R.length,s.length);
var o=4*(z>>>2)-16;console.log(n.lm(R,o,64));console.log(n.lm(s,o,64));console.log(R.slice(o,o+64));
console.log(s.slice(o,o+64));throw"i"}return[c]};f0.ay$=function(x,R){var T=n.s(x,R);return n.zQ(x,R+4,T)};
f0.a0n=function(x,R,T){n.pe(x,R,T.length);n._a(x,R+4,T)};f0.P7=function(x){var R=new kE,T=0;n.pe(R,T,16);
T+=4;n.nd(R,T,x.hK+"\0");T+=4+x.hK.length*2+2;R.sL(T,1);R.data[T++]=x.exp?1:0;var c=x.dz.length;n.pe(R,T,c);
T+=4;for(var z=0;z<c;z++){var g=x.dz[z];n.qY(R,T,g.iY);T+=2;R.sL(T,2);R.data[T++]=g.shift?1:0;R.data[T++]=g.ax5?1:0;
n.qY(R,T,g.color);T+=2;n.nd(R,T,g.hK+"\0");T+=4+g.hK.length*2+2;R.sL(T,1);R.data[T++]=g.exp?1:0;var d=g.dz.length;
n.pe(R,T,d);T+=4;for(var U=0;U<d;U++){var e=g.dz[U];R.sL(T,4);R.data[T++]=e.exp?1:0;R.data[T++]=e.r?1:0;
R.data[T++]=e.apO?1:0;R.data[T++]=e.akW;var N="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(e.Sm)!=-1;
n._a(R,T,N?"long":"TEXT");T+=4;if(!N){f0.a0n(R,T,e.Sm);T+=4+e.Sm.length}else{n._a(R,T,e.Sm);T+=4}f0.a0n(R,T,e.DP);
T+=4+e.DP.length;n.G0(R,T,e.M1?-1:0);T+=4;if(e.M1){var l=ck.fv(R,e.M1,T);T+=l}}}return R.data.slice(0,T).buffer};
function cD(){}cD.eE=function(x){var R=new Uint8Array(x),T=0,c=n.s(R,T),N;T+=4;var g=n.zQ(R,T,8);T+=8;
var d=n.pJ(R,T);T+=4;var U=n.pJ(R,T);T+=4;var e=n.pJ(R,T);T+=4;if(c==2){N=new Float32Array(x,32,x.byteLength-32>>>2)}else if(c==3||c==4){N=new Float32Array(U*e*2);
var l=0,J=0,w=!0;T=c==3?32:16+8+40;while(T<R.length){var s=n.pJ(R,T);T+=4;if(w)J+=s;else{for(var z=0;
z<s;z++){N[l+J+z<<1]=n.AT(R,T);N[(l+J+z<<1)+1]=n.AT(R,T+4);T+=8}J+=s}w=!w;if(s!=0&&J==U){l+=U;J=0;w=!0;
if(l==U*e)break}}}else throw"unknown Mesh version: "+c;return{KQ:U,kh:e,map:N}};cD.Li=function(x){var R=x.KQ,T=x.kh,c=x.map,g=new Uint8Array(32+T*R*8+T*8),d=0,U=0;
n.W_(g,d,3);d+=4;n.vW(g,d,"yfqLhseM");d+=8;n.ml(g,d,2);d+=4;n.ml(g,d,R);d+=4;n.ml(g,d,T);d+=4;n.ml(g,d,0);
d+=4;n.ml(g,d,1);d+=4;for(var e=0;e<T;e++){n.ml(g,d,0);d+=4;n.ml(g,d,R);d+=4;for(var N=0;N<R;N++){n.IE(g,d,c[U]);
n.IE(g,d+4,c[U+1]);U+=2;d+=8}}return g.buffer};function jq(){}jq.eE=function(x){var R=new Uint8Array(x),T=0,c=n.zQ(R,T,4);
T+=4;var g=n.wh(R,T);T+=2;var d=n.s(R,T);T+=4;var U=[];for(var z=0;z<d;z++){var e=n.s(R,T);T+=4;var N={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
U.push(N);var l=n.AM(R,T);N.Nm.v=l;T+=4+l.length*2+2;var J=n.wh(R,T);T+=2;var w=n.wh(R,T);T+=2;for(var s=0;
s<w;s++){var o=u.a1.eB(0,0,!0);o.v.Vrtc.v=n.wh(R,T);T+=2;o.v.Hrzn.v=n.wh(R,T);T+=2;N.Crv.v.push(o)}if(e==1){}else if(e==2){for(var s=0;
s<w;s++){N.Crv.v[s].v.Cnty.v=R[T]==1;T+=1}}else throw"error";var V=n.s(R,T);T+=4;var a=n.s(R,T);T+=4}return U};
jq.kb=function(x,R){x.Nm.v=R};jq.P7=function(x){var R=new kE,T=0;n._a(R,T,"8BFS");T+=4;n.qY(R,T,1);T+=2;
n.pe(R,T,x.length);T+=4;for(var z=0;z<x.length;z++){n.pe(R,T,2);T+=4;var c=x[z];n.nd(R,T,c.Nm.v+"\0");
T+=4+c.Nm.v.length*2+2;n.qY(R,T,2);T+=2;var g=c.Crv.v.length;n.qY(R,T,g);T+=2;for(var d=0;d<g;d++){var U=c.Crv.v[d];
n.qY(R,T,U.v.Vrtc.v);T+=2;n.qY(R,T,U.v.Hrzn.v);T+=2}R.sL(T,g);for(var d=0;d<g;d++){R.data[T]=c.Crv.v[d].v.Cnty.v;
T++}n.pe(R,T,0);T+=4;n.pe(R,T,0);T+=4}return R.data.slice(0,T).buffer};function ef(){}ef.eE=function(x,R){var T=new Uint8Array(x),c=4,g=R.split("/").pop().split(".")[0],d=n.wh(T,c);
c+=2;var U=n.s(T,c);c+=4;var e=[];for(var z=0;z<U;z++){var N={};e.push(N);c=ef.aiS(T,c,N);N.name=g+"/"+N.name.split("=").pop()}return e};
ef.kb=function(x,R){x.name=R};ef.P7=function(x){var R=new kE,T=0;n._a(R,T,"8BPT");T+=4;n.qY(R,T,1);T+=2;
n.pe(R,T,x.length);T+=4;for(var z=0;z<x.length;z++){var c=x[z],g=c.name;c.name=c.name.split("/").pop();
T=ef.axL(R,T,c);c.name=g}return R.data.slice(0,T).buffer};ef.Fn=function(x,R,T){var c=R+T,g=[];while(R<c){var d={},U=n.s(x,R);
R+=4;var e=R;R=ef.aiS(x,R,d);if(!d.NR[1].Y3())g.push(d);if(U%4!=0)U+=4-U%4;R=e+U}return g};ef.qF=function(x,R,T){for(var z=0;
z<T.length;z++){var c=T[z];R+=4;var g=R;R=ef.axL(x,R,c);var d=R-g;n.pe(x,g-4,d);if(d%4!=0)g+=4-d%4;R=g+d}return R};
ef.aiS=function(x,R,T){var c=n.s(x,R);R+=4;if(c!=1)alert("Unknown version of pattern");var g=n.s(x,R);
R+=4;if(g!=1&&g!=2&&g!=3)console.log("Unsupported mode of pattern: "+g);var d=n.wh(x,R);R+=2;var U=n.wh(x,R);
R+=2;var e=new aP(0,0,U,d);T.name=n.AM(x,R);R+=4+2*T.name.length+2;var N=x[R];R++;T.id=n.zQ(x,R,N);R+=T.id.length;
var l=-1;if(g==2){l=R;R+=3*256+4}var J=new u.IV(U*d);R=ef.axo(x,R,J);if(g==2){for(var z=0;z<J.o.length;
z++){var w=3*J.o[z];J.o[z]=x[l+w+0];J.A[z]=x[l+w+1];J.J[z]=x[l+w+2]}}var s=u.B(e.Z()*4);u.dZ(J,s);T.NR=[s,e];
return R};ef.axL=function(x,R,T){var c=T.NR[0],g=T.NR[1];n.pe(x,R,1);R+=4;n.pe(x,R,3);R+=4;n.qY(x,R,g.e);
R+=2;n.qY(x,R,g.m);R+=2;n.nd(x,R,T.name+"\0");R+=4+2*T.name.length+2;n.BV(x,R,T.id.length);R++;n._a(x,R,T.id);
R+=T.id.length;var d=new u.IV(g.Z());u.ZC(c,d);R=ef.a8D(x,R,d,g);return R};ef.axo=function(x,R,T){var c=R,g={v4:null,U:[],a4R:null,aK:null},d=n.s(x,R);
R+=4;var U=n.s(x,R);R+=4;g.v4=n.v7(x,R);R+=16;var e=n.s(x,R);R+=4;for(var z=0;z<e+2;z++){var N=n.s(x,R);
R+=4;if(N==0)continue;var l=n.s(x,R);R+=4;if(l==0)continue;var J=n.s(x,R);R+=4;var w=n.v7(x,R);R+=16;
var s=n.wh(x,R);R+=2;var o=x[R];R++;var V=eH.wT(!1,J,x,w.m,w.e,R,o);if(z<e)g.U.push(V);if(z==e)g.a4R=V;
if(z==e+1)g.aK=V;R+=l-23}if(!g.v4.Y3()){if(g.U[0])T.o=g.U[0];if(g.U[1])T.A=g.U[1];else T.A=g.U[0].slice(0);
if(g.U[2])T.J=g.U[2];else T.J=g.U[0].slice(0);if(g.aK)T.Y=g.aK;else T.Y.fill(255)}return R};ef.a8D=function(x,R,T,c){var g=R,d={v4:c,U:[T.o,T.A,T.J],a4R:null,aK:T.Y};
n.pe(x,R,3);R+=4;n.pe(x,R,0);R+=4;n.qZ(x,R,c);R+=16;n.pe(x,R,24);R+=4;for(var z=0;z<24+2;z++){var U=R,e=z<3||z==25?1:0;
n.pe(x,R,e);R+=4;if(e==0)continue;n.pe(x,R,0);R+=4;n.pe(x,R,8);R+=4;n.qZ(x,R,c);R+=16;n.qY(x,R,8);R+=2;
n.BV(x,R,1,1);R++;var N=z<3?d.U[z]:d.aK;x.sL(R,c.Z()+2);R=eH.mt(!1,N,x.data,c.m,c.e,R,1);n.pe(x,U+4,R-U-8)}n.pe(x,g+4,R-g-8);
return R};function cn(){}cn.eE=function(x,R){var T=new Uint8Array(x),g=0;if(T[0]==71)return cn.anv(T);
var c=R.split("/").pop().split(".")[0],d=n.zQ(T,g,4);g+=4;var U=n.wh(T,g);g+=2;var e=[];if(U<=3){var N=n.wh(T,g);
g+=2;for(var z=0;z<N;z++){var l=T[g++],J=n.zQ(T,g,l);g+=l;var w=cn.akR(T,g,J),s=w[0];g=w[1];e.push(s)}}else{var w={},o=ck.fP(T,w,g+4),V=w.GrdL.v;
for(var z=0;z<V.length;z++)e[z]=V[z].v.Grad.v}for(var z=0;z<e.length;z++){var a=e[z].Nm.v.split("/").pop().split("=").pop();
e[z].Nm.v=c+"/"+a}return e};cn.kb=function(x,R){x.Nm.v=R};cn.P7=function(x){var R=new kE,T=0;n._a(R,T,"8BGR");
T+=4;n.qY(R,T,5);T+=2;n.pe(R,T,16);T+=4;var c={classID:"null",GrdL:{t:"VlLs",v:[]}},g=c.GrdL.v;for(var z=0;
z<x.length;z++){var d=JSON.parse(JSON.stringify(x[z]));d.Nm.v=d.Nm.v.split("/").pop();g[z]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:d}}}}T+=ck.fv(R,c,T);
return R.data.slice(0,T).buffer};cn.akR=function(x,R,T){var c={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:T},Trns:{t:"VlLs",v:[]}},g=n.wh(x,R);
R+=2;if(g==0)throw"e";for(var z=0;z<g;z++){var d=n.s(x,R),U=n.s(x,R+4),e=gr.oT(x,R+8),N={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:e.o},Grn:{t:"doub",v:e.A},Bl:{t:"doub",v:e.J}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:d},Mdpn:{t:"long",v:U}}};
c.Clrs.v.push(N);R+=20}var l=n.wh(x,R);R+=2;for(var z=0;z<l;z++){var d=n.s(x,R),U=n.s(x,R+4),J=n.wh(x,R+8),N={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*J/255)}},Lctn:{t:"long",v:d},Mdpn:{t:"long",v:U}}};
c.Trns.v.push(N);R+=10}var w=n.wh(x,R);R+=2;c.Intr.v=w==2?n.wh(x,R):4096;R+=2;var s=n.wh(x,R);R+=2;return[c,R]};
cn.a44=function(x,R,T){var c=T.Clrs.v.length;n.qY(x,R,c);R+=2;for(var z=0;z<c;z++){var g=T.Clrs.v[z];
n.pe(x,R,g.v.Lctn.v);n.pe(x,R+4,g.v.Mdpn.v);n.qY(x,R+8,0);var d=u.I.SE(u.I.ir(g.v.Clr.v)),U=[d.Rd.v,d.Grn.v,d.Bl.v,0];
for(var e=0;e<4;e++)n.qY(x,R+10+e*2,Math.round(65535*(U[e]/255)));R+=20}var N=T.Trns.v.length;n.qY(x,R,N);
R+=2;for(var z=0;z<N;z++){var g=T.Trns.v[z];n.pe(x,R,g.v.Lctn.v);n.pe(x,R+4,g.v.Mdpn.v);n.qY(x,R+8,Math.round(255*g.v.Opct.v.val/100));
R+=10}n.qY(x,R,2);R+=2;n.qY(x,R,T.Intr.v);R+=2;n.qY(x,R,32);R+=2;return R};cn.anv=function(x){var R=n.KW(x,0,x.length).split("\n"),T=parseFloat(R[2]),c=[],g=JSON.parse(fJ.Ck[fJ.order.indexOf("GrFl")]).Grad.v;
g.Intr.v=0;g.Nm.v=R[1];for(var z=0;z<T;z++){var d=R[3+z].split(" ").map(parseFloat),U=d[11],e=d[12];
c.push([d[0],d.slice(3,6),d[6]]);if(e!=0){var N=u.c3(d[3],d[4],d[5]),l=u.c3(d[7],d[8],d[9]),J=N.kh,w=l.kh;
if(e==1&&J>w)w++;if(e==2&&J<w)J++;var s=Math.round(Math.abs(w-J)*7);if(s>1)for(var o=0;o<s;o++){var V=1-(o+1)/(s+1),a=1-V,O=u.oC(V*J+a*w,V*N.Kt+a*l.Kt,V*N.hu+a*l.hu);
c.push([V*d[0]+a*d[2],[O.o,O.A,O.J],V*d[6]+a*d[10]])}}c.push([d[2],d.slice(7,10),d[10]])}c.sort(function(S,L){return S[0]-L[0]});
u.I.lw(c,g);return[g]};function aa(){}aa.eE=function(x){var R=new Uint8Array(x),T=[],c=[],g=[],d=[],U=[],e=0,N=n.zQ(R,e,4);
e+=4;var l=n.s(R,e);e+=4;var J=n.s(R,e);e+=4;while(e<R.length){var w=n.zQ(R,e,4);e+=4;var s=n.zQ(R,e,4);
e+=4;var o=n.s(R,e);e+=4;if(s=="tppa"){c=ef.Fn(R,e,o);e+=o}else if(s=="tpbd"){g=jP.aj3(R,e,o,1,1);e+=o}else if(s=="tptp"){var V=n.s(R,e);
e+=4;for(var z=0;z<V;z++){var a=n.AM(R,e);e+=6+a.length*2;e+=4;var O={};e+=ck.fP(R,O,e);T.push([a,O])}while((e&3)!=0)e++}else if(s=="tpsh"){var S=e,L=R.slice(e,e+o);
while(e<S+o){var Q=n.s(R,e);e+=4;e=bD.abp(R,e,"Shape",d)}e=S+o}else if(s=="tpst"){var S=e;e+=4;while(e<S+o){var b=n.s(R,e);
e+=4;var Z=e,I=n.s(R,e);e+=4;var O={DN:{},U1:{}};U.push(O);e+=4;e+=ck.fP(R,O.DN,e);e+=4;e+=ck.fP(R,O.U1,e);
e=Z+b;var y=O.U1.Lefx;if(y){if(y.v.masterFXSwitch==null)y.v.masterFXSwitch={t:"bool",v:!0};kc.I$(y.v)}}e=S+o}else{console.log(R.slice(e-8,e+64));
console.log(n.zQ(R,e-8,64));throw s}}return{DE:g,YF:c,list:T,a0d:d,rj:U}};aa.kb=function(x,R){x[0]=R};
aa.P7=function(x){var R=new kE,T=0;n._a(R,T,"8BTP");T+=4;n.pe(R,T,3);T+=4;n.pe(R,T,1);T+=4;var c=[x.YF,x.DE,x.list];
for(var z=0;z<3;z++){if(c[z].length==0)continue;n._a(R,T,"8BIM");T+=4;var g=["tppa","tpbd","tptp"][z];
n._a(R,T,g);T+=4;var d=T;T+=4;if(g=="tppa"){T=ef.qF(R,T,x.YF)}else if(g=="tpbd"){T=jP.a2H(R,T,x.DE)}else if(g=="tptp"){n.pe(R,T,x.list.length);
T+=4;for(var U=0;U<x.list.length;U++){var e=x.list[U];n.nd(R,T,e[0]+"\0");T+=6+e[0].length*2;n.pe(R,T,16);
T+=4;T+=ck.fv(R,e[1],T)}}n.pe(R,d,T-d-4);while((T&3)!=0)T++;R.sL(T,0)}return R.data.slice(0,T).buffer};
function e3(){}e3.eE=function(x,R){var T=new Uint8Array(x),c;if(n.s(T,0)==T.length)c="icc";else if(T[0]=="<".charCodeAt(0))c="look";
else if(n.KZ(T,"LUT_3D_SIZE")!=-1)c="cube";else c="3DL";if(c!="icc"){var g=e3.a8k(T,c),d=e3.ad7(g[0],g[1]);
T=d}var U=[];for(var z=0;z<T.length;z++)U.push(T[z]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:R?R:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:U}}]};
e3.P7=function(x){var R=x[0],T=new Uint8Array(R.profile.v);return T.buffer};e3.kb=function(x,R){x.Nm.v=R};
e3.ad7=function(x,R){var T=new kE,c=128;T.sL(0,128);var g=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var z=0;z<g.length;z++)T.data[z]=g[z];var d=["desc","A2B0"],U=d.length,e=128+4+U*12;n.pe(T,c,U);
c+=4;for(var N=0;N<U;N++){var l=d[N];n._a(T,c,l);c+=4;n.pe(T,c,e);c+=4;var J=e;if(l=="desc"){n._a(T,J,"mluc");
J+=4;J+=4;n.pe(T,J,1);J+=4;n.pe(T,J,12);J+=4;n._a(T,J,"enUS");J+=4;var w="ICC by Photopea\0",s=w.length*2+2;
n.pe(T,J,s);J+=4;n.pe(T,J,28);J+=4;T.sL(J,s);for(var z=0;z<w.length;z++)T.data[J+z*2+1]=w.charCodeAt(z);
J+=s}if(l=="A2B0"){n._a(T,J,"mAB ");J+=4;J+=4;T.sL(J,4);T.data[J]=3;T.data[J+1]=3;J+=4;T.sL(J,4*5);J+=4*3;
n.pe(T,J,J+8-e);J+=4;J+=4;T.sL(J,20);T.data[J]=x;T.data[J+1]=x;T.data[J+2]=x;J+=16;T.data[J]=2;J+=4;
var o=x*x*x*3;T.sL(J,o*2);for(var z=0;z<o;z++)n.$R(T.data,J+z*2,Math.max(0,Math.min(65535,Math.round(R[z]*65535))));
J+=o*2}var V=J-e;while((V&3)!=0)V++;n.pe(T,c,V);c+=4;e+=V}n.pe(T,0,e);return T.data.slice(0,e)};e3.a8k=function(x,R){R="LUTFormat"+R.toUpperCase();
var T=[],c=0,g=n.KW(x,0,x.length),d="";for(var z=0;z<x.length&&d=="";z++){if(x[z]==10)d="\n";else if(x[z]==13){d="\r";
if(x[z+1]==10)d+="\n"}}if(R=="LUTFormatCUBE"){var U=g.split(d);for(var z=0;z<U.length;z++){if(U[z]==""||U[z][0]=="#")continue;
var e=U[z].split(" "),N=e[0];if(N=="LUT_3D_SIZE"){c=parseInt(e[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(N)!=-1)continue;
T.push(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]))}T=e3.amc(c,T)}else if(R=="LUTFormat3DL"){var U=g.split(d),l=1/4095;
for(var z=0;z<U.length;z++){var J=U[z];if(J==""||J=="3DMESH"||J.startsWith("Mesh")||J[0]=="#")continue;
var e=J.split(" "),N=e[0];if(c==0){c=e.length;continue}T.push(parseFloat(e[0])*l,parseFloat(e[1])*l,parseFloat(e[2])*l)}}else if(R=="LUTFormatLOOK"){var w=new DOMParser,s=w.parseFromString(g,"text/xml"),o=s.getElementsByTagName("LUT")[0],V=o.children[0].textContent;
c=parseInt(JSON.parse(V));var a=o.children[1].textContent;a=a.replace(/"/g,"").replace(/\s/g,"");var O=3*c*c*c,S=O*4,L=new Uint8Array(S);for(var z=0;z<S;z++){var Q=a.charCodeAt(z*2),b=a.charCodeAt(z*2+1),Z=Q<58?Q-48:Q-55,I=b<58?b-48:b-55;L[z]=(Z<<4)+I}for(var z=0;z<O;z++)T.push(n.AT(L,z<<2));T=e3.amc(c,T)}else throw R;return[c,T]};e3.arV=function(x,R,T){var c=["#Created by www.Photopea.com","TITLE \""+T+"\"","","#LUT size","LUT_3D_SIZE "+R,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],g=6;
for(var z=0;z<x.length;z+=3){c.push(x[z].toFixed(g)+" "+x[z+1].toFixed(g)+" "+x[z+2].toFixed(g))}c.push("");
return n.SF(c.join("\n")).buffer};e3.amc=function(x,R){var T=[],c=x*x*x;for(var z=0;z<c;z++)T.push(0,0,0);
for(var g=0;g<x;g++)for(var d=0;d<x;d++)for(var U=0;U<x;U++){var z=3*(U+d*x+g*x*x),e=3*(g+d*x+U*x*x);
T[e]=R[z];T[e+1]=R[z+1];T[e+2]=R[z+2]}return T};function ck(){}ck.fP=function(x,R,T,c,g){var d=T,U;if(g==null)g=0;
var e=n.s(x,T);if(e==0){U="";T+=4}else{U=n.AM(x,T);T+=4+2*U.length+2}if(U!="")R.__name=U;R.classID=ck.VD(x,T);
if(c)console.log("\t".repeat(g),"- reading descriptor",R.classID,T);T+=ck.NZ(x,T);var N=n.yr(x,T);T+=4;
for(var z=0;z<N;z++){var l=ck.VD(x,T);T+=ck.NZ(x,T);var J=ck.a3A(x,T,c,g);R[l]=J;T+=J.size;delete J.size}return T-d};
ck.fv=function(x,R,T,c){var g=T,d=R.__name;if(d==null)d="";d+="\0";n.nd(x,T,d);T+=4+2*d.length;ck.NE(x,T,R.classID);
T+=ck.NZ(x.data,T);n.G0(x,T,Object.keys(R).length-1-(R.__name==null?0:1));T+=4;for(var U in R){if(U=="classID")continue;
if(U=="__name")continue;ck.NE(x,T,U);T+=ck.NZ(x.data,T);T+=ck.akQ(x,T,R[U])}return T-g};ck.a3A=function(x,R,T,c){var g=R,d=n.zQ(x,R,4);
R+=4;var U={size:0,t:d,v:null};if(T)console.log("\t".repeat(c),"reading key",d,g);switch(d){case"obj ":case"VlLs":U.v=[];
var e=n.s(x,R);R+=4;for(var z=0;z<e;z++){var N=ck.a3A(x,R,T,c+1);R+=N.size;delete N.size;U.v.push(N)}break;
case"UntF":U.v={type:n.zQ(x,R,4),val:n.nP(x,R+4)};R+=12;break;case"doub":U.v=n.nP(x,R);R+=8;break;case"bool":U.v=x[R]==1;
R+=1;break;case"long":U.v=n.yr(x,R);R+=4;break;case"comp":U.v=n.yr(x,R+4);R+=8;break;case"Objc":U.v={};
var l=ck.fP(x,U.v,R,T,c+1);R+=l;break;case"TEXT":var J=n.s(x,R);if(J==0){U.v="";R+=4}else{U.v=n.AM(x,R);
R+=4+U.v.length*2+2}break;case"enum":var w=ck.VD(x,R);R+=ck.NZ(x,R);var s=ck.VD(x,R);R+=ck.NZ(x,R);U.v={};
U.v[w]=s;break;case"tdta":var o=n.yr(x,R);R+=4;U.v=[];for(var z=0;z<o;z++)U.v.push(x[R+z]);R+=o;break;
case"ObAr":var V=n.s(x,R);R+=4;var a=n.AM(x,R);R+=4+2*a.length+2;if(a!="")throw a;var O=ck.VD(x,R);R+=4+Math.max(4,O.length);
U.v={classID:O,arr:[]};var S=n.s(x,R);R+=4;for(var z=0;z<S;z++){var O=ck.VD(x,R);R+=4+Math.max(4,O.length);
var w=n.zQ(x,R,4);R+=4;var L=n.zQ(x,R,4);R+=4;var Q={id:O,type:w,uID:L,arr:[]};U.v.arr.push(Q);var b=n.s(x,R,4);
R+=4;for(var Z=0;Z<b;Z++){var I=n.nP(x,R);R+=8;Q.arr.push(I)}}break;case"Pth ":var y=R,o=n.s(x,R);R+=4;
var r=n.zQ(x,R,4);R+=4;var h=n.pJ(x,R);R+=4;var k=n.aqy(x,R);R+=4+k.length*2;U.v={sig:r,pth:k};break;
case"Clss":case"type":case"rele":var k=n.AM(x,R);R+=4+k.length*2+2;var K=ck.VD(x,R);R+=4+Math.max(4,K.length);
U.v={classID:K};if(k!="")U.v.__name=k;if(d=="rele"){U.v.val=n.yr(x,R);R+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var H=ck.Rd[d],k=n.AM(x,R);
R+=4+k.length*2+2;if(k.length!=0){console.log(d,k);throw"e"}U.v={};for(var z=0;z<H.length;z++){var K=ck.VD(x,R);
R+=4+Math.max(4,K.length);U.v[H[z]]=K}if(d=="name"){var k=n.AM(x,R);R+=4+k.length*2+2;U.v.val=k}if(d=="indx"||d=="Idnt"){U.v.val=n.s(x,R);
R+=4}break;case"alis":var o=n.s(x,R);R+=4;U.v=n.zQ(x,R,o);R+=o;break;default:{console.log("unknown oskey: "+d+", "+g);
throw"e";return U}}if(T){console.log("\t".repeat(c),U.v);console.log("\t".repeat(c),"======",R)}U.size=R-g;
return U};ck.Rd={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
ck.akQ=function(x,R,T){var c=R,g=T.t;T=T.v;n._a(x,R,g);R+=4;switch(g){case"obj ":case"VlLs":n.G0(x,R,T.length);
R+=4;for(var d=0;d<T.length;d++){var U=ck.akQ(x,R,T[d]);R+=U}break;case"UntF":n._a(x,R,T.type);n.Hu(x,R+4,T.val);
R+=12;break;case"doub":n.Hu(x,R,T);R+=8;break;case"bool":n.BV(x,R,T?1:0,1);R+=1;break;case"long":n.G0(x,R,T);
R+=4;break;case"comp":n.G0(x,R+4,T);R+=8;break;case"Objc":var U=ck.fv(x,T,R);R+=U;break;case"TEXT":n.nd(x,R,T+"\0");
R+=4+T.length*2+2;break;case"enum":var e=Object.keys(T)[0],N=T[e];ck.NE(x,R,e);R+=ck.NZ(x.data,R);ck.NE(x,R,N);
R+=ck.NZ(x.data,R);break;case"tdta":n.pe(x,R,T.length);R+=4;n.vU(x,R,T);R+=T.length;break;case"ObAr":n.pe(x,R,T.arr[0].arr.length);
R+=4;n.nd(x,R,"\0");R+=6;ck.NE(x,R,T.classID);R+=4+Math.max(4,T.classID.length);n.pe(x,R,T.arr.length);
R+=4;for(var z=0;z<T.arr.length;z++){var l=T.arr[z];ck.NE(x,R,l.id);R+=4+Math.max(4,l.id.length);n._a(x,R,l.type);
R+=4;n._a(x,R,l.uID);R+=4;n.pe(x,R,l.arr.length);R+=4;for(var d=0;d<l.arr.length;d++){n.Hu(x,R,l.arr[d]);
R+=8}}break;case"Pth ":var J=T.pth.length*2+4+8;n.pe(x,R,J);R+=4;n._a(x,R,T.sig);R+=4;n.yo(x,R,J);R+=4;
n.a7p(x,R,T.pth);R+=T.pth.length*2+4;break;case"Clss":case"type":case"rele":var w=T.__name;if(w==null)w="";
n.nd(x,R,w+"\0");R+=4+w.length*2+2;var s=T.classID;ck.NE(x,R,s);R+=4+Math.max(4,s.length);if(g=="rele"){n.G0(x,R,T.val);
R+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var o=ck.Rd[g];n.pe(x,R,1);R+=6;for(var z=0;
z<o.length;z++){var s=T[o[z]];ck.NE(x,R,s);R+=4+Math.max(4,s.length)}if(g=="name"){n.nd(x,R,T.val+"\0");
R+=4+T.val.length*2+2}if(g=="indx"||g=="Idnt"){n.pe(x,R,T.val);R+=4}break;case"alis":var J=T.length;
n.pe(x,R,J);R+=4;n._a(x,R,T);R+=J;break;default:console.log("unknown oskey: "+g);R=c;break}return R-c};
ck.VD=function(x,R){var T=n.yr(x,R);if(T>1e3)throw"e";if(T==0)T=4;return n.zQ(x,R+4,T).trim()};ck.NZ=function(x,R){var T=n.yr(x,R);
return T==0?8:4+T};ck.NE=function(x,R,T){var c="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),g=4<T.length||c.indexOf(T)!=-1;
n.G0(x,R,g?T.length:0);n._a(x,R+4,T);if(T.length<4&&!g){var d="";for(var z=T.length;z<4;z++)d+=" ";n._a(x,R+4+T.length,d)}};
ck.a0R=function(x){var R={};for(var T in x){if(T=="classID")R[T]=x[T];else if(T=="__name")R[T]=x[T];
else R[T]=ck.as2(x[T])}return R};ck.as2=function(x){if(x.fU=="Objc")return ck.a0R(x.v);else if(x.fU=="VlLs"){var R=[];
for(var z=0;z<x.v.length;z++)R.push(ck.as2(x.v[z]));return R}else if(x.fU=="UntF")return x.v.val;else return x.v};
function kc(){}kc.atn=function(x,R,T,c,g,d){while(R<T){var U=n.zQ(x,R,4);R+=4;if(U!="8BIM"&&U!="8B64"){console.log("layer information signature error! "+U,"PSB = "+g);
alert("Error in PSD file: wrong signature.");return T}var e=n.zQ(x,R,4);R+=4;var N=n.s(x,R);R+=4;var l=g&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(e)!=-1;
if(l){N=N<<32|n.yr(x,R);R+=4}var J=["lrFX","PlLd"];if(J.indexOf(e)!=-1){if(N%4!=0)N+=4-N%4;R+=N;continue}switch(e){case"iOpa":c[e]=x[R];
break;case"brst":c[e]=[1,1,1];for(var z=0;z<N;z+=4)c[e][n.s(x,R+z)]=0;break;case"knko":c[e]=x[R];break;
case"infx":c[e]=x[R];break;case"clbl":c[e]=x[R];break;case"lmgm":c[e]=x[R];break;case"vmgm":c[e]=x[R];
break;case"fcmy":c[e]=x[R];break;case"lyid":c[e]=n.s(x,R);break;case"lsct":c[e]={type:n.s(x,R)};if(N>=12)c[e].mh=n.zQ(x,R+8,4);
break;case"lsdk":c.lsct={type:n.s(x,R)};break;case"lyvr":c[e]=n.s(x,R);break;case"lnsr":var w={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
c[e]=n.zQ(x,R,4);break;case"lspf":c[e]=n.s(x,R);break;case"lclr":c[e]=n.wh(x,R);break;case"luni":c[e]=n.$f(x,R);
break;case"fxrp":c[e]=new cI(n.nP(x,R),n.nP(x,R+8));break;case"artb":case"artd":c[e]={};ck.fP(x,c[e],R+4);
break;case"SoCo":c[e]={};ck.fP(x,c[e],R+4);break;case"GdFl":c[e]={};ck.fP(x,c[e],R+4);kc.fl(c[e],e);
break;case"PtFl":c[e]={};ck.fP(x,c[e],R+4);kc.fl(c[e],e);break;case"CgEd":c[e]={};ck.fP(x,c[e],R+4);
break;case"brit":var s=c.brit=gm.GI("brit"),o={};s.Brgh.v=n.Z8(x,R);s.Cntr.v=n.Z8(x,R+2);s.useLegacy.v=!0;
break;case"levl":var V=x.buffer.slice(R,R+N);c[e]=b9.eE(V);break;case"curv":c[e]=er.T5(x,R,N);break;
case"expA":var a=n.wh(x,R),O=c[e]=gm.GI("expA");O.Exps.v=n.Ky(x,R+2);O.Ofst.v=n.Ky(x,R+6);O.gammaCorrection.v=n.Ky(x,R+10);
break;case"vibA":c[e]={};ck.fP(x,c[e],R+4);break;case"hue2":c[e]=fu.T5(x,R,N);break;case"blnc":var O=c[e]=gm.GI(e);
O.PrsL.v=x[R+18]==1;var S=["ShdL","MdtL","HghL"];for(var z=0;z<3;z++)for(var L=0;L<3;L++)O[S[z]].v[L].v=n.Z8(x,R+z*6+L*2);
break;case"blwh":var Q={};ck.fP(x,Q,R+4);var O=gm.GI(e),b="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var z=0;z<b.length;z++){O[b[z]]=Q[b[z]];delete Q[b[z]]}c[e]=O;break;case"phfl":var O=c[e]=gm.GI(e),Z=O.Clr.v,a=n.wh(x,R);
if(a==3){var I=[n.s(x,R+2),n.s(x,R+6),n.s(x,R+10)],y=32768,r=u.vT(I[0]/y,I[1]/y,I[2]/y);Z.Lmnc.v=r.h8;
Z.A.v=r.Y;Z.B.v=r.J}if(a==2){var h=n.wh(x,R+2);if(h!=7)throw"e";Z.Lmnc.v=n.Z8(x,R+4)/100;Z.A.v=n.Z8(x,R+6)/100;
Z.B.v=n.Z8(x,R+8)/100}var k=R+2+(a==3?12:10);O.Dnst.v=n.s(x,k);k+=4;O.PrsL.v=x[k]==1;break;case"mixr":var K={l$:n.wh(x,R+2)==1,b:[]};
for(var z=0;z<20;z++)K.b.push(n.Z8(x,R+4+z*2));c[e]=hD.apy(K);break;case"clrL":case"rplc":c[e]={};ck.fP(x,c[e],R+6);
break;case"nvrt":c[e]={};break;case"post":c[e]=gm.GI("post");c[e].Lvls.v=n.wh(x,R);break;case"thrs":c[e]=gm.GI("thrs");
c[e].Lvl.v=n.wh(x,R);break;case"grdm":var H=R,p=n.wh(x,H);H+=2;var f=x[H]==1,A=x[H+1]==1;H+=2;var _=n.zQ(x,H,4);
if(_=="Perc"||_=="Gcls"||_=="Lnr "||_=="\0\0\x0B\x1D")H+=4;var W=n.$f(x,H);H+=4+W.length*2;var Y=cn.akR(x,H,W),G=Y[0];
H=Y[1];var i=n.wh(x,H);H+=2;var E=n.s(x,H);H+=4;var $=n.wh(x,H)==1;H+=2;var C=n.wh(x,H)==1;H+=2;var B=n.s(x,H);
H+=4;var M=n.wh(x,H);H+=2;var j=[],P=[];for(var z=0;z<4;z++){j.push({t:"long",v:~~(n.wh(x,H+z*2)*100/32768)});
P.push({t:"long",v:~~(n.wh(x,H+z*2+8)*100/32768)})}H+=16;var t=n.wh(x,H);H+=2;if(i==1)G={classID:"Grdn",Nm:{t:"TEXT",v:W},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:$},VctC:{t:"bool",v:C},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:E},Smth:{t:"long",v:B},Mnm:{t:"VlLs",v:j},Mxm:{t:"VlLs",v:P}};
var q=gm.GI("grdm");q.Rvrs.v=f;q.Grad.v=G;c[e]=q;break;case"selc":c[e]=ep.T5(x,R,N);break;case"vmsk":case"vsms":var m=c.vmsk=new F.LS,iE=n.yr(x,R+4),hV=(iE>>0&1)==1;
m.fh=(iE>>1&1)==0;m.isEnabled=(iE>>2&1)==0;m.$=bD.Lt(x,R+8,N-8,d.m,d.e);break;case"shmd":c[e]={};var dD=n.s(x,R),k=R+4;
for(var z=0;z<dD;z++){var U=n.zQ(x,k,4);k+=4;var bh=n.zQ(x,k,4);k+=4;var ho=x[k];k++;if(Math.max(x[k],x[k+1])!=0)throw"e";
k+=3;var aH=n.s(x,k);k+=4;if(bh=="cust"||bh=="cmls"||bh=="extn"||bh=="mlst"){var f2=n.s(x,k);if(f2!=16)k+=4;
if(n.s(x,k)==16){var Q={};ck.fP(x,Q,k+4,!1);c[e][bh]=Q;if(bh=="cmls")D.E1.aCx(c[e][bh])}}else{console.log("unknown shmd key: "+bh+", size: "+aH)}k+=aH}break;
case"shpa":var a=n.s(x,R),e9=n.s(x,R+4);if(e9!=0)console.log("some patterns present!");break;case"TySh":var kB=c[e]={},a=n.wh(x,R);
kB.i=n.Rp(x,R+2);var ct=n.wh(x,R+2+48);kB.Gf={};try{var jF=ck.fP(x,kB.Gf,R+56)}catch(i3){c[e]=null;break}var fj=bL.a1S();
for(var ab in fj)if(kB.Gf[ab]==null)kB.Gf[ab]=fj[ab];kB.aS={};var iw=ck.fP(x,kB.aS,R+56+jF+6);kB.ij=n.ajl(x,R+56+jF+6+iw);
kB.pM=aL.eE(kB.Gf.EngineData.v);bL.a2N(kB.pM.EngineDict.StyleRun.RunArray);if(kB.pM.ResourceDict==null)kB.pM.ResourceDict=JSON.parse(JSON.stringify(kB.pM.DocumentResources));
delete kB.Gf.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var jD=n.s(x,R),a1=n.s(x,R+4);c.lmfx={};
var jF=ck.fP(x,c.lmfx,R+8);kc.I$(c.lmfx);break;case"FMsk":c[e]=n.dI(x,R,N);break;case"Txt2":c[e]={};
c[e].raw=n.dI(x,R,N);c[e].Bn=gu.eE(c[e].raw);break;case"Patt":c[e]=ef.Fn(x,R,N);break;case"SoLd":var gd=n.zQ(x,R,4),i6=n.s(x,R+4),hv=n.s(x,R+8),hO=c[e]={},jh=ck.fP(x,hO,R+12),aJ=hO.warp,hS=hO.quiltWarp;
if(hS==null)hS=hO.quiltWarp=u.zb.an0(aJ);delete hO.warp;if(hO.nonAffineTransform==null)hO.nonAffineTransform=JSON.parse(JSON.stringify(hO.Trnf));
if(hO.Impr==null)hO.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var i6=n.s(x,R);
c[e]={};var jh=ck.fP(x,c[e],R+4);break;case"vscg":var bh=n.zQ(x,R,4),i6=n.s(x,R+4);c[bh]={};var jh=ck.fP(x,c[bh],R+8);
kc.fl(c[bh],bh);break;case"vogk":var iO=n.s(x,R),i6=n.s(x,R+4);c[e]={};var jh=ck.fP(x,c[e],R+8);c[e]=c[e].keyDescriptorList.v;
for(var z=0;z<c[e].length;z++){var g$=c[e][z].v;if(!u.oZ.ZM(g$))continue;if(g$.keyOriginBoxCorners==null){var bF=u.oZ.MY(g$);
g$.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var hy=[bF[0],bF[1],bF[2],bF[1],bF[2],bF[3],bF[0],bF[3]];
if(g$.keyOriginType.v==4)hy=u.oZ.ahY(u.oZ.AU(g$),g$.keyOriginLineWeight.v);u.oZ.by(g$,"keyOriginBoxCorners",hy)}}break;
case"lnk2":case"lnkD__":case"lnk3__":c[e]=[];var H=R;while(H<R+N){var fg=new F.XK;c[e].push(fg);var hL=n.UO(x,H);
H+=8;var dn=H;fg.type=n.zQ(x,H,4);H+=4;if(fg.type!="liFD"){alert("Unknown Linked Layer type: "+fg.type);
break;throw fg.type}fg.gG=n.s(x,H);H+=4;var c5=n.ZV(x,H);H+=1+c5.vq.length;fg.E5=c5.vq;fg.H7=n.AM(x,H);
H+=4+fg.H7.length*2+2;fg.KI=n.zQ(x,H,4);H+=4;fg.xd=n.zQ(x,H,4);H+=4;var at=n.UO(x,H);H+=8;fg.open=x[H];
H+=1;if(fg.open!=0){var gt={},jF=ck.fP(x,gt,H+4);if(jF%4!=0)jF+=4-jF%4;console.log(gt);H+=jF+4}fg.open=0;
fg.raw=n.dI(x,H,at);H=dn+hL;if(hL%4!=0)H+=4-hL%4}break;case"FEid":var H=R;c[e]=[];var iK=H+N,a=n.s(x,H);
H+=4;while(H<iK){H+=4;var hL=n.s(x,H);H+=4;var Y={};c[e].push(Y);Y.id=n.ZV(x,H).vq;H+=Y.id.length+1;
var a=n.s(x,H);H+=4;H+=4;var iz=n.s(x,H);H+=4;Y.rect=n.v7(x,H);H+=16;var gI=n.s(x,H);H+=4;var ce=n.s(x,H);
H+=4;var b7=new u.IV(0);for(var z=0;z<ce+2;z++){var br=n.s(x,H);H+=4;if(br!=0){H+=4;var kg=n.s(x,H),bM=null;
H+=4;if(z<3||z==25)bM=eH.WI(!0,gI,x,Y.rect.m,Y.rect.e,H,kg);if(z==0)b7.o=bM;if(z==1)b7.A=bM;if(z==2)b7.J=bM;
if(z==25)b7.Y=bM;H+=kg}}Y.buffer=u.B(Y.rect.Z()*4);u.dZ(b7,Y.buffer);u.T_(Y);var eQ=x[H];H++;if(eQ!=0){Y.F=new F.Wu;
Y.F.rect=n.v7(x,H);H+=16;H+=4;var eT=n.s(x,H);H+=4;Y.F.channel=eH.WI(!0,gI,x,Y.F.rect.m,Y.F.rect.e,H,eT);
Y.F.color=255;Y.F.mu();H+=eT}if(hL%4!=0)H+=4-hL%4}break;case"Lr16":da.ic(d,x,R);break;case"Anno":c[e]=[];
var b6=R,hx=R+4,e9=n.s(x,hx);hx+=4;for(var z=0;z<e9;z++){var hL=n.s(x,hx);hx+=4;var io=n.zQ(x,hx,4);
hx+=4;if(io!="txtA")throw io;var jm=x[hx++],bq=x[hx++],gO=n.wh(x,hx);hx+=2;var ae=n.v7(x,hx);hx+=16;
var dl=n.v7(x,hx);hx+=16;var Z=gr.oT(x,hx);hx+=10;var eF=n.ZV(x,hx);hx+=eF.length;var e6=n.ZV(x,hx);
hx+=e6.length;var dJ=n.ZV(x,hx);hx+=dJ.length;var d2=n.s(x,hx);hx+=4;var gQ=n.zQ(x,hx,4);hx+=4;var a6=n.s(x,hx);
hx+=4;var h6=n.tS(x,hx+2,a6-2>>1);hx+=a6;c[e].push([ae.x,ae.y,Z,eF.vq,h6])}break;default:break}var cU="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(cU.indexOf(e)==-1)if(N%4!=0)console.log("size not multiple of 4!!!",e);if(e!="luni"&&e!="TySh"&&e!="tySh"&&e!="lfx2"&&e!="iOpa")if(N%4!=0)N+=4-N%4;
R+=N}var o=c.CgEd;if(o){var s=c.brit;if(s){s.Brgh.v=o.Brgh?o.Brgh.v:0;s.Cntr.v=o.Cntr?o.Cntr.v:0;s.useLegacy.v=o.useLegacy?o.useLegacy.v:0}delete c.CgEd}var jv=[];
for(var z=0;z<jv.length;z++)delete c[jv[z]];return R};kc.atJ=function(x,R,T,c,g){if(T.SoLd){var d={};
for(var U in T){if(U=="SoLd")d.PlLd={};d[U]=T[U]}T=d}for(var e in T)if(T[e]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+e+"\" tag was present with a null value.");delete T[e]}for(var e in T){var N=c&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(e)!=-1,J=0;
n._a(x,R,N?"8B64":"8BIM");R+=4;var l=R;n._a(x,R,e);R+=4;n.G0(x,R,0);R+=N?8:4;switch(e){case"iOpa":n.BV(x,R,T[e],1);
J=4;break;case"brst":J=0;for(var z=0;z<3;z++)if(T[e][z]==0){n.pe(x,R+J,z);J+=4}break;case"knko":n.BV(x,R,T[e],1);
J=4;break;case"infx":n.BV(x,R,T[e],1);J=4;break;case"clbl":n.BV(x,R,T[e],1);J=4;break;case"lmgm":n.BV(x,R,T[e],1);
J=4;break;case"vmgm":n.BV(x,R,T[e],1);J=4;break;case"fcmy":n.BV(x,R,T[e],1);J=4;break;case"lyid":n.pe(x,R,T[e]);
J=4;break;case"lsct":n.pe(x,R,T[e].type);J=4;if(T[e].mh){n._a(x,R+4,"8BIM");n._a(x,R+8,T[e].mh);J=12}break;
case"lyvr":n.pe(x,R,T[e]);J=4;break;case"lnsr":n._a(x,R,T[e]);J=4;break;case"lspf":n.pe(x,R,T[e]);J=4;
break;case"lclr":n.qY(x,R,T[e]);J=8;break;case"luni":n.nd(x,R,T[e]);J=4+2*T[e].length;break;case"fxrp":n.Hu(x,R,T[e].x);
n.Hu(x,R+8,T[e].y);J=16;break;case"artb":case"artd":n.pe(x,R,16);J=ck.fv(x,T[e],R+4)+4;break;case"SoCo":n.pe(x,R,16);
J=ck.fv(x,T[e],R+4)+4;break;case"GdFl":n.pe(x,R,16);J=ck.fv(x,T[e],R+4)+4;break;case"PtFl":n.pe(x,R,16);
J=ck.fv(x,T[e],R+4)+4;break;case"CgEd":var w={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},s=w,o=T[e];
s.Brgh.v=o.Brgh.v;s.Cntr.v=o.Cntr.v;s.useLegacy.v=o.useLegacy.v;n.pe(x,R,16);J=ck.fv(x,w,R+4)+4;break;
case"brit":x.sL(R,8);J=8;break;case"levl":var V=new kE;J=b9.P7(V,T[e]);n.vU(x,R,V.data);break;case"curv":J=er.Kb(x,R,T[e]);
break;case"expA":J=14;x.sL(R,14);n.$R(x.data,R,1);n.$c(x.data,R+2,T[e].Exps?T[e].Exps.v:0);n.$c(x.data,R+6,T[e].Ofst?T[e].Ofst.v:0);
n.$c(x.data,R+10,T[e].gammaCorrection?T[e].gammaCorrection.v:1);break;case"vibA":n.pe(x,R,16);J=ck.fv(x,T[e],R+4)+4;
break;case"hue2":J=fu.Kb(x,R,T[e]);break;case"blnc":J=19;x.sL(R,J);var a=["ShdL","MdtL","HghL"];for(var z=0;
z<3;z++){var O=T[e][a[z]].v;for(var S=0;S<3;S++)O.push(n.x0(x.data,R+z*6+S*2,O[S].v))}x.data[R+18]=T[e].PrsL.v?1:0;
break;case"blwh":var w={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},L="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var z=0;z<L.length;z++){w[L[z]]=T[e][L[z]]}n.pe(x,R,16);J=ck.fv(x,w,R+4)+4;break;case"phfl":n.qY(x,R,2);
var Q=T[e].Clr.v;n.qY(x,R+2,7);n.qY(x,R+4,Math.round(Q.Lmnc.v*100));n.qY(x,R+6,Math.round(Q.A.v*100));
n.qY(x,R+8,Math.round(Q.B.v*100));n.qY(x,R+10,0);var b=R+2+10;x.sL(b,5);n.W_(x.data,b,T[e].Dnst.v);b+=4;
x.data[b]=T[e].PrsL.v?1:0;b++;J=b-R;break;case"mixr":J=44;x.sL(R,J);var Z=hD.BR(T[e]);n.$R(x.data,R,1);
n.$R(x.data,R+2,Z.l$?1:0);for(var z=0;z<20;z++)n.x0(x.data,R+4+z*2,Z.b[z]);break;case"clrL":case"rplc":n.qY(x,R,1);
n.pe(x,R+2,16);J=ck.fv(x,T[e],R+6)+6;break;case"nvrt":J=0;break;case"post":n.qY(x,R,T[e].Lvls.v);J=2;
break;case"thrs":n.qY(x,R,T[e].Lvl.v);J=2;break;case"grdm":var I=T[e].Rvrs?T[e].Rvrs.v:!1,y=!1,r=867527939,h=!1,k=!1,K=2048,H=[0,0,0,0],p=[32768,32768,32768,32768],f=T[e].Grad.v,A,_,W=f.Clrs==null?1:0;
if(W==0){A=f;_=JSON.parse(fJ.hN.adb).v}else{A=gm.GI("grdm").Grad.v;_=f}x.sL(R,4);n.$R(x.data,R,1);x.data[R+2]=I?1:0;
x.data[R+3]=y?1:0;var Y=R+4;n.nd(x,Y,f.Nm.v);Y+=4+f.Nm.v.length*2;Y=cn.a44(x,Y,A);n.qY(x,Y,W);Y+=2;n.pe(x,Y,_.RndS.v);
Y+=4;n.qY(x,Y,_.ShTr.v?1:0);Y+=2;n.qY(x,Y,_.VctC.v?1:0);Y+=2;n.pe(x,Y,_.Smth.v);Y+=4;n.qY(x,Y,3);Y+=2;
for(var z=0;z<4;z++)n.qY(x,Y+z*2,H[z]);Y+=8;for(var z=0;z<4;z++)n.qY(x,Y+z*2,p[z]);Y+=8;Y+=2;J=Y-R;break;
case"selc":J=ep.Kb(x,R,T[e]);break;case"FMsk":n.vU(x,R,T[e]);J=T[e].length;break;case"Txt2":var G=new kE,i=gu.Li(T[e].Bn,G),E=u.B(i,!0);
for(var z=0;z<i;z++)E[z]=G.data[z];n.vU(x,R,E);J=E.length;break;case"vmsk":var $=T[e],C=0;n.pe(x,R,3);
if(!$.fh)C+=1<<1;if(!$.isEnabled)C+=1<<2;n.pe(x,R+4,C);J=8;var B=$.$.length;x.sL(R+8,B*26);bD.RU(x.data,R+8,$.$,g.m,g.e);
J+=B*26;break;case"shmd":n.pe(x,R,Object.keys(T[e]).length);var b=R+4;for(var M in T[e]){n._a(x,b,"8BIM");
b+=4;n._a(x,b,M);b+=4;n.pe(x,b,0);b+=4;n.pe(x,b,0);b+=4;n.pe(x,b,16);b+=4;var j=ck.fv(x,T[e][M],b);if(j%4!=0)j+=4-j%4;
n.pe(x,b-8,j+4);b+=j}J=b-R;break;case"TySh":var b=R;n.T1(x,b,1);b+=2;var P=T[e],G=new kE;P.pM.DocumentResources=JSON.parse(JSON.stringify(P.pM.ResourceDict));
var i=aL.Li(P.pM,G),E=u.B(i,!0);for(var z=0;z<i;z++)E[z]=G.data[z];P.Gf.EngineData={t:"tdta",v:E};var t=P.pM.EngineDict.Editor.Text;
P.Gf.Txt.v=t.substring(0,t.length-1);n.amZ(x,b,P.i);b+=48;n.T1(x,b,50);b+=2;n.pe(x,b,16);b+=4;b+=ck.fv(x,P.Gf,b);
n.T1(x,b,1);b+=2;n.pe(x,b,16);b+=4;b+=ck.fv(x,P.aS,b);n.aqv(x,b,P.ij);b+=16;J=b-R;break;case"lmfx":n.pe(x,R,0);
n.pe(x,R+4,16);var w=JSON.parse(JSON.stringify(T[e])),q=!1;kc.An(w);for(var z=0;z<fJ.YZ.length;z++)if(w[fJ.YZ[z]]!=null)q=!0;
n._a(x,l,q?"lmfx":"lfx2");J=ck.fv(x,w,R+8)+8;break;case"Patt":var b=ef.qF(x,R,T[e]);J=b-R;break;case"PlLd":var m=R;
x.sL(R,60);var O=T.SoLd;n._a(x,R,"plcL");n.pe(x,R+4,3);var iE=x.data[R+8]=O.Idnt.v.length;n._a(x,R+9,O.Idnt.v);
var b=R+9+iE,hV=[1,1,16,2];for(var z=0;z<4;z++)n.pe(x,b+z*4,hV[z]);b+=16;hV=D.gW.Yg(O.nonAffineTransform);
for(var z=0;z<8;z++)n.Hu(x,b+z*8,hV[z]);b+=64;n.pe(x,b,0);n.pe(x,b+4,16);var dD=u.zb.aAg(O.quiltWarp).v;
b+=8+ck.fv(x,dD,b+8);J=b-R;break;case"SoLd":var O=T[e],bh=O.quiltWarp;O.warp=u.zb.aAg(bh);if(u.zb.xD(bh.v)==16)delete O.quiltWarp;
n._a(x,R,"soLD");n.pe(x,R+4,4);n.pe(x,R+8,16);J=ck.fv(x,O,R+12)+12;O.quiltWarp=bh;delete O.warp;break;
case"vstk":case"pths":n.pe(x,R,16);J=ck.fv(x,T[e],R+4)+4;break;case"vscg__":n._a(x,R,T[e].key);n.pe(x,R+4,16);
J=ck.fv(x,T[e].b,R+8)+8;break;case"vogk":n.pe(x,R,1);n.pe(x,R+4,16);u.oZ.a7O(T[e]);for(var z=0;z<T[e].length;
z++){var ho=T[e][z].v.keyOriginResolution;if(ho)ho.v=g.De}var aH={classID:"null",keyDescriptorList:{t:"VlLs",v:T[e]}};
J=ck.fv(x,aH,R+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var Y=R;for(var z=0;z<T[e].length;z++){var f2=T[e][z],e9=Y;
n.BI(x,Y,0);Y+=8;n._a(x,Y,f2.type);Y+=4;n.pe(x,Y,f2.gG);Y+=4;x.sL(Y,1);x.data[Y]=f2.E5.length;Y++;n._a(x,Y,f2.E5);
Y+=f2.E5.length;n.nd(x,Y,f2.H7+"\0");Y+=4+f2.H7.length*2+2;n._a(x,Y,f2.KI);Y+=4;n._a(x,Y,f2.xd);Y+=4;
n.BI(x,Y,f2.raw.length);Y+=8;x.sL(Y,1);x.data[Y]=f2.open;Y++;n.vU(x,Y,f2.raw);Y+=f2.raw.length;n.pe(x,Y,1);
Y+=4;Y+=11;var kB=Y-e9-8;n.BI(x,e9,kB);if(kB%4!=0){x.sL(Y,4-kB%4);Y+=4-kB%4}}J=Y-R;break;case"FEid":var Y=R;
n.pe(x,Y,3);Y+=4;for(var ct=0;ct<T[e].length;ct++){var jF=T[e][ct];Y+=4;var fj=Y;Y+=4;n.ew(x,Y,jF.id);
Y+=jF.id.length+1;n.pe(x,Y,1);Y+=4;var ab=u.B(jF.rect.Z()),iw=jF.rect,jD=u.B(iw.Z());Y+=4;var a1=Y;Y+=4;
n.qZ(x,Y,iw);Y+=16;n.pe(x,Y,8);Y+=4;n.pe(x,Y,24);Y+=4;for(var z=0;z<24+2;z++){var gd=-1;if(z==0)gd=0;
if(z==1)gd=1;if(z==2)gd=2;if(z==25)gd=3;n.pe(x,Y,gd!=-1?1:0);Y+=4;if(gd!=-1){u.TR(jF.buffer,ab,gd);u.gN(ab,jF.rect,jD,iw);
Y+=4;var i6=Y;Y+=4;x.sL(Y,iw.Z()+2);Y=eH.Tf(!0,jD,x.data,iw.m,iw.e,Y,3);n.pe(x,i6,Y-(i6+4))}}n.pe(x,a1,Y-(a1+4));
x.sL(Y,1);x.data[Y]=jF.F?1:0;Y++;if(jF.F!=null){var hv=iw,hO=u.B(hv.Z());hO.fill(jF.F.color);u.gN(jF.F.channel,jF.F.rect,hO,hv);
n.qZ(x,Y,hv);Y+=16;Y+=4;var jh=Y;Y+=4;x.sL(Y,hv.Z()+2);Y=eH.Tf(!0,hO,x.data,hv.m,hv.e,Y,3);n.pe(x,jh,Y-(jh+4))}var kB=Y-(fj+4);
n.pe(x,fj,kB);if(kB%4!=0)Y+=4-kB%4}J=Y-R;break;case"Anno":var aJ=R,hS=T[e].length;n.qY(x,aJ,2);n.qY(x,aJ+2,1);
aJ+=4;n.pe(x,aJ,hS);aJ+=4;for(var z=0;z<hS;z++){var iO=T[e][z],g$=iO[0],bF=iO[1],hy=aJ;aJ+=4;n._a(x,aJ,"txtA");
aJ+=4;x.sL(aJ,2);x.data[aJ]=1;x.data[aJ+1]=28;aJ+=2;n.qY(x,aJ,1);aJ+=2;n.qZ(x,aJ,new aP(g$,bF,17,21));
aJ+=16;n.qZ(x,aJ,new aP(g$+8,bF+10,241,141));aJ+=16;x.sL(aJ,10);gr.sm(x.data,aJ,iO[2]);aJ+=10;aJ+=n.ew(x,aJ,iO[3]);
aJ+=n.ew(x,aJ,"");aJ+=n.ew(x,aJ,"D:20211012120233+01'00'");var fg=iO[4].length*2;n.pe(x,aJ,12+2+fg);
aJ+=4;n._a(x,aJ,"txtC");aJ+=4;n.pe(x,aJ,2+fg);aJ+=4;x.sL(aJ,2);x.data[aJ]=254;x.data[aJ+1]=255;aJ+=2;
n.a5A(x,aJ,iO[4]);aJ+=fg;n.pe(x,hy,aJ-hy)}J=aJ-R;break;default:console.log("unknown layer tag: "+e+", size: "+J);
R-=12;continue}var hL=["Txt2","artd","extd","pths"];if(hL.indexOf(e)==-1)if(J%4!=0)J+=4-J%4;if(N)n.BI(x,R-8,J);
else n.pe(x,R-4,J);if(e!="luni"&&e!="TySh")if(J%4!=0)J+=4-J%4;R+=J}return R};kc.I$=function(x){for(var z=0;
z<fJ.order.length;z++){var R=fJ.order[z],T=fJ.YZ[z];if(x[T]==null)x[T]={t:"VlLs",v:[]};if(x[R]!=null){x[T].v.push(x[R]);
delete x[R]}var c=[];for(var g=0;g<x[T].v.length;g++){var d=x[T].v[g];if(d.v.present==null||d.v.present.v==!0)c.push(d)}x[T].v=c}};
kc.An=function(x){for(var z=0;z<fJ.order.length;z++){var R=fJ.order[z],T=fJ.YZ[z],c=x[T].v.length;if(c==0){delete x[T];
continue}if(c==1){x[R]=x[T].v[0];delete x[T];continue}}};kc.fl=function(x,R){if(R=="GdFl"){if(x.Angl==null)x.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(x.Algn==null)x.Algn={v:!0,t:"bool"};if(x.Scl==null)x.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(x.Ofst==null)x.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(x.Rvrs==null)x.Rvrs={v:!1,t:"bool"};if(x.Dthr==null)x.Dthr={v:!1,t:"bool"}}if(R=="PtFl"){if(x.Algn==null)x.Algn={v:!0,t:"bool"};
if(x.Angl==null)x.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(x.Scl==null)x.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(x.phase==null)x.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};kc.clone=function(x,R){var T={};
if(x=="TySh"){T.i=R.i.clone();T.Gf=JSON.parse(JSON.stringify(R.Gf));T.aS=JSON.parse(JSON.stringify(R.aS));
T.ij=R.ij.clone();T.pM=JSON.parse(JSON.stringify(R.pM));if(R.add)T.add={vmsk:R.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(R.add.vogk))};
return T}else if(x=="fxrp")return R.clone();else if(x=="vmsk")return R.clone();else return JSON.parse(JSON.stringify(R))};
function j3(x,R){}j3.eE=function(x,R,T,c){c=j3.azx(x,R,T,c);return c};j3.Li=function(x,R,T,c,g){c=j3.afa(x,R,T,c,g);
return c};j3.azx=function(x,R,T,c){var g=c;x.rect=n.v7(T,c);c+=16;var d=n.wh(T,c);c+=2;x.y5=[];var U=R.ks;
for(var z=0;z<d;z++){x.y5[z]={id:n.Z8(T,c),length:(U?n.UO:n.s)(T,c+2)};c+=U?10:6}var e=n.zQ(T,c,4);c+=4;
if(e!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(e));alert("Error in Photoshop file: wrong signature.");
throw"e"}x.mh=n.zQ(T,c,4);c+=4;x.opacity=T[c];c+=1;x.UP=T[c]==1;c+=1;x.Yn=T[c];c+=1;if(T[c]!=0)console.log("error in filler!");
c+=1;var N=n.s(T,c);c+=4;var l=c;c=j3.aac(x,T,c);c=j3.aBY(x,T,c);var J=n.ZV(T,c);x.name=J.vq;c+=J.length;
if(J.length%4!=0)c+=4-J.length%4;c=kc.atn(T,c,l+N,x.add,U,R);if(x.add.lsct){if(x.add.lsct.mh)x.mh=x.add.lsct.mh;
x.add.lsct=x.add.lsct.type}return c};j3.afa=function(x,R,T,c,g){var d=c;n.qZ(T,c,x.rect);c+=16;var U=R.add.fcmy==1,e=x.aeV(U);
n.qY(T,c,e.length);c+=2;var N=R.ks;g.push(c);for(var z=0;z<e.length;z++){n.T1(T,c,e[z]);if(N)n.BI(T,c+2,0);
else n.pe(T,c+2,0);c+=N?10:6}n._a(T,c,"8BIM");c+=4;n._a(T,c,x.mh);c+=4;n.BV(T,c,x.opacity,1);c+=1;n.BV(T,c,x.UP?1:0,1);
c+=1;n.BV(T,c,x.Yn,1);c+=1;n.BV(T,c,0,1);c+=1;var l=c;n.pe(T,c,0);c+=4;var J=c;c=j3.a9H(x,T,c);c=j3.aa8(x,T,c);
var w=n.ew(T,c,x.name.slice(0,255));c+=w;if(w%4!=0)c+=4-w%4;if(x.add.lsct){x.add.lsct={type:x.add.lsct};
if(x.mh=="pass"){x.add.lsct.mh="pass";x.mh="norm"}}if(x.mh=="pass")x.add.lsct={type:x.add.lsct,mh:"pass"};
if(x.add.brit)x.add.CgEd=x.add.brit;c=kc.atJ(T,c,x.add,N,R);delete x.add.CgEd;if(x.add.lsct){if(x.add.lsct.mh)x.mh=x.add.lsct.mh;
x.add.lsct=x.add.lsct.type}var s=c-J;n.pe(T,l,s);return c};j3.aac=function(x,R,T){var c=n.s(R,T);T+=4;
if(c==0)return T;var g=T;x.F=new F.Wu;x.F.rect=n.v7(R,T);T+=16;x.F.color=R[T];T+=1;var d=j3.a8e(x.F,R,T);
T+=1;if(d){var U=!1,e=255,N=0,l=255,J=0;for(var z=0;z<x.y5.length;z++)if(x.y5[z].id==-3)U=!0;if(U){x.MJ=j3.aaw(R,T);
T+=18}var w=T,s=R[T];T++;if(s>>0&1){e=R[T];T++}if(s>>1&1){N=n.nP(R,T);T+=8}if(s>>2&1){l=R[T];T++}if(s>>3&1){J=n.nP(R,T);
T+=8}if((T-w&1)==1)T++;x.JH=[e,N,l,J]}else{if(c==20)T+=2;else{x.MJ=j3.aaw(R,T);T+=18}}return g+c};j3.a9H=function(x,R,T){n.pe(R,T,0);
T+=4;if(x.F==null)return T;var c=x.le(),g=x.add.vmsk,d=T,U=!0;n.pe(R,T,0);n.qZ(R,T,x.F.rect);T+=16;n.BV(R,T,x.F.color);
T+=1;j3.ao4(x.F,R,T,U);T+=1;if(U){if(x.MJ){j3.ax4(R,T,x.MJ);T+=18}var e=T;n.BV(R,T,g?15:3);T+=1;n.BV(R,T,c?c.Fo:255);
T+=1;n.Hu(R,T,c?c.Cu:0);T+=8;if(g){n.BV(R,T,g?g.Fo:255);T+=1;n.Hu(R,T,g?g.Cu:0);T+=8}if((T-e&1)==1)T++}n.pe(R,d-4,T-d);
return T};j3.aaw=function(x,R){var T=new F.Wu;j3.a8e(T,x,R);R+=1;T.color=x[R];R+=1;T.rect=n.v7(x,R);
R+=16;return T};j3.ax4=function(x,R,T){j3.ao4(T,x,R,!1);R+=1;n.BV(x,R,T.color);R+=1;n.qZ(x,R,T.rect);
R+=16};j3.a8e=function(x,R,T){var c=R[T];x.fh=(c>>0&1)==0;x.isEnabled=(c>>1&1)==0;x.j2=(c>>3&1)==1;return c>>4&1};
j3.ao4=function(x,R,T,c){var g=0;if(!x.fh)g+=1<<0;if(!x.isEnabled)g+=1<<1;if(x.j2)g+=1<<3;if(c)g+=1<<4;
n.BV(R,T,g)};j3.aBY=function(x,R,T){var c=n.s(R,T);T+=4;for(var z=0;z<c;z++)x.l1[z]=R[T+z];return T+c};
j3.aa8=function(x,R,T){n.pe(R,T,x.l1.length);T+=4;R.sL(T,40);for(var z=0;z<40;z++){R.data[T+z]=x.l1[z]}return T+40};
function eH(){}eH.eE=function(x,R,T,c){c=eH.anB(R,R.ks,R.Mc,R.eD,x,T,c);return c};eH.P7=function(x,R,T,c,g,d,U){c=eH.anG(x,R,T,c,g,d,U);
return c};eH.anB=function(x,R,T,c,g,d,U){var e=g.y5,N={},l=U;for(var z=0;z<e.length;z++){var J=e[z],w=J.id,s=J.length,o;
if(w==-2&&g.F==null)w=-1;if(w==-3)o=g.MJ.rect;else if(w==-2)o=g.F.rect;else o=g.rect;var V=eH.WI(R,T,d,o.m,o.e,U,s);
U+=s;if(w==-3)g.MJ.channel=V;else if(w==-2)g.F.channel=V;else N["c"+w]=V}var a=new u.IV(0);a.Y=null;
if(c==3){a.o=N.c0;a.A=N.c1;a.J=N.c2;a.Y=N["c-1"]}else if(c==1){a.o=N.c0;a.A=N.c0;a.J=N.c0;a.Y=N["c-1"]}else if(c==4){var O=x.CL.r1039,S=N.c0,L=N.c1,Q=N.c2,b=N.c3;
if(O){var Z=O.a1D,I=17;if(Z==null){var y=ICC.R(O.buffer);console.log(y);Z=O.a1D=ICC.U.sampleLUT(y,I)}var r={o:S,A:L,J:Q,Y:b},h=u.B(S.length*4);
u.dZ(r,h);u.F0(h);ICC.U.applyLUT4(Z,I,h,h);u.ZC(h,r)}else{for(var z=0;z<S.length;z++){var k=1-S[z]*(1/255),K=1-L[z]*(1/255),H=1-Q[z]*(1/255),p=1-b[z]*(1/255),f=u.qo([k,K,H,p]);
S[z]=Math.floor(.5+f[0]*255);L[z]=Math.floor(.5+f[1]*255);Q[z]=Math.floor(.5+f[2]*255)}}a.o=S;a.A=L;
a.J=Q;a.Y=N["c-1"]}if(a.o==null)a.o=u.B(0);if(a.Y==null&&a.o!=null){a.Y=a.o.slice(0);a.Y.fill(255)}if(a.A==null)a.A=a.o.slice(0);
if(a.J==null)a.J=a.o.slice(0);g.buffer=u.B(Math.max(0,g.rect.Z()*4));u.dZ(a,g.buffer);return U};eH.anG=function(x,R,T,c,g,d,U){var e=R.aeV(U),N=R.buffer,l=new u.IV(R.rect.Z());
if(U){var J=l.Y.slice(0);u.TR(N,J,3);N=N.slice(0);u.acu(N);u.ZC(N,l);l.a0z=l.Y;l.Y=J}else u.ZC(N,l);
for(var z=0;z<e.length;z++){var w=e[z],s,o;if(w==-3)s=R.MJ.rect;else if(w==-2)s=R.F.rect;else s=R.rect;
if(w==-3)o=R.MJ.channel;if(w==-2)o=R.F.channel;if(w==-1)o=l.Y;if(w==0)o=l.o;if(w==1)o=l.A;if(w==2)o=l.J;
if(w==3)o=l.a0z;T.sL(c,s.Z()*3+4);var V=c;c=eH.Tf(x,o,T.data,s.m,s.e,c,d[1]?3:1);var a=c-V;if(x)n.awx(T.data,g+z*10+2,a);
else n.W_(T.data,g+z*6+2,a)}return c};eH.WI=function(x,R,T,c,g,d,U){var e=n.wh(T,d);d+=2;return eH.wT(x,R,T,c,g,d,e,U-2)};
eH.Tf=function(x,R,T,c,g,d,U){n.x0(T,d,U);d+=2;d=eH.mt(x,R,T,c,g,d,U);return d};eH.wT=function(x,R,T,c,g,d,U,e){var N,l=c*g*(R>>>3),J=l&3,w=l+(J==0?0:4-J);
if(e<=0){return u.B(w)}if(U>3){console.log("unknown compression: "+U,c,g,c*g,e);U=0}if(U==0){if(d+w<=T.length)N=T.slice(d,d+w);
else{N=u.B(l);for(var z=0;z<l;z++)N[z]=T[d+z]}d+=l}else if(U==1){N=u.B(l);var s=x?4:2,o=eH.amh(T,N,c,g,d,d+s*g,s);
d+=s*g+o}else if(U==2||U==3){var a=new Uint8Array(T.buffer,d+2,e-6),O=u.B(w);UZIP.inflateRaw(a,O);if(U==3){if(R==8)for(var S=0;
S<g;S++){var L=S*c+1,Q=L+c-1,b=O[L-1];for(var Z=L;Z<Q;Z++){b+=O[Z];O[Z]=b&255}}else for(var S=0;S<g;
S++){var L=S*c+1,Q=L+c-1,b=O[2*L-2]<<8|O[2*L-1];for(var Z=L;Z<Q;Z++){var I=Z<<1;b+=O[I]<<8|O[I+1];O[I]=b>>>8;
O[I+1]=b&255}}}if(O.length==w)N=O;else{N=u.B(w);for(var z=0;z<O.length;z++)N[z]=O[z]}}if(R==16){var y=u.B(c*g);
for(var z=0;z<l;z+=2)y[z>>>1]=N[z];N=y}return N};eH.mt=function(x,R,T,c,g,d,U){var e=c*g;if(U==0)for(var z=0;
z<e;z++)T[d++]=R[z];else if(U==1){var N=x?4:2,l=eH.a7I(R,T,c,g,d,d+N*g,N);d+=N*g+l}else if(U==2||U==3){if(U==3){var J=new Uint8Array(R.length);
for(var w=0;w<g;w++){var s=w*c+1,o=s+c-1,V=R[s-1];J[s-1]=V;for(var a=s;a<o;a++){J[a]=R[a]+(256-V)&255;
V=R[a]}}R=J}T[d]=120;T[d+1]=156;d+=2;var O=pako.deflateRaw(R,{ai4:4});n.a1h(T,d,O);d+=O.length+4}else console.log("Unknown compression: "+U);
return d};eH.amh=function(x,R,T,c,g,d,U){if(!(x instanceof Uint8Array)||!(R instanceof Uint8Array))throw"e";
var e=d,N=c|0;if(U==2)for(var z=0;z<N;z++){var l=n.wh(x,g+(z<<1));eH.dj(x,d,l,R,z*T,T);d+=l}else for(var z=0;
z<N;z++){var l=n.s(x,g+(z<<2));eH.dj(x,d,l,R,z*T,T);d+=l}return d-e};eH.a7I=function(x,R,T,c,g,d,U){var e=d;
if(U==2)for(var z=0;z<c;z++){var N=eH.a4z(x,z*T,T,R,d);n.$R(R,g+z*2,N);d+=N}else for(var z=0;z<c;z++){var N=eH.a4z(x,z*T,T,R,d);
n.W_(R,g+z*4,N);d+=N}return d-e};eH.a4z=function(x,R,cg,T,c){var g,d,U,e,N,jc,l;e=R+cg;for(U=R,d=c;cg>0;
U=g,cg-=jc){l=cg<128?cg:128;if(U<=e-3&&x[U+1]==x[U+0]&&x[U+2]==x[U+0]){for(g=U+3;g<U+l&&x[g]==x[U+0];
)++g;jc=g-U;T[d++]=1+256-jc;T[d++]=x[U+0]}else{for(g=U;g<U+l;)if(g<=e-3&&x[g+1]==x[g+0]&&x[g+2]==x[g+0])break;
else++g;jc=g-U;T[d++]=jc-1;for(var z=0;z<jc;z++)T[d+z]=x[U+z];d+=jc}}return d-c};eH.dj=function(x,R,T,c,g,d){for(var U=0;
U<T;){var cg=x[R++];if(cg>=128){var e=x[R++],N=g+(257-cg);c.fill(e,g,N);g=N;U+=2}else{for(var z=0;z<=cg;
z++)c[g+z]=x[R+z];R+=cg+1;g+=cg+1;U+=1+1+cg}}};function da(){}da.gm=function(x,R,T){return;var c="",g=R;
while(g!=0){var d=g%1e3+"";while(d.length<3)d="0"+d;c=(c==""?d:d+" ")+c;g=Math.floor(g/1e3)}while(c.startsWith("0")&&c!="0")c=c.slice(1);
while(c.length<11)c=" "+c;console.log("===",c,"\t".repeat(x),": "+T)};da.ajM=function(x){var R={CL:{}},c=0,g=0,e;
R.ks=!1;R.Mc=8;var T=new Uint8Array(x);g=da.mP(R,T,c);c=g;g=da.alJ(R,T,c);c=g;var d=n.s(T,c);c+=4+d;
var U=R.ks?8:4;if(R.ks)e=n.UO(T,c);else e=n.s(T,c);c+=U+e;g=da.abn(R,T,c);return[{d8:new aP(0,0,R.m,R.e),data:R.buffer.buffer}]};
da.eE=function(x,R){R.ks=!1;R.Mc=8;var T=new Uint8Array(x),c=0,g=0,C,e9=!1,kB=!0,ct=!1,jF=0,cU=0;g=da.mP(R,T,c);
da.gm(0,g-c,"PSD Header");c=g;g=da.alJ(R,T,c);da.gm(0,g-c,"Color Mode Data");c=g;g=da.ath(R,T,c);da.gm(0,g-c,"Image Resources");
c=g;g=da.a4V(R,T,c);da.gm(0,g-c,"Layer And Mask Info");c=g;g=da.abn(R,T,c);da.gm(0,g-c,"Merged Image");
c=g;if(R.R.length==0){var d=R.CH();d.Je("Background");R.R.push(d);d.buffer=R.buffer.slice(0);d.rect=new aP(0,0,R.m,R.e)}if(R.CL.r1005){R.De=n.Iy(R.CL.r1005,0)}if(R.CL.r1026){var T=R.CL.r1026;
for(var z=0;z<T.length;z+=2){var g=R.R[z>>>1];if(g)g.jn=n.wh(T,z)}}if(R.CL.r1072){var T=R.CL.r1072;for(var z=0;
z<T.length;z++){var g=R.R[z];if(g)g.wm=T[z]==1}}if(R.CL.r1032){R.CR=da.aAH(R.CL.r1032,0)}delete R.CL.r1036;
R.Wg(R.CL.r1039);if(R.CL.r1050){var U=n.s,e=R.CL.r1050,N=n.s(e,0);if(N==6){var l=4,J=n.v7(e,l);l+=16;
var w=n.$f(e,l);l+=4+w.length*2;var s=U(e,l);l+=4;var o=R.co;for(var z=0;z<s;z++){var V=D.D3.H1(),O;
o.push(V);V=V.v;V.sliceID.v=U(e,l);l+=4;V.groupID.v=U(e,l);l+=4;var a=U(e,l);l+=4;if(a==1){O=U(e,l);
l+=4}var w=n.$f(e,l);l+=4+w.length*2;var S=U(e,l);l+=4;var L=[U(e,l),U(e,l+4),U(e,l+8),U(e,l+12)];l+=16;
D.D3.No(o,o.length-1,L);var Q=V.url.v=n.$f(e,l);l+=4+Q.length*2;var b=V.null.v=n.$f(e,l);l+=4+b.length*2;
var Z=V.Msge.v=n.$f(e,l);l+=4+Z.length*2;var I=V.altTag.v=n.$f(e,l);l+=4+I.length*2;V.cellTextIsHTML.v=e[l]==1;
l++;var y=V.cellText.v=n.$f(e,l);l+=4+y.length*2;var r=U(e,l);l+=4;var h=U(e,l);l+=4;var k=e.slice(l,l+4);
l+=4;if(a!=2)o.pop()}}else if(N==8){var K={};ck.fP(e,K,8,!1);var e=R.co=K.slices.v;for(var z=0;z<e.length;
z++){if(e[z].v.origin.v.ESliceOrigin!="userGenerated"){e.splice(z,1);z--}}}}if(R.CL.r1058){var H=R.CL.r1058,p=UTIF.decode(H.buffer,{parseMN:!1,debug:!1});
aZ.rM(p[0],R.zw);delete R.CL.r1058}if(R.CL.r1060){var f=n.KW(R.CL.r1060);aZ.Ac(f,R.zw);delete R.CL.r1060}if(R.CL.r1065){var T=R.CL.r1065;
R.bE={};ck.fP(T,R.bE,4,!1)}if(R.CL.r1069){var T=R.CL.r1069,A=[];for(var z=2;z<T.length;z+=4){var O=n.s(T,z);
for(var _=0;_<R.R.length;_++){var g=R.R[_];if(g.add.lyid==O&&g.add.lsct!=3&&A.indexOf(_)==-1)A.push(_)}}R.g=A}if(R.CL.r1073){var T=R.CL.r1073,l=0,W=n.yr(T,l);
l+=4;var Y=n.yr(T,l);l+=4;for(var z=0;z<Y;z++){R.nH.push({y:W>=2?n.Ky(T,l+2):n.Iy(T,l+2),x:W>=2?n.Ky(T,l+6):n.Iy(T,l+6)});
l+=14}delete R.CL.r1073}if(R.CL.r1025){var G=R.CL.r1025;delete R.CL.r1025;var i=bD.Lt(G,0,G.length,R.m,R.e),E=new F.LS;
E.$=i;R.OQ[0]=c9.xs("Working Path",{vmsk:E})}var $=R.add.pths;delete R.add.pths;var B=R.CL.r3000;if(B){C={};
ck.fP(B,C,4,!1);delete R.CL.r3000}if($){var M=$.pathSymmetrySelectedPath;if(M){var j=$.pathList.v[M.v].v,P=j.pathUnicodeName.v;
R.fr=P.startsWith("Tile Symmetry")}}for(var t=0;t<=997;t++){var q="r"+(2e3+t),G=R.CL[q];if(G==null)break;
var i=bD.Lt(G,0,G.length,R.m,R.e),P="Path "+t;if($){var m=$.pathList.v[t].v;P=m.pathUnicodeName.v;if(P=="Tile Symmetry 1")continue}var iE=C?C.keyRootDescriptorList.v[t].v.keyDescriptorList.v:F.h5(i),E=new F.LS;
E.$=i;R.OQ.push(c9.xs(P,{vmsk:E,vogk:iE}));delete R.CL[q]}delete R.ks;if(R.CL.r4000){R.KJ=u.KJ.eE(R.CL.r4000)}var hV=R.CL.r7000,dD=R.CL.r7001;
if(hV){var bh=n.KW(hV);R.gq=da.ad5(bh)}if(dD){var bh=n.KW(dD);R.sb=da.akr(bh)}delete R.CL.r7000;delete R.CL.r7001;
var ho=new aP(0,0,R.m,R.e),aH=R.add.Txt2,f2=aH;if(f2){f2=f2.Bn;if(f2._DocumentResources==null)f2=aK.al0(f2)}var fj=-1;
for(var z=0;z<R.R.length;z++){var g=R.R[z],ab=g.add.lsct,iw=g.add.vmsk,jD=g.le();if(ab==ew.SO){jF++;
g.add.lspf=0}else if(ab==ew.bZ||ab==ew.qW)jF--;if(g.name==""){g.name="Layer "+(z+1);ct=!0}if(ct&&g.NW()&&g.mh=="norm")g.mh="pass";
if(g.Xn()&&g.Ct(R)==null)delete g.add.SoLd;if(g.Xn()&&g.Ct(R).F){var a1=g.Ct(R);a1.F.isEnabled=g.add.SoLd.filterFX.v.filterMaskEnable.v}if(iw&&g.bT()){var gd=fJ.SC.GI(!0);
if(g.add.vstk==null)g.add.vstk=JSON.parse(JSON.stringify(gd));else{var i6="strokeStyleLineDashSet";if(g.add.vstk[i6]==null)g.add.vstk[i6]=JSON.parse(JSON.stringify(gd[i6]))}g.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
g.add.vstk.strokeStyleResolution.v=R.De}if(iw&&(g.add.vogk==null||u.j.fc(iw.$)!=g.add.vogk.length))g.h5();
if(!1){var hv=g.add.vogk,hO=!0;for(var jh=0;jh<hv.length;jh++){var aJ=hv[jh].v.keyShapeInvalidated;if(aJ==null||aJ.v==!1)hO=!1}if(hO)g.h5()}if(g.add.SoLd&&g.rect.Y3()){console.log("redrawing smart instance");
g.Ht(R)}if(jD==null&&g.F!=null){if(g.F.j2==!1){g.F.j2=!0;g.MJ=g.F.clone()}}jD=g.le();if(g.JH){var gd=g.JH,E=iw;
if(jD){jD.Fo=gd[0];jD.Cu=gd[1]}if(E){E.Fo=gd[2];E.Cu=gd[3]}g.JH=null}if(jD!=null&&iw!=null&&(jD.Cu+iw.Cu!=0||jD.Fo+iw.Fo!=2*255))g.sG(R);
else if(iw!=null&&!g.bT())g.sG();else if(jD&&jD.Fo!=255&&g.bT())g.sG(R);var hS=g.add.artb;if(hS&&hS.artboardBackgroundType==null)hS.artboardBackgroundType={t:"long",v:1};
if(hS&&jF!=0)delete g.add.artb;var iO=g.add.vstk;if(g.bT()&&(g.rect.Y3()||iw&&iw.Cu!=0||iO&&!iO.fillEnabled.v&&(!iO.strokeEnabled.v||iO.strokeStyleLineWidth.v.val==0)))g.M_(R);
if(g.add.TySh){e9=!0;if(!g.rect.Y3())kB=!1}if(g.add.TySh&&f2){fj++;var g$=g.add.TySh.pM,bF=bL.jJ(g$),hy=f2._DocumentObjects._TextObjects;
if(hy.length<=fj){console.log("Txt2 incomplete");continue}var fg=hy[fj]._Model,hL=fg._StyleRun?fg._StyleRun._RunArray:[],dn=g$.EngineDict.StyleRun.RunArray;
for(var c5=0;c5<dn.length;c5++){var at=dn[c5].StyleSheet.StyleSheetData;if(hL[c5]==null)continue;var gt=hL[c5]._RunData._StyleSheet._Features;
if(gt&&gt._BaselineDirection)at.BaselineDirection=parseInt(gt._BaselineDirection.slice(1));if(gt&&gt._FillBackgroundFlag)at._FillBackgroundFlag=gt._FillBackgroundFlag;
if(gt&&gt._FillBackgroundColor){var iK=gt._FillBackgroundColor,iz=iK._Color._Values.slice(0);for(var _=0;
_<4;_++)iz[_]=parseFloat(iz[_].slice(1));at._FillBackgroundColor={Type:1,Values:iz}}if(gt&&gt._LineWidth)at._LineWidth=parseFloat(gt._LineWidth.slice(1))}var gI=g$.EngineDict.ParagraphRun.RunArray,ce=fg._ParagraphRun._RunArray;
if(ce==null)ce=[];var b7=Math.min(ce.length,gI.length);for(var _=0;_<b7;_++){var br=gI[_].ParagraphSheet.Properties,kg=f2._DocumentResources._ParagraphSheetSet._Resources,bM=ce[_]._RunData._ParagraphSheet;
if(typeof bM=="string")bM=kg[parseInt(bM.slice(1))]._Resource;var eQ=bM._Parent==null?bM:kg[parseInt(bM._Parent.slice(1))]._Resource;
bM=bM._Features;eQ=eQ._Features;var eT=bM._ParagraphDirection;if(eT==null)eT=eQ._ParagraphDirection;
if(eT)br._Direction=parseInt(eT.slice(1));if(bM._ComposerEngine)br._ComposerEngine=parseInt(bM._ComposerEngine.slice(1))}if(fg._AlternateGlyphRun){var ce=fg._AlternateGlyphRun._RunArray,b7=ce.length,b6=g$.EngineDict.AlternateGlyphRun=bL.amS();
for(var _=0;_<b7;_++){var bM=ce[_],hx={},io=bM._RunData._AlternateGlyphSheet;if(io)hx.Glyph=parseInt(io._Glyph.slice(1));
b6.RunArray.push(hx);b6.RunLengthArray.push(parseInt(bM._Length.slice(1)))}}var jm=f2._DocumentResources,bq=jm._TextFrameSet._Resources,gO=bq[fj]._Resource,ae=gO._Data,dl=new gP(1,0,0,1,0,0);
if(gO._0){var eF=parseFloat(gO._0[0].slice(1)),e6=parseFloat(gO._0[1].slice(1));dl.translate(eF,e6)}if(bF){dl.translate(bF[0],bF[1]);
bL.RO(g$,[0,0,bF[2]-bF[0],bF[3]-bF[1]])}else{if(gO._Bezier&&gO._Bezier._Points){var i=gO._Bezier._Points,eF=parseFloat(i[0].slice(1)),e6=parseFloat(i[1].slice(1));
if(eF!=0||e6!=0){dl.translate(eF,e6)}}}if(gO._Data&&gO._Data._FrameMatrix){var dJ=gO._Data._FrameMatrix;
dJ=dJ.map(function(jJ){return parseFloat(jJ.slice(1))});dl.concat(new gP(dJ[0],dJ[1],dJ[2],dJ[3],dJ[4],dJ[5]))}dl.concat(g.add.TySh.i);
g.add.TySh.i=dl;var S=ae._Type?parseInt(ae._Type.slice(1)):0;if(S==2||S==1&&ae._PathData&&ae._PathData._Spacing=="i-3")if(gO._Bezier){var d2=function(jJ){return parseFloat(jJ.slice(1))},i=gO._Bezier._Points.map(d2);
if(bF)u.M.i(i,new gP(1,0,0,1,-bF[0],-bF[1]),i);var gQ=ae._PathData?ae._PathData._Reversed:!1,a6=ae._TextOnPathTRange;
if(a6==null)a6=["f-3","f-3"];g$.Curve={Points:i,TextOnPathTRange:a6.map(d2),Reversed:gQ==null?!1:gQ};
g.add.TySh.add={vmsk:new F.LS,vogk:null};bL.jT(g.add.TySh)}if(ae._LineOrientation=="i2")g$._LineOrientation=2}}D.E1.pb(R,!0);
var h6={},jv=[];for(var z=0;z<R.R.length;z++){var de=R.R[z].add.lyid;if(de==null)continue;var cU=Math.max(cU,de);
if(h6[de]!=null)jv.push(z);else h6[de]=!0}for(var z=0;z<jv.length;z++)R.R[jv[z]].add.lyid=cU+1+z};da.aAH=function(x,R){var T=n.s(x,R+12),c=[];
for(var z=0;z<T;z++){var g=x[R+16+z*5+4],d=n.yr(x,R+16+z*5)/32;c.push([g,d])}return c};da.ad5=function(x){var R=new DOMParser,T=R.parseFromString(x,"text/xml").firstChild.children[0],c=T.getElementsByTagName("variables");
if(c.length==0)return[];c=c[0].children;var g=[],d="varName trait docRef placementMethod align valign clip".split(" ");
for(var U=0;U<c.length;U++){var e=c[U],N={};g.push(N);for(var l=0;l<d.length;l++){var J=d[l],w=e.getAttribute(J);
if(w==null)continue;N[J]=w}}return g};da.akr=function(x){var R=new DOMParser,T=R.parseFromString(x,"text/xml").firstChild.children,c=[[]];
if(T==null)return c;for(var z=0;z<T.length;z++){var g=T[z],d=[];c.push(d);for(var U=0;U<g.children.length;
U++){var e=g.children[U];if(z==0)c[0].push(e.tagName);d.push(e.textContent)}}return c};da.Li=function(x,R,T){D.E1.kM(x);
D.E1.pb(x,!1);x.ks=T[3]==!0;var c=[],g=[],O=0,L=1,V=16,kB=0;for(var z=0;z<x.R.length;z++){var d=x.R[z];
if(d.Xn()&&d.Ct(x).F){d.add.SoLd.filterFX.v.filterMaskEnable.v=d.Ct(x).F.isEnabled}if(d.add.TySh){var U=d.add.TySh.pM,e=bL.hl(U);
d.add.TySh.Gf.TextIndex={t:"long",v:c.length};c.push(U);if(e==2)bL.Tr(d.add.TySh)}var N=d.add.vstk;if(N)N.strokeStyleResolution.v=x.De;
if(d.bT()||T[2]&&d.add.SoLd){g[z]=[d.rect,d.buffer];d.rect=new aP;d.buffer=u.B(0);if(d.add.SoLd){var l=d.Ct(x);
if(l!=null){g[z].push(l.buffer);l.buffer=u.B(l.buffer.length)}}}}if(c.length>0){var J=x.add.Txt2?x.add.Txt2.Bn:null;
if(x.add.Txt2==null)x.add.Txt2={};x.add.Txt2.Bn=j1.aAO(c,null,J)}var w=[x.add.lnk2,x.add.FEid,x.add.Patt],s=x.avA(x.R);
x.a0O(s);x.CL.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);n.aww(x.CL.r1005,0,x.De);n.aww(x.CL.r1005,8,x.De);
if(x.nH.length>0){var o=x.nH;x.CL.r1073=new Uint8Array(8+o.length*14);n.kp(x.CL.r1073,0,3);n.kp(x.CL.r1073,4,o.length);
for(var z=0;z<o.length;z++){var V=8+14*z;n.x0(x.CL.r1073,V,14);n.$c(x.CL.r1073,V+2,o[z].y);n.$c(x.CL.r1073,V+6,o[z].x);
n.x0(x.CL.r1073,V+10,-1);n.x0(x.CL.r1073,V+12,8)}}if(x.L_()){x.CL.r1022=new Uint8Array([0,3+x.Hp.length-1,0])}else delete x.CL.r1022;
var a=new Uint8Array(x.R.length*2),S=new Uint8Array(x.R.length);for(var z=0;z<x.R.length;z++){var d=x.R[z],Q=d.jn,b=d.wm?1:0;
n.$R(a,z*2,Q);S[z]=b;if(Q>O)O=Q;if(b==0)L=0}if(O>0)x.CL.r1026=a;if(L<1)x.CL.r1072=S;var Z=x.CR,I=Z.length,y=x.CL.r1032=u.B(16+5*I,!0);
n.W_(y,0,1);n.W_(y,4,576);n.W_(y,8,576);n.W_(y,12,I);for(var z=0;z<I;z++){n.kp(y,V,Math.round(Z[z][1]*32));
y[V+4]=Z[z][0];V+=5}if(T[4]!=!0){var r=[x.buffer,new aP(0,0,x.m,x.e)],h=0;u.hj(r);while(r[h+1].Z()>200*200)h+=2;
var k=dp.Ix("jpg"),K=r[h+1],H=new Uint8Array(k.LA([[r[h].buffer]],K.m,K.e)),y=x.CL.r1036=new Uint8Array(28+H.length);
n.W_(y,0,1);n.W_(y,4,K.m);n.W_(y,8,K.e);n.W_(y,12,K.m*3);n.W_(y,16,K.Z()*3);n.W_(y,20,H.length);n.$R(y,24,24);
n.$R(y,26,1);y.set(H,28)}var p=u.PN(x.buffer);if(x.add.fcmy)p=!1;var f=[];if(p)f.push({name:"Transparency",O7:{o:255,A:0,J:0},xF:100,bh:1});
f=f.concat(x.Hp);delete x.CL.r1045;delete x.CL.r1006;delete x.CL.r1077;var A=new kE;V=0;var _=new Uint8Array(4+f.length*13);
_[3]=1;for(var z=0;z<f.length;z++){var W=f[z],Y=W.name+"\0";n.nd(A,V,Y);V+=4+Y.length*2;var G=4+z*13;
gr.sm(_,G,W.O7);_[G+11]=W.xF;_[G+12]=W.bh}if(V!=0)x.CL.r1045=A.data.slice(0,V);x.CL.r1077=_;for(var z=0;
z<x.co.length;z++)x.co[x.co.length-z-1].v.sliceID.v=2+z*3;var i={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:x.co}},A=new kE;
n.pe(A,0,8);n.pe(A,4,16);var E=ck.fv(A,i,8);x.CL.r1050=A.data.slice(0,E+8);var A=new kE;n.pe(A,0,16);
var E=ck.fv(A,x.bE,4);x.CL.r1065=A.data.slice(0,E+4);var $=x.g;y=x.CL.r1069=u.B(2+$.length*4,!0);n.$R(y,0,$.length);
for(var z=0;z<$.length;z++)n.W_(y,2+4*z,x.R[$[z]].add.lyid);delete x.CL.r1058;delete x.CL.r1060;if(Object.keys(x.zw).length!=0){var C=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
aZ.lM(x.zw,C[0],T[0]&&T[1]);x.CL.r1058=new Uint8Array(UTIF.encode(C));var B=aZ.ca(x.zw);x.CL.r1060=n.SF(B)}var M=[],j=[],P=x.OQ.slice(0);
if(x.fr){var t=bD.aqt([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),q=new F.LS;
q.$=t;P.push(c9.xs("Tile Symmetry 1",{vmsk:q,vogk:F.h5(t)}))}for(var z=0;z<P.length;z++){var m=P[z],t=m.add.vmsk.$;
if(z==0&&t.length==2)continue;var iE=u.B(t.length*26);bD.RU(iE,0,t,x.m,x.e);var hV=z==0?1025:2e3+z-1;
x.CL["r"+hV]=iE;if(z!=0){var dD={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:m.name}};if(m.name=="Tile Symmetry 1")dD.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
M.push({t:"Objc",v:dD});j.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:m.add.vogk}}})}}if(M.length!=0){x.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:M}};
if(x.fr)x.add.pths.pathSymmetrySelectedPath={t:"long",v:M.length-1};j={classID:"null",keyRootDescriptorList:{t:"VlLs",v:j}};
var A=new kE;n.pe(A,0,16);var E=ck.fv(A,j,4);x.CL.r3000=A.data.slice(0,E+4)}else{delete x.add.pths;delete x.CL.r3000}if(x.KJ&&x.KJ.length!=0){x.CL.r4000=u.KJ.Li(x.KJ)}if(x.gq.length!=0){var bh="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var z=0;z<x.gq.length;z++){var ho=x.gq[z],aH=[];for(var hV in ho)aH.push(hV+"=\""+ho[hV]+"\"");bh+="<variable "+aH.join(" ")+">\n</variable>\n"}bh+="</variables>\n</variableSet>\n</variableSets>";
x.CL.r7000=n.SF(bh)}if(x.sb.length!=0){var bh="<sampleDataSets psdPath=\""+x.name+"\">\n";for(var z=1;
z<x.sb.length;z++){var f2=x.sb[z];bh+="<sampleDataSet dataSetName=\"Data Set "+z+"\">\n";for(var e9=0;
e9<f2.length;e9++)bh+="<"+x.sb[0][e9]+">"+f2[e9].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+x.sb[0][e9]+">\n";
bh+="</sampleDataSet>\n"}bh+="</sampleDataSets>";x.CL.r7001=n.SF(bh)}kB=da.ayP(x,R,kB,3+f.length);kB=da.ai0(x,R,kB);
kB=da.a5d(x,R,kB);kB=da.aaj(x,R,kB,T,p);kB=da.ams(x,R,kB,T[0],p);var ct=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var z=0;z<ct.length;z++)delete x.CL["r"+ct[z]];for(var z=0;z<x.R.length;z++){var d=x.R[z];if(d.bT()||T[2]&&d.add.SoLd){d.rect=g[z][0];
d.buffer=g[z][1];if(g[z][2]){var l=d.Ct(x);g[z].push(l.buffer);l.buffer=g[z][2]}}}x.a0O(w);D.E1.pb(x,!0);
delete x.ks;return kB};da.mP=function(x,R,T){var c=n.zQ(R,T,4);T+=4;if(c!="8BPS")alert("invalid header signature: "+c);
var g=n.wh(R,T);T+=2;x.ks=g==2;if(g!=1&&g!=2)alert("invalid version: "+g);T+=6;x.Ov=n.wh(R,T);T+=2;x.e=n.yr(R,T);
T+=4;x.m=n.yr(R,T);T+=4;x.Mc=n.wh(R,T);T+=2;x.eD=n.wh(R,T);T+=2;return T};da.ayP=function(x,R,T,c){var g=x.add.fcmy==1;
R.sL(0,64);n.vW(R.data,T,"8BPS");T+=4;n.$R(R.data,T,x.ks?2:1);T+=2;n.W_(R.data,T,0);T+=4;n.$R(R.data,T,0);
T+=2;n.$R(R.data,T,c+(g?1:0));T+=2;n.kp(R.data,T,x.e);T+=4;n.kp(R.data,T,x.m);T+=4;n.$R(R.data,T,8);
T+=2;n.$R(R.data,T,g?4:3);T+=2;return T};da.alJ=function(x,R,T){var c=n.yr(R,T);T+=4;if(c!=0)x.ej=R.slice(T,T+c);
T+=c;return T};da.ai0=function(x,R,T){n.G0(R,T,0);T+=4;return T};da.ath=function(x,R,T){var c=n.s(R,T),g=0;
T+=4;var d=[];while(g<c){var U=n.zQ(R,T+g,4);g+=4;var e=n.wh(R,T+g);g+=2;var N=n.ZV(R,T+g);g+=N.length;
if(U=="MeSa"&&(e==7e3||e==7001)){}else if(U!="8BIM"){d.push(e);console.log("Unknown Image Resources signature: "+U+", ID: "+e)}var l=n.s(R,T+g);
g+=4;if(x.CL["r"+e]!=null)console.log("--- two resources with same ID");x.CL["r"+e]=n.dI(R,T+g,l);g+=l+(l&1)}for(var z=0;
z<d.length;z++)delete x.CL["r"+d[z]];return T+c};da.a5d=function(x,R,T){var c=T,U=0;T+=4;var g=[];for(var d in x.CL){g.push(parseInt(d.slice(1)))}g.sort(function(w,s){return w-s});
for(var z=0;z<g.length;z++){var e=g[z];n._a(R,T+U,e==7e3||e==7001?"MeSa":"8BIM");U+=4;n.qY(R,T+U,e);
U+=2;var N=n.ew(R,T+U,"");U+=N;var l=x.CL["r"+e],J=l.length;n.pe(R,T+U,J);U+=4;n.vU(R,T+U,l);U+=J;if(J%2==1)U++}n.pe(R,c,U);
return T+U};da.a4V=function(x,R,T){var c=T,g,d,U=x.ks?8:4;if(x.ks)g=n.UO(R,T);else g=n.s(R,T);T+=U;if(g==0)return c+U;
d=da.a94(x,R,T);da.gm(1,d-T,"Layer Info");T=d;d=da.akY(x,R,T);da.gm(1,d-T,"Global Layer Mask Info");
T=d;d=kc.atn(R,T,c+U+g,x.add,x.ks,x);da.gm(1,d-T,"Project Add Info");T=d;return c+U+g};da.aaj=function(x,R,T,c,g){var d=T;
n.pe(R,T,0);T+=4;if(x.ks){n.pe(R,T,0);T+=4}T=da.afl(x,R,T,c,g);T=da.a1M(x,R,T);T=kc.atJ(R,T,x.add,x.ks,x);
if(x.ks)n.BI(R,d,T-d-8);else n.pe(R,d,T-d-4);return T};da.a94=function(x,R,T){var c,g=x.ks?8:4;if(x.ks)c=n.UO(R,T);
else c=n.s(R,T);T+=g;if(c!=0)da.ic(x,R,T);return T+c};da.ic=function(x,R,T){var c=n.Z8(R,T);T+=2;var g=Math.abs(c);
for(var z=0;z<g;z++){var d=new F;T=j3.eE(d,x,R,T);x.R[z]=d}var U=new aP(0,0,x.m,x.e);for(var z=0;z<g;
z++){var e=x.R[z],N=e.le(),l=eH.eE(e,x,R,T);if(l-T>8)da.gm(2,l-T,"Lay: "+e.getName());T=l;da.afK(e,U);
if(N)da.afK(N,U)}};da.afK=function(x,R){};da.afl=function(x,R,T,c,g){var d=T,U=x.ks;T+=U?8:4;T=da.amD(x,R,T,c,g);
var e=T-d-(U?8:4);if(e%2!=0)e++;if(U)n.BI(R,d,e);else n.pe(R,d,e);return d+e+(U?8:4)};da.amD=function(x,R,T,c,g){var d=x.R.length;
n.T1(R,T,g?-d:d);T+=2;var U=[];for(var z=0;z<d;z++)T=j3.Li(x.R[z],x,R,T,U);for(var z=0;z<d;z++)T=eH.P7(x.ks,x.R[z],R,T,U[z],c,x.add.fcmy==1);
return T};da.akY=function(x,R,T){var c=n.s(R,T);T+=4;T+=c;return T};da.a1M=function(x,R,T){var c=n.pe(R,T,0);
T+=4;return T};da.abn=function(x,R,T){var c=x.eD,g="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),d=[1,1,1,3,4,1,1,3],U,a;
if(c!=3){if(c==1||c==2||c==4)console.log("Project will be converted from "+g[c]+" to "+g[3]+" mode.");
else{alert("Color mode "+g[c]+" is not supported yet :(")}if(c==4)x.add.fcmy=1}if(x.CL.r1045){U=[];var e=x.CL.r1045,N=0;
while(N<e.length){var l=n.AM(e,N);U.push(l);N+=4+2+l.length*2}}var J=d[c]+(U==null||U[0]=="Transparency"?1:0),w=x.m,s=x.e,o=w*s,V=n.wh(R,T);
T+=2;x.buffer=u.B(o*4);u.Qu(x.buffer,4278190080);var O=T;for(var S=0;S<x.Ov;S++){if(V==0){a=eH.wT(x.ks,x.Mc,R,w,s,T,V);
T+=o*(x.Mc>>>3)}else if(V==1){a=u.B(o);var L=x.ks?4:2;if(S==0)T+=x.Ov*s*L;T+=eH.amh(R,a,w,s,O+S*s*L,T,L)}else{console.log("unknown compression of image data: ",V);
return}if(S<J){u.rN(a,x.buffer,S);if(x.Ov==1&&S==0){u.rN(a,x.buffer,1);u.rN(a,x.buffer,2)}}else{var Q=new F.Wu,b=S-J,Z=S-d[x.eD];
Q.name=U?U[Z]:"Alpha";if(Q.name=="Quick Mask"){Q.PW=!0;x.nE.push(b)}Q.rect=new aP(0,0,w,s);Q.channel=a;
Q.color=0;Q.mu();x.Hp[b]=Q;if(x.CL.r1077){var e=x.CL.r1077.slice(4+Z*13);Q.O7=gr.oT(e,0);Q.xF=e[11];
Q.bh=e[12];if(Q.bh==2)Q.PW=!0}}}x.Ov=4;if(x.eD==2)for(var z=0;z<o;z++){var I=z*4,y=x.buffer[I];x.buffer[I]=x.ej[0+y];
x.buffer[I+1]=x.ej[256+y];x.buffer[I+2]=x.ej[512+y]}return T};da.ams=function(x,R,T,c,g){var d=1,U=16,e=x.m,N=x.e,J,w;
n.qY(R,T,d);T+=2;var l=e*N;if(!c){w=new u.IV(e*N);u.ZC(x.buffer,w);var s=w.o,o=w.A,V=w.J,a=w.Y;for(var z=0;
z<l;z++){var O=a[z]*(1/255);s[z]=~~(s[z]*O+255*(1-O));o[z]=~~(o[z]*O+255*(1-O));V[z]=~~(V[z]*O+255*(1-O))}}else J=u.B(l);
var S=[J,J,J];if(!c)S=[w.o,w.A,w.J];if(x.add.fcmy==1){var L=J;if(!c){L=u.B(l);L.fill(255)}S.push(L)}if(g)S.push(c?J:w.Y);
for(var z=0;z<x.Hp.length;z++){S.push(x.Hp[z].qC(new aP(0,0,x.m,x.e)))}var Q=T;for(var b=0;b<S.length;
b++){R.sL(T,e*N+4);J=S[b];if(d==0||d==2||d==3)T=eH.mt(x.ks,J,R.data,e,N,T,d);else{var Z=x.ks?4:2;if(b==0)T+=S.length*N*Z;
var I=T;T+=eH.a7I(J,R.data,e,N,Q+b*N*Z,T,Z)}}return T};function aL(){}aL.eE=function(x){var R={};aL._s(x,R,0,0);
return R};aL.Li=function(x,R){var T=0;T=aL.ZA(x,R,T,0);return T};aL._s=function(x,R,T,c){while(x[T]!="<".charCodeAt(0))T++;
T+=2;while(!0){if(x[T]=="/".charCodeAt(0)){T++;var g=n.indexOf(x," ".charCodeAt(0),T,T+50),d=n.indexOf(x,"\n".charCodeAt(0),T,T+50);
if(d==-1)d=Infinity;if(g==-1)g=Infinity;var U=Math.min(d,g),e=n.zQ(x,T,U-T),N=aL.yT(x,U+1,c+1,e);R[e]=N.b;
T=U+1;T+=N.size}else if(x[T]==">".charCodeAt(0)){T+=2;break}else{var l=x[T];if(l==10||l==9||l==32)T++;
else{console.log("unknown byte: "+l+", char: "+String.fromCharCode(l),T);T++}}}return T};aL.ZA=function(x,R,T,c){n._a(R,T,"<<\n");
T+=3;var g=aL.azE;for(var d in x){n.BV(R,T,"\t".charCodeAt(0),c+1);T+=c+1;n._a(R,T,"/"+d);T+=1+d.length;
if(g(x[d])||x[d]instanceof Array){n._a(R,T," ");T++}else{n._a(R,T,"\n");T++;n.BV(R,T,"\t".charCodeAt(0),c+1);
T+=c+1}T=aL.cS(x[d],R,T,c+1);n._a(R,T,"\n");T++}n.BV(R,T,"\t".charCodeAt(0),c);T+=c;n._a(R,T,">>");T+=2;
return T};aL.yT=function(x,R,T,c){var g=R,d={size:0,b:0};while(!0){while(x[R]==" ".charCodeAt(0)||x[R]=="\t".charCodeAt(0)||x[R]=="\n".charCodeAt(0))R++;
if(x[R]=="<".charCodeAt(0)){d.b={};R=aL._s(x,d.b,R,T+1);break}else if(x[R]=="(".charCodeAt(0)){R+=3;
var U=R;while(!0){if(x[U-1]!="\\".charCodeAt(0)&&x[U]==")".charCodeAt(0)&&(x[U+1]=="\n".charCodeAt(0)||x[U+1]==" ".charCodeAt(0)))break;
else U++}d.b=n.aBE(x,R,U);R=U+2;break}else if(x[R]=="[".charCodeAt(0)){R++;d.b=[];while(x[R]==" ".charCodeAt(0)||x[R]=="\t".charCodeAt(0)||x[R]=="\n".charCodeAt(0))R++;
while(x[R]!="]".charCodeAt(0)){var e=aL.yT(x,R,T+1,c);d.b.push(e.b);R+=e.size;while(x[R]==" ".charCodeAt(0)||x[R]=="\t".charCodeAt(0)||x[R]=="\n".charCodeAt(0))R++}R++;
break}else{var N=n.indexOf(x," ".charCodeAt(0),R,R+50),l=n.indexOf(x,"\n".charCodeAt(0),R,R+50);if(l==-1)l=Infinity;
if(N==-1)N=Infinity;var J=n.zQ(x,R,Math.min(N,l)-R).trim(),w=parseFloat(J);if(!isNaN(w)){d.b=parseFloat(J);
R=Math.min(N,l)+1;break}else if(J=="true"||J=="false"){d.b=J=="true";R=Math.min(N,l)+1;break}else if(J=="null"||J=="NaN"||J=="undefined"){d.b=0;
R=Math.min(N,l)+1;break}else{console.log("unknown identifier: "+J);throw"e"}R=Math.min(N,l)+1}}d.size=R-g;
return d};aL.cS=function(x,R,T,c){if(x instanceof Array){var g=x.length==0||typeof x[0]=="number";if(g){n._a(R,T,"[ ");
T+=2;for(var z=0;z<x.length;z++){var d=x[z]+" ";n._a(R,T,d);T+=d.length}n._a(R,T,"]");T+=1}else{n._a(R,T,"[\n");
T+=2;for(var z=0;z<x.length;z++){n.BV(R,T,"\t".charCodeAt(0),c);T+=c;T=aL.cS(x[z],R,T,c);n._a(R,T,"\n");
T++}n.BV(R,T,"\t".charCodeAt(0),c);T+=c;n._a(R,T,"]");T+=1}}else if(x instanceof Object){T=aL.ZA(x,R,T,c)}else if(typeof x=="string"){n._a(R,T,"(");
T++;n.BV(R,T,254);T++;n.BV(R,T,255);T++;T=n.an5(R,T,x);n._a(R,T,")");T+=1}else{var d=x+"";n._a(R,T,d);
T+=d.length}return T};aL.azE=function(x){var R=typeof x;return R=="string"||R=="number"||R=="boolean"};
function gu(){}gu.eE=function(x){var R={};gu.a5L(x,R,0,0);return R};gu.Li=function(x,R){var T=0;n._a(R,T," ");
T++;T=gu.acc(x,R,T,0);T--;R.sL(T,2);R.data[T]=R.data[T+1]=0;T+=2;return T};gu._s=function(x,R,T,c){while(x[T]!="<".charCodeAt(0)){T++;
console.log("šipka")}T+=2;T=gu.a5L(x,R,T,c);return T};gu.ZA=function(x,R,T,c){n._a(R,T,"<< ");T+=3;T=gu.acc(x,R,T,c);
n._a(R,T,">>");T+=2;return T};gu.d1=function(x){return x==9||x==10||x==32};gu.a5L=function(x,R,T,c){while(!0){while(gu.d1(x[T])||x[T]==0)T++;
if(T>=x.length)break;if(x[T]=="/".charCodeAt(0)){T++;var g=T;while(!gu.d1(x[g]))g++;var d=n.zQ(x,T,g-T);
T=g+1;var U=gu.yT(x,T,c,d);R["_"+d]=U.b;T+=U.size}else if(x[T]==">".charCodeAt(0)){T+=2;break}else{var e=x[T];
console.log(n.zQ(x,T,T+100));console.log("unknown byte: "+e+", char: "+String.fromCharCode(e)+", offset: "+T);
T++;throw"e";return-1}}return T};gu.acc=function(x,R,T,c){for(var g in x){var d=g.substring(1,g.length);
n._a(R,T,"/"+d);T+=1+d.length;n._a(R,T," ");T++;T=gu.cS(x[g],R,T,c+1,d);n._a(R,T," ");T++}return T};
gu.yT=function(x,R,T,c){var g=R,d={type:"",size:0,b:0};while(gu.d1(x[R]))R++;if(x[R]=="<".charCodeAt(0)){d.type="Object";
d.b={};R=gu._s(x,d.b,R,T+1)}else if(x[R]=="(".charCodeAt(0)){d.type="String";R++;if(x[R]==")".charCodeAt(0)){d.b="e";
R++}else if(x[R]==254&&x[R+1]==255){R+=2;var U=R,e=0;while(!0){if(x[U]==")".charCodeAt(0)&&x[U-1]!="\\".charCodeAt(0))break;
else U+=1}d.b="s"+n.aBE(x,R,U);R=U+2}else{var U=R;while(x[U]!=")".charCodeAt(0))U++;d.b="s"+n.zQ(x,R,U-R);
R=U+1}}else if(x[R]=="[".charCodeAt(0)){R++;d.b=[];d.type="Array";while(gu.d1(x[R]))R++;while(x[R]!="]".charCodeAt(0)){var N=gu.yT(x,R,T+1,c);
if(N==-1)return-1;d.b.push(N.b);R+=N.size;delete N.size;while(gu.d1(x[R]))R++}R++}else{var l=R;while(!gu.d1(x[l]))l++;
var J=n.zQ(x,R,l-R),w=parseFloat(J);if(!isNaN(w)&&J.indexOf(".")!=-1){d.type="Float";var s=parseFloat(J);
d.b="f"+s}else if(!isNaN(w)&&J.indexOf(".")==-1){d.type="Integer";d.b="i"+parseInt(J)}else if(J=="true"||J=="false"){d.type="Boolean";
d.b=J=="true"}else if(J.charAt(0)=="/"){d.type="BString";d.b=J}else if(J=="NaN"||J=="undefined"){d.type="Float";
d.b="f0"}else{console.log("unknown value",JSON.stringify(J));throw"e"}R=l+1}d.size=R-g;return d};gu.agf=function(x){if(x==Math.round(x))return x+".0";
var R=x.toFixed(5);while(R.endsWith("0")&&R[R.length-2]!=".")R=R.slice(0,R.length-1);if(0<x&&x<1)R=R.slice(1);
if(-1<x&&x<0)R="-"+R.slice(2);return R};gu.cS=function(x,R,T,c,g){var d=typeof x=="string"?x.charAt(0):"";
if(x instanceof Array){n._a(R,T,"[ ");T+=2;for(var z=0;z<x.length;z++){T=gu.cS(x[z],R,T,c,"");n._a(R,T," ");
T++}n._a(R,T,"]");T+=1}else if(x instanceof Object){T=gu.ZA(x,R,T,c)}else if(d=="e"){n._a(R,T,"()");
T+=2}else if(d=="s"){n._a(R,T,"(");T++;if(g=="97"){n._a(R,T,x.slice(1));T+=x.length-1}else{n.BV(R,T,254);
T++;n.BV(R,T,255);T++;T=n.an5(R,T,x.slice(1))}n._a(R,T,")");T++}else if(d=="/"){n._a(R,T,x);T+=x.length}else if(d=="f"){var U=parseFloat(x.substring(1)),e=gu.agf(U);
n._a(R,T,e);T+=e.length}else if(d=="i"){n._a(R,T,x.substring(1));T+=x.length-1}else{var e=x+"";n._a(R,T,e);
T+=e.length}return T};function n(){}n.adU=function(cg){var x="";for(var z=3;z>=0;z--)x+=String.fromCharCode(cg>>z*8&255);
return x};n.abr=function(x){var cg=0;for(var z=x.length-1;z>=0;z--)cg|=x.charCodeAt(z)<<(3-z)*8;return cg};
n.indexOf=function(x,R,T,c){if(T==null)T=0;if(c==null)c=x.length;c=Math.min(c,x.length);for(var z=T;
z<c;z++)if(x[z]==R)return z;return-1};n.KZ=function(x,R,T){if(T==null)T=0;var c=R.length,g=x.length-c;
if(typeof R=="string"){var d=[];for(var z=0;z<c;z++)d.push(R.charCodeAt(z));R=d}if(R.length>0){var U=R[0];
for(var z=T;z<g;z++)if(x[z]==U){var e=!0;for(var N=1;N<c;N++)if(R[N]!=x[z+N]){e=!1;break}if(e)return z}}return-1};
n.aBE=function(x,R,T){var c=[],d="";while(R<T){var g=x[R++];if(g=="\\".charCodeAt(0))c.push(x[R++]);
else c.push(g)}for(var z=0;z<c.length;z+=2)d+=String.fromCharCode(c[z]<<8|c[z+1]);return d};n.aqs=function(x,R,T){var c=new Uint8Array(2);
for(var z=0;z<T.length;z++){n.$R(c,0,T.charCodeAt(z));if(c[0]==")".charCodeAt(0)||c[0]=="(".charCodeAt(0)||c[0]=="\\".charCodeAt(0)){x[R]="\\".charCodeAt(0);
R++}x[R]=c[0];R++;if(c[1]==")".charCodeAt(0)||c[1]=="(".charCodeAt(0)||c[1]=="\\".charCodeAt(0)){x[R]="\\".charCodeAt(0);
R++}x[R]=c[1];R++}return R};n.an5=function(x,R,T){x.sL(R,4*T.length);return n.aqs(x.data,R,T)};n.Y_=function(x,R,T){var c="";
for(var z=0;z<T;z++){var g=x[R++]|x[R++]<<8;c+=String.fromCharCode(g)}return c};n.tS=function(x,R,T){var c="";
for(var z=0;z<T;z++){var g=x[R++]<<8|x[R++];c+=String.fromCharCode(g)}return c};n.acQ=function(x,R,T){for(var z=0;
z<T.length;z++){var c=T.charCodeAt(z);n.mO(x,R+2*z,c)}};n.ah4=function(x,R,T){for(var z=0;z<T.length;
z++){var c=T.charCodeAt(z);n.$R(x,R+2*z,c)}};n.a5A=function(x,R,T){x.sL(R,2*T.length);n.ah4(x.data,R,T)};
n.aaf=function(x,z,R){var T=[],c=0,g=0;R+=z;while(z<R){c=x[z++];if((c&128)==0)g=c;else if((c&224)==192){g=(c&31)<<6;
c=x[z++];g|=c&63}else if((c&240)==224){g=(c&15)<<12;c=x[z++];g|=(c&63)<<6;c=x[z++];g|=c&63}else if((c&248)==240){g=(c&7)<<18;
c=x[z++];g|=(c&63)<<12;c=x[z++];g|=(c&63)<<6;c=x[z++];g|=c&63}else throw"e";T.push(g)}return T};n.ahC=window.TextDecoder?new window.TextDecoder("utf8"):null;
n.KW=function(x,R,T){if(R==null)R=0;if(T==null)T=x.length;if(n.ahC&&R==0&&T==x.length)return n.ahC.decode(x);
var c=n.aaf(x,R,T),g=c.length;for(var z=0;z<g;z++)c[z]=String.fromCharCode(c[z]);return c.join("")};
n.abR=window.TextEncoder?new window.TextEncoder("utf8"):null;n.SF=function(x){if(n.abR)return n.abR.encode(x);
var R=new Uint8Array(x.length*4),T=n.$D(x,R,0);return R.slice(0,T)};n.$D=function(x,R,T){var c=x.length,z=0;
for(var g=0;g<c;g++){var d=x.charCodeAt(g);if((d&4294967295-(1<<7)+1)==0){R[T+z]=d;z++}else if((d&4294967295-(1<<11)+1)==0){R[T+z]=192|d>>6;
R[T+z+1]=128|d>>0&63;z+=2}else if((d&4294967295-(1<<16)+1)==0){R[T+z]=224|d>>12;R[T+z+1]=128|d>>6&63;
R[T+z+2]=128|d>>0&63;z+=3}else if((d&4294967295-(1<<21)+1)==0){R[T+z]=240|d>>18;R[T+z+1]=128|d>>12&63;
R[T+z+2]=128|d>>6&63;R[T+z+3]=128|d>>0&63;z+=4}else throw"e"}return z};n.rv=function(x,R){var T=n.s(x,R),c=n.KW(x,R+4,T-1);
return{Kt:c,tB:4+T}};n.aqy=function(x,R){var T=n.pJ(x,R),c=n.Y_(x,R+4,T);return c};n.$f=function(x,R){var T=n.s(x,R),c=n.tS(x,R+4,T);
return c};n.AM=function(x,R){var T=n.s(x,R),c=n.tS(x,R+4,T-1);return c};n.aoK=function(x,R,T){n.ml(x,R,T.length);
R+=4;n.acQ(x,R,T)};n.a99=function(x,R,T){n.W_(x,R,T.length);R+=4;n.ah4(x,R,T)};n.nd=function(x,R,T){x.sL(R,4+2*T.length);
n.a99(x.data,R,T)};n.a7p=function(x,R,T){x.sL(R,4+2*T.length);n.aoK(x.data,R,T)};n.lm=function(x,R,T){var c=[];
for(var z=0;z<T;z++)c.push(String.fromCharCode(x[R+z]));return c};n.av_=function(x,R,T){var c=!1,g=x.length-T.length;
for(var z=R;z<g;z++){for(var d=0;d<T.length;d++){if(x[z+d]!=T.charCodeAt(d))break;if(d==T.length-1)return z}}};
n.zQ=function(x,R,T){var c="";for(var z=0;z<T;z++)c+=String.fromCharCode(x[R+z]);return c};n.vW=function(x,R,T){for(var z=0;
z<T.length;z++)x[R+z]=T.charCodeAt(z)};n._a=function(x,R,T){x.sL(R,T.length);n.vW(x.data,R,T)};n.a45=function(x,R,T){var c="";
for(var z=0;z<T;z++){var g=x[R+z];if(g<10)c+="  ";else if(g<100)c+=" ";c+=g+", "}return c};n.wh=function(x,R){return x[R]<<8|x[R+1]};
n.$R=function(x,R,cg){x[R]=cg>>8&255;x[R+1]=cg&255};n.qY=function(x,R,cg){x.sL(R,4);n.$R(x.data,R,cg)};
n.Iy=function(x,R){var T=n.wh(x,R),c=n.wh(x,R+2);return T+c*(1/65536)};n.aww=function(x,R,cg){var T=Math.floor(cg),c=Math.floor((cg-T)*65536);
n.$R(x,R,T);n.$R(x,R+2,c)};n.zY=function(x,R){return x[R+1]<<8|x[R]};n.mO=function(x,R,cg){x[R+1]=cg>>8&255;
x[R]=cg&255};n.lr=function(x,R,cg){x.sL(R,4);n.mO(x.data,R,cg)};n.Z8=function(x,R){n.PL[0]=x[R+1];n.PL[1]=x[R];
return n.ui[0]};n.p9=function(x,R){n.PL[0]=x[R];n.PL[1]=x[R+1];return n.ui[0]};n.x0=n.$R;n.T1=n.qY;n.yr=function(x,R){n.PP[0]=x[R+3];
n.PP[1]=x[R+2];n.PP[2]=x[R+1];n.PP[3]=x[R];return n.VX[0]};n.kp=function(x,R,cg){n.VX[0]=cg;x[R+3]=n.PP[0];
x[R+2]=n.PP[1];x[R+1]=n.PP[2];x[R+0]=n.PP[3]};n.G0=function(x,R,cg){x.sL(R,4);n.kp(x.data,R,cg)};n.WD=function(x,R,T,c){T[c+0]=x[R+0];
T[c+1]=x[R+1];T[c+2]=x[R+2];T[c+3]=x[R+3]};n.pJ=function(x,R){n.WD(x,R,n.PP,0);return n.adV[0]};n.ml=function(x,R,cg){n.adV[0]=cg;
n.WD(n.PP,0,x,R)};n.yo=function(x,R,cg){x.sL(R,4);n.ml(x.data,R,cg)};n.LZ=function(x,R){n.WD(x,R,n.PP,0);
return n.VX[0]};n.aCO=function(x,R,cg){n.VX[0]=cg;n.WD(n.PP,0,x,R)};n.a9J=function(x,R,cg){x.sL(R,4);
n.aCO(x.data,R,cg)};n.s=function(x,R){var T=x[R]*(256*256*256)+(x[R+1]<<16|x[R+2]<<8|x[R+3]);return T};
n.W_=function(x,R,cg){x[R]=cg>>24&255;x[R+1]=cg>>16&255;x[R+2]=cg>>8&255;x[R+3]=cg>>0&255};n.pe=function(x,R,cg){x.sL(R,4);
n.W_(x.data,R,cg)};n.UO=function(x,R){return n.s(x,R)<<32|n.s(x,R+4)};n.awx=function(x,R,cg){n.W_(x,R,cg>>16>>16);
n.W_(x,R+4,cg&4294967295)};n.BI=function(x,R,cg){x.sL(R,8);n.awx(x.data,R,cg)};n.nP=function(x,R){var T=new Uint8Array(8);
for(var z=0;z<8;z++)T[z]=x[R+7-z];var c=new Float64Array(T.buffer);return c[0]};n.ey=function(x,R){var T=new Uint8Array(8);
for(var z=0;z<8;z++)T[z]=x[R+z];var c=new Float64Array(T.buffer);return c[0]};n.p1=function(x,R,cg){var T=new Float64Array(1);
T[0]=cg;var c=new Uint8Array(T.buffer);for(var z=0;z<4;z++){var g=c[z];c[z]=c[7-z];c[7-z]=g}for(var z=0;
z<8;z++)x[R+z]=c[z]};n.Hu=function(x,R,cg){x.sL(R,8);n.p1(x.data,R,cg)};n.Ky=function(x,R){n.PP[0]=x[R+3];
n.PP[1]=x[R+2];n.PP[2]=x[R+1];n.PP[3]=x[R+0];return n.$Z[0]};n.AT=function(x,R){n.PP[0]=x[R+0];n.PP[1]=x[R+1];
n.PP[2]=x[R+2];n.PP[3]=x[R+3];return n.$Z[0]};n.$c=function(x,R,cg){n.$Z[0]=cg;x[R+0]=n.PP[3];x[R+1]=n.PP[2];
x[R+2]=n.PP[1];x[R+3]=n.PP[0]};n.a28=function(x,R,cg){x.sL(R,4);n.$c(x.data,R,cg)};n.IE=function(x,R,cg){n.$Z[0]=cg;
x[R+0]=n.PP[0];x[R+1]=n.PP[1];x[R+2]=n.PP[2];x[R+3]=n.PP[3]};n.auG=function(x,R,cg){x.sL(R,4);n.IE(x.data,R,cg)};
n.apU=function(x,R){var T=n.yr(x,R),c=T*(1/(1<<24));return c};n.a6z=function(x,R,T){var c=Math.floor(T*(1<<24));
n.kp(x,R,c)};n.awD=function(x,R,T){x.sL(R,4);n.a6z(x.data,R,T)};n.ZV=function(x,R){var T=x[R],c=n.zQ(x,R+1,T);
T+=1-T%2;return{vq:c,length:T+1}};n.a4p=function(x,R,T){var c=T.length;x[R]=c;n.vW(x,R+1,T);if(c%2==0){x[R+1+c]=0;
++c}return c+1};n.ew=function(x,R,T){x.sL(R,T.length+2);return n.a4p(x.data,R,T)};n.Rp=function(x,R){var T=new gP;
T.Y=n.nP(x,R+0*8);T.J=n.nP(x,R+1*8);T.zI=n.nP(x,R+2*8);T.jR=n.nP(x,R+3*8);T.a4=n.nP(x,R+4*8);T.rY=n.nP(x,R+5*8);
return T};n.Hs=function(x,R,T){n.p1(x,R+0*8,T.Y);n.p1(x,R+1*8,T.J);n.p1(x,R+2*8,T.zI);n.p1(x,R+3*8,T.jR);
n.p1(x,R+4*8,T.a4);n.p1(x,R+5*8,T.rY)};n.amZ=function(x,R,T){x.sL(R,48);n.Hs(x.data,R,T)};n.ajl=function(x,R){var T=n.Ky(x,R),c=n.Ky(x,R+4),g=n.Ky(x,R+8),d=n.Ky(x,R+12);
return new aP(T,c,g-T,d-c)};n.a0v=function(x,R,T){n.$c(x,R,T.x);n.$c(x,R+4,T.y);n.$c(x,R+8,T.x+T.m);
n.$c(x,R+12,T.y+T.e)};n.aqv=function(x,R,T){x.sL(R,16);n.a0v(x.data,R,T)};n.v7=function(x,R){var T=n.yr(x,R),c=n.yr(x,R+4),g=n.yr(x,R+8),d=n.yr(x,R+12);
return new aP(c,T,d-c,g-T)};n.amU=function(x,R,T){n.kp(x,R,T.y);n.kp(x,R+4,T.x);n.kp(x,R+8,T.y+T.e);
n.kp(x,R+12,T.x+T.m)};n.qZ=function(x,R,T){x.sL(R,16);n.amU(x.data,R,T)};n.dI=function(x,R,T){var c=new Uint8Array(T);
for(var z=0;z<T;z++)c[z]=x[R+z];return c};n.a1h=function(x,R,T){x.set(T,R)};n.vU=function(x,R,T){x.sL(R,T.length);
n.a1h(x.data,R,T)};n.a47=function(x,R,T,cg){if(!cg)cg=1;for(var z=0;z<cg;z++)x[R+z]=T};n.BV=function(x,R,T,cg){if(!cg)cg=1;
x.sL(R,cg);n.a47(x.data,R,T,cg)};n.ui=new Int16Array(1);n.PL=new Uint8Array(n.ui.buffer);n.VX=new Int32Array(1);
n.adV=new Uint32Array(n.VX.buffer);n.PP=new Uint8Array(n.VX.buffer);n.$Z=new Float32Array(n.VX.buffer);
function a3(){}a3.eE=function(x,R){var T=new Uint8Array(x),c=0,g=n.zQ(T,c,9),e=4,N=100;c+=9;var d=n.zQ(T,c,4);
c+=4;c++;R.m=n.s(T,c);c+=4;R.e=n.s(T,c);c+=4;var U=n.s(T,c);c+=4;if(U!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(d)==-1){N=n.s(T,c);c+=4;if(parseInt(d.slice(1))>=7){N=N}else alert("Unknown XCF version: "+d);
e=8}var l={};c=a3.Xf(T,c,l);var J=[];c=a3.jj(T,c,J,e);var w=[];c=a3.jj(T,c,w,e);R.EH=0;for(var z=0;z<J.length;
z++)a3.aye(T,J[z],R,l,e,N);while(R.EH>0){R.R.push(R.Sw());R.EH--}R.R.reverse();delete R.EH;R.buffer=u.B(R.m*R.e*4);
if(R.R.length==0)console.log("No layers!!!");for(var z=0;z<w.length;z++){var s=a3.a85(T,w[z],l,e,N);
if(s.n8[ec.aC_])R.u={channel:s.Po,rect:new aP(0,0,R.m,R.e)}}};a3.aye=function(x,R,T,c,g,d){var U=T.CH(),e=n.s(x,R),w=0;
R+=4;var N=n.s(x,R);R+=4;U.rect=new aP(0,0,e,N);var l=n.s(x,R);R+=4;var J=n.rv(x,R);R+=J.tB;U.Je(J.Kt);
var s={};R=a3.Xf(x,R,s);if(s[ec.ay5]){var o=s[ec.ay5];w=o.length/4-1}if(s[ec.Hn]){U.rect.x=n.yr(s[ec.Hn],0);
U.rect.y=n.yr(s[ec.Hn],4)}if(s[ec.akx]){U.opacity=n.s(s[ec.akx],0)}if(s[ec.avN]){U.add.lsct=ew.bZ;U.Yn=24}if(s[ec.avn]){var V=n.s(s[ec.avn],0);
U.mh=ec.ay3[V];if(U.NW()&&U.mh=="norm")U.mh="pass"}if(s[ec.a81]){if(n.s(s[ec.a81],0)==0)U.Yn+=2}if(s[ec.ais]){var a=n.s(s[ec.ais],0);
U.add.lsct=a&1==1?ew.bZ:ew.qW}if(s[ec.uc]){var O=s[ec.uc];for(var S in O){var L=O[S];if(S=="gimp-text-layer"){var Q=a3.az8(L),b=Q.text,Z=Q.font,I=Q.color,y=Q["font-size"];
if(b==null&&Q.markup){var r=new DOMParser,h=r.parseFromString(Q.markup,"image/svg+xml");while(h.firstChild!=null&&h.firstChild.tagName!=null){h=h.firstChild;
var k=h.getAttribute("font"),K=h.getAttribute("foreground"),H=h.getAttribute("size");if(k!=null)Z=k;
if(K!=null){K=CSS.oT(K);I=[1,K.o/255,K.A/255,K.J/255]}if(H!=null){y=""+parseFloat(H)/245}}b=h.textContent}U.add.lnsr="rend";
U.add.TySh=bL.Zk(0,0);U.add.TySh.ij=new aP(0,0,100,100);U.add.TySh.i=new gP(1,0,0,1,U.rect.x,U.rect.y);
var p=U.add.TySh.pM;bL.nw(p,0,b);var f=bL.ge(p,0,0),A=Q.justify,_=Q["line-spacing"];if(I)f.Ba.FillColor={Type:1,Values:[1,parseFloat(I[1]),parseFloat(I[2]),parseFloat(I[3])]};
if(y){y=Math.round(parseFloat(y));f.Ba.FontSize=y;U.add.TySh.i.rY+=Math.min(17,y*.17)}if(_){_=Math.round(parseFloat(_)+f.Ba.FontSize*1.2);
f.Ba.Leading=_;f.Ba.AutoLeading=!1}if(A)f.qi.Justification=["left","right","center","fill"].indexOf(A);
if(Z&&Z!="Sans-serif"){var W=Z.toLowerCase(),Y="bold italic semi extra regular condensed light".split(" "),G=W.length;
for(var z=0;z<Y.length;z++){var i=W.indexOf(Y[z]);if(i!=-1&&i<G&&W[i-1]==" ")G=i}if(G!=W.length)Z=Z.slice(0,G-1).split(" ").join("")+"-"+Z.slice(G).split(" ").join("");
bL.EF(f,Z)}bL.T3(p,0,b.length,f);var E=Q["box-width"],$=Q["box-height"],C=E?parseFloat(E):U.rect.m,B=$?parseFloat($):U.rect.e;
bL.vo(p,1);bL.RO(p,[0,0,Math.ceil(C),Math.ceil(B)])}else console.log("Unknown property "+S)}}while(T.EH>w){T.R.push(T.Sw());
T.EH--}T.EH=w;if(U.add.lsct==ew.bZ||U.add.lsct==ew.qW)T.EH++;var M=g==4?n.s:n.UO,j=M(x,R);R+=g;var P=M(x,R);
R+=g;if(U.iZ()){U.buffer=u.B(U.rect.Z()*4);var t=new u.IV(U.rect.Z());a3.atx(x,j,t,c,g,d);u.dZ(t,U.buffer)}if(P!=0){U.F=new F.Wu;
var q=a3.a85(x,P,c,g,d);U.F.channel=q.Po;U.F.rect=U.rect.clone();if(s[ec.aiE])U.F.isEnabled=n.s(s[ec.aiE],0)==1;
U.F.color=U.F.channel[0];U.F.mu()}if(U.NW())U.rect=new aP;T.R.push(U)};a3.az8=function(x){var R="("+n.KW(x,0,x.length-1)+")",T=[],c={};
a3.anC(R,1,T);a3.a1G(T,c);return c};a3.a1G=function(x,R){for(var z=0;z<x.length;z++){var T=x[z],c=T[0];
if(T.length==2)R[c]=T[1];else R[c]=T.slice(1)}};a3.anC=function(x,R,T){while(!0){if(R>=x.length)throw"e";
var c=x.charAt(R);R++;if(c=="("){var g=[];R=a3.anC(x,R,g);T.push(g)}else if(c==" "||c=="\n"||c=="\r"){}else if(c==")")return R;
else if(c=="\""){var d=R;while(!0){var U=x[R];R++;if(U=="\"")break;if(U=="\\")R++}T.push(JSON.parse(x.slice(d-1,R)))}else{var d=R-1;
while(x[R]!=" "&&x[R]!=")")R++;T.push(x.slice(d,R))}}};a3.a85=function(x,R,T,c,g){var d=n.s(x,R);R+=4;
var U=n.s(x,R);R+=4;var e=n.rv(x,R);R+=e.tB;var N={};R=a3.Xf(x,R,N);var l=new u.IV(d*U),J=c==4?n.s:n.UO,w=J(x,R);
R+=c;a3.atx(x,w,l,T,c,g);return{Po:l.o,n8:N}};a3.atx=function(x,R,T,c,g,d){var U=n.s(x,R);R+=4;var e=n.s(x,R);
R+=4;var N=n.s(x,R);R+=4;var l=g==4?n.s:n.UO,J=l(x,R);R+=g;a3.akl(x,J,T,c,N,g,d)};a3.akl=function(x,R,T,c,g,d,U){var e=n.s(x,R),J=0,z=0;
R+=4;var N=n.s(x,R);R+=4;var l=new aP(0,0,e,N);if(U==100||U==150)J=1;else if(U==200||U==250)J=2;else if(U==300||U==350)J=4;
else if(U==500||U==550)J=2;else if(U==600||U==650)J=4;else if(U==700||U==750)J=8;else{alert("unsupported bit depth "+U);
throw"e"}var w=g/J,J=Math.round(g/w),s=[];R=a3.jj(x,R,s,d);var o=new u.IV(64*64*J),V=new aP,a=c[ec.aBr][0],O=[o.o,o.A,o.J,o.Y];
if(w==3)o.Y.fill(255);var S=Date.now();if(s.length!=0)for(var L=0;L<N;L+=64)for(var Q=0;Q<e;Q+=64){var b=Math.min(e-Q,64),Z=Math.min(N-L,64),I=b*Z;
V.LR(Q,L,b,Z);a3.azi(x,s[z++],I*J,a,w,O);if(U==100||U==150){}else if(U==250){for(var y=0;y<w;y++){var r=O[y];
for(var h=0;h<I;h++){var k=r[h]<<8|r[I+h];r[h]=Math.min(k>>>8,255)}}}else if(U==600){var K=a3.ano(),H=new Uint32Array(1),p=new Float32Array(H.buffer);
for(var y=0;y<w;y++){var r=O[y];for(var h=0;h<I;h++){H[0]=r[h]<<24|r[I+h]<<16|r[(I<<1)+h]<<8|r[(I<<1)+I+h]<<0;
var f=p[0];if(f<0)f=0;else if(f>1)f=1;r[h]=K[~~(.5+f*1e3)]}}}else console.log("unknown data format",U);
u.BZ(o,V,T,l)}};a3.ano=function(){var x=a3.al_;if(x!=null)return x;x=a3.al_=new Uint8Array(1001);for(var z=0;
z<1001;z++)x[z]=~~(.49+255*u.DW(z*.001));return x};a3.azi=function(x,R,T,c,g,d){if(c==1){for(var U=0;
U<g;U++){var e=d[U],N=0;while(N<T){var cg=x[R];R++;if(cg<127){var l=x[R];R++;cg++;for(var z=0;z<cg;z++)e[N+z]=l}else if(cg==127){var J=x[R];
R++;var w=x[R];R++;var l=x[R];R++;cg=J<<8|w;for(var z=0;z<cg;z++)e[N+z]=l}else if(cg==128){var J=x[R];
R++;var w=x[R];R++;cg=J<<8|w;for(var z=0;z<cg;z++)e[N+z]=x[R+z];R+=cg}else{cg=256-cg;for(var z=0;z<cg;
z++)e[N+z]=x[R+z];R+=cg}N+=cg}}}else if(c==2){var s=pako.inflate(x.slice(R)),o=Math.round(s.length/T);
for(var z=0;z<T;z++){var V=z*o;d[0][z]=s[V];d[1][z]=s[V+1];d[2][z]=s[V+2];d[3][z]=o==3?255:s[V+3]}}else alert("Unknown compression "+c)};
a3.jj=function(x,R,T,c){var g=c==4?n.s:n.UO;while(!0){var d=g(x,R);R+=c;if(d==0)break;else T.push(d)}return R};
a3.Xf=function(x,R,T){while(!0){var c=n.s(x,R);R+=4;var g=n.s(x,R);R+=4;if(c==ec.avK)break;else if(c==ec.uc)T[c]=a3.a0P(x,R,R+g);
else T[c]=n.dI(x,R,g);R+=g}return R};a3.a0P=function(x,R,T){var c={};while(R<T){var g=n.rv(x,R);R+=g.tB;
var d=n.s(x,R);R+=4;if(d!=1)console.log("unknown flags",d);var U=n.s(x,R);R+=4;c[g.Kt]=n.dI(x,R,U);R+=U}return c};
var ec={avK:0,avL:1,a42:2,aze:3,aC_:4,a0L:5,akx:6,avn:7,a81:8,alb:9,ag4:10,aiE:11,aea:12,asV:13,arF:14,Hn:15,ahc:16,aBr:17,a9P:18,anJ:19,alu:20,uc:21,alx:22,a1r:23,ay1:24,awh:25,abg:26,a1g:27,adw:28,avN:29,ay5:30,ais:31,ayn:32,agO:33,atz:34,aeu:35,awX:36,agc:37,a6$:38,axB:0,aaX:1,auy:2,aCN:3,aso:1,a4$:2,aAZ:0,agy:1,aj1:1};
ec.ay3="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var ir=function(){var x=!1,R,T,S=0,b;function c(){var y=n.zQ(R,T,4);T+=4;return y[3]+y[2]+y[1]+y[0]}function g(){var y=n.zQ(R,T,4);
T+=4;return y}function d(){var y=R[T];T+=1;return y}function U(){var y=n.zY(R,T);T+=2;return y}function e(){var y=n.pJ(R,T);
T+=4;return y}function N(){var y=n.LZ(R,T);T+=4;return y}function l(){var y=n.pJ(R,T);T+=8;return y}function J(){var y=n.AT(R,T);
T+=4;return y}function w(){var y=n.ey(R,T);T+=8;return y}function s(){var y=n.zY(R,T),r=n.KW(R,T+2,y);
T+=2+y;return r}function o(){var y=n.pJ(R,T),r=n.KW(R,T+4,y);T+=4+y;return r}function V(y){T=y;var r=[];
while(T!=0){var h=g();if(h!="#FT4"&&h!="#FT3"&&h!="#FT2")throw h;var k=l(),K=l(),H=l(),p=l(),f=l(),A=e(),_=e(),W=e(),Y=U(),G=d(),i={};
r.push(i);for(var z=0;z<A;z++){var E=e(),$=d();if($!=0&&$!=1&&$!=2)throw $;var C=[];if($==0||$==1){var B=l(),M=l(),j=l(),P=e(),t=d(),q=e(),m=h!="#FT4"?0:e(),iE=null;
if(h=="#FAT"||h=="#FT2"){switch(t){case 1:t=1;break;case 2:t=65;break;case 3:t=129;break;case 4:t=193;
break;default:t=0;break}}if($==0)iE=s();C=[B,M,j,t,iE]}i["i"+E]=[$,C]}for(var z=0;z<Y;z++){var hV=U(),dD=U(),bh=l(),ho=n.zQ(R,T,hV);
T+=hV}T=k}r.reverse();for(var aH=1;aH<r.length;aH++){var i=r[aH],f2=r[aH]=JSON.parse(JSON.stringify(r[aH-1]));
for(var e9 in i){var kB=i[e9];if(kB[0]==0)f2[e9]=kB;else if(kB[0]==1){kB[1][4]=f2[e9][1][4];f2[e9]=kB}else if(kB[0]==2)delete f2[e9]}}var ct=r.pop(),jF=[];
for(var e9 in ct)jF.push(ct[e9][1]);jF.sort(function(fj,ab){return fj[0]-ab[0]});return jF}function a(y,r,h,k){while(T<R.length){var K=d(),A=null;
if(K==0){if(k){var H=d();if(H!=2){var p=c()}if(H==0)T+=4;k=!1;continue}else{break}}var f=c();if(x)console.log("  ".repeat(r),K,K&127,f,y._type);
if(K>127)A=O(K,r,h);else A=L(K,r,h);if(x)console.log("  ".repeat(r),A);y[f]=A}}function O(y,r,h){var k=[];
y=y&127;if(y==43)T+=4;var K=e();if(y==50){var H=c(),p=U();if(p!=1)throw"e";for(var z=0;z<K;z++){var f={_status:"NotShared",_type:H};
k.push(f);var A=d();if(A!=1)throw A;a(f,r+1,h)}}else if(y==41){if(K>8)throw K;for(var z=0;z<K;z++)k.push((R[T]>>>z&1)==1);
T++}else for(var z=0;z<K;z++){k.push(L(y,r,h,z!=0));if(y==42)y=2}return k}function L(y,r,h,k){var K=null;
if(y==49){K={};var H=d();if(H!=0){var p=e();if(h==null){K._id=p;K._status=["Shared","Link"][H-1]}if(h&&H==2)K=h[p];
if(H==1){if(h)h[p]=K;var f=d(),A=!1;if(f>1)throw f;K._type=c();if(x)console.log("  ".repeat(r),"new",K._type,f,T);
if(f==0){while(!0){var _=U();if(_!=0&&_!=1&&_!=2&&_!=3&&_!=4)throw _;if(R[T]!=0){A=!0;break}var W=U();
if(W==512)break;var Y=c();if(W==256)break}}a(K,r+1,h,A)}}}else if(y==50){K={_status:"NotShared"};if(d()==1){K._type=c();
T+=2;a(K,r+1,h)}}else if(y==1)K={type:"byte",value:d()};else if(y==2)K={type:"uint16",value:U()};else if(y==3)K={type:"uint32",value:e()};
else if(y==4)K={type:"uint64",value:l()};else if(y==7)K={type:"int32",value:N()};else if(y==8)K={type:"int64",value:l()};
else if(y==9)K={type:"float32",value:J()};else if(y==10)K={type:"float64",value:w()};else if(y==21)K={type:"Vec2i",value:[e(),e()]};
else if(y==23)K={type:"Vec4i",value:[e(),e(),e(),e()]};else if(y==33)K={type:"Vec4f",value:[J(),J(),J(),J()]};
else if(y==36)K={type:"Vec2",value:[w(),w()]};else if(y==38)K={type:"Vec4",value:[w(),w(),w(),w()]};
else if(y==40)K={type:"Vec6",value:[w(),w(),w(),w(),w(),w()]};else if(y==41)K={type:"bool",value:d()!=0};
else if(y==42)K={type:"Enum",value:e()};else if(y==43)K={type:"string",value:o()};else if(y==44){if(k!=!0)S=U();
K={type:"curv16",value:[w(),S==12?[d(),d(),d(),d()]:[e(),e()]]}}else if(y==45){var G=e();K={type:"buff",value:R.slice(T,T+G)};
T+=G}else if(y==47){K={type:"uint32",value:e()}}else if(y==48){var i=[],E=U();if(E!=1)throw E;while(!0){if(R[T]==135){var $=O(d(),r+1,h),C=O(d(),r+1,h),B=O(d(),r+1,h);
i.push([$,C,B])}else{var M=1;if(R[T]==3){d();M=e()}for(var z=0;z<M;z++){if(d()!=41)throw"e";var p=d();
if(p!=0&&p!=1)throw p;if(d()!=172)throw"e";var j=e(),P=U(),t=[];i.push(t);if(P!=18)throw P;if(j>4e3)throw j;
for(var q=0;q<j;q++)t.push([w(),w(),d(),d()])}}if(R[T]==0){T++;break}}K={type:"curve",value:i}}else if(y==51){K={type:"EmbeddedData"};
K[c()]=o()}else if(y==52)K={type:"uint32",value:e()};else if(y==56)K={type:"Color32",value:[d(),d(),d(),d()]};
else if(y==60)K={type:"ColorGRAY",value:[J(),J()]};else if(y==68)K={type:"ColorRGBA",value:[J(),J(),J(),J()]};
else if(y==72)K={type:"ColorCMYK",value:[J(),J(),J(),J(),J()]};else{throw y}return y==49||y==50||y==51?K:K.value}function Q(y){var r=0,h=y.length;
for(var z=0;z<h;z++)y[z]=r=r+y[z]&255}function Z(y){R=y;T=4;var r=e(),h=g();if(h!="nsrP")throw h;var h=g();
if(h!="#Inf")throw h;var k=l();b=l();var K=l(),H=l(),p=l(),f=e(),A=e(),h=g();if(h!="Prot")throw h;var f=e(),_=V(k),W={},Y=Date.now();
for(var G=0;G<_.length;G++){var i=_[G],E=i[3],j=null;T=i[0];var h=g();if(h!="#Fil")throw h;var $=E>>>5&1,C=E&3,B=E&192;
switch(B){case 64:B=1;$=0;break;case 128:B=2;break;case 192:B=3;break;default:B=0;$=0}var M=new Uint8Array(R.buffer,T,i[2]);
if(C==0)j=M;else if(C==1)j=pako.inflate(M);else if(C==2)j=dp.dt.PA(M,i[1]);else throw C;if($==0){if(B==1)Q(j);
if(B==2)throw"e"}else throw $;W[i[4]]=j}return W}function I(y){var r=Z(new Uint8Array(y));R=r["doc.dat"];
T=16;var h={};a(h,0,[]);return[r,h,b]}return{atf:I}}();function av(){}av.eE=function(){function x(o,V){var a=Date.now(),O=ir.atf(o),S=O[0],L=O[1],Q=O[2],b=L.DocR,Z=b.DfSz,I=b.Chld;
if(I.length!=1)console.log(I);var y=I[0],r=y.SprB;I=y.Chld;V.m=~~r[2];V.e=~~r[3];V.buffer=u.B(V.m*V.e*4);
var h=[0,{}];for(var z=0;z<I.length;z++)g(I[z],V,S,new gP,h,0);V.MH(h[0]);console.log(Date.now()-a,"Document created");
a=Date.now()}function R(o){return new gP(o[0],o[3],o[1],o[4],o[2],o[5])}function T(o,V){var a=V.Xfrm;
a=a?R(a):new gP;a.concat(o);return a}function c(o){var V={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[o];
return V?V:"norm"}function g(o,V,a,O,S,L){var Q=o._type,b=o.Chld,Z=V.CH();Z.Je(o.Desc==null||o.Desc==""?Q=="Grup"?"Folder":"Layer":o.Desc);
Z.oE(o.Visi);Z.opacity=Math.round(255*o.Opac);if(o.FOpc!=1)Z.add.iOpa=Math.round(255*o.FOpc);var I=o.Blnd;
if(I!=null)Z.mh=c(I);var y=T(O,o),r=Q=="ShpN"||Q=="PCrv";if(b){V.R.push(V.Sw());Z.add.lsct=ew.bZ;Z.mh="pass";
Z.Yn=24;if(Q=="ShpN"){var h=o.ShpB;Z.yc(new aP(h[0]+y.a4,h[1]+y.rY,h[2]-h[0],h[3]-h[1]));S[0]++;Z.add.artb.Clr={t:"Objc",v:u.I.SE({o:255,A:255,J:255})}}for(var z=0;
z<b.length;z++)g(b[z],V,a,y,S,L+1)}else if(Q=="Rstr"||Q=="ImgN"||Q=="MRst"){var k=o.Bitm,K=k.Bckg,H=Date.now(),p;
if(K==null){p=l(k,a,S[1]);Z.rect=p[2].clone();Z.buffer=p[1].slice(0);Z.rect.x+=y.a4;Z.rect.y+=y.rY}if(K||y.Rt()!=1){var f,A=0,_=0;
if(K){var W=a[K.Data],Y=n.KZ(W,"ataD")+4,G=n.pJ(W,Y);Y+=4;f=W.slice(Y,Y+G)}else{A=Z.rect.x-y.a4;_=Z.rect.y-y.rY;
if(p[3]==null)p[3]=new Uint8Array(dp.Ix("PNG").LA([[Z.buffer.buffer]],Z.rect.m,Z.rect.e));f=p[3].slice(0)}var i=V.mk(f,Z.getName(),0,0);
i.Yn=Z.Yn;i.opacity=Z.opacity;Z=i;var E=new gP;E.translate(A,_);E.concat(y);var $=Z.rect.clone();$.x=$.y=0;
var C=u.M.$x($).z;u.M.i(C,E,C);Z.add.SoLd.Trnf=D.gW.db(C);Z.add.SoLd.nonAffineTransform=D.gW.db(C);Z.Ht(V,!1)}}else if(Q=="TxtA"||Q=="TxtF"){Z.add.lnsr="rend";
Z.add.TySh=bL.Zk(0,0);Z.add.TySh.ij=new aP(0,0,100,100);var B=o.TxtH.FrmB,M=1,j=1,P=Z.add.TySh.i=new gP,hV=0;
P.translate(B[0],B[1]);P.concat(y);if(Q=="TxtF"){var t=Math.atan2(-P.J,P.Y);P.rotate(-t);M=P.Y;j=P.jR;
P.jR=P.Y=1;P.rotate(t)}var q=Z.add.TySh.pM,m=o.StSt,iE=m.Blok;if(iE.length!=1)throw"e";for(var dD=0;
dD<iE.length;dD++){var bh=iE[dD],ho=hV,aH=0,f2=bh.Glyp.Utf8;if(f2==null)continue;f2=f2.replace(/\u2028/g,"\n");
f2=f2.replace(/\u2029/g,"\n");f2=f2.slice(0,f2.length-1);if(f2=="")continue;Z.Je(f2.slice(0,255));bL.nw(q,hV,f2);
hV+=f2.length;var e9=bh.GAtt.Runs,kB=bh.PAtt.Runs[0],ct=kB.Item.Ints[0];for(var jF=0;jF<e9.length;jF++){var fj=e9[jF],ab=fj.Indx,iw=fj.Item,jD=iw.Objs,a1=bL.ge(q,ho,1);
a1.qi.Justification=ct==0?0:ct==1?2:1;bL.EF(a1,iw.DFnt.Post);a1.Ba.FontSize=iw.Doub[0];for(var z=0;z<jD.length;
z++){var gd=jD[z];if(gd._type=="FDsc"){var i6=gd.FDeF;if(i6._type=="FilS"){var hv=N(i6.Colr);a1.Ba.FillColor={Type:1,Values:[1,hv[0],hv[1],hv[2]]}}}}bL.T3(q,ho+aH,ho+Math.min(ab,f2.length),a1);
aH=ab}}bL.vo(q,1);bL.RO(q,[0,0,Math.round((B[2]-B[0])*M),Math.round((B[3]-B[1])*j*1.2)]);V.cF=!0}else if(r){Z.Yn|=16;
var hO=Z.add.vstk=fJ.SC.GI(!0),jh=Z.add.vmsk=d(o);u.j.q0(jh.$,y);if(o.BFFl){var aJ=o.BFFl[0].FDeF,hS=aJ._type;
if(hS=="FilS")Z.add.SoCo={classID:"null",Clr:e(aJ.Colr)};else if(hS=="FilG"){var iO=Z.add.GdFl=JSON.parse(fJ.Ck[fJ.order.indexOf("GrFl")]);
U(aJ,iO)}else if(hS=="FilN"){Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:u.I.SE({o:0,A:0,J:0})}};hO.fillEnabled.v=!1}else console.log(hS)}if(o.LILn){var g$=o.LILn[0].LDeL,bF=g$.Wght;
if(bF!=0){hO.strokeEnabled.v=!0;hO.strokeStyleLineWidth.v.val=bF;var aJ=o.LIFl[0].FDeF,hS=aJ._type;if(hS=="FilS")hO.strokeStyleContent.v.Clr=e(aJ.Colr);
else if(hS=="FilN")hO.strokeEnabled.v=!1}}Z.h5();Z.sG(V)}else console.log(Q);var hy=o.AdCh,hL=[];if(hy)for(var z=0;
z<hy.length;z++){var dn=hy[z],c5=dn._type;if(c5=="ShpN"||c5=="PCrv"){var jh=Z.add.vmsk=d(dn),at=T(y,dn);
u.j.q0(jh.$,at);Z.h5();Z.sG(V)}else if(dn.AdjP){var gt=dn.AdjP,iK=gt._type,iz={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[iK];
if(iz==null){console.log(gt);continue}var gI=gm.Xi(iz,{});hL.push(gI);var ce=gI.v.Fltr.v;if(iK=="LevP"){var b7=b9.Eh(ce,0);
b7[0]=gt.OutB*255;b7[1]=gt.OutW*255;b9.v3(ce,0,b7)}else if(iK=="WhBP"){var b7=b9.Eh(ce,2);b7[4]=100+gt.WBTi*20;
b9.v3(ce,2,b7);var b7=b9.Eh(ce,3);b7[4]=100+gt.WBTi*200;b9.v3(ce,3,b7)}else if(iK=="HSSP"){var b7=fu.Eh(ce,0);
b7[0]=Math.round(gt.HueA*256);b7[1]=Math.round(gt.SatA*256);b7[2]=Math.round(gt.LumA*256);fu.v3(ce,0,b7)}else if(iK=="RecP"){ce.Clrz.v=!0;
var b7=fu.Eh(ce,0);b7[0]=Math.round(gt.RecH*100);b7[1]=Math.round(gt.RecS*100);b7[2]=Math.round(gt.RecL*100);
fu.v3(ce,0,b7)}else if(iK=="B&CP"){ce.Brgh.v=Math.round(gt.Brig*100);ce.Cntr.v=Math.round(gt.Ctrs*100-100)}else if(iK=="PosP"){ce.Lvls.v=gt.Post}else if(iK=="VibP"){ce.vibrance.v=gt.Vibr-100;
ce.Strt.v=Math.round(gt.Satu*100)}else if(iK=="ExpP"){ce.Exps.v=gt.Expo;ce.gammaCorrection.v=gt.Gamm/2.2}else if(iK=="ThrP"){ce.Lvl.v=Math.round(gt.Thre*255)}else if(iK=="CrvP"){var br=gt.Mast["Cnt "],kg=gt.Mast.Vals,b7=er.Eh(ce,0),bM=b7[0];
for(var eQ=0;eQ<br;eQ++){var eT=b7[eQ]=JSON.parse(JSON.stringify(bM));eT.v.Hrzn.v=Math.round(kg[eQ]*255);
eT.v.Vrtc.v=Math.round(kg[4+eQ]*255)}er.v3(ce,0,b7)}}else console.log(dn)}if(hL.length!=0&&Z.add.SoLd){Z.add.SoLd.filterFX=gm.Fc();
V.lY({id:Z.add.SoLd.placed.v,rect:new aP,buffer:u.B(1),F:new F.Wu});Z.add.SoLd.filterFX.v.filterFXList.v=hL;
Z.Ht(V,!1)}var b6=o.FiEf;if(b6&&b6.length!=0){var hx=Z.add.lmfx=JSON.parse(fJ.default);for(var z=0;z<fJ.order.length;
z++)hx[fJ.YZ[z]]={t:"VlLs",v:[]};for(var io=0;io<b6.length;io++){var jm=b6[io],bq=jm._type,gO={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[bq],iO=gO?JSON.parse(fJ.Ck[fJ.order.indexOf(gO)]):null;
if(bq=="ColO"){iO.Clr=e(jm.Colr)}else if(bq=="GrdO"){U(jm.GrFl.FDeF,iO)}else if(bq=="Shad"||bq=="InnS"||bq=="OutG"||bq=="InnG"){iO.Clr=e(jm.Colr);
iO.blur.v.val=Math.round(jm.Radi/2.4);if(jm.Offs!=null){iO.Dstn.v.val=jm.Offs;iO.lagl.v.val=Math.round(180-jm.Angl*180/Math.PI);
iO.uglg.v=!1}}else if(bq=="Strk"){iO.Clr=e(jm.Colr);iO.Sz.v.val=Math.round(jm.Radi)}else if(bq=="PhgB"||bq=="BevE"){iO.blur.v.val=Math.round(jm.Radi);
if(bq=="BevE")iO.bvlS.v.BESl="PlEb"}else if(bq=="Gaus"){if(r&&jm.Enab){Z.add.vmsk.Cu=jm.Radi/2.4;Z.add.vmsk.IP=!0;
Z.h5();Z.sG(V)}}if(gO){iO.enab.v=jm.Enab;if(iO.Md&&jm.BlnM!=null)iO.Md.v.BlnM=c_.GM(c(jm.BlnM));if(iO.Opct&&jm.Opac!=null)iO.Opct.v.val=Math.round(jm.Opac*100);
var ae=fJ.YZ[fJ.order.indexOf(gO)];hx[ae].v.unshift({t:"Objc",v:iO})}}}V.R.push(Z)}function d(o){var V=new F.LS,a=o._type;
if(a=="PCrv"){var O=o.Crvs.Data,S=[],L=[];for(var z=0;z<O.length;z++){var Q=O[z],b=Q.length%3;if(b!=1){Q=b==2?Q[0][2]!=0?Q.slice(0,Q.length-1):Q.slice(1):Q.slice(1,Q.length-1)}for(var Z=0;
Z<Q.length;Z++){var I=Q[Z],y=I[2];if(y!=0)S.push(Z==0?"M":"C");L.push(I[0],I[1])}}V.$=u.M.gj({z:L,G:S},!0)}else{var r=o.ShpB,h=o.Shpe,k=h._type,K=r[2]-r[0];
if(k=="ShpE"){V.$=u.j.u1.mR(r[0],r[1],r[2]-r[0],r[3]-r[1])}else if(k=="ShNR"){var H=[0,0,0,0];if(h.CTyp){H=h.ShCR.slice(0);
for(var z=0;z<4;z++)H[z]*=r[2]-r[0]}V.$=u.j.u1.Rect(r[0],r[1],r[2]-r[0],r[3]-r[1],H)}else if(k=="ShpT"){V.$=u.M.gj({G:["M","L","L","Z"],z:[r[0],r[3],r[2],r[3],r[0]+K*.5,r[1]]},!0)}else if(k=="ShTz"){V.$=u.M.gj({G:["M","L","L","L","Z"],z:[r[0]+K*h.PosL,r[1],r[0]+K*h.PosR,r[1],r[2],r[3],r[0],r[3]]},!0)}else{console.log("--",k);
V.$=u.j.u1.Rect(r[0],r[1],r[2]-r[0],r[3]-r[1],[0,0,0,0])}}return V}function U(o,V){var a=o.Grad,O=a.Cols;
V.Type.v.GrdT=o.Type==0?"Lnr":"Rdl";var S=[];for(var z=0;z<O.length;z++){var L=N(O[z]);S.push([a.Posn[z][0],L])}V.Grad.v.Intr.v=0;
u.I.lw(S,V.Grad.v);var Q=a.Posn,b=new cI(Q[0][0],Q[0][1]),Z=new cI(Q[1][0],Q[1][1]);if(o.Type==0)b=new cI((b.x+Z.x)/2,(b.y+Z.y)/2);
u.I.Wz(b,Z,new aP(0,0,1,1),V)}function e(o){var V=N(o);return{t:"Objc",v:u.I.SE({o:V[0]*255,A:V[1]*255,J:V[2]*255})}}function N(o){var V=o._col,a=o._type;
if(a=="HSLA"){var O=u.IK(V[0],V[1],V[2]);return[O.o,O.A,O.J,V[3]]}else if(a=="RGBA")return V;else if(a=="CMYK")return u.qo(V);
else if(a=="GRAY")return[V[0],V[1],V[2]];else{console.log(V);throw a}}function l(o,V,a){var O=o.Frmt,K="";
if(O!=0&&O!=4&&O!=6)throw O;var S=o.BmpW,L=o.BmpH,Q=O==4?5:O==0?4:1,b=Math.ceil(S/256),Z=Math.ceil(L/256),I=new aP(0,0,b,Z),y=new aP;
for(var z=0;z<Q;z++){var r=new Uint8Array(o["Sta"+(z+1)]),h=u.Vn(r,I);y=y.y8(h)}var k=[];for(var z=0;
z<Q;z++){var r=new Uint8Array(o["Sta"+(z+1)]),H=u.B(y.Z());u.gN(r,I,H,y);k[z]=[];for(var p=0;p<H.length;
p++)k[z][p]=H[p];K+=JSON.stringify(k[z])+","+JSON.stringify(o["Idx"+(z+1)])+","}if(a[K]==null){var f=y.m*256,A=y.e*256,_=new Array(Q);
for(var z=0;z<Q;z++){var r=_[z]=new Uint8Array(f*A);J(r,o["Idx"+(z+1)],k[z],V,f,A)}var W=u.B(f*A*4);
if(O==0)u.dZ({o:_[0],A:_[1],J:_[2],Y:_[3]},W);else if(O==4){for(var z=0;z<_[0].length;z++){var Y=z*4,G=_[0][z]*(1/255),i=_[1][z]*(1/255),E=_[2][z]*(1/255),$=_[3][z]*(1/255),C=UDOC.C.cmykToRgb([G,i,E,$]);
W[Y]=C[0]*255;W[Y+1]=C[1]*255;W[Y+2]=C[2]*255;W[Y+3]=_[4][z]}}else{W.fill(255);u.Oj(_[0],W)}var B=new aP(0,0,f,A),M={buffer:W,rect:B};
u.T_(M);a[K]=[M.rect,M.buffer]}var h=a[K][2]=a[K][0].clone();h.x+=y.x*256;h.y+=y.y*256;return a[K]}function J(o,V,a,O,S,L){var Q=0,b=S>>>8,Z=L>>>8;
for(var I=0;I<Z;I++)for(var y=0;y<b;y++){var r=y*256,h=I*256,k=I*b+y,K=h*S+r,H=a[k];if(H<=1)w(o,K,0,S,256,256);
else if(H==2)w(o,K,4294967295,S,256,256);else if(H==4){var p=V[Q];Q++;var f=O[p.Data.DatI],A=p.Rect;
if(A==null)A=[0,0,256,256];w(o,K,0,S,256,256);s(o,(h+A[1])*S+r+A[0],f,A[1]*256+A[0],S,256,A[2]-A[0],A[3]-A[1])}else console.log(H)}}function w(o,V,a,O,S,L){var Q=V+O*L;
for(;V<Q;V+=O){var b=V+S;for(var Z=V;Z<b;Z++){o[Z]=a}}}function s(o,V,a,O,S,L,Q,b){var Z=V+S*b,I=O+L*b;
for(;V<Z&&O<I;V+=S,O+=L){for(var z=0;z<Q;z++)o[V+z]=a[O+z]}}return x}();function fR(){}fR.eE=function(x,R){var T=fR,c=au.parse(x),d=0;
if(c.pages.length>1)console.log(c.pages.length,"pages");var g=[],U=new aP;for(var e=0;e<c.pages.length;
e++){var N=c.pages[e],l=N.layers,J=T.QK(l,e),s=!1;if(J.Z()>8e3*8e3||J.m>3e4||J.e>3e4){T.ann(l,!0);var w=T.QK(l,e);
if(w.Z()>=J.Z())T.ann(l,!1)}J=T.QK(l,e);for(var o=0;o<l.length;o++){var V=l[o];if(T.HZ(V)=="artboard")s=!0}if(!s){console.log("no artboard");
var a={};for(var O in N)a[O]=N[O];a._class="group";N.layers=[a]}g.push(J.clone());if(J.Y3())continue;
J.x=0;J.y=d;d+=J.e+200;U=U.y8(J)}var S={};if(c.foreignSymbols)for(var z=0;z<c.foreignSymbols.length;
z++){var L=c.foreignSymbols[z].symbolMaster;S[L.symbolID]={g4:L}}T.a0k(c.pages,S,R);for(var Q in S){var V=S[Q].g4,b=T.aq9(V.layers)}var Z=fR.tG(U,8192*8192);
R.cF=!0;R.m=Math.round(U.m/Z);R.e=Math.round(U.e/Z);R.buffer=u.B(R.m*R.e*4);R.MH(c.pages[0].layers.length);
R.FA={};R.ZI=[];d=0;for(var e=0;e<c.pages.length;e++){var I=c.pages[e],J=g[e],y=new gP(Z,0,0,Z,J.x,J.y-d);
T.vh(I.layers,R,y,c,S,{},[]);d+=J.e+200}delete R.FA;delete R.ZI;if(Z!=1)alert("File scaled down "+Z+"x");
R.aqn()};fR.ab2=0;fR.HZ=function(x){return x._class?x._class:x.$class};fR.tG=function(x,R){var T=1;while(Math.round(x.m/T)*Math.round(x.e/T)>R||Math.max(Math.round(x.m/T),Math.round(x.e/T))>3e4)T++;
if(T!=1&&!window.confirm("Your image is quite large ("+x.m+" x "+x.e+" px).\n"+"Press OK to scale it down "+T+"x, or Cancel to keep the size."))T=1;
return T};fR.QK=function(x,R){var T=[],c=fR;for(var g=0;g<x.length;g++){var d=x[g],U=c.v7(d.frame);if(R==0||c.HZ(d)=="artboard")T.push(U)}return u.rect.Fh(T)};
fR.ann=function(x,R){var T=[],c=fR;for(var g=0;g<x.length;g++){var d=x[g],U=c.v7(d.frame);U.m+=150;U.e+=150;
T.push(U)}var e=u.rect.Fh(T);u.rect.ao0(T,R);var N=u.rect.Fh(T);if(N.Z()*1.5<e.Z()||e.m>3e4&&N.m<=3e4||e.e>3e4&&N.e<=3e4){alert("Re-arranging artboards");
for(var g=0;g<x.length;g++){var l=T[g],d=x[g],J=d.frame;J.x=l.x;J.y=l.y}}};fR.a0k=function(x,R,T){var c=fR;
for(var g=0;g<x.length;g++){var d=x[g],U=c.HZ(d);if(["page","artboard","group"].indexOf(U)!=-1)c.a0k(d.layers,R,T);
else if(U=="symbolMaster")R[d.symbolID]={g4:d}}};fR.aq9=function(x){var R=fR;for(var T=0;T<x.length;
T++){var c=x[T],g=R.HZ(c),d=null;if(["page","artboard","group"].indexOf(g)!=-1)d=R.aq9(c.layers);if(g=="symbolMaster"||g=="symbolInstance")d=c;
if(d!=null)return d}return null};fR.vh=function(x,R,T,c,g,d,U){var e=fR,N=[];for(var l=0;l<x.length;
l++){var J=x[l],w=J.frame?e.v7(J.frame):null,s=J.style,S="",y=null,r=!1;if(s==null){console.log("no styles")}var o=e.avH(J,T),V=e.HZ(J),a=V=="shapeGroup"||V=="shapePath"||V=="rectangle"||V=="oval"||V=="triangle"||V=="polygon",O=["page","artboard","group"].indexOf(V)!=-1;
if(V=="shapeGroup"){for(var z=0;z<J.layers.length;z++)if(e.HZ(J.layers[z])=="shapeGroup")O=!0}var L=J.exportOptions;
if(L){var Q=L.exportFormats;if(Q==null)Q=L.sizes;if(V!="artboard"&&(Q&&Q.length!=0)){var b=Q[0].scale}}var Z=R.CH();
Z.oE(J.isVisible);var I=J.name;if(!(typeof I=="string"))I=V;Z.Je(S+I.slice(0,250));if(s!=null)y=e.agv(c,R,s,w,o,Z.getName(),a||V=="artboard"||O);
if(V=="rectangle"&&s&&s.fills&&s.fills[0]){var h=s.fills[0];if(h.fillType==4&&h.patternFillType>1&&h.image!=null)r=!0}if(J.shouldBreakMaskChain){while(N.length!=0)e.aw4(N.pop(),R)}if(O){Z.add.lsct=J.layerListExpandedType==2?ew.bZ:ew.qW;
Z.mh="pass";Z.Yn=24;Z.oE(J.isVisible);R.R.push(R.Sw());if(V=="artboard"){var k=w.clone(),K=o.Rt();k.x=-Math.floor(o.a4/K);
k.y=-Math.floor(o.rY/K);k.m=Math.floor(k.m/K);k.e=Math.floor(k.e/K);Z.yc(k);var H=J.backgroundColor,p=H?{o:255*H.red,A:255*H.green,J:255*H.blue}:{o:255,A:255,J:255};
Z.add.artb.Clr={t:"Objc",v:u.I.SE(p)};Z.add.artb.artboardBackgroundType={t:"long",v:4}}e.vh(J.layers,R,o,c,g,d,U)}else if(a&&!r){Z.add.vmsk=new F.LS;
Z.add.vstk=fJ.SC.GI(!0);var f=y!=null&&y.frameFXMulti.v.length==1,A=s?s.fills:null,_=s?e.a7v(c,A,w,o,Z.getName(),R,e.Wj(U,J.do_objectID+"_image")):[];
if(_.length==0){if(f)Z.add.vstk.fillEnabled.v=!1;else Z.add.iOpa=0;Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:u.I.SE({o:0,A:0,J:0})}}}else{var W=_[0],Y=null,G=null;
if(W.type=="SoFi"){Y="SoCo";G=fJ.RV}if(W.type=="GrFl"){Y="GdFl";G=fJ.dc}if(W.type=="patternFill"){Y="PtFl";
G=fJ.lK}if(Y!=null){Z.add[Y]={classID:"null"};for(var z=0;z<G.length;z++){var i=G[z];Z.add[Y][i]=W.b.v[i]}var E=W.b.v.Opct.v.val;
if(f&&E==0)Z.add.vstk.fillEnabled.v=!1;else Z.add.iOpa=Math.round(255*E/100)}}Z.Yn|=16;Z.add.vmsk.$=e.S9(J.layers?J.layers:[J],J.layers?o:T);
var $=s?s.blur:null;if($&&$.isEnabled&&$.type<=1)Z.add.vmsk.Cu=$.radius;if(Z.add.vmsk.$.length==2){console.log("shape with no content:",Z.getName())}if(f){var C=y.frameFXMulti.v[0].v,B=Z.add.vstk,M=s.borders[0];
y.frameFXMulti.v=[];e5.abP(C,B);var j=s.borderOptions,P=s.miterLimit;if(j)fJ.SC.write(B,{lcap:j.lineCapStyle,ljoin:j.lineJoinStyle,dash:j.dashPattern,mlimit:P},1)}Z.h5();
Z.sG(R)}else if(V=="bitmap"||r){if(!r&&J.image==null)continue;var t=r?s.fills[0]:null,q=r?t.image.bdata:J.image.bdata,m=R.mk(q,Z.getName(),0,0);
m.Yn=Z.Yn;Z=m;var $=s?s.blur:null,iE=s?s.colorControls:null;if($||iE){Z.add.SoLd.filterFX=gm.Fc();R.lY({id:Z.add.SoLd.placed.v,rect:new aP,buffer:u.B(1),F:new F.Wu});
var A=Z.add.SoLd.filterFX.v.filterFXList.v;if($){var hV=gm.Xi("GsnB",{});hV.v.enab.v=$.isEnabled;hV.v.Fltr.v.Rds.v.val=$.radius;
A.push(hV)}if(iE){var dD=iE.brightness,bh=iE.contrast,ho=iE.hue,aH=iE.saturation;if(ho!=0||aH!=1){var hV=gm.Xi("hue2",{});
hV.v.enab.v=iE.isEnabled;fu.v3(hV.v.Fltr.v,0,[Math.round(ho*180/Math.PI),Math.round((aH-1)*100),0]);
A.push(hV)}if(dD!=0||bh!=1){var hV=gm.Xi("brit",{});hV.v.enab.v=iE.isEnabled;bh=bh-1;if(bh>0)bh/=2;var f2=hV.v.Fltr.v;
f2.Brgh.v=Math.round(dD*255);f2.Cntr.v=Math.round(bh*255);f2.useLegacy.v=!0;A.push(hV)}}}if(r){var e9=t.patternFillType;
if(e9==3){var kB=Z.rect.m/Z.rect.e,ct=w.m/w.e;if(kB<ct){o.translate(-(w.m*(1-kB/ct))/2,0);o.scale(ct/kB,1)}else{o.translate(0,-(w.e*(1-ct/kB))/2);
o.scale(1,kB/ct)}}}w.x=w.y=0;var jF=u.M.$x(w).z;o.F0();u.M.i(jF,o,jF);Z.add.SoLd.Trnf=D.gW.db(jF);Z.add.SoLd.nonAffineTransform=D.gW.db(jF);
Z.Ht(R,!1)}else if(V=="text"){if(J.attributedString==null)continue;var fj=o.clone(),ab,iw,hv=0;fj.F0();
fj.Y=fj.jR=Math.min(fj.Y,fj.jR);Z.add.lnsr="rend";Z.add.TySh=bL.Zk(0,0);Z.add.TySh.ij=new aP(0,0,w.m,w.e);
Z.add.TySh.i=fj;var jD=J.attributedString;if(jD.archivedAttributedString)jD=jD.archivedAttributedString;
var a1=jD.NSString;if(a1==null)a1=jD.string;if(a1==null)a1="";if(a1["NS.string"])a1=a1["NS.string"];
if(d[J.do_objectID]!=null)a1=d[J.do_objectID];var gd=e.Wj(U,J.do_objectID+"_stringValue");if(gd)a1=gd.value;
if(jD.attributes!=null){ab=[];iw=[];var i6=jD.attributes;for(var z=0;z<i6.length;z++){ab.push(i6[z].length,z);
iw.push(i6[z].attributes)}}else if(jD.NSAttributeInfo==null){ab=[a1.length,0];iw=[jD.NSAttributes]}else{ab=jD.NSAttributeInfo["NS.data"];
iw=jD.NSAttributes;ab=fR.ayE(ab,iw)}for(var z=0;z<ab.length;z+=2)hv+=ab[z];if(hv!=a1.length){while(hv>a1.length){ab[ab.length-2]--;
hv--;if(ab[ab.length-2]==0){ab.pop();ab.pop()}}ab[ab.length-2]+=a1.length-hv}a1=a1.replace(/\u2028/g,"\n");
a1=a1.replace(/\u2029/g,"\n");a1=a1.replace(/\r/g,"\n");var hO=Z.add.TySh.pM;bL.nw(hO,0,a1);if(a1!=""){var jh=J.textBehaviour,aJ=s.textStyle,hS=aJ?aJ.verticalAlignment:0,iO=e.a9G(hO,ab,iw,a1),K=fj.Rt(),g$=bL.ge(hO,0,1),hL=0;
if(g$.Ba.Font){var hy=g$.uY[g$.Ba.Font].Name;if(hy=="FontAwesome"||hy=="Ionicons")iO*=.87}var fg=g$.Ba.AutoLeading?0:g$.Ba.Leading*.6,c5=Math.max(iO,fg)*K,gt=w.m,iK=w.e;
if(jh==0){bL.vo(hO,0);var iz=bL.hy(g$.qi);if(iz==1)hL=gt*K;if(iz==2)hL=gt*K*.5;if(hS==0)c5*=1;else c5*=.9}else{bL.vo(hO,1);
bL.RO(hO,[0,0,Math.round(gt),Math.round(iK)]);if(jh==2&&hS==0)c5=c5*.2;else if(jh==2&&hS==1){c5=K*.5*(iK-g$.Ba.FontSize)}else if(jh==1&&hS==0)c5=c5*.2;
else c5=c5*.35}Z.add.TySh.i.translate(hL,c5)}}else if(V=="symbolInstance"||V=="symbolMaster"){var gI=J.symbolID;
if(d[J.do_objectID])gI=d[J.do_objectID].symbolID;var ce=e.Wj(U,J.do_objectID+"_symbolID");if(ce)gI=ce.value;
if(gI=="")continue;var b7={};for(var i in d)b7[i]=d[i];if(J.overrides)for(var i in J.overrides)b7[i]=J.overrides[i];
var br=U.slice(0);if(J.overrideValues)br=br.concat(J.overrideValues);var kg=g[gI];if(kg==null){console.log("Unknown master master",J.symbolID);
continue}var bM=fR.v7(kg.g4.frame),eQ=bM.m/w.m,eT=bM.e/w.e,b6=o.clone();b6.scale(eQ,eT);Z.add.lsct=ew.qW;
Z.mh="pass";Z.Yn=24;Z.oE(J.isVisible);R.R.push(R.Sw());var hx=kg.g4;if(R.ZI.indexOf(hx)==-1){R.ZI.push(hx);
e.vh(hx.layers,R,b6,c,g,b7,br);R.ZI.pop()}}else if(V=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+V,J);continue}if(s&&s.contextSettings){var io=s.contextSettings,jm=io.blendMode;
if(jm<e.od.length){Z.mh=c_.h$[c_.Dm.indexOf(e.od[jm])];if(O&&Z.mh=="norm")Z.mh="pass"}Z.opacity=Math.round(Z.opacity*io.opacity)}if(y!=null){Z.add.lmfx=y}R.R.push(Z);
if(J.hasClippingMask&&x.length>1){N.push(Z);R.R.push(R.Sw())}}while(N.length!=0)e.aw4(N.pop(),R)};fR.Wj=function(x,R){for(var z=0;
z<x.length;z++)if(x[z].overrideName.startsWith(R))return x[z]};fR.ayE=function(x,R){var T=0,c=[];while(T+1<x.length){var g=x[T];
T++;if(g>127){g+=128*(x[T]-1);T++;if(x[T-1]>127){g+=128*(x[T]-1);T++}}var d=x[T];T++;c.push(g,d)}return c};
fR.a9G=function(x,R,T,c){var g=fR,d=0,J=0,w=0;for(var z=0;z<c.length;z++){var U=c.charCodeAt(z),e=1473<=U&&U<=1479||1488<=U&&U<=1514||1520<=U&&U<=1524,N=1569<=U&&U<=1594||1600<=U&&U<=1749;
if(e||N)d++}var l=d>c.length/2;for(var z=0;z<R.length;z+=2){var s=R[z],Z=14,I="DejaVuSans";if(s==0)continue;
var o=R[z+1],V=T[o],a=bL.ge(x,J,J+s-1),O=V.NSColor;if(O==null){var O=V.MSAttributedStringColorDictionaryAttribute;
if(O==null)O=V.MSAttributedStringColorAttribute;if(O==null)O="0 0 0";else O=[O.red,O.green,O.blue].join(" ")}else if(g.HZ(O)=="MSArchivedColor")O=O.dr+" "+O.dg+" "+O.db;
else if(O.NSRGB){O=O.NSRGB;O=n.zQ(O,0,O.length-1)}else if(O.NSCMYK){O=O.NSCMYK;O=n.zQ(O,0,O.length-1);
O=O.split(" ").map(parseFloat);var S=1-O[0],L=1-O[1],Q=1-O[2],b=1-O[3];O=S*b+" "+L*b+" "+Q*b}else if(O.NSWhite){O="1 1 1"}O=O.split(" ");
a.Ba.FillColor={Type:1,Values:[1,parseFloat(O[0]),parseFloat(O[1]),parseFloat(O[2])]};var y=V.MSAttributedStringFontAttribute;
if(V.NSFont){Z=V.NSFont.NSSize;I=V.NSFont.NSName}else if(y){if(y.attributes){y=y.attributes;Z=y.size;
I=y.name}else{var r=y.NSFontDescriptorAttributes;if(r==null)r=y.UIFontDescriptorAttributes;y=r;Z=y.NSFontSizeAttribute;
I=y.NSFontNameAttribute}if(I==null)I="DejaVuSans"}var w=Math.max(w,Z);a.Ba.FontSize=Math.round(Z);bL.EF(a,I);
var h=V.NSKern;if(h==null)h=V.kerning;if(h!=null)a.Ba.Tracking=Math.round(1e3*h/Z);if(V.NSUnderline!=null)a.Ba.Underline=V.NSUnderline>0;
var k=V.NSStrikethrough;if(k==null)k=V.strikethroughStyle;if(k!=null)a.Ba.Strikethrough=k>0;if(V.MSAttributedStringTextTransformAttribute==1)a.Ba.FontCaps=2;
var K=V.NSParagraphStyle;if(K==null)K=V.paragraphStyle;if(K){var H=K.paragraphSpacing;if(H!=null){a.qi.SpaceAfter=H}var p=K.NSAlignment;
if(p==null)p=K.alignment;if(p!=null){var f=0;if(!1){}else if(p==1)f=1;else if(p==2)f=2;else if(p==4)f=0;
else{f=p;console.log("unknown align",p)}if(l&&f<2)f=1-f;a.qi.Justification=f}var A=K.NSMinLineHeight;
if(A==null)A=K.minimumLineHeight;if(A!=null){a.Ba.AutoLeading=!1;a.Ba.Leading=A}}a.qi._Direction=l?1:0;
bL.T3(x,J,J+s,a);J+=s}return w};fR.agv=function(x,R,T,c,g,d,U){var e=fR,N=JSON.parse(fJ.default),l=!1;
for(var z=0;z<fJ.order.length;z++)N[fJ.YZ[z]]={t:"VlLs",v:[]};var J=T.fills,w=e.a7v(x,J,c,g,d,R);for(var s=0;
s<2;s++){var o=T[["shadows","innerShadows"][s]];if(o==null)continue;var V=["DrSh","IrSh"][s],a=fJ.YZ[fJ.order.indexOf(V)];
for(var z=0;z<o.length;z++){var O=o[z];if(!O.isEnabled)continue;var S=O.contextSettings;if(S&&S.opacity==0||O.color.alpha==0)continue;
var L=JSON.parse(fJ.Ck[fJ.order.indexOf(V)]);N[a].v.unshift({t:"Objc",v:L});l=!0;L.Clr.v=e.oT(O.color);
L.blur.v.val=Math.round(O.blurRadius/g.Rt());var Q=g.clone();Q.a4=Q.rY=0;Q.F0();var b=Q.Wk(new cI(O.offsetX,O.offsetY)),Z=Math.sqrt(b.x*b.x+b.y*b.y);
L.Dstn.v.val=Math.round(Z);L.lagl.v.val=Math.round(Math.atan2(b.y,-b.x)*(180/Math.PI));if(L.layerConceals)L.layerConceals.v=w.length!=0;
e.Hk(O,L)}}var I=T.borders;if(I!=null&&(w.length==0||T.blur==null||!T.blur.isEnabled))for(var z=0;z<I.length;
z++){var y=I[z];if(!y.isEnabled)continue;var L=JSON.parse(fJ.Ck[fJ.order.indexOf("FrFX")]),a=fJ.YZ[fJ.order.indexOf("FrFX")];
N[a].v.unshift({t:"Objc",v:L});l=!0;L.Clr.v=e.oT(y.color);if(y.fillType!=0&&y.gradient){var r=e.am(y.gradient,c,g,d),h=["Type","Angl","Ofst","Scl"];
for(var z=0;z<h.length;z++)L[h[z]]=r[h[z]];L.Grad.v=r.Grad.v;L.PntT.v.FrFl="GrFl"}L.Sz.v.val=Math.round(y.thickness/g.Rt());
L.Styl.v.FStl=["CtrF","InsF","OutF"][y.position];e.Hk(y,L)}for(var z=U?1:0;z<w.length;z++){var k=w[z],a=fJ.YZ[fJ.order.indexOf(k.type)];
N[a].v.unshift(k.b);l=!0}return l?N:null};fR.a7v=function(x,R,T,c,g,d,U){if(R==null)return[];var e=fR,N=[];
for(var z=0;z<R.length;z++)if(R[z].isEnabled)N.push(R[z]);R=N;var l=[];for(var z=0;z<R.length;z++){var J=R[z],w=null,s=null;
if(J.fillType==0){w="SoFi";var o=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);s={t:"Objc",v:o};s.v.Clr.v=e.oT(J.color)}else if(J.fillType==1){w="GrFl";
s={t:"Objc",v:e.am(J.gradient,T,c,g)}}else if(J.fillType==4&&J.image!=null){var V=J.image;if(U)V=U.value;
var a=dp.Xk(V.bdata.buffer);if(a=="fpng")a="png";if(a!=null&&a!="pdf"&&a!="eps"){var O,I=0,y=0,r=0;if(d.FA[V.key])O=d.FA[V.key];
else{var S=dp.Ix(a).x3(V.bdata)[0],L=S.d8.clone();O={};O.id=c9.EW()+"-d71c-11e5-b1ae-a548a96e5f9f";O.name="someImage";
O.NR=[new Uint8Array(S.data),L];d.Ot(O);d.FA[V.key]=O}var Q=O.NR[1],o=JSON.parse(fJ.Ck[fJ.order.indexOf("patternFill")]);
w="patternFill";s={t:"Objc",v:o};var b=J.patternFillType,Z=J.patternTileScale;o.Algn.v=!0;o.Ptrn.v.Idnt.v=O.id;
if(b==0){I=Z*Q.m/Math.min(Q.m,Q.e);y=-c.a4;r=-c.rY}else{I=Math.max(T.m/Q.m,T.e/Q.e);y=-c.a4-(Q.m*I-T.m)/2;
r=-c.rY-(Q.e*I-T.e)/2}o.Scl.v.val=100*I*(1/c.Rt());o.phase.v.Hrzn.v=Math.round(y/c.Rt());o.phase.v.Vrtc.v=Math.round(r/c.Rt())}}else if(J.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",J.fillType);
if(w!=null){e.Hk(J,s.v);l.push({type:w,b:s})}}return l};fR.aov=function(x){var R=fR,T=new aP(0,0,1,1);
x=x.slice(0);while(!0){var c=!1;for(var z=0;z<x.length-1;z++){var g=x[z],d=x[z+1],U=null,e=g.contextSettings;
if(g.fillType==0&&(e==null||e.opacity==1&&e.blendMode==0)&&g.color.alpha==1){var N="norm",l=1,e=d.contextSettings;
if(e){l=e.opacity;N=c_.I3(R.od[e.blendMode])}if(d.fillType==0){U=JSON.parse(JSON.stringify(d));R.ar3(U.color,g.color,U.color,T,N,l)}if(d.fillType==1){U=JSON.parse(JSON.stringify(d));
var J=U.gradient.stops;for(var w=0;w<J.length;w++)R.ar3(J[w].color,g.color,J[w].color,T,N,l)}if(U!=null&&U.contextSettings){var e=U.contextSettings;
e.opacity=1;e.blendMode=0}}if(U!=null){x.splice(z,0,U);c=!0;break}}if(!c||x.length<2)break}return x};
fR.ar3=function(x,R,T,c,g,d){var U=fR,e=u.B(4);U.alV(x,e);var N=u.B(4);U.alV(R,N);u.l.Hy(g,e,c,N,c,c,d);
U.azD(N,T)};fR.alV=function(x,R){R[0]=255*x.red;R[1]=255*x.green;R[2]=255*x.blue;R[3]=255*x.alpha};fR.azD=function(x,R){R.red=x[0]/255;
R.green=x[1]/255;R.blue=x[2]/255;R.alpha=x[3]/255};fR.aw4=function(x,R){x=x.clone();x.Yn=24;x.Je("Mask by "+x.getName());
R.R.push(x);x.add.lsct=ew.bZ;x.add.lyid=R.bQ();delete x.add.lmfx;delete x.add.SoCo;delete x.add.GdFl;
delete x.add.PtFl;delete x.add.iOpa;if(x.add.vmsk)x.add.vmsk.IP=!0;x.h5();x.sG(R);if((x.Yn&16)==16)x.Yn-=16;
if((x.Yn&2)==2)x.Yn-=2;x.mh="pass";x.opacity=255};fR.od="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
fR.am=function(x,R,T,c){T=T.clone();T.F0();T.a4=T.rY=0;var g=T.Rt(),s=0,o=0;T.scale(1/g,1/g);var d=fR,U=JSON.parse(fJ.Ck[fJ.order.indexOf("GrFl")]),e=U.Grad.v;
e.Intr.v=0;if(x==null)return U;var N=x.gradientType,l=d.L3(x.from),J=d.L3(x.to);l.offset(-.5,-.5);J.offset(-.5,-.5);
l=T.Wk(l);J=T.Wk(J);var w=Math.atan2(-(J.y-l.y),J.x-l.x);U.Type.v.GrdT=["Lnr","Rdl","Angl"][N];U.Scl.v.val=100*cI.rE(l,J);
if(N==0){U.Angl.v.val=180/Math.PI*w;U.Scl.v.val=100*cI.rE(l,J);s=(l.x+J.x)/2;o=(l.y+J.y)/2}if(N==1){U.Scl.v.val=200*cI.rE(l,J);
s=l.x;o=l.y}if(N==2){U.Angl.v.val=180/Math.PI*(w-Math.PI/2)}var V=U.Ofst.v;V.Hrzn.v.val=s*100;V.Vrtc.v.val=o*100;
var a=[];for(var z=0;z<x.stops.length;z++){var O=x.stops[z],S=O.color;a.push([O.position,S?[S.red,S.green,S.blue]:[0,0,0],S.alpha])}u.I.lw(a,e);
return U};fR.Hk=function(x,R){var T=fR,c=1,g=x.contextSettings;if(g!=null){R.Md.v.BlnM=T.od[g.blendMode];
c*=g.opacity}else R.Md.v.BlnM=T.od[0];R.enab.v=x.isEnabled;if(R.uglg!=null)R.uglg.v=!1;if(x.color!=null)c*=x.color.alpha;
R.Opct.v.val=Math.round(c*100)};fR.oT=function(x){return u.I.SE(x?{o:x.red*255,A:x.green*255,J:x.blue*255}:{o:0,A:0,J:0})};
fR.S9=function(x,R){var T=fR,c=[{type:6},{type:8,all:0}];for(var g=0;g<x.length;g++){var d=x[g],U=d.booleanOperation,e=0,N=d._class,V=!1;
if(N=="group"||N=="text"||N=="symbolInstance"||N=="slice"){console.log(N+" inside ShapeGroup");continue}if(U==-1)e=0;
else if(U==0)e=1;else if(U==1)e=2;else if(U==2)e=3;else if(U==3)e=0;if(g==0)e=1;var l=fR.v7(d.frame),J=T.avH(d,R),w=d.path?d.path:d,s=[{type:0,length:0,AC:e,$e:2,W5:0,dD:0}],o=w.points;
for(var z=0;z<o.length;z++){var a=o[z],O=T.L3(a.curveTo),S=T.L3(a.point),L=T.L3(a.curveFrom);V=V||a.hasCurveFrom&&!L.X$(S)||a.hasCurveTo&&!O.X$(S)}var Q=[];
if(!V){var b=[],cg=o.length;if(cg==0)continue;for(var z=0;z<cg;z++){Q[z]=o[z].cornerRadius;var a=T.L3(o[z].point);
b.push(a.x,a.y)}J.scale(1/l.m,1/l.e);J.F0();u.M.i(b,J,b);s=u.j.u1.f5(b,Q).slice(2);s[0].AC=e}else{var Z=o.length;
s[0].length=Z;for(var z=0;z<Z;z++){var a=o[z],I=a.curveMode,y=T.L3(a.point);s[1+z]={type:I==2||I==4?1:2,YA:a.hasCurveTo?T.L3(a.curveTo):y.clone(),L:y,VV:a.hasCurveFrom?T.L3(a.curveFrom):y.clone()}}J.scale(1/l.m,1/l.e);
J.F0();u.j.q0(s,J);var Q=[];for(var z=0;z<Z;z++){var a=o[z],I=a.curveMode,r=a.cornerRadius;if(I==1&&r!=0)Q.push(r);
else Q.push(0)}}if(!w.isClosed)for(var z=0;z<s.length;z++)s[z].type+=3;c=c.concat(s);var h=T.HZ(d);if(J.J==0&&J.zI==0){var k=J.a4,K=J.rY,H=k+J.Y,p=K+J.jR,f=[k,K,H,p]}}return c};
fR.avH=function(x,R){var T=R.clone(),c=x.frame?fR.v7(x.frame):null;if(c)T.translate(-c.x-c.m/2,-c.y-c.e/2);
if(x.isFlippedHorizontal)T.scale(-1,1);if(x.isFlippedVertical)T.scale(1,-1);T.rotate(-x.rotation*(Math.PI/180));
if(c)T.translate(c.m/2,c.e/2);return T};fR.L3=function(x){x=x.slice(1,x.length-1).split(",");return new cI(parseFloat(x[0]),parseFloat(x[1]))};
fR.v7=function(x){return new aP(x.x,x.y,x.width,x.height)};fR.amU=function(x){return{_class:"rect",constrainProportions:!1,x:x.x,y:x.y,width:x.m,height:x.e}};
function h$(){}h$.eE=function(x,R){var T=Date.now(),c=h$,g=UZIP.parse(x),d=JSON.parse(n.KW(g.manifest)),U=JSON.parse(n.KW(g["resources/graphics/graphicContent.agc"])).resources,e=[],N=[],l=d.children;
for(var z=0;z<l.length;z++){var J=l[z];if(J.name=="artwork"){var w=J.children;for(var s=0;s<w.length;
s++){var o=w[s],V=JSON.parse(n.KW(g["artwork/"+o.path+"/graphics/graphicContent.agc"])),a=V.children;
if(a.length==0){}else if(a.length==1){if(o["uxdesign#bounds"]){o._node=a[0];e.push(o)}}else{var O=a[0],S=O.transform,L=O.shape;
if(L==null)L={x:0,y:0,width:1e3,height:1e3};if(L.type=="path"){var Q=u.M.CC(Typr.U.SVGToPath(L.path).crds);
L={x:Q.x,y:Q.y,width:Q.m,height:Q.e}}L=JSON.parse(JSON.stringify(L));if(S){L.x+=S.tx;L.y+=S.ty}o["uxdesign#bounds"]=L;
o._node={type:"artboard",artboard:{children:a}};N.push(o)}}}}if(e.length==0)e=N;var b=[],Z=new aP;for(var z=0;
z<e.length;z++){var o=e[z],I=fR.v7(o["uxdesign#bounds"]);b.push(I);Z=Z.y8(I)}var y=fR.tG(Z,8192*8192);
R.cF=!0;R.m=Math.round(Z.m/y);R.e=Math.round(Z.e/y);R.buffer=u.B(R.m*R.e*4);R.MH(e.length);var r=new gP(y,0,0,y,Z.x,Z.y);
R.FA={};for(var z=0;z<e.length;z++){var o=e[z],I=fR.v7(o["uxdesign#bounds"]),h=o._node,k=r.clone(),K=I.clone(),H=k.Rt();
k.translate(-I.x,-I.y);K.x=-Math.floor(k.a4/H);K.y=-Math.floor(k.rY/H);K.m=Math.floor(K.m/H);K.e=Math.floor(K.e/H);
k.translate(I.x,I.y);h$.mZ(h,R,k,U,g,K);var p=R.R[R.R.length-1];p.Je(o.name);p.yc(K);if(z!=e.length-1)p.add.lsct=ew.qW}delete R.FA};
h$.Rp=function(x){if(x==null)return new gP;return new gP(x.a,x.b,x.c,x.d,x.tx,x.ty)};h$.mZ=function(x,R,T,c,g,d){var U=h$,e=x.type,N=x[e],l=x.style,J=U.Rp(x.transform),V,a="none",O,S="none",L,Q;
J.F0();var w=T.clone();w.concat(J);var s=R.CH(),o=x.name;s.Je(o?o.slice(0,250):"Layer");if(x.visible!=null)s.oE(x.visible);
if(l){V=l.stroke;a=V?V.type:"none";O=l.fill;S=O?O.type:"none";L=l.filters;Q=l.clipPath;if(Q&&c.clipPaths[Q.ref])Q=c.clipPaths[Q.ref].children;
else Q=null;if(l.opacity!=null)s.opacity=Math.round(255*l.opacity);if(S=="solid"&&O.color.alpha)s.opacity=Math.round(s.opacity*O.color.alpha);
if(L){s.add.lmfx=U.aoZ(L);for(var z=0;z<L.length;z++)if(L[z].type=="uxdesign#blur"){var b=L[z],Z=b.params,I=Z.brightnessAmount;
if(I==null)I=0;I=Math.abs(I/100);if((b.visible==null||b.visible==!0)&&Z.backgroundEffect)s.opacity=Math.round(s.opacity*(I+(1-I)*Z.fillOpacity))}}if(S=="pattern"&&O.pattern.meta.ux.uid=="")S="none"}if(Q==null&&x.meta&&x.meta.ux&&x.meta.ux.clipPathResources)Q=x.meta.ux.clipPathResources.children;
if(e=="artboard"||e=="group"){if(Q){var y=Q[0],r=y.shape,h=r!=null&&r.type=="rect"&&r.width*r.height>4e6;
if(y.type!="text"&&!h){if(r){var J=U.Rp(y.transform);J.F0();var k=w.clone();k.concat(J);s.add.vmsk=new F.LS;
s.add.vmsk.$=U.S9(r);k=k.clone();k.F0();u.j.q0(s.add.vmsk.$,k);s.h5();s.sG(R)}}else if(!h)alert("Clipping by text has been ignored")}s.add.lsct=ew.bZ;
s.mh="pass";s.Yn=24;if(x.visible!=null)s.oE(x.visible);R.R.push(R.Sw());var K=N.children,H=O;if(H)H=H.color;
if(H)H=H.value;if(O){if(e=="artboard"&&S=="solid"){s.yc(new aP(0,0,10,10));s.add.artb.Clr={t:"Objc",v:u.I.SE({o:H.r,A:H.g,J:H.b})};
s.add.artb.artboardBackgroundType={t:"long",v:4}}else{var p=R.CH();p.Je("BACKGROUND");p.Yn|=16;p.add.vstk=fJ.SC.GI();
p.add.vmsk=new F.LS;p.add.vmsk.$=U.S9({type:"rect",x:d.x,y:d.y,width:d.m,height:d.e});U.yz(O,S,w,d,d,p,R,c,g);
p.h5();p.sG(R);R.R.push(p)}}for(var z=0;z<K.length;z++){h$.mZ(K[z],R,w,c,g,d)}}else if(e=="shape"&&(N.type=="rect"&&(N.r==null||N.r==0)||N.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(N.path)))&&S=="pattern"&&(Math.abs(N.width/N.height-O.pattern.width/O.pattern.height)<.01||l.fill.pattern.meta.ux.scaleBehavior=="fill")){var f=O.pattern,A=f.meta.ux,_=A.uid,W=g["resources/"+_];
if(W==null){console.log(f);return}var Y=R.mk(W,s.getName(),0,0);Y.Yn=s.Yn;Y.opacity=s.opacity;s=Y;var G=u.j.pP(U.S9(N),null),i=u.M.$x(new aP(0,0,f.width,f.height)).z,E=new gP;
E.scale(f.width/G.m,f.height/G.e);if(A.offsetX)E.translate(-A.offsetX*f.width,0);if(A.offsetY)E.translate(0,-A.offsetY*f.height);
w.concat(E);w.F0();u.M.i(i,w,i);s.add.SoLd.Trnf=D.gW.db(i);s.add.SoLd.nonAffineTransform=D.gW.db(i);
s.Ht(R,!1)}else if(e=="shape"){s.Yn|=16;s.add.vstk=fJ.SC.GI();s.add.vmsk=new F.LS;s.add.vmsk.$=U.S9(N);
var G=u.j.pP(s.add.vmsk.$,null),k=w.clone();k.F0();u.j.q0(s.add.vmsk.$,k);var $=u.j.pP(s.add.vmsk.$,null);
if(a=="none"){}else{var C=V.color.value,B,M;B="SoFi";var j=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);
M={t:"Objc",v:j};M.v.Clr.v=u.I.SE({o:C.r,A:C.g,J:C.b});var P=V.align,t=V.cap;if(P==null)P="center";var q=s.add.vstk;
q.strokeEnabled.v=!0;q.strokeStyleLineWidth.v.val=V.width;if(P)q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fJ.SC.tm[["inside","center","outside"].indexOf(P)];
if(t)q.strokeStyleLineCapType.v.strokeStyleLineCapType=fJ.SC.e7[["butt","round","square"].indexOf(t)];
var m=["SoFi","GrFl","patternFill"].indexOf(B),iE=[fJ.RV,fJ.dc,fJ.lK][m];q.strokeStyleContent.v={classID:fJ.SC.af[0]};
var hV=q.strokeStyleContent.v={classID:fJ.SC.af[m]};for(var z=0;z<iE.length;z++)hV[iE[z]]=M.v[iE[z]]}if(L)for(var z=0;
z<L.length;z++)if(L[z].type=="uxdesign#blur"&&L[z].visible){var dD=L[z];s.add.vmsk.Cu=dD.params.blurAmount}U.yz(O,S,w,G,$,s,R,c,g);
s.h5();s.sG(R)}else if(e=="text"&&x.text){var bh=x.text,ho=bh.frame,aH=l.font,f2=l.textAttributes,J=w.clone(),ab=0;
J.F0();s.add.lnsr="rend";s.add.TySh=bL.Zk(0,0);s.add.TySh.ij=new aP(0,0,100,100);s.add.TySh.i=J;var e9=s.add.TySh.pM,kB=bh.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
bL.nw(e9,0,kB);if(kB!=""){var ct=bL.ge(e9,0,1),jF=aH.postscriptName;if(jF==null)jF=aH.family;bL.EF(ct,jF);
ct.Ba.FontSize=Math.round(aH.size);if(O){var C=O.color.value;ct.Ba.FillColor={Type:1,Values:[1,C.r/255,C.g/255,C.b/255]}}if(f2){if(f2.paragraphAlign)ct.qi.Justification=["left","right","center"].indexOf(f2.paragraphAlign);
if(f2.letterSpacing)ct.Ba.Tracking=Math.round(f2.letterSpacing);if(f2.lineHeight){ct.Ba.AutoLeading=!1;
ct.Ba.Leading=Math.round(f2.lineHeight)}}bL.T3(e9,0,kB.length,ct)}var fj=x.meta.ux.rangedStyles;if(fj)for(var z=0;
z<fj.length;z++){var N=fj[z],iw=Math.min(N.length,kB.length-ab);if(z==fj.length-1)iw=kB.length-ab;var ct=bL.ge(e9,ab,ab+iw),jF=N.postscriptName;
if(jF==null)jF=N.family;if(jF!=null)bL.EF(ct,jF);var jD=N.textScript,a1=N.underline,i6=N.fontSize,b=N.fill,hv=N.textTransform;
if(jD&&jD!="none")ct.Ba.FontBaseline=jD=="superscript"?1:2;if(a1!=null)ct.Ba.Underline=a1;if(i6!=null)ct.Ba.FontSize=Math.round(i6);
if(hv!=null)ct.Ba.FontCaps=hv=="uppercase"?2:0;if(hv=="lowercase"){bL.On(e9,ab,ab+iw);bL.nw(e9,ab,kB.slice(ab,ab+iw).toLowerCase())}if(b!=null){var jh=b.value;
ct.Ba.FillColor={Type:1,Values:[1,(jh>>>16&255)/255,(jh>>>8&255)/255,(jh>>>0&255)/255]}}bL.T3(e9,ab,ab+iw,ct);
ab+=iw}if(ho.type=="area"||ho.type=="autoHeight"){var hS=ho.width,iO=ho.height;bL.vo(e9,1);bL.RO(e9,[0,0,hS,iO!=null?iO:hS*2])}}else if(e=="syncRef"){var g$=x.syncSourceGuid,fg=c.meta.ux.symbols,hL=U.pA(fg,g$);
if(hL){var dn=w.clone();dn.concat(U.Rp(hL.transform));h$.mZ(hL,R,dn,c,g,d)}return}else console.log(e,x);
R.R.push(s)};h$.pA=function(x,R){for(var z=0;z<x.length;z++){var T=x[z],c=T.group;if(T.id==R)return T;
if(c){var g=h$.pA(c.children,R);if(g)return g}}return null};h$.S9=function(x){var R=x.type,T=[{type:6},{type:8,all:0}];
if(R=="rect"){var c=x.r,g=x.x,d=x.y,U=x.width,e=x.height;T=u.j.u1.Rect(g,d,U,e,c?c:0)}else if(R=="circle"){var c=x.r;
T=u.j.u1.mR(x.cx-c,x.cy-c,2*c,2*c)}else if(R=="ellipse"){var N=x.rx,l=x.ry;T=u.j.u1.mR(x.cx-N,x.cy-l,2*N,2*l)}else if(R=="path"||R=="compound"){var J=Typr.U.SVGToPath(x.path);
T=u.M.gj({G:J.cmds,z:J.crds},!1)}else if(R=="line"){var w=x.x1,s=x.x2,o=x.y1,V=x.y2;T=u.j.u1.f5([w,o,s,V],0,!0)}else if(R=="polygon"){var a=x.points,O=[];
for(var z=0;z<a.length;z++)O.push(a[z].x,a[z].y);T=T.concat(u.j.u1.f5(O,0,!1).slice(2))}else console.log(R,x);
return T};h$.aoZ=function(x){var R=JSON.parse(fJ.default);for(var z=0;z<fJ.order.length;z++)R[fJ.YZ[z]]={t:"VlLs",v:[]};
for(var z=0;z<x.length;z++){var T=x[z],c=T.type,g=T.params,d=T.visible;if(c=="dropShadow"){var U=fJ.YZ[fJ.order.indexOf("DrSh")],e=JSON.parse(fJ.Ck[fJ.order.indexOf("DrSh")]);
R[U].v.unshift({t:"Objc",v:e});var N=g.dropShadows;if(N.length!=1)throw"e";var l=N[z],J=l.color,w=J.value,s=l.dx,o=l.dy;
e.Clr.v=u.I.SE({o:w.r,A:w.g,J:w.b});e.Opct.v.val=Math.round((J.alpha!=null?J.alpha:1)*100);e.uglg.v=!1;
e.enab.v=d!=null?d:!0;e.lagl.v.val=Math.round(180/Math.PI*Math.atan2(o,-s));e.Dstn.v.val=Math.round(Math.sqrt(s*s+o*o));
e.blur.v.val=Math.round(l.r*2.3)}}return R};h$.yz=function(x,R,T,c,g,d,U,e,N){var l=h$;d.add.vstk.fillEnabled.v=R!="none";
if(R=="none"){d.add.SoCo={classID:"null",Clr:{t:"Objc",v:u.I.SE({o:0,A:0,J:0})}}}else{var J,w,s;if(R=="solid"){var o=x.color.value;
J="SoCo";w=fJ.RV;var V=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);s={t:"Objc",v:V};s.v.Clr.v=u.I.SE({o:o.r,A:o.g,J:o.b})}else if(R=="gradient"){J="GdFl";
w=fJ.dc;var V=JSON.parse(fJ.Ck[fJ.order.indexOf("GrFl")]),a=V.Grad.v,b,Z,I;a.Intr.v=0;var O=x[R],S=O.ref?e.gradients[O.ref]:O.meta.ux.gradientResources,L=["linear","radial","angular"].indexOf(S.type),Q=S.stops;
V.Type.v.GrdT=["Lnr","Rdl","Angl"][L];if(L==0){var b=new cI(O.x1,O.y1),Z=new cI(O.x2,O.y2);b.x=Z.x+.5*(b.x-Z.x);
b.y=Z.y+.5*(b.y-Z.y)}else{var b=new cI(O.cx,O.cy),Z=new cI(O.cx+O.r,O.cy)}I=g;if(O.units=="objectBoundingBox"){var y=new gP(c.m,0,0,c.e,c.x,c.y);
b=y.Wk(b);Z=y.Wk(Z)}var y=l.Rp(O.transform);b=y.Wk(b);Z=y.Wk(Z);y=T.clone();y.F0();b=y.Wk(b);Z=y.Wk(Z);
u.I.Wz(b,Z,I,V);var r=[];for(var z=0;z<Q.length;z++){var h=Q[z],k=h.color,o=k.value,K=k.alpha;if(K==null)K=1;
r.push([h.offset,[o.r/255,o.g/255,o.b/255],K])}u.I.lw(r,a);s={t:"Objc",v:V}}else if(R=="pattern"){J="PtFl";
w=fJ.lK;var V=JSON.parse(fJ.Ck[fJ.order.indexOf("patternFill")]),i;s={t:"Objc",v:V};var H=x[R],p=H.meta.ux,f=p.uid,A=N["resources/"+f].buffer,_=p.flipX,W=p.flipY,Y=f+_+W,G=dp.Xk(A);
if(U.FA[Y])i=U.FA[Y];else{var E=new aP(0,0,H.width,H.height),$;if(E.Y3()||G==null){E=new aP(0,0,1,1);
$=new ArrayBuffer(4)}else{var C=dp.Ix(G);if(C.y0){var B=new c9;C.x3(A,B);$=B.Yr().buffer}else{try{var M=C.x3(A)[0];
$=M.data;E=M.d8}catch(i3){$=new ArrayBuffer(E.Z()*4)}}}i={};i.id=c9.EW()+"-d71c-11e5-b1ae-a548a96e5f9f";
i.name="someImage";i.NR=[new Uint8Array($),E];if(_)u.D.Ke(i.NR[0].slice(0),i.NR[0],E.m,E.e);if(W)u.D.ax7(i.NR[0].slice(0),i.NR[0],E.m,E.e);
U.Ot(i);U.FA[Y]=i}var j=T.clone();j.F0();j.translate(c.x,c.y);var P=c.m,t=c.e,q=i.NR[1].m,m=i.NR[1].e,iE=Math.max(P/q,t/m);
if(p.scale)iE*=p.scale;var hV=new gP;hV.translate(-q/2,-m/2);hV.scale(1/q,1/m);if(p.offsetX!=null)hV.translate(p.offsetX,p.offsetY);
hV.scale(q,m);hV.scale(iE,iE);hV.translate(P/2,t/2);hV.concat(j);e5.abW(i,V,0,0,1e3,hV)}else console.log(R);
if(J!=null){d.add[J]={classID:"null"};for(var z=0;z<w.length;z++){var dD=w[z];d.add[J][dD]=s.v[dD]}}}};
function aV(){}aV.eE=function(x,R,T){if(T&&T[0]==null)T=null;x=new Uint8Array(x);var c,Q=1;if(x[0]==255&&x[1]==254)c=n.Y_(x,2,(x.length>>>1)-1);
else c=n.KW(x,0,x.length);var g=new DOMParser,d=g.parseFromString(c,"image/svg+xml"),U=d.getElementsByTagName("style")[0];
if(U)U=Typr.U.SVG.cssMap(U.textContent);else U={};var e=d.firstChild;while(e.tagName!="svg")e=e.nextSibling;
var N=new aP(0,0,100,100),l=e.getAttribute("viewBox"),J=e.getAttribute("width"),w=e.getAttribute("height"),s=J!=null?parseFloat(J):parseFloat(w),o=w!=null?parseFloat(w):parseFloat(J);
if(l){var V=aV.axE(l);N.x=V[0];N.y=V[1];N.m=V[2];N.e=V[3];if(J!=null){var a=V[2]/V[3],O=s/o;if(O>a){var S=V[3]*O-N.m;
N.x-=S/2;N.m+=S}if(O<a){var L=V[2]/O-N.e;N.y-=L/2;N.e+=L}}}else if(J!=null||w!=null){N.m=s;N.e=o}N=u.M.cJ(N);
while(T&&Math.max(N.m*Q,N.e*Q)<Math.max(T[0],T[1]))Q++;while(T==null&&Math.max(N.m,N.e)*Q>8192)Q*=.5;
R.cF=!0;R.m=~~(N.m*Q);R.e=~~(N.e*Q);var b=new gP(Q,0,0,Q,-N.x*Q,-N.y*Q),Z={U1:aV.b2(e),af5:U,A6:0};aV.ic(d,e.children,R,b,Z,new gP,0);
if(R.R.length==0){var I=R.CH();I.Je("Layer");R.R.push(I)}};aV.axE=function(x){var R=" ";if(x.indexOf(",")!=-1)R=",";
return x.split(R).map(parseFloat)};aV.ic=function(x,R,T,c,g,d,U,e){var N=aV,l=["display","opacity","fill-opacity","filter","clip-path"],J=0;
for(var w=0;w<R.length;w++){var s=R[w],o=s.tagName,V=s.getAttribute("id"),S=13,I=1,h="clip-path",k=null,G=0;
if(V==null)V=s.getAttribute("data-name");var a=N.b2(s,g.af5);for(var O in g.U1)if(l.indexOf(O)==-1&&a[O]==null)a[O]=g.U1[O];
if(a["font-size"])S=N.YH(a["font-size"],S);if(s.getAttribute("dx"))c.a4+=N.YH(s.getAttribute("dx"),S);
if(s.getAttribute("dy"))c.rY+=N.YH(s.getAttribute("dy"),S);var L=N.jh(s);L.concat(c);var Q=s.getAttribute("visibility"),b=a.display,Z=T.CH();
if(Q=="hidden"||b=="none")Z.oE(!1);Z.Je(V!=null?V.split(":::")[0]:"Layer");if(a.opacity)I*=parseFloat(a.opacity);
if(a["fill-opacity"]){var y=parseFloat(a["fill-opacity"]);if(y!=0)I*=y}Z.opacity=Math.round(255*I);if(a["mix-blend-mode"]){var r=c_.Bw.indexOf(a["mix-blend-mode"]);
if(r!=-1)Z.mh=c_.h$[r]}if(s.getAttribute(h)==null)h="mask";if(s.getAttribute(h)!=null||a["clip-path"]){var K=s.getAttribute(h);
if(K==null)K=a["clip-path"];K=K.slice(4,K.length-1);var H=x.getElementById(K.slice(1));if(H){var p=H.children;
k=T.CH();k.Je("Clip-Path"+(V?": "+V:""));k.add.lsct=U<2?ew.bZ:ew.qW;k.mh="pass";k.Yn=24;var f=k.add.vmsk=new F.LS;
T.R.push(T.Sw());var A=[];if(H.getAttribute(h)){var K=H.getAttribute(h);K=K.slice(4,K.length-1);A=x.getElementById(K.slice(1)).children}for(var z=0;
z<p.length;z++){var _=N.jh(p[z]);_.concat(L);var W=N.S9(T,x,p[z],!1).slice(2);u.j.q0(W,_);f.$=f.$.concat(W)}for(var z=0;
z<A.length;z++){var _=N.jh(p[z]);_.concat(L);var W=N.S9(T,x,A[z],!1).slice(2);for(var Y=0;Y<W.length;
Y++)if(W[z].AC!=null)W[z].AC=3;u.j.q0(W,_);f.$=f.$.concat(W)}k.h5();k.sG();U++}}if(a.filter&&a.filter!="none"){var i=a.filter,$,C,B,j=!1,P=!1,t=!1;
i=i.slice(5,i.length-1);var E=x.getElementById(i),M=[0,0,0,.5],q=L.Rt();if(E)for(var z=0;z<E.children.length;
z++){var m=E.children[z];if(m.tagName=="feGaussianBlur"){j=!0;$=parseFloat(m.getAttribute("stdDeviation"))*q}if(m.tagName=="feColorMatrix"){var iE=m.getAttribute("values");
if(iE){iE=iE.split(" ").map(parseFloat);M=[iE[4],iE[9],iE[14],iE[18]]}}if(m.tagName=="feComposite"){t=!0}if(m.tagName=="feOffset"){P=!0;
var hV=m.getAttribute("dx"),dD=m.getAttribute("dy");C=parseFloat(hV?hV:0)*q;B=parseFloat(dD?dD:0)*q}}if(j&&(t||P)){var bh=t?"IrSh":"DrSh";
if(bh=="IrSh"){Z.add.iOpa=0}var ho=JSON.parse(fJ.Ck[fJ.order.indexOf(bh)]);ho.blur.v.val=Math.round($*2.4);
var aH=Math.sqrt(C*C+B*B);ho.uglg.v=!1;ho.Dstn.v.val=Math.round(aH);ho.lagl.v.val=Math.round(Math.atan2(B,-C)*(180/Math.PI));
ho.Clr.v=u.I.SE({o:M[0]*255,A:M[1]*255,J:M[2]*255});ho.Opct.v.val=Math.round(M[3]*100);N.aeQ(Z,fJ.YZ[fJ.order.indexOf(bh)],ho)}else if(j)G=$}if(o=="g"||o=="a"||o=="svg"||o=="switch"||(o=="text"||o=="textPath")&&s.children.length>0||o=="symbol"&&e){if(o=="text")d=N.hb(s,d);
var f2=s.getAttribute("viewBox"),e9=s.getAttribute("width"),kB=s.getAttribute("height");if(f2&&e9&&kB){var ct=aV.axE(f2),jF=N.hb(s),fj=new gP;
fj.translate(-ct[0],-ct[1]);fj.scale(parseFloat(e9)/ct[2],parseFloat(kB)/ct[3]);fj.translate(jF.a4,jF.rY);
fj.concat(L);L=fj}var ab=s.children.length,iw=g.U1;g.U1=a;var jD=g.A6;g.A6=Math.max(g.A6,G);var a1=o!="text"&&o!="textPath"||ab>1;
if(a1){var gd=Z.Pm();Z.add.lsct=U<2&&gd&&(V==null||!V.endsWith(":::"))?ew.bZ:ew.qW;Z.mh="pass";Z.Yn=24;
Z.oE(gd);T.R.push(T.Sw())}N.ic(x,s.children,T,L,g,d,U+1);if(a1)T.R.push(Z);else{var i6=T.R[T.R.length-1];
i6.opacity=Z.opacity;i6.mh=Z.mh}g.A6=jD;g.U1=iw}else if(o=="use"){var fj=N.hb(s);fj.concat(L);var hv=N.hY(s),hO=x.getElementById(hv.slice(1));
if(hO){var iw=g.U1;g.U1=a;if(a.filter)hO.setAttribute("filter",a.filter);N.ic(x,[hO],T,fj,g,d,U+1,!0);
g.U1=iw}}else if(o=="path"||o=="rect"||o=="circle"||o=="ellipse"||o=="polygon"||o=="polyline"||o=="line"){Z.Yn|=16;
Z.add.vmsk=new F.LS;Z.add.vstk=fJ.SC.GI();var jh=Z.add.vstk,f=Z.add.vmsk,aJ=a.fill,hS=aJ=="none"||a["fill-opacity"]&&parseFloat(a["fill-opacity"])==0;
f.$=N.S9(T,x,s,a["fill-rule"]=="evenodd",hS);u.j.q0(f.$,L);var iO=u.j.pP(f.$),g$=a.stroke,bF=a["stroke-width"],hy=a["stroke-dasharray"],fg=a["stroke-linejoin"];
if(fg==null)fg="miter";var hL=a["stroke-linecap"];if(hL==null)hL="butt";var dn=a["paint-order"];if(g$==null||g$=="none"||g$=="null"){}else{var c5=N.aBL(x,g$,L,iO,T),at=["SoFi","GrFl","patternFill"].indexOf(c5.type),gt=c5.b.v.Opct.v,gI=1;
if(gt.val!=100){Z.opacity=Math.round(Z.opacity*gt.val/100);gt.val=100}var iK=[fJ.RV,fJ.dc,fJ.lK][at],iz=jh.strokeStyleContent.v={classID:fJ.SC.af[at]};
for(var z=0;z<iK.length;z++)iz[iK[z]]=c5.b.v[iK[z]];bF=bF?parseFloat(bF):1;if(dn&&dn.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){gI=2;
bF/=2}var ce={ljoin:["miter","round","bevel"].indexOf(fg),lcap:["butt","round","square"].indexOf(hL),lwidth:bF};
if(hy!=null&&hy!="none")ce.dash=hy.split(",").map(parseFloat);fJ.SC.write(jh,ce,L.Rt());jh.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fJ.SC.tm[gI];
jh.strokeStyleOpacity.v.val=100*(a["stroke-opacity"]?parseFloat(a["stroke-opacity"]):1)}Z.add.vstk.fillEnabled.v=!hS;
if(hS){Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:u.I.SE({o:0,A:0,J:0})}}}else{var c5=N.aBL(x,aJ,L,iO,T),b7=null,br=null;
if(c5.type=="SoFi"){b7="SoCo";br=fJ.RV}if(c5.type=="GrFl"){b7="GdFl";br=fJ.dc}if(c5.type=="patternFill"){b7="PtFl";
br=fJ.lK}if(b7!=null){var gt=c5.b.v.Opct.v;if(gt.val!=100){Z.opacity=Math.round(Z.opacity*gt.val/100);
gt.val=100}Z.add[b7]={classID:"null"};for(var z=0;z<br.length;z++){var O=br[z];Z.add[b7][O]=c5.b.v[O]}}}var kg=Math.max(G,g.A6);
if(kg!=0)Z.add.vmsk.Cu=kg;Z.h5();Z.sG(T);T.R.push(Z)}else if((o=="text"||o=="tspan")&&s.textContent!=""){d=N.hb(s,d);
var fj=d.clone(),B=0;fj.concat(L);fj.translate(J,0);if(s.children.length>0){var bM=N.b2(s.children[0],g.af5);
for(var O in bM)if(l.indexOf(O)==-1)a[O]=bM[O]}var eQ=a["xml:space"],eT=s.textContent;if(eQ=="preserve")eT=eT.replace(/\t/g," ").replace(/\n/g," ");
if(V==null)Z.Je(eT);Z.add.lnsr="rend";Z.add.TySh=bL.Zk(0,0);Z.add.TySh.ij=new aP(0,0,100,100);Z.add.TySh.i=fj.clone();
var b6=Z.add.TySh.pM;bL.nw(b6,0,eT);if(o=="tspan")J+=S*eT.length*.5*fj.Rt();var aJ=a.fill,hx=a["font-weight"],io=a["font-family"],jm=a["text-decoration"],g$=a.stroke,bF=a["stroke-width"],bq=a["dominant-baseline"];
if(bq=="text-before-edge")B=S;else if(bq=="middle")B=S/2;else if(bq=="hanging")B=S;if(B!=0)Z.add.TySh.i.translate(0,B);
var gO=bL.ge(b6,0,1);if(aJ&&aJ!="none"){var M=CSS.oT(aJ);gO.Ba.FillColor={Type:1,Values:[1,M.o/255,M.A/255,M.J/255]}}if(jm=="underline")gO.Ba.Underline=!0;
gO.Ba.FontSize=Math.round(S);bL.EF(gO,"LiberationSans");if(hx=="bold")bL.EF(gO,"LiberationSans-Bold");
if(io){io=io.split(",")[0].trim();if(io[0]=="\"")io=io.slice(1);if(io[io.length-1]=="\"")io=io.slice(0,io.length-1);
var ae=io+":"+(hx?hx:"normal"),dl={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(dl[ae])bL.EF(gO,dl[ae]);else bL.EF(gO,io)}if(a["text-anchor"])gO.qi.Justification=["start","end","middle"].indexOf(a["text-anchor"]);
bL.T3(b6,0,eT.length,gO);if(g$==null||g$=="none"){}else{var ho=JSON.parse(fJ.Ck[fJ.order.indexOf("FrFX")]);
ho.Clr.v=u.I.SE(CSS.oT(g$));ho.Sz.v.val=Math.round(parseFloat(bF)*fj.Rt());N.aeQ(Z,"frameFXMulti",ho)}T.R.push(Z)}else if(o=="image"){var hv=N.hY(s);
if(hv&&hv.slice(0,4)=="data"){var eF=dp.bR(hv),e6=eF,dJ=T.mk(e6,Z.getName(),0,0);dJ.Yn=Z.Yn;Z=dJ;var d2=Z.rect.clone();
d2.x=d2.y=0;var gQ=s.getAttribute("width"),a6=s.getAttribute("height");if(gQ)d2.m=parseFloat(gQ);if(a6)d2.e=parseFloat(a6);
var h6=N.hb(s);h6.concat(L);var cU=u.M.$x(d2).z;u.M.i(cU,h6,cU);Z.add.SoLd.Trnf=D.gW.db(cU);Z.add.SoLd.nonAffineTransform=D.gW.db(cU);
Z.Ht(T,!1);T.R.push(Z)}}else console.log("unknown tag: "+o,s.children.length,s.textContent.length);if(k!=null){T.R.push(k);
U--}}};aV.aeQ=function(x,R,T){var c=x.add.lmfx;if(c==null){var c=x.add.lmfx=JSON.parse(fJ.default);for(var z=0;
z<fJ.order.length;z++)c[fJ.YZ[z]]={t:"VlLs",v:[]}}c[R].v.push({t:"Objc",v:T})};aV.S9=function(x,R,T,c,g){var d=aV,U=[{type:6},{type:8,all:0}],e=T.tagName;
if(e=="use"){var N=d.hY(T),l=R.getElementById(N.slice(1)),J=new gP;if(l.tagName!="rect")J=d.hb(l);J.concat(d.jh(l));
U=d.S9(x,R,l,c,g);u.j.q0(U,J)}else if(e=="path"){var w=T.getAttribute("d");if(w==null)return U;var s=Typr.U.SVGToPath(w);
U=u.M.gj({z:s.crds,G:s.cmds},c,g)}else if(e=="rect"){var o=T.getAttribute("rx"),V=new cI(0,0);d.re("x",T,x,V,!0);
d.re("y",T,x,V,!1);var a=new cI(0,0);d.re("width",T,x,a,!0);d.re("height",T,x,a,!1);U=u.j.u1.Rect(V.x,V.y,a.x,a.y,o?parseFloat(o):0)}else if(e=="circle"||e=="ellipse"){var O=[0,0,0,0],S=["cx","cy","rx","ry","r"];
for(var z=0;z<5;z++){var L=T.getAttribute(S[z]);if(L){L=parseFloat(L);if(z<4)O[z]=L;else O[2]=O[3]=L}}U=u.j.u1.mR(O[0]-O[2],O[1]-O[3],2*O[2],2*O[3])}else if(e=="polygon"||e=="polyline"||e=="line"){var Q;
if(e=="line")Q=[T.getAttribute("x1"),T.getAttribute("y1"),T.getAttribute("x2"),T.getAttribute("y2")].map(parseFloat);
else Q=T.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
U=u.j.u1.f5(Q,0,e!="polygon")}return U};aV.YH=function(x,R){if(x.charAt(x.length-1)=="m")return R*parseFloat(x.slice(0,x.length-2));
else return parseFloat(x)};aV.aBL=function(x,R,T,c,g){var d,U,e=aV,N=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]),l=R!=null?R.indexOf("("):-1;
if(l!=-1){var J=R.indexOf(")"),w=R.slice(0,l).trim(),s=R.slice(l+1,J).trim();if(s.charAt(0)=="'")s=s.slice(1,s.length-1);
if(w=="url"){if(s.charAt(0)=="#"){var o=x.getElementById(s.slice(1));if(o&&o.tagName.toLowerCase().endsWith("gradient")){var V=e.am(x,o,T,c);
d="GrFl";U={t:"Objc",v:V}}else if(o&&o.tagName.toLowerCase()=="pattern"&&o.children[0]&&o.children[0].tagName=="use"){d="SoFi";
U={t:"Objc",v:N};var a=o.children[0],O=e.jh(a),S=e.hY(a),L=x.getElementById(S.slice(1)),Q=dp.bR(e.hY(L)).buffer,b=dp.Ix(dp.Xk(Q)),Z=b.x3(Q)[0],I={};
I.id=c9.EW()+"-d71c-11e5-b1ae-a548a96e5f9f";I.name="someImage";I.NR=[new Uint8Array(Z.data),Z.d8];g.Ot(I);
var N=JSON.parse(fJ.Ck[fJ.order.indexOf("patternFill")]);N.Scl.v.val=Math.round(100*c.m*O.Y);var y=N.phase.v;
y.Hrzn.v=Math.round(c.x+O.a4*c.m);y.Vrtc.v=Math.round(c.y+O.rY*c.e);N.Ptrn.v.Idnt.v=I.id;d="patternFill";
U={t:"Objc",v:N}}else{d="SoFi";U={t:"Objc",v:N}}}else console.log("unknown url",s)}else if(w=="rgb"||w=="rgba"){d="SoFi";
U={t:"Objc",v:N};U.v.Clr.v=u.I.SE(CSS.oT(R));if(w=="rgba")U.v.Opct.v.val=Math.round(100*parseFloat(R.split(",").pop()))}else console.log("unknown fill",R)}else{d="SoFi";
U={t:"Objc",v:N};var r=CSS.oT(R);U.v.Clr.v=u.I.SE(r);if(r.Y!=null)U.v.Opct.v.val=Math.round(100*r.Y/255)}return{type:d,b:U}};
aV.jh=function(x){var R=new gP,T=x.getAttribute("transform");if(T)R=aV.C7(T);var c=x.getAttribute("style");
if(c!=null){var g={};aV.CE(g,c,["transform"]);c=g.transform;if(c)R.concat(aV.C7(c))}return R};aV.hb=function(x,R){var T=new gP,c=x.getAttribute("x"),g=x.getAttribute("y");
if(c)T.a4=parseFloat(c);else if(R)T.a4=R.a4;if(g)T.rY=parseFloat(g);else if(R)T.rY=R.rY;return T};aV.C7=function(x){var R=Typr.U.SVG.readTrnf(x);
return new gP(R[0],R[1],R[2],R[3],R[4],R[5])};aV.b2=function(x,R){var T={},c="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var z=0;z<c.length;z++){var g=x.getAttribute(c[z]);if(g!=null&&g!="inherit")T[c[z]]=g}var d=x.getAttribute("class");
if(R!=null&&d!=null&&R["."+d]!=null)aV.CE(T,R["."+d],c);var U=x.getAttribute("id");if(R!=null&&U!=null&&R["#"+U]!=null)aV.CE(T,R["#"+U],c);
var e=x.getAttribute("style");if(e!=null)aV.CE(T,e,c);return T};aV.CE=function(x,R,T){R=R.trim().split(";");
for(var z=0;z<R.length;z++){var c=R[z].split(":"),g=c[0]?c[0].trim():"",d=c[1]?c[1].trim():"";for(var U=0;
U<T.length;U++)if(g==T[U]&&d!="inherit")x[T[U]]=d}};aV.hY=function(x){var R=x.getAttribute("xlink:href");
if(R==null)R=x.getAttribute("href");if(R==null)R=x.getAttribute("xl:href");return R};aV.re=function(x,R,T,c,g){var d=R.getAttribute(x);
if(d==null)return;var U=parseFloat(d);if(d.endsWith("%"))U*=(g?T.m:T.e)/100;if(g)c.x=U;else c.y=U};aV.am=function(x,R,T,c){var g=aV,d=g.re,U=new gP,e=R.getAttribute("gradientTransform"),o=!1;
if(e)U=g.C7(e);U.concat(T);var N=JSON.parse(fJ.Ck[fJ.order.indexOf("GrFl")]),l=N.Grad.v;l.Intr.v=0;var J=R.tagName,w=new cI(0,0),s=new cI(c.m,0);
if(J=="linearGradient"){N.Type.v.GrdT="Lnr";d("x1",R,c,w,!0);d("y1",R,c,w,!1);d("x2",R,c,s,!0);d("y2",R,c,s,!1);
w.x=s.x+.5*(w.x-s.x);w.y=s.y+.5*(w.y-s.y)}if(J=="radialGradient"){N.Type.v.GrdT="Rdl";if(R.getAttribute("cx"))w.x=parseFloat(R.getAttribute("cx"));
if(R.getAttribute("cy"))w.y=parseFloat(R.getAttribute("cy"));s.LR(w.x,w.y);if(R.getAttribute("r"))s.x+=parseFloat(R.getAttribute("r"))}var V=R;
while(!0){if(V.getAttribute("gradientUnits")=="userSpaceOnUse")o=!0;var a=g.hY(V);if(a==null)break;V=x.getElementById(a.slice(1))}if(o){w=U.Wk(w);
s=U.Wk(s)}else{w.x=c.x+w.x*c.m;w.y=c.y+w.y*c.e;s.x=c.x+s.x*c.m;s.y=c.y+s.y*c.e}u.I.Wz(w,s,c,N);var O=R.children;
if(O.length==0){var S=g.hY(R);if(S==null)throw"gradient has no stops";var L=x.getElementById(S.slice(1));
if(L==null){console.log(S.slice(1))}else{var Q=g.am(x,L,U,c);N.Grad=Q.Grad}}else{var b=[];for(var z=0;
z<O.length;z++){var Z=O[z],I=g.b2(Z),y=I["stop-color"],r=I["stop-opacity"],h=Z.getAttribute("offset");
if(y==null)y="#000000";r=r==null?1:parseFloat(r);var k=h?parseFloat(h):0;if(h&&h.endsWith("%"))k/=100;
y=CSS.oT(y);if(y.Y!=null)r*=y.Y/255;b.push([k,[y.o/255,y.A/255,y.J/255],parseFloat(r)])}u.I.lw(b,l)}return N};
aV.P7=function(){var x=null,R=null,T="",c="",g;function d(r,h,k,K){var H=[],_=" { ",W=" } ",Y=!1;R=h;
c=h.l4?"":"\t";T=h.l4?"":" ";var p=h.aBz,f=h.aoD;g=new aP(0,0,r.m,r.e);if(K!=null){g=r.root.children[K].a.Ie();
p=g.m;f=g.e}H.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[g.x,g.y,g.m,g.e].join(" ")+"\" width=\""+p+"\" height=\""+f+"\">");
if(!h.l4)H.push(U(1)+"<title>"+Q(r.name.split(".")[0])+"</title>");var A={zk:[],dz:[],bn:0,yK:0,aE:0,j5:{},dF:{},BP:0,rj:{},af6:{},hW:0,dA:[]};
a(r,A,r.root.children,1,h,k,K);if(A.zk.length!=0){H.push(U(1)+"<defs>");H=H.concat(A.zk);H.push(U(1)+"</defs>")}H.push(U(1)+"<style>");
if(h.l4){_="{";W="}"}for(var z=0;z<r.R.length;z++)if(r.R[z].add.TySh)Y=!0;if(Y&&!h.adn&&!h.av3)H.push(U(2)+"tspan"+_+"white-space:pre"+W);
for(var G in A.rj)H.push(U(2)+"."+G+_+A.rj[G]+W);H.push(U(1)+"</style>");H=H.concat(A.dz);H.push("</svg>");
H=H.join(h.l4?"":"\n");return n.SF(H)}function U(cg){var r="";for(var z=0;z<cg;z++)r+=c;return r}function e(cg,r){if(r==null)r=1;
var h=""+parseFloat(cg.toFixed(r));if(h.startsWith("0."))h=h.slice(1);return h}function N(r,h){var k=r.add.lmfx;
if(k)k=k[h].v[0];if(k)k=k.v;if(k&&!k.enab.v)k=null;return k}function l(r,h){var k=N(r,"frameFXMulti");
if(k){var K=k.Sz.v.val;if(k.Styl.v.FStl=="OutF"){h.push("paint-order:stroke fill markers");K*=2}V(h,CSS.It(k.Clr.v),1);
if(K!=1)h.push("stroke-width: "+K);h.push("stroke-linejoin: round;")}}var J="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function w(r){var h=J.length,k="";for(var K=1;K<10;K++){var H=(h-10)*~~Math.pow(h,K-1);if(r<H){for(var z=0;
z<K;z++){var p=z==K-1?10:0,f=h-p,A=r%f;k=J[A+p]+k;r=Math.floor((r-A)/f)}break}r-=H}return k}function s(r,h,k,K){if(r.length!=0){if(K==null)K="s";
var H=r.join(";"),p=h.af6[H];if(p==null){p=R.l4?w(h.hW):K+h.hW;h.hW++;h.af6[H]=p;h.rj[p]=H}if(k)k.push(p);
return p}}function o(r){if(R.l4&&r.length==7&&r[0]=="#"){if(r[1]==r[2]&&r[3]==r[4]&&r[5]==r[6])r="#"+r[1]+r[3]+r[5]}return r}function V(r,h,k){h=o(h);
if(h!="#000"||k==1)r.push((k==0?"fill:":"stroke:")+T+h)}function a(r,h,k,K,H,p,f){var A=!1;for(var _=0;
_<k.length;_++){var W=k[_].a,Y=W.add.lsct;if(W.add.artb&&f!=null&&_!=f)continue;if(!W.UP&&k[_+1]&&k[_+1].a.UP&&W.bT()&&W.add.vmsk){var G=[];
Z(W,W.add.vmsk,h,G);h.dz.push(U(K)+"<g "+G[0]+">");K++;A=!0}else if(!W.UP&&k[_-1]&&k[_-1].a.UP&&A){K--;
h.dz.push(U(K)+"</g>");A=!1}var i=W.add.vmsk,E=W.add.vogk,$=W.add.vstk,C=W.add.TySh;if(i&&!i.isEnabled)i=$=null;
var B=[];if(!H.hidden&&!W.Pm())continue;var M=W.opacity/255,j=W.add.iOpa?W.add.iOpa/255:1;if(W.NW()){M*=j;
j=1}if(M!=1)B.push("opacity:"+T+e(M));if(j!=1)B.push("fill-opacity:"+T+e(j));if(W.mh!="norm"){var P=c_.Bw[c_.h$.indexOf(W.mh)];
if(P!=null)B.push("mix-blend-mode:"+T+P)}if(!W.Pm())B.push("display:"+T+"none");var G=[],t=[],q=W.getName(),m=q.indexOf(" .");
if(!H.l4)G.push("id=\""+Q(q)+"\"");var iE=e5.zg(W.add.lmfx,W.add),hV=iE[0],dD=iE[1],bh=W.add.SoLd;if(bh&&bh.filterFX){var ho=bh.filterFX.v;
if(ho.enab.v&&ho.filterFXList.v.length!=0)bh=null}if(W.NW()){var aH=k[_].children;if(!(aH.length==1&&aH[0].a.add.SoLd&&!H.h_)){if(x&&W.getName().split("-").length==3){x.push({QP:W.getName(),Mi:0,no:[]})}Z(W,i,h,G);
if(B.length!=0)G.push("style=\""+B.join(";")+"\"");if(hV){var f2=CSS.It(hV.Clr.v),e9="f"+h.yK;h.yK++;
h.dz.push(U(K)+"<filter id=\""+e9+"\">");h.dz.push(U(K+1)+"<feFlood flood-color=\""+f2+"\" flood-opacity=\""+e(hV.Opct.v.val/100,2)+"\" />");
h.dz.push(U(K+1)+"<feBlend mode=\""+c_.Bw[c_.h$.indexOf(c_.I3(hV.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
h.dz.push(U(K+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");h.dz.push(U(K)+"</filter>");
G.push("filter=\"url(#"+e9+")\"")}var kB=L(G,t),ct=H.l4&&kB=="";if(!ct)h.dz.push(U(K)+"<g"+(kB==""?"":" "+kB)+">");
a(r,h,aH,K+1,H,p);if(!ct)h.dz.push(U(K)+"</g>")}}else if(W.bT()&&i==null){I(r,B,W.add,h,g,H);if(B.length!=0)G.push("style=\""+B.join(";")+"\"");
h.dz.push(U(K)+"<rect width=\""+g.m+"\" height=\""+g.e+"\" "+L(G,t)+"/>")}else if(i&&bh==null){var jF=u.j.pP(i.$,null,!0),fj,ab=null,iw=0,jD;
I(r,B,W.add,h,jF,H);s(B,h,t);if(E.length!=0){fj=E[0].v;ab=fj.keyOriginType;if(ab)ab=ab.v;if(ab==2){var a1=u.oZ.yV(fj);
iw=a1[0];for(var z=0;z<3;z++)if(iw!=a1[z+1])ab=null}}if(E.length==1&&ab==5&&Math.abs(u.oZ.axm(fj))<1e-4){var jF=u.oZ.MY(fj),gd=(jF[0]+jF[2])/2,i6=(jF[1]+jF[3])/2,hv=gd-jF[0],jh=i6-jF[1],aJ=Math.abs(hv-jh)<.01,hS=aJ?"r=\""+e(hv)+"\"":"rx=\""+e(hv)+"\" ry=\""+e(jh)+"\"";
jD="<"+(aJ?"circle":"ellipse")+" "+L(G,t)+" cx=\""+e(gd)+"\" cy=\""+e(i6)+"\" "+hS+"/>"}else if(E.length==1&&ab==2&&iw!=0&&Math.abs(u.oZ.axm(fj))<1e-4){var jF=u.oZ.MY(fj),iO=jF[0],g$=jF[1],bF=jF[2]-jF[0],hy=jF[3]-jF[1],fg="";
if(iO!=0)fg+=" x=\""+e(iO)+"\"";if(g$!=0)fg+=" y=\""+e(g$)+"\"";fg+=" width=\""+e(bF)+"\"";fg+=" height=\""+e(hy)+"\"";
fg+=" rx=\""+e(iw)+"\"";jD="<rect "+L(G,t)+fg+"></rect>"}else{var hL=u.j.cK(i.$,1);if(hL.HL!=0){G.push("fill-rule=\"evenodd\"")}jD="<path "+L(G,t)+" d=\""+hL.wP+"\"/>"}h.dz.push(U(K)+jD);
if(x&&x[x.length-1]){var dn=u.M.td(i.$);dn.z=dn.z.map(Math.round);var c5=x[x.length-1];c5.Mi+=JSON.stringify(dn).length;
c5.no.push([B[0].split("#").pop(),dn])}}else if(C&&H.adn){T=H.l4?"":" ";var at=C.pM,gt=new aU(at,p),iK=null;
if(hV)iK=CSS.It(hV.Clr.v);if(dD){var jF=W.rect.clone();y(dD,h,jF,H);iK="url(#g"+h.bn+")"}if(iK)B.push("fill:"+T+iK);
l(W,B);var iz=cQ.R8(gt,C,!0),gI=u.M.GS(iz);for(var ce in gI){var b7=B.slice(0),br=t.slice(0),kg=G.slice(0);
if(iK==null){V(b7,ce.slice(0,7),0);if(ce.length>7){var bM=ce.slice(7).split("-");console.log(bM);V(b7,bM[1],1);
if(bM[2]!="1")b7.push("stroke-width:"+T+bM[2])}}s(b7,h,br);var eQ=gI[ce],bM=Typr.U.pathToSVG({crds:eQ.z,cmds:eQ.G},1);
h.dz.push(U(K)+"<path "+L(kg,br)+(H.l4?"":" "+S(C))+" d=\""+bM+"\"/>")}}else if(C&&!H.av3){var at=C.pM,eT=C.i.clone(),iK=null;
B.push("transform:"+T+b(eT));var b6=bL.rl(at),gt=new aU(at,p);l(W,B);if(B.length!=0)G.push("style=\""+B.join(";")+"\"");
h.dz.push(U(K)+"<text "+L(G,t)+" >");if(hV)iK=CSS.It(hV.Clr.v);if(dD){var jF=W.rect.clone();jF.x-=eT.a4;
jF.y-=eT.rY;y(dD,h,jF,H);iK=" url(#g"+h.bn+")"}for(var z=0;z<gt.qi.length;z++){var hx=gt.qi[z];if(hx.YJ.length==1&&hx.YJ[0].O2)continue;
for(var io=0;io<hx._4.length;io++){var jm=hx._4[io],i6=hx.Og.y+jm.Og.y,bq=hx.YJ[jm.start].start,gO=hx.YJ[jm.end-1].end,ae=bL.a8N(at,bq,gO),dl="";
for(var eF=0;eF<ae.length;eF++){var e6=gt.KP(bq),dJ=ae[eF],d2=bL.ge(at,bq,bq),gQ=d2.uY[d2.Ba.Font].Name,ce=bL.ir(d2.Ba.FillColor),a6=Math.round(d2.Ba.FontSize),h6=b6.slice(bq,bq+dJ);
if(d2.Ba.FontCaps==2)h6=h6.toUpperCase();var cU=new gP;cU.translate(e6.v4.x,-i6);var jv=[];CSS.am6(jv,d2,null,!0,!0,iK);
var de=s(jv,h,null,"t");de=de?" class=\""+de+"\"":"";var gd=e6.v4.x,jJ=O(d2,h6);dl+="<tspan "+(eF==0?"x=\""+e(e6.v4.x)+"\"":"")+" y=\""+e(i6)+"\""+de+jJ+">"+Q(h6)+"</tspan>";
bq+=dJ}h.dz.push(U(K+1)+dl)}}h.dz.push(U(K)+"</text>")}else if(bh&&H.h_&&hV==null){var e9=bh.Idnt.v,c4=0,gn=bh.Crop?bh.Crop.v:null;
if(h.dF[e9]!=null)c4=h.dF[e9];else{h.BP++;c4=h.BP;h.dF[e9]=h.BP;var eG=r.Ln(e9,gn),bi="";if(eG==null)return;
var gN=eG.Zn,et=dp.Xk(eG.raw.buffer);if(et=="pdf"){var bc=new c9("h");dp.Ix("PDF").x3(eG.raw.buffer,bc);
bc.Cg();bc.Jp();bc.W();bc.jB();if(bh.Crop&&bh.Crop.v==1){D._x.oU(bc,bc.root.zC(bc,!0))}var jM=dp.Ix("SVG").LA(bc,bc.m,bc.e,null,{dA:p});
bi="data:image/svg+xml;base64,"+dp.SU(jM)}else if(et=="jpg"||et=="png"||et=="gif"||et=="svg"){var j9={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
bi="data:"+j9[et]+";base64,"+dp.SU(eG.raw.buffer)}else{bi=dp.DZ(gN[0].buffer,gN[1].m,gN[1].e)}h.zk.push(U(2)+"<image width=\""+gN[1].m+"\" height=\""+gN[1].e+"\" id=\"img"+c4+"\" href=\""+bi+"\"/>")}var aR=u.D.ZE(bh),cc=[];
Z(W,i,h,cc);if(cc.length!=0)h.dz.push(U(K)+"<g "+L(cc,t)+">");if(B.length!=0)G.push("style=\""+B.join(";")+"\"");
var d1=L(G,t);h.dz.push(U(K)+"<use "+d1+" href=\"#img"+c4+"\" transform=\""+b(aR)+"\"/>");if(cc.length!=0)h.dz.push(U(K)+"</g>")}else if(!W.rect.Y3()&&(H.h_||C)){if(B.length!=0)G.push("style=\""+B.join(";")+"\"");
var d1=L(G,t),d7=W.buffer;if(hV)d7=e5.amQ(d7,hV,W.rect);var ej=W.rect;h.BP++;var bi=dp.DZ(d7.buffer,ej.m,ej.e,"png",null,!0);
h.zk.push(U(2)+"<image "+S(C)+" width=\""+W.rect.m+"\" height=\""+W.rect.e+"\" id=\"img"+h.BP+"\" href=\""+bi+"\"/>");
h.dz.push(U(K)+"<use "+d1+" href=\"#img"+h.BP+"\" x=\""+ej.x+"\" y=\""+ej.y+"\"/>")}}if(A){K--;h.dz.push(U(K)+"</g>");
A=!1}}function O(r,h){var k=r.Ba.Tracking,K="";if(k!=null&&k!=0){k=Math.round(k*r.Ba.FontSize/1e3);K=" dx=\"0";
for(var H=1;H<h.length;H++)K+=" "+k;K+="\" "}return K}function S(r){if(r==null)return"";var h=r.pM,k=bL.rl(h);
k=Q(k.slice(0,k.length-1));return"aria-label=\""+k+"\" "}function L(r,h){if(h.length!=0)r.push("class=\""+h.join(" ")+"\"");
return r.join(" ")}function Q(r){return String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function b(r){var h=[r.Y,r.J,r.zI,r.jR,r.a4,r.rY];
for(var z=0;z<6;z++)h[z]=e(h[z],3);return"matrix("+h.join(",")+")"}function Z(r,h,k,K){if(h||r.add.artb){var H;
if(h)H=u.j.cK(h.$).wP;else{var p=r.Ie(),f=u.M.$x(p);H=Typr.U.pathToSVG({crds:f.z,cmds:f.G},1)}k.aE++;
K.push("clip-path=\"url(#cp"+k.aE+")\"");k.zk.push(U(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+k.aE+"\">");
k.zk.push(U(3)+"<path d=\""+H+"\"/>");k.zk.push(U(2)+"</clipPath>")}}function I(r,h,k,K,H,p){var f=k.vstk,A=k.vmsk,_=k.lmfx,W=[];
if(A&&A.Cu!=0){var Y=e(A.Cu);if(K.j5[Y]==null){K.yK++;K.j5[Y]=K.yK;K.zk.push(U(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+K.yK+"\"> <feGaussianBlur stdDeviation=\""+Y+"\"/> </filter>")}W.push("url(#f"+K.j5[Y]+")")}if(_)for(var z=0;
z<fJ.order.length;z++){var G=fJ.order[z],i=fJ.YZ[z],E=_[i].v;for(var $=0;$<E.length;$++){var C=E[$].v,B=C.classID;
if(!C.enab.v)continue;if(B=="OrGl"||B=="DrSh"){K.yK++;W.push("url(#f"+K.yK+")");var M=0,j=0,P=C.blur.v.val/2.4,t=C.Opct.v.val/100;
if(B=="DrSh"){var q=C.uglg&&C.uglg.v?r.er():C.lagl.v.val;q=q*(Math.PI/180);var m=C.Dstn.v.val;M=-Math.cos(q)*m;
j=Math.sin(q)*m}if(B=="OrGl")t/=C.Inpr.v.val/100;var iE="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+K.yK+"\" >";
iE+="<feDropShadow dx=\""+M+"\" dy=\""+j+"\" stdDeviation=\""+P+"\" flood-color=\""+CSS.It(C.Clr.v)+"\" flood-opacity=\""+e(t)+"\"/>";
iE+="</filter>";K.zk.push(U(2)+iE)}}}if(W.length!=0)h.push("filter:"+T+W.join(" "));var hV=e5.zg(_,k),dD=hV[0],bh=hV[1];
if(f&&!f.fillEnabled.v)h.push("fill:"+T+"none");else if(dD){var ho=CSS.It(dD.Clr.v);V(h,ho,0)}else if(bh){y(bh,K,H,p);
V(h,"url(#g"+K.bn+")",0)}if(f==null||!f.strokeEnabled.v)f=e5.Mq(_);if(f&&f.strokeEnabled.v){var aH=f.strokeStyleContent.v,f2=aH.classID;
if(f2=="solidColorLayer")V(h,CSS.It(aH.Clr.v),1);else{y(aH,K,H,p);V(h,"url(#g"+K.bn+")",1)}var e9=f.strokeStyleOpacity.v.val/100,kB=fJ.SC.rA(f),ct=kB.lcap,jF=kB.ljoin,fj=kB.lwidth,ab=kB.sal,iw=kB.dash;
if(ab==2){fj*=2;h.push("paint-order:stroke fill markers")}if(ct!=0)h.push("stroke-linecap:"+T+["butt","round","square"][ct]);
if(jF!=0)h.push("stroke-linejoin:"+T+["miter","round","bevel"][jF]);if(e9!=1)h.push("stroke-opacity:"+T+e(e9));
if(fj!=1)h.push("stroke-width:"+T+e(fj));if(iw.length!=0)h.push("stroke-dasharray:"+T+iw.join(","))}}function y(r,h,k,K){h.bn++;
var H=r.Grad.v,p=JSON.parse(JSON.stringify(H.Clrs.v)),f=JSON.parse(JSON.stringify(H.Trns.v)),A=r.Ofst.v,_=r.Type.v.GrdT,W=_=="Rdl"||_=="Dmnd"?1:0,Y=(W==1?"radial":"linear")+"Gradient",G=u.I.pc(r,k),E="";
if(W==0){G[0].x=G[1].x+2*(G[0].x-G[1].x);G[0].y=G[1].y+2*(G[0].y-G[1].y)}var i=U(2)+"<"+Y+" id=\"g"+h.bn+"\"";
if(K.l4){if(h.bn==1)h.zk.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");E=" href=\"#P\""}else E=" gradientUnits=\"userSpaceOnUse\"";
if(W==0)h.zk.push(i+" x1=\""+e(G[0].x)+"\" y1=\""+e(G[0].y)+"\" x2=\""+e(G[1].x)+"\" y2=\""+e(G[1].y)+"\""+E+">");
if(W==1)h.zk.push(i+" cx=\""+e(G[0].x)+"\" cy=\""+e(G[0].y)+"\" r=\""+e(cI.rE(G[0],G[1]))+"\""+E+">");
var $=r.Rvrs.v,C=u.I.lN(H,$);for(var z=0;z<C.length;z++){var B=C[z],M=B[0],j=B[1],P=B[2];P=P==1?"":" stop-opacity=\""+e(P)+"\"";
var t=M==0&&K.l4?"":" offset=\""+e(M)+"\"",q=CSS.sm({o:j[0]*255,A:j[1]*255,J:j[2]*255});q=K.l4&&q=="#000000"?"":" stop-color=\""+o(q)+"\"";
h.zk.push(U(3)+"<stop"+t+q+P+"/>")}h.zk.push(U(2)+"</"+Y+">")}aV.Hs=b;return d}();aV.u1=function(x,R,T,c,g){var d=[],U=aV.u1,e=!1,N={KQ:x,kh:R,aU:[!0,!0,!0],FD:!1,hH:T,afI:0};
N.l2=Math.round(Math.max(x,R)*(.02+U.ji(N)*.03));N.aN=U.a62(N);N.kz=U.a0i(N.aN,(U.ji(N)<.5?-1:1)*(.2+U.ji(N)*.3));
if(U.ji(N)<.5){var l=N.aN;N.aN=N.kz;N.kz=l}N.azV=U.ji(N)<.4&&U.afL(N.kz,{o:1,A:1,J:1})>.3;N.am8=U.ji(N)<.5?0:1;
d.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+x+" "+R+"\" width=\""+x+"\" height=\""+R+"\">");
N.f2=c[Math.floor(U.cQ(N)*c.length)];N.Rv=c[Math.floor(U.cQ(N)*c.length)];d.push("<style>");d.push("@font-face {  font-family: "+N.f2[2]+";  src: url(rsrc/fonts/"+N.f2[5]+");  }");
d.push("@font-face {  font-family: "+N.Rv[2]+";  src: url(rsrc/fonts/"+N.Rv[5]+");  }");d.push("</style>");
var J=[0,0,x,R],w=J;if(g==null)d.push("<path style=\"fill: "+U.Nw(N.aN)+"\" d=\""+U.Rect(J[0],J[1],J[2]-J[0],J[3]-J[1])+"\" id=\"Background\" />");
else{N.FD=!0;U.abM(N,J,d,g)}if(U.ji(N)<.25&&!N.FD){N.aU[0]=N.aU[2]=!1;U.ayj(J,N,d);w=J}else if(U.ji(N)<.25||N.FD)w=J;
else{var s=.52+U.ji(N)*.2;if(U.ji(N)<.5)s=1-s;var o=J.slice(0),V=J.slice(0);if(U.ji(N)<.5)o[2]=V[0]=Math.round(s*x);
else o[3]=V[1]=Math.round(s*R);if(U.ji(N)<.5){var l=o;o=V;V=l}w=o;U.apQ(N,V,d,g)}U.a0T(N,w,d);d.push("</svg>");
d=d.join("\n");var a=u.B(Math.round(d.length*1.5)),O=n.$D(d,a,0);return[a.buffer.slice(0,O),N.fR]};aV.u1.ayj=function(x,R,T){var c=aV.u1,g=x[2]-x[0],d=x[3]-x[1];
if(c.ji(R)<.5){T.push("<path id=\"Border\" style=\"fill: "+c.Nw(R.kz)+"\" d=\""+c.aib(x[0],x[1],x[2]-x[0],x[3]-x[1],R.l2)+"\" />")}else if(c.ji(R)<-.4){c.a7X(R,x,T)}else{var U=c.ji(R)<.5?0:1,e=(U==0?d:g)/4,N=c.eY(R,U,x,T,e,!0),N=c.eY(R,U+2,x,T,e,!0,N)}};
aV.u1.a0T=function(x,R,T){var c=aV.u1,g="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),d=2*Math.floor(c.ji(x)*g.length/2),U=R[2]-R[0],e=R[3]-R[1],l=0,w=0;
x.JP=(x.KQ+U)*.5*(.04+c.ji(x)*.05);x.JP=Math.min(x.JP,e*.4,U*.12);x.JP=Math.round(x.JP);var N=Math.min(x.JP*g[d].length*(.35+.3*c.ji(x)),U*.9),J=(R[1]+R[3])/2,s=u.rV(x.aN)<.85?{o:1,A:1,J:1}:{o:.1,A:.1,J:.1};
if(c.ji(x)<.25&&x.aU[0]){w=0;l=R[0]+x.l2}else if(c.ji(x)<.33&&x.aU[2]){w=2;l=R[2]-x.l2}else{w=1;l=(R[0]+R[2])/2}var o=s.o==1?"0,0,0":"255,255,255",V=x.FD&&c.ji(x)<1;
if(V){var a=R[0],O=U,S=J-x.JP*1.1,L=x.JP*2.2,Q=.7;if(w==1&&c.ji(x)<.5){a=S=.2*Math.min(U,e);O=U-2*S;
L=e-S-S}else if(c.ji(x)<.7){a=S=0;O=U;L=e;Q=.25}T.push("<path id=\"Strip\" style=\"fill: rgb("+o+"); opacity: "+Q+"\" d=\""+c.Rect(a,S,O,L)+"\" />")}if(c.ji(x)<.4){var b=x.JP*.07;
b*=1.5+c.ji(x)*1;if(w==-1&&U/e<3&&!V){T.push("<path id=\"Bar-bottom\" style=\"fill: "+c.Nw(s)+"\" d=\""+c.Rect(l-N/2,J+x.JP*1.1-b/2,N,b)+"\" />");
T.push("<path id=\"Bar-top\"    style=\"fill: "+c.Nw(s)+"\" d=\""+c.Rect(l-N/2,J-x.JP*1.1-b/2,N,b)+"\" />")}if(w!=1){T.push("<path id=\"Bar\" style=\"fill: "+c.Nw(s)+"\" d=\""+c.Rect(l-b/2,J-x.JP*.8,b,x.JP*.8*2)+"\" />");
l+=(w==0?1:-1)*x.JP/3}}var Z=x.JP*.4;T.push(c.ame(g[d+1],l,J+Z*1.6,Z,s,w,x.Rv));T.push(c.ame(g[d],l,J+x.JP*.04,x.JP,s,w,x.f2))};
aV.u1.apQ=function(x,R,T,c){var g=R[2]-R[0],d=R[3]-R[1],U=Math.max(g,d),e=Math.min(g,d),N=aV.u1;if(U/e<5&&!x.FD&&!1){N.abM(x,R,T,c)}else if(N.ji(x)<0)T.push("<path style=\"fill: "+N.Nw(x.kz)+"\" d=\""+N.Rect(R[0],R[1],g,d)+"\" />");
else{var l=0;if(R[3]!=x.kh)l=0;if(R[2]!=x.KQ)l=3;if(R[0]!=0)l=1;if(R[1]!=0)l=2;var J=l+2&3;if(U/e<3){var w=N.am0(J),s=w[Math.round(N.ji(x)*(w.length-1))],o=s.QP.slice(0,4),V=o.indexOf(1);
s=JSON.parse(JSON.stringify(s));var a=-1;if(o!="0000"){var O=new gP;if(s.QP[5]=="0"){if(V==3&&l==1){a=1;
O.scale(-1,1)}else a=V}else{var S=J;while(S==J)S=Math.floor(N.ji(x)*4)&3;O.rotate((-V+S)*Math.PI/2)}N.i(s,O)}var L=N.QK(s),Q=g-2*x.l2,b=d-2*x.l2;
if(a!=-1){if((a&1)==0)b-=x.l2;else Q-=x.l2}var Z=Math.min(Q/L.m,b/L.e),I=new gP;I.translate(-L.x,-L.y);
I.scale(Z,Z);var y=(g-L.m*Z)/2,r=(d-L.e*Z)/2;if(a!=-1){if(a==3)y=0;if(a==0)r=0;if(a==1)y=g-L.m*Z;if(a==2)r=d-L.e*Z}I.translate(R[0]+y,R[1]+r);
N._T(x,s,I,x.kz,T)}else{N.eY(x,l,R,T,1e9)}}};aV.u1.abM=function(x,R,T,c){var g=R[2]-R[0],d=R[3]-R[1],U=Math.max(g,d),e=Math.min(g,d),N=aV.u1,l=N.cQ(x),J,w,s,o=c[0]instanceof ArrayBuffer;
if(o){J="data:image/jpg;base64,"+hG.w9(c[0]);w=c[1];s=c[2]}else{var V=Math.floor(l*c.length),a=c[V];
x.fR=a;J=a.webformatURL;w=a.webformatWidth;s=a.webformatHeight}var O=R[0],S=R[1],L=g,Q=d;if(g/d>w/s){Q=L*s/w;
S=S-(Q-d)/2}else{L=Q*w/s;O=O-(L-g)/2}if(o){T.push("<defs>");T.push("<image width=\""+w+"\" height=\""+s+"\" id=\"Background\" href=\""+J+"\" />");
T.push("</defs>");var b=L/w;T.push("<use href=\"#Background\" transform=\""+aV.Hs(new gP(b,0,0,b,O,S))+"\" />")}else{var Z="cp"+Math.random();
T.push("<clipPath id=\""+Z+"\">");T.push("<path style=\"fill: "+N.Nw(x.kz)+"\" d=\""+N.Rect(R[0],R[1],g,d)+"\" />");
T.push("</clipPath>");T.push("<image  clip-path=\"url(#"+Z+")\" xlink:href=\""+J+"\" x=\""+O+"\" y=\""+S+"\" width=\""+L+"\" height=\""+Q+"\" />")}};
aV.u1.ame=function(x,R,T,c,g,d,U){var e=aV.u1;return"<text x=\""+R+"\" y=\""+T+"\" style=\"fill:"+e.Nw(g)+"; font-size:"+c+"px; text-anchor:"+["start","middle","end"][d]+"; font-family:"+U[2]+";\"><tspan>"+x+"</tspan></text>"};
aV.u1._T=function(x,R,T,c,g){var d=aV.u1,U=[];for(var z=0;z<R.no.length;z++){U.push(c);if(x.azV){c=(z&1)==x.am8?{o:1,A:1,J:1}:U[0]}}g.push("<g id=\""+R.QP.split("-")[2]+":::\" style=\"transform: "+aV.Hs(T)+";\" >");
for(var z=0;z<R.no.length;z++){var e=R.no[z];c=U.pop();g.push("<path style=\"fill: "+(c?d.Nw(c):"#"+e[0])+"\" d=\""+Typr.U.pathToSVG({crds:e[1].z,cmds:e[1].G})+"\" />")}g.push("</g>")};
aV.u1.a7X=function(x,R,T){var c=aV.u1,g=aV.u1.pu,d=[];for(var z=0;z<g.length;z++){var U=g[z],e=U.QP.slice(0,4);
if(e!="1001")continue;d.push(U)}var U=d[Math.floor(c.ji(x)*d.length)];if(c.ji(x)<.5)c.i(U,new gP(0,1,1,0,0,0));
var N=R[3]-R[1],l=R[2]-R[0],J=c.QK(U),w=.7*Math.min(l,N,.5*Math.max(l,N))/Math.max(J.m,J.e),s=new gP;
s.scale(w,w);if(c.ji(x)<.5){s.scale(1,-1);s.translate(0,N)}c._T(x,U,s,x.kz,T);s.rotate(Math.PI);s.translate(l,N);
c._T(x,U,s,x.kz,T)};aV.u1.am0=function(x){var R=aV.u1.pu,T=[];for(var z=0;z<R.length;z++){var c=R[z],g=c.QP.slice(0,4);
if(g=="0000"){T.push(c);continue}if(["1000","0100","0010","0001"].indexOf(g)==-1)continue;var d=g.indexOf("1");
if(c.QP[5]=="0"&&x==d&&d!=3)continue;T.push(c)}return T};aV.u1.eY=function(x,R,T,c,g,d,U){var e=aV.u1.pu,N=aV.u1,l=[],L,Q;
for(var z=0;z<e.length;z++){var J=e[z],w=J.QP.slice(0,4);if(["1110","1101","1011","0111"].indexOf(w)==-1)continue;
var s=w.indexOf("0")+2&3;if(J.QP[5]=="0")if(d==!0||R!=s&&!(R==1&&s==3))continue;l.push(J)}var o=U!=null?U:Math.floor(N.ji(x)*l.length),J=l[o],J=JSON.parse(JSON.stringify(J)),w=J.QP.slice(0,4),s=w.indexOf("0")+2&3;
if(s==3&&R==1)u.i(J,new gP(1,0,0,-1,0,1e3));var V=new gP;V.translate(-500,-500);V.rotate(-s*Math.PI/2);
V.translate(500,500);N.i(J,V);var a=T[3]-T[1],O=T[2]-T[0],S=N.QK(J);if(S.y<0){S.e+=S.y;S.y=0}if(S.y>0){S.e+=S.y;
S.y=0}if((R&1)==0){Q=a;L=O}else{L=a;Q=O}var b=Math.min(Math.min(.5+.5*N.ji(x))*Math.min(O,a),g)/S.e,Z=Math.ceil(L/(1e3*b)),I=new gP,y=new gP;
y.scale(b,b);if(R==0||R==2){y.translate(-(O/2),-(a/2));y.rotate(-R*Math.PI/2);y.translate(O/2+T[0],a/2+T[1])}else{y.rotate(Math.PI/2);
y.scale(1,-1);y.translate(T[0],T[1]);if(R==1){y.scale(-1,1);y.translate(O,0)}}c.push("<g id=\"Border-"+["top","right","bottom","left"][R]+":::\">");
for(var z=0;z<Z;z++){var r=I.clone();r.concat(y);N._T(x,J,r,x.kz,c);I.translate(1e3-2,0)}c.push("</g>");
return o};aV.u1.Rect=function(x,R,T,c){return Typr.U.pathToSVG({crds:[x,R,x+T,R,x+T,R+c,x,R+c],cmds:["M","L","L","L","Z"]})};
aV.u1.aib=function(x,R,T,c,g){var d=[x,R,x+T,R,x+T,R+c,x,R+c];x+=g;R+=g;T-=2*g;c-=2*g;d.push(x,R,x,R+c,x+T,R+c,x+T,R);
return Typr.U.pathToSVG({crds:d,cmds:"M L L L Z M L L L Z".split(" ")})};aV.u1.a0i=function(x,R){var T=u.mr(x.o,x.A,x.J);
T.tB=Math.max(.1,Math.min(.9,T.tB+R));return u.IK(T.kh,T.Kt,T.tB)};aV.u1.a1k=function(x,R){var T=u.mr(x.o,x.A,x.J);
T.kh+=R;return u.IK(T.kh,T.Kt,T.tB)};aV.u1.a2f=function(x){var R=u.mr(x.o,x.A,x.J);R.tB=1-R.tB;return u.IK(R.kh,R.Kt,R.tB)};
aV.u1.afL=function(x,R){var T=x.o-R.o,c=x.A-R.A,g=x.J-R.J;return Math.sqrt(T*T+c*c+g*g)};aV.u1.a62=function(x){var R=aV.u1;
return{o:R.ji(x),A:R.ji(x),J:R.ji(x)}};aV.u1.Nw=function(x){return CSS.sm({o:x.o*255,A:x.A*255,J:x.J*255})};
aV.u1.QK=function(x){var R=x.no,T=new aP;for(var z=0;z<R.length;z++)T=T.y8(u.M.QK(R[z][1].z));return T};
aV.u1.i=function(x,R){var T=x.no;for(var z=0;z<T.length;z++)u.M.i(T[z][1].z,R,T[z][1].z)};aV.u1.ji=function(x){x.afI++;
var R=x.afI&3;if(R==0)x.hH=aV.u1.Ys(x.hH);var T=x.hH>>>8*R&255;return T*(.99999999/255)};aV.u1.cQ=function(x){var R=aV.u1.Ys(x.hH);
x.hH=aV.u1.Ys(R);return R*(1/4294967295)};aV.u1.Ys=function(x){x=(x^61^x>>>16)>>>0;x=x+(x<<3)>>>0;x=(x^x>>>4)>>>0;
x=x*668265261>>>0;x=(x^x>>>15)>>>0;return x};aV.u1.pu=[{QP:"0001-0-bird",no:[["4b3c34",{G:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),z:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{G:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),z:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{G:"M C C C C C C C C C C C C L Z".split(" "),z:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{QP:"0001-0-bird2",no:[["ff7f2a",{G:"M L L L Z M L L L Z".split(" "),z:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{G:"M C C C C C C C C C C C L Z".split(" "),z:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{G:"M C C C C C C L Z M C C Z".split(" "),z:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{G:"M L L L Z M L L L Z".split(" "),z:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{G:"M L C C C C C C C C L Z".split(" "),z:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{G:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),z:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{QP:"0000-1-flower",no:[["7a59a2",{G:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),z:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{QP:"0000-1-flower",no:[["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),z:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{QP:"0000-1-flower",no:[["ffac42",{G:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),z:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{QP:"0000-1-flower",no:[["d04040",{G:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),z:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{QP:"0000-1-flower",no:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),z:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{G:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),z:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{QP:"0000-0-hearts",no:[["d17070",{G:"M C C C C C C C C C L Z".split(" "),z:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{G:"M C C C C C C C C C L Z".split(" "),z:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{G:"M C C C C C C C C C L Z".split(" "),z:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{QP:"0000-0-anchor",no:[["2a3b66",{G:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),z:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{QP:"0000-1-leaf",no:[["fbb600",{G:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),z:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{QP:"0000-1-acorn",no:[["a05a2c",{G:"M C C C C C C C L Z".split(" "),z:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{G:"M C C C C C C C C C C C Z".split(" "),z:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{QP:"0000-0-skull",no:[["808080",{G:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),z:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{QP:"0000-0-ghost",no:[["e6e6e6",{G:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),z:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{G:"M C C C C Z M C C C C Z".split(" "),z:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{QP:"1001-1-rose",no:[["9e1460",{G:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),z:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{G:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),z:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{QP:"1001-1-curls",no:[["53a7ab",{G:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),z:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{G:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),z:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{QP:"0111-0-pines",no:[["e9e9e9",{G:"M C C C C C C C C L L L Z".split(" "),z:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{G:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),z:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{QP:"0111-0-flowers",no:[["8cae40",{G:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),z:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{G:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),z:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{QP:"1101-1-confetti",no:[["e789ff",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{G:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{QP:"1101-1-branch",no:[["7f500b",{G:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),z:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),z:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{QP:"1101-1-sticks",no:[["ec7272",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{G:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{QP:"1101-1-dots",no:[["ec7272",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),z:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{G:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),z:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{G:["M","C","C","Z"],z:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{QP:"1101-1-strips",no:[["ffc88c",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{G:"M L L L L Z M L L L L Z M L L L L Z".split(" "),z:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{G:["M","C","C","Z"],z:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{QP:"1101-1-circs",no:[["ec7272",{G:"M C C C C Z M C C C C Z".split(" "),z:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{G:"M C C C C Z M C C C C Z".split(" "),z:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{G:["M","C","C","Z"],z:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{QP:"1101-1-squares",no:[["014ea7",{G:"M L L L L Z M L L L L Z".split(" "),z:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{G:"M L L L L Z M L L L L Z".split(" "),z:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{G:["M","C","C","Z"],z:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{QP:"1101-0-christmas",no:[["014ea7",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),z:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{G:"M C C C C Z M C C C C Z M L L L L Z".split(" "),z:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var au={};au.parse=function(x){var R=new Uint8Array(x),T=null;if(R[0]==80&&R[1]==75){var c=Date.now(),g=UZIP.parse(R.buffer),T=g["document.json"];
T=JSON.parse(n.KW(T,0,T.length));au.cc(T,g)}else{var d=b8.parse(x);T=au.a68(d[2][0][1])}return T};au.cc=function(x,R){var T=typeof x;
if(T=="string"||T=="number"||T=="boolean")return x;if(x instanceof Array){for(var z=0;z<x.length;z++)x[z]=au.cc(x[z],R);
return x}var c=x._class;if(c==null)return x;if(c=="MSJSONFileReference"){var g=x._ref;if(!1){}else if(R[g+".json"]!=null){var d=R[g+".json"],U=d.length;
for(var z=0;z<U;z++)if(d[z]==11||d[z]==3)d[z]=32;var e=n.KW(d,0,U);x=JSON.parse(e)}else if(R[g+".png"]!=null)return{key:g.split("/").pop(),bdata:R[g+".png"]};
else if(R[g+".jpg"]!=null)return{key:g.split("/").pop(),bdata:R[g+".jpg"]};else if(R[g+".pdf"]!=null)return{key:g.split("/").pop(),bdata:R[g+".pdf"]};
else if(R[g]!=null)return{key:g.split("/").pop(),bdata:R[g]};else{console.log(x,R);return}}else if(c=="MSAttributedString"){var e=atob(x.archivedAttributedString._archive),N=e.length,l=new Uint8Array(N);
for(var z=0;z<N;z++)l[z]=e.charCodeAt(z);x.archivedAttributedString=au.a68(l)}for(var J in x)x[J]=au.cc(x[J],R);
return x};au.as6=function(x,R,T,c){if(x instanceof Uint8Array)return null;if(c.indexOf(x)!=-1)return null;
c.push(x);if(x==R)return T;for(var g in x){T.push(g);var d=au.as6(x[g],R,T,c);if(d){console.log(x,d);
throw"e"}T.pop()}};au.a68=function(x){var R=fI.parse(x,0),T=R.$objects,c=new Uint8Array(T.length),g=au.aT(T,c,R.$top.root);
for(var z=0;z<T.length;z++)if(c[z]==0&&z!=0){console.log(z,T[z]);au.as6(g,z,[],[])}for(var z=0;z<T.length;
z++){var d=T[z];if(d._class&&(d._class=="bitmap"||d._class=="fill"&&d.fillType==4&&(d.image||d.imageSHA))){var U=d.image,e=d.imageSHA,N=null,l=null;
if(U=="$null")U=null;if(e=="$null")e=null;if(U&&U.data){l=U.sha1["NS.bytes"];l=btoa(n.zQ(l,0,l.length));
N=U.data instanceof Uint8Array?U.data:U.data["NS.bytes"]}else if(U==null&&e==null){var J=dp.Ix("PNG").LA([[u.B(4).buffer]],1,1);
N=new Uint8Array(J)}else{var w=(g.assets?g.assets.imageCollection:g.images).images;if(e)l=e instanceof Uint8Array?e:e["NS.bytes"];
else l=U.sha1["NS.bytes"];l=btoa(n.zQ(l,0,l.length));var N=w[l].data;if(N["NS.bytes"])N=N["NS.bytes"]}N=new Uint8Array(N.buffer.slice(N.byteOffset,N.byteOffset+N.length));
delete d.imageSHA;d.image={key:l,bdata:N}}}return g};au.a2E=function(x){return x.slice(0,11)=="MSImmutable"?"MS"+x.slice(11):x};
au.aT=function(x,R,T){var c=x[T];if(R[T]==1){return c}R[T]=1;if(typeof c=="string")return c;if(typeof c=="number")return c;
if(typeof c=="boolean")return c;if(c instanceof Array)return c;if(c instanceof Uint8Array){return c}if(x[c.$class]==null){if(c.$class==null&&c["NS.data"]!=null)return c;
console.log(T,c);throw"e"}var g=x[c.$class],d=au.a2E(g.$classname);R[c.$class]=1;c.$class=d;if(au.alP[d]){delete c.$class;
c._class=au.alP[d]}var U=au.aT;if(d=="NSMutableArray"||d=="NSArray"){var e=[];if(c["NS.objects"]!=null)for(var z=0;
z<c["NS.objects"].length;z++)e.push(U(x,R,c["NS.objects"][z]));else for(var z=0;c["NS.object."+z]!=null;
z++)e.push(U(x,R,c["NS.object."+z]));x[T]=e;return e}if(d=="NSDictionary"||d=="NSMutableDictionary"){var N={$class:d};
if(c["NS.keys"]!=null)for(var z=0;z<c["NS.keys"].length;z++){var l=U(x,R,c["NS.keys"][z]);if(l instanceof Uint8Array)l=btoa(au.Wa.zQ(l,0,l.length));
else if(typeof l!="string"&&typeof l!="number")l=btoa(au.Wa.zQ(l["NS.bytes"],0,l["NS.bytes"].length));
N[l]=U(x,R,c["NS.objects"][z])}else for(var z=0;c["NS.key."+z]!=null;z++){var l=U(x,R,c["NS.key."+z]);
if(l instanceof Uint8Array)l=btoa(au.Wa.zQ(l,0,l.length));else if(typeof l!="string"&&typeof l!="number")l=btoa(au.Wa.zQ(l["NS.bytes"],0,l["NS.bytes"].length));
N[l]=U(x,R,c["NS.object."+z])}for(var J in c)delete c[J];for(var J in N)c[J]=N[J];return c}if(d=="NSURL")return{$class:d,base:U(x,R,c["NS.base"]),relative:U(x,R,c["NS.relative"])};
if(au.adW.indexOf(d)!=-1){x[T]=U(x,R,c.array_do);return x[T]}if(c.do_objectID!=null)c.do_objectID=U(x,R,c.do_objectID);
if(au.a1O.indexOf(d)!=-1)return c;var w=au.aCF[d];if(w==null){console.log(x,c);throw"unknown class "+d}for(var z=0;
z<w.length;z++)if(c[w[z]]!=null)c[w[z]]=U(x,R,c[w[z]]);if(d=="MSTextLayer"){var s=c,o,V,a,O;if(s.attributedString)o=s.attributedString.archivedAttributedString;
else o=s.storage;O=o.NSString;if(typeof O!="string")O=n.KW(O["NS.bytes"],0,O["NS.bytes"].length);if(o.NSAttributeInfo)V=o.NSAttributeInfo["NS.bytes"];
else{var S=O.length,L=[];while(S>0){var Q=Math.min(100,S);L.push(Q,0);S-=Q}V=new Uint8Array(L)}a=o.NSAttributes instanceof Array?o.NSAttributes:[o.NSAttributes];
var b={$class:"NSAttributedString",NSString:O,NSAttributes:a};s.attributedString={_class:"MSAttributedString",archivedAttributedString:b};
b.NSAttributeInfo={$class:"NSMutableData","NS.data":V};delete s.storage}return c};au.Wa={wh:function(x,R){return x[R+1]<<8|x[R]},s:function(x,R){return x[R+3]<<24|x[R+2]<<16|x[R+1]<<8|x[R]},zQ:function(x,R,T){var c="";
for(var z=0;z<T;z++)c+=String.fromCharCode(x[R+z]);return c}};au.alP={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
au.adW=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
au.a1O="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
au.aCF={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var fI={};fI.parse=function(x,R){var T=n.zQ(x,R,8);R+=8;var c=x.length-32,g=fI.parse.auR(x,c),d=[];if(g.yh==1){var R=c-g.yh*g.lX;
for(var z=0;z<g.lX;z++)d.push(x[R+z])}else if(g.yh==2){var R=c-g.yh*g.lX;for(var z=0;z<g.lX;z++)d.push(n.wh(x,R+z*2))}else if(g.yh==4){var R=c-g.yh*g.lX;
for(var z=0;z<g.lX;z++)d.push(n.s(x,R+z*4))}else{throw"e"}var U=fI.parse.aT(x,d,g.root,g);return U};
fI.parse.aT=function(x,R,T,c){var g=fI.Wa,d=c.agz,U=d==4?g.s:d==2?g.wh:g.a6o,e=fI.parse,N=R[T],l=x[N],J=l>>4,w=l&15,o=null;
N+=1;if([4,5,6,10,12,13].indexOf(J)!=-1&&w==15){var s=e.yr(x,N);N+=s.Mi;w=s.b}if(!1){}else if(J==0)o=w==8?!1:w==9?!0:null;
else if(J==1)o=e.yr(x,N-1).b;else if(J==2)o=1<<w==4?n.Ky(x,N):n.nP(x,N);else if(J==3)o=n.nP(x,N);else if(J==4)o=new Uint8Array(x.buffer,N,w);
else if(J==5)o=n.zQ(x,N,w);else if(J==6)o=n.tS(x,N,w);else if(J==8){o=0;for(var z=0;z<w+1;z++)o=o<<8|x[N+z]}else if(J==10){o=[];
for(var z=0;z<w;z++)o.push(e.aT(x,R,U(x,N+d*z),c))}else if(J==12){o=[];for(var z=0;z<w;z++)o.push(e.aT(x,R,U(x,N+d*z),c))}else if(J==13){o={};
for(var z=0;z<w;z++){var V=e.aT(x,R,U(x,N+d*z),c),a=e.aT(x,R,U(x,N+d*(w+z)),c);o[V]=a}}else throw"unknown mask "+J;
return o};fI.parse.yr=function(x,R){var T=1<<(x[R]&15),c=0;for(var z=0;z<T;z++)c=c<<8|x[R+1+z];return{b:c,Mi:T+1}};
fI.parse.auR=function(x,R){var T={};R+=6;T.yh=x[R];R++;T.agz=x[R];R++;R+=4;T.lX=n.s(x,R);R+=4;R+=4;T.root=n.s(x,R);
R+=4;R+=4;T.aaE=n.s(x,R);R+=4;return T};fI.Wa={a6o:function(x,R){return x[R]},wh:function(x,R){return x[R]<<8|x[R+1]},s:function(x,R){return x[R]<<24|x[R+1]<<16|x[R+2]<<8|x[R+3]},zQ:function(x,R,T){var c="";
for(var z=0;z<T;z++)c+=String.fromCharCode(x[R+z]);return c}};var b8={parse:function(x){var R=new Uint8Array(x),T=b8.mP(R),c=[],g=new Uint8Array(R.length),d=[];
c.push(d);b8.E8(R,T,1,g,d);for(var z=0;z<d.length;z++){var U=[];c.push(U);b8.E8(R,T,d[z][3],g,U,z==11);
d[z][3]=z+1}return c},E8:function(x,R,T,c,g,d){T--;var U=T*R.s$+(T==0?100:0),e=x[U],N=b8.wh(x,U+1),l=b8.wh(x,U+3),J=b8.wh(x,U+5),s=0;
if(J==0)J=65536;var w=x[U+7];U+=8;if(e==2||e==5){s=b8.s(x,U);U+=4}for(var o=0;o<l;o++){var V=T*R.s$+b8.wh(x,U+2*o),a=-1,O=0,S=0,L=0;
if(e==2||e==5){a=b8.s(x,V);V+=4}if(e==2||e==10||e==13){O=b8.m9(x,V);V+=O.Mi}if(e==5||e==13){S=b8.m9(x,V);
V+=S.Mi}if(e==2||e==5){b8.E8(x,R,a,c,g,d);continue}var Q=R.s$-(T==0?100:0),b=O.hu,Z=e==13?Q-35:Math.floor((Q-12)*64/255)-23,I=Math.floor((Q-12)*32/255)-23,y=I+(b-I)%(Q-4);
if(b<=Z){b8.kS(x,V,c,0,b)}else{var r=y<=Z?y:I,h=0;b8.kS(x,V,c,0,r);h+=r;L=b8.s(x,V+r);while(L!=0){var k=(L-1)*R.s$;
L=b8.s(x,k);var K=Math.min(R.s$-4,b-h);b8.kS(x,k+4,c,h,K);h+=K}}g.push(b8.a7F(c,b))}if(s!=0)b8.E8(x,R,s,c,g,d)},a7F:function(x,R){var T=0,c=b8.m9(x,T);
T+=c.Mi;var g=[],d=[];while(T<c.hu){var U=b8.m9(x,T);T+=U.Mi;g.push(U.hu)}if(T!=c.hu)throw"e";for(var z=0;
z<g.length;z++){var U=g[z];if(!1){}else if(U==0)d.push(null);else if(U==1){d.push(b8.a5W(x,T));T+=1}else if(U==2){d.push(b8.Z8(x,T));
T+=2}else if(U==3){d.push(b8.a9b(x,T));T+=3}else if(U==4){d.push(b8.yr(x,T));T+=4}else if(U==5){d.push(b8.s(x,T+2));
T+=6}else if(U==6){d.push(b8.s(x,T)+":"+b8.s(x,T+4));T+=8}else if(U==7){d.push(b8.a0b(x,T));T+=8}else if(U==8)d.push(0);
else if(U==9)d.push(1);else if(U>=12&&(U&1)==0){var e=U-12>>1,N=new Uint8Array(e);b8.kS(x,T,N,0,e);d.push(N);
T+=e}else if(U>=13&&(U&1)==1){var e=U-13>>1;d.push(b8.KW(x,T,e));T+=e}else throw"unknonw type "+U}return d},mP:function(x){if(!(x[18]==1&&x[19]==1&&x[20]==0&&x[21]==64&&x[22]==32&&x[23]==32))throw"unexpected SQL3 header";
var R={aO:b8.zQ(x,0,15),s$:b8.wh(x,16),aiN:b8.s(x,24),size:b8.s(x,28),ahe:b8.s(x,32),a5r:b8.s(x,36),axx:b8.s(x,40),a4b:b8.s(x,44),a2M:b8.s(x,48),ayF:b8.s(x,52),arQ:b8.s(x,56),agT:b8.s(x,60),ab0:b8.s(x,64)!=0,a2A:b8.s(x,68),ah1:b8.s(x,92),aA6:b8.s(x,96)};
if(R.s$==1)R.s$=65536;if(R.arQ!=1)throw"unsupported text encoding "+R.arQ;return R},apn:function(x,R){return x[R]<<16|x[R+1]<<8|x[R+2]},a9b:function(x,R){var T=b8.apn(x,R),c=T&8388608;
return c?-(16777215-T+1):T},a5W:function(x,R){b8.YG[0]=x[R];return b8.azh[0]},yr:function(x,R){var T=b8.YG;
for(var z=0;z<4;z++)T[z]=x[R+3-z];return b8.ahK[0]},Z8:function(x,R){var T=b8.YG;T[0]=x[R+1];T[1]=x[R];
return b8.amK[0]},wh:function(x,R){return x[R]<<8|x[R+1]},s:function(x,R){var T=b8.YG;for(var z=0;z<4;
z++)T[z]=x[R+3-z];return b8.ahE[0]},a0b:function(x,R){var T=b8.YG;for(var z=0;z<8;z++)T[z]=x[R+7-z];
return b8.a69[0]},m9:function(x,R){var T=R,cg=0;while(!0){var c=x[R];R++;cg=cg*128+(c&127);if(c<128)break}return{hu:cg,Mi:R-T}},zQ:function(x,R,T){var c="";
for(var z=0;z<T;z++)c+=String.fromCharCode(x[R+z]);return c},KW:function(x,R,T){var c="";for(var z=0;
z<T;z++)c+="%"+b8.a7t(x[R+z].toString(16));try{c=decodeURIComponent(c);return c}catch(i3){return c}},kS:function(x,R,T,c,g){if(x[R+g-1]==null||T[c+g-1]==null){console.log(R,c,g);
throw"e"}for(var z=0;z<g;z++)T[c+z]=x[R+z]},a7t:function(cg){return cg.length<2?"0"+cg:cg}};b8.YG=new Uint8Array(8);
b8.azh=new Int8Array(b8.YG.buffer);b8.amK=new Int16Array(b8.YG.buffer);b8.ahK=new Int32Array(b8.YG.buffer);
b8.ahE=new Uint32Array(b8.YG.buffer);b8.a69=new Float64Array(b8.YG.buffer);b8.a4q=function(x,R){var T=x[0],c={};
for(var z=0;z<T.length;z++){var g=T[z],d=g[1];if(g[0]!="table")continue;var U=g[4];U=U.slice(U.indexOf("(")+1,U.indexOf(")"));
U=U.split(",");for(var e=0;e<U.length;e++){var N=U[e].trim().split(" ")[0];if(R&&N.startsWith(d))N=N.slice(d.length);
U[e]=N}var l=c[d]=[],J=x[g[3]];for(var e=0;e<J.length;e++){var w=J[e],s={};l.push(s);for(var o=0;o<U.length;
o++){if(s[U[o]]!=null)throw"e";s[U[o]]=w[o]}}}return c};function cl(x,R,T){this.Hv=x;this.ga=R;this.aA4=T;
this.J0=new cI(0,0);this.pU=-1;this.Jz=0;this.Xj=0;this.f8=new aP;this.Yi=[];this.DR=null;this.aBK=null;
this.cZ=null;this.BK=null;this.dR=null;this.asK=null}cl.prototype.StartPage=function(x,R,T,c,g){var d=this.ga,U=d.Rt(),e=1,N=(T-x)*(c-R);
if(g!=null)N=g;while(N*U*U/(e*e)>2*8192*8192)e++;d.scale(1/e,1/e);this.aBK=[x,R,T,c];var e=d.Rt();x=Math.round(x*e);
R=Math.round(R*e);T=Math.round(T*e);c=Math.round(c*e);var l=this.Hv,J=this.cZ;if(J==null){d.a4=-x}else{var w=J[2]-J[0]+30,s=Math.round(T-x)+30;
if(this.J0.x+w+s>8192){d.a4=-x;this.J0.x=0;this.J0.y+=this.Xj+120;this.Xj=0}else{d.a4+=w;this.J0.x+=w}}d.rY=this.J0.y+(this.aA4?c:-R);
this.Xj=Math.max(this.Xj,Math.round(c-R));this.cZ=[x,R,T,c];this.afF=[];l.R.push(l.Sw())};cl.prototype.StartTGroup=function(x){this.vl();
var R=this.Hv;R.R.push(R.Sw());var T=cl.x2[x.bmode];if(T==null)T="norm";var c=R.CH();c.Je("<Group>");
c.add.lsct=ew.bZ;c.mh=T=="norm"?"pass":T;c.Yn=24;c.opacity=Math.round(255*x.ca);this.afF.push(c)};cl.prototype.EndTGroup=function(){this.Hv.R.push(this.afF.pop())};
cl.prototype.a0e=function(){var x=this.Hv,R=x.R[x.R.length-1];return R};cl.prototype.aeC=function(){var x=this.Hv,R=x.CH();
R.Je("Path "+x.R.length);this.Hv.R.push(R);R.Yn|=16;R.add.SoCo={classID:"null",Clr:{t:"Objc",v:u.I.SE({o:0,A:0,J:0})}};
R.add.vmsk=new F.LS;R.add.vstk=fJ.SC.GI();return R};cl.prototype.IW=function(x){var R={z:x.crds,G:x.cmds},T=u.M.gj(R,!1);
u.j.q0(T,this.ga);return T};cl.axc=function(x,R){for(var z=0;z<x.length;z++)if(x[z].AC!=null)x[z].AC=R};
cl.YB=function(x){return u.I.SE({o:x[0]*255,A:x[1]*255,J:x[2]*255})};cl.Jx=function(x){return new gP(x[0],x[1],x[2],x[3],x[4],x[5])};
cl.prototype.Stroke=function(x){if(this.pU!=-1&&this.pU!=this.Jz)return;if(x.pth.cmds.length<=1)return;
var R=this.IW(x.pth),d=null;if(R.length<=2)return;this.IH(x);cl.axc(R,-1);R[2].AC=1;var T=this.a0e(),c=fJ.SC.GI(),g=x.ctm;
fJ.SC.write(c,x,Math.sqrt(Math.abs(g[0]*g[3]-g[1]*g[2]))*this.ga.Rt());if(!(x.COLR instanceof Array)){d=u.M.QK(x.pth.crds);
var U=u.M.$x(d);u.M.i(U.z,this.ga,U.z);d=u.M.QK(U.z)}var e=cl.Re(x.COLR,this.ga,d),N=["SoFi","GrFl","patternFill"].indexOf(e.type),l=[fJ.RV,fJ.dc,fJ.lK][N],J=c.strokeStyleContent.v={classID:fJ.SC.af[N]};
for(var z=0;z<l.length;z++)J[l[z]]=e.b.v[l[z]];var w=T!=null&&T.add.vmsk!=null&&!T.NW(),s=w&&!T.add.vstk.fillEnabled.v&&JSON.stringify(c)==T.add.vsjs;
if(s){var o=T.add.vmsk.$;for(var z=2;z<R.length;z++)o.push(R[z])}else{var V=w&&!T.add.vstk.strokeEnabled.v&&F.LS.a4U(T.add.vmsk.$,R,!0);
if(V){T.add.vstk=c;c.fillEnabled.v=!0}else{T=this.aeC();T.add.vmsk.$=R;T.add.vstk=c;T.add.vsjs=JSON.stringify(c)}}};
cl.prototype.Fill=function(x,R){if(this.pU!=-1&&this.pU!=this.Jz)return;if(x.ca==0)return;var T=x.pth.cmds;
if(T.length==0)return;if(T.length==2&&JSON.stringify(T)=="[\"M\",\"L\"]")return;var c=u.M.QK(x.pth.crds),g=u.M.QK(x.cpth.crds);
if(c.yx(g).Y3())return;var d=x.pth,U=UDOC.G.isBox(d,[c.x,c.y,c.x+c.m,c.y+c.e]),e=x.cpth,N=UDOC.G.isBox(e,[g.x,g.y,g.x+g.m,g.y+g.e]);
if(U&&N&&c.Z()>g.Z()*2){var l=c.yx(g),J=l.x,w=l.y,s=J+l.m,o=w+l.e;d={cmds:["M","L","L","L","Z"],crds:[J,w,s,w,s,o,J,o]};
c=l}else if(this.BK==null&&UDOC.G.isBox(d,[c.x,c.y,c.x+c.m,c.y+c.e])&&c.Ae(g)){d=e;c=g}else this.IH(x);
var V=this.IW(d),a=u.M.$x(c);u.M.i(a.z,this.ga,a.z);c=u.M.QK(a.z);var O=cl.Re(x.colr,this.ga,c),S=this.a0e(),L=S!=null&&S.opacity==Math.round(255*x.ca)&&S.add.vstk!=null&&!S.add.vstk.strokeEnabled.v&&S.add.SoCo&&O.type=="SoFi"&&JSON.stringify(S.add.SoCo.Clr.v)==JSON.stringify(O.b.v.Clr.v);
if(L){var Q=!1;for(var z=0;z<V.length;z++){if(V[z].AC==0||V[z].AC==2)Q=!0}if(Q){var b=u.M.QK(u.j.Md(S.add.vmsk.$)),Z=u.M.QK(u.j.Md(V));
L=b.yx(Z).Y3()}}if(L){var I=S.add.vmsk.$;for(var z=2;z<V.length;z++)I.push(V[z])}else{S=this.aeC();delete S.add.SoCo;
S.add.vmsk.$=F.LS.Lz(V);cl.yz(x.colr,S,this.ga,c);cl.av8(x,S)}};cl.yz=function(x,R,T,c){var g=cl.Re(x,T,c),d=null,U=null;
R.add.vstk.fillEnabled.v=!0;if(g.type=="SoFi"){d="SoCo";U=fJ.RV}if(g.type=="GrFl"){d="GdFl";U=fJ.dc}if(g.type=="patternFill"){d="PtFl";
U=fJ.lK}if(d!=null){R.add[d]={classID:"null"};for(var z=0;z<U.length;z++){var e=U[z];R.add[d][e]=g.b.v[e]}}};
cl.prototype.IH=function(x){var R=this.Hv,T=x.cpth,c=T.cmds.join(""),g=T.crds,d=c+" "+g.join(","),U=UDOC.G.isBox(T,this.aBK);
if(U&&this.BK==null)return;if(d==this.BK)return;this.vl();if(!U){this.BK=d;R.R.push(R.Sw());var e=R.CH();
e.Je("Mask");e.add.lsct=ew.qW;e.mh="pass";e.Yn=24;var N=e.add.vmsk=new F.LS;N.$=this.IW(x.cpth);if(UDOC.G.isBox(T)){this.dR=u.j.pP(N.$);
this.dR.t1(3,3)}else this.dR=null;this.asK=e}};cl.prototype.vl=function(){var x=this.Hv;if(this.BK!=null){var R=x.R.length-1,z=R,T=!1;
while(z>=0&&x.R[z].add.lsct!=ew.SO)z--;var c=this.dR;if(c){var g=new aP,d=R;while(d>z){g=x.R[d].SW(this.Hv,!1,!0);
d--}T=c.Ae(g)}if(T){this.Yi.splice(z,1);x.R.splice(z,1)}else{x.R.push(this.asK)}this.BK=null}};cl.Re=function(x,R,T){var c,g;
if(x.length!=null){c="SoFi";var d=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);g={t:"Objc",v:d};g.v.Clr.v=cl.YB(x)}else{var U=cl.aon(x,R,T);
c="GrFl";g={t:"Objc",v:U}}return{type:c,b:g}};cl.aon=function(x,R,T){var c=JSON.parse(fJ.Ck[fJ.order.indexOf("GrFl")]),g=c.Grad.v;
g.Intr.v=0;var d=cl.Jx(x.mat);d.concat(R);var U=new cI(0,0),e=new cI(T.m,0),N=x.crds;if(x.typ=="rad"){c.Type.v.GrdT="Rdl";
var l=.7;U.x=(1-l)*N[0]+l*N[3];U.y=(1-l)*N[1]+l*N[4];e.x=U.x;e.y=U.y;e.x+=Math.max(N[2],N[5])}else{c.Type.v.GrdT="Lnr";
U.x=N[0];U.y=N[1];e.x=N[2];e.y=N[3];U.x=e.x+.5*(U.x-e.x);U.y=e.y+.5*(U.y-e.y)}U=d.Wk(U);e=d.Wk(e);u.I.Wz(U,e,T,c);
var J=x.grad;u.I.lw(J,g);return c};cl.prototype.PutText=function(x,R,T,c){var g=R.charCodeAt(0),o=null;
if(this.pU!=-1&&this.pU!=this.Jz)return;if(R.length==0||R.length==1&&(g==0||g==8203))return;this.IH(x);
var d=this.Hv,U=x.font,e=Math.round(255*x.ca);if(x.font.Tmode==3)e=0;var N=cl.Jx(x.ctm);N.concat(this.ga);
var l=cl.Jx(U.Tm);l.concat(N);var J=l.Rt(),w=new gP(1/J,0,0,-1/J,0,0);w.concat(l);var s=U.Tfs*J,V=d.R.length-1;
while(V>=0&&d.R[V].add.TySh==null)V--;if(w.J*w.J+w.zI*w.zI<.001&&c==null&&V>=0&&d.R[V].add.TySh&&d.R[V].opacity==e){var a=d.R[V],O=this.Yi[V],S=a.add.TySh.i,L=(w.a4-O.aAf)/s,Q=Math.abs(L),b=S.Y==w.Y&&S.J==w.J&&S.zI==w.zI&&S.jR==w.jR,Z=w.rY-O.KK,I=b&&Math.abs(Z)<1e-5&&Q<1;
if(I){o=a;if(L>.2&&[".",",","?",":","!"].indexOf(R)==-1){R=" "+R;T+=.5}}else if(b&&0<Z&&Z<s*1.7&&O.acv==s){o=a;
this.aka(O);O.KK=w.rY;O.aB3=w.a4;R="\n"+R}}if(o==null){V=d.R.length;this.Yi[V]={Lb:[],A1:0,aAf:w.a4,KK:w.rY,aB3:w.a4,f0:"",acv:s};
o=d.CH();d.R.push(o);o.add.lnsr="rend";o.add.TySh=bL.Zk(0,0);o.add.TySh.i=w}var O=this.Yi[V];O.A1+=T*s;
O.f0+=R;O.aAf=w.a4+T*s;var y=o.add.TySh.pM,r=bL.rl(y);if(c){bL.vo(y,1);var h=[0,0,Math.ceil(c[0]*J),Math.ceil(c[1]*J)];
bL.RO(y,h)}var k=r.length-1,K=k+R.length;bL.nw(y,k,R);if(this.DR==null)this.DR=bL.ge(y,k,k);var H=this.DR;
H.Ba.FontSize=Math.round(s);H.Ba.Tracking=Math.round(U.Tc*100);H.Ba.Underline=U.Tun==1;H.Ba.FillColor={Type:1,Values:[1,x.colr[0],x.colr[1],x.colr[2]]};
if(U.Tal!=null)H.qi.Justification=U.Tal;if(O.Lb.length!=0){H.Ba.AutoLeading=!1;H.Ba.Leading=O.KK-O.Lb[O.Lb.length-1].y}var p=U.Tf;
p=p.replace(/#2B/g,"+");p=p.replace(/#2C/g,"-");p=p.split("+").pop();var f={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(f[p])p=f[p];bL.EF(H,p);bL.T3(y,k,K-1,H);o.kl();o.opacity=e};cl.prototype.aka=function(x){x.Lb.push({KQ:x.A1,fU:x.f0.slice(x.Lb.length==0?0:1)+"\n",x:x.aB3,y:x.KK,Kt:x.acv});
x.A1=0;x.f0=""};cl.prototype.ry=function(x,R,T){return new Uint8Array(dp.Ix("PNG").LA([[x.buffer,0]],R,T))};
cl.prototype.PutImage=function(x,R,T,c,g,d,U){if(this.pU!=-1&&this.pU!=this.Jz)return;var e=this.Hv,N=x.font.Tmode;
if(N==7&&e.R[e.R.length-1].add.TySh){return}this.IH(x);var l=cl.Jx(x.ctm);l.concat(this.ga);var J=new gP(1/T,0,0,-1/c,0,1);
J.concat(l);l=J;R=cl.axu(R,T,c,d,!1);if(g)g=cl.axu(g,T,c,U,!0);if(g==null){if(R.length==T*c*4)R=this.ry(R,T,c)}else{R=this.aCP(R,T,c,d,!1);
g=this.aCP(g,T,c,U,!0);var w=u.B(T*c);u.TR(g,w,0);u.rN(w,R,3);R=this.ry(R,T,c)}var s=e.mk(R,"Bitmap",0,0),o=s.rect.clone();
o.x=o.y=0;var V=u.M.$x(o).z;u.M.i(V,l,V);s.add.SoLd.Trnf=D.gW.db(V);s.add.SoLd.nonAffineTransform=D.gW.db(V);
s.Ht(e,!1);cl.av8(x,s);e.R.push(s)};cl.av8=function(x,R){R.opacity=Math.round(255*x.ca);var T=cl.x2[x.bmode];
if(T==null)console.log("Unknown blend mode",T);else R.mh=T};cl.x2={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
cl.a92=function(x){if(x=="pass")x="norm";for(var R in cl.x2)if(cl.x2[R]==x)return R;return"/Normal"};
cl.axu=function(x,R,T,c,g){var d=dp.Xk(x.buffer);if(d=="jpg"){try{x=new Uint8Array(dp.Ix("JPG").ajO(x.buffer))}catch(i3){x=new Uint8Array(R*T*4)}}else if(d=="jb2"){x=new Uint8Array(dp.Ix("JPG").x3(x.buffer,c,g)[0].data)}else if(x.length!=R*T*4){var U=new Uint8Array(R*T*4),e=Math.ceil(R/8),N=new Uint8Array(T*e);
UTIF.decode._decodeG4(x,0,x.length,N,0,R,1);var l=N[0]==(g?255:0);for(var J=0;J<T;J++){var w=e*J;for(var s=0;
s<R;s++){var z=J*R+s,o=z*4,V=(N[w+(s>>3)]>>7-(s&7)&1)*255;if(l)V=255-V;U[o]=V;U[o+1]=V;U[o+2]=V;U[o+3]=255}}x=U}return x};
cl.prototype.aCP=function(x,R,T,c,g){if(x.length!=R*T*4){var d=dp.Xk(x.buffer);if(d=="jb2")throw"e";
var U=dp.Ix(d);if(U==null||d=="tga")U=dp.Ix("jpg");x=new Uint8Array(U.x3(x,c,g)[0].data)}return x};cl.prototype.ShowPage=function(){var x=this.Hv;
this.Jz++;var R=this.cZ;this.vl();var T=x.CH();x.R.push(T);var c=new aP(Math.round(this.J0.x),Math.round(this.J0.y),Math.round(R[2]-R[0]),Math.round(R[3]-R[1]));
if(c.Y3())c.m=c.e=2e3;this.f8=this.f8.y8(c);T.yc(c);T.add.artb.artboardBackgroundType.v=1;T.Je("Page "+this.Jz);
T.add.lsct=ew.qW;T.mh="pass";T.Yn=24};cl.prototype.Print=function(x){console.log("Print:",x)};cl.prototype.Done=function(){var x=this.Hv;
if(this.Jz==1)x.R[x.R.length-1].add.lsct=ew.bZ;x.MH(this.Jz);for(var z=0;z<x.R.length;z++){var R=x.R[z],T=R.add.vmsk,c=R.add.TySh,g=this.Yi[z];
R.h5();delete R.add.vsjs;if(T){var d=!1;for(var U=0;U<T.$.length;U++){var e=T.$[U];if((e.type==0||e.type==3)&&e.length>32767)d=!0}if(d){x.R.splice(z,1);
z--;continue}}R.sG(x);if(c&&g&&g.Lb.length!=0){this.aka(g);var N=c.pM,l=g.Lb.length,J=g.Lb[0],w=1e9,s=-1e9,I="";
for(var U=0;U<l;U++){var o=g.Lb[U];w=Math.min(w,o.x);s=Math.max(s,o.x+o.KQ)}var V=[];for(var U=0;U<l;
U++){var o=g.Lb[U],a=-1,O=J.Kt*.1,S=Math.abs(o.x-w),L=Math.abs(o.x+o.KQ-s),Q=Math.abs(S-L);if(Q<O)a=2;
if(L<O){a=1;if(o.x!=w)if(U!=0&&g.Lb[U-1].x==o.x||U!=l-1&&g.Lb[U+1].x==o.x)a=-1}if(S<O)a=0;if(o.KQ==s-w)a=3;
V.push(a)}var b=[!1,!1,!1];for(var U=0;U<l;U++){var a=V[U];if(a==3)a=U==0?V[U+1]:V[U-1];if(a==3)a=0;
V[U]=a;b[a]=!0}var Z=(s-w)*.05;if(b[0]&&!b[1])s+=Z;if(!b[0]&&b[1])w-=Z;if(!b[0]&&!b[1]){w-=Z;s+=2*Z}bL.vo(N,1);
c.i.rY-=J.Kt*.7;c.i.a4=Math.round(w);bL.RO(N,[0,0,Math.ceil(s-w),Math.ceil(g.Lb[l-1].y-J.y+J.Kt*2)]);
for(var U=0;U<l;U++){var o=g.Lb[U],a=V[U],y=0;if(a==-1){a=0;y=Math.round(o.x-w)}var r=I.length,h=r+o.fU.length;
I+=o.fU;var k={uY:[],Ba:{},qi:{Justification:a,StartIndent:y}};bL.T3(c.pM,r,h-1,k)}}if(c){var N=c.pM;
bL.a3f(N);var K=bL.rl(N).split("\n");for(var U=0;U<K.length-1;U++){var o=K[U],H=0;for(var p=0;p<o.length;
p++){var f=o.charCodeAt(p);if(1473<=f&&f<=1524)H++}if(H>o.length/2){K[U]=o.split("").reverse().join("");
var A=N.EngineDict.ParagraphRun.RunArray[U].ParagraphSheet.Properties;A._Direction=1;A.Justification=bL.hy(A)}}bL.qj(N,K.join("\n"))}}x.cF=!0;
x.m=this.f8.m;x.e=this.f8.e;x.buffer=u.B(this.f8.Z()*4)};var is={};is._c=null;is.P7=function(x,R,T,c,g,d){if(g==null)g=x.m;
if(d==null)d=x.e;is._c=x;var U=!1,e=[x.root],N=x.root.children;if(x.add.artd){U=!0;for(var z=0;z<N.length;
z++)if(N[z].a.add.artb==null)U=!1;if(U)e=N}var l=new aP(0,0,x.m,x.e),J=R[0];J=J.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
J=J.split(" ");var w=[];for(var z=0;z<J.length;z++){var s=J[z];if(s=="-"){var o=w.pop(),V=parseInt(J[z+1]);
while(o<V){w.push(o);o++}}else w.push(parseInt(s))}J=w;for(var z=0;z<J.length;z++)if(isNaN(J[z])||J[z]<1||J[z]>e.length){J.splice(z,1);
z--}var a=g/x.m,O=d/x.e,S=a*72/x.De,L=O*72/x.De,Q=R[5];if(Q==null)Q=0;var b=72*Q,Z=72*Q;for(var I=0;
I<e.length;I++){var z=I;if(R[2])z=e.length-1-I;if(J.length!=0&&J.indexOf(z+1)==-1)continue;var y=e[z],r=U?y.a.Ie():l;
if(!y.a.Pm())continue;var h=Math.round(r.m*S+2*b),k=Math.round(r.e*L+2*Z);T.StartPage(0,0,h,k);var K=UDOC.getState(),H=new gP;
H.translate(-r.x,-r.y-r.e);H.scale(S,-L);H.translate(b,Z);if(U){var p=y.a.add.artb,f=p.artboardBackgroundType.v;
if(f!=1&&f!=3){var A=y.a.Ji(),_=b*S,W=Z*L,Y=_+r.m*S,G=W+r.e*L;K.colr=[(A>>>0&255)/255,(A>>>8&255)/255,(A>>>16&255)/255];
K.pth={cmds:["M","L","L","L","Z"],crds:[_,W,Y,W,Y,G,_,G]};T.Fill(K)}}if(R[3]){var i=x.Yr();if(!l.X$(r)){i=u.B(r.Z()*4);
u.yU(x.Yr(),l,i,r)}var E=x.Cl();if(E)ICC.U.applyLUT(E[x.add.fcmy==1?5:3],E[2],i,i);var $=dp.Ix("JPG").LA([[i.buffer]],r.m,r.e,[R[1]]);
i=new Uint8Array($);var C=new gP;C.translate(r.x,r.y);is.I_(K,T,i,r,C,H)}else{is.a9K(x,y,K,T,H,R,c);
if(b!=0){var _=b,W=Z,Y=_+r.m,G=W+r.e,B=Y+b,M=G+b;K.ca=1;K.colr=[1,1,1];K.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,M,B,M,B,0,_,W,Y,W,Y,G,_,G]};
T.Fill(K)}}if(R[6]){var j=[[0,0],[1,0],[1,1],[0,1]],P=50,t=5,q=P*.5,m=t*.5;K.colr=[.1,.1,.1];for(var I in j){var iE=j[I],hV=[I==0||I==3?-1:1,I==0||I==1?-1:1],dD=[b-q+m*hV[0]+iE[0]*x.m,Z-(hV[1]!=1?t:0)+iE[1]*x.e],bh=[b-(hV[0]!=1?t:0)+iE[0]*x.m,Z-q+m*hV[1]+iE[1]*x.e];
K.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[dD[0],dD[1],dD[0]+P,dD[1],dD[0]+P,dD[1]+t,dD[0],dD[1]+t,bh[0],bh[1],bh[0]+t,bh[1],bh[0]+t,bh[1]+P,bh[0],bh[1]+P]};
T.Fill(K)}}var ho=x.co;for(var aH=0;aH<ho.length;aH++){var f2=ho[aH].v,r=u.zb.zC(f2),e9=u.M.$x(r).z;
u.M.i(e9,H,e9);var kB=u.M.QK(e9);if(!new aP(0,0,h,k).Ae(kB))continue;if(T.AddAnnot)T.AddAnnot([kB.x,kB.y,kB.x+kB.m,kB.y+kB.e],f2.url.v)}T.ShowPage()}T.Done();
is._c=null};is._X=function(x){x=u.I.ir(x);return[x.o/255,x.A/255,x.J/255]};is.a9K=function(x,R,T,c,g,d,U){var e=R.a,N=e.add.lsct,l=e.add.lmfx,J=e.add.vmsk,w=e.add.vstk,s=e.add.TySh,S,L,K;
if(!e.Pm())return;var o=e.opacity/255,V=e.add.iOpa!=null?e.add.iOpa/255:1;T.bmode=cl.a92(e.mh);var a=T.ca;
T.ca=T.CA=o*V;var O=l;if(O)O=O.solidFillMulti.v[0];if(O)O=O.v;if(O&&!O.enab.v)O=null;var Q=e.rect;if(e.yd()&&(!e.NW()||e.um&&e.um.lv)){if(e.NW()){S=e.um.lv;
Q=e.um.aj0}else{S=u.B(e.rect.Z());u.TR(e.buffer,S,3)}L=e5.Bg(l,e.add.fxrp,S,Q,x,Q).type;var b=["DrSh","OrGl"];
if(V!=1||w&&!w.fillEnabled.v){var Z=S.slice(0);u.F0(Z);for(var z=0;z<b.length;z++){var I=L[b[z]];for(var y=0;
y<I.length;y++){var r=I[y],h=r.$F.clone();h.x+=Q.x;h.y+=Q.y;u.AD(Z,Q,r.z6,h)}}}}if(L)is.a6J(e,S,Q,L,T,c,g,d,!0);
var k=e5.aaH(e,!1);if(k){c.StartTGroup(T);K=T;T=UDOC.getState()}var H=J&&!e.bT();if(H){var p=u.M.Ju(J.$,!1),f=p.wP;
u.M.i(f.z,g,f.z);T.cpth={cmds:f.G,crds:f.z}}if(e.NW()){for(var z=0;z<R.children.length;z++)is.a9K(x,R.children[z],T,c,g,d,U)}else if(J&&e.bT()&&e.add.PtFl==null){var A=J.$,_=u.j.pP(A),W=!1;
if(w.fillEnabled.v){var Y=e5.zg(l,e.add),G=Y[0],i=Y[1];T.colr=is.a03(G?G:i,g,_);W=!0}var E=e5.Mq(l);
if(!w.strokeEnabled.v&&E)w=E;var p=u.M.Ju(A,w.strokeEnabled.v),f=p.wP;u.M.i(f.z,g,f.z);T.pth={cmds:f.G,crds:f.z};
is.apz(c,T,W,w,g,_,p.HL!=0)}else if(s&&d[4]){var $=s.pM,C=new aU($,U),f=cQ.R8(C,s,!0),B=u.M.GS(f),M=e5.Mq(l);
for(var j in B){var P=parseInt(j.slice(1,7),16),t=0;T.colr=O?is._X(O.Clr.v):is.a0u(P);var q=B[j];u.M.i(q.z,g,q.z);
q=u.M.aB7(q);T.pth={cmds:q.G,crds:q.z};var w=M;if(j.length>7){w=fJ.SC.GI();var m=j.slice(7).split("-"),P=parseInt(m[1].slice(1),16),iE=is.a0u(P);
w.fillEnabled.v=!0;w.strokeEnabled.v=!0;w.strokeStyleLineWidth.v.val=parseFloat(m[2]);w.strokeStyleContent.v.Clr.v=O?O.Clr.v:u.I.SE({o:iE[0]*255,A:iE[1]*255,J:iE[2]*255});
w.strokeStyleMiterLimit.v=parseFloat(m[2])}is.apz(c,T,!0,w,g,null,!1)}}else if(s){var $=JSON.parse(JSON.stringify(s.pM));
bL.a3f($);var hV=s.i.clone(),dD=new gP(1,0,0,-1,0,0);dD.concat(hV);dD.concat(g);var bh=bL.rl($),C=new aU($,U);
for(var z=0;z<C.qi.length;z++){var ho=C.qi[z];if(ho.YJ.length==1&&ho.YJ[0].O2)continue;for(var y=0;y<ho._4.length;
y++){var aH=ho._4[y],f2=ho.Og.y+aH.Og.y,e9=ho.YJ[aH.start].start,kB=ho.YJ[aH.end-1].end,ct=bL.a8N($,e9,kB);
for(var jF=0;jF<ct.length;jF++){var fj=C.KP(e9),ab=ct[jF],iw=bL.ge($,e9,e9),jD=iw.uY[iw.Ba.Font].Name;
T.font.Tf=jD;var j=bL.ir(iw.Ba.FillColor);T.colr=O?is._X(O.Clr.v):[j.o/255,j.A/255,j.J/255];var a1=T.font.Tfs=Math.round(iw.Ba.FontSize),gd=bh.slice(e9,e9+ab);
if(iw.Ba.FontCaps==2)gd=gd.toUpperCase();var i6=new gP;i6.translate(fj.v4.x,-f2);i6.concat(dD);T.ctm=[i6.Y,i6.J,i6.zI,i6.jR,i6.a4,i6.rY];
c.PutText(T,gd,0);for(var hv=0;hv<2;hv++){var jh=iw.Ba[hv==0?"Strikethrough":"Underline"];if(!jh)continue;
var hS=C.KP(e9+ab-1),iO=hv==0?.27:-.2,g$=a1*iO,bF=a1*(iO+.07),t=hS.v4.x+hS.v4.m-fj.v4.x,hy=[0,g$,t,g$,t,bF,0,bF];
u.M.i(hy,i6,hy);T.pth={cmds:["M","L","L","L","Z"],crds:hy};c.Fill(T)}T.ctm=[1,0,0,1,0,0];e9+=ab}}}}else if(!e.rect.Y3()){var fg,hL,dn=!1,c5=new gP,gt=e.add.SoLd,iK=!0;
if(gt)iK=u.D.VJ(u.D.ok(D.gW.Yg(gt.Trnf)));var iz=x.Cl();if(gt&&iK&&iz==null){var gI=gt.Idnt.v,ce=x.Ln(gI,gt.Crop?gt.Crop.v:null),kg="";
if(ce==null)return;var b7=ce.Zn,br=dp.Xk(ce.raw.buffer);if(d[7].indexOf(br)!=-1){fg=ce.raw;dn=!0}else fg=b7[0];
hL=b7[1];c5=u.D.ZE(gt)}else{fg=e.buffer;hL=e.rect;c5.translate(hL.x,hL.y);if(iz){fg=fg.slice(0);ICC.U.applyLUT(iz[x.add.fcmy==1?5:3],iz[2],fg,fg)}if(u.uB(fg,hL.m,hL.e)&&d[7]&&d[7].indexOf("jpg")!=-1){var bM=dp.Ix("JPG").LA([[fg.buffer]],hL.m,hL.e,[d[1]]);
fg=new Uint8Array(bM);dn=!0}}if(O&&!dn)fg=e5.amQ(fg,O,hL);is.I_(T,c,fg,hL,c5,g);if(O&&dn){var hy=[0,0,hL.m,0,hL.m,hL.e,0,hL.e];
u.M.i(hy,c5,hy);u.M.i(hy,g,hy);var eQ=JSON.parse(JSON.stringify(T));eQ.ca=O.Opct.v.val/100;eQ.pth={cmds:["M","L","L","L","Z"],crds:hy};
eQ.colr=is._X(O.Clr.v);c.Fill(eQ)}}if(H)T.cpth=null;if(k){c.EndTGroup();T=K}T.ca=T.CA=a;if(L)is.a6J(e,S,Q,L,T,c,g,d,!1)};
is.apz=function(x,R,T,c,g,d,U){var e=!1,N=0,l=0;if(c&&c.strokeEnabled.v){var J=c.strokeStyleContent.v;
R.COLR=is.a03(J,g,d);fJ.SC.rA(c,R,g.Rt());N=R.sal;delete R.sal;l=R.lwidth;e=!0}var w=N==2;if(T&&!w)x.Fill(R,U);
if(e){R.lwidth=l*(N==2?2:1);x.Stroke(R)}if(T&&w)x.Fill(R,U)};is.a4d=function(x){var R=is._c;if(R==null)return x;
var T=R.Cl();if(T&&R.add.fcmy){var c=new Uint8Array(4);c[0]=.5+x[0]*255;c[1]=.5+x[1]*255;c[2]=.5+x[2]*255;
ICC.U.applyLUT(T[R.add.fcmy==1?5:3],T[2],c,c);x=[c[0]/255,c[1]/255,c[2]/255]}return x};is._X=function(x){x=u.I.ir(x);
return is.a4d([x.o/255,x.A/255,x.J/255])};is.a0u=function(x){return is.a4d([(x>>>16&255)/255,(x>>>8&255)/255,(x&255)/255])};
is.a03=function(x,R,T){if(x.Clr)return is._X(x.Clr.v);var c=x,g=c.Rvrs?c.Rvrs.v:!1,d=c.Type.v.GrdT,U,e=d=="Rdl"||d=="Dmnd"?"rad":"lin",N=u.I.pc(c,T),l=R.Wk(N[0]),J=R.Wk(N[1]);
if(e=="rad")U=[l.x,l.y,0,l.x,l.y,cI.rE(l,J)];else{l.LR(J.x+(l.x-J.x)*2,J.y+(l.y-J.y)*2);U=[l.x,l.y,J.x,J.y]}var w=u.I.lN(c.Grad.v,g);
return{typ:e,mat:[1,0,0,1,0,0],grad:w,crds:U}};is.a6J=function(x,R,T,c,g,d,U,e,N){var l=T.clone(),J=R;
if(x.add.TySh&&!e[3]&&!e[4])return;var w=g.ca,s=g.bmode;for(var z=fJ.order.length-1;z>=0;z--){var o=fJ.order[z];
if(o=="GrFl"||o=="SoFi")continue;if((x.add.vmsk||x.add.TySh)&&o=="FrFX")continue;var V=c[o],a=z>7||o=="FrFX";
if(a!=N)continue;for(var O=0;O<V.length;O++){var S=V[O];if(S.$F==null)S=S._N?S._N:S.JI;if(S==null)continue;
var L=S.$F.clone();L.offset(l.x,l.y);if(!a){if(!l.Ae(L)){var Q=l.y8(L),b=u.B(Q.Z());u.gN(J,l,b,Q);J=b;
l=Q}u.AD(J,l,S.z6,L)}if(a&&o=="FrFX"&&S.yS)u.AD(S.yS,L,S.z6,L);var Z=new gP;Z.translate(L.x,L.y);g.ca=S.mT;
g.bmode=cl.a92(S.wN);is.I_(g,d,S.z6,L,Z,U)}}g.ca=w;g.bmode=s};is.I_=function(x,R,T,c,g,d){var U=new gP;
U.scale(c.m,-c.e);U.translate(0,c.e);U.concat(g);U.concat(d);x.ctm=[U.Y,U.J,U.zI,U.jR,U.a4,U.rY];R.PutImage(x,T,c.m,c.e);
x.ctm=[1,0,0,1,0,0]};var jr={};jr.eE=function(x){var R=new Uint8Array(x);return jr.Zy(R,0)};jr.Zy=function(x,R){var T=n.s,c=n.zQ,g={E5:c(x,R,4),w:R+8,size:T(x,R+4)},d=g.E5=="FORM"||g.E5=="FOR4"||g.E5=="LIST"||g.E5=="CAT ";
if(d)g.af=c(x,R+8,4);if(g.size<0||g.w+g.size>x.length)throw"e";if(d){g.sub=[];R+=12;var U=g.w+g.size;
while(R<U){var e=jr.Zy(x,R);g.sub.push(e);var N=e.size&1,l=e.size&3;if(g.E5=="FOR4")N=l==0?0:4-l;R+=8+e.size+N}}return g};
var fM={};fM.eE=function(x,R){var T=new Uint8Array(x);return fM.Zy(T,0,R)};fM.Zy=function(x,R,T){var c=n.pJ,g=n.zQ,d={E5:g(x,R,4),w:R+8,size:c(x,R+4)};
if(T&&T[d.size]!=null)d.size=T[d.size];if(d.E5=="RIFF"||d.E5=="LIST"){d.af=g(x,R+8,4)}if(d.size<0||d.w+d.size>x.length)throw"e";
if(d.E5=="RIFF"||d.E5=="LIST"&&(d.af!="cmpr"&&d.af!="stlt")){d.sub=[];R+=12;var U=d.w+d.size;while(R<U){var e=fM.Zy(x,R,T);
d.sub.push(e);R+=8+e.size+(e.size&1)}}return d};var ax=function(){function x(P,t){var q=null;if(P.sub==null)return q;
for(var z=0;z<P.sub.length;z++){var m=P.sub[z];if(m.E5==t||m.af==t)q=m}return q}function R(P){if(P==32)return 300;
else if(P<49)return 0;else if(P<58)return 100*(P-48);else if(P<65)return 0;return 100*(P-55)}var T;function c(P,t){var q=new Uint8Array(P);
t.cF=!0;T={};var m=n.zQ(q,0,2);if(m=="WL"){alert("Unsupported CDR version")}else{var iE,hV,dD,aH,jD=300,i6=0;
if(m=="PK"){hV=UZIP.parse(q);q=hV["content/root.dat"];dD=n.KW(hV["content/dataFileList.dat"]).split("\n")}iE=fM.eE(q.buffer);
console.log(iE);var bh=R(q[11]),ho={data:q,w:0,KB:bh};ho.Y1=ho.KB<600?16:32;r(q,ho,dD,hV,iE.sub,0);var f2=[];
if(hV){aH=x(iE,"doc ");g(aH);var e9=iE.sub;for(var z=0;z<e9.length;z++)if(e9[z].af=="page")f2.push(e9[z]);
f2=f2.slice(1)}else if(x(iE,"cmpr")==null){aH=x(iE,"page");f2.push(aH);if(x(aH,"mcfg")==null){aH=x(iE,"doc ");
g(aH);f2=[];var e9=iE.sub;for(var z=0;z<e9.length;z++)if(e9[z].af=="page")f2.push(e9[z]);f2=f2.slice(1)}}else{var kB=x(iE,"cmpr").sub;
aH=kB[0];f2=[kB.slice(1)[1]];g(aH)}var ct=x(aH,"mcfg").b,jF=ct.asb,fj=jF.x*.1,ab=jF.x*f2.length+fj*(f2.length-1),iw=jF.y;
jD/=fR.tG(new aP(0,0,Math.round(ab*jD),Math.round(iw*jD)),8192*8192);var a1=Math.round(ab*jD),gd=Math.round(iw*jD);
t.m=a1;t.e=gd;t.buffer=u.B(t.m*t.e*4);for(var z=0;z<f2.length;z++){var hv=new gP(jD,0,0,-jD,jF.x*jD/2+i6,jF.y*jD/2);
d(f2[z],aH,t,hv);var hO=t.R[t.R.length-1];hO.yc(new aP(Math.round(i6),0,Math.round(jF.x*jD),Math.round(jF.y*jD)));
hO.Je("Page "+(z+1));i6+=jF.x*jD+fj*jD}t.MH(f2.length)}}function g(P){var t=x(P,"filt").sub,q=x(P,"otlt").sub,m=x(P,"fntt");
if(m)m=m.sub;P.CN={};for(var z=0;z<t.length;z++)P.CN[t[z].sub[0].b.id]=t[z].sub[0].b;P.QG={};for(var z=0;
z<q.length;z++)P.QG[q[z].b.id]=q[z].b;if(m){P.fonts={};for(var z=0;z<m.length;z++)P.fonts[m[z].b.id]=m[z].b}}function d(P,t,q,m){var iE=P.af?P.af:P.E5,hV=x(P,"lgob"),dD=x(P,"txsm"),bh=null,ho=null;
if(hV){bh=x(hV,"trfl");ho=x(hV,"loda")}else if(x(P,"lobj"))ho=x(P,"lobj");var aH=bh&&bh.sub[0].Zv?bh.sub[0].Zv.clone():new gP;
aH.concat(m);var f2=q.CH();if(iE=="page"||iE=="layr"||iE=="grp "){f2.Je((iE=="page"?"Page":"Group")+" "+q.R.length);
f2.add.lsct=ew.bZ;f2.mh="pass";f2.Yn=24;var e9=[];if(iE=="page")e9=x(P,"gobj").sub;if(iE=="layr")e9=P.sub.slice(2);
if(iE=="grp ")e9=P.sub.slice(4);if(e9.length==0)return;q.R.push(q.Sw());for(var z=e9.length-1;z>=0;z--)d(e9[z],t,q,m)}else if(iE=="obj "&&ho.b&&ho.b.path){var kB,ct;
if(t.CN){kB=t.CN[ho.b.asz];ct=t.QG[ho.b.acY]}if(kB==null)kB=ho.b.a1N;if(ct==null)ct=ho.b.auc;f2=U(q,ho.b.path,m,aH,kB,ct)}else if(iE=="obj "&&dD){var jF=ho.b.agu,fj=ho.b.akg,jD="";
f2.add.TySh=bL.Zk(0,0);var ab=aH.Rt();f2.add.TySh.i.translate(aH.a4,aH.rY);var iw=f2.add.TySh.pM,a1=dD.b.zx;
if(a1==null)return;for(var z=0;z<a1.length;z++){var gd=a1[z],i6=jD.length;jD+=gd.text+"\n";bL.nw(iw,i6,gd.text+"\n");
if(gd.text=="")continue;var hv=e(gd.aqp,t),hO=hv.aq2,jh=t.fonts[hO.amw],aJ=bL.ge(iw,i6,jD.length);if(hv.align==3)aJ.qi.Justification=1;
else if(hv.align==2)aJ.qi.Justification=2;else aJ.qi.Justification=0;var hS=hv.fill.b;if(hS==null)hS=[0,0,0];
if(jh.Tm)bL.EF(aJ,jh.Tm);aJ.Ba.FillColor={Type:1,Values:[1,hS[0],hS[1],hS[2]]};aJ.Ba.FontSize=Math.round(hO.fontSize*m.Rt());
bL.T3(iw,i6,jD.length-1,aJ)}if(fj){bL.vo(iw,0)}else{bL.vo(iw,1);bL.RO(iw,[0,0,Math.round(jF.x*aH.Y),Math.round(-jF.y*aH.jR)])}f2.Je(jD.slice(0,10))}else{f2=null}if(f2)q.R.push(f2)}function U(P,t,q,m,iE,hV){var dD=P.CH();
dD.Je("Object "+P.R.length);dD.Yn|=16;var bh=dD.add.vstk=fJ.SC.GI();dD.add.vmsk=new F.LS;dD.add.vmsk.$=u.M.gj(t,!1);
u.j.q0(dD.add.vmsk.$,m);var ho=iE&&iE.type!=0,aH=ho&&iE.b!=null?iE.b:[0,0,0];cl.yz(aH,dD,m,u.j.pP(dD.add.vmsk.$));
bh.fillEnabled.v=ho;if(hV&&hV.aC8!=1){bh.strokeEnabled.v=!0;bh.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var f2=bh.strokeStyleLineWidth.v.val=hV.lineWidth*q.Rt(),e9=hV.color;bh.strokeStyleContent.v.Clr.v=u.I.SE({o:e9[0]*255,A:e9[1]*255,J:e9[2]*255});
if(hV.Ir.length!=0)bh.strokeStyleLineDashSet.v=e5.c6(hV.Ir,4/f2);var kB=hV.aAT,ct=hV.aBy;if(ct!=0){var jF=t.z,z=jF.length-4,fj=jF[z],ab=jF[z+1],iw=jF[z+2],jD=jF[z+3],a1=new gP;
a1.scale(.15,.15);a1.rotate(-Math.PI/2+Math.atan2(jD-ab,-(iw-fj)));a1.translate(iw,jD);a1.concat(m);
if(T[ct]){var gd=U(P,T[ct],q,a1,e9,null);P.R.push(gd)}}}dD.h5();dD.sG(P);return dD}function e(P,t){var q=x(t,"stlt").b,m=JSON.parse(JSON.stringify(q.YC[P]));
if(m.XO!=0){var iE=q.YC[m.XO];for(var hV in iE)if(m[hV]==null||m[hV]==0)m[hV]=iE[hV];delete m.XO}m.align=q.aui[m.acw];
m.fill=t.CN[q.a9v[m.aBk]];m.a0h=t.QG[q.a07[m.a41]];m.aq2=q.am$[m.aCR];return m}function N(z){var cg=z.data[z.w];
z.w+=1;return cg}function l(z){var cg=n.zY(z.data,z.w);z.w+=2;return cg}function J(z){var cg=n.pJ(z.data,z.w);
z.w+=4;return cg}function w(z){var cg=n.pJ(z.data,z.w);z.w+=8;return cg}function s(z){var cg=n.p9(z.data,z.w);
z.w+=2;return cg}function o(z){var cg=n.LZ(z.data,z.w);z.w+=4;return cg}function V(z){var cg=n.ey(z.data,z.w);
z.w+=8;return cg}function a(z){if(z.w>=z.data.length)throw"e";var P=0;while(z.data[z.w+P]!=0)P++;var t=n.zQ(z.data,z.w,P);
z.w+=P+1;return t}function O(z){var P="";while(!0){var t=l(z);if(t==0)break;P+=String.fromCharCode(t)}return P}function S(P){var t=J(P),q=(t&4294901760)>>>16,m=(t&65535)/65535;
return q+m}function L(P){if(P.KB<600)return Math.PI*s(P)/1800;return Math.PI*o(P)/18e7}function Q(P){if(P.KB<1500)return b(P);
else return V(P)/254e3}function b(P){if(P.KB<600)return s(P)/1e3;else return o(P)/254e3}function Z(P){if(P.KB<600)return l(P);
else return J(P)}function I(P){if(P.KB<600)return s(P);else return o(P)}function y(P,t,q){var m="";for(var z=0;
z<q;z++){for(var iE=0;iE<t;iE+=4){var cg=n.pJ(P.data,P.w+z*t+iE);m+=(cg<500?cg:cg)+","}m+="\n"}return m}function r(P,t,q,m,iE,hV){var dD,bh,ho;
for(var aH=0;aH<iE.length;aH++){var f2=t.KB,e9=iE[aH];t.data=P;t.w=e9.w+(e9.E5=="LIST"?4:0);if(m&&e9.sub==null){dD=J(t);
bh=J(t);ho=J(t);var kB=l(t);if(kB!=0)throw"e";var ct=l(t);if(ct>32)throw"e";t.w-=16;if(dD!=4294967295){t.data=m["content/data/"+q[dD]];
t.w=ho}}if(e9.E5=="vrsn"){if(e9.size==16)t.w+=8;var jF=l(t);t.KB=jF;console.log("Version",jF);t.Y1=jF<600?16:32}else if(e9.E5=="DISP"){}else if(e9.E5=="LIST"&&e9.af=="cmpr"){var fj=J(t),ab=J(t),iw=J(t),jD=J(t),a1=new Uint8Array(t.data.buffer,t.w+8+2,fj-6-8),gd=pako.inflateRaw(a1),jh=0;
t.w+=fj;a1=new Uint8Array(t.data.buffer,t.w+8+2);var i6=pako.inflateRaw(a1),hv=[];for(var hO=0;hO<i6.length;
hO+=4)hv.push(n.pJ(i6,hO));e9.sub=[];while(jh<gd.length){var aJ=fM.Zy(gd,jh,hv);jh=aJ.w+aJ.size;e9.sub.push(aJ)}var hS={data:gd,w:0,KB:f2,Y1:t.Y1};
r(gd,hS,q,m,e9.sub,hV+1)}else if(e9.E5=="LIST"&&e9.af=="stlt"||e9.E5=="stlt"){if(dD==4294967295)return;
var iO=t.w,c5="",hx=32;e9.b={};var g$=J(t);if(g$==0)return;e9.b.a9v=W(t,f2>=1300);e9.b.a07=W(t);e9.b.am$={};
var bF=J(t);for(var z=0;z<bF;z++){var hy=J(t);t.w+=f2<1e3?12:20;var fg=l(t),hL=l(t);t.w+=8;var dn=b(t);
t.w+=f2<1e3?12:20;e9.b.am$[hy]={amw:fg,abb:hL,fontSize:dn}}e9.b.aui=W(t);var at=J(t);c5+="Intervals\n"+y(t,52,at)+"\n";
t.w+=52*at;var gt=J(t);c5+="Set5s\n"+y(t,152,gt)+"\n";t.w+=152*gt;var iK=J(t);c5+="Tabs\n"+y(t,784,iK)+"\n";
t.w+=784*iK;var iz=J(t);c5+="Bullets\n";for(var z=0;z<iz;z++){var gI=t.w,ce=J(t);t.w+=4*3;if(f2>1300)t.w+=4;
var b7=J(t);t.w+=4*5;if(f2>=1300){var br=J(t);if(br){if(J(t))t.w+=64;else t.w+=60}else t.w+=12}else{t.w+=20;
if(f2>=1e3)t.w+=8;if(J(t))t.w+=8;t.w+=8}var kg=t.w;t.w=gI;c5+=y(t,kg-gI,1);t.w=kg}c5+="\n";var bM=J(t);
c5+="Indents\n";e9.b.aun={};for(var z=0;z<bM;z++){var gI=t.w,eQ=J(t),eT={};t.w+=12;eT.right=b(t);eT.als=b(t);
eT.left=b(t);e9.b.aun[eQ]=eT;var kg=t.w;t.w=gI;c5+=y(t,kg-gI,1);t.w=kg}c5+="\n";var b6=J(t);if(f2>=1300)hx+=4;
c5+="Hypens\n"+y(t,hx,b6)+"\n";t.w+=hx*b6;var io=J(t);c5+="Dropcaps\n"+y(t,28,io)+"\n";t.w+=28*io;if(f2>800){var jm=J(t);
c5+="Set11s\n"+y(t,28,jm)+"\n";t.w+=12*jm}e9.b.YC={};for(var z=0;z<g$;z++){var bq=J(t);if(bq>3)throw bq;
var gO=J(t),ae={};ae.XO=J(t);t.w+=8;var dl=J(t);if(f2>=1200)dl*=2;t.w+=dl;ae.aBk=J(t);ae.a41=J(t);if(bq>1){ae.aCR=J(t);
ae.acw=J(t);ae.aqB=J(t);ae.aet=J(t);if(f2>800)ae.agW=J(t)}if(bq>2){ae.afN=J(t);ae.arn=J(t);ae.adp=J(t);
ae.asu=J(t);ae.alI=J(t)}e9.b.YC[gO]=ae}}else if(e9.E5=="LIST")r(P,t,q,m,e9.sub,hV+1);else if(e9.E5=="txsm"){e9.b={};
if(f2<600)throw"e";if(f2<700)throw"e";if(f2>=1600){e9.b=_(t);return}if(f2>=1500)t.w+=37;else t.w+=36;
if(J(t)){if(f2<800)t.w+=32}if(f2<800)t.w+=4;e9.b.asA=J(t);e9.b.zx=[];t.w+=48;if(f2>=800){if(J(t)){t.w+=32;
if(f2>=1300)t.w+=8}}if(f2>=1500)t.w+=12;var bq=J(t),eF=1,e6=!1;if(!bq){if(f2>=800)t.w+=4;if(f2>800)t.w+=2;
if(f2>=1400)t.w+=2;t.w+=24;if(f2<800)t.w+=8;eF=J(t)}for(var hO=0;hO<eF;hO++){var dJ=J(t),z=0;if(f2>=1300&&bq)t.w++;
t.w++;var g$=J(t),d2=[];for(z=0;z<g$;z++){var gQ=N(t),h6=0;N(t);var a6=N(t);if(f2>=800)h6=N(t);var ae={};
if(a6&1){ae.amw=l(t);var cU=l(t);if(cU)ae.aAJ=cU}if(a6&2)t.w+=4;if(a6&4)ae.aB1=b(t);if(a6&8)t.w+=4;if(a6&16)t.w+=4;
if(a6&32)t.w+=4;if(a6&64){ae.aBk=J(t);if(f2>=1500)t.w+=48}if(a6&128){ae.a41=J(t)}if(h6&8){if(f2>=1300){var jv=J(t);
if(t.w+jv*2>=t.data.length){e6=!0;break}t.w+=jv*2}else t.w+=4}if(h6&32){var de=N(t);if(de)t.w+=52}if(gQ==2)if(f2>=1300)t.w+=48;
d2.push(ae)}if(e6){break}var jJ=J(t);if(t.w+jJ*4>t.data.length)break;var c4=[];for(z=0;z<jJ;z++){var gn=0;
if(f2>=1200)gn=w(t)&4294967295;else gn=J(t);c4[z]=gn>>16|gn&1}var eG=jJ;if(f2>=1200)eG=J(t);var gN=a(t);
e9.b.zx.push({aqp:dJ,text:gN,YC:d2})}}else if(e9.E5=="arrw")e9.b=h(t);else if(e9.E5=="font"){var gI=t.w,et=l(t),bi=l(t),bc="";
t.w+=14;if(t.KB>=1200)bc=O(t);else bc=a(t);e9.b={id:et,acz:bi,name:bc};if(m){var jM=gI+bh;while(t.data[t.w]==0)t.w++;
t.w+=2;var j9=O(t);while(t.data[t.w]==0)t.w++;while(t.data[t.w]<=2)t.w+=4;e9.b.Tm=O(t)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(e9.E5)!=-1){}else if(e9.E5=="flgs")e9.b=J(t);
else if(e9.E5=="bbox"){var aR=b(t),cc=b(t),d1=b(t),d7=b(t);e9.b=new aP(aR,cc,d1-aR,d7-cc)}else if(e9.E5=="fild"){var ej=J(t),dZ;
if(f2>=1300)t.w+=8;var cr=l(t);if(cr==0){}else if(cr==1){t.w+=f2>=1300?13:2;dZ=M(t)}else if(cr==2){t.w+=f2>=1300?8:2;
var dw=N(t),aX=0;if(f2>=1300){t.w+=17;aX=s(t)}else if(f2>=600){t.w+=19;aX=o(t)}else{t.w+=11;aX=s(t)}var hz=L(t),dG=.5+I(t),iH=.5+I(t)-.5;
if(f2>=600)t.w+=2;var cW=Z(t)&255,gx=N(t)/100;t.w++;var eS=Z(t)&65535;if(f2>=1300)t.w+=3;var fw=[];for(var z=0;
z<eS;z++){var dE=M(t);if(f2>=1400)t.w+=26;else if(f2>=1300)t.w+=5;var bw=(Z(t)&65535)/100;if(f2>=1300)t.w+=3;
fw.push([bw,dE])}dZ={typ:dw==1?"lin":"rad",crds:[dG-Math.cos(hz)/2,iH-Math.sin(hz)/2,dG,iH],grad:fw,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",cr);
e9.b={id:ej,type:cr,b:dZ}}else if(e9.E5=="outl"){var hX=J(t);if(f2>=1300){var hl=0,hq=0;while(hl!=1){t.w+=hq;
hl=J(t);hq=J(t)}}var g2=l(t),ic=l(t),cj=l(t);if(f2<1300&&f2>=600)t.w+=2;var cB=b(t),ik=l(t)/100;if(f2>=600)t.w+=2;
var jL=L(t);if(f2>=1300)t.w+=46;else if(f2>=600)t.w+=52;var dZ=M(t);if(f2<600)t.w+=10;else t.w+=16;var df=l(t),e8=t.w,fH=[];
for(var z=0;z<df;++z)fH.push(l(t));if(f2<600)t.w=e8+20;else t.w=e8+22;var g1=J(t),du=J(t);e9.b={id:hX,aC8:g2,awi:ic,az5:cj,lineWidth:cB,color:dZ,Ir:fH,aAT:g1,aBy:du}}else if(e9.E5=="mcfg"){if(1300<=f2)t.w+=12;
else if(900<=f2)t.w+=4;else if(600<=f2&&f2<700)t.w+=28;var iu=0,hC=0;if(f2<400){t.w+=2;var aR=b(t),cc=b(t),d1=b(t),d7=b(t);
iu=Math.abs(d1-aR);hC=Math.abs(d7-cc)}else{iu=b(t);hC=b(t)}e9.b={asb:new cI(iu,hC)}}else if(e9.E5=="loda"||e9.E5=="lobj"){var iO=t.w,dz=Z(t),az=Z(t),gH=Z(t),cP=Z(t),jo=Z(t),bb=[],h2=[],z=0,jj=null;
t.w=iO+gH;while(z<az)bb[z++]=Z(t);t.w=iO+cP;while(z>0)h2[--z]=Z(t);e9.b={};for(z=0;z<az;z++){t.w=iO+bb[z];
var j_=h2[z];if(j_==30){if(f2>=400&&jo==1||f2<400&&jo==0){e9.b.path=f(t)}else if(f2>=400&&jo==2||f2<400&&jo==1){e9.b.path=p(t)}else if(f2>=400&&jo==3||f2<400&&jo==2){e9.b.path=E(t)}else if(jo==37){e9.b.path=i(t)}else if(f2>=400&&jo==4||f2<400&&jo==3){e9.b.akg=Y(t)}else if(f2>=400&&jo==6||f2<400&&jo==5){e9.b.agu=G(t)}else console.log(jo)}else if(j_==20){if(f2<400)e9.b.a1N=K(t);
else e9.b.asz=J(t)}else if(j_==10){if(f2<400)e9.b.auc=H(t);else e9.b.acY=J(t)}else if(j_==200)e9.b.a0y=Z(t);
else if(j_==100){if(f2<400)jj=k(t)}}if(jj&&e9.b.path)u.M.i(e9.b.path.z,jj,e9.b.path.z)}else if(e9.E5=="trfd"){var iO=t.w,dz=Z(t),az=Z(t),gH=Z(t);
t.w=iO+gH;var bb=[];for(var z=0;z<az;z++)bb[z]=Z(t);for(var z=0;z<az;z++){t.w=iO+bb[z];if(f2>=1300)t.w+=8;
var g7=l(t);if(g7==8){var cR,kn,aR,fa,db,cc;if(f2>=600)t.w+=6;if(f2>=500){cR=V(t);kn=V(t);aR=V(t)/(f2<600?1e3:254e3);
fa=V(t);db=V(t);cc=V(t)/(f2<600?1e3:254e3)}else throw"e";e9.Zv=new gP(cR,fa,kn,db,aR,cc)}else console.log(g7)}}else if(!1){console.log(e9);
var fk=Math.min(e9.size,32);console.log(n.lm(P,e9.w,fk));console.log(n.a45(P,e9.w,fk))}}}function h(P){var t=J(P);
P.w+=4;var q=l(P);P.w+=4;var m=[];for(var iE=0;iE<q;iE++)m.push(N(P));P.w+=1;var hV=[];for(var dD=0;
dD<q;dD++){var bh=[];bh[1]=b(P);bh[0]=b(P);hV.push(bh)}var ho=C(hV,m);T[t]=ho}function k(P){var t=0,q=0,m=0,iE=0,hV=0,dD=0;
if(P.KB>=300){var bh=P.w;P.w+=10;var ho=Z(P);P.w=bh+ho;t=S(P);q=S(P);m=o(P)/1e3;iE=S(P);hV=S(P);dD=o(P)/1e3}else{m=b(P);
dD=b(P);t=S(P);q=S(P);m+=S(P)/1e3;iE=S(P);hV=S(P);dD+=S(P)/1e3}return new gP(t,q,iE,hV,m,dD)}function K(P){var t=N(P);
if(t==0)return null;else if(t==1)return M(P);else console.log(t)}function H(P){var t=N(P);t<<=1;var q=b(P),m=l(P)/100,iE=L(P),hV=M(P);
return{aC8:t,lineWidth:q,color:hV,Ir:[],aAT:0,aBy:0}}function p(P){var t=b(P),q=b(P),m=L(P),iE=L(P),hV=u.M.td(u.j.u1.mR(0,0,t,q));
return hV}function f(P){var t=P.KB,q=Q(P),m=Q(P),iE=0,hV=0,dD=0,bh=0,ho=0,aH=1,f2=1;if(t<1500){bh=Q(P);
dD=t<900?bh:Q(P);hV=t<900?bh:Q(P);iE=t<900?bh:Q(P)}else{var e9=V(P);if(e9!=0)aH=e9;e9=V(P);if(e9!=0)f2=e9;
var kB=N(P);P.w+=7;if(kB==0){bh=V(P);ho=N(P);P.w+=15;dD=V(P);P.w+=16;hV=V(P);P.w+=16;iE=V(P);var ct=Math.abs(q*aH/2),jF=Math.abs(m*f2/2);
bh*=ct<jF?ct:jF;dD*=ct<jF?ct:jF;hV*=ct<jF?ct:jF;iE*=ct<jF?ct:jF}else{bh=Q(P);ho=N(P);P.w+=15;dD=Q(P);
P.w+=16;hV=Q(P);P.w+=16;iE=Q(P)}}return u.M.td(u.j.u1.Rect(0,0,q,m,[iE,hV,dD,bh]))}function A(P){var t=J(P);
if(P.KB<1700)t*=2;P.w+=t;return""}function _(P){var t=J(P),m=0;P.w+=37;var q=J(P);for(var z=0;z<q;z++){var iE=J(P);
m=iE;P.w+=48;var hV=J(P);if(hV==1)P.w+=12*4;else P.w+=8;if(!t){P.w+=16;A(P)}}var dD={asA:m,zx:[]},bh=J(P);
for(var ho=0;ho<bh;ho++){var aH=J(P),gd="";P.w+=1;if(t)P.w+=1;var f2=A(P),e9=J(P);for(var z=0;z<e9;z++){P.w+=2;
var kB=l(P),ct=l(P);if(ct&4){var jF=J(P);jF*=2;P.w+=jF}if(kB||ct&4){var fj=A(P)}}var ab=J(P),iw=[];for(var z=0;
z<ab;z++){var jD=w(P)&4294967295;iw[z]=jD>>16|jD&1}var a1=J(P);for(var z=0;z<ab;z++){var i6=iw[z]&7,hv=0;
if(i6==0||i6==2||i6==4||i6==6)hv=P.data[P.w++];else if(i6==1||i6==3)hv=P.data[P.w++]+P.data[P.w++]*256;
else throw i6;gd+=String.fromCharCode(hv)}var hO=gd.split("\r");for(var z=0;z<hO.length;z++)dD.zx.push({text:hO[z],aqp:aH,YC:[]})}return dD}function W(P,t){var q={},m=J(P);
for(var z=0;z<m;z++){var iE=J(P);P.w+=4;var hV=J(P);q[iE]=hV;if(t)P.w+=48}return q}function Y(P){var t=b(P),q=b(P);
return new cI(t,q)}function G(P){P.w+=4;var t=b(P),q=b(P);return new cI(t,q)}function i(P){P.w+=4;var t=l(P)+l(P);
P.w+=16;var q=$(P,t);return q}function E(P){var t=l(P);P.w+=2;return $(P,t)}function $(P,t){var q=[],m=[];
for(var z=0;z<t;z++)q.push([b(P),b(P)]);for(var z=0;z<t;z++)m.push(N(P));return C(q,m)}function C(P,t){var q={z:[],G:[]},m=0,iE=0,hV=0;
for(var z=0;z<P.length;z++){var m=P[z][0],iE=P[z][1],dD=t[z];if(!(dD&64)&&!(dD&128)){q.z.push(m,iE);
q.G.push("M");hV+=2}else if(dD&64&&!(dD&128)){q.z.push(m,iE);q.G.push("L");hV+=2}else if(!(dD&64)&&dD&128){q.z.push(m,iE);
q.G.push("C");hV+=6}else if(dD&64&&dD&128){q.z.push(m,iE)}}if(hV!=q.z.length)throw"e";return q}function B(P,t){var q=n.pJ;
t+=8;var m=q(P,t);t+=4;var iE=q(P,t);t+=4;t+=4*7;var hV=t,dD=u.B(m*iE*4);t+=1024;for(var bh=0;bh<iE;
bh++)for(var ho=0;ho<m;ho++){var z=bh*m+ho,aH=(iE-bh-1)*m+ho,f2=P[t+z]<<2,e9=aH<<2;dD[e9+0]=P[hV+f2+2];
dD[e9+1]=P[hV+f2+1];dD[e9+2]=P[hV+f2+0];dD[e9+3]=255}return{z6:dD,rect:new aP(0,0,m,iE)}}function M(P){var t=P.KB,q=0,m=0,iE=0;
if(t>=500){q=l(P);if(q==1&&t>=1300)q=25;if(q==30){q=25;m=30}else{m=l(P);P.w+=4}iE=J(P)}else if(t>=400)throw"e";
else{q=N(P);iE=J(P)}return j(q,m,iE)}function j(P,t,q){var m=[0,0,0];if(P==2||P==3||P==9||P==17){var iE=[q>>>0&255,q>>>8&255,q>>>16&255,q>>>24&255];
if(P==2)for(var z=0;z<4;z++)iE[z]=Math.round(255*iE[z]/100);for(var z=0;z<4;z++)iE[z]/=255;m=UDOC.C.cmykToRgb(iE)}else if(P==1||P==5){m=[q>>>0&255,q>>>8&255,q>>>16&255];
for(var z=0;z<3;z++)m[z]=m[z]/255;if(P==5)m.reverse()}else console.log("Unknown color model "+P,q,q.toString(16));
return m}return{eE:c}}(),g8=function(){var x,R,T=new ArrayBuffer(4),c=new Uint8Array(T),g=new Uint32Array(T),d=new Float32Array(T);
function U(s,o){for(var V=0;V<s.length;V++)if(s[V][0]==o)return s[V]}function e(){var s=0,o=0,V=0;do{V=x[R++];
s|=(V&127)<<o;o+=7}while(V&128&&o<35);return s>>>0}function N(s,o,V,a,O){x=s;R=o;var S=a[0]=="mesg",L=a[2],Q={},b=1,Z=S?1e9:L.length;
while(b<=Z){var I=b;if(S){I=e();if(I==0)break}var y=U(L,I),r=y[2],h=y[1]==1,k=h?e():1,K=new Array(k);
if(r==3){if(!h)throw"e";K=x.slice(R,R+k);R+=k}else for(var z=0;z<k;z++){var H;if((r&1)==1){if(r==1)H=x[R++]==1;
else if(r==3)H=x[R++];else if(r==5){var p=e();H=p&1?~(p>>>1):p>>>1}else if(r==7)H=e();else if(r==9){if(x[R]==0){H=0;
R++}else{c[0]=x[R];c[1]=x[R+1];c[2]=x[R+2];c[3]=x[R+3];var f=g[0];g[0]=f<<23|f>>>9;H=d[0];R+=4}}else if(r==11){var A=l(x,R);
H=A[0];R+=A[1]+1}else throw r}else{var _=V[r>>>1];if(_[0]=="enum"){var W=e();H=_[2][W]}else{var Y=N(x,R,V,_,O+1);
H=Y[0];R=Y[1]}}K[z]=H}Q[y[3]]=h?K:K[0];b++}return[Q,R]}function l(s,o){var V=o;while(s[V]!=0)V++;return[n.KW(new Uint8Array(s.buffer,o,V-o)),V-o]}function J(s,o){var V=o;
while(s[V]!=0)V++;for(var z=o;z<V;z++)if(s[z]>127)throw"e";return n.zQ(s,o,V-o)}function w(s){x=s;R=1;
var o=[];while(R<s.length){var V=R,a=o.length,O=J(s,R);R+=O.length+1;var S=e();if(S>2)throw"e";var L=e(),Q=[];
for(var z=0;z<L;z++){var b=J(s,R);R+=b.length+1;var Z=e(),I=e(),y=e();Q.push(S==0?b:[y,I,Z,b])}o.push([["enum","strc","mesg"][S],O,Q])}return o}return{acK:w,aqg:N}}();
function ba(){}ba.eE=function(x,R){var T=Date.now(),c=new Uint8Array(x),g=8,d,w=0,Y=0;if(c[0]==80&&c[1]==75){d=UZIP.parse(x);
c=d["canvas.fig"]}var U=n.pJ(c,g);g+=4;var e=[];while(g<c.length){var N=n.pJ(c,g);g+=4;var l=c.slice(g,g+N);
if(c[g]==137&&c[g+1]==80){}else l=UZIP.inflateRaw(l);e.push(l);g+=N}var J=g8.acK(e[0]);for(var z=0;z<J.length;
z++)if(J[z][1]=="Message")w=z;var s=g8.aqg(e[1],0,J,J[w],0)[0],o={EL:{},YI:{},auH:{},NH:d},V=s.nodeChanges;
for(var a=0;a<V.length;a++){var O=V[a],S=O.guid;o.YI[S.sessionID+","+S.localID]=O}for(var a=0;a<V.length;
a++){var O=V[a],S=O.parentIndex;if(S){var L=ba.pA(o.YI,S.guid);if(L.children==null)L.children=[];L.children.push(O)}}var Q=V[0],b=Q.children,Z=new aP,I=[],y=[];
for(var S=0;S<b.length;S++){var r=b[S],h=r.children;if(r.name=="Internal Only Canvas"||h==null)continue;
var k=new aP;for(var z=0;z<h.length;z++){var K=h[z],H=K.transform,p=K.size;if(H.m00==1&&H.m10==0&&H.m01==0&&H.m11==1){var f=new aP(H.m02,H.m12,p.x,p.y);
k=k.y8(f)}}var A=Z.e==0?0:Z.e+100,_=k.clone();_.x=0;_.y=A;Z=Z.y8(_);I[S]=k;y[S]=A}var W=fR.tG(new aP(0,0,Z.m,Z.e),8192*8192);
R.m=Math.round(Z.m/W);R.e=Math.round(Z.e/W);R.buffer=u.B(R.m*R.e*4);for(var S=0;S<b.length;S++){var r=b[S],h=r.children;
if(r.name=="Internal Only Canvas"||h==null)continue;h.sort(ba.aia);var G=new gP(1,0,0,1,-I[S].x,y[S]-I[S].y);
G.scale(1/W,1/W);for(var z=0;z<h.length;z++){var K=h[z];ba.mZ(K,[],G,s.blobs,R,0,o);Y++}}R.MH(Y);R.cF=!0;
if(W!=1)alert("File scaled down "+W+"x")};ba.mZ=function(x,R,T,c,g,d,U){var e=ba,k=!1,K,f=!1,A,_;R=JSON.parse(JSON.stringify(R));
var N=x.overrideKey?x.overrideKey:x.guid;for(var z=0;z<R.length;z++){var l=R[z],J=l.guidPath.guids;if(e.awU(J[0],N)){if(J.length==1){var w={};
for(var s in x)w[s]=l[s]!=null?l[s]:x[s];x=w}else l.guidPath.guids=J.slice(1)}}var o=x.type,V=x.children,a=x.size,O=x.effects,S=g.CH();
S.Je(x.name);S.oE(x.visible);S.opacity=Math.round(x.opacity*255);var L=e.Rp(x.transform),Q=L.clone();
Q.concat(T);if(a==null)a={x:0,y:0};var b=new aP(Math.round(Q.a4),Math.round(Q.rY),Math.round(a.x*Q.Rt()),Math.round(a.y*Q.Rt()));
if(b.m==0||isNaN(b.m))b.m=100;if(b.e==0||isNaN(b.e))b.e=100;var Z=x.fillPaints,I=x.inheritFillStyleID;
if(I){var w=e.pA(U.YI,I);if(w)Z=w.fillPaints}if(Z==null)Z=[];var Z=e.adr(Z),y=Z[0],r=x.strokePaints,I=x.inheritFillStyleIDForStroke;
if(I){var w=e.pA(U.YI,I);if(w)r=w.fillPaints}if(r==null)r=[];var r=e.adr(r),h="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(o)!=-1;
if(h||o=="FRAME"){K=new F.LS;e.a1u(x,c,K);k=u.j.Tl(K.$);u.j.q0(K.$,Q);var H=u.M.cJ(u.j.pP(K.$));if(!H.Y3())b=H;
if(U.EL._V&&y){var p=F.LS.Lz(U.EL._V.$);for(var z=2;z<p.length;z++)if(p[z].AC!=null)p[z].AC=3;K.$=K.$.concat(p.slice(2))}}if(y&&y.type=="IMAGE"){_=y.imageScaleMode;
f=!0;var W=y.originalImageWidth,Y=y.originalImageHeight;if(W*Y==0){var G=e.Yr(c,ba.sU(y),U);W=G.d8.m;
Y=G.d8.e}var i=W/Y,E=a.x/a.y;A=Math.abs(i-E)}if(o=="FRAME"){}else if(h&&k&&f&&(_=="FIT"||_=="FILL"&&A<=.05||_=="STRETCH"&&A<=.05)){var $=e.Yr(c,ba.sU(y),U,!0),C=g.mk($,S.getName(),0,0);
C.Yn=S.Yn;C.opacity=S.opacity;S=C;var B=new aP(0,0,a.x,a.y);if(_=="FIT"){var M=y.originalImageWidth,j=y.originalImageHeight,P=Math.min(a.x/M,a.y/j),t=M*P,q=j*P;
B=new aP(B.x+(B.m-t)/2,B.y+(B.e-q)/2,t,q)}var m=u.M.$x(B).z;u.M.i(m,Q,m);S.add.SoLd.Trnf=D.gW.db(m);
S.add.SoLd.nonAffineTransform=D.gW.db(m);var iE=[],O=x.effects,hV=y.paintFilter;if(O)for(var z=0;z<O.length;
z++)if(O[z].type=="FOREGROUND_BLUR"){var dD=O[z],bh=gm.Xi("GsnB",{});iE.push(bh);bh.v.enab.v=dD.visible;
bh.v.Fltr.v.Rds.v.val=dD.radius/2.4}if(hV&&hV.exposure!=0){var bh=gm.Xi("brit",{});iE.push(bh);bh.v.Fltr.v.Brgh.v=Math.round(hV.exposure*160);
bh.v.Fltr.v.useLegacy.v=!0}if(hV&&hV.vibrance!=0){var bh=gm.Xi("vibA",{});iE.push(bh);bh.v.Fltr.v.Strt.v=Math.round(Math.round(hV.vibrance*100))}if(iE.length!=0){S.add.SoLd.filterFX=gm.Fc();
g.lY({id:S.add.SoLd.placed.v,rect:new aP,buffer:u.B(1),F:new F.Wu});S.add.SoLd.filterFX.v.filterFXList.v=iE}S.Ht(g,!1);
e.af4(U,S,g)}else if(h){e.akK(S,K,x,y,r,Q,b,c,g,U);if(O)for(var z=0;z<O.length;z++){var dD=O[z];if(dD.type!="FOREGROUND_BLUR")continue;
K.Cu=dD.radius/2.4}S.h5();S.sG(g)}else if(o=="TEXT"){var ho=x.textData,aH=ho.layoutSize,f2=["LEFT","RIGHT","CENTER"].indexOf(x.textAlignHorizontal);
S.add.lnsr="rend";S.add.TySh=bL.Zk(0,0);S.add.TySh.ij=new aP(0,0,100,100);var e9=Q.clone();S.add.TySh.i=e9;
var kB=S.add.TySh.pM,ct=ho.characters;if(x.textCase=="TITLE"){for(var z=0;z<ct.length;z++)if(z==0||ct[z-1]==" "){var jF=ct.slice(0,z),fj=ct.slice(z+1);
ct=jF+ct[z].toUpperCase()+fj}}ct=ct.replace(/\u2028/g,"\n");ct=ct.replace(/\u2029/g,"\n");ct=ct.replace(/\r\n/g," \n");
bL.nw(kB,0,ct);var ab=x.textAutoResize,iw=ho.baselines;if(ab=="WIDTH_AND_HEIGHT"){var jD=f2==0?0:f2==1?aH.x:aH.x/2,a1=iw?iw[0].position.y:0;
e9.translate(jD*Q.Rt(),a1*Q.Rt());bL.vo(kB,0)}else if(ab=="HEIGHT"||ab=="NONE"||ab==null){var a1=iw?iw[0].position.y-x.fontSize*.7:0;
e9.translate(0,a1*Q.Rt());bL.vo(kB,1);bL.RO(kB,[0,0,Math.round(aH.x),Math.round((ab=="NONE"?1.8:1)*aH.y)])}else throw ab;
if(ct!=""){var gd=bL.ge(kB,0,1);e.a4K(x,Q,a,gd,S,c,g,U);bL.T3(kB,0,ct.length,gd);var i6=ho.characterStyleIDs,hv=ho.styleOverrideTable;
if(i6){i6=i6.slice(0);for(var z=0;z<i6.length;z++)if(ct[z]=="\n")i6[z]=-z-1;var hO=[0],jh=0,aJ=0;for(var z=0;
z<i6.length;z++){aJ++;var hS=i6[z];if(z==0||hS==i6[z-1]){}else{hO.push(aJ-1,z);aJ=1}}hO.push(aJ);for(var z=0;
z<hO.length;z+=2){var iO=hO[z],g$=hO[z+1];if(ct[iO]=="\n")continue;var hS=i6[iO];if(hS!=0){var bF;for(var hy=0;
hy<hv.length;hy++)if(hv[hy].styleID==hS)bF=hv[hy];var gd=bL.ge(kB,iO,iO+1);e.a4K(bF,Q,a,gd,S,c,g,U);
bL.T3(kB,iO,iO+g$-1,gd)}}}}}else if(o=="SYMBOL"){}else if(o=="INSTANCE"){var fg=x.symbolData,hL=fg.symbolOverrides,w=e.pA(U.YI,fg.symbolID);
if(w)V=w.children;else console.log(x.name,"symbol not found",fg.symbolID);R=R.slice(0);for(var z=0;z<hL.length;
z++)R.push(hL[z])}else console.log(o);if(!1){}else if(V&&!h){g.R.push(g.Sw());var dn=!1,c5=d==0&&o!="SYMBOL"&&o!="INSTANCE";
if(c5){if(b.Y3())console.log(b);S.yc(b)}y=Z[Z.length-1];if(c5&&y&&y.type=="SOLID"){var at=y.color;S.add.artb.artboardBackgroundType.v=4;
S.add.artb.Clr=e.oT(at)}else if((y||r[0])&&K){var gt=g.CH();gt.Je("Background");e.akK(gt,K,x,y,r,Q,b,c,g,U);
gt.h5();gt.sG(g);g.R.push(gt);dn=!0}V.sort(e.aia);var iK=U.EL;U.EL={};for(var iz=0;iz<V.length;iz++)e.mZ(V[iz],R,Q,c,g,d+1,U);
U.EL=iK;S.add.lsct=!1?ew.bZ:ew.qW;S.mh="pass";var gI=S.Pm();S.Yn=24;S.oE(gI);var ce=d!=0&&Z.length!=0&&!x.frameMaskDisabled&&x.containerSupportsFillStrokeAndCorners;
if(!dn&&ce&&K){S.add.vmsk=K;S.h5();S.sG(g)}else e.af4(U,S,g);g.R.push(S)}else if(x.mask){if(K){U.EL._V=K}}else{var b7=[],hx=1;
if(O)for(var br=0;br<O.length;br++){var dD=O[br],kg=dD.color,bM=dD.type,eQ=["DROP_SHADOW","INNER_SHADOW"].indexOf(bM);
if(eQ!=-1){var eT=["DrSh","IrSh"][eQ],b6=JSON.parse(fJ.Ck[fJ.order.indexOf(eT)]);b7.push([eT,b6]);b6.enab.v=dD.visible;
b6.Md.v.BlnM=c_.GM(e.a4B(dD.blendMode));b6.Opct.v.val=Math.round(100*kg.a);b6.blur.v.val=Math.round(dD.radius*Q.Rt());
b6.Clr=e.oT(kg);var jD=dD.offset.x,a1=dD.offset.y;b6.uglg.v=!1;b6.lagl.v.val=Math.round(180/Math.PI*Math.atan2(a1,-jD));
b6.Dstn.v.val=Math.round(Math.sqrt(jD*jD+a1*a1)*Q.Rt())}}if(o=="TEXT"&&Z[0]&&Z[0].type!="SOLID")hx=0;
for(var z=hx;z<Z.length;z++){var io=Z[z],jm=e.E2(x,io,Q,b,c,g,U);if(jm[0]=="GdFl")b7.push(["GrFl",jm[1]]);
else if(jm[0]=="SoCo")b7.push(["SoFi",jm[1]]);else if(jm[0]=="PtFl")b7.push(["patternFill",jm[1]]);else if(jm[0]=="None"){}else throw jm}if(!h)for(var z=0;
z<r.length;z++){var io=r[z],jm=e.E2(x,io,Q,b,c,g,U);if(jm[0]=="SoCo"){var b6=JSON.parse(fJ.Ck[fJ.order.indexOf("FrFX")]);
b7.push(["FrFX",b6]);b6.enab=jm[1].enab;b6.Opct=jm[1].Opct;b6.Md=jm[1].Md;b6.Clr=jm[1].Clr;b6.Sz.v.val=x.strokeWeight}}if(b7.length!=0){var bq=JSON.parse(fJ.default);
for(var z=0;z<fJ.order.length;z++)bq[fJ.YZ[z]]={t:"VlLs",v:[]};for(var z=0;z<b7.length;z++){var gO=b7[z],eT=fJ.YZ[fJ.order.indexOf(gO[0])];
bq[eT].v.unshift({t:"Objc",v:gO[1]})}if(V==null)S.add.lmfx=bq}g.R.push(S)}};ba.akK=function(x,R,T,c,g,d,U,e,N,l){var J=ba;
x.Yn|=16;x.add.vmsk=R;var w=x.add.vstk=fJ.SC.GI(),s=J.E2(T,c,d,U,e,N,l);w.fillEnabled.v=s[0]!="None";
if(s[0]=="None"){x.add.SoCo=s[1]}else{J.tt(s,x);x.add[s[0]]=s[1]}var s=J.E2(T,g[0],d,U,e,N,l);if(s[0]!="None"){var w=x.add.vstk;
w.strokeEnabled.v=!0;w.strokeStyleLineWidth.v.val=T.strokeWeight*d.Rt();w.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fJ.SC.tm[["INSIDE","CENTER","OUTSIDE"].indexOf(T.strokeAlign)];
var o={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[s[0]],V=["SoFi","GrFl","patternFill"].indexOf(o),a=[fJ.RV,fJ.dc,fJ.lK][V];
w.strokeStyleContent.v={classID:fJ.SC.af[0]};var O=T.dashPattern;if(O)w.strokeStyleLineDashSet.v=e5.c6(O,1/T.strokeWeight);
var S=w.strokeStyleContent.v={classID:fJ.SC.af[V]};for(var z=0;z<a.length;z++)S[a[z]]=s[1][a[z]];if(!w.fillEnabled.v)J.tt(s,x)}};
ba.tt=function(x,R){var T=x[1].Opct.v.val;if(T!=100)R.opacity=Math.round(R.opacity/255*(T/100)*255)};
ba.aia=function(x,R){var T=x.parentIndex.position,c=R.parentIndex.position;return T>c?1:-1};ba.adr=function(x){for(var z=1;
z<x.length;z++){var R=x[z];if(R.type=="IMAGE"&&R.opacity==1){x=x.slice(z);break}}for(var z=0;z<x.length;
z++){var R=x[z],T=R.imageThumbnail;if(R.type=="IMAGE"&&(R.image==null||R.image.dataBlob==null)&&T&&T.dataBlob)R.image=T;
if(!R.visible){x.splice(z,1);z--}}return x};ba.af4=function(x,R,T){if(x.EL._V){R.add.vmsk=x.EL._V.clone();
R.h5();R.sG(T)}};ba.a4K=function(x,R,T,c,g,d,U,e){var N=x.fontSize,l=x.lineHeight,J=x.fontName,w=x.textAlignHorizontal,s=x.textTracking,o=x.textCase,V=x.textDecoration;
if(N==null)N=c.Ba.FontSize;if(J){var a=J.postscript;if(a==""){var O=J.family,S=J.style;a=O.split(" ").join("")+"-"+S}bL.EF(c,a)}if(N!=null)c.Ba.FontSize=Math.round(N);
if(V=="UNDERLINE")c.Ba.Underline=!0;if(s)c.Ba.Tracking=Math.round(s*1e3);if(o)c.Ba.FontCaps=o=="UPPER"?2:0;
if(l&&(l.units!="PERCENT"||l.value!=100)){if(N==null)N=15;var L=l.value;if(l.units=="PERCENT")L=1*N*L/100;
if(l.units=="RAW")L=1*N*L;c.Ba.AutoLeading=!1;c.Ba.Leading=Math.round(L)}if(w)c.qi.Justification=["LEFT","RIGHT","CENTER"].indexOf(w);
var Q=x.fillPaints,b=x.inheritFillStyleID;if(b){var Z=ba.pA(e.YI,b);if(Z)Q=Z.fillPaints}if(Q&&Q[0]){var I=ba.E2(x,Q[0],R,T,d,U,e);
if(I[0]=="SoCo"){var y=u.I.ir(I[1].Clr.v);c.Ba.FillColor={Type:1,Values:[1,y.o/255,y.A/255,y.J/255]};
ba.tt(I,g)}}};ba.E2=function(x,R,T,c,g,d,U){var e=ba,N,l,J=x.size;if(J==null)J={x:0,y:0};if(R){var w=R.type,s=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(w);
if(w=="SOLID"){N="SoCo";var o=R.color;l=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);l.Clr=e.oT(o)}else if(s!=-1){var V=JSON.parse(fJ.Ck[fJ.order.indexOf("GrFl")]),a=V.Grad.v;
a.Intr.v=0;V.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][s];var O=[],S=R.stops;for(var z=0;z<S.length;z++){var L=S[z],Q=L.color;
O.push([L.position,[Q.r,Q.g,Q.b],Q.a])}u.I.lw(O,a);var b=e.Rp(R.transform);b.F0();var Z=b.clone();if(J)Z.scale(J.x,J.y);
Z.concat(T);var I=new cI(0,.5),y=new cI(1,.5);I=Z.Wk(I);y=Z.Wk(y);if(!0){I.x=y.x+.5*(I.x-y.x);I.y=y.y+.5*(I.y-y.y)}u.I.Wz(I,y,c,V);
if(s==3){if(Z.Y*Z.jR-Z.J*Z.zI<0)V.Rvrs.v=!V.Rvrs.v}N="GdFl";l=V}else if(w=="IMAGE"){var V=JSON.parse(fJ.Ck[fJ.order.indexOf("patternFill")]),b=e.Rp(R.transform);
b.F0();var r=ba.sU(R),h=U.auH[r];if(h==null){var k=e.Yr(g,r,U);h=U.auH[r]={};h.id=c9.EW()+"-d71c-11e5-b1ae-a548a96e5f9f";
h.NR=[new Uint8Array(k.data),k.d8];if(b.Y<0){var K=h.NR[0].slice(0);u.D.Ke(K,h.NR[0],k.d8.m,k.d8.e)}h.name="someImage";
d.Ot(h)}if(b.Y<0)b.Y=-b.Y;var H=["FILL","FIT","STRETCH","TILE"].indexOf(R.imageScaleMode),p=H==3?R.scale:1;
e5.abW(h,V,J.x,J.y,H,T,b,p);N="PtFl";l=V}else throw w;if(l)l.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(R.opacity*100)}}}if(N==null||R.opacity<.001){N="None";
l={classID:"null",Clr:{t:"Objc",v:u.I.SE({o:0,A:0,J:0})}}}return[N,l]};ba.sU=function(x){var R=x.image,T=R.dataBlob;
if(T==null){T="";for(var z=0;z<20;z++)T+=R.hash[z].toString(16).padStart(2,"0")}return T};ba.Yr=function(x,R,T,c){if(x[R]){var g=x[R];
if(c)return g.bytes;if(g.rslt)return g.rslt;var d=g.bytes.buffer;g.rslt=ba.a2n(d);return g.rslt}else{if(c)return T.NH["images/"+R];
var d=T.NH["images/"+R].buffer;if(T.NH["images/-"+R])return T.NH["images/-"+R];T.NH["images/-"+R]=ba.a2n(d);
return T.NH["images/-"+R]}};ba.a2n=function(x){var R=dp.Xk(x);if(R=="fpng")R="png";var T=dp.Ix(R);try{return T.x3(x)[0]}catch(i3){return{data:u.B(4),d8:new aP(0,0,1,1)}}};
ba.a1u=function(x,R,T){var c=x.type,g=x.size,d=x.cornerRadius,l;if(d==null)d=0;var U=g.x,e=g.y,N=[d,d,d,d],J=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var z=0;z<4;z++)if(x[J[z]]!=null)N[z]=x[J[z]];if(c=="RECTANGLE"||c=="ROUNDED_RECTANGLE"||c=="FRAME"){l=u.j.u1.Rect(0,0,U,e,N)}else if(c=="ELLIPSE"){var w=x.arcData,s=w?w.startingAngle:0,o=w?w.endingAngle:2*Math.PI,V=w?w.innerRadius:0;
if(s==0&&o>1.999*Math.PI)l=u.j.u1.mR(0,0,U,e,0);else l=u.j.u1.auL(U/2,e/2,e/2,s,o);if(V!=0&&V!=1){var a=F.LS.Lz(l).slice(3);
a.reverse();for(var z=0;z<a.length;z++){var O=a[z],S=O.YA;O.YA=O.VV;O.VV=S}var L=new gP;L.translate(-U/2,-e/2);
L.scale(V,V);L.translate(U/2,e/2);u.j.q0(a,L);l=l.concat(a);l[2].length*=2}}else if(c=="LINE"){l=u.j.u1.Rect(0,0,U,e,0);
l.pop();l.pop();l[2].length=2}else if(c=="STAR"){l=u.j.u1.apx(U/2,e/2,U/2,2*Math.PI*(1/4),5,0,x.starInnerScale)}else if(c=="REGULAR_POLYGON"){l=u.j.u1.zy(.5,.5,.5,Math.PI/2,x.count,0);
var Q=new gP;Q.scale(U,e);u.j.q0(l,Q)}else if(c=="BOOLEAN_OPERATION"){l=[{type:6},{type:8,all:0}];var b=x.children,Z=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(x.booleanOperation);
if(Z==-1)throw x;if(b==null)b=[];for(var z=0;z<b.length;z++){var I=b[z],y=new F.LS,r=ba.a1u(I,R,y);if(y.$==null)continue;
u.j.q0(y.$,ba.Rp(I.transform));l=l.concat(y.$.slice(2))}for(var z=3;z<l.length;z++)if(l[z].AC!=null)l[z].AC=Z}else if(c=="VECTOR"){var h,k,E=3;
if(!0){var K=x.vectorData;if(K==null)return;h=K.normalizedSize;k=K.vectorNetworkBlob}var H=R[k].bytes,p=new Uint32Array(H.buffer),f=new Float32Array(H.buffer),A=p[0],_=p[1],W=p[2],Y=[],G=[],i=[],$=E+A*3,C=$+_*7;
for(var z=0;z<A;z++){var B=E+z*3,M=new cI(f[B+1],f[B+2]);Y.push(M)}for(var z=0;z<_;z++){var j=$+z*7;
G.push([p[j+0],p[j+1],f[j+2],f[j+3],p[j+4],f[j+5],f[j+6]])}for(var z=0;z<W;z++){var P=p[C+1],t=i[z]=[];
C+=2;for(var q=0;q<P;q++){var m=p[C++],iE=t[q]=[];for(var hV=0;hV<m;hV++)iE[hV]=p[C+hV];C+=m}}if(C!=p.length)throw"e";
if(W==0){var dD=-1;for(var z=0;z<_;z++){if(dD==-1){}else{var bh=-1;for(var q=z;q<_;q++)if(G[q][4]==dD)bh=q;
for(var q=z;q<_;q++)if(G[q][1]==dD)bh=q;if(bh!=-1){var ho=0,S=G[bh];G[bh]=G[z];G[z]=S;if(S[1]!=dD){ho=S[1];
S[1]=S[4];S[4]=ho;ho=S[2];S[2]=S[5];S[5]=ho;ho=S[3];S[3]=S[6];S[6]=ho}}}dD=G[z][4]}i.push([[]]);for(var z=0;
z<_;z++)i[0][0].push(z)}var aH=[],f2=[];for(var e9=0;e9<i.length;e9++){for(var ct=0;ct<i[e9].length;
ct++){var jF=i[e9][ct],fj=0;if(jF.length>1){var ab=G[jF[0]],iw=G[jF[1]];fj=ab[4]==iw[1]?1:0}for(var z=0;
z<jF.length;z++){var jD=G[jF[z]],a1=1,gd=4;if(fj==0){a1=4;gd=1}var i6=Y[jD[a1]],hv=Y[jD[gd]];if(z==0){f2.push("M");
aH.push(i6.x,i6.y)}f2.push("C");aH.push(i6.x+jD[a1+1],i6.y+jD[a1+2],hv.x+jD[gd+1],hv.y+jD[gd+2],hv.x,hv.y)}}}l=u.M.gj({z:aH,G:f2},!1);
if(d!=0){var N=[],hO=l[2].length;for(var z=0;z<hO;z++)N.push(d);if(u.j.fZ(l))u.j.FG(l,2,N)}var jh=new gP;
jh.scale(h.x==0?1:g.x/h.x,h.y==0?1:g.y/h.y);u.j.q0(l,jh)}T.$=l};ba.pA=function(x,R){return x[R.sessionID+","+R.localID]};
ba.awU=function(x,R){return x.sessionID==R.sessionID&&x.localID==R.localID};ba.a4B=function(x){var R={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[x];
if(R==null)throw x;return R};ba.oT=function(x){return{t:"Objc",v:u.I.SE({o:x.r*255,A:x.g*255,J:x.b*255})}};
ba.Rp=function(x){if(x==null)return new gP;var R=[x.m00,x.m10,x.m01,x.m11,x.m02,x.m12];for(var z=0;z<6;
z++)if(Math.abs(R[z])<1e-20)R[z]=0;return new gP(R[0],R[1],R[2],R[3],R[4],R[5])};function he(){}he.eE=function(){var x=n.zQ;
function R(o,V,a,O){var S=O?[]:{};while(V<o.length-1&&o[V]!=125){var L=x(o,V,3),Q=x(o,V+3,1),b;V+=4;
V++;if(Q=="v"){var Z=R(o,V,a+1,L=="ELM"||L=="TIL");b=Z.b;V=Z.w}else if(Q=="i"||Q=="f"){var I=V;while(o[I]!=125)I++;
var y=x(o,V,I-V);b=Q=="i"?parseInt(y,16):parseFloat(y);V=I+1}else if(Q=="s"){var r=n.wh(o,V),y="";V+=2;
for(var z=0;z<r;z++)y+=String.fromCharCode(o[V+2*z+1]);b=y;V=V+2*r+1}else if(Q=="b"){b=o[V]==49;V=V+2}else throw"e";
if(O)S.push([L,b]);else if(S[L]==null)S[L]=b;else{if(!(S[L]instanceof Array))S[L]=[S[L]];S[L].push(b)}}V++;
return{b:S,w:V}}function T(o,V){var a=c(o).slice(1),o=V.Clr.v;o.Rd.v=a[0]*255;o.Grn.v=a[1]*255;o.Bl.v=a[2]*255}function c(o){return[(o>>>24&255)/255,(o>>>16&255)/255,(o>>>8&255)/255,(o>>>0&255)/255]}function g(o,V){var a=V&4278190080|(V&255)<<16|(V>>>8&255)<<8|V>>>16&255;
new Uint32Array(o.buffer).fill(a)}function d(o,V){var a=o.TSZ,O=o.WPX,S=o.HPX,L=o.TIL,Q=new aP(0,0,O,S),b=u.B(O*S*4),Z=0;
for(var I=0;I<S;I+=a)for(var y=0;y<O;y+=a){var r=new aP(y,I,a,a),h,k=L[Z];if(k[0]=="TMC"){h=u.B(r.Z()*4);
g(h,k[1])}else if(k[0]=="TID"){h=V[k[1]]}u.yU(h,r,b,Q);Z++}return[b,Q]}function U(o,V){o=new Uint8Array(o);
var a=8,O,S={},_=0;while(a<o.length){var L=n.s(o,a);a+=4;var Q=x(o,a,4);a+=4;if(Q=="mkTS"){var b=pako.inflate(o.slice(a,a+L)),Z=R(b,0,0);
O=Z.b}else if(Q=="mkBT"){var I=n.s(o,a+4),y=n.s(o,a+8),b=pako.inflate(o.slice(a+76,a+L));if(y==0)for(var z=0;
z<b.length;z+=4){var r=b[z],h=b[z+1],k=b[z+2],K=b[z+3];b[z+3]=r;b[z+2]=K;b[z+1]=k;b[z]=h}else{var H=u.B(b.length*4);
H.fill(255);u.Oj(b,H);b=H}S[I]=b}a+=L+4}var p=O.PDC,f=p?p instanceof Array?p:[p]:[O.MKB],A=new aP;for(var z=0;
z<f.length;z++){var W=f[z];A=A.y8(new aP(0,_,W.WID,W.HIT));_+=W.HIT+100}V.m=A.m;V.e=A.e;V.buffer=u.B(A.Z()*4);
V.MH(f.length);_=0;for(var Y=0;Y<f.length;Y++){V.R.push(V.Sw());var W=f[Y],G=W.WID,i=W.HIT,E=W.BGC,$=(W.LYL?W:O).LYL.LAY,M=3;
for(var z=0;z<$.length;z++)N($[z],V,null,S,new gP(1,0,0,1,-W.XLC,-W.YLC+_));var C=V.CH();V.R.push(C);
var B=new aP(0,_,G,i);_+=i+100;C.yc(B);if(E>>>24!=0){var j=u.I.SE({o:E>>>16&255,A:E>>>8&255,J:E>>>0&255});
C.add.artb.Clr={t:"Objc",v:j};M=4}C.add.artb.artboardBackgroundType.v=M;C.Je(W.PGN?W.PGN:"Page "+(Y+1));
C.add.lsct=ew.qW;C.mh="pass";C.Yn=24}}function e(o,V,a){var O=o[V];return O instanceof Array?O[a]:O}function N(o,V,a,O,S){var L=V.CH();
if(o.VIS!=null)L.oE(o.VIS);if(o.VIF!=null)L.oE(o.VIF.VIS);if(o.OPA!=null)L.opacity=Math.round(255*o.OPA/1e3);
L.mh=o.CLL||a=="GRP"?"pass":"norm";if(o.BLD!=null){var Q=o.BLD,b={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[Q+""];
if(b==null)console.log(o.OBN,Q);else L.mh=b;if(Q==30)L.opacity>>>=1}if(o.CLL){L.Je(o.LNM);V.R.push(V.Sw());
var Z=o.CLL.CEL;if(Z.length==null)Z=[Z];for(var I=Z.length-1;I>=0;I--){var y=Z[I].ELM;for(var z=y.length-1;
z>=0;z--)N(y[z][1],V,y[z][0],O,S)}L.add.lsct=o.DIS?ew.bZ:ew.qW;L.Yn|=24}else if(a=="GRP"){var r=L.add.lmfx=J(o.EFL),h;
V.R.push(V.Sw());var y=o.ELM;if(o.MNA){h=y[0][1];y=y.slice(1)}L.Je("Group: "+y.length+" objects");for(var z=y.length-1;
z>=0;z--)N(y[z][1],V,y[z][0],O,S);if(h){if(o.MRX){var k=d(h,O),K=L.F=new F.Wu;K.rect=k[1].clone();K.rect.x=h.XLC;
K.rect.y=h.YLC+S.rY;K.channel=u.B(K.rect.Z());u.TR(k[0],K.channel,0);u.F0(K.channel)}else{l(L,h,S);L.h5();
L.sG(V)}}L.add.lsct=ew.qW;L.Yn|=24}else if(a=="IMG"){L.Je(o.OBN?o.OBN:"Bitmap");var k=d(o,O);L.rect=k[1].clone();
L.rect.x=o.XLC;L.rect.y=o.YLC+S.rY;L.buffer=k[0]}else if(a=="TXT"){var H=o.TFS,p=H.TRN instanceof Array?H.TRN.length:1,W="",Y="Arial",G=20,i=0;
L.add.lnsr="rend";L.add.TySh=bL.Zk(0,0);L.add.TySh.ij=new aP(0,0,100,100);var f=new gP(1,0,0,1,o.LFT,o.TOP);
if(o.MTX){var A=o.MTX,K=new gP(A.M00,A.M01,A.M10,A.M11,A.M20,A.M21);f.concat(K)}f.concat(S);L.add.TySh.i=f;
var _=L.add.TySh.pM;for(var z=0;z<p;z++){var E=e(H,"TRN",z);if(E==null)continue;E=E.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
E=E.replaceAll("\x03","\n").replaceAll("\r","\n");bL.nw(_,W.length,E);var $=bL.ge(_,0,1),C=e(H,"FON",z);
if(C)Y=C;bL.EF($,Y);var B=e(H,"PTS",z);if(B!=null)G=B;$.Ba.FontSize=Math.round(G);var M=e(H,"LED",z);
if(M!=null){$.Ba.Leading=M*G;$.Ba.AutoLeading=!1}var j=e(H,"UND",z);if(j!=null){$.Ba.Underline=j}var P=e(H,"ITL",z);
if(P!=null){$.Ba.FauxItalic=P}var t=e(H,"FCL",z);if(t!=null)i=t;$.Ba.FillColor={Type:1,Values:c(i)};
var q=e(H,"JST",z);if(q!=null)$.qi.Justification=[0,2,1,3,5,4,6,7,8][q];bL.T3(_,W.length,W.length+E.length,$);
W+=E}L.Je(W.slice(0,255));var m=o.RIT-o.LFT,iE=o.BOT-o.TOP;if(o.IMG){N(o.IMG,V,"IMG",O,S);var hV=V.R.pop();
L.buffer=hV.buffer;L.rect=hV.rect.clone()}bL.vo(_,1);bL.RO(_,[0,0,m,iE])}else if(a=="PTH"){L.Je(o.OBN?o.OBN:"Path");
L.Yn|=16;var dD=!1;l(L,o,S);var bh=L.add.vmsk,ho=L.add.vstk,aH=u.j.pP(bh.$),f2=o.PAT,e9=f2.BPL,kB=f2.FPL,ct=f2.TXF;
if(kB&&kB.FEF)bh.Cu+=kB.FEF/2.4;if(e9){var jF=e9.CAT;ho.strokeEnabled.v=!0;ho.strokeStyleLineWidth.v.val=e9.BDI;
ho.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fJ.SC.tm[o.BRP];T(f2.BCL,ho.strokeStyleContent.v);
if(jF!="bc_Basic"&&jF!="bc_Pencil")dD=!0}ho.fillEnabled.v=kB!=null;if(kB==null){L.add.SoCo=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);
T(0,L.add.SoCo)}else if(kB.CAT=="fc_Solid"){L.add.SoCo=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);T(o.PAT.FCL,L.add.SoCo)}else if(kB.CAT=="fc_Linear"||kB.CAT=="fc_Circular"||kB.CAT=="fc_Elliptical"){var fj=kB.CAT=="fc_Linear",ab=L.add.GdFl=JSON.parse(fJ.Ck[fJ.order.indexOf("GrFl")]),iw=ab.Grad.v,jD=[],a1=kB.FGL,gd,i6=[];
if(a1.FGY){var hv=a1.FGY,gd=hv.FG0.FGI,i6=hv.FG1.FGI}else gd=a1.FGV.FGI;for(var z=0;z<gd.length;z++){var hO=gd[z],jh=c(hO.FGC),aJ=1;
if(i6.length==gd.length)aJ=c(i6[z].FGC)[0];jD.push([hO.FGP,jh.slice(1),aJ])}ab.Type.v.GrdT=fj?"Lnr":"Rdl";
u.I.lw(jD,iw);iw.Intr.v=0;var hS=o.PRI?o.PRI:o,iO=new cI(hS.PSX,hS.PSY),g$=new cI(hS.PEX,hS.PEY);if(kB.CAT=="fc_Elliptical"&&hS.PFX!=null){var bF=new cI(hS.PFX,hS.PFY),hy=cI.rE(iO,g$),fg=cI.rE(iO,bF);
if(fg<hy){var hL=hy;hy=fg;fg=hL}g$=new cI(iO.x+(hy+fg)/2,iO.y);if(hy/fg<.5)dD=!0}if(fj){iO.x=(iO.x+g$.x)/2;
iO.y=(iO.y+g$.y)/2}u.I.Wz(iO,g$,aH,ab)}else console.log(kB.CAT);var r=L.add.lmfx=J(o.EFL,bh);if(kB&&kB.FTB!=0&&ct){var k=d(ct.MSK,O),dn={};
dn.id=c9.EW()+"-d71c-11e5-b1ae-a548a96e5f9f";dn.name="someImage";dn.NR=k;V.Ot(dn);var c5=k[0];for(var z=0;
z<c5.length;z+=4){c5[z+3]=255-c5[z];c5[z]=c5[z+1]=c5[z+2]=255}var ab=JSON.parse(fJ.Ck[fJ.order.indexOf("patternFill")]);
ab.Opct.v.val=Math.round(kB.FTB/10);ab.Algn.v=!0;ab.Ptrn.v.Idnt.v=dn.id;r.patternFillMulti.v.unshift({t:"Objc",v:ab})}if(dD&&o.IMG){N(o.IMG,V,"IMG",O,S);
var gt=V.R[V.R.length-1];gt.opacity=L.opacity;return}L.h5();L.sG(V)}else if(a=="URL")return;else{console.log("unknown layer type",a,o);
L.Je("Layer")}V.R.push(L)}function l(o,V,a){if(V.PBL==null)return;var O=o.add.vmsk=new F.LS,S=o.add.vstk=fJ.SC.GI(!0),L=V.PBL.PBP;
if(!(L instanceof Array))L=[L];for(var Q=0;Q<L.length;Q++){var b=L[Q].PBT;if(b==null)continue;if(!(b instanceof Array))b=[b];
var Z=L[Q].ISC?0:3;O.$.push({type:Z,length:b.length,AC:0,$e:2,W5:0,dD:0});for(var z=0;z<b.length;z++){var I=b[z],y=I.XLC,r=I.YLC,h=[y,r,y,r,y,r],k="XPC YPC XLC YLC XSC YSC".split(" ");
for(var K=0;K<6;K++){var H=k[K],p=I[H];if(p!=null)h[K]=p}O.$.push({type:Z+2,L:new cI(y,r),YA:new cI(h[0],h[1]),VV:new cI(h[4],h[5])})}}u.j.q0(O.$,a)}function J(o,V){var a=JSON.parse(fJ.default);
for(var z=0;z<fJ.order.length;z++)a[fJ.YZ[z]]={t:"VlLs",v:[]};if(o==null||o.EPS==null)return a;var O=o.EPS;
if(!(O instanceof Array))O=[O];for(var z=0;z<O.length;z++){var S=O[z].DCE,L={};for(var Q=0;Q<S.length;
Q++)L[S[Q].DCK]=S[Q].DCV;if(L.EffectIsVisible=="false")continue;var b=L.mkbFile_WriteOnly_TemporaryEffectUiName;
if(b=="Gaussian Blur..."&&V){V.Cu+=parseFloat(L.gaussian_blur_radius);continue}var Z=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(b);
if(Z==-1){continue}var I=["DrSh","ebbl","IrGl","OrGl"][Z],y=fJ.YZ[fJ.order.indexOf(I)],r=JSON.parse(fJ.Ck[fJ.order.indexOf(I)]);
a[y].v.unshift({t:"Objc",v:r});if(I=="DrSh"){r.uglg.v=!1;w(L,"ShadowDistance",r,"Dstn");w(L,"ShadowBlur",r,"blur");
w(L,"ShadowAngle",r,"lagl",180);r.Opct.v.val=100;s(L,"ShadowColor",r,"Clr")}if(I=="IrGl"){r.Md.v.BlnM="Nrml";
var h=L.MaskSoftness,k=L.GlowWidth;if(h&&k){h=parseInt(h);k=parseInt(k);r.blur.v.val=k+h;r.Ckmt.v.val=Math.round(100*k/(k+h))}w(L,"BevelContrast",r,"Opct");
s(L,"OuterBevelColor",r,"Clr")}if(I=="OrGl"){r.Md.v.BlnM="Nrml";var h=L.MaskSoftness,k=L.GlowWidth;if(h&&k){h=parseInt(h);
k=parseInt(k);r.blur.v.val=k+h}w(L,"BevelContrast",r,"Opct");s(L,"OuterBevelColor",r,"Clr")}if(I=="ebbl"){r.uglg.v=!1;
w(L,"BevelWidth",r,"blur");w(L,"AngleSoftness",r,"Sftn");w(L,"BevelContrast",r,"srgR");w(L,"LightAngle",r,"lagl")}}return a}function w(o,V,a,O,S){var L=o[V];
if(S==null)S=0;if(L)a[O].v.val=parseInt(L)+S}function s(o,V,a,O){var S=o[V];if(S){S=S.slice(1);if(S.length==6)S=S+"ff";
if(S.length!=8)throw"e";var L=c(parseInt(S,16)),Q=a[O].v;Q.Rd.v=L[0]*255;Q.Grn.v=L[1]*255;Q.Bl.v=L[2]*255;
a.Opct.v.val=Math.round(a.Opct.v.val/100*L[3]*100)}}return U}();var d4=function(){function x(g){var d=new Uint8Array(g.length);
n.vW(d,0,g);return d}function R(g){var d=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",x("")],U=d.length,N=0;
d.push("<< /AIMetaData  "+(U+2)+" 0 R /AIPrivateData1 "+(U+3)+" 0 R  /AIPrivateData2 "+(U+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
d.push(x(""));d.push(x(""));d.push(g);var e=new kE,l=[];function J(V){n._a(e,N,V);N+=V.length}J("%PDF-1.5\n");
for(var z=0;z<d.length;z++){l.push(N);J(z+1+" 0 obj\n");var w=d[z];if(typeof w=="string")J(d[z]+"\n");
else{var s=pako.au2(w);J("<< /Length "+s.length+" /Filter [ /FlateDecode ] >>\nstream\n");e.sL(N,s.length);
e.data.set(s,N);N+=s.length;J("\nendstream\n")}J("endobj\n")}var o=N;J("xref\n0 "+(l.length+1)+"\n0000000000 65535 f\r\n");
for(var z=0;z<l.length;z++)J((l[z]+"").padStart(10,"0")+" 00000 n\r\n");J("trailer\n<< /Root 1 0 R /Size "+(l.length+1)+" >>\nstartxref\n"+o+"\n%%EOF\n");
return e.data.slice(0,N)}function T(g,d){var U=Date.now(),e=new Uint8Array(g),N,l=e[2]==68;if(d)console.log(!l?"EPS":"PDF");
if(l){var J=n.KZ(e,"/AIMetaData "),h=!1,k=!1;while(e[J]!=60)J--;J--;var w=n.KZ(e,">>",J),s=n.zQ(e,J+2,w-J-2).split("/"),o=[];
for(var z=0;z<s.length;z++){var V=s[z],a=V.startsWith("AIPrivateData"),O=V.startsWith("AIPDFPrivateData");
if(!a&&!O)continue;var S=V.trim().split(/\s+/),L=parseInt(S[1]),Q=parseInt(S[0].slice(a?13:16));o.push([Q,L])}if(d)console.log("--- map made",Date.now()-U);
U=Date.now();var b=FromPDF.indexOfXref(e),Z=[],I=FromPDF.readXrefTrail(e,b,Z),y={buff:e,off:0},r=new Array(o.length),K=J;
for(var z=0;z<o.length;z++){var Q=o[z][0],L=o[z][1],H=FromPDF.getIndirect(L,0,y,Z),p=H.buff,f=H["/Filter"],A=0;
if(f!=null&&typeof f=="string")f=[f];var _=n.zQ(p,A,A+20);if(_=="%AI12_CompressedData"){A+=20;h=!0}else if(_=="%AI24_ZStandard_Data"){A+=20;
k=!0}p=new Uint8Array(p.buffer,p.byteOffset+A,p.length-A);if(f)for(var W=0;W<f.length;W++){var Y=f[W];
if(Y=="/FlateDecode")p=pako.inflate(p);else if(Y=="/ASCIIHexDecode")p=FromPS.F.HexDecode({buff:p,off:0});
else if(Y=="/ASCII85Decode")p=FromPS.F.ASCII85Decode({buff:p,off:0});else throw Y}r[Q-1]=p}if(d)console.log("--- arrays found",Date.now()-U);
U=Date.now();var G=n.zQ(r[0],0,13);if(G=="%%BoundingBox"||G=="%AI7_Thumbnai")r=r.slice(1);if(G=="%AI24_ZStanda"){r[0]=r[0].slice(20);
k=!0}if(n.zQ(r[0],0,13)=="%AI12_Compres"){r[0]=r[0].slice(20);h=!0}N=c(r);if(d)console.log("--- concatenated",Date.now()-U);
U=Date.now();if(h)N=UZIP.inflate(N);if(k)N=dp.dt.PA(N);if(d)console.log("--- inflated",Date.now()-U);
U=Date.now()}else{var i=n.KW(e);if(i.indexOf("%AI5_BeginLayer")!=-1){N=e}else{var E=i.split(/[\n\r]+/),$=[],C=!1;
for(var B=0;B<E.length;B++){var M=E[B].trim();if(M=="%AI9_PrivateDataEnd"){C=!1;break}else if(M=="%AI9_DataStream"||M=="%AI24_DataStream"){C=!0}else if(C)$.push(M.slice(1))}var j=n.SF($.join("")),P=FromPS.F.ASCII85Decode({buff:j,off:0});
if(P[0]==120&&P[1]==156)N=UZIP.inflate(P);else N=dp.dt.PA(P)}}return N}function c(g){var d=0,e=0;for(var z=0;
z<g.length;z++)d+=g[z].length;var U=new Uint8Array(d);for(var z=0;z<g.length;z++){var N=g[z];U.set(N,e);
e+=N.length}return U}return{af$:T,agh:R}}();function iV(){}iV.eE=function(){function x(_,W,Y){var G=!1,i=Date.now(),E=d4.af$(_,G);
if(G)console.log("part found",Date.now()-i);i=Date.now();var $=h(E),C=$.Layer,B=$.Header;if(G)console.log($);
var M=$.Setup.TextDocument,j=C[0];j=$.Layer[0];if(G)console.log("document parsed",Date.now()-i);i=Date.now();
$.Setup.Gradient=r($.Setup.Gradient,E);if(G)console.log("grads loaded",Date.now()-i);i=Date.now();$.Setup.Pattern=y($.Setup.Pattern,E);
if(G)console.log("patts loaded",Date.now()-i);i=Date.now();var P=Z($.Setup.DocumentData,E),t=I(P);$.Setup.DocumentData=P.pop();
if(G)console.log("docdata loaded",Date.now()-i);i=Date.now();$.Setup.SVGFilter=Z($.Setup.SVGFilter,E);
if(G)console.log("svgfilter loaded",Date.now()-i);i=Date.now();var q=B.Cropmarks,m=B.BoundingBox.split(" ").map(parseFloat),iE=B.ArtSize?B.ArtSize.split(" ").map(parseFloat):[m[2]-m[0],m[3]-m[1]];
W.m=Math.round(iE[0]);W.e=Math.round(iE[1]);var hV=[1,0,0,1,-m[0]+(W.m-(m[2]-m[0]))/2,-m[1]+(W.e-(m[3]-m[1]))/2];
hV[3]=-1;hV[5]=W.e-hV[5];if(q){q=q.split(" ").map(parseFloat);W.m=Math.round(q[2]-q[0]);W.e=Math.round(q[3]-q[1]);
hV=[1,0,0,-1,-q[0],W.e+q[1]]}var P=$.Setup.DocumentData,dD=[],bh=[];if(P&&P[0]&&P[0].ArtboardArray){var dD=P[0].ArtboardArray;
if(dD.length!=1)console.log(dD.length,"artboards");var ho=new aP;for(var z=0;z<dD.length;z++){var aH=dD[z],f2=aH.PositionPoint1,e9=aH.PositionPoint2,kB=f2[0],ct=Math.min(f2[1],e9[1]),jF=e9[0],fj=Math.max(f2[1],e9[1]),ab=new aP(kB,ct,jF-kB,fj-ct);
bh.push(ab);ho=ho.y8(ab)}W.m=Math.round(ho.m);W.e=Math.round(ho.e);hV[4]=-ho.x;hV[5]=ho.y+W.e}if(P&&P[0]&&P[0]["#document"]){var iw=P[0]["#document"],jD=iw["xmlnode-children"][0];
if(jD&&jD["xmlnode-children"])jD=jD["xmlnode-children"][0];if(jD["xmlnode-nodename"]=="variableSets"){var a1=jD["xmlnode-children"][0]["xmlnode-children"],gd=a1[0],i6=a1[1],hv=A(gd);
W.gq=da.ad5("<variableSets><variableSet>"+hv+"</variableSet></variableSets>");if(i6){var hO=A(i6),jh=W.sb=da.akr(hO);
for(var z=0;z<jh.length;z++)for(var aJ=0;aJ<jh[z].length;aJ++)jh[z][aJ]=jh[z][aJ].trim()}}}var hS=1/fR.tG(new aP(0,0,W.m,W.e),8192*8192);
while(Math.max(W.m*hS,W.e*hS)<800)hS*=2;while(Y&&Math.max(W.m*hS,W.e*hS)<Math.max(Y[0],Y[1]))hS++;W.m=Math.round(W.m*hS);
W.e=Math.round(W.e*hS);W.De=Math.round(72*hS);for(var z=0;z<6;z++)hV[z]*=hS;if(dD.length!=[1,0][b5]){var iO=b5==0?W.R:[];
iO.push(W.Sw());W.add.arts=[];for(var z=0;z<bh.length;z++){var aH=dD[z],ab=bh[z],g$=W.CH();g$.Je(aH.Name);
iO.push(g$);g$.add.SoCo=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);var bF=g$.add.SoCo.Clr.v;o(bF,[1,1,1]);
var kB=ab.x,ct=ab.y,jF=kB+ab.m,fj=ct+ab.e,hy=[kB,ct,jF,ct,jF,fj,kB,fj];u.M.i(hy,a(hV),hy);S(g$,{cmds:["M","L","L","L","Z"],crds:hy},W,0);
g$.add.vstk=fJ.SC.GI(!0);var Y=u.M.QK(hy);W.add.arts.push({QP:aH.Name,Uc:[Y.x,Y.y,Y.x+Y.m,Y.y+Y.e],g:aH.IsArtboardSelected})}var g$=W.CH();
g$.Je("_Artboards_");g$.add.lsct=ew.qW;g$.mh="pass";g$.Yn=24;iO.push(g$)}else W.add.arts=[{QP:"Artboard",Uc:new aP(0,0,W.m,W.e)}];
T=[0,0,0];c=[0,0,0];g="SoCo";d="SoCo";U=new gP;for(var fg=0;fg<C.length;fg++){var hL=C[fg];hL.Raster=R(hL,"Raster");
hL.Place=R(hL,"Place");var dn=Q(E,hL);e(W,dn,hV,$,hL,E)}if(b5==0)for(var z=0;z<W.R.length;z++){var g$=W.R[z];
if(g$.rh){W.R.splice(z,1);var c5=W.R[z];c5.add.vmsk=g$.add.vmsk;c5.add.vogk=g$.add.vogk;c5.sG(W)}}else{}if(G)console.log("layers created",Date.now()-i);
i=Date.now()}function R(_,W){var Y=_.Layer,G=_[W];if(G==null)G=[];if(Y){for(var z=0;z<Y.length;z++){var i=Y[z],E=i[W]=R(i,W);
G=G.concat(E)}G.sort(function($,C){return $._begin-C._begin})}return G}var T,c,g,d,U;function e(_,W,Y,G,i,E){var $="",C=0,B="",M=!1,j={},P=UDOC.G,t=UDOC.getState(),q="norm",m=1,iE=0,hV=!1,dD=0,bh=!1,ho=!0,aH=null,f2=!1,e9=0,kB=null,ct,jF,fj=0,ab=0,iw=0,gd=0,i6=!1;
t.ctm=Y;var jD=[],a1=[];for(var hv=0;hv<W.length;hv++){var hO=W[hv],bF=1e9;if(hO[0]=="%"){if(hO=="%_/ArtDictionary :"&&e9==0)aH=[hO.slice(2)];
else if(aH!=null){if(hO=="%_"&&e9==0){var jh=H(aH)[0],aJ=_.R[_.R.length-1],hS=jh.AI10_ArtUID,iO=jh.BBAccumRotation;
if(hS&&!hS.startsWith("XMLID"))aJ.Je(f(hS));if(iO&&aJ.add.vmsk)aJ.add.vmsk.XI=parseFloat(iO);aH=null}else{aH.push(hO.slice(f2?1:2));
if(hO=="%_X=")e9++;if(hO=="%_X+")e9--;if(hO=="%_/Binary : /ASCII85Decode ,")f2=!0;if(f2&&hO.endsWith("~>"))f2=!1}}else if(kB){ct+=(ct==""?"":" ")+hO.slice(2);
if(ct.endsWith("X#")){kB.push(ct.slice(0,ct.length-3));ct=""}}continue}else if(hO=="/Mesh X!"){kB=[];
ct="";continue}else if(hO=="/End X!"){J(kB,t,_);kB=null;continue}var g$="Xa XR m l c f U u *U w J j M d".split(" "),hy=-1,fg=hO.indexOf("(")!=-1;
for(var z=0;z<g$.length;z++){var hL=hO.indexOf(" "+g$[z]+" ");if(hL!=-1&&hL<bF&&!fg){bF=hL;hy=z}}if(hy!=-1){M=!0;
var dn=bF+1+g$[hy].length;W[hv]=hO.slice(0,dn);var c5=W[hv+1];if(c5==null||c5[0]=="%"||hy>9)W.splice(hv+1,0,hO.slice(dn));
else W[hv+1]=(hO.slice(dn)+" "+c5).replace(/\s\s+/g," ");hv--;continue}hO=hO.trim();var at=hO.split(" "),gt=at[at.length-1],iK=gt.toLowerCase(),iz=at.map(parseFloat);
if(gt=="m")P.moveTo(t,iz[0],iz[1]);else if(gt=="L"||gt=="l")P.lineTo(t,iz[0],iz[1]);else if(gt=="V"||gt=="v"){var gI=t.pth.crds,ce=t.cpos[0],b7=t.cpos[1];
P.curveTo(t,ce,b7,iz[0],iz[1],iz[2],iz[3]);var br=gI.length;gI[br-6]=ce;gI[br-5]=b7}else if(gt=="Y"||gt=="y")P.curveTo(t,iz[0],iz[1],iz[2],iz[3],iz[2],iz[3]);
else if(gt=="C"||gt=="c")P.curveTo(t,iz[0],iz[1],iz[2],iz[3],iz[4],iz[5]);else if(gt=="H"||gt=="h"){if(gt==iK)P.closePath(t);
if(!hV){var kg=_.CH();_.R.push(kg);kg.Je("<Clipping Path>");kg.rh=!0;kg.add.vstk=fJ.SC.GI();kg.add.SoCo=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);
S(kg,t.pth,_,iE)}else bh=!0}else if(gt=="XR"){iE=iz[0]}else if(gt=="Xy"){q=iV.a06[iz[0]];m=iz[1];if(q==null){q="norm";
console.log("unknown blend mode",iz[0])}}else if(gt=="Xd"){var aJ=_.R[_.R.length-1];aJ.opacity=Math.round(255*m);
aJ.mh=aJ.NW()&&q=="norm"?"pass":q}else if(gt=="AE")fj=iz[0];else if(gt=="Ae")ab=iz[0];else if(gt=="Xw")iw=iz[0];
else if(gt=="*"){var bM=t.pth.crds,eQ=t.ctm,hL=bM[0]==bM[2]?0:1;_.CR.push([hL,bM[hL]]);P.newPath(t)}else if(gt=="XN")jF=hO.split(" ")[0];
else if(gt=="XI"){var eT=i.Raster,b6,hx;if(eT==null||eT.length==0){console.log("no Raster");continue}if(hO!="XI"){continue}else{var io=eT[C++];
if(io.Data)io=io.Data;var jm=io._begin,bq=io._end;while(E[jm]!=88)jm++;jm+=3;b6=E.slice(jm,bq);hx=W[hv-2].split(" ").map(parseFloat)}var gO=hx.slice(8),ae=gO[2],dl=gO[3],eF=ae*dl,e6=u.B(eF*4);
e6.fill(255);var dJ=gO[7],d2=gO[8],gQ=gO[6],a6=Math.ceil(ae*dJ*gQ/8);if(dJ==1){if(gQ==8)for(var z=0;
z<eF;z++)for(var h6=0;h6<3;h6++)e6[4*z+h6]=b6[z];else if(gQ==1)for(var cU=0;cU<dl;cU++)for(var jv=0;
jv<ae;jv++)for(var h6=0;h6<3;h6++)e6[4*(cU*ae+jv)+h6]=255*(b6[cU*a6+(jv>>>3)]>>>7-(jv&7)&1);else throw gQ}else if(dJ==3)for(var z=0;
z<eF;z++)for(var h6=0;h6<3;h6++)e6[4*z+h6]=b6[3*z+h6];else if(dJ==4||dJ==5)for(var z=0;z<eF;z++){var de=O([b6[dJ*z+0]/255,b6[dJ*z+1]/255,b6[dJ*z+2]/255,b6[dJ*z+3]/255]);
e6[4*z+0]=de[0]*255;e6[4*z+1]=de[1]*255;e6[4*z+2]=de[2]*255}else if(dJ==7)for(var z=0;z<eF;z++){e6[4*z+0]=b6[dJ*z+0];
e6[4*z+1]=b6[dJ*z+1];e6[4*z+2]=b6[dJ*z+2]}else console.log("unknown number of channels",dJ);if(d2==1){var jJ=dl*a6;
for(var z=0;z<eF;z++)e6[4*z+3]=b6[jJ+z]}var c4=u.uB(e6,ae,dl)?"JPG":"PNG";if(ae*dl<700*700)c4="PNG";
var gn=dp.Ix(c4).LA([[e6.buffer]],ae,dl),eG=_.mk(new Uint8Array(gn),"<Image>",0,0);_.R.push(eG);eG.mh=q;
eG.opacity=Math.round(255*m);eG.oE(iw==0);var gN=new gP;gN.scale(1,-1);gN.concat(a(hx.slice(1)));gN.concat(a(t.ctm));
var et=eG.add.SoLd,bi=et.Sz.v,bc=new aP(0,0,bi.Wdth.v,bi.Hght.v),at=u.M.$x(bc).z;u.M.i(at,gN,at);eG.add.SoLd.Trnf=D.gW.db(at);
eG.add.SoLd.nonAffineTransform=D.gW.db(at);eG.Ht(_,!1)}else if(gt=="Ln"){$=s(hO)}else if(gt=="u"||gt=="q"||gt=="Lb"){jD.push(ab==1);
a1.push((gt=="Lb"?1-iz[0]:iw)==0);if(hV)continue;_.R.push(_.Sw())}else if(gt=="U"||gt=="Q"||gt=="LB"){if(jD.length==0||a1.length==0)throw hv;
var jM=jD.pop(),j9=a1.pop();if(gt=="LB")jM=fj==1;if(hV)continue;var eG=_.CH();eG.Je((gt=="U"?"<Group>":"<Clip Group>")+B);
if(gt=="LB")eG.Je($);eG.add.lsct=jM?ew.bZ:ew.qW;eG.mh="pass";eG.Yn=24;eG.oE(j9);_.R.push(eG);if(i6){if(_.R[_.R.length-3].getName()=="</Layer group>"){_.R.pop();
_.R.splice(_.R.length-2,1)}i6=!1}}else if(gt=="Bb")ho=iz[0]!=1;else if(gt=="Bh"||gt=="BB"){}else if(gt=="Bm"||gt=="Bc"||gt=="Xm"){}else if(gt=="Bg"){l(hO,"GdFl",ho)}else if(gt=="p"){var aR=s(hO),cc=G.Setup.Pattern[aR];
if(cc.raw==null){var d1=cc.Uc,ae=Math.round(d1[2]-d1[0]),dl=Math.round(d1[3]-d1[1]),jh=new c9;jh.m=ae;
jh.e=dl;jh.buffer=u.B(ae*dl*4);e(jh,cc.Lb,[1,0,0,-1,-cc.Uc[0],dl+cc.Uc[1]],G,i,E);jh.Cg();cc.raw=new Uint8Array(dp.Ix("PSD").LA(jh))}var d7=hO.slice(hO.indexOf(")")+2),ej=d7.slice(0,d7.indexOf("[")-1).split(" ").map(parseFloat),cr=d7.slice(d7.indexOf("[")+1,d7.indexOf("]")).split(" ").map(parseFloat);
g="patt";T=[aR,ej,cr]}else if(gt=="J"||gt=="j"||gt=="w"||gt=="M"||gt=="d"){for(var z=1;z<at.length;z++){var dZ=at[z],dw=iz[z-1];
if(dZ=="w")t.lwidth=dw;if(dZ=="j")t.ljoin=dw;if(dZ=="J")t.lcap=dw;if(dZ=="M")t.mlimit=dw;if(dZ=="d"){var aX=hO.slice(hO.indexOf("[")+1,hO.indexOf("]")).trim();
if(aX.length!=0){var hz=aX.split(" ").map(parseFloat);t.dash=hz}else if(aX=="")t.dash=[]}}}else if(iK=="xa"||iK=="xx"){var dG=iz[4]==null?iz.slice(0,3):[iz[4],iz[5],iz[6]];
if(iK=="xx"&&iz[iz.length-2]==2)dG=O(iz);l(dG,"SoCo",gt=="Xa"||gt=="Xx")}else if(iK=="xk"){var dG,iH=iz[iz.length-2],cW=iz[iz.length-3];
if(iH==0)dG=O(iz);else if(iH==1){dG=[iz[4],iz[5],iz[6]];for(var z=0;z<3;z++)dG[z]=cW*1+(1-cW)*dG[z]}else throw hO;
l(dG,"SoCo",gt=="Xk")}else if(iK=="k"||iK=="x"){if(iK=="x"){iz.pop();var gx=1-iz.pop();for(var z=0;z<4;
z++)iz[z]*=gx}var dG=O(iz);l(dG,"SoCo",gt==iK)}else if(iK=="g"){var dG=[iz[0],iz[0],iz[0]];l(dG,"SoCo",gt==iK)}else if(iK=="n"){if(!hV)P.newPath(t)}else if(gt=="*u"){hV=!0;
dD=0;a1.push(iw==0)}else if(gt=="*U"||iK=="s"||iK=="f"||iK=="b"){if(gt!="*U"&&hV){if(iK=="f"||iK=="b")dD|=1;
if(iK=="s"||iK=="b")dD|=2;continue}if(gt==iK)P.closePath(t);if(gt=="*U"){hV=!1}var eG;if(g=="patt"){var cc=G.Setup.Pattern[T[0]];
eG=_.mk(cc.raw,"<Pattern>",0,0);var bc=eG.rect.clone();bc.x=bc.y=0;var at=u.M.$x(bc).z,cr=a(T[2]);cr.a4=cr.rY=0;
u.M.i(at,cr,at);eG.add.SoLd.Trnf=D.gW.db(at);eG.add.SoLd.nonAffineTransform=D.gW.db(at);eG.Ht(_,!1)}else{eG=_.CH();
eG.Yn|=16;var eS=eG.add.vstk=fJ.SC.GI();if(g=="SoCo"){eG.add.SoCo=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);
var fw=eG.add.SoCo.Clr.v;o(fw,T)}if(g=="GdFl"){eG.add.GdFl=N(T,t,G);eG.add.gmat=U;c}var gN=t.ctm;if(iK=="f"||iK=="b"||gt=="*U"&&dD&1)eS.fillEnabled.v=!0;
if(iK=="s"||iK=="b"||gt=="*U"&&dD&2){fJ.SC.write(eS,t,Math.sqrt(Math.abs(gN[0]*gN[3]-gN[1]*gN[2])));
var dE=d=="GdFl"?N(c,t,G):{Clr:{t:"Objc",v:cl.YB(c)}},bw=["SoCo","GdFl","patternFill"].indexOf(d),hX=[fJ.RV,fJ.dc,fJ.lK][bw],hl=eS.strokeStyleContent.v={classID:fJ.SC.af[bw]};
for(var z=0;z<hX.length;z++)hl[hX[z]]=dE[hX[z]]}}if(gt=="*U"&&bh){eG.rh=!0;bh=!1}eG.Je("<"+(gt=="*U"?"Compound ":"")+"Path>"+B);
eG.mh=q;eG.opacity=Math.round(255*m);eG.oE(gt=="*U"?a1.pop():iw==0);S(eG,t.pth,_,iE);_.R.push(eG);P.newPath(t)}else if(gt==","&&at[0]=="/XMLUID"){var aJ=_.R[_.R.length-1];
for(var z=0;z<_.gq.length;z++)if("("+_.gq[z].docRef+")"==at[2])_.gq[z].docRef="id('"+aJ.add.lyid+"')"}else if(gt==","&&at[1]=="/FreeUndo"){gd=iz[0]}else if(gt==","&&at[1]=="/StoryIndex"){var hq=G.Setup.TextDocument,e8=null;
if(!(hq instanceof Array))window.aoQ=hq=G.Setup.TextDocument=b(hq,E);var g2=hq[0],ic=hq[2];if(g2._DocumentResources)g2=hq[0]=aK.ar4(g2);
else aK.al0(g2);var eG=_.CH();eG.add.lnsr="rend";eG.add.TySh=bL.Zk(0,0);var cj=iz[0];if(gd==1){for(var z=1;
z<60;z++){var c5=W[hv+z];if(c5&&c5.endsWith("/StoryIndex ,")){cj=parseFloat(c5.slice(2,c5.indexOf(" ")));
i6=!0;break}}gd=0}var cB=j1.art(g2),ik=eG.add.TySh.pM=cB[cj];if(ik==null){console.log("text not found");
i6=!1;continue}eG.Je(bL.rl(ik).slice(0,50));eG.mh=q;eG.opacity=Math.round(255*m);eG.oE(iw==0);var gx=g2._1._1[cj]._1._0[0]._0;
gx=parseInt(gx.slice(1));var jL=g2._0._8._0,df=jL[gx]._0;if(df._0)e8=V(df._0);else if(df._1)e8=V(df._1._0);
else e8=V(df._2._2).slice(3);if(e8.length!=2){var d1=u.M.QK(e8);e8=[d1.x,d1.y];if(d1.Z()!=0){bL.vo(ik,1);
bL.RO(ik,[0,0,Math.round(d1.m),Math.round(d1.e)])}}var fH=new gP,g1=new gP(1,0,0,1,e8[0],e8[1]),du=new gP(1,0,0,1,-ic[0],-ic[1]),iu=a(t.ctm),hC=new gP;
if(df._2&&df._2._2){var Y=V(df._2._2);hC=new gP(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5])}fH.concat(g1);fH.concat(hC);
fH.concat(du);fH.scale(1,-1);fH.concat(iu);eG.add.TySh.i=fH;_.R.push(eG);_.cF=!0}else if(gt=="Tp"){j.Zv=a(iz)}else if(gt=="Tf"){j.font=at[0].slice(2)}else if(gt=="Tk"){var eG=_.CH();
eG.add.lnsr="rend";var dz=eG.add.TySh=bL.Zk(0,0),ik=dz.pM,gN=j.Zv.clone(),bi=gN.Rt();gN.concat(a(t.ctm));
var az=new gP(1/bi,0,0,-1/bi,0,0);az.concat(gN);dz.i=az;var gH=s(hO);eG.Je(gH);bL.nw(ik,0,gH);var cP=bL.ge(ik,0,gH.length);
cP.Ba.FontSize=bi;cP.Ba.FillColor={Type:1,Values:[1,T[0],T[1],T[2]]};bL.EF(cP,j.font);bL.T3(ik,0,gH.length,cP);
_.R.push(eG);_.cF=!0}else if(M&&iz.length>3){var jo=!1;for(var z=0;z<iz.length;z++)if(isNaN(iz[z]))jo=!0;
if(!jo)W[hv+1]=(hO+" "+W[hv+1]).replace(/\s\s+/g," ")}}}function N(_,W,Y){var G=Y.Setup.Gradient,i=G[s(_)],E=_.slice(_.indexOf(")")+2).split(" ").map(parseFloat);
if(i==null){console.log("gradient not found");for(var $ in G){i=G[$];break}}var C=w(i.bh,i.axY),B=E[0],M=E[1],j=E[2]*Math.PI/180,P=E[3],t=a(E.slice(4));
t.a4=t.rY=0;j-=Math.atan2(t.J,t.Y);var q=t.clone();q.a4=q.rY=0;q.F0();var m=[0,0,1,0],iE=W.pth.crds.slice(0),hV=u.M.QK(iE);
if(hV.Y3())hV=u.M.QK(m);var dD=hV.m,bh=hV.e,ho=new gP;if(i.bh==0){ho.scale(P,P);ho.translate(B-.5,M-.5);
ho.scale(dD,bh);ho.rotate(j);var aH=iV.agQ(dD,bh,j);ho.scale(aH,aH);ho.translate(dD/2,bh/2)}else{var f2=(B-.5)*dD/2,e9=(M-.5)*bh/2,aH=P*Math.sqrt(2*(f2*f2+e9*e9));
ho.scale(aH,aH);ho.translate((B+.5)*dD,(M+.5)*bh)}ho.translate(hV.x,hV.y);u.M.i(m,ho,m);var kB=["Lnr","Rdl"][i.bh];
if(kB=="Lnr"){m[0]=(m[0]+m[2])/2;m[1]=(m[1]+m[3])/2}u.I.Wz(new cI(m[0],m[1]),new cI(m[2],m[3]),hV,C);
return C}function l(_,W,Y){if(Y){g=W;T=_}else{d=W;c=_}}function J(_,W,Y){var G=UDOC.G,i=[],E=[],$="/DeviceGray",C=1,B=[],M=1;
for(var j=0;j<_.length;j++){var P=_[j];if(P.endsWith(" /CS")){var t=P.indexOf("/NChannel"),q=P.indexOf("/Process");
if(P.startsWith("/DeviceRGB")){$="/DeviceRGB";C=3}else if(P.startsWith("/DeviceGray")){$="/DeviceGray";
C=1}else if(P.startsWith("/DeviceCMYK")){$="/DeviceCMYK";C=4;B=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(t!=-1){$="/DeviceCMYK";
C=parseInt(P.slice(t-2,t-1));var m=1;for(var z=0;z<C;z++){m=P.indexOf("[",m);B[C-1-z]=P.slice(m+1,m+8).split(" ").map(parseFloat);
m++}}else if(q){$="/DeviceGray";C=1}else throw P}else if(P[0]=="["){var iE=P.indexOf("]"),hV=P.slice(1,iE).split(" ").map(parseFloat),dD=P.slice(iE+2),bh,ho,aH,f2,e9,kB;
if(dD=="/Size"||dD=="/P"||dD=="/R")continue;if(dD=="/S"||dD=="/A"){bh=hV[0];ho=hV[1];aH=hV[2];f2=hV[3];
e9=hV[4];kB=hV[5]}else if(dD=="/N"){var ct=C+(M==1?0:1),jF;bh=hV[ct+0];ho=hV[ct+1];aH=hV[ct+2];f2=hV[ct+3];
e9=hV[ct+5];kB=hV[ct+6];if($=="/DeviceRGB")jF=hV.slice(0,3);else if($=="/DeviceGray")jF=[hV[0],hV[0],hV[0]];
else if($=="/DeviceCMYK"){var fj=[0,0,0,0];for(var z=0;z<C;z++){var ab=hV[z],iw=B[z];fj[0]+=ab*iw[0];
fj[1]+=ab*iw[1];fj[2]+=ab*iw[2];fj[3]+=ab*iw[3]}jF=O(fj)}else throw jF;jF.push(hV[C]);E.push([jF,bh,ho])}else throw dD;
i.push([dD,e9,kB,bh,ho,aH,f2])}else if(P=="/E"){var jD=i.slice(0),a1=0;for(var z=0;z<i.length;z++){var gd=i[z][0];
if(gd=="/N"){a1++;continue}var i6=z,hv=z+1;while(i[hv][0]!="/N"&&hv<i.length)hv++;if(a1==0||a1==3){for(var hO=0;
hO<hv-i6;hO++)jD[i6+hO]=i[hv-1-hO]}else for(var hO=i6;hO<hv;hO++){var jh=jD[hO],aJ=jh[1];jh[1]=jh[5];
jh[5]=aJ;aJ=jh[2];jh[2]=jh[6];jh[6]=aJ}z=hv-1}i=[];for(var z=0;z<jD.length;z++){var jh=jD[z];i.push(jh[1],jh[2],jh[3],jh[4],jh[5],jh[6])}var hS=i.length;
G.moveTo(W,i[2],i[3]);for(var z=0;z<hS;z+=6){var aH=i[(z+4)%hS],f2=i[(z+5)%hS],e9=i[(z+6)%hS],kB=i[(z+7)%hS],bh=i[(z+8)%hS],ho=i[(z+9)%hS];
G.curveTo(W,aH,f2,e9,kB,bh,ho)}G.closePath(W);i=[]}else if(P.endsWith("/Version"))M=parseFloat(P[0])}var iO=Y.CH();
iO.Yn|=16;iO.Je("<Mesh>");var g$=iO.add.vstk=fJ.SC.GI(!0);if(E.length>=2){var bF=0,hy=0,fg=0;for(var z=0;
z<E.length;z++)for(var hO=z+1;hO<E.length;hO++){var hL=E[z][0],dn=E[hO][0],c5=hL[0]-dn[0],at=hL[1]-dn[1],gt=hL[2]-dn[2],iK=Math.sqrt(c5*c5+at*at+gt*gt);
if(iK>fg){fg=iK;bF=z;hy=hO}}var iz=E[bF],gI=E[hy],ce=iO.add.GdFl=w(0,[[0,iz[0]],[1,gI[0]]]),b7=a(W.ctm),br=b7.Wk(new cI(iz[1],iz[2])),kg=b7.Wk(new cI(gI[1],gI[2])),bM=u.M.QK(W.pth.crds);
br.x=(br.x+kg.x)/2;br.y=(br.y+kg.y)/2;u.I.Wz(br,kg,bM,ce)}S(iO,W.pth,Y,0);Y.R.push(iO);G.newPath(W)}function w(_,W){var T=JSON.parse(fJ.Ck[fJ.order.indexOf("GrFl")]),Y=T.Grad.v;
Y.Intr.v=0;T.Type.v.GrdT=["Lnr","Rdl"][_];u.I.lw(W,Y);return T}function s(_){var W=_.indexOf(")");while(_[W-1]=="\\")W=_.indexOf(")",W+1);
return _.slice(_.indexOf("(")+1,W).replaceAll("\\","")}function o(_,T){_.Rd.v=T[0]*255;_.Grn.v=T[1]*255;
_.Bl.v=T[2]*255}function V(_){var W=[];for(var z=0;z<_.length;z++)W[z]=parseFloat(_[z].slice(1));return W}function a(_){return new gP(_[0],_[1],_[2],_[3],_[4],_[5])}function O(_){return u.qo(_.slice(0,4)).slice(0,3)}function S(_,W,Y,G){_.add.vmsk=new F.LS;
if(W.crds.length!=0)_.add.vmsk.$=L(W);_.add.vmsk.AC=G;_.h5();_.sG(Y)}function L(_){var W={z:_.crds,G:_.cmds},Y=u.M.gj(W,!1);
return Y}function Q(_,W){var Y=[],M=0,q=0;for(var G=0;G<2;G++){var i=W[["Raster","Place"][G]];if(i){for(var z=0;
z<i.length;z++){var E=i[z][["Data","Document","PlacedObjectPreview"][G]];if(E==null)continue;var $=E._begin,C=E._end;
if($>C)$=C;Y.push([$,C])}}}Y.sort(function(iE,hV){return iE[0]-hV[0]});var B=[W._begin];for(var z=0;
z<Y.length;z++){var j=Y[z],$=j[0]+32;B.push($,j[1]);M+=j[1]-$}B.push(W._end);var P=W._end-W._begin,t=new Uint8Array(P-M);
for(var z=0;z<B.length;z+=2){var $=B[z],m=B[z+1]-$;t.set(new Uint8Array(_.buffer,$,m),q);q+=m}return n.KW(t).split(/\r\n|\r|\n/)}function b(_,W){if(_==null)return[];
var Y=Q(W,_),G="",i="",E=0,$;for(var z=2;z<Y.length;z++){var C=Y[z];if(C[0]=="%"){if(E==0)G+=C.slice(1);
else i+=C.slice(1)}else if(C==";")E++;else if(C.endsWith("/RulerOrigin ,"))$=C.split(" ").slice(0,2).map(parseFloat)}var B=[G,i],M=[];
for(var z=0;z<2;z++){var j=B[z],P=new Uint8Array(j.length);n.vW(P,0,j);var t=FromPS.F.ASCII85Decode({buff:P,off:0}),q=gu.eE(t);
M.push(q)}M.push($);return M}function Z(_,W){if(_==null)return[];var Y=Q(W,_);Y=Y.slice(1);for(var z=0;
z<Y.length;z++){var G=Y[z];if(G[0]=="%")Y[z]=G.slice(G[1]=="_"?2:1)}var i=H(Y);return i}function I(_){var W=[];
k(_,W);for(var z=0;z<W.length;z++)W[z]="%_"+W[z];return W}function y(_,W){var Y={};if(_==null)return Y;
for(var z=0;z<_.length;z++){var G=Q(W,_[z]),i=G[1],E=s(i),$=i.slice(i.lastIndexOf(")")+2).split(" ").map(parseFloat),C=[];
for(var B=2;B<G.length;B++)C.push(G[B].slice(2));Y[E]={Uc:$,Lb:C}}return Y}function r(_,W){var Y={},G,i;
if(_==null)return Y;var E=[];for(var z=0;z<_.length;z++){var $=Q(W,_[z]);for(var C=0;C<$.length;C++){var B=$[C];
if(B.endsWith("%_Bs")){var M=B.slice(0,B.length-4);if(!M.endsWith(" "))M+=" ";B=M+"%_BS"}if(B[0]=="("){G=s(B);
var j=B.split(")"),P=j[1].split(" ");i=parseInt(P[1])}else if(B.endsWith("%_BS")){var j=B.split(" "),iE,hV=1;
j.pop();j=j.map(parseFloat);var t=j.pop(),q=j.pop(),m=j.pop();if(m==0)iE=[j[0],j[0],j[0]];else if(m==2||m==4)iE=[j[4],j[5],j[6]];
else if(m==1||m==3)iE=O(j);else if(m==6){if(j.length==3)iE=[j[0],j[0],j[0]];else if(j.length>=8)iE=j.slice(4,7);
else iE=O(j);hV=j.pop()}else{throw m}E.push([t/100,iE,hV,q/100])}else if(B=="BD"){for(var dD=0;dD<E.length-1;
dD++)E[dD][3]=E[dD+1][3];E.sort(function(bh,ho){return bh[0]-ho[0]});Y[G]={bh:i,axY:E};E=[]}}}return Y}function h(_){var W="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),Y=Date.now(),G=0,i=[],E={Header:{}},$=[E],C=_.length;
while(G<C){var B=G;while(B!=C&&_[B]!=13&&_[B]!=10){B++}if(_[G]==37&&_[G+1]==95&&_[G+2]==37)G+=2;if(_[G]==37&&(_[G+1]==37||_[G+1]==65)){var M=n.zQ(_,G,B-G);
if(M=="%%EOF")break;if(M=="%%EndComments"||M=="%EndComments"||M=="%AI5_Begin_NonPrinting"||M=="%AI5_End_NonPrinting--"||M.startsWith("%AI17_Begin_Content_if_version_gt")||M=="%AI17_End_Versioned_Content"){}else{var j=M.indexOf("Begin"),P=Math.max(M.indexOf("_End"),M.indexOf("%End"));
if(j!=-1&&M[j-1]!="%"&&M[j-1]!="_")j=-1;if(j!=-1){var t=M.slice(j+5).split(":")[0],q={_begin:G,_end:G},m=$[$.length-1];
if(W.indexOf(t)!=-1){if(m[t]==null)m[t]=[];m[t].push(q)}else{if(m[t]!=null){console.log($);throw M}m[t]=q}$.push(q);
if(M.startsWith("%%BeginData")){B=n.KZ(_,"%%EndData",G)}else if(M.slice(0,15)=="%%BeginDocument")B=n.KZ(_,"%%EndDocument",B);
else if(M=="%AI9_BeginDocumentData")B=n.KZ(_,"%AI9_EndDocumentData",B);else if(M=="%AI11_BeginTextDocument")B=n.KZ(_,"%AI11_EndTextDocument",B)}else if(P!=-1){if($.length>1)$.pop()._end=G}else if($.length==1&&(M.startsWith("%AI")||M.startsWith("%%")&&M.indexOf(" ")!=-1)){var iE=1;
if(M.startsWith("%AI"))while(M[iE]!="_"&&iE<M.length)iE++;var hV=M.indexOf(":");if(hV==-1)hV=M.indexOf(" ");
var dD=M.slice(iE+1,hV),bh=M.slice(hV+1).trim();E.Header[dD]=bh}}}G=B;if(_[G]==13)G++;if(_[G]==10)G++}return E}function k(_,W){if(_ instanceof Array)for(var z=0;
z<_.length;z++)k(_[z],W);else if(typeof _=="object"){for(var Y in _){var G=_[Y];if(typeof G=="number")W.push(G+" /Int ("+Y+") ,");
else if(typeof G=="string")W.push("("+G+") /String ("+Y+") ,");else if(G instanceof Array){W.push("/Array :");
k(G,W);W.push("; ("+Y+") ,")}else if(typeof G=="object"){W.push("/Dictionary :");k(G,W);W.push("; ("+Y+") ,")}}}}function K(_,W){for(var z=0;
z<W.length;z++)if(_.startsWith(W[z]))return!0;return!1}function H(_){var W=[],Y=[],top=-1,G,i=null,E=null,$=null,C=0;
for(var B=0;B<_.length;B++){var M=_[B];if(G){M=G+M;G=null}var j="\t".repeat(W.length);if(i!=null){i.push(M);
if(M.endsWith("~>")){var P=n.SF(i.join("")),t=FromPS.F.ASCII85Decode({off:0,buff:P});W.push(t);Y.push(!1);
top++;i=null}}else if($!=null){if(M=="X+"){if(C==1){W.push($);Y.push(!1);top++;$=null}else C--}else if(M=="X=")C++;
else $.push(M)}else if(E!=null){if(M=="/Def ; "){W.push(E);Y.push(!1);top++;E=null}else E.push(M)}else if(M=="/Binary : /ASCII85Decode ,"){i=[]}else if(M=="X="){$=[];
C++}else if(M=="/FillStyle : 0 O"){E=["0 O"]}else if(M=="/SVGFilter :"||M=="; /Def ;")continue;else if(M.startsWith("/XMLUIDREF :")){var q=p(M);
W[top][q[4]]=q[2]}else if(M.startsWith("/")&&M[1].toUpperCase()!=M[1].toLowerCase()){if(M.startsWith("/XMLUID")){var q=p(M);
if(Y[top])throw"e";W[top][q[4]]=q[2]}if(M.startsWith("/GObjRef")){var q=p(M);if(q.length==7){if(Y[top])throw"e";
W[top][q[5]]=q[2]}else{if(!Y[top])throw"e";W[top].push(q[2])}}else{var m=M.startsWith("/Array")||M.startsWith("/Document");
W.push(m?[]:{});Y.push(m);top++}}else if(M.endsWith(",")){var iE,hV,q=p(M);q.pop();if(q[0]==";"||q.length==1||M==" ,"){hV=W.pop();
Y.pop();top--;iE=Y[top]?null:q.pop()}else{iE=Y[top]?null:q.pop();var dD=q.pop(),bh=q[0];if(dD=="/Int")hV=parseInt(bh);
else if(dD=="/Real")hV=parseFloat(bh);else if(dD=="/Bool")hV=bh=="1";else if(dD=="/String"||dD=="/UnicodeString")hV=q.join("");
else if(dD=="/RealMatrix"||dD=="/RealPoint"||dD=="/RealPointRelToROrigin")hV=q.map(parseFloat);else throw dD}if(Y[top])W[top].push(hV);
else W[top][iE]=hV}else if(M==";"){}else if(M==""){}else{if(M.indexOf("/RealPoint")!=-1){}else if(M.startsWith("(")&&M.endsWith(")")){}else if(M.endsWith("/RealMatrix")){}else throw M;
G=G?G+M:M}}return W}function p(_){var W=0,Y=[];while(W<_.length){var G=_[W],i=G.charCodeAt(0);if(G==" ")W++;
else if(G==","||G==";"||G==":"){Y.push(G);W++}else if(G=="("){var E=W+1;while(!(_[E]==")"&&(_[E-1]!="\\"||_[E-2]=="\\")))E++;
var $=_.slice(W+1,E);Y.push($);W=E+1}else if(G=="/"||G=="-"||48<=i&&i<=57){var E=W;while(_[E]!=" ")E++;
Y.push(_.slice(W,E));W=E}else throw G}return Y}function f(_){var W="";for(var z=0;z<_.length;z++){if(_[z]=="_"&&_[z+1]=="x"){var cg=parseInt(_.slice(z+2,z+4),16);
W+=String.fromCharCode(cg);z+=4}else if(_[z]=="_")W+=" ";else W+=_[z]}return W}function A(_){var W="xmlnode-nodename",Y="xmlnode-nodevalue",G="xmlnode-attributes",i="xmlnode-children",E=_[W].split(":").pop().replace("#",""),$=_[G],C=_[i],B="<"+E;
for(var M in $)if(M!="xmlns"&&M!="xmlns:v")B+=" "+M.split(":").pop()+"=\""+$[M][Y]+"\"";B+=">"+(C.length==0?"":"\n");
for(var z=0;z<C.length;z++)B+=A(C[z]);if(_[Y])B+=_[Y];return B+"</"+E+">\n"}return x}();iV.agQ=function(x,R,T){var c=u.M.$x(new aP(0,0,x,R)).z,g=new gP;
g.rotate(T);u.M.i(c,g,c);var d=u.M.QK(c);return d.m/x};iV.a06=["norm","mul ","scrn","over","sLit",null,"div "];
iV.P7=function(){function x(w){var s=72/w.De,o=new gP(s,0,0,-s,0,0),V=w.root.children,a=[],O={z4:[],aAR:0},S=16383;
for(var z=0;z<V.length;z++)d(V[z],w,o,O,a,0);var L=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+S+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
L.push("%%BeginSetup\r");L=L.concat(O.z4);L=L.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var Q=w.add.arts;for(var z=0;z<Q.length;z++){var b=Q[z];console.log(b);var Z=b.Uc[0]*s,I=-b.Uc[1]*s,y=b.Uc[2]*s,r=-b.Uc[3]*s;
L.push("/Dictionary :","("+b.QP+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",S/2+" "+S/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",T(Z)+" "+T(I)+" /RealPointRelToROrigin"," (PositionPoint1) ,",T(y)+" "+T(r)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}L=L.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var h=[],k=[];for(var z=0;z<w.R.length;z++){var K=w.R[z],H=K.add.TySh;if(H){h.push(H.pM);k.push(H)}}if(h.length!=0){var p=j1.aAO(h,null,null);
function f(b){return b.map(function(C){return"f"+C})}for(var A=0;A<h.length;A++){var H=k[A],_=p._1._1[A],W=_._1._0[0]._0;
W=parseInt(W.slice(1));var Y=p._0._8._0[W]._0,G=H.i.clone();G.concat(o);G.scale(1,-1);Y._2._2=f([G.Y,G.J,G.zI,G.jR,G.a4,G.rY])}var i=R(p),E=R(p);
L.push("%AI11_BeginTextDocument");L.push("/AI11TextDocument : /ASCII85Decode ,");L=L.concat(i);L.push("0.0001 0.0001 /RulerOrigin ,");
L.push(";");L.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");L=L.concat(E);L.push(";");L.push("%AI11_EndTextDocument")}L.push("%%EndSetup\r");
L=L.concat(a);console.log(a.join("\n"));L.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
var $=n.SF(L.join("\n"));return d4.agh($).buffer}function R(w){var s=new kE,o=gu.Li(w,s)-2,V=J(s.data.slice(0,o)),a=[];
for(var O=0;O<V.length;O+=100){if(V.length-O<103){a.push("%"+V.slice(O));break}a.push("%"+V.slice(O,O+100))}return a}function T(cg){return cg.toFixed(3)}function c(w,s){var o=w.getName(),V=null;
s.push("%_/ArtDictionary :");if(w.add.vmsk)V=w.add.vmsk.XI;if(w.add.SoLd){var a=u.D.ZE(w.add.SoLd);V=Math.atan2(-a.J,a.Y)}if(w.add.TySh){var a=w.add.TySh.i;
V=Math.atan2(-a.J,a.Y)}if(V!=null&&V!=0)s.push("%_("+V+") /String (BBAccumRotation) ,");if(w.add.TySh)s.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!o.startsWith("<")&&!o.endsWith(">")){var O="";for(var z=0;z<o.length;z++){var S=o[z],L=o.charCodeAt(z);
if(S==" ")O+="_";else if(S=="."||S==":"||S=="-"||48<=L&&L<=57||65<=L&&L<=90||97<=L&&L<=122||127<L)O+=S;
else O+="_x"+L.toString(16).toUpperCase()+"_"}s.push("%_/XMLUID : ("+O+") ; (AI10_ArtUID) ,")}s.push("%_;","%_")}function g(w,s,o){var V=u.I.ir(w.Clr.v);
o.push(T(V.o/255)+" "+T(V.A/255)+" "+T(V.J/255)+" "+s)}function d(w,s,o,V,a,O){var S=w.a;if(O!=0)a.push((S.Pm()?0:1)+" Xw");
if(S.NW()){var L=!1;for(var z=0;z<w.children.length;z++)if(w.children[z].a.rh)L=!0;var Q=S.add.lsct==ew.bZ?1:0;
if(O==0){a.push("%AI5_BeginLayer");a.push((S.Pm()?1:0)+" 1 1 1 0 0 -1 51 44 43 Lb");a.push("("+S.getName()+") Ln");
a.push(Q+" AE");c(S,a)}else{a.push(Q+" Ae");a.push(L?"q":"u")}for(var z=0;z<w.children.length;z++)d(w.children[z],s,o,V,a,O+1);
if(O==0)a.push("LB","%AI5_EndLayer--");else{a.push(L?"Q":"U");c(S,a);U(S,a);a.push("0 0 Xd","6 () XW")}}else{U(S,a);
var b=S.add.TySh,Z=S.add.vmsk;if(b){a.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",V.aAR+" /StoryIndex ,");
if(bL.hl(b.pM)==1){var I=bL.jJ(b.pM),y=u.M.$x(new aP(I[0],I[1],I[2],I[3])).z;u.M.i(y,b.i,y);u.M.i(y,o,y);
a.push("/Art :","X=","1 Ap",y[0]+" "+y[1]+" m",y[2]+" "+y[3]+" L",y[4]+" "+y[5]+" L",y[6]+" "+y[7]+" L",y[0]+" "+y[1]+" L","n","X+","; /ConfiningPath ,")}a.push("2 /TextAntialiasing ,",";");
V.aAR++}else if(S.add.SoLd){var r,h,k,K=S.add.SoLd,$="";if(K){var H=K.Idnt.v,p=s.Ln(H,K.Crop?K.Crop.v:null),f=p.Zn,r=f[0],h=f[1];
k=u.D.ZE(K)}else{r=S.buffer;h=S.rect;k=new gP(1,0,0,1,h.x,h.y)}var A=new gP(1,0,0,-1,0,0);A.concat(k);
A.concat(o);var _=h.Z(),W=h.m,Y=h.e,G=u.B(_*4);for(var z=0;z<_;z++){var i=z*4,E=z*3;G[E]=r[i];G[E+1]=r[i+1];
G[E+2]=r[i+2];G[3*_+z]=r[i+3]}for(var z=0;z<G.length;z++)$+=String.fromCharCode(G[z]);a.push("%AI5_File:","%AI5_BeginRaster","[ "+[A.Y,A.J,A.zI,A.jR,A.a4,A.rY].map(T).join(" ")+" ] 0 0 "+[W,Y,W,Y].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(G.length+4),"XI",$+"%EndData","XH","%AI5_EndRaster","N")}else if(Z){var C=S.add.vstk,B=C.fillEnabled.v,M=C.strokeEnabled.v,j=u.j.fc(Z.$)>1;
if(j)a.push("*u","0 Xw");var P=S.rh?"h\nW\nn":B&&M?"b":B?"f":"s",t=u.M.td(Z.$,1);u.M.i(t.z,o,t.z);if(B){if(S.add.SoCo)g(S.add.SoCo,"Xa",a);
else{var q=N(S.add.GdFl,u.M.QK(t.z),V);a.push("Bb",q,"2 BB")}}if(M){var m={};fJ.SC.rA(C,m,o.Rt());a.push(m.lcap+" J "+m.ljoin+" j "+m.lwidth+" w "+T(m.mlimit)+" M ["+m.dash.join(" ")+"]0 d");
var iE=C.strokeStyleContent.v;if(iE.classID=="solidColorLayer")g(iE,"XA",a);else{var q=N(iE,u.M.QK(t.z),V);
a.push("1 Bb",q,"2 BB")}}e(t,P,Z.AC,a);if(j)a.push("*U")}c(S,a)}}function U(w,s){var o=iV.a06.indexOf(w.mh);
if(o==-1)o=0;s.push(o+" "+T(w.opacity/255)+" 0 0 0 Xy")}function e(w,s,o,V){V.push(o+" XR");var a=0;
for(var O=0;O<w.G.length;O++){var S=w.G[O],L,Q=0,b="";if(S=="M"){Q=2;L="m"}if(S=="L"){Q=2;L="l"}if(S=="C"){Q=6;
L="c"}for(var z=0;z<Q;z++)b+=T(w.z[a+z])+" ";a+=Q;if(Q!=0)V.push(b+L);if(O==w.G.length-1||w.G[O+1]=="M"){V.push(S=="Z"?s:s.toUpperCase())}}}function N(w,s,o){var a=l(w,o),O=w.Type.v.GrdT,S=s.m,L=s.e,Q=u.I.pc(w,s),b=Q[0],Z=Q[1],I=Z.x-b.x,y=Z.y-b.y,r=0,h=0,K=1;
if(O=="Lnr"){b.x-=I;b.y-=y}b.x-=s.x;Z.x-=s.x;b.y-=s.y;Z.y-=s.y;var k=Math.atan2(-y,I);if(O=="Lnr"){var H=new gP;
H.translate(-S/2,-L/2);var p=iV.agQ(S,L,k);H.scale(1/p,1/p);H.rotate(-k);H.scale(1/S,1/L);b=H.Wk(b);
Z=H.Wk(Z);K=cI.rE(b,Z);r=b.x+.5;h=b.y+.5}else{r=-.5+b.x/S;h=-.5+b.y/L;var I=(r-.5)*S/2,y=(h-.5)*L/2,p=Math.sqrt(2*(I*I+y*y));
K=cI.rE(b,Z)/p}return"1 ("+a+") "+[r,h,k*180/Math.PI,K].map(T).join(" ")+" 1 0 0 1 0 0 1 Bg"}function l(w,s){var o=w.Grad.v,a=w.Type.v.GrdT;
a=["Lnr","Rdl"].indexOf(a);if(a==-1)throw"e";var O=u.I.lN(o),S="grd"+s.z4.length;s.z4.push("%AI5_BeginGradient: ("+S+")","("+S+") "+a+" "+O.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(a==0)O=O.reverse();for(var z=0;z<O.length;z++){var L=O[z],Q=u.Sj(L[1]),b=Q.concat(L[1]).map(T).join(" ")+" 2 "+T(L[2])+" 6 50 "+T(L[0]*100);
s.z4.push(b+" %_BS");s.z4.push("%_"+b+" Bs")}s.z4.push("BD","%AI5_EndGradient");return S}function J(w){var s=[85*85*85*85,85*85*85,85*85,85,1],o="",V=w.length,a=new Uint8Array(4),O=new Uint32Array(a.buffer);
for(var z=0;z<V;z+=4){var S=V-z;a[3]=w[z];a[2]=S>1?w[z+1]:0;a[1]=S>2?w[z+2]:0;a[0]=S>3?w[z+3]:0;var L=O[0],Q=1+Math.min(4,S);
for(var b=0;b<Q;b++){var Z=Math.floor(L/s[b]);o+=String.fromCharCode(33+Z);L-=Z*s[b]}}return o+"~>"}return x}();
function cd(){}cd.eE=function(){var x,R,T,c,g,S,L,Q;function d(_){return n.ey(x,_)}function U(_){return n.zY(x,_)}function e(_){return n.pJ(x,_)}function N(_){return n.LZ(x,_)}function l(_,W){var Y=[];
for(var z=0;z<W;z++)Y.push(e(_+z*4));return Y}function J(_,W){var Y=[];for(var z=0;z<W;z++)Y.push(d(_+z*8));
return Y}function w(_){return e((_+1)*4096-12)}function s(_){return e((_+1)*4096-8)}function o(_,R,W,Y){if(c[_]==null)c[_]=[];
c[_].push([Y,new Uint8Array(x.buffer,R,W)])}function V(_,W,Y,G){var i=T[_],R=i*4096;R=R+e(R+4096-24-12-W*4);
var E=U(R),$=x[R+2],C=x[R+3];if(W!=$)throw $;if(C==0)o(G,R+4,Y,9);else{var B=U(R+6),M=e(R+8);o(G,R+12,E-12,9);
V(M,B,Y-(E-12),G)}}function a(){var _=e(352),W=e(_*4096+128),Y=e(936);T=[];c={};g={};for(var z=0;z<1e9;
z++){var G=e(Y*4096+128+z*4);if(G==0)break;var i=l(G*4096+128,4096-128-12>>>2);T=T.concat(i)}for(var E=0;
E<T.length;E++){var $=T[E],C=w($);if(C!=6)continue;var R=$*4096,B=e(R);R+=4;for(var z=0;z<B;z++){var M=e(R);
R+=4;var j=e(R);R+=4;var P=e(R);R+=4;var t=e(R);R+=4;if(M==0)g[j]=P;else{var q=P&65535,m=P>>>16;if(m==0)o(j,t*4096,q,8);
else V(t,m,q,j)}}}var S={};for(var iE in c){var hV=c[iE],dD=hV.length;if(dD==1)S[iE]=hV[0][1];else{var bh=0,R=0;
for(var z=0;z<dD;z++)bh+=hV[z][1].length;var ho=S[iE]=new Uint8Array(bh);for(var z=0;z<dD;z++){ho.set(hV[z][1],R);
R+=hV[z][1].length}}}return S}function O(R,_){var W=_?e(R):U(R),Y="";R+=_?4:2;while(Y.length<W){var G=x[R++],i=x[R++],E=0,$="";
G+=(i&15)*256;i=i&240;for(var z=0;z<G;z++){if(i==64)E=x[R++];else if(i==128)E=x[R++]|x[R++]<<8;else throw i;
$+=String.fromCharCode(E)}Y+=$}return[Y,R]}function b(R,_,W){var Y=l(R,_);for(var z=0;z<_;z++){W.push(z);
if(Y[z]>L)throw"e";Y[z]=I(Y[z],W);W.pop()}return Y}var Z={};function I(_,W){if(Q.indexOf(_)!=-1)return S[_];
if(_==0)return null;if(S[_]==null)return null;if(!(S[_]instanceof Uint8Array))return S[_];var Y=x,R=0;
x=S[_];Q.push(_);var G=g[_].toString(16),i=S[_]={_type:A[G]?A[G]+":"+G:"typ-"+G,_eid:_};while(R+8<x.length){var E=e(R);
R+=4;var $=E.toString(16),C=e(R);R+=4;var B=R+C;if(R+C>x.length){i._bin=x;break}y($,K,i,R,C,W);R=B}x=Y;
Q.pop();return i}function y(_,W,Y,R,G,i){var E=W[_+":"+Y._type];if(E==null)E=W[_];i.push(E?E[0]==""?_:E[0]:_);
if(E){var $=E[0],C=null,B=E[1];if($=="")$=B+"-"+_;if(p[B]&&G!=p[B]){console.log(B);console.log(_,E);
console.log(x.slice(R,R+G));throw"e"}if(B=="mat")C=J(R,6);else if(B=="mmat")C=[I(e(R),i),J(R+6,6)];else if(B=="rect")C=J(R,4);
else if(B=="mrct"){C=J(R,4);C.push(U(R+32))}else if(B=="doub")C=d(R);else if(B=="pointArr"){var M=U(R);
C=l(R+2,M*2)}else if(B=="usrt")C=U(R);else if(B=="uint")C=e(R);else if(B=="pntr"||B=="ptr6"){C=I(e(R),i)}else if(B=="bool2"){if(U(R)!=0&&U(R)!=1)throw U(R);
C=U(R)==1}else if(B=="bool4"){if(e(R)!=0&&e(R)!=1)throw _+","+e(R);C=e(R)==1}else if(B=="color"){if(G!=38&&G!=30)throw G;
var j=e(R),P=U(R+4);C=[j];for(var z=0;z<P;z++)C.push(d(R+6+z*8))}else if(B=="path"){var t=R+G;C=[];var q=e(R);
R+=4;for(var z=0;z<q;z++){var m=[[]];C.push(m);var iE=e(R);R+=4;for(var hV=0;hV<iE;hV++){var j=e(R);
R+=4;if(j<2){m[0].push([j,d(R),d(R+8),d(R+16),d(R+24),d(R+32),d(R+40)]);R+=48}else if(j==2){m[0].push([j,d(R),d(R+8)]);
R+=16}else throw j}m.push(U(R));R+=2}}else if(B=="ptrAndList"){var dD=e(R),bh=e(R+4);C=b(R+8,bh,i);C.unshift(I(dD,i))}else if(B=="ptrArray"||B=="ptrArrayX"){var ho=G>>2;
if(B=="ptrArray"){ho=e(R);R+=4;if(G!=4+ho*4)throw G}C=b(R,ho,i)}else if(B=="ptrArray2"){var ho=e(R);
R+=4;C=b(R,ho,i);R+=ho*4;ho=e(R);R+=4;C.push(b(R,ho,i))}else if(B=="cldrn"){var aH=e(R),f2=e(R+4),ho=e(R+8);
C={H:I(aH,i),C9:I(f2,i),Z1:b(R+12,ho,i)};if(G!=12+ho*4){console.log(_,sa);throw"e"}if(aH==0)throw aH}else if(B=="aprnc"){var ho=e(R);
R+=4;C={};for(var z=0;z<ho;z++){var e9=e(R),kB=U(R+4),ct=U(R+6);R+=8;var jF=f[e9.toString(16)];if(jF==null)jF="prm-"+e9.toString(16);
else jF=k(jF);C[jF]=[];for(var hV=0;hV<ct;hV++){var fj=e(R),ab=U(R+4),iw=null;R+=6;if(fj==28264)iw=d(R);
else if(fj==28263)iw=e(R);else if(fj==279||fj==6917)iw=I(e(R),i);else if(fj==28261)iw=U(R)==1;else if(fj==28265)iw=[d(R),d(R+4)];
else if(fj==6914||fj==83231)iw=O(R+3)[0];else if(fj==28259||fj==28260||fj==23094||fj==67679){iw=x.slice(R,R+ab)}else throw fj.toString(16);
C[jF].push(iw);R+=ab}}}else if(B=="lopts"){C={awl:U(R+0)==1,show:U(R+2)==1,awE:U(R+4)==1,dQ:e(R+10),name:O(R+21)[0]}}else if(B=="origin"){var t=R+G;
if(x[R++]!=1)throw"e";var M=e(R);R+=4;var jD=n.zQ(x,R,M);R+=M;if(x[R++]!=1)throw"e";var a1=x[R++];if(a1!=1&&a1!=53)throw a1;
var gd=U(R);R+=2;if(gd!=0&&gd!=1)throw gd;var i6=e(R);R+=4;if(i6!=0&&i6!=1)throw i6;var hv=e(R);R+=4;
if(hv!=0&&hv!=2&&hv!=3)throw hv;var hO=e(R);R+=4;var jh=O(R,!0);R=jh[1];jh=jh[0];var aJ=e(R),hS=e(R+4);
R+=8;var iO=e(R);R+=4;if(iO!=0)throw iO;var g$=e(R);R+=4;R+=3;var bF=O(R)[0];R+=2+2+bF.length;C={file:jD,id:jh,iw:bF}}else if(B=="string")C=O(R+3)[0];
else if(B=="relEnt"){var hy=U(R);R+=2;C=[];for(var z=0;z<hy;z++)C.push([e(R+z*8),I(e(R+z*8+4),i)])}else if(B=="textData"){var t=R+G,fg=e(R);
R+=4;var e9=e(R);R+=4;var P=U(R);R+=2;var hL=[];for(var z=0;z<P;z++){var dn=e(R);R+=4;if(fg==514)hL.push(O(R,!0)[0]);
else if(fg==515){var c5=e(R),_=e(R+4),at=r(R+8,i);hL.push([c5,I(_,i),at])}else if(fg==516){var c5=e(R),_=e(R+4),gt=U(R+8),at=r(R+8,i);
hL.push([c5,I(_,i),at])}else hL.push(x.slice(R,R+dn));R+=dn}if(t-R!=12)throw t-R;C=hL}else if(B=="storyProps"){var iK=e(R);
if(U(R+4)>1)throw"e";var iz=I(e(R+6),i),P=e(R+10),gI=I(e(R+14+P*4),i);C={a6P:iK,aem:iz,Z1:b(R+14,P,i),atP:gI,axe:l(R+14+P*4+4,4)}}else if(B=="styleProps")C=r(R,i);
else if(B=="bounds"){var ce=R,hy=e(R);R+=4;C=[];for(var z=0;z<hy;z++){var b7=[];C.push(b7);for(var hV=0;
hV<4;hV++)b7.push(d(R+hV*8));R+=32;b7.push(x[R]);R++}if(R!=ce+G)throw"e"}else if(B=="columnPos"){var hy=e(R);
R+=4;C=[J(R,hy),d(R+hy*8)];R+=hy*8+8}else if(B=="StyleName"){C=[e(R+4)]}else if(B=="fontName"){var t=R+G;
C=[U(R)];R+=2;for(var z=0;z<2;z++){var jD=O(R+3);R=jD[1];C.push(jD[0])}C.push(e(R));R+=4;var br=U(R);
R+=2;C.push(br);var kg=U(R);R+=2;var bM=[];C.push(bM);for(var eQ=0;eQ<kg;eQ++){var eT=[];bM.push(eT);
var jD=O(R+3);R=jD[1];eT.push(jD[0]);var b6=U(R);R+=2;var jD=n.zQ(x,R,b6);R+=b6;eT.push(jD);for(var z=0;
z<3;z++){var jD=O(R+3);R=jD[1];eT.push(jD[0])}eT.push(e(R));R+=4;var jD=O(R,!0);R=jD[1];eT.push(jD[0])}if(R+4!=t)throw"e";
C.push(e(R))}else throw B;if(Y[$]!=null){console.log($,Y[$],C);console.log(i.slice(0));console.log(eid,_,R,Y[$],E,C);
throw"e"}Y[$]=C}else{var hx=x.slice(R,R+G);Y["prop-"+_]=hx}i.pop()}function r(R,_){var W=U(R);R+=2;var Y={};
for(var z=0;z<W;z++){var G=e(R);R+=4;var i=G.toString(16),E=U(R);R+=2;var $=U(R);R+=2;for(var C=0;C<$;
C++){var B=e(R);R+=4;var M=U(R);R+=2;y(i,H,Y,R,M,_);R+=M}}return Y}function h(_){x=new Uint8Array(_);
S=a();var W=S[2147483649];W=n.KW(W,4,W.length-4);delete S[2147483649];L=0;for(var Y in S)L=Math.max(L,parseInt(Y));
Q=[];var G={};for(var Y in S)G[Y]=S[Y];for(var Y in S)I(parseInt(Y),[]);return S}function k(_){_=_.split(" ").join("");
return _[0].toLowerCase()+_.slice(1)}var K={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},H={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},p={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},f={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},A={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return h}();function fU(){}fU.eE=function(){var x=0;function R(w,s){var o=cd.eE(w),H=1;x=0;var V=o[1],a=V.spreads,O=[],S=new aP;
for(var L=0;L<a.length;L++){var Q=a[L],b=Q.children.Z1,Z=c(Q),I=b[0].children.Z1,y=new aP;for(var r=0;
r<I.length;r++){var h=I[r],k=c(h);k.concat(Z);var K=T(h);K.offset(k.a4,k.rY);K=u.M.cJ(K);y=y.y8(K)}O.push(y);
S=S.y8(y)}while(Math.sqrt(S.Z())*H<1e3)H++;s.m=S.m*H;s.e=S.e*H;s.buffer=new Uint8Array(4*s.m*s.e);s.cF=!0;
s.De=Math.round(72*H);s.MH(a.length);for(var L=0;L<a.length;L++){var Q=a[L],b=Q.children.Z1,p=s.CH();
p.Yn=24;p.add.lsct=ew.bZ;p.Je("Artboard "+(L+1));var f=O[L].clone();f.offset(-S.x,-S.y);f.x*=H;f.y*=H;
f.m*=H;f.e*=H;f=u.M.cJ(f);p.yc(f);p.mh="pass";s.R.push(s.Sw());var Z=c(Q);Z.translate(-S.x,-S.y);Z.scale(H,H);
var A={};for(var _=0;_<b.length-1;_++){var W=b[_],Y=W.children.Z1,G=s.CH(),i=W.layer.lopts;if(i.name=="Internal_pages_layer_name"||A[i.name])continue;
A[i.name]=!0;G.Yn=24;G.add.lsct=ew.bZ;G.Je(i.name);G.oE(i.show);if(i.awl)G.add.lspf=1<<31;G.mh="pass";
s.R.push(s.Sw());for(var z=0;z<Y.length;z++)N(Y[z],s,Z,o);s.R.push(G)}s.R.push(p)}}function T(w){var s=w.rect;
return new aP(s[0],s[1],s[2]-s[0],s[3]-s[1])}function c(w){var s=w.transform;return new gP(s[0],s[1],s[2],s[3],s[4],s[5])}function g(w){var s=w.color,o=w.parentFill,a;
if(s==null&&o)s=o.color;if(s==null){console.log("strange color",w);return[0,0,0]}var V=s[0];if(V==5)a=s.slice(1);
else if(V==6)a=UDOC.C.cmykToRgb(s.slice(1));else if(V==7){var O=u.hc(s[1],s[2],s[3]);a=[O.o/255,O.A/255,O.J/255]}else if(V==14){a=s.slice(1);
console.log("unsure about the color")}else{console.log(s);throw V}return a}function d(w){var s=g(w);
return u.I.SE({o:s[0]*255,A:s[1]*255,J:s[2]*255})}function U(w){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[w]}function e(w,s){var z=0,o=0;
while(o+w[z][0]<=s){o+=w[z][0];z++}w=w[z][1].textData;z=0;while(o+w[z][0]<=s){o+=w[z][0];z++}return w[z]}function N(w,s,o,V){var a=w.transform?c(w):new gP;
a.concat(o);var O=w.path,S=w.appearance,L=w.visible,Q=w.children?w.children.Z1:null,b=s.CH();if(L!=null)b.oE(L);
var Z=Q&&Q.length==1&&Q[0].bitmapFill,I=w["bool2-1623"]&&Q&&Q.length==1&&Q[0].rect&&Q[0]._type.startsWith("TextFrame");
if(Z){b.Je("bitmap");var y=Q[0],r=T(y),h=c(y),f=null;h.concat(a);var k=y.bitmapFill.bitmap;k=V[k]._bin;
if(k.length!=k.buffer.byteLength)k=k.slice(0);if(k[0]==123){console.log("unknown bitmap format");return}var K=s.mk(k,"img.jpg",0,0);
K.Yn=b.Yn;b=K;var H=[0,0,r.m,0,r.m,r.e,0,r.e];u.M.i(H,h,H);b.add.SoLd.Trnf=D.gW.db(H);b.add.SoLd.nonAffineTransform=D.gW.db(H);
b.Ht(s,!1);var p=y.path;if(p&&p.length!=0)f=J(p,h,S);else if(O&&O.length!=0)f=J(O,a,S);if(f){var A=u.j.pP(f.$),_=u.M.QK(H);
if(A.Z()/_.yx(A).Z()>1.1){if(A.contains(_))f=null;var W=w.children;w.children=null;N(w,s,o,V);w.children=W}}if(f)b.add.vmsk=f;
b.h5();b.sG(s)}else if(I){if(S&&S.strokeSwatch){var Y=s.CH();l(Y,s,S,O,a);s.R.push(Y)}var G=Q[0],r=T(G),h=c(G),aH=0;
h.concat(a);var i=G.children.Z1[0],E=i.obj228,$=E[0].story[1],C=$.stoProps.aem.relEnt,B=$.stoProps.Z1[0].relEnt,M=$.stoProps.Z1[1]["ptrArrayX-210"][0].textData,j=V[C[0][1].textData[0][1].name[0]],P=j?j.styProps:{};
M=M.join("").replace(/\r/g,"\n");var t=-1;while((t=M.indexOf("\uFFFC"))!=-1){M=M.slice(0,t)+(M[t-1]=="\n"?" ":" ")+M.slice(t+1)}b.Je(M.slice(0,255));
b.add.lnsr="rend";b.add.TySh=bL.Zk(0,0);b.add.TySh.ij=r;b.add.TySh.i=h;var q=b.add.TySh.pM;bL.nw(q,0,M);
var m=bL.ge(q,0,M.length);m.Ba.FontSize=10;bL.T3(q,0,M.length,m);var iE=[];if(M.length!=0){var hV=e(C,0),dD=e(B,0),bh=1;
for(var z=1;z<M.length;z++){var O=e(C,z),ho=e(B,z);if(O!=hV||ho!=dD){iE.push(bh);bh=0}hV=O;dD=ho;bh++}if(bh!=0)iE.push(bh)}for(var z=0;
z<iE.length;z++){var f2=e(B,aH),e9=iE[z],kB=Math.min(aH+e9,M.length-1),ct=f2[2],jF=f2[1].styProps;if(jF==null)jF={};
var fj=e(C,aH),ab=fj[1].styProps,iw=fj[2],jD={};for(var a1 in P)jD[a1]=P[a1];for(var a1 in ab)jD[a1]=ab[a1];
for(var a1 in iw)jD[a1]=iw[a1];for(var a1 in jF)jD[a1]=jF[a1];for(var a1 in ct)jD[a1]=ct[a1];var m=bL.ge(q,aH,kB),gd=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],i6=gd.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var hv=0;hv<i6.length;hv++){var a1=i6[hv],hO=hv<gd.length?m.Ba:m.qi;if(jD[a1]!=null)hO[a1]=jD[a1]}if(jD.fillColor){var jh=g(jD.fillColor);
m.Ba.FillColor={Type:1,Values:[1].concat(jh)}}if(jD.font){var aJ=jD.font.name[5],hS=jD.fontStyle;if(hS==null)hS="Regular";
for(var iO=0;iO<aJ.length;iO++)if(aJ[iO][0]==hS)bL.EF(m,aJ[iO][1])}if(jD.leading!=null&&jD.leading>1){m.Ba.Leading=jD.leading;
m.Ba.AutoLeading=!1}if(jD.align!=null)m.qi.Justification=[0,2,1,6,3,5,4,0,0,0][jD.align];bL.T3(q,aH,kB,m);
aH+=e9}bL.vo(q,1);bL.RO(q,[0,0,Math.round(r.m),Math.round(r.e)])}else if(w._type.startsWith("Path")&&(Q==null||Q.length==0)&&O){l(b,s,S,O,a)}else{var g$=w["prop-14526"];
if(Q==null&&g$){var bF=V[n.pJ(g$,20)];Q=[bF]}if(Q){if(O&&O.length!=0){b.add.vmsk=J(O,a,S);b.h5();b.sG(s)}b.Je("group");
b.Yn=24;b.add.lsct=ew.bZ;s.R.push(s.Sw());for(var z=0;z<Q.length;z++)N(Q[z],s,a,V)}}if(S){var fg=S.objectBlendingMode,hL=S.objectOpacity,dn=S.fillTint,gt=!1;
if(fg)b.mh=U(fg[0]);if(hL)b.opacity=Math.round(b.opacity*hL[0]/100);if(!Z&&dn)b.opacity=Math.round(b.opacity*dn[0]/100);
var c5=JSON.parse(fJ.default);for(var z=0;z<fJ.order.length;z++)c5[fJ.YZ[z]]={t:"VlLs",v:[]};var iK="dropShadow innerShadow satin bevel iglow oglow".split(" "),iz="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var z=0;z<iK.length;z++){var gI=iK[z];if(S[gI]&&S[gI][0]){var ce=S[gI],br=135,kg=10;gt=!0;var b7=JSON.parse(fJ.Ck[fJ.order.indexOf(iz[z])]);
c5[fJ.YZ[fJ.order.indexOf(iz[z])]].v.push({t:"Objc",v:b7});if(S[gI+"Color"])b7.Clr.v=d(S[gI+"Color"][0]);
else if(iK[z]=="iglow"||iK[z]=="oglow")b7.Clr.v=u.I.SE({o:255,A:255,J:255});if(S[gI+"ColorH"])b7.hglC.v=d(S[gI+"ColorH"][0]);
if(S[gI+"ColorS"])b7.sdwC.v=d(S[gI+"ColorS"][0]);if(S[gI+"BMode"])b7.Md.v.BlnM=c_.GM(U(S[gI+"BMode"][0]));
if(S[gI+"BModeH"])b7.hglM.v.BlnM=c_.GM(U(S[gI+"BModeH"][0]));if(S[gI+"BModeS"])b7.sdwM.v.BlnM=c_.GM(U(S[gI+"BModeS"][0]));
if(S[gI+"Opacity"])b7.Opct.v.val=S[gI+"Opacity"][0];if(S[gI+"OpacityH"])b7.hglO.v.val=S[gI+"OpacityH"][0];
if(S[gI+"OpacityS"])b7.sdwO.v.val=S[gI+"OpacityS"][0];if(S[gI+"Size"])b7.blur.v.val=S[gI+"Size"][0];
if(S[gI+"Angle"])br=S[gI+"Angle"][0];if(S[gI+"Dist"])kg=S[gI+"Dist"][0];if(S[gI+"DX"]){var bM=S[gI+"DX"][0],eQ=S[gI+"DY"][0];
kg=Math.round(Math.sqrt(bM*bM+eQ*eQ));br=Math.round(Math.atan2(eQ,-bM)*180/Math.PI)}if(b7.lagl)b7.lagl.v.val=br;
if(b7.Dstn)b7.Dstn.v.val=kg;if(b7.uglg)b7.uglg.v=!1;if(S[gI+"Invert"])b7.Invr.v=S[gI+"Invert"][0];else if(iK[z]=="satin")b7.Invr.v=!1;
if(S[gI+"Alt"])b7.Lald.v.val=S[gI+"Alt"][0];if(S[gI+"Depth"])b7.srgR.v.val=S[gI+"Depth"][0];if(S[gI+"Choke"])b7.Ckmt.v.val=S[gI+"Choke"][0]}}if(gt)b.add.lmfx=c5}if(w.name)b.Je(w.name);
else if(S&&S.name)b.Je(S.name[0]);s.R.push(b)}function l(w,s,o,V,a){w.Je("path");w.Yn|=16;w.add.vmsk=J(V,a,o);
var O=w.add.vstk=fJ.SC.GI(!0),S=null;if(o){var L=o.strokeSwatch,Q=o.fillSwatch,b=o.basicFeather,Z=o.basicFeatherWidth,I=o.strokeWeight;
O.strokeEnabled.v=L!=null;O.fillEnabled.v=Q!=null;if(b)w.add.vmsk.Cu=Z?Z[0]:9;if(L){O.strokeStyleLineWidth.v.val=I?I[0]:1;
S=d(L[0]);O.strokeStyleContent.v.Clr.v=S}if(Q){S=d(Q[0])}}if(S)w.add.SoCo={classID:"null",Clr:{t:"Objc",v:S}};
w.h5();w.sG(s)}function J(w,s,o){var V=new F.LS,a=V.$;for(var O=0;O<w.length;O++){var S=w[O],L=S[0].length,Q=S[1]==0,b=Q?0:3;
a.push({type:b,length:L,AC:0,$e:2,W5:0,dD:0});for(var z=0;z<L;z++){var Z=S[0][z],I=Z[0],y=new cI(Z[1],Z[2]),r=new cI(Z[3],Z[4]),h=new cI(Z[5],Z[6]);
if(I==0||I==1)a.push({type:b+2,YA:y,L:r,VV:h});else if(I==2)a.push({type:b+2,YA:y,L:y,VV:y});else throw I}}u.j.q0(a,s);
return V}return R}();var jw=function(x){function R(U,e){var N=[];for(var z=0;z<9;z++){var l=n.s(U,e+z*4);
if(z%3==2)N.push((l>>>30)+(l&1073741823)/1073741823);else N.push((l>>>16)+(l&65535)/65535)}return N}function T(U,e,N,l){var J={},w=n.s,s=n.wh;
while(e<N){var o=e,V=n.s(U,e);e+=4;if(V==0){V=n.s(U,e);e+=4}var a=n.zQ(U,e,4);e+=4;if(V==0)throw"e";
if(V==1){V=n.UO(U,e);e+=8}var O=o+V,S="".padStart(l,"\t"),L={};if(a=="mvhd"){var Q=U[e];if(Q!=0)throw"e";
e+=4;L.a79=w(U,e);e+=4;L.akV=w(U,e);e+=4;L.FN=w(U,e);e+=4;L.duration=w(U,e);e+=4;L.a1H=w(U,e);e+=4;L.volume=s(U,e);
e+=2;e+=10;L.arJ=R(U,e);e+=4*9;L.amB=[];for(var z=0;z<6;z++)L.amB.push(w(U,e+z*4));e+=4*6;L.a6r=w(U,e);
e+=4}else if(a=="tkhd"){var Q=U[e];if(Q!=0)throw"e";e+=4;L.a79=w(U,e);e+=4;L.akV=w(U,e);e+=4;L.akq=w(U,e);
e+=4;e+=4;L.duration=w(U,e);e+=4;e+=8;L.a=s(U,e);e+=2;L.auv=s(U,e);e+=2;L.volume=s(U,e);e+=2;e+=2;L.arJ=R(U,e);
e+=4*9;L.KQ=w(U,e)>>>16;e+=4;L.kh=w(U,e)>>>16;e+=4}else if(a=="mdhd"){L.Yn=w(U,e);e+=4;L.a79=w(U,e);
e+=4;L.akV=w(U,e);e+=4;L.FN=w(U,e);e+=4;L.duration=w(U,e);e+=4;L.lang=s(U,e);e+=2;L.Ws=s(U,e);e+=2}else if(a=="hdlr"){var b=w(U,e);
e+=4;if(b!=0)throw b;L.bh=n.zQ(U,e,4);e+=4;L.aCY=n.zQ(U,e,4);e+=4;L.a6D=w(U,e);e+=4;L.Yn=w(U,e);e+=4;
L.agU=w(U,e);e+=4;var Z=e;while(U[Z]!=0)Z++;L.name=n.zQ(U,e,Z-e);e+=Z-e+1}else if(a=="stsd"){var b=w(U,e);
e+=4;if(b!=0)throw b;var I=w(U,e);e+=4;if(I!=1)throw I;var y=w(U,e);e+=4;L.Q9=n.zQ(U,e,4);e+=4;if(L.Q9=="mett"){L.axU=n.zQ(U,e,O-e)}else{for(var z=0;
z<6;z++)if(U[e+z]!=0)throw"e";e+=6;L.a3d=s(U,e);e+=2;L.a71=s(U,e);e+=2;L.ab1=s(U,e);e+=2;L.anz=w(U,e);
e+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,raw ".split(",").indexOf(L.Q9)!=-1){L.aiG=w(U,e);e+=4;L.awm=w(U,e);
e+=4;L.aBP=[s(U,e),s(U,e+2)];e+=4;L.az7=[w(U,e)/(1<<16),w(U,e+4)/(1<<16)];e+=8;var r=w(U,e);e+=4;if(r!=0)throw"e";
var h=s(U,e);e+=2;if(h!=1)throw"e";var k=U[e];e++;L.a5V=n.zQ(U,e,k);e+=31;L.an7=s(U,e);e+=2;var K=s(U,e);
e+=2;if(K!=65535)throw"e";if(e!=O)L.au7=T(U,e,O,l+1)}else if("mp4a enca samr sawb ec-3 ac-3".split(" ").indexOf(L.Q9)!=-1){L.Hp=s(U,e);
e+=2;L.az1=s(U,e);e+=2;var H=s(U,e);e+=2;if(H!=0&&H!=65534)throw H;var p=s(U,e);e+=2;if(p!=0)throw p;
L.awc=w(U,e)/(1<<16);e+=4}else if(L.Q9=="tx3g"||L.Q9=="text"||L.Q9=="mebx"){}else if(L.Q9=="tmcd"){}else throw L.Q9}}else if(a=="stts"||a=="stsz"||a=="stco"||a=="stsc"||a=="ctts"){var b=w(U,e),f=0,_=0;
e+=4;if(b!=0)throw b;if(a=="stsz"){f=w(U,e);e+=4}var A=w(U,e)*(a=="stsc"?3:a=="stts"||a=="ctts"?2:1);
e+=4;L=[];for(var z=0;z<A;z++){if(f!=0)L.push(f);else{L.push(w(U,e));e+=4}}for(var z=0;z<A;z++)_+=L[z]}else if(a=="co64"){var b=w(U,e);
e+=4;if(b!=0)throw b;var A=w(U,e);e+=4;L=[];for(var z=0;z<A;z++){L.push(n.UO(U,e));e+=8}}else if(a=="moov"||a=="trak"||a=="mdia"||a=="minf"||a=="dinf"||a=="stbl"){L=T(U,e,O,l+1)}else{L.w=e;
L.Pl=V}e=O;if(a=="trak"){if(J[a]==null)J[a]=[];J[a].push(L)}else{if(J[a]!=null)throw a;J[a]=L}}return J}function c(U){var e=new Uint8Array(U);
return T(e,0,e.length,0)}function g(U,e,N){var l=d(U,e),J=l.mdia.minf.stbl,w=J.stsc,s=0,o=0;for(var z=0;
z<w.length;z+=3){var V=(z+3<w.length?w[z+3]:1e4)-w[z],a=o+V*w[z+1];if(o<=N&&N<a){while(o+w[z+1]<=N){s++;
o+=w[z+1]}break}s+=V;o=a}var O=J.stco;if(O==null)O=J.co64;var S=O[s];while(o<N){S+=J.stsz[o];o++}return[S,J.stsz[N]]}function d(U,e){var N=U.moov.trak;
for(var z=0;z<N.length;z++)if(N[z].mdia.hdlr.aCY==e)return N[z]}return{eE:c,a4H:g,aa0:d}}(),D={};D.mM=function(x){return window.devicePixelRatio||1};
D.CM=function(x,R){return(R.abi=="touch"?12:8)*D.mM()/x.Q.O};D.Gj=function(x,R,T){this.name=x;this.id=R;
this.RA=null;if(T!=null)this.az=T};D.Gj.prototype.gb=function(x,R,T,c,g){};D.Gj.prototype.enable=function(x,R,T,c,g,d){var U=new aA(v.E.P,!0);
U.data={d:v.H.pm,ze:"default"};R.c(U)};D.Gj.prototype.disable=function(x,R,T,c,g){};D.Gj.prototype.aiF=function(x,R,T,c,g){return!1};
D.Gj.prototype.fz=function(x,R,T,c,g){};D.Gj.prototype.zL=function(x,R,T,c,g){};D.Gj.prototype.gQ=function(x,R,T,c,g){};
D.Gj.prototype.rR=function(x,R,T,c,g,d){};D.Gj.prototype.A4=function(x,R,T,c,g){};D.Gj.prototype.Rw=function(x,R,T,c){};
D.Gj.prototype.Lm=function(x,R,T,c){};D.Gj.prototype.cU=function(x,R){};D.Gj.prototype.cA=function(x,R){};
D.Gj.prototype.Wo=function(x){return 0};D.Gj.prototype.B7=function(x,R,T,c,g){};D.Gj.prototype.L4=function(x,R){};
D.Gj.prototype.WX=function(x,R){return!1};D.Gj.prototype.zc=function(x,R){return!1};D.Gj.prototype.Vd=function(){return!1};
D.Gj.prototype.Fx=function(x,R){return!0};D.Gj.prototype.bL=function(){return null};D.Gj.prototype.zX=function(x,R,T){};
D.Gj.prototype.aeR=function(){return!1};D.Gj.prototype.it=function(x,R,T,c){};D.Gj.prototype.track=function(x){var R=new aA(v.E._M,!0);
R.data=x;x.Wv=!0;this.RA.c(R)};D.Gj.sE=function(x,R,T,c){var g=10*D.mM()*(x.abi=="touch"?2:1),d=x.x+g,U=x.y-g,e=u.A8.tN(R.m,T.De,c,T.m,!0),N=u.A8.tN(R.e,T.De,c,T.e,!0);
while(e.length<N.length)e=" "+e;while(e.length>N.length)N=" "+N;D.Gj.XS(d,U,[go.get([12,41]).charAt(0)+": "+e,go.get([12,42]).charAt(0)+": "+N],T)};
D.Gj.XS=function(x,R,T,c){function g(l,a,O,S,L,Q){l.beginPath();l.moveTo(a,O+Q);l.arcTo(a,O+L,a+Q,O+L,Q);
l.arcTo(a+S,O+L,a+S,O+L-Q,Q);l.arcTo(a+S,O,a+S-Q,O,Q);l.arcTo(a,O,a,O+Q,Q)}var d=D.mM(),U=Math.round,e=U(11*d),N=D.Gj.ap9,J=0;
if(N==null)N=D.Gj.ap9=document.createElement("canvas");var l=N.getContext("2d");l.font=e+"px monospace";
for(var z=0;z<T.length;z++)J=Math.max(J,l.measureText(T[z]).width);var w=U(J+12*d),s=U((T.length*14+5)*d),o=new aP(x,R-s,w,s);
if(N.width!=w||N.height!=s){N.width=w;N.height=s;l.font=e+"px monospace"}l.clearRect(0,0,w,s);l.fillStyle="rgba(0,0,3,0.8)";
g(l,0,0,w,s,U(4*d));l.fill();l.fillStyle="rgba(255,255,255,1)";for(var z=0;z<T.length;z++)l.fillText(T[z],U(6*d),U((z+1)*13*d));
var V=[l.getImageData(0,0,w,s).data,o.clone()];if(c)c.N.gp=[V];return V};D.Gj.ap9=null;D.BA="0";D.a$="1";
D.alU="2";D.a2U="3";D.ZY="5";D.aho="6";D.atI="7";D.gg="8";D.Ig="9";D.EA="10";D.jk="11";D.T4="12";D.xh="13";
D.vK="14";D.asf="15";D.mx="16";D.K_="18";D.T0="19";D.J8="20";D.L1="21";D.xc="22";D.fq="23";D.Oz="24";
D.LJ="25";D.t0="27";D.Of="31";D.dy="32";D.a8B="33";D.Zh="34";D.asa="35";D.Es="36";D.de="37";D.R7="38";
D.hC="39";D.zz="40";D.w0="41";D.jv="42";D.bJ="43";D.avW="44";D.kY="47";D.g_="48";D.OZ="51";D._R="52";
D.HA="54";D.Ca="55";D.$z="56";D.Kv="57";D.ev="58";D.jw="59";D.Cd="60";D.p3="61";D.Wy="70";D.ahu="71";
D.lU="100";D.wI="101";D.ED="102";D.$r="103";D.NN="120";D.JG="230";D.aBC="231";D.hG="232";D.d_="233";
D.Wi="234";D.zW="235";D.X4="236";D.Fi={};D.Fi[D.fq]="tools/brush";D.Fi[D.Oz]="tools/pencil";D.Fi[D.Of]="tools/eraser";
D.wR={PcTl:D.Oz,PbTl:D.fq,moveTool:D.BA,cloneStampTool:D.t0,typeCreateOrEditTool:D.kY,artboardTool:D.Wy,marqueeRectTool:D.a$,typeVerticalCreateOrEditTool:D.g_,perspectiveCropTool:D.jk,marqueeEllipTool:D.alU,eyedropperTool:D.vK,eraserTool:D.Of,pathComponentSelectTool:D.OZ,lassoTool:D.ZY,backgroundEraserTool:D.dy,directSelectTool:D._R,polySelTool:D.aho,rectangleTool:D.HA,magneticLassoTool:D.atI,gradientTool:D.Zh,quickSelectTool:D.gg,bucketTool:D.asa,ellipseTool:D.Ca,magicWandTool:D.Ig,blurTool:D.Es,polygonTool:D.$z,cropTool:D.EA,sharpenTool:D.de,lineTool:D.Kv,sliceTool:D.T4,smudgeTool:D.R7,customShapeTool:D.ev,sliceSelectTool:D.xh,dodgeTool:D.hC,spotHealingBrushTool:D.K_,burnInTool:D.zz,saturationTool:D.w0,penTool:D.jv,redEyeTool:D.xc,freeformPenTool:D.bJ,rulerTool:D.mx,paintbrushTool:D.fq,handTool:D.jw,pencilTool:D.Oz,zoomTool:D.p3,objectSelectTool:D.a2U,healingBrushTool:D.T0,patchTool:D.J8,contentAwareMoveTool:D.L1,colorReplacementBrushTool:D.LJ,curvaturePenTool:D.avW,rotareViewTool:D.Cd};
D.AN=function(x,R,T){D.Gj.call(this,x,R,T);this.Ss={brush:x?bE.hA():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.Dn=null;this.pi=null;this.KL=null;this.TI=null;this.Iz=null;this.$W=null;this.A7=null;this.gF=null;
this.Fu=null;this.sI=null;this.Mn=null;this.HJ=null;this.ua=null;this.Oi=1;this.z8=!1;this.Sb=null;this.caller=null};
D.AN.prototype=new D.Gj;D.AN.prototype.zc=function(x,R){return x.Kk&&R.S(fZ.xg)};D.AN.prototype.zL=function(x,R,T,c,g){if(c.S(fZ.ng)){this.$W=new cI(g.x,g.y);
var d=this.Ss.brush.Brsh.v,U=d.Dmtr.v.val,e=d.Hrdn!=null?d.Hrdn.v.val:-1;this.A7=[U,e,!0,JSON.parse(JSON.stringify(this.Ss.brush)),g];
this.Ny(T)}};D.AN.prototype.SZ=function(x,R,T){var c=this.A7,g=x.Q.O,d=T.x-c[4].x,U=T.y-c[4].y,e=c[0],N=c[1],l=Math.abs(d)>Math.abs(U);
if(l&&c[2]){var J=Math.round(2*d/g);e+=J;T.x-=d-.5*J*g}if(!l&&!c[2]&&N!=-1){var J=Math.round(.25*U);
N+=J;T.y-=U-4*J}e=Math.max(1,e);N=c[1]==-1?-1:Math.max(0,Math.min(100,N));var w=c[3];w.Brsh.v.Dmtr.v.val=e;
if(N!=-1)w.Brsh.v.Hrdn.v.val=N;this.A7=[e,N,l,w,T];var s=fC.Mo(w,R.UK.DE,g),o=s[1];o.x=Math.round(this.$W.x-o.m/2);
o.y=Math.round(this.$W.y-o.e/2);x.N.VL=[s];var V=x.Q.nU(this.$W.x,this.$W.y);x.N.As={QH:[],ym:[V.x-e/2,V.y,V.x+e/2,V.y]};
if(N!=-1)x.N.As.ym.push(V.x+50/g,V.y-N/2,V.x+50/g,V.y+N/2);x.Sa=!0};D.AN.prototype.A4=function(x,R,T,c,g){if(this.id==D.J8||this.id==D.L1)return;
if(this.$W){this.$W=null;this.E7(JSON.parse(JSON.stringify(this.A7[3])));x.N.VL=[];x.N.As=null;x.Sa=!0;
return}var d=new aA(v.E.P,!0);d.data={d:v.H.Pn,f:this.id,arl:"showBrushOpts",wx:new cI(g.yq+4,g.xa)};
R.c(d)};D.AN.prototype.E7=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.pV,vr:hc.nI,n0:x};this.caller.c(R)};
D.AN.z9=function(x,R,T,c,g,d){if(x==null)x="FrgC";if(R==null)R="norm";if(T==null)T=1;if(g==null)g=!1;
var U={classID:"Fl",Usng:{t:"enum",v:{FlCn:x}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(T*100)}},PrsT:{t:"bool",v:g},Md:{t:"enum",v:{BlnM:c_.GM(R)}}};
if(x=="Clr")U.Clr={t:"Objc",v:c};if(x=="contentAware")U.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(x=="Ptrn")U.Ptrn={t:"Objc",v:d};return{Sm:"fill",M1:U}};D.AN.prototype.gb=function(x,R,T,c,g){this.RA=R;
var d=T.nE.length;if(d==0&&!T.nD())return;var U=d!=0?-1-T.nE[0]:T.g[0],e=T.R[U];if(x.d=="fromAction"){var N=x.J9,l=N.M1;
if(l&&l.null&&l.null.v[0]&&l.null.v[0].v.classID=="Path"){var J=T.JR(),w=J[0],s=J[1],o=w[s.length==0?0:s[0]].add.vmsk;
if(N.Sm=="fill"){var V=o.le(),a=g.gR,O=this.Ss,S=a>>16&255,L=a>>8&255,Q=a>>0&255;this.zU(T,e,V,S,L,Q,Math.round(O.opacity*255),O.bmode,"Fill Path")}else{var b=l&&l.Prs&&l.Prs.v,Z=JSON.stringify(this.Ss.brush);
if(b)bE.amo(this.Ss.brush,[!1,!0]);for(var I=0;I<1e3;I++){var y=u.j.wn(o.$,I,!0);if(y==-1){this.rR(T,R,g,c,null);
break}var r=o.$[y],h=o.$.slice(y,y+1+r.length),k=u.M.td(h,2).z,K=k.slice(0,8);for(var H=8;H<k.length;
H+=6)K.push(k[H-2],k[H-1],k[H],k[H+1],k[H+2],k[H+3],k[H+4],k[H+5]);var p={};p.Points=K;p.TextOnPathTRange=o.no.slice(0);
var p=aU.qc(p,2,r.type==3),f=p[0],A=T.Q.YP(f[0],f[1]);if(b)A.QD=0;if(I==0)this.fz(T,R,g,c,A);else this.pi.moveTo(f[0],f[1]);
var _=f.length,W=r.type==0?_+2:_;for(var z=2;z<W;z+=2){A=T.Q.YP(f[z%_],f[(z+1)%_]);A.Kk=!0;if(b){var Y=z/W;
A.QD=2*Math.min(Y,1-Y)}this.gQ(T,R,g,c,A,this.Ss.flow)}this.pi.finish();this.X1(T)}if(b)this.Ss.brush=JSON.parse(Z)}}else if(N.Sm=="fill"){var G=l.PrsT?l.PrsT.v:!1,i=e?e.add.lspf:0;
if(G&&e){e.add.lspf=i==null?1:i|1}var E=(l.Opct?l.Opct.v.val:100)/100,$=l.Md?c_.I3(l.Md.v.BlnM):"norm",C=l.Usng.v.FlCn;
if(C=="contentAware"){if(T.u==null){alert("Select an area to heal first.");return}if(!T.nD())return;
this.MT(T);this.VA(T,0);var B=T.u,M=u.B(B.rect.Z()*4);u.rN(B.channel,M,3);this.f7(T,"sheal",M,B.rect,B.rect);
this.W(T,B.rect);this.finish(T,B.rect)}else if(C=="Ptrn"){var j=g.hP,P=T.u?T.u.rect.clone():new aP(0,0,T.m,T.e),t=u.B(P.Z()*4);
e5.Ms(l,t,P,j,new cI(0,0));this.L$(T,e,T.u,t,"norm",[6,48,0,2])}else{var a;if(C=="FrgC")a=g.gR;else if(C=="BckC")a=g.tn;
else if(C=="Blck")a=0;else if(C=="Wht")a=16777215;else if(C=="Gry")a=8421504;else if(C=="Clr"){var q=u.I.ir(l.Clr.v);
a=q.o<<16|q.A<<8|q.J}var S=a>>16&255,L=a>>8&255,Q=a>>0&255;this.zU(T,e,T.u,S,L,Q,Math.round(255*E),$,[2,3])}if(G&&e){e.add.lspf=i==null?0:i}}else if(N.Sm=="delete"){var m=U<0?1:e.s4,B=T.u,bh;
if(B==null)return;var iE=U<0?T.Hp[-U-1]:m<=0?null:m==1?e.le():e.Ct(T).F,P=m<=0?e.rect:iE.rect,hV=m<=0?B.rect.yx(P):B.rect.clone();
if(hV.Y3())return;var dD=hV.Z();if(m<=0){bh=u.B(dD*4);u.yU(e.buffer,e.rect,bh,hV)}else{bh=u.B(dD);iE.extend(hV);
u.gN(iE.channel,iE.rect,bh,hV)}if(0<=U&&e.Bt(T,B)){if(m<=0){u.Qu(bh,0);u.yU(e.Cq.Uc,e.Cq.if,bh,hV)}else{bh.fill(255);
u.gN(e.Cq.Uc,e.Cq.if,bh,hV)}}else{if(m<=0){var ho=u.B(bh.length>>2);u.TR(bh,ho,3);u.l.v0(u.uz(B.rect.Z()),B.rect,ho,hV,B.channel,hV,1);
u.rN(ho,bh,3)}else{var aH=u.B(B.rect.Z()),S=g.tn>>>16&255,L=g.tn>>8&255,Q=g.tn>>0&255;aH.fill(Math.round(u.Et(S,L,Q)));
u.l.v0(aH,B.rect,bh,hV,B.channel,hV,1)}}this.xV(T,!0,[2,2],U,m,hV,bh)}}if(x.d=="stroke"){var f2=x.ajj,B=T.u;
if(B==null){B={rect:e.rect.clone(),channel:u.B(e.rect.Z())};u.TR(e.buffer,B.channel,3)}var e9=e5.Ff(f2),kB=D.Fs.aoM(B,Math.ceil(e9[0]),Math.ceil(e9[1])),a=u.I.ir(f2.Clr.v),S=Math.round(a.o),L=Math.round(a.A),Q=Math.round(a.J);
this.zU(T,e,kB,S,L,Q,Math.round(255*f2.Opct.v.val/100),c_.I3(f2.Md.v.BlnM),[14,9])}if(x.d=="fillBMP"){this.L$(T,e,T.u,x.XC,x.wN,x.hK)}if(x.d=="draw"){var ct=x.V$,jF=ct.rect;
this.MT(T);var fj=T.R[T.g[0]];if(x.ab5&&fj&&fj.s4<=0&&T.nE.length==0){jF=D.ys.ao5(ct,T);fj.buffer=ct.buffer.slice(0);
fj.rect=jF.clone()}else{var ab=this.Ss.bmode,iw=this.Ss.opacity;this.Ss.bmode="norm";this.Ss.opacity=1;
this.f7(T,"draw",ct.buffer,jF,jF.yx(new aP(0,0,T.m,T.e)));this.Ss.bmode=ab;this.Ss.opacity=iw}this.W(T,jF);
T.kn=!0;this.finish(T,jF,x.hK,x.ab5)}};D.AN.prototype.zU=function(x,R,T,c,g,d,U,e,N){var l=T==null?new aP(0,0,x.m,x.e):T.rect,J=U<<24|d<<16|g<<8|c<<0,w=u.B(l.Z()*4);
u.Qu(w,J);this.L$(x,R,T,w,e,N)};D.AN.prototype.L$=function(x,R,T,c,g,d){var U=x.nE.length!=0?-1-x.nE[0]:x.g[0],e=U<0?1:R.s4,N=U<0?x.Hp[-1-U]:e<=0?null:e==1?R.le():R.Ct(x).F,l=e<=0?R.rect:N.rect,J=T==null?new aP(0,0,x.m,x.e):T.rect,w=T==null?u.DA(x.m*x.e):T.channel;
if(T!=null)u.iv(w,c);var s=J.Z(),o=u.B(s*4);if(e<=0)u.yU(R.buffer,R.rect,o,J);else{N.extend(J);o.fill(255);
u.Oj(N.dN(J),o)}if(0<=U&&T&&R.Bt(x,T)&&e<=0){var V=R.Cq.xm,a=R.Cq.xm.slice(0);if(e<=0)u.kS(c,a);else u.kS(fullc,a);
var O=new ka([2,3],this);O.data={d:"drawtemp",a:x.g[0],ii:e,a6f:V,ahH:a};x.XY(O);this.cU(O.data,x)}else{if(e<=0){var S;
if(R.ad(0)){S=u.B(J.Z());u.TR(o,S,3)}u.l.Hy(g,c,J,o,J,J,1);if(R.ad(0))u.rN(S,o,3)}else{u.l.Hy(g,c,J,o,J,J,1);
var L=u.B(s);u.Ve(o,L);o=L}this.xV(x,!0,d,U,e,J,o)}};D.AN.prototype.WX=function(x){if(fZ.E9.indexOf(x)!=-1)return!0;
return!1};D.AN.prototype.Rw=function(x,R,T,c){var g=this.Ss.brush,d=c.S(fZ.ng),U=d!=this.z8,e=D.AN.$P(g,c);
if(e!=null)this.E7(e);if(!c.S(fZ.Gc)&&c.Ne()!=-1){var N=fZ.wd(Math.round(this.Ss.opacity*100),c.Ne())/100;
this.oi({opacity:N},R)}if(this.id==D.gg&&U&&x!=null){var l=this.Ss.qsmode;if(l==2)l=x.u==null?0:1;else l=2;
this.oi({qsmode:l},R)}this.z8=d;if(U){if(x)this.Oi=x.Q.O;this.Ny(T,c)}};D.AN.$P=function(x,R){var T=x.Brsh.v.Dmtr.v.val,c=x.Brsh.v.Hrdn!=null?x.Brsh.v.Hrdn.v.val:-1,g=T,d=c,U=R.S(fZ.xg);
if(R.S(fZ.qO)){if(U)c=25*Math.floor((c-1)/25);else{if(T<=10)T--;else if(T<=50)T=5*Math.floor((T-1)/5);
else if(T<=100)T=10*Math.floor((T-1)/10);else if(T<=200)T=25*Math.floor((T-1)/25);else if(T<=400)T=50*Math.floor((T-1)/50);
else T=100*Math.floor((T-1)/100)}}if(R.S(fZ.fn)){if(U)c=25*Math.ceil((c+1)/25);else{if(T<10)T++;else if(T<50)T=5*Math.ceil((T+1)/5);
else if(T<100)T=10*Math.ceil((T+1)/10);else if(T<200)T=25*Math.ceil((T+1)/25);else if(T<400)T=50*Math.ceil((T+1)/50);
else T=100*Math.ceil((T+1)/100)}}T=Math.max(1,T);c=Math.max(0,Math.min(100,c));if(d==-1)c=-1;if(T!=g||c!=d){var e=JSON.parse(JSON.stringify(x));
e.Brsh.v.Dmtr.v.val=T;if(d!=-1)e.Brsh.v.Hrdn.v.val=c;return e}return null};D.AN.prototype.Ny=function(x,R,T,c){if(x.UK.list.length==0)return;
var g=this.id,d;if((g==D.t0||g==D.T0||g==D.fq||g==D.Oz)&&(R!=null&&R.S(fZ.ng)||this.Ss.alt[0]))d="crosshair";
else{var U=this.Oi,e=this.Ss.brush;if((g==D.t0||g==D.T0)&&T&&this.HJ&&this.HJ.length==this.Mn.Z()*4){var N=T.Q.nU(c.x,c.y),l=this.a2o(N),J=this.HJ,w=this.Mn,s=new aP(w.x+l.x,w.y+l.y,w.m,w.e),o=fC.Mo(e,x.UK.DE,U),V=o[0],a=o[1],O=Math.ceil(a.m/U),S=new aP(Math.round(N.x-O/2),Math.round(N.y-O/2),O,O),L=u.B(S.Z()*4),Q,b;
u.yU(J,s,L,S);if(U==1){Q=L;b=S}else{var Z=new gP(U,0,0,U,0,0),I=D.gW.ug([L,S],Z,!0);b=a.clone();b.x=I.rect.x;
b.y=I.rect.y;if(b.X$(I.rect))Q=I.buffer;else{Q=u.B(b.Z()*4);u.yU(I.buffer,I.rect,Q,b)}}var y=this.Ss.opacity/255;
for(var z=0;z<Q.length;z+=4)Q[z+3]=y*(V[z+3]*Q[z+3]);fC.am9(new Uint32Array(Q.buffer),b,4278190080,4294967295);
d={fR:Q,v4:b,FV:new cI(b.m/2,b.e/2)}}else d=fC.vO(e,x.UK.DE,U,g==D.LJ||g==D.dy)}var r=new aA(v.E.P,!0);
r.data={d:v.H.pm,ze:d};if(this.caller)this.caller.c(r)};D.AN.prototype.enable=function(x,R,T,c){this.Dn=T;
this.caller=R;this.E7(JSON.parse(JSON.stringify(this.Ss.brush)));if(x&&x.Q.O!=0)this.Oi=x.Q.O;this.Ny(T,c)};
D.AN.prototype.L4=function(x,R){if(R==hc.nI){this.Ss.brush=x.UK.qa;this.Ny(x)}};D.AN.prototype.B7=function(x,R,T,c,g){for(var d in x)this.Ss[d]=x[d];
if(this.Ss.alt[0])this.Ny(g,c,T)};D.AN.prototype.a6Q=function(x){var R=x.nE.length!=0?-1-x.nE[0]:x.g[0],T=x.R[R],c=R<0?1:T.s4,g=R<0?x.Hp[-R-1]:c<=0?null:c==1?T.le():T.Ct(x).F,d=g?g.channel:T.buffer,U=(g?g.rect:T.rect).clone();
return[T,c,g,d,U]};D.AN.prototype.MT=function(x,R){this.ua=x.u==null?null:{rect:x.u.rect.clone(),channel:x.u.channel.slice(0)};
var T=this.sI,c=this.a6Q(x),g=c[0],d=c[1],U=c[2];this.sI=c[3];this.Fu=c[4];var e=new aP(0,0,x.m,x.e),N=e.y8(this.Fu);
if((this.hf()&&d<=0||N.X$(this.Fu))&&R!=!0){if(T&&T.length==this.sI.length){T.set(this.sI);this.sI=T}else this.sI=this.sI.slice(0)}else{if(U)U.extend(N);
else g.extend(N)}};D.AN.prototype.VA=function(x,R){var T=this.a6Q(x),c=T[1],g=T[3],d=T[4],U=[g,d],e=R!=null?R:this.Ss.sfrom;
if(c<=0&&e!=0){U[1]=new aP(0,0,x.m,x.e);U[0]=x.Yr(e==1&&x.g[0]!=x.R.length-1?x.g[0]:null).slice(0)}this.Mn=U[1].clone();
this.HJ=U[0].slice(0)};D.AN.prototype.ZF=function(x,R,T){if(x.S(fZ.ng)){var c=new aA(v.E.v,!0);c.f=D.vK;
c.data={d:"pickhere",aj6:T};R.c(c);return!0}return!1};D.AN.prototype.wE=function(x,R,T,c,g,d){if(this.id!=D.gg&&!x.nD(this.caller)){this.pi=null;
return}if(this.id!=D.gg&&this.pi)return;this.MT(x);var U=new aP(0,0,x.m,x.e),e=null;if(d!=null){var N=x.nE.length!=0?-1-x.nE[0]:x.g[0],l=x.R[N],J=N<0?x.Hp[-N-1]:l.s4<=0?null:l.s4==1?l.le():l.Ct(x).F;
e=u.B(U.Z()*4);if(J)D.AN.nS(this.sI,this.Fu,J.color,e,U);else u.yU(this.sI,this.Fu,e,U)}var w=this.Ss;
if(this.pi&&this.id==D.gg&&w.qsmode!=0&&x.u!=null){}else{var s=R.gR,o=R.tn;if(this.Sb=="erase"){var V=s;
s=o;o=V}var a=this.id==D.gg?this.Fu:U;this.pi=new fC(w.brush,R.UK.DE,R.UK.YF,{_v:g,Ce:d,aeF:w.smth*50/x.Q.O,Ku:this.id==D.Oz||w.emode==1,fr:x.fr},s,o,a,e)}if(this.id==D.gg){this.pi.a2Z(w.brush,w.qsmode==2?0:16777215)}var O=x.Q.nU(c.x,c.y);
if(T.S(fZ.xg)&&this.KL){var S=this.KL;this.pi.moveTo(S.x,S.y,c.QD);this.pi.lineTo(.001*S.x+.999*O.x,.001*S.y+.999*O.y,c.QD);
this.pi.lineTo(O.x,O.y,c.QD)}else this.pi.moveTo(O.x,O.y,c.QD);this.KL=O;this.TI=O.clone();this.Iz=new gJ(O,x.Q.Hh)};
D.AN.prototype._K=function(x,R,T){if(x&&x.Q.O!=0&&x.Q.O!=this.Oi){this.Oi=x.Q.O;this.Ny(T)}};D.AN.prototype.g3=function(x,R,T,c){if(this.pi==null)return;
var g=x.R[x.g[0]],d=x.Q.nU(c.x,c.y),U=this.Iz.yM(d,T);if(U.X$(this.KL))return 1;this.pi.lineTo(U.x,U.y,c.QD);
this.KL=U;if(this.id==D.t0||this.id==D.T0){var e=this.ih(),N=11;e=x.Q.YP(d.x-e.x,d.y-e.y);var l=N>>>1,J=new aP(Math.round(e.x)-l,Math.round(e.y)-l,N,N),w=u.B(J.Z()*4);
u.Qu(16777215);for(var z=0;z<N;z++)w[(z*N+l)*4+3]=w[(N*l+z)*4+3]=255;x.N.gp=[[w,J]];x.Sa=!0}};D.AN.prototype.Lm=function(x,R,T,c){if(T.lf!=this.id)return;
if(this.id!=D.gg||x==null)return;if(x.u==null||x.g[0]!=this.apo){this.apo=x.g[0];this.oi({qsmode:0},R)}};
D.AN.prototype.W=function(x,R){if(x.nE.length!=0){x.Sa=!0;return}var T=x.R[x.g[0]];if(R==null){R=this.pi.ei();
if(this.hf()&&T.s4<=0)R=R.yx(this.Fu)}var c=T.s4;if(c==1||c==3){var g=Math.round((c==1?T.le():T.Ct(x).F).Cu*2.4);
R=R.clone();R.t1(g,g)}if(R.Y3())return;if(c<=0){T.W(R)}if(c==1){T.le().IP=!0;T.sG(x,R)}if(c==3){T.W(R)}x.W(x.root.t3(R,x,x.g[0],!0))};
D.AN.prototype.rR=function(x,R,T,c,g){if(this.pi==null)return;this.pi.finish();if(this.id!=D.K_&&this.id!=D.T0&&this.id!=D.gg)this.X1(x);
if(this.id==D.t0||this.id==D.T0){x.N.gp=[];x.Sa=!0}if(this.id==D.gg){var d=x.u;x.u=this.ua;var U=new aA(v.E.v,!0);
U.data={d:"setsel",hK:this.name,u:d};U.f=D.a$;R.c(U);if(this.Ss.qsmode==0)this.oi({qsmode:1},R)}else{this.finish(x,this.pi.F_());
this.pi=null;this.gF=null}this.dir=0};D.AN.prototype.oi=function(x,R){for(var T in x)this.Ss[T]=x[T];
var c=new aA(v.E.P,!0);c.data={d:v.H.Pn,f:this.id,pj:x};R.c(c)};D.AN.prototype.hf=function(){var x=this.id;
return x==D.gg||x==D.Of||x==D.hC||x==D.zz||x==D.w0||x==D.xc};D.AN.prototype.finish=function(x,R,T,c,g){var d=x.nE.length!=0?-1-x.nE[0]:x.g[0],U=x.R[d],e=d<0?1:U.s4,N=d<0?x.Hp[-d-1]:e<=0?null:e==1?U.le():U.Ct(x).F,l=N?N.rect:U.rect,s;
if(this.hf()||!l.X$(this.Fu)){if(N==null){if(this.hf())U.mu();else{var J=R.y8(this.Fu),w=u.B(J.Z()*4);
u.yU(U.buffer,U.rect,w,J);U.buffer=w;U.rect=J}}else N.mu();this.W(x,l)}if(e<=0){s=u.B(R.Z()*4);u.yU(this.sI,this.Fu,s,R)}else{s=u.B(R.Z());
s.fill(N.color);u.gN(this.sI,this.Fu,s,R)}this.xV(x,!1,T?T:this.name,d,e,R,s,c,g)};D.AN.prototype.xV=function(x,R,T,c,g,d,U,e,N){var l=U;
if(g>0){l=u.B(d.Z()*4);D.AN.nS(U,d,0,l,d)}var J=new ka(T,this);J.data=[{a:c,ii:g,v4:d,Ik:l}];if(e)J.data.he=[x.u,null];
if(N)J.data.he=[this.ua,x.u];x.XY(J);if(R)this.cU(J.data,x);else if(e)x.u=null;D.MK.ahd(x,J.data)};D.AN.prototype.cA=function(x,R){this.a25(x,R,!1)};
D.AN.prototype.cU=function(x,R){this.a25(x,R,!0)};D.AN.prototype.Wo=function(x){return D.MK.Wo(x)};D.AN.prototype.a25=function(x,R,T){if(x.d=="drawtemp"){var c=T?x.ahH:x.a6f,g=R.R[x.a];
g.Cq.xm=c;g.$m(R,0,0,R.u);g.W();R.kn=!0}else{D.MK.OT(R,x);if(x.he){R.u=x.he[T?1:0];R.yL=!0}}R.W()};D.AN.prototype.X1=function(x){this.f7(x,this.Sb,this.pi.Gr(),this.pi.zC(),this.pi.ei());
this.W(x)};D.AN.prototype.f7=function(x,R,T,c,g){var d=this.Ss,U=x.R[x.g[0]],e=x.nE.length!=0?x.Hp[x.nE[0]]:U.s4<=0?null:U.s4==1?U.le():U.Ct(x).F,N=u.B(g.Z()*4),l,J=U.ad(0);
if(e==null){if(this.id==D.L1&&R=="heal")u.yU(U.buffer,U.rect,N,g);else u.yU(this.sI,this.Fu,N,g);if(J){l=u.B(g.Z());
u.TR(N,l,3)}}else{D.AN.nS(this.sI,this.Fu,e.color,N,g)}if(x.u&&R!="qselect"){var w=g.yx(x.u.rect),s=u.B(w.Z()*4);
if(R=="copy"){var o=u.B(w.Z());u.gN(x.u.channel,x.u.rect,o,w);u.yU(N,g,s,w);u.l.pW(T,c,s,w,o,w,0,w,1,!1)}else{u.yU(T,c,s,w);
u.AD(x.u.channel,x.u.rect,s,w)}T=s;c=w}function V(S,kB){var jF=Math.max(kB.x,Math.min(kB.x+kB.m-1,S.x)),fj=Math.max(kB.y,Math.min(kB.y+kB.e-1,S.y));
return new cI(jF,fj)}if(R=="idraw"||R=="ierase"){if(this.gF==null)this.gF=u.B(this.Fu.Z());var a=this.Ss.samp,O=this.Dn.tn,S=V(this.KL,g),L=a==0?S:this.TI,Q=L.x,b=L.y,Z=D.gM.xp(this.sI,this.Fu,[L,new cI(Q-2,b),new cI(Q+2,b),new cI(Q,b-2),new cI(Q,b+2)]);
if(a==2)Z=[[O>>>16&255,O>>>8&255,O>>>0&255,255]];var I=D.gM.uI(N,g,S,Z,this.Ss.wconf),y=u.B(g.Z());u.gN(this.gF,this.Fu,y,g);
u.jY.y8(I,y,y);u.gN(y,g,this.gF,this.Fu);u.AD(y,g,T,c);R=R.slice(1)}if(R=="erase"&&(D.MK.aBb(x)!=16777215||e))R="draw";
if(R=="draw")u.l.Hy(d.bmode,T,c,N,g,g,d.opacity);else if(R=="erase"){var r=d.opacity;if(this.id==D.dy)r=1;
var h=u.B(g.Z()*4);u.yU(T,c,h,g);if(e==null){var k=u.B(g.Z());u.TR(h,k,3);u.VO(k,r);u.F0(k);u.AD(k,g,N,g)}else{u.Qu(h,0,4278190080);
u.l.Hy("norm",h,g,N,g,g,r)}}else if(R=="clone"||R=="heal"){var K=this.ih(),H=this.Mn.clone();H.offset(K.x,K.y);
var p=g.clone();p.t1(1,1);var f=u.B(p.Z()*4),A=u.B(p.Z());u.yU(T,c,f,p);u.TR(f,A,3);u.Qu(f,0);if(e==null){u.yU(this.HJ,H,f,p);
var _=u.B(p.Z());u.TR(f,_,3);u.oB(_,A)}else D.AN.nS(this.HJ,H,e.color,f,p);if(R=="clone"){u.rN(A,f,3);
u.l.Hy(d.bmode,f,p,N,g,g,d.opacity)}if(R=="heal"){var W=A.slice(0);u.round(W,20);var Y=u.B(p.Z()*4);
if(e==null)u.yU(this.sI,this.Fu,Y,p);else D.AN.nS(this.sI,this.Fu,e.color,Y,p);u.l.pW(f,p,Y,p,W,p,0,p,1,!1);
u.El.xB(Y,W,p);u.l.pW(Y,p,N,g,A,p,0,g,1,!1)}}else if(R=="dodge"||R=="burn"){var f=u.B(g.Z()*4),E=1,$=0,C=0,B=0;
u.yU(T,c,f,g);var G=g.Z()*4,i=D.AN.iR;if(this.z8){if(R=="dodge")R="burn";else R="dodge"}var M=d.rng;
if(R=="dodge"){$=[1-E/2,1,1+E][M];C=[1,1/(1+E),1][M];B=[E/2,0,0][M]}if(R=="burn"){$=[1/(1-E/2),1,1-E/2][M];
C=[1,1+E,1][M];B=[-(E/2)/(1-E/2),0,0][M]}for(var z=0;z<G;z+=4){var j=f[z+3];N[z+0]=i(N[z+0],$,C,B,j);
N[z+1]=i(N[z+1],$,C,B,j);N[z+2]=i(N[z+2],$,C,B,j)}}else if(R=="sponge"||R=="redeye"){var f=u.B(g.Z()*4),A=u.B(g.Z());
u.yU(T,c,f,g);u.TR(f,A,3);u.kS(N,f);var P=d.smode;if(this.z8)P=1-P;var t=gm.GI("hue2");if(R=="sponge")fu.v3(t,0,[0,[-50,46][P],[6,5][P]]);
else fu.v3(t,1,{wb:[265,305,25,55],lV:[0,-90,-70]});var q=hD.V0("hue2",t);hD.Yt(q,f,f,g);u.l.pW(f,g,N,g,A,g,0,g,1,!1)}else if(R=="copy")u.yU(T,c,N,g);
else if(R=="sheal"){var f=u.B(g.Z()*4),A=u.B(g.Z());u.yU(T,c,f,g);u.TR(f,A,3);f.fill(0);var m=this.HJ,iE=this.Mn;
if(e){m=u.B(iE.Z()*4);D.AN.nS(this.HJ,iE,0,m,iE)}var hV=u.la.xB(m,iE,A,f,g);if(hV!=0)u.yU(m,iE,f,g);
if(this.Ss.sfrom==0)u.yU(f,g,N,g);else{u.yU(this.sI,this.Fu,N,g);u.rN(A,f,3);u.l.Hy("norm",f,g,N,g,g,1)}}else if(R=="qselect"){var dD=this.Fu,bh=dD.m,ho=dD.e,aH=bh*ho,f2=this.pi.Gr(),Z=this.sI,e9=D.Fs.IR,A=e9.Bk;
A.fill(128);for(var z=0;z<aH;z++){var kB=f2[z<<2],ct=f2[(z<<2)+3];if(ct==255&&(kB==0||kB==255))A[z]=kB}A[0]=A[bh-1]=0;
A[(ho>>>1)*bh]=A[(ho>>>1)*bh+bh-1]=0;D.x1.Fd(e9,!0,x);x.u={rect:dD,channel:e9.u.slice(0)};x.yL=!0}if(e==null){if(J)u.rN(l,N,3);
u.yU(N,g,U.buffer,U.rect)}else D.AN.R1(N,g,e)};D.AN.ih=function(){return null};D.AN.iR=function(x,R,T,c,g){var d=x*(1/255),U=c+R*Math.pow(d,T),e=Math.round(U*g+d*(255-g));
return Math.max(0,Math.min(255,e))};D.AN.nS=function(x,R,T,c,g){var d=u.B(g.Z());d.fill(T);u.gN(x,R,d,g);
c.fill(255);u.Oj(d,c)};D.AN.R1=function(x,R,T){var c=u.B(R.Z());u.Ve(x,c);u.gN(c,R,T.channel,T.rect)};
D.Fs=function(x,R,T){D.Gj.call(this,x,R,T);this.Ss={binop:0,feat:0,cstr:{fU:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.vd=new cI(-1,-1);this.ni=new cI(-1,-1);this.xx="default";this.RA=null;this.Jg=!1;this.e8=new b_;
this.BD=!1;this.kU=null;this.VB=null;this.hp=!1;this.cn=!1};D.Fs.prototype=new D.Gj;D.Fs.prototype.av5=function(){var x=this.Ss,R=[x.binop,x.feat];
if(this.id==D.Ig)R.push(x.wconf);return R};D.Fs.prototype.azs=function(x,R,T){var c=this.Ss;c.binop=x[0];
c.feat=x[1];c.wconf=x[2];this.yi(T)};D.Fs.prototype.yi=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.Pn,f:this.id,Ss:this.Ss};
x.c(R)};D.Fs.IR={key:""};D.Fs.kf=function(x,R,T){var c={Sm:x,M1:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(R)c.M1.T=R;if(T!=null)c.M1.AntA={t:"bool",v:T};return c};D.Fs.HX=function(x,R,T){return D.Fs.kf("set",{t:"Objc",v:{classID:x,Top:{t:"UntF",v:{type:"#Pxl",val:R.y}},Left:{t:"UntF",v:{type:"#Pxl",val:R.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:R.y+R.e}},Rght:{t:"UntF",v:{type:"#Pxl",val:R.x+R.m}}}},T)};
D.Fs.Xu=function(x,R,T){var c=[],g=[],U="set";for(var z=0;z<x.length;z+=2){c.push(x[z]);g.push(x[z+1])}var d={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:c},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:g}]}}}};
if(R)U=["set","addTo","subtractFrom","interfaceWhite"][R];return D.Fs.kf(U,d,T)};D.Fs.aAy=function(x,R,T){var c={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:x.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:x.y}}}},g=D.Fs.kf("set",c);
g.M1.Tlrn={t:"long",v:R[0]};g.M1.AntA={t:"bool",v:R[1]};g.M1.Cntg={t:"bool",v:R[2]};if(T==!0)g.M1.Mrgd={t:"bool",v:T};
return g};D.Fs.Vc=function(x){return D.Fs.kf("set",{t:"enum",v:{Ordn:x?"Al":"None"}})};D.Fs.yD=function(x,R,T){var c={classID:"null"};
if(x!="border")c.selectionModifyEffectAtCanvasBounds={t:"bool",v:T};var g={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[x[0]];
c[g]={t:"UntF",v:{type:"#Pxl",val:R}};return{Sm:x,M1:c}};D.Fs.aoR=function(x,R,T){var c={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},g={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:R}}]};
if(T)g.v.push({t:"name",v:{classID:"Lyr",val:T}});var d=[{classID:"null",null:c,T:g},{classID:"null",null:g,T:c},{classID:"null",null:g,From:c},{classID:"null",null:g,With:c}],U=["set","add","subtract","interfaceIconFrameDimmed"];
return{Sm:U[x],M1:d[x]}};D.Fs.aeg=function(x,R){var T=new aA(v.E.P,!0);T.data={d:v.H.pV,vr:hc.nx};if(!R.St)x.c(T);
T.data={d:v.H.pV,vr:hc.lp};if(!R.j3.js)x.c(T)};D.Fs.prototype.gb=function(x,R,T,c,g){D.Fs.aeg(R,g);this.RA=R;
var d=x.d,U,e,N=new aP(0,0,T.m,T.e),c5=!1,at,gt,iK,iz;if(d=="fromAction"){var l=x.J9,J=l.Sm,w=l.M1,s=w?w.selectionModifyEffectAtCanvasBounds:null,o=s&&s.v;
if(J=="colorRange"){if(w.Clrs){var V=w.Clrs.v.Clrs,a=0,O=255,S=["Shdw","Mdtn","Hghl"].indexOf(V),Z=.4;
if(S==0)O=60;else if(S==1){a=100;O=150}else a=190;var L=["shadows","midtones","highlights"][S],Q=w[L+"LowerLimit"],b=w[L+"UpperLimit"];
if(Q)a=Q.v;if(b)O=b.v;var I=w[L+"Fuzziness"];if(I)Z=I.v/100;U=D.Fs.II(T,a,O,Z,!0)}else{var a=w.Mnm.v,O=w.Mxm.v,Z;
a={h8:a.Lmnc.v,Y:a.A.v,J:a.B.v};O={h8:O.Lmnc.v,Y:O.A.v,J:O.B.v};Z=w.Fzns.v/200;U=D.Fs.II(T,a,O,Z)}e=[7,8]}else if(J=="inverse"){if(T.u==null){alert("No selection!");
return}U={channel:u.B(N.Z()),rect:N};u.gN(T.u.channel,T.u.rect,U.channel,U.rect);u.F0(U.channel);e=[7,2]}else if(J=="expand"){var y=w.By.v.val,r=T.u.rect.clone();
r.t1(y,y);var h=u.B(r.Z()),k=u.B(r.Z());u.gN(T.u.channel,T.u.rect,k,r);u.style.stroke(k,h,r,y);U={channel:h,rect:r};
e=[7,4]}else if(J=="contract"){var y=w.By.v.val,K=T.u.rect.clone();K.t1(1,1);if(!o)K=K.yx(N);var k=u.B(K.Z()),H=u.B(k.length);
u.gN(T.u.channel,T.u.rect,k,K);u.F0(k);u.style.stroke(k,H,K,y);u.F0(H);U={channel:H,rect:K};u.mu(U);
e=[7,5]}else if(J=="border"){var y=w.Wdth.v.val;U=D.Fs.aoM(T.u,y/2,y/2);e=[7,9]}else if(J=="feather"||J=="smoothness"){var y=w.Rds.v.val;
U=D.Fs.a10(T.u,y,J=="smoothness",N,o);e=J=="feather"?[7,6]:[19,3,0]}else if(J=="move"){var p=w.T.v,r=T.u.rect.clone();
r.x+=p.Hrzn.v.val;r.y+=p.Vrtc.v.val;U={channel:T.u.channel,rect:r};e=[7,7]}else if(J=="grow"||J=="similar"){var f=this.Ss.wconf.slice(0);
if(w.Tlrn)f[0]=w.Tlrn.v;f[2]=J=="grow";var A=T.Yr(),_=new aP(0,0,T.m,T.e),W=T.u.rect,Y=Math.round(Math.sqrt(W.Z())/10),G=u.B(_.Z());
u.gN(T.u.channel,W,G,_);var i=[];for(var E=0;E<W.e;E+=Y)for(var $=(W.Z()+E)%Y;$<W.m;$+=Y)if(T.u.channel[E*W.m+$]==255){var C=new cI(W.x+$,W.y+E);
i.push(C);if(f[2])u.jY.y8(D.gM.uI(A,_,C,null,f),G,G)}if(!f[2])u.jY.y8(D.gM.uI(A,_,C,D.gM.xp(A,_,i),f),G,G);
U={channel:G,rect:_};e=J=="grow"?"Grow Selection":"Similar Selection";console.log(w)}else{var B=w.null.v,M=w.AntA!=null&&w.AntA.v;
function j(h6){var cU=h6.Top.v.val,b7=h6.Left.v.val;return new aP(b7,cU,h6.Rght.v.val-b7,h6.Btom.v.val-cU)}function P(h6){var cU=h6[0].arr,jv=h6[1].arr,de={z:[],G:[]};
for(var z=0;z<cU.length;z++){de.G.push(z==0?"M":"L");de.z.push(cU[z],jv[z])}de.G.push("Z");return de}var t=["set","addTo","subtractFrom","interfaceWhite"].indexOf(J),q=w.T?w.T.v:null;
if(q&&q.classID=="Elps"){U=this.aox(D.jC.a33(j(q)));e=[10,4]}else if(q&&q.classID=="Rctn"){var m=j(q);
U={channel:u.B(m.Z()),rect:m.clone()};U.channel.fill(255);e=[10,15]}else if(q&&q.classID=="ObSl"){var m=j(q),iE=D.Fs.IR,hV=iE.rect,dD=iE.Bk,bh=hV.m,ho=hV.e,aH=m.x-hV.x,f2=aH+m.m-1,e9=Math.max(aH,Math.min(f2,aH+f2>>>1)),kB=m.y-hV.y,ct=kB+m.e-1,jF=Math.max(kB,Math.min(ct,kB+ct>>>1)),fj=Math.max(aH,0),ab=Math.min(f2,bh),iw=Math.max(kB,0),jD=Math.min(ct,ho);
dD.fill(128);if(0<=kB)for(var $=fj;$<ab;$++)dD[kB*bh+$]=0;if(ct<ho)for(var $=fj;$<ab;$++)dD[ct*bh+$]=0;
if(0<=aH)for(var E=iw;E<jD;E++)dD[E*bh+aH]=0;if(f2<bh)for(var E=iw;E<jD;E++)dD[E*bh+f2]=0;var a1=D.rn.awp,gd=Math.round(m.m*a1),i6=Math.round(m.e*a1);
for(var $=Math.max(0,e9-gd);$<Math.min(bh,e9+gd);$++)dD[jF*bh+$]=255;for(var E=Math.max(0,jF-i6);E<Math.min(ho,jF+i6);
E++)dD[E*bh+e9]=255;D.x1.Fd(iE,!0);U={channel:iE.u.slice(0),rect:hV.clone()};e=[10,44]}else if(q&&q.classID=="Plgn"){U=this.aox(P(q.Pts.v.arr));
e=[10,9]}else if(q&&q.classID=="Pnt"){U=D.gM.a87(T,new cI(q.Hrzn.v.val,q.Vrtc.v.val),[w.Tlrn.v,M,w.Cntg==null||w.Cntg.v],w.Mrgd?w.Mrgd.v:!1);
e=[10,12]}else if(q&&q.Ordn=="None"){U=null;e=[7,1]}else if(q&&q.Ordn=="Al"){var hv=N;if(T.g.length!=0){var hO=T.root.ct(T.g[0]);
while(hO.parent&&hO.parent.parent)hO=hO.parent;if(hO.a.add.artb)hv=hO.a.Ie()}U={channel:u.B(hv.Z()),rect:hv};
U.channel.fill(255);e=[7,0]}else if(q&&q[0]&&q[0].v.keyID=="WrPt"){var jh={d:"frompath",v2:[-1,0,0]};
this.gb(jh,R,T,c,g);return}else{var aJ=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(J),hS=J=="set"?q:B,iO=hS[0].v.enum,jh;
if(iO=="Trsp"||iO=="Msk"||iO=="vectorMask"||iO=="Trgt"){var g$=T.g[0];if(hS.length==2)g$=bf.Z9(T,hS[1]);
var hy=["Trsp","Msk","vectorMask"].indexOf(iO);if(iO=="Trgt"&&T.R[g$].s4==1)hy=1;jh={d:"fromlayer",v2:[g$,hy,aJ]}}else{if(hS[0].t=="name"){var g$=0;
for(var z=0;z<T.Hp.length;z++)if(T.Hp[z].name==hS[0].v.val)g$=z;jh={d:"fromchannel",v2:[-5-g$,0,aJ]}}else{var fg=["RGB","Rd","Grn","Bl"].indexOf(iO);
jh={d:"fromchannel",v2:[-1-fg,0,aJ]}}}this.gb(jh,R,T,c,g);return}if(U){if(!M)u.round(U.channel);if(w.Fthr)U=D.Fs.a10(U,w.Fthr.v.val,!1);
if(J!="set"&&T.u!=null)U=u.jY.EU(U,T.u,t)}}if(J=="expand"||J=="contract")if(!o&&!N.contains(U.rect)){var hL=U.rect.yx(N),dn=u.B(hL.Z());
u.gN(U.channel,U.rect,dn,hL);U.channel=dn;U.rect=hL}}if(d=="qmask"){c5=!0;var gI=T.L_(),_=new aP(0,0,T.m,T.e);
if(gI){U=gI.rect.X$(_)&&u.gI(gI.channel,255)?null:{rect:gI.rect.clone(),channel:gI.channel.slice(0)};
at=gI}else{U=null;gt=new F.Wu;gt.color=0;gt.name="Quick Mask";gt.PW=!0;if(T.u){gt.rect=T.u.rect.clone();
gt.channel=T.u.channel.slice(0)}else{gt.rect=_;gt.channel=u.B(gt.rect.Z());gt.channel.fill(255)}}e=[6,6,1];
T.kn=!0}if(d=="setsel"){U=x.u;e=x.hK}if(d=="crange"){var a=x.ec,O=x.nL;U=D.Fs.II(T,a,O,x.e5);e=[7,8]}if(d=="fromlayer"||d=="fromchannel"||d=="frompath"){var ce=x.v2[0],hy=x.v2[1],t=x.v2[2];
if(d=="fromlayer"){if(ce==null)ce=T.g[0];var b7=T.R[ce];if(hy==0){var br=b7.rect,kg=b7.buffer;if(br.Y3())return;
var bM=u.B(kg.length>>>2);u.TR(kg,bM,3);U={channel:bM,rect:br.clone()}}else{if(b7.F==null)b7.sG(T);var eQ=hy==1?b7.le():b7.F;
U=D.Fs.a9x(eQ,N)}this.track(D.Fs.aoR(t,["Trsp","Msk"][hy],b7.getName()))}else if(d=="frompath"){var eT=T.JR(),b6=eT[1],eT=eT[0],jm=!0;
if(ce==null)if(eT.length==0||b6.length==0)return;var hx=eT[b6[0]];if(ce!=null)for(var z=0;z<eT.length;
z++)if(eT[z].iY==ce)hx=eT[z];var eQ=hx.add.vmsk.le(),io=eQ.zC();if(io.Z()==0)return;var bM=eQ.Xw();if(x.v2[3]!=null)jm=x.v2[3];
if(!jm){bM=bM.slice(0);u.round(bM)}iK=[JSON.stringify(T.pT),JSON.stringify(T.Kx)];iz=["[]","[]"];T.pT=[];
T.Kx=[];U={channel:bM,rect:io}}else{if(ce==null)ce=D.Fs.apL(T);U=D.Fs.aos(T,ce)}if(t!=0&&T.u)U=u.jY.EU(U,T.u,t);
e=[14,11]}if(d=="bgrm"){var bq=30,dl=1,d2="JmQZWPPseb3/.3,4.1'y?\"qvuyai.%d~`LXNF@LBc6?:X=TO0 +*}#~Grqca6\\Z|ZKZObi\\0a$0<2*coeFax*/6)fec`[,)%R}SVHnq8l241,*ZN}Jyu =l?580djbW#\"zFDt><n66NUH{Mo{(}uO[Q2Jnomw~qOKJOHPJMC6[>.326}&JA!;|htjb\\h^ R[Vgna/?DCG3Ji&%*#+%(}p+c";
if(this.rB==null)this.rB=0;var gO=Math.floor((Date.now()-this.rB)/1e3);if(!i3.T9()&&gO<bq){alert("You can use this once per "+bq+" seconds. Please, wait "+(bq-gO)+" sec, or get a Premium account.",4e3);
return}this.rB=Date.now();var b7=T.R[T.g[0]],m=b7.rect,ae=b7.buffer;while(Math.max(m.m,m.e)>4096){var hO=u.j$(ae,m);
m=hO.rect;ae=hO.z6;dl*=2}var eF=dp.Ix("png"),e6=dp.Ix("jpg"),dJ=e6.LA([[ae.buffer]],m.m,m.e);d2=JSON.parse(fl.Dk(d2));
var m=new XMLHttpRequest;m.open("POST",d2[0]);m.setRequestHeader(d2[1],d2[2]);m.setRequestHeader(d2[3],d2[4]);
var gQ=new FormData;gQ.append("image",new Blob([dJ],{type:"ima"+"ge/j"+"pg"}));m.send(gQ);alert(go.get([23,5])+" ...",2800);
m.onload=function(h6){var cU=JSON.parse(h6.target.response),jv=cU.results[0].entities[0].image,de=dp.D9(jv),jv=eF.x3(de)[0],jJ=jv.d8,c4=u.B(jJ.Z());
u.Ve(new Uint8Array(jv.data),c4);for(var z=0;z<c4.length;z++){if(c4[z]>250)c4[z]=255}if(dl!=1){var hO=D.gW.uQ([c4,jJ],new gP(dl,0,0,dl,0,0));
jJ=hO.rect;c4=hO.channel}jJ.x=b7.rect.x;jJ.y=b7.rect.y;var gn=new aA(v.E.v,!0);if(x.b==1){gn.f=D.d_;
gn.data={d:F.Rk,aW:d2[5],a6M:!0};R.c(gn);var eG=b7.le();eG.color=0;eG.rect=jJ;eG.channel=c4;eG.mu();
b7.sG()}else if(x.b==2){gn.f=D.a$;gn.data={d:"setsel",u:{channel:c4,rect:jJ},hK:"Select Subject"};R.c(gn)}else throw"e";
i3.event("rembg_Rem"+"ove B"+"G:  "+(i3.T9()?"Pre"+"mium":"Free"))};return}if(U!=null&&u.gI(U.channel,0)){U=null;
e=[7,1]}if(U)u.mu(U);var a6=new ka(e,this);a6.data={d:"changesel",u:U,L_:c5,agw:at,amF:gt,FQ:iK,a8X:iz};
T.XY(a6);this.cU(a6.data,T)};D.Fs.apL=function(x){var R=0;if(x.nE.length!=0)R=-5-x.nE[0];else if(JSON.stringify(x.Q.U)=="[1,1,1]")R=-1;
else R=-2-x.Q.U.indexOf(1);return R};D.Fs.aos=function(x,R){var T,c=new aP(0,0,x.m,x.e);if(-5<R&R<0){var g=-R-1,d=x.Yr(),U=u.B(c.Z());
if(g==0)u.Ve(d,U);else u.TR(d,U,g-1);T={channel:U,rect:c.clone()}}if(R<-4){T=D.Fs.a9x(x.Hp[-R-5],c)}return T};
D.Fs.a9x=function(x,R){var T,c;if(x.ir()==0){c=x.zC().clone();if(c.Z()==0)return;T=x.Xw()}else{c=R;T=u.B(c.Z());
x.qC(c,T)}return{channel:T,rect:c}};D.Fs.prototype.zc=function(x){return this.BD||x.Kk&&this.id!=D.ZY};
D.Fs.prototype.nj=function(x,R,T){var c=new aA(R,!0);c.data=T;x.c(c)};D.Fs.prototype.al3=function(x,R){var T=new aA(v.E.P,!0);
T.data={d:v.H.pm,ze:R};x.c(T)};D.Fs.prototype.zC=function(x,R,T){R=x.u==null||this.e8.Fb(1)||this.e8.jZ(1)?R:null;
var c=this.vd,g=this.ni;if(T){c.x=Math.max(0,Math.min(x.m,c.x));c.y=Math.max(0,Math.min(x.e,c.y));g.x=Math.max(0,Math.min(x.m,g.x));
g.y=Math.max(0,Math.min(x.e,g.y))}var d=D._T.J3(c,g,R,!0,this.Ss.cstr),U=d[0].x,e=d[0].y,N=new aP(U,e,d[1].x-U,d[1].y-e);
if(T){N.x=Math.max(N.x,0);N.y=Math.max(N.y,0)}return N};D.Fs.prototype.fz=function(x,R,T,c,g){this.cn=!0;
if(this.CJ())return;this.RA=R;this.Jg=!1;this.e8.fz(c);this.vd=x.Q.nU(g.x,g.y);this.vd=D.K$.zE(x,this.vd,T);
if(this.a7J(x,this.vd,c)){this.BD=!0;this.kU=x.u.rect.clone();return}this.LV(x,T,c,g);x.Q.OL=new aP};
D.Fs.prototype.a7J=function(x,R,T){var c=T.S(fZ.xg),g=T.S(fZ.ng);if(x.u&&!c&&!g&&this.Ss.binop==0)return u.Ua(R,x.u.channel,x.u.rect);
return!1};D.Fs.prototype.gQ=function(x,R,T,c,g){this.RA=R;if(this.hp)return;var d=x.Q.nU(g.x,g.y);if(cI.rE(this.vd,d)*x.Q.O>5){this.Jg=!0;
this.e8.gQ()}if(c.S(fZ.Ed)){if(this.VB==null)this.VB=new cI(d.x-this.vd.x,d.y-this.vd.y);this.vd.x=d.x-this.VB.x;
this.vd.y=d.y-this.VB.y}else this.VB=null;this.ni=d;if(!this.BD)this.ni=D.K$.zE(x,this.ni,T);if(this.a7J(x,this.ni,c))this.al3(R,"move");
else this.al3(R,this.xx);if(this.BD){var U=this.kU.clone();U.x+=this.ni.x-this.vd.x;U.y+=this.ni.y-this.vd.y;
var e=D.K$.x4(x,U,T);x.u.rect.x=Math.round(this.ni.x-this.vd.x+this.kU.x+e[0]);x.u.rect.y=Math.round(this.ni.y-this.vd.y+this.kU.y+e[1]);
x.yL=!0;D.K$.gz(x,U,e);return}this.Dg(x,T,c,g,R);if(x.Q.OL)x.Q.OL=this.zC(x,c)};D.Fs.prototype.CJ=function(){return!1};
D.Fs.prototype.rR=function(x,R,T,c,g,d){var U=this.cn;this.cn=!1;if(d||!U)return;x.Q.OL=null;this.ni=x.Q.nU(g.x,g.y);
this.ni=D.K$.zE(x,this.ni,T);if(this.BD){this.BD=!1;if(x!=null&&x.N.ay){x.N.ay=null;x.Sa=!0}if(this.ni.X$(this.vd)&&this.eI()==0){this.nj(R,v.E._M,D.Fs.Vc());
return}this.aAS(x,this.kU,x.u.rect.clone());return}this.ho(x,T,c,g,R);D.Fs.aeg(R,T);this.e8.rR();this.w7(R)};
D.Fs.prototype.aAS=function(x,R,T){var c=x.SH();if(c!=null&&c.f==this&&c.data.d=="movesel"){}else{c=new ka([7,7],this);
c.data={d:"movesel",mY:R};x.XY(c)}c.data.GR=T;this.cU(c.data,x)};D.Fs.prototype.zL=function(x,R,T,c,g){this.hp=!0};
D.Fs.prototype.A4=function(x,R,T,c,g){var d=new aA(v.E.P,!0);d.data={d:v.H.Pn,f:this.id,kW:g,Hv:x,im:T};
R.c(d);this.hp=!1};D.Fs.prototype.Rw=function(x,R,T,c){this.e8.Rw(c);if(x!=null&&x.u!=null){var g=c.Gw();
if(g.x!=0||g.y!=0){var d=x.u.rect.clone();d.x+=g.x;d.y+=g.y;this.aAS(x,x.u.rect.clone(),d)}}this.w7(R)};
D.Fs.prototype.w7=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.Pn,f:this.id,mT:this.eI()};x.c(R)};
D.Fs.prototype.eI=function(){var x=this.e8.Fb(0),R=this.e8.jZ(0);return D.Fs.gt(this.Ss.binop,x,R)};
D.Fs.gt=function(x,R,T){if(R)x=1;if(T)x=2;if(R&&T)x=3;return x};D.Fs.prototype.finish=function(x,R,T,c){var g=x.u,d=this.getSelection(x,R,T,c);
if(d==null)d=D.Fs.Vc();else{var U=this.Ss.feat,e=this.eI();if(U!=0)d.M1.Fthr={t:"UntF",v:{type:"#Pxl",val:U}};
if(e!=0&&e!=4)d.Sm=["","addTo","subtractFrom","interfaceWhite",""][e]}this.nj(this.RA,v.E._M,d);this.vd.LR(-1,-1);
this.ni.LR(-1,-1)};D.Fs.prototype.getSelection=function(x,R,T,c){return null};D.Fs.prototype.LV=function(x,R,T,c){};
D.Fs.prototype.Dg=function(x,R,T,c){};D.Fs.prototype.ho=function(x,R,T,c){};D.Fs.prototype.cA=function(x,R){var T=x.d;
if(T=="changesel"){var c=R.u;R.u=x.u;x.u=c}if(T=="movesel")R.u.rect=x.mY;if(x.L_){if(x.agw){R.nE=[R.Hp.length];
R.Hp.push(x.agw)}else{R.Hp.pop();R.nE=[]}}if(x.FQ){R.pT=JSON.parse(x.FQ[0]);R.Kx=JSON.parse(x.FQ[1])}R.yL=!0};
D.Fs.prototype.cU=function(x,R){var T=x.d;if(T=="changesel"){var c=R.u;R.u=x.u;x.u=c}if(T=="movesel")R.u.rect=x.GR;
if(x.L_){if(x.amF){R.nE=[R.Hp.length];R.Hp.push(x.amF)}else{R.Hp.pop();R.nE=[]}}if(x.FQ){R.pT=JSON.parse(x.a8X[0]);
R.Kx=JSON.parse(x.a8X[1])}R.yL=!0};D.Fs.prototype.Wo=function(x){return x.d=="changesel"&&x.u?x.u.channel.length:0};
D.Fs.prototype.B7=function(x){this.Ss=x.Ss};D.Fs.prototype.aox=function(x){var R=u.M.CC(x.z);if(R.Y3())return null;
var T=u._e(R.m,R.e);T.save();T.beginPath();T.translate(-R.x,-R.y);Typr.U.pathToContext({cmds:x.G,crds:x.z},T);
T.closePath();T.fill();T.restore();var c=u.B(R.Z()),g=T.getImageData(0,0,R.m,R.e);u.TR(g.data,c,3);return{rect:R,channel:c}};
D.Fs.a10=function(x,R,T,c,g){if(T)R=Math.round(R*.7);var d=Math.ceil(2.6*R),U=x.rect.clone();U.t1(d,d);
if(c&&!g)U=U.yx(c);var e=u.B(U.Z()),N=u.B(e.length);u.gN(x.channel,x.rect,N,U);u.kc.nu(N,e,U,R);if(T){var l=e.length;
for(var z=0;z<l;z++){var J=(e[z]-128)*R*2.5;e[z]=Math.max(0,Math.min(255,Math.round(128+J)))}}return{channel:e,rect:U}};
D.Fs.aoM=function(x,R,T){var c=Math.max(1,Math.ceil(T)),g=x.rect.clone();g.t1(c,c);var d=g.Z(),U={channel:u.B(d),rect:g},e=u.B(d);
u.gN(x.channel,x.rect,e,U.rect);if(T!=0)u.style.stroke(e,U.channel,U.rect,T);else u.kS(e,U.channel);
var N=u.B(d);u.F0(e);if(R!=0)u.style.stroke(e,N,U.rect,R);else u.kS(e,N);u.jY.yx(U.channel,N,U.channel);
return U};D.Fs.II=function(x,R,T,c,g){var d=new aP(0,0,x.m,x.e),U=x.Yr();if(x.u){var e=x.u.rect.yx(d),N=u.B(e.Z()*4);
u.yU(U,d,N,e);d=e;U=N}var l=d.Z(),J=u.B(l),w=1/c;if(g){if(R>=T)R=T-1;var s=R*(1-c),o=R,V=T,a=T+(255-T)*c,O=s==o?0:1/(o-s),S=V==a?0:1/(a-V);
for(var z=0;z<l;z++){var L=z<<2,Q=u.Et(U[L],U[L+1],U[L+2]),b=0;if(Q<s)b=0;else if(Q<o)b=(Q-s)*O;else if(Q<=V)b=1;
else if(Q<=a)b=1-(Q-V)*S;else b=0;J[z]=U[L+3]*b*b}}else for(var z=0;z<l;z++){var L=z<<2,Z=u.jX(U[L],U[L+1],U[L+2]),b=u.Ee(Z,R,T,c,w);
J[z]=U[L+3]*b}return{rect:d,channel:J}};D.vL=function(){D.AN.call(this,[10,18],D.Es,"tools/blur");this.Sb="copy"};
D.vL.prototype=new D.AN;D.vL.prototype.fz=function(x,R,T,c,g){var d=c.S(fZ.ng)?fC.SJ:fC.Es;this.wE(x,T,c,g,this.Ss.strn,d);
if(this.pi==null)return;this.X1(x)};D.vL.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);if(this.$W)this.SZ(x,T,g);
if(this.pi==null)return;if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D.AZ=function(){D.AN.call(this,[10,0],D.fq,"tools/brush");
this.Sb="draw"};D.AZ.prototype=new D.AN;D.AZ.prototype.fz=function(x,R,T,c,g){if(this.ZF(c,R,g))return;
this.wE(x,T,c,g,this.Ss.flow);if(this.pi==null)return;this.X1(x)};D.AZ.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);
if(this.$W)this.SZ(x,T,g);if(this.pi==null)return;if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D.CB=function(){D.AN.call(this,[10,42],D.LJ,"tools/crepl");
this.Sb="idraw";this.Ss.bmode="hue "};D.CB.prototype=new D.AN;D.CB.prototype.fz=function(x,R,T,c,g){if(this.ZF(c,R,g))return;
this.wE(x,T,c,g,this.Ss.flow);if(this.pi==null)return;this.X1(x)};D.CB.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);
if(this.$W)this.SZ(x,T,g);if(this.pi==null)return;if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D.qX=function(){D.AN.call(this,[10,43],D.xc,"tools/redeye");
this.Ss.smode=0;this.Sb="redeye"};D.qX.prototype=new D.AN;D.qX.prototype.fz=function(x,R,T,c,g){this.wE(x,T,c,g,this.Ss.flow);
if(this.pi==null)return;this.X1(x)};D.qX.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);if(this.$W)this.SZ(x,T,g);
if(this.pi==null)return;if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D.Q5=function(){D.AN.call(this,[10,38],D.Oz,"tools/pencil");
this.Sb="draw"};D.Q5.prototype=new D.AN;D.Q5.prototype.fz=function(x,R,T,c,g){if(this.ZF(c,R,g))return;
this.wE(x,T,c,g,this.Ss.flow);if(this.pi==null)return;this.X1(x)};D.Q5.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);
if(this.$W)this.SZ(x,T,g);if(this.pi==null)return;if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D.Qy=function(){D.AN.call(this,[10,22],D.zz,"tools/burn");
this.Sb="burn"};D.Qy.prototype=new D.AN;D.Qy.prototype.fz=function(x,R,T,c,g){this.wE(x,T,c,g,this.Ss.expo/Math.E);
if(this.pi==null)return;this.X1(x)};D.Qy.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);if(this.$W)this.SZ(x,T,g);
if(this.pi==null)return;if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D.Cm=function(x,R,T){D.AN.call(this,x==""?null:x?x:[10,1],R?R:D.t0,T?T:"tools/clone");
this.Sb="clone";this.nO=null;this.w=null};D.Cm.prototype=new D.AN;D.Cm.prototype.fz=function(x,R,T,c,g){var d=this.Ss,U=d.alt[0];
if(c.S(fZ.ng)||c.S(fZ.kw)||U){this.nO=x.Q.nU(g.x,g.y);this.w=null;if(U)this.oi({alt:[!1]},R);this.VA(x);
this.Ny(T,c,x,g);return}if(this.nO==null){alert(go.get([15,7,0]));return}this.Ny(T,c);this.wE(x,T,c,g,this.Ss.flow);
if(this.pi==null)return;this.w=this.a2o(x.Q.nU(g.x,g.y));this.X1(x)};D.Cm.prototype.a2o=function(x){var R=this.w;
if(R==null||!this.Ss.algnd)R=new cI(Math.round(x.x-this.nO.x),Math.round(x.y-this.nO.y));return R};D.Cm.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);
if(this.$W)this.SZ(x,T,g);if(this.pi==null){if(this.nO!=null)this.Ny(T,c,x,g);return}if(!g.Kk||this.nO==null)return;
this.g3(x,T,c,g);this.X1(x)};D.Cm.prototype.ih=function(){return this.w};D.kT=function(){D.Gj.call(this,[10,53],D.asf,"tools/csamp");
this.fY=-1;this.azg=null};D.kT.prototype=new D.Gj;D.kT.prototype.fz=function(x,R,T,c,g){this.azg=JSON.stringify(x.nH);
var d=x.Q.nU(g.x,g.y),U=x.nH,e=1e9,N=-1;for(var z=0;z<U.length;z++){var l=U[z],J=d.x-l.x,w=d.y-l.y,s=J*J+w*w;
if(s<e){e=s;N=z}}var o=15/x.Q.O;N=e<o*o?N:-1;if(N==-1){N=U.length;U.push({x:d.x,y:d.y})}else if(c.S(fZ.ng)){U.splice(N,1);
N=-1}this.fY=N;x.Sa=!0};D.kT.prototype.gQ=function(x,R,T,c,g){var d=this.fY;if(d!=-1){var U=x.Q.nU(g.x,g.y);
x.nH[d].x=U.x;x.nH[d].y=U.y;x.Sa=!0}};D.kT.prototype.rR=function(x,R,T,c,g,d){var U=new ka(this.name,this);
U.data={Ey:this.azg,SN:JSON.stringify(x.nH)};x.XY(U);this.fY=-1};D.kT.prototype.cA=function(x,R){R.nH=JSON.parse(x.Ey)};
D.kT.prototype.cU=function(x,R){R.nH=JSON.parse(x.SN)};D._x=function(x,R,T){D.Gj.call(this,x,R,T);this.Cn={Sh:{fU:0,x:0,y:0},oU:!1,x_:!1};
this.e$=!1;this.yl=null;this.cursor=null;this.afE=0;this.ls=null;this.vd=null;this.SA=null;this.Qx=!1};
D._x.prototype=new D.Gj;D._x.prototype.Vd=function(){return this.yl!=null};D._x.prototype.zc=function(x){return this.vd!=null||this.yl&&this.yl.ayi()};
D._x.prototype.fz=function(x,R,T,c,g){this.ls=g;var d=x.Q.nU(g.x,g.y),U=this.Cn.Sh,e=U.fU!=0?U.x/U.y:null,N=this.Qx;
this.Qx=!1;if(this.yl){var l=this.yl.LG(d,x.Q.O);if(N&&l==null){this.yl.clear(x);this.yl=null}else{this.yl.fz(x,T,c,d,e,!1,g);
return}}this.vd=D.K$.zE(x,d,T)};D._x.prototype.TZ=function(x,R,T){if(T==null)T=[x.x,x.y,x.x+x.m,x.y,x.x+x.m,x.y+x.e,x.x,x.y+x.e];
return new jS(T,!0,!1,this.id==D.jk,!0,R,this.id==D.jk?2:0,this.id==D.jk?4:3)};D._x.prototype.Ny=function(x){var R=new aA(v.E.P,!0);
R.data={d:v.H.pm,ze:this.cursor};x.c(R)};D._x.prototype.enable=function(x,R,T,c){this.RA=R;this.cursor="crosshair";
this.Ny(R);if(x!=null&&this.yl==null){var g=x.u?{Mr:"cropby",ayv:3}:{Mr:"config",Cn:this.Cn,ait:!0};
this.B7(g,R,x,c,T);if(x.u==null&&this.Cn.Sh.fU==0)this.Qx=!0}};D._x.prototype.gQ=function(x,R,T,c,g){this.ls=g;
var d=x.Q.nU(g.x,g.y);if(!g.Kk){var U="crosshair";if(this.yl){var e=this.yl.LG(d,x.Q.O,null,g);if(e)U=e;
else U="default"}if(U!=this.cursor){this.cursor=U;this.Ny(R)}}if(this.yl)this.yl.gQ(x,T,c,d);else if(this.vd){if(this.e$){x.N.Xp={G:["M","L"],z:[this.vd.x,this.vd.y,d.x,d.y]}}else{var N=D._T.J3(this.vd,D.K$.zE(x,d,T),c,!0,this.Cn.Sh),l=N[0].x,J=N[0].y,w=this.SA=new aP(l,J,N[1].x-l,N[1].y-J);
x.N.Xp=u.M.$x(w);D.Gj.sE(g,w,x,T)}x.Sa=!0}};D._x.aa7=function(x,R,T){var c,g,e,N;if(R<=T){c=R;g=T}else{c=T;
g=R}var d=x-Math.floor((x+Math.PI)/(2*Math.PI))*2*Math.PI;d=Math.abs(d);if(d>Math.PI/2)d=Math.PI-d;var U=c/(g*Math.sin(d)+c*Math.cos(d));
if(R<=T){e=c*U;N=g*U}else{e=g*U;N=c*U}return{KQ:e,kh:N}};D._x.prototype.rR=function(x,R,T,c,g){this.ls=g;
var d=x.Q.nU(g.x,g.y);if(this.yl==null){var U=this.SA;if(this.vd&&(U||this.e$)){if(this.e$){var e=this.vd,N=d,l=N.x-e.x,J=N.y-e.y;
if(Math.abs(l)<Math.abs(J))N=new cI(e.x-J,e.y+l);if(e.x>N.x){var w=e;e=N;N=w}var e=Math.atan2(-(N.y-e.y),N.x-e.x),s=D._x.aa7(e,x.m,x.e);
if(this.Cn.x_){var o=u.M.$x(new aP(0,0,x.m,x.e)),V=new gP;V.rotate(e);u.M.i(o.z,V,o.z);s=u.M.CC(o.z);
s={KQ:s.m,kh:s.e}}var a=[0,0,s.KQ,0,s.KQ,s.kh,0,s.kh],O=new gP;O.translate(-s.KQ/2,-s.kh/2);O.rotate(e);
O.translate(x.m/2,x.e/2);u.M.i(a,O,a);this.yl=this.TZ(U,!1,a);this.e$=!1}else{var S=this.Cn.Sh;this.yl=this.TZ(U,S.fU!=0)}this.yl.IA(x,T);
this.SA=null;this.nj(R,v.E.P,{d:v.H.Pn,f:this.id,N3:!0});this.vd=null;x.N.gp=[];x.N.Xp=null;x.Sa=!0}return}this.yl.rR(x,T,c,d);
this.nj(R,v.E.P,{d:v.H.Pn,f:this.id,N3:!0});var a=this.yl.Mu();if(Math.abs(a[0]-a[4])<2&&Math.abs(a[1]-a[5])<2){this.CA(x,R,null,c);
return}if(Date.now()-this.afE<200&&this.yl.w6(d)){this.q5(x,T);this.CA(x,R,T,c);return}this.afE=Date.now()};
D._x.prototype.Rw=function(x,R,T,c){var g=this.yl;if(g==null||this.ls&&this.ls.Kk)return;if(c.S(fZ.AQ)){this.q5(x,T);
this.CA(x,R,T,c)}else if(c.S(fZ.jK)){this.CA(x,R,T,c)}else g.Rw(x,T,c)};D._x.atY=function(x,R,T){var c={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:x[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:x[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:x[1]+x[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:x[0]+x[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:R!=null?R:0}},Dlt:{t:"bool",v:T!=null?T:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{Sm:"crop",M1:c}};D._x.HY=function(x,R){if(R==null)R=[!0,!0,!0,!0];var T={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][x]}}},c=["Top","Left","Btom","Rght"];
for(var z=0;z<4;z++)T[c[z]]={t:"bool",v:R[z]};return{Sm:"trim",M1:T}};D._x.a5z=function(x,R,T,c){var g={classID:"null"};
if(c!=null){g.Wdth={t:"UntF",v:{type:"#Pxl",val:x}};g.Hght={t:"UntF",v:{type:"#Pxl",val:R}};g.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][c]}}}if(T!=null)g.Rslt={t:"UntF",v:{type:"#Rsl",val:T}};
return{Sm:"imageSize",M1:g}};D._x.ayh=function(x,R,T,c){if(T==null)T=4;if(c==null)c=!1;var g=Math.floor(T/3),d=T%3;
return{Sm:"canvasSize",M1:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:x}},Hght:{t:"UntF",v:{type:"#Pxl",val:R}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][d]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][g]}},Rltv:{t:"bool",v:c}}}};
D._x.prototype.gb=function(x,R,T,c,g){var d=new aP(0,0,T.m,T.e),U=[11,3],e=T.De,N=T.m/2,l=T.e/2,J=1,B,M,j;
if(x.d=="fromAction"){var w=x.J9,s=w.Sm,o=w.M1,V=T.m/T.e,a=o.Wdth?o.Wdth.v.val:-1,O=o.Hght?o.Hght.v.val:-1,e=o.Rslt?o.Rslt.v.val:null,S=o.Wdth?o.Wdth.v.type:o.Hght?o.Hght.v.type:-1,L=1,Q;
if(S=="#Prc"){if(a!=-1)a=Math.round(T.m*a/100);if(O!=-1)O=Math.round(T.e*O/100)}if(s=="imageSize"){if(o.Intr){if(o.Intr.v.Intp=="Nrst")L=0;
if(o.Intr.v.Intp=="bicubicSharper")L=2;if(a==-1&&O==-1){var b=e/T.De;a=Math.round(T.m*b);O=Math.round(T.e*b)}if(o.CnsP&&o.CnsP.v){if(a==-1)a=Math.round(O*V);
if(O==-1)O=Math.round(a/V)}}else{if(S=="#Prc")e=Math.round(T.De*(T.m/a));else if(S==-1)e=Math.round(e);
else throw"e";a=T.m;O=T.e}Q={d:"imgsize",lz:a,bt:O,WQ:e,oM:L}}else if(s=="canvasSize"){if(a==-1)a=T.m;
if(O==-1)O=T.e;if(o.Rltv&&o.Rltv.v==!0){if(o.Wdth)a+=T.m;if(o.Hght)O+=T.e}var Z=o.Vrtc?o.Vrtc.v.VrtL:"Cntr",I=o.Hrzn?o.Hrzn.v.HrzL:"Cntr";
Q={d:"canvsize",lz:a,bt:O,tk:3*["Top","Cntr","Btom"].indexOf(Z)+["Left","Cntr","Rght"].indexOf(I)}}else if(s=="revealAll"){Q={d:"revealAll"}}else if(s=="trim"){var y={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[o.trimBasedOn.v.trimBasedOn];
if(y==null)throw"e";var r=["Top","Left","Btom","Rght"],h=[!0,!0,!0,!0];for(var z=0;z<4;z++)if(o[r[z]])h[z]=o[r[z]].v;
Q={d:"trim",a3U:y,La:h}}else if(s=="crop"){var k,K,H,p;if(o.T){var f=o.T.v,k=Math.round(f.Left.v.val),K=Math.round(f.Top.v.val),H=Math.round(f.Rght.v.val)-k,p=Math.round(f.Btom.v.val)-K}else{var A=T.u.rect;
k=A.x;K=A.y;H=A.m;p=A.e}Q={d:"canvsize",lz:H,bt:p,w:new cI(k,K),akD:o.Dlt!=null&&o.Dlt.v}}else console.log(w);
if(Q)this.gb(Q,R,T,c,g);return}else if(x.d=="imgsize"){d=new aP(0,0,x.lz,x.bt);if(x.WQ)e=x.WQ;J=x.oM}else if(x.d=="canvsize"){var _=x.tk!=null?x.tk:0;
d=new aP(0,0,x.lz,x.bt);var W=T.m-x.lz,Y=T.e-x.bt,G=Math.round(W/2),i=Math.round(Y/2);if(_==1||_==4||_==7)d.x=G;
if(_==2||_==5||_==8)d.x=W;if(_==3||_==4||_==5)d.y=i;if(_==6||_==7||_==8)d.y=Y;if(x.w){d.x=x.w.x;d.y=x.w.y}}else if(x.d=="rot"&&(x.b+2*Math.PI)%(Math.PI/2)!=0){var E=u.M.$x(d).z,$=new gP;
$.translate(-N,-l);$.rotate(x.b);$.translate(N,l);u.M.i(E,$,E);d=u.M.CC(E)}else if(x.d=="rot"&&x.b!=Math.PI&&x.b!=-Math.PI){d=new aP(N-T.e/2,l-T.m/2,T.e,T.m);
if((T.m+T.e&1)==1){N=Math.floor(N);l=Math.floor(l);d=new aP(N-Math.floor(T.e/2),l-Math.floor(T.m/2),T.e,T.m);
if((T.m&1)==1&&x.b!=-Math.PI/2)d.y--;if((T.e&1)==1&&x.b==-Math.PI/2)d.x--}}else if(x.d=="trim"){U=[11,12,0];
var C=T.Yr(),A=new aP(0,0,T.m,T.e);d=u.Wb(C,A,x.a3U,x.La);if(d.Y3())d=A}else if(x.d=="revealAll"){U=[11,12,2];
d=T.root.zC(T,!0)}var P=x.d=="canvsize"&&x.akD;if(x.d=="imgsize"||x.d=="rot"||x.d=="scl"||P){var t=new gP;
if(x.d=="imgsize"){U=[11,10];t.scale(x.lz/T.m,x.bt/T.e);j=T.M3();for(var z=0;z<j[0].length;z++)j[0][z][1]*=j[0][z][0]==0?t.Y:t.jR}else if(P){}else{t.translate(-N,-l);
if(x.d=="rot")t.rotate(x.b);if(x.d=="scl")t.scale(x.b.x,x.b.y);t.translate(N,l);U=x.hK}M=u.D.bY(t);B=this.kL(T,g,!0,M,J,P?d:null)}else if(x.d=="auto-align"){if(T.g.length<2){alert("Select two or more layers.");
return}var q=[];for(var z=0;z<T.g.length;z++){var m=T.R[T.g[z]];if(!m.iZ()&&m.add.SoLd==null){alert("Unsupported layer selected.");
return}if(m.rect.Y3()){alert("Empty layer selected.");return}q.push([m.buffer,m.rect])}var iE=u._U.eF(q);
if(iE==null){alert("No similarity found.");return}M=iE[1];B=this.kL(T,g,!1,iE,J);d=T.root.zC(T,!0);U=[2,10,1]}var hV=new aP(0,0,T.m,T.e);
if(!d.Y3()&&(!d.X$(hV)||B!=null)){var dD=new ka(U,this);dD.data={axS:T.De,WQ:e,KU:B,b7:M,$K:D._x.agE(T,d,hV,B!=null)};
if(j){dD.data.awg=T.M3();dD.data.ay4=j}D._x.aoc(T,dD.data,d);T.XY(dD);this.cU(dD.data,T)}};D._x.agE=function(x,R,T,c){if(x.co.length==0)return null;
var g=JSON.stringify(x.co),d=JSON.parse(g);D.D3.aAl(d,R,T,c);d=JSON.stringify(d);return[g,d]};D._x.prototype.kL=function(x,R,T,c,g,d,U){var e={R:[],a6:null,Dl:null};
if(T){for(var z=0;z<x.R.length;z++)e.R.push(z);for(var z=0;z<x.OQ.length;z++)e.R.push(-1-z);for(var z=0;
z<x.Hp.length;z++)e.R.push(-1e3-z)}else e.R=x.g.slice(0);e.a6=D.gW.Sq(x,e.R,!0);var N=Math.abs(c[3]*c[1])>1e-9;
D.gW.AL(x,R,e.R,e.a6,g,c,null,!0,N?null:d);if(T&&U&&x.nD()){var l=x.R[x.g[0]],J=l.buffer,w=l.rect,s=N?w.clone():d.clone(),o=u.B(s.Z()*4),V=u.B(w.Z());
u.TR(J,V,3);var a=u.B(s.Z());u.gN(V,w,a,s);u.round(a,255);u.F0(a);var O=u.la.xB(J,w,a,o,s);if(O==0){l.rect=s;
l.buffer=o}}e.Dl=D.gW.Sq(x,e.R,!0);return e};D._x.prototype.cU=function(x,R){if(x.WQ)R.De=x.WQ;if(x.$K)R.co=JSON.parse(x.$K[1]);
if(x.KU){D._x.M7(R,u.D.nA(x.b7));D.gW.Nf(R,x.KU.R,x.KU.Dl);if(x.ay4)R.bK(x.ay4)}D._x.yj(R,x)};D._x.prototype.cA=function(x,R){if(x.axS)R.De=x.axS;
if(x.$K)R.co=JSON.parse(x.$K[0]);D._x.dW(R,x);if(x.jc)R.Q.w.hR(x.jc);R.a8o();if(x.KU){var T=u.D.nA(x.b7).clone();
T.F0();D._x.M7(R,T);D.gW.Nf(R,x.KU.R,x.KU.a6);if(x.awg)R.bK(x.awg)}};D._x.M7=function(x,R){for(var z=0;
z<x.R.length;z++){var T=x.R[z];if(T.add.artb==null)continue;var c=u.M.$x(T.Ie()).z;u.M.i(c,R,c);var g=u.M.CC(c);
T.yc(g)}};D._x._f=function(x){var R=new aP,T=0,c=x.root.children.length;for(var z=0;z<c;z++){var g=x.root.children[z].a;
if(g.add.artb==null)continue;R=R.y8(g.Ie());T++}var d=new aP(0,0,x.m,x.e);if(!R.Y3()&&!d.X$(R))return R;
return null};D._x.j4=function(x){var R=D._x._f(x);if(R)D._x.oU(x,R,!0);return R};D._x.oU=function(x,R,T){var c=x.m,g=x.e,d=R.m,U=R.e,e=R.x==0&&R.y==0;
if(e&&c==d&&g==U)return;x.m=d;x.e=U;var N=[];for(var z=0;z<x.R.length;z++)N.push(z);if(!e)D.K$.LY(x,N,null,-R.x,-R.y);
for(var z=0;z<x.R.length;z++){x.R[z].sG(x)}x.a8o();if(T){var l=x.Q.w,J=x.Q.O;l.x+=Math.round((R.x+(d-c)/2)*J);
l.y+=Math.round((R.y+(U-g)/2)*J)}else x.Q.w.LR(0,0);if(x.u)x.u.rect.offset(-R.x,-R.y);var w=x.M3();for(var s=0;
s<w[0].length;s++)if(w[1][s]==-1){var o=x.CR[s];o[1]-=o[0]==0?R.x:R.y}for(var z=0;z<x.Hp.length;z++)x.Hp[z].rect.offset(-R.x,-R.y)};
D._x.prototype.B7=function(x,R,T,c,g){if(x.Mr=="commit"){this.q5(T,g);this.CA(T,R,null,c)}else if(x.Mr=="cancel"){this.CA(T,R,null,c)}var d=null,U=new aP(0,0,T.m,T.e),e=this.Cn.Sh;
if(x.Mr=="config"){this.Cn=x.Cn;e=this.Cn.Sh;if(T==null||!x.ait)return;d=U;if(e.fU==1){var N=e.x/e.y;
if(d.m/N<d.e)d.e=Math.round(d.m/N);else d.m=Math.round(d.e*N)}if(e.fU==2){d.m=e.x;d.e=e.y}d.x=Math.round((T.m-d.m)/2);
d.y=Math.round((T.e-d.e)/2)}if(x.Mr=="straighten"){alert("Draw a line in the image.");this.e$=!0}if(x.Mr=="cropby"){if(T==null)return;
var l=x.ayv,d;if(l==0)d=T.root.zC(T,!0);if(l==1){if(T.g.length==0)alert("No layer is selected.");else{var J=T.root.ct(T.g[0]);
d=J.zC(T,!0)}}if(l==2){if(T.g.length==0)alert("No layer is selected.");else{d=u.Wb(T.Yr(),U,0);if(d.Y3())d=U.clone()}}if(l==3){if(T.u!=null)d=T.u.rect;
else alert("There is no selection.")}if(l==4){d=new aP(0,0,T.m,T.e)}}if(d&&d.Y3())d=null;if(d!=null){this.yl=this.TZ(d,e.fU!=0);
this.yl.IA(T,g);this.nj(R,v.E.P,{d:v.H.Pn,f:this.id,N3:!0})}};D._x.prototype.Lm=function(x,R,T,c){this.nj(R,v.E.P,{d:v.H.Pn,f:this.id,Wl:[x.m,x.e]})};
D._x.prototype.q5=function(x,R){var T=this.yl.Mu(),c=u.M.CC(T),g=this.a2i(x,T),d=!1,U=this.Cn,e=U.Sh,N=U.oU,l=e.x,J=e.y,o;
if(this.id==D.EA&&e.fU==2&&g.Z()!=l*J){g=new aP(g.x,g.y,l,J);d=!0}var w=u.D.ok(T,g);w=u.D.F0(w);var s=u.D.VJ(w),V=Math.atan2(w[3],w[0]),a=new aP(0,0,x.m,x.e);
if(Math.abs(V)>1e-9||!s||d||N||U.x_)o=this.kL(x,R,!0,w,1,c,U.x_);else if(g.X$(a))return;var O=new ka(this.name,this);
O.data={KU:o,b7:w,jc:x.Q.w.clone(),$K:D._x.agE(x,g,a,!1)};D._x.aoc(x,O.data,g);x.XY(O);this.cU(O.data,x);
this.track(D._x.atY([c.x,c.y,c.m,c.e],null,N))};D._x.aoc=function(x,R,T){if(T==null)return;R.mY=new aP(0,0,x.m,x.e);
R.GR=T};D._x.yj=function(x,R){if(R.GR==null)return;D._x.oU(x,R.GR)};D._x.dW=function(x,R){if(R.GR==null)return;
var T=R.mY.clone();T.offset(-R.GR.x,-R.GR.y);D._x.oU(x,T)};D._x.prototype.a2i=function(x,R){var T=u.D.ok(R),c=u.D.VJ(T),g=u.D.nA(T),d=g.a4,U=g.rY,e=Math.atan2(g.J,g.Y);
g.rotate(e);var N=new aP(d,U,g.Y,g.jR);if(!c){function l(Q,z,b){var Z=Q[z]-Q[b],I=Q[z+1]-Q[b+1];return Math.sqrt(Z*Z+I*I)}var J=l(R,0,2),w=l(R,4,6),s=Math.max(J,w),o=l(R,2,4),V=l(R,6,0),a=Math.max(o,V),O=D._x.rc(R,x.m/2,x.e/2),S,L;
if(isNaN(O)||O==Infinity||O==-Infinity||Math.min(O,1/O)<.1)O=(J+w)/(o+V);if(s/a>O){S=s*1;L=S/O}else{L=a*1;
S=L*O}N.m=S;N.e=L}N.x=Math.round(N.x);N.y=Math.round(N.y);N.m=Math.round(N.m);N.e=Math.round(N.e);return N};
D._x.rc=function(x,R,T){var c=x[0]-R,g=x[1]-T,d=x[2]-R,U=x[3]-T,e=x[6]-R,N=x[7]-T,l=x[4]-R,J=x[5]-T,w=((g-J)*e-(c-l)*N+c*J-g*l)/((U-J)*e-(d-l)*N+d*J-U*l),s=((g-J)*d-(c-l)*U+c*J-g*l)/((N-J)*d-(e-l)*U+e*J-N*l),o=-((s*N-g)*(w*U-g)+(s*e-c)*(w*d-c))/((s-1)*(w-1));
function V(O){return O*O}var a=Math.sqrt((V(w-1)+V(w*U-g)/o+V(w*d-c)/o)/(V(s-1)+V(s*N-g)/o+V(s*e-c)/o));
if(w==1&&s==1)a=Math.sqrt((V(U-g)+V(d-c))/(V(N-g)+V(e-c)));return a};D._x.prototype.CA=function(x,R,T,c){if(x==null)return;
if(this.yl)this.yl.clear(x);this.yl=null;this.nj(R,v.E.P,{d:v.H.Pn,f:this.id,N3:!1})};D._x.prototype.disable=function(x,R,T,c){if(this.yl)this.q5(x,T);
this.CA(x,R,T,c)};D._x.prototype.nj=function(x,R,T,c){var g=new aA(R,!0);g.data=T;if(c)g.f=c;x.c(g)};
D.afM=function(){D._x.call(this,[10,2],D.EA,"tools/rcrop")};D.afM.prototype=new D._x;D.awd=function(){D._x.call(this,[10,39],D.jk,"tools/pcrop")};
D.awd.prototype=new D._x;D.rZ=function(){D.AN.call(this,[10,21],D.hC,"tools/dodge");this.Sb="dodge"};
D.rZ.prototype=new D.AN;D.rZ.prototype.fz=function(x,R,T,c,g){this.wE(x,T,c,g,this.Ss.expo/Math.PI);
if(this.pi==null)return;this.X1(x)};D.rZ.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);if(this.$W)this.SZ(x,T,g);
if(this.pi==null)return;if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D.tb=function(){D.AN.call(this,[10,3],D.Of,"tools/eraser");
this.Sb="erase"};D.tb.prototype=new D.AN;D.tb.prototype.fz=function(x,R,T,c,g){this.wE(x,T,c,g,this.Ss.flow);
if(this.pi==null)return;this.X1(x)};D.tb.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);if(this.$W)this.SZ(x,T,g);
if(this.pi==null)return;if(!g.Kk)return;var d=this.g3(x,T,c,g);this.X1(x)};D.bG=function(){D.AN.call(this,[10,45],D.dy,"tools/beraser");
this.Sb="ierase"};D.bG.prototype=new D.AN;D.bG.prototype.fz=function(x,R,T,c,g){if(this.ZF(c,R,g))return;
this.wE(x,T,c,g,this.Ss.flow);if(this.pi==null)return;this.X1(x)};D.bG.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);
if(this.$W)this.SZ(x,T,g);if(this.pi==null)return;if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D.vH=function(){D.Fs.call(this,[10,15],D.a$,"tools/rselect");
this.xx="crosshair"};D.vH.prototype=new D.Fs;D.vH.prototype.Dg=function(x,R,T,c){if(!c.Kk||!this.Jg)return;
var g=this.zC(x,T,!0);x.N.Xp=u.M.$x(g);x.Sa=!0;D.Gj.sE(c,g,x,R)};D.vH.prototype.ho=function(x,R,T,c){x.N.Xp=null;
x.N.gp=[];x.Sa=!0;this.finish(x,R,T,c)};D.vH.prototype.getSelection=function(x,R,T,c){if(this.vd.X$(this.ni)||!this.Jg)return null;
var g=this.zC(x,T,!0);if(g.Y3())return null;return D.Fs.HX("Rctn",g,this.Ss.anta)};D.jC=function(){D.Fs.call(this,[10,4],D.alU,"tools/eselect");
this.xx="crosshair"};D.jC.prototype=new D.Fs;D.jC.prototype.Dg=function(x,R,T,c){if(!c.Kk||!this.Jg)return;
var g=this.zC(x,T);x.N.Xp=D.jC.a33(g);x.Sa=!0;D.Gj.sE(c,g,x,R)};D.jC.prototype.ho=function(x,R,T,c){x.N.Xp=null;
x.N.gp=[];x.Sa=!0;this.finish(x,R,T,c)};D.jC.prototype.getSelection=function(x,R,T,c){if(this.vd.X$(this.ni)||!this.Jg)return null;
var g=this.zC(x,T);if(!g.fg(new aP(0,0,x.m,x.e)))return null;return D.Fs.HX("Elps",g,this.Ss.anta)};
D.jC.a33=function(x){var R=x.x,T=x.y,c=x.x+x.m,g=x.y+x.e,d=(R+c)/2,U=(T+g)/2,e=(R-c)/2,N=(T-g)/2,l=.5522848,J={z:[d,U-N],G:["M","C","C","C","C"]};
J.z.push(d+l*e,U-N,d+e,U-l*N,d+e,U);J.z.push(d+e,U+l*N,d+l*e,U+N,d,U+N);J.z.push(d-l*e,U+N,d-e,U+l*N,d-e,U);
J.z.push(d-e,U-l*N,d-l*e,U-N,d,U-N);return J};D.Yf=function(x){D.Gj.call(this,[10,5],x?D.$r:D.vK,"tools/eyedropper");
this.NP=null;this.Ia=0;this.vt=null;this.aR=1;this.uC=2;this.ash=!0;this.RY=!1};D.Yf.prototype=new D.Gj;
D.Yf.prototype.zc=function(x){return x.Kk};D.Yf.prototype.gb=function(x,R,T,c,g){if(x.d=="pickhere")this.jx(T,R,g,null,x.aj6);
if(x.d=="supertool")this.NP=x.f};D.Yf.prototype.fz=function(x,R,T,c,g){var d=this.NP;if(d){d.fz(x,R,T,c,g);
return}this.Ia=T.gR;this.vt=g;var U=this.jx(x,null,T,c,g);this.Ny(x,R,U,g)};D.Yf.prototype.gQ=function(x,R,T,c,g){var d=this.NP;
if(d){d.gQ(x,R,T,c,g);return}var U=this.vt;if(U){var e=g.x-U.x,N=g.y-U.y,l=1,J=new cI(U.x+e*l,U.y+N*l),w=this.jx(x,null,T,c,J);
this.Ny(x,R,w,J,new cI(e*(1-l),N*(1-l)))}};D.Yf.prototype.Ny=function(x,R,T,c,g){var d=this.ash,U=this.RY,l=12,J=11;
if(x.Q.O>4)U=!1;if(!U&&!d)return;if(g==null)g=new cI(0,0);var e=new aP(0,0,x.m,x.e),N=x.Yr(),w=(l*2+1)*J,s=new cI(w/2,w/2),o=new aP(0,0,w,w),V=u.B(o.Z()*4),a=x.Q.nU(c.x,c.y),O=Math.floor(a.x),S=Math.floor(a.y),L=new gP;
L.scale(1/J,1/J);L.translate(O-l,S-l);if(U)u.scale.amO(N,e,L,V,o);var Q=(l-3.4)*J,b=(l-1.7)*J,Z=l*J;
for(var I=0;I<w;I++)for(var y=0;y<w;y++){var r=cI.rE(new cI(y,I),s);if(r>Q){if(d){var h=Math.max(0,Q-r+1),k=(I*w+y)*4,K=V[k+3]<<24|V[k]<<16|V[k+1]<<8|V[k+2],H=255<<24|(I<Z+J*.5?T:this.Ia);
if(r>b){h=Math.max(0,b-r+1);K=H;H=4286611584}else if(!U){K=H&16777215}V[k+0]=(1-h)*(H>>>16&255)+h*(K>>>16&255);
V[k+1]=(1-h)*(H>>>8&255)+h*(K>>>8&255);V[k+2]=(1-h)*(H>>>0&255)+h*(K>>>0&255);V[k+3]=(1-h)*(H>>>24&255)+h*(K>>>24&255)}if(r>Z){V[(I*w+y)*4+3]=Math.max(0,255*(Z-r+1))}}}function p(z){var iE=z<<2;
V[iE]=0;V[iE+1]=0;V[iE+2]=0;V[iE+3]=255}function f(z){var iE=z<<2;V[iE]=255;V[iE+1]=255;V[iE+2]=255;
V[iE+3]=255}var A=this.aR*J+2,_=w-A>>>1,W=_+A-1;if(U&&A<w)for(var z=0;z<A;z++){var Y=_*w+_+z,G=W*w+_+z,i=(_+z)*w+_,E=(_+z)*w+W;
p(Y);p(G);p(i);p(E);if(z!=0&&z!=A-1){f(Y+w);f(G-w);f(i+1);f(E-1)}}if(!U)for(var z=-9;z<=9;z++){if(-3<z&&z<3)continue;
var $=w>>>1,y=$*w+$+z,I=($+z)*w+$;f(y-w);p(y);f(y+w);f(I-1);p(I);f(I+1)}var C=T>>>16&255,B=T>>>8&255,M=T>>>0&255,j="RGB "+C+","+B+","+M,P=u.Sj([C/255,B/255,M/255]);
if(x.add.fcmy)j="CMYK "+P.map(function(iE){return Math.round(iE*100)}).join(",");var t=D.Gj.XS(0,0,["#"+u.TN(T),j]),e=t[1];
e.y=0;e.x=w-e.m>>>1;u.yU(t[0],e,V,o);var q={fR:V,v4:o,FV:new cI(s.x+g.x,s.y+g.y)},m=new aA(v.E.P,!0);
m.data={d:v.H.pm,ze:q};R.c(m)};D.Yf.prototype.rR=function(x,R,T,c,g,d){var U=this.NP;if(U){U.rR(x,R,T,c,g);
return}this.jx(x,R,T,c,g);if(this.vt){this.vt=null;if(d)this.jx(x,R,T,c,g,this.Ia);var e=new aA(v.E.P,!0);
e.data={d:v.H.pm,ze:"default"};R.c(e)}};D.Yf.prototype.jx=function(x,R,T,c,g,d){if(d==null)d=D.Yf.Oa(x,g,this.aR,this.uC);
var U=new aA(v.E.P);U.data={d:v.H.pV,vr:hc.Js,J2:c&&c.S(fZ.ng)?1:0,b:d};if(R)R.c(U);return d};D.Yf.Oa=function(x,R,T,c,g){if(c==null)c=2;
var d=x.Q.nU(R.x,R.y),U,e,N=x.g.length==1&&x.R[x.g[0]].s4>0&&g!=!0,l=x.nE.length!=0,Z=0,I=0,y=0;if(N||l){var J;
if(l)J=x.Hp[x.nE[0]];else{var w=x.R[x.g[0]];J=w.s4==1?w.le():w.a4E()}e=J.zC();if(!e.mD(d))return J.color==0?0:16777215;
U=u.B(e.Z()*4);U.fill(255);var s=J.Xw();u.Oj(s,U)}else if(c==0&&x.g.length!=0){var w=x.R[x.g[0]];U=w.buffer;
e=w.rect}else{U=c==2?x.Yr():x.Yr(x.g[0]);e=new aP(0,0,x.m,x.e)}var o=Math.floor(d.x)-e.x,V=Math.floor(d.y)-e.y,a=(T-1)/2,O=Math.max(0,o-a),S=Math.max(0,V-a),L=Math.min(e.m,o+a+1),Q=Math.min(e.e,V+a+1),b=(L-O)*(Q-S);
for(var o=O;o<L;o++)for(var V=S;V<Q;V++){var z=4*(V*e.m+o);Z+=U[z];I+=U[z+1];y+=U[z+2]}Z=Math.round(Z/b);
I=Math.round(I/b);y=Math.round(y/b);return Z<<16|I<<8|y};D.Yf.prototype.B7=function(x){var R=x.Ss;this.aR=[1,3,5,11,31][R[0]];
this.uC=R[1];this.ash=R[2];this.RY=R[3]};D.Xg=function(){D.Gj.call(this,[10,6],D.Zh,"tools/gradient");
this.Ss={I:JSON.parse(fJ.hN.aC5).v,U1:"Lnr",U6:!1,Hg:!1,a1v:"norm",_v:1};this.Za=!1;this.D7=null};D.Xg.prototype=new D.Gj;
D.Xg.prototype.enable=function(x,R,T,c){var g=new aA(v.E.P,!0);g.data={d:v.H.pm,ze:"default"};R.c(g)};
D.Xg.prototype.B7=function(x){this.Ss=x.vr};D.Xg.prototype.fz=function(x,R,T,c,g){if(!x.nD())return;
this.D7=x.Q.nU(g.x,g.y);this.D7=D.K$.zE(x,this.D7,T);this.Za=!0};D.Xg.prototype.gQ=function(x,R,T,c,g){if(!this.Za)return;
var d=x.Q.nU(g.x,g.y);d=D.K$.zE(x,d,T);if(c.S(fZ.xg))d=D.Xg.i8(this.D7,d);x.N.Xp={z:[this.D7.x,this.D7.y,d.x,d.y],G:["M","L"]};
x.N.rb=[this.D7.x,this.D7.y,d.x,d.y];x.Sa=!0};D.Xg.prototype.rR=function(x,R,T,c,g){if(!this.Za)return;
var d=x.R[x.g[0]],U=x.Q.nU(g.x,g.y);U=D.K$.zE(x,U,T);if(c.S(fZ.xg))U=D.Xg.i8(this.D7,U);var e=U.KV(this.D7),N=cI.BN(this.D7,U,.5),l=Math.atan2(e.y,e.x),J=cI.rE(this.D7,U),w=Math.sin(l),s=Math.cos(l);
if(J>2){var o;if(x.u)o=x.u.rect;else o=new aP(0,0,x.m,x.e);var V=u.B(o.Z()*4),a=this.Ss,O=a.U1;if(O!="Lnr"){J*=2;
N=this.D7}u.I.lq(a.I,V,o,[s*1/J,w*1/J,-w*1/J,s*1/J],N.x,N.y,a.U6,fJ.I.types.indexOf(O),T.gR,T.tn,null,a.Hg);
var S=Math.round(a._v*256),L=V.length;if(S!=256)for(var z=0;z<L;z+=4)V[z+3]=V[z+3]*S>>>8;var Q=new aA(v.E.v);
Q.f=D.Of;Q.data={d:"fillBMP",XC:V,wN:a.a1v,hK:this.name};R.c(Q)}x.N.Xp=null;x.N.rb=[];x.Sa=!0;this.Za=!1};
D.Xg.prototype.gb=function(x,R,T,c,g){function d(s){s=s.v;var o=s.Hrzn.v.val,V=s.Vrtc.v.val;return T.Q.YP(o,V)}if(x.d=="fromAction"){var U=this.Ss,e=this.Ss={};
for(var N in U)e[N]=U[N];var l=x.J9.M1;if(l.Opct)e._v=l.Opct.v.val/100;if(l.Dthr)e.Hg=l.Dthr.v;if(l.Grad)e.I=l.Grad.v;
if(l.Type)e.U1=l.Type.v.GrdT;var J=d(l.From),w=d(l.T);this.fz(T,R,g,c,J);this.rR(T,R,g,c,w);this.Ss=U}};
D.Xg.i8=function(x,R){if(x.X$(R))return x;var T=R.x-x.x,c=R.y-x.y,g=Math.abs(T),d=Math.abs(c);if(g>d)d=g/2>d?0:g;
if(d>g)g=d/2>g?0:d;g=T>0?g:-g;d=c>0?d:-d;var U=Math.sqrt(T*T+c*c)/Math.sqrt(g*g+d*d);return new cI(x.x+g*U,x.y+d*U)};
D.Xg.N4=function(x,R,T,c,g,d,U){var e=new aP(0,0,R,T),N=u.B(R*T*4);u.P8(N,R,T,4);var l=Math.sin(c),J=Math.cos(c),w=u.B(R*T*4);
u.I.lq(x,w,e,[J*1/R,l*1/R,-l*1/T,J*1/T],R/2,T/2,!1,0,g,d);u.l.Hy("norm",w,e,N,e,e,1);if(U)return new ImageData(new Uint8ClampedArray(N.buffer),R,T);
else return dp.DZ(N.buffer,R,T,null,null,!0)};D.Xg.a8J=function(x,R,T){var c=JSON.parse(JSON.stringify(x));
if(c.Clrs)for(var z=0;z<c.Clrs.v.length;z++){var g=c.Clrs.v[z].v,d=g.Type.v.Clry;if(d=="UsrS")continue;
var U=d=="FrgC"?R:T;g.Type.v.Clry="UsrS";g.Clr={t:"Objc",v:u.I.SE({o:U>>16&255,A:U>>8&255,J:U&255})}}return c};
D.G7=function(){D.Gj.call(this,[10,7],D.jw,"tools/hand");this.Ns=!1;this.vt=new cI(0,0);this.Y0=null;
this.rB=0};D.G7.prototype=new D.Gj;D.G7.prototype.B7=function(x,R,T,c){this.Ns=x.Ns};D.G7.prototype.gb=function(x,R,T,c,g){var d=x.d;
if(d=="setcls"){T.Q.U=x.U;T.Sa=!0;T.Sg=!0}if(d=="scroll"&&!c.S(fZ.ng)){if(c.S(fZ.Gc))D.G7.QV(T,T.Q.w.x-x.Ox.y,T.Q.w.y-x.Ox.x);
else D.G7.QV(T,T.Q.w.x-x.Ox.x,T.Q.w.y-x.Ox.y)}};D.G7.prototype.enable=function(x,R,T,c){this.Y0=null;
var g=new aA(v.E.P,!0);g.data={d:v.H.pm,ze:"grab"};R.c(g);if(x&&Date.now()-this.rB<300){g.type=v.E.v;
g.f=D.p3;g.data={d:"adapt",b:"fitscr"};R.c(g)}this.rB=Date.now()};D.G7.prototype.fz=function(x,R,T,c,g){this.Y0=x.Q.w.clone();
this.vt.LR(g.x,g.y)};D.G7.prototype.gQ=function(x,R,T,c,g){if(!g.Kk)return;if(this.Y0==null)this.fz(x,R,T,c,g);
var d=this.Ns?R.JQ:[x];for(var z=0;z<d.length;z++)D.G7.QV(d[z],this.Y0.x+(g.x-this.vt.x),this.Y0.y+(g.y-this.vt.y))};
D.G7.prototype.rR=function(x,R,T,c,g){this.Y0=null};D.G7.QV=function(x,R,T){var c=x.Q.O,g=x.Q.dz,d=g.m,U=g.e,e=x.m*c,N=x.e*c,l=e<d&&N<U,J=d/2+e/2-64,w=U/2+N/2-64;
x.Q.w.LR(Math.max(-J,Math.min(J,R)),Math.max(-w,Math.min(w,T)));x.Sg=!0};D.QX=function(){D.Gj.call(this,[10,47],D.Cd,"tools/rview");
this.vt=new cI(0,0);this.KL=null;this.O0=null;this.rB=0};D.QX.prototype=new D.Gj;D.QX.prototype.enable=function(x,R,T,c){this.Y0=null;
var g=new aA(v.E.P,!0);g.data={d:v.H.pm,ze:"grab"};R.c(g);if(x&&Date.now()-this.rB<300&&x.Q.Hh!=0){x.Q.Hh=0;
x.Sa=!0}this.rB=Date.now();if(x)this.ns(x,R)};D.QX.prototype.disable=function(x,R,T,c,g){if(x)this.ns(x,R)};
D.QX.prototype.it=function(x,R,T,c){if(x)this.ns(x,R)};D.QX.prototype.fz=function(x,R,T,c,g){this.vt.LR(g.x,g.y);
var d=x.Q;this.KL=d.nU(d.dz.m/2,d.dz.e/2);this.O0=d.ly();var U=d.nU(d.dz.m/2,d.dz.e/2),e=Math.min(d.dz.m,d.dz.e)*.35/d.O,N=e*.2,l=U.x,J=U.y;
x.N.Xp={G:"M L L L L L".split(" "),z:[l,J,l,J-e,l+N,J,l,J+e,l-N,J,l,J-e]};x.Sa=!0};D.QX.prototype.a5x=function(x){var R=x.Q,T=R.nU(R.dz.m/2,R.dz.e/2);
x.N.Xp={G:["M","L"],z:[T.x,T.y,T.x,T.y-200]}};D.QX.prototype.gQ=function(x,R,T,c,g){if(!g.Kk)return;
var d=x.Q,U=this.KL,e=this.vt,N=new cI(d.dz.m/2,d.dz.e/2),l=Math.atan2(g.y-N.y,g.x-N.x),J=Math.atan2(e.y-N.y,e.x-N.x),w=Math.atan2(this.O0.J,this.O0.Y),s=l-J,o=Math.PI/4;
if(c.S(fZ.xg)){s=w+o*Math.round((s-w)/o)}this.ael(x,R,this.O0.clone(),U,s)};D.QX.prototype.rR=function(x,R,T,c,g){x.N.Xp=null;
x.Sa=!0};D.QX.prototype.B7=function(x,R,T,c){this.ael(T,R,null,null,x.nv-T.Q.Hh);T.Q.Hh=x.nv};D.QX.prototype.ael=function(x,R,T,c,g){var d=x.Q;
if(T==null)T=d.ly();if(c==null)c=d.nU(d.dz.m/2,d.dz.e/2);T.translate(-c.x,-c.y);T.rotate(g);T.translate(c.x,c.y);
d.a5a(T);if(x.m*d.O<d.dz.m&&x.e*d.O<d.dz.e)d.w.LR(0,0);x.Sa=!0;this.ns(x,R)};D.QX.prototype.ns=function(x,R){var T=new aA(v.E.P,!0);
T.data={d:v.H.Pn,f:this.id,nv:x.Q.Hh};R.c(T)};D.LL=function(){D.Cm.call(this,[10,25],D.T0,"tools/hbrush")};
D.LL.prototype=new D.Cm("");D.LL.prototype.rR=function(x,R,T,c,g){if(this.pi==null)return;this.f7(x,"heal",this.pi.Gr(),this.pi.zC(),this.pi.F_());
this.W(x,this.pi.F_());D.AN.prototype.rR.call(this,x,R,T,c,g);if(!this.Ss.algnd)this.w=null};D.nq=function(x){D.Gj.call(this,x?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],x?D.g_:D.kY,x?"tools/vtype":"tools/htype");
this.E6=[];this.im=null;this.caller=null;this.tD=1;this.cR=null;this.avO=0;this.Fr=0;this.asq=null;this.qp=null;
this.uR=null;this.Dq=null;this.ww=null;this.UR=null;this.aic=null;this.RT=null;this.yl=null;this.VW=null;
this.ap3=null;this.vg=!1;this.xR=!1;this.Ci=!1;this._o=null;this.aL=null;this.a0c=null;this.mF=!1;this.gy=!1;
this.OS=-1;this.K4=-1;this.pQ=document.createElement("textarea");this.pQ.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.pQ.addEventListener("input",this.$J.bind(this),!1);this.pQ.addEventListener("keydown",this.agD.bind(this),!1);
this.pQ.addEventListener("keyup",this.a2V.bind(this),!1)};D.nq.prototype=new D.Gj;D.nq.prototype.zc=function(x){return x.Kk};
D.nq.prototype.Lm=function(x,R,T,c){if(this.uR!=null||this.id==D.g_)return;this.caller=R;var g=this.aw8(x);
if(g.length!=0){var d=null,U=[],e=[];for(var z=0;z<g.length;z++){var N=x.R[g[z]],l=N.add.TySh,J=0,w=bL.rl(l.pM).length-2,s=bL.ge(l.pM,J,w);
bL.lu(s,l.i.Rt());if(s.Ba.Font!=null)s.Ba.Font=s.uY[s.Ba.Font].Name;d=s.uY;U.push(s.Ba);e.push(s.qi)}var s={uY:d,Ba:bL.Kq(U),qi:bL.Kq(e)};
if(s.Ba.Font!=null)bL.EF(s,s.Ba.Font);this.amA(R,s,l)}};D.nq.prototype.aw8=function(x){var R=[];for(var z=0;
z<x.g.length;z++)if(x.R[x.g[z]]&&x.R[x.g[z]].add.TySh)R.push(x.g[z]);return R};D.nq.prototype.gb=function(x,R,T,c,g){var d=x.d=="insertGlyph",U=x.d=="copyText",e=x.d=="selectAll";
if((d||U||x.d=="insertText"||e)&&this.uR){var N=d?String.fromCharCode(65533):x.b,l=this.pQ,J=l.value,w=l.selectionStart,s=l.selectionEnd;
if(U){hG.wZ(new Blob([J.slice(w,s)],{type:"text/plain"}))}else if(e){this.OS=l.selectionStart=0;this.K4=l.selectionEnd=J.length;
this.UC(T);l.focus()}else{l.value=J.slice(0,w)+N+J.slice(s);l.selectionStart=l.selectionEnd=w+N.length;
this.$J(null,d?x.b:null);l.focus()}}if(x.d=="updateStyles"){if(this.uR==null){var o=this.aw8(T),V=!1;
if(o.length!=0){this.MO(T,R,g,o);for(var z=0;z<o.length;z++){var a=T.R[o[z]],O=a.add.TySh;bL.hv(O,this.tD);
this.uR=a;var S=bL.rl(O.pM);this.OS=0;this.K4=S.length-1;bL.T3(O.pM,this.OS,this.K4,this.hm(g,O));var L=this.H9(T,g);
if(L==!1)V=!0}if(V){this.mF=!0;return}this.ib(T,R,!0)}return}this.lO(g)}if(x.d.startsWith("warp")){var Q=this.gy;
if(x.d=="warp"||x.d=="warpCancel"){if(this.uR==null)return;if(x.d=="warp")this.uR.add.TySh.aS=x.zb;else this.uR.add.TySh.aS=this.aic;
this.H9(T,g);if(!Q)this.UC(T)}if(x.d!="warp")this.pQ.focus();if((x.d=="warpConfirm"||x.d=="warpCancel")&&Q){this.gy=!1;
if(x.d=="warpConfirm")this.ib(T,R);else this.Ri(T,R)}}if(x.d=="editCurr"){if(g.lf!=D.kY){this.cR=g.lf;
var b=new aA(v.E.P,!0);b.data={d:v.H.di,f:D.kY};R.c(b)}if(this.uR!=null)this.disable(T,R,g,c);this.im=g;
this.caller=R;this.MO(T,R,g,[x._J]);var S=bL.rl(this.uR.add.TySh.pM);this.OS=0;this.K4=S.length-1;this.UC(T);
this.Fl();this.pQ.focus()}if(x.d=="switchPntPrgr"){if(this.uR)return;var a=T.R[T.g[0]],O=a.add.TySh,Z=O.i.Rt(),I=a.SW(),y=JSON.parse(JSON.stringify(O.pM)),r=bL.hl(y),h=r==1?bL.jJ(y):[0,0,Math.round(I.m*1.05/Z),Math.round(I.e*1.25/Z)],k=bL.ge(y,0,0),K=k.uY[k.Ba.Font].Name,H=g.dA.WG(K),p=[0,h[2],h[2]/2][k.qi.Justification%3],f=(H?aU.Em(H):.8)*k.Ba.FontSize;
bL.vo(y,1-r);if(r==0){console.log(aU.Em(H,K,k.Ba));p=-p;f=-f;bL.RO(y,[0,0,h[2],h[3]])}var A=new gP(1,0,0,1,p,f);
A.concat(O.i);this.gb({Z_:T.g[0],d:"newED",mN:y,i:A,as3:[16,3,r==1?0:1]},R,T,c,g)}if(x.d=="newED"){var a=T.R[x.Z_],O=a.add.TySh,_=this.i2(T,[x.Z_]);
O.pM=x.mN;if(x.i)O.i=x.i;if(cQ.A$(O,g.dA,R)){cQ.H9(a,g.dA,T);T.W()}else T.cF=!0;var W=new ka(x.as3?x.as3:this.name,this);
W.data={Gv:_,Y8:this.i2(T,[x.Z_])};T.XY(W)}if(x.d=="fromAction"){var Y=x.J9.M1.Usng.v,G=Y.TxtC.v,i=[];
for(var z=0;z<2;z++){var E=G[z==0?"Hrzn":"Vrtc"].v,N=E.val;if(E.type=="#Prc")N=(z==0?T.m:T.e)*(N/100);
i[z]=N}this.B1(T,R,g,c,T.Q.YP(i[0],i[1]),!0);var a=T.R[T.g[0]],O=a.add.TySh,$=O.pM,J=bL.rl($);bL.On($,0,J.length-1);
bL.nw($,0,Y.Txt.v.replace(/\r/g,"\n"));J=bL.rl($);for(var r=0;r<2;r++){var C=Y[r==0?"Txtt":"paragraphStyleRange"].v;
for(var z=0;z<C.length;z++){var B=C[z].v,w=B.From.v,s=Math.min(B.T.v-1,J.length-1);B=B[r==0?"TxtS":"paragraphStyle"].v;
var M=bL.ge($,w,s),j=r==0?M.Ba:M.qi;for(var P in B){var t=B[P].v;if(P=="Sz")j.FontSize=Math.round(t.val*(t.type=="#Pnt"?T.De/72:1));
else if(P=="fontPostScriptName")bL.EF(M,t);else if(P=="Algn")j.Justification={Left:1,Cntr:2}[t.Alg];
else if(P=="leading")j.Leading=B[P].v.val;else if(P=="baselineShift")j.BaselineShift=B[P].v.val;else if(P=="autoLeading")j.AutoLeading=B[P].v;
else if(P=="syntheticBold")j.FauxBold=B[P].v;else if(P=="syntheticItalic")j.FauxItalic=B[P].v;else if(P=="Trck")j.Tracking=B[P].v;
else if(P=="verticalScale")j.VerticalScale=B[P].v/100;else if(P=="horizontalScale")j.HorizontalScale=B[P].v/100;
else if(P=="Clr")j.FillColor={Type:1,Values:[1,t.Rd.v/255,t.Grn.v/255,t.Bl.v/255]}}bL.T3($,w,s,M)}}if(cQ.fG(T,g.dA,R))cQ.H9(a,g.dA,T);
else T.cF=!0;T.W();this.ib(T,R)}};D.nq.prototype.lO=function(x){var R=Math.min(this.OS,this.K4),T=Math.max(this.OS,this.K4),c=this.uR.add.TySh;
bL.hv(c,this.tD);var g=this.hm(x,c);bL.T3(c.pM,R,T-1,g);var d=this.caller.cC(),U=this.H9(d,x);if(U)this.UC(d);
if(document.activeElement.tagName.toLowerCase()!="input")this.pQ.focus()};D.nq.prototype.WX=function(x){return this.E6.indexOf(x)!=-1};
D.nq.prototype.enable=function(x,R,T,c){var g=this.pQ;R.n.appendChild(g);this.RT="default";this.Ny(R)};
D.nq.prototype.Vd=function(){return this.uR!=null};D.nq.fb=function(x,R){var T=new cI(R.x,R.y);for(var z=x.R.length-1;
z>=0;z--){var c=x.R[z],g=c.add.TySh;if(g&&x.ado(z)){var d=T,U=c.rect;if(b5==1){var e=g.i.clone();e.F0();
d=e.Wk(T);U=c.um.Q4}if(!U.mD(d))continue;var N=c.ad(31);return N?-2:z}}return-1};D.nq.prototype.fz=function(x,R,T,c,g){this.im=T;
this.caller=R;var d=x.Q.nU(g.x,g.y),U=this.uR==null;if(U){var e=D.nq.fb(x,d);if(e==-2){alert(go.get([6,57,0]));
return}if(e>=0&&!c.S(fZ.xg)){if(!cQ.A$(x.R[e].add.TySh,T.dA,R)){alert("Fonts not loaded yet");return}this.MO(x,R,T,[e])}else{this.Ci=!0;
this._o=g;return}}var N=U?-1:bL.hl(this.uR.add.TySh.pM),l=this.VW?this.VW:this.yl,J=l&&l.fz(x,T,c,d,null,null,g)&&u.zb.rJ(this.uR.add.TySh.aS),w=!U&&u.M.abk(d,this.uR.SW())>20/x.Q.O&&(N==0||N==1);
if(J||w){this.vg=!0;this.aL=d;this.a0c=this.uR.add.TySh.i.clone();if(this.OS==-1&&this.K4==-1)this.OS=this.K4=this.Kp(d)}else{if(this.ww==null){alert("Fonts not loaded yet");
return}this.xR=!0;this.OS=this.K4=this.Kp(d);var s=Date.now();if(s-this.avO>300)this.Fr=0;this.Fr++;
this.avO=s;if(this.Fr==2)this.an2();if(this.Fr==3)this.adG();if(this.Fr>1){this.xR=!1}}this.Fl();this.UC(x)};
D.nq.prototype.MO=function(x,R,T,c){var g=x.R[c[0]];this.uR=g;this.nj(R,v.E.P,{d:v.H.Pn,f:this.id,Mr:"showactive"});
this.Dq=c;x.g=c.slice(0);x.NB();x.OW=!0;this.UR=this.i2(x,c);this.ES(g.add.TySh);this.H9(x,T)};D.nq.prototype.ES=function(x){if(bL.hl(x.pM)!=1)return;
var R=bL.jJ(x.pM);R=new aP(0,0,R[2]-R[0],R[3]-R[1]);var T=[R.x,R.y,R.x+R.m,R.y,R.x+R.m,R.y+R.e,R.x,R.y+R.e];
u.M.i(T,x.i,T);this.yl=new jS(T,!1,!1,!1,!0);this.yl.M0(0)};D.nq.prototype.an2=function(){var x=bL.rl(this.uR.add.TySh.pM);
this.OS=this.apB(x,this.OS);this.K4=this.aza(x,this.OS)};D.nq.prototype.apB=function(x,R){var T=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",c=[];
for(var z=0;z<T.length;z++)c.push(T.charAt(z));var g=c.indexOf(x[R])==-1?!0:!1;for(var z=R-1;z>=0;z--)if(c.indexOf(x.charAt(z))!=-1==g)return z+1;
return 0};D.nq.prototype.aza=function(x,R){var T=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",c=[];for(var z=0;
z<T.length;z++)c.push(T.charAt(z));var g=c.indexOf(x[R])==-1?!0:!1;for(var z=R+1;z<x.length;z++)if(c.indexOf(x.charAt(z))!=-1==g)return z;
return x.length-1};D.nq.prototype.adG=function(){var x=this.ww.a7A(this.OS);this.OS=x[0];this.K4=x[1]};
D.nq.prototype.Ny=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.pm,ze:this.RT};x.c(R)};D.nq.prototype.gQ=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y),U=this.uR;
if(!g.Kk){var e="default",N=this.yl,l=this.VW?this.VW:N;if(l&&u.zb.rJ(U.add.TySh.aS)){var J=l.LG(d,x.Q.O,null,g);
if(J)e=J;else if(l==N&&N.w6(d))e="text"}else if(U&&u.M.abk(d,U.SW())>20/x.Q.O)e="move";else if(D.nq.fb(x,d)>=0)e="text";
if(e!=this.RT){this.RT=e;this.Ny(R)}}var w=this._o;if(this.Ci&&Math.min(g.x-w.x,g.y-w.y)>4/x.Q.O){this.Ci=!1;
this.B1(x,R,T,c,g);U=this.uR;this.vg=!0;this.yl=new jS(null,!1,!1,!1,!0);this.yl.M0(0);var s=x.Q.nU(this._o.x,this._o.y);
s.x=Math.round(s.x);s.y=Math.round(s.y);this.yl.fz(x,T,c,s,null,null,g,x.Q.Hh)}if(this.vg){var o=U.add.TySh;
if(this.VW){this.VW.gQ(x,T,c,d);var V=u.D.nA(u.D.ok(this.VW.Mu(),this.ap3));o.i=V;this.H9(x,T);bL.jT(o)}else if(this.yl){this.yl.gQ(x,T,c,d);
var a=o.i.clone(),O=Math.atan2(a.J,a.Y);a.rotate(O);var V=u.D.nA(u.D.ok(this.yl.Mu())),S=Math.atan2(V.J,V.Y);
V.rotate(S);if(!isNaN(V.Y)&&V.Y*V.jR-V.J*V.zI!=0){var L=new aP(0,0,V.Y/a.Y,V.jR/a.jR),Q=Math.round(L.m),b=Math.round(L.e),Z=o.pM.Curve;
if(Z){var I=bL.jJ(o.pM),y=new gP(Q/I[2],0,0,b/I[3],0,0);u.M.i(Z.Points,y,Z.Points);bL.jT(o)}bL.RO(o.pM,[0,0,Q,b]);
o.i=u.D.nA(u.D.ok(this.yl.Mu(),L));this.H9(x,T);bL.jT(o)}}else{var r=d.x-this.aL.x,h=d.y-this.aL.y;o.i=this.a0c.clone();
var k=new cI(o.i.a4+r,o.i.rY+h);k=D.K$.zE(x,k,T);o.i.a4=k.x;o.i.rY=k.y;this.H9(x,T)}}if(this.xR)this.K4=this.Kp(d);
if(this.vg||this.xR)this.UC(x)};D.nq.prototype.B1=function(x,R,T,c,g,d){var U=x.JR(),e=U[0],N=U[1],l=x.CH();
l.add.lnsr="rend";var J=x.R.slice(0);l.Je("Text layer "+J.length);this.uR=l;var w=x.g.length==0?x.R.length-1:x.g[x.g.length-1],s=w+1;
if(J[w].add.lsct==ew.bZ)s--;this.UR={LW:J.slice(0),ua:x.g.slice(0)};J.splice(s,0,l);x.g=[s];this.OS=this.K4=0;
x.I2(J);this.UR.jI=J.slice(0);this.UR.SG=x.g.slice(0);this.nj(R,v.E.P,{d:v.H.Pn,f:this.id,Mr:"showactive"});
var o=x.Q.nU(g.x,g.y),V=T.iT;console.log(V);if(this.id==D.g_){V=JSON.parse(JSON.stringify(V));V.Ba.BaselineDirection=1}l.add.TySh=bL.Zk(o.x,o.y,V,x.Q.Hh);
var a=l.add.TySh,O=a.pM;if(this.id==D.g_)O._LineOrientation=2;bL.hv(a,this.tD);if(g.Kk)bL.vo(O,1);else{bL.vo(O,0);
var S=e[N.pop()],L=S?S.add.vmsk:null;if(d)L=null;if(L&&!c.S(fZ.xg)){L=L.clone();var Q=L.$,Z,I;for(var z=0;
z<Q.length;z++)if(Q[z].AC!=null)Q[z].AC=0;var b=5/x.Q.O;Z=u.j.Ua(L.$,o,!0,b);if(Z.iY==-1)Z=u.j.Ua(L.$,o);
if(Z.iY!=-1){bL.vo(O,1);var y=u.j.wn(Q,Z.iY),r=u.j.Ih(Q,Z.iY)-1;Q=L.$=Q.slice(0,2).concat(Q.slice(y,y+r+1));
L.g=[];a.add={vmsk:L,vogk:F.h5(Q)};O.Curve={};bL.Tr(a);if(Z.EL!=null){var h=aU.qc(O.Curve);u.M.i(h[0],a.i,h[0]);
var k=u.M.WL(h[0],o.x,o.y),K=T.iT.qi.Justification;if(K==2||K==5){var H=(h[2][k]+h[3]*.5)%h[3];k=aU.HB(H,h[2])}var p=h[1][k];
p=p%r;L.no=[p,p];bL.Tr(a)}else this.ES(a)}}}return l};D.nq.prototype.rR=function(x,R,T,c,g,d){if(d){this.Ci=!1;
return}if(this.uR==null&&!this.Ci)return;var U=x.Q.nU(g.x,g.y),e=this.Ci;if(this.Ci){this.Ci=!1;this.B1(x,R,T,c,g);
this.xR=!0}if(this.vg||this.xR){this.UC(x);this.Fl();if(e)this.lO(T)}if(this.vg&&this.yl)this.yl.rR(x,T,c,U);
this.vg=this.xR=!1;this.pQ.focus()};D.nq.prototype.Fl=function(){var x=this.uR.add.TySh,R=Math.min(this.OS,this.K4),T=Math.max(this.OS,this.K4),c,g;
if(R==T){var d=bL.rl(x.pM);if(R==0||d.charAt(R-1)=="\n")c=g=R;else c=g=R-1}else{c=R;g=T-1}var U=bL.ge(x.pM,c,g);
bL.lu(U,x.i.Rt());this.amA(this.caller,U,x)};D.nq.prototype.amA=function(x,R,T){this.nj(x,v.E.P,{d:v.H.pV,vr:hc.q3,iT:R});
var c=this.tD=bL.wK(T);this.nj(this.caller,v.E.P,{d:v.H.Pn,f:this.id,Mr:"changeAA",SN:c})};D.nq.prototype.A4=function(x,R,T,c,g){if(x==null)return;
var d=x.Q.nU(g.x,g.y),U=D.nq.fb(x,d);if(U==-1)return;var e=new aA(v.E.P,!0);e.data={d:v.H.Pn,f:this.id,Mr:"showpan",arC:this.uR!=null,_J:U,kW:g,Hv:x,im:T};
R.c(e)};D.nq.prototype.abt=function(){var x=this.uR;if(x&&!this.vg&&this.VW!=null){var R=this.caller.cC();
this.VW.rR(R,this.im,null,null);this.VW=null;this.ES(x.add.TySh);this.UC(R)}};D.nq.prototype.disable=function(x,R,T,c){var g=this.uR;
this.ib(x,R)};D.nq.prototype.B7=function(x,R,T,c,g){if(this.gy)return;if(x.Mr=="commit")this.ib(T,R);
if(x.Mr=="cancel")this.Ri(T,R);if(x.Mr=="changeAA"){this.tD=x.SN;if(T!=null)this.gb({d:"updateStyles"},R,T,c,g)}if(x.Mr=="showwarp"){if(T==null)return;
if(this.uR==null){var d=T.R[T.g[0]],U=d.add.TySh;if(U==null)return;this.MO(T,R,g,[T.g[0]]);this.pQ.focus();
this.gy=!0}this.aic=this.uR.add.TySh.aS;var e=new aA(v.E.P,!0);e.data={d:v.H.i$,$k:"textwarp"};R.c(e)}};
D.nq.prototype.L4=function(x,R){if(R!=hc.OH)return;if(this.mF){this.mF=!1;var T=this.caller.cC(),c=this.Dq;
for(var z=0;z<c.length;z++){this.uR=T.R[c[z]];this.H9(T,x)}this.ib(T,this.caller);return}if(this.uR)this.lO(x)};
D.nq.prototype.hm=function(x,R){var T=JSON.parse(JSON.stringify(x.iT));bL.lu(T,1/R.i.Rt());return T};
D.nq.prototype.cU=function(x,R){if(x.Gv!=null)this.ma(R,x.Y8);else this.alq(R,x.jI,x.SG)};D.nq.prototype.cA=function(x,R){if(x.Gv!=null)this.ma(R,x.Gv);
else this.alq(R,x.LW,x.ua)};D.nq.prototype.ma=function(x,R){for(var z=0;z<R.length;z++){var T=R[z],c=T.Z_,g=x.R[c];
g.buffer=T.Ik;g.rect=T.v4.clone();g.W();g.um.NR=null;g.um.path=null;var d=g.add.TySh;d.aS=T.zb;d.ij=T.ij.clone();
d.i=T.i.clone();d.pM=JSON.parse(JSON.stringify(T.pM));g.kl()}x.W()};D.nq.prototype.i2=function(x,R){var T=[];
for(var z=0;z<R.length;z++){var c=R[z],g=x.R[c],d=g.add.TySh;T.push({Z_:c,i:d.i.clone(),zb:JSON.parse(JSON.stringify(d.aS)),ij:d.ij.clone(),pM:JSON.parse(JSON.stringify(d.pM)),Ik:g.buffer.slice(0),v4:g.rect.clone()})}return T};
D.nq.prototype.alq=function(x,R,T){x.g=T;x.I2(R);x.W();x.kn=!0};D.nq.prototype.H9=function(x,R,T){if(T==null)T=!1;
var c=this.uR.add.TySh;if(!cQ.A$(c,R.dA,this.caller))return!1;if(!T){var g=bL.rl(c.pM);this.pQ.value=g.slice(0,g.length-1)}var d=this.uR.rect,U=cQ.H9(this.uR,R.dA,x);
this.ww=U[1];var e=this.ww.Py();if(u.zb.rJ(c.aS))c.ij=new aP;else{if(bL.hl(c.pM)==1){var N=bL.jJ(c.pM),cg=e.y;
c.ij=new aP(0,cg,N[2]-N[0],N[3]-N[1]-cg)}else c.ij=e}x.Cg();if(U[2])x.W(x.root.t3(U[2].v4.y8(d),x,x.R.indexOf(this.uR)));
return!0};D.nq.prototype.$J=function(x,R){if(this.uR==null||this.gy)return;var T=this.pQ.selectionStart,c=this.uR.add.TySh,g=bL.rl(c.pM),d=this.pQ.value+"\n",U=Math.min(this.OS,this.K4),e=Math.max(this.OS,this.K4),s=!1;
this.OS=Math.min(T,U);if(d.length-T<g.length-this.K4)this.K4=g.length-d.length+T;if(g!=d){while(this.OS>0&&g.charAt(this.OS-1)!=d.charAt(this.OS-1))this.OS--}var N=g.substring(0,this.OS),l=g.substring(this.K4,g.length),J=d.substring(this.OS,d.length-l.length);
bL.On(c.pM,this.OS,this.K4);bL.nw(c.pM,this.OS,J);if(R!=null)bL.anf(c.pM,this.OS,R);var w=this.hm(this.im,c),o=-1,V=Array.from(J);
for(var z=0;z<V.length;z++)o=Math.max(o,V[z].codePointAt(0));if(o!=-1&&o>128&&o!=65533&&w.Ba.Font!=null){var a=w.uY[w.Ba.Font].Name,O=this.im.dA.bk(o,a,w.uY);
if(a!=O){bL.EF(w,O);s=!0}}if(this.qp!=null&&J==this.qp){var S=JSON.parse(this.asq);w.Ba=S.Ba;w.uY=S.uY;
s=!0}bL.T3(c.pM,this.OS,this.OS+J.length-1,w);this.OS=this.K4=N.length+J.length;var L=this.caller.cC(),Q=this.H9(L,this.im,!0);
if(Q)this.UC(L,!0);if(s)this.Fl()};D.nq.prototype.a2V=function(x){var R=fZ;if(!x.ctrlKey)this.abt();
x.stopPropagation()};D.nq.prototype.agD=function(x){x.stopPropagation();var R=x.ctrlKey||x.metaKey,T=fZ,N=0,l=0,Q=0,f=!1;
if(this.uR==null||this.gy)return;if(this.uR==null)return;if(this.caller.W0.nX())return;var c=this.caller.cC();
if(this.VW==null&&R){var g=this.uR.add.TySh,d=bL.hl(g.pM),U;if(d==1){U=bL.jJ(g.pM);U=new aP(0,0,U[2]-U[0],U[3]-U[1])}else U=this.ww.Py();
var e=[U.x,U.y,U.x+U.m,U.y,U.x+U.m,U.y+U.e,U.x,U.y+U.e];u.M.i(e,g.i,e);this.VW=new jS(e,!0,!0,!1,!1);
this.VW.M0(0);this.ap3=U;this.UC(c)}if(T.mf(x.code,T.t8))N=1;if(T.mf(x.code,T.fS))N=-1;if(T.mf(x.code,T.Vw))l=-1;
if(T.mf(x.code,T.xE))l=1;var J=T.mf(x.code,fZ.tM),w=T.mf(x.code,fZ.ab4);if(T.mf(x.code,fZ.AQ)&&R){this.ib(c,this.caller);
return}if(T.mf(x.code,fZ.jK)){this.Ri(c,this.caller);return}if(T.mf(x.code,fZ.Vv)){x.preventDefault();
var s=this.pQ,o=s.value,V=s.selectionStart,a=s.selectionEnd;s.value=o.substring(0,V)+"\t"+o.substring(a);
s.selectionStart=s.selectionEnd=V+1;this.$J(null);return}var O=T.mf(x.code,T.bW),S=T.mf(x.code,T.d2);
if(R&&(O||S)){x.preventDefault();var L=new aA(v.E.v,!0);L.f=D.p3;L.data={d:"zoom",S3:O};this.caller.c(L)}if(T.mf(x.code,T.gr))Q=1;
if(T.mf(x.code,T.rs))Q=-1;var b=this.OS==this.K4,Z=R&&x.shiftKey&&Q!=0&&!b;if(Z||x.altKey&&N!=0){var I=JSON.parse(JSON.stringify(this.im.iT));
if(Z){var y=I.Ba.FontSize;if(y==null)y=16;I.Ba.FontSize=Math.max(1,y+Q*(x.altKey?5:1))}else{if(b){I.Ba.Kerning+=20*N;
I.Ba.AutoKerning=!1}else I.Ba.Tracking+=20*N}x.preventDefault();var r=new aA(v.E.P,!0);r.data={d:v.H.pV,vr:hc.q3,iT:I};
this.caller.c(r);var L=new aA(v.E.v,!0);L.f=D.kY;L.data={d:"updateStyles"};this.caller.c(L);return}if((T.mf(x.code,T.Fa)||T.mf(x.code,T.DB))&&R){var h=this.OS,k=this.K4;
if(h>k){var K=h;h=k;k=K}var g=this.uR.add.TySh,H=bL.rl(g.pM);if(h!=k){this.qp=H.slice(h,k);this.asq=JSON.stringify(this.im.iT)}}var p=bL.rl(this.uR.add.TySh.pM);
if(N!=0||l!=0||J||w){x.preventDefault();var A=this.OS;if(N!=0){if(R&&N==-1)A=this.apB(p,this.OS-1);else if(R&&N==1)A=this.aza(p,this.OS);
else{var s=this.pQ,o=s.value;A=this.OS+N;if(A!=0&&o.codePointAt(A-1)>65535)A+=N}}else if(l!=0){var _=this.ww.KP(this.OS);
if(l==-1&&_.fI==0)A=0;else if(l==1&&_.fI==this.ww.alX()-1)A=99999999999;else A=this.ww.ajb(new cI(_.v4.x+_.v4.m/2,0),_.fI+l)}else if(J){var W=this.OS-1;
while(W>0&&p.charCodeAt(W)!=10)W--;A=W==0?0:W+1}else if(w){var W=this.OS;while(W<p.length-1&&p.charCodeAt(W)!=10)W++;
A=W}A=Math.max(0,Math.min(p.length-1,A));if(x.shiftKey)this.OS=A;else this.OS=this.K4=A;f=!0}if(T.mf(x.code,fZ.H)&&R){this.OS=0;
this.K4=p.length-1;f=!0}if(f){this.Fl();this.UC(c)}};D.nq.aiO=function(x,R){var T=x.length;if(T!=R.length)return!1;
for(var z=0;z<T;z++)if(x[z].Z_!=R[z].Z_)return!1;return!0};D.nq.prototype.ib=function(x,R,T){if(this.uR==null)return;
this.uR.kl();var c=this.UR;if(c instanceof Array){var g=this.i2(x,this.Dq),d=x.SH();if(d!=null&&d.f==this&&d.data.Gv&&D.nq.aiO(d.data.Gv,c)&&T)d.data.Y8=g;
else{var U=new ka(this.name,this);U.data={Gv:c,Y8:g};x.XY(U)}}else{var U=new ka(this.name,this);U.data={LW:c.LW,jI:c.jI,ua:c.ua,SG:c.SG};
x.XY(U)}this.escape(x,R)};D.nq.prototype.Ri=function(x,R){if(this.uR==null)return;if(this.UR instanceof Array){this.ma(x,this.UR);
if(this.uR)bL.jT(this.uR.add.TySh)}else{x.g=this.UR.ua;x.I2(this.UR.LW);x.kn=!0}x.W();this.escape(x,R)};
D.nq.prototype.escape=function(x,R){this.abt();this.uR=null;this.Dq=null;this.ww=null;this.yl=null;this.pQ.blur();
x.N.Xp=null;x.N.ny=null;x.N.rb=[];x.Sa=!0;this.vg=!1;this.xR=!1;this.OS=this.K4=-1;this.nj(R,v.E.P,{d:v.H.Pn,f:this.id,Mr:"hideactive"});
if(this.cR){var T=new aA(v.E.P,!0);T.data={d:v.H.di,f:this.cR};R.c(T);this.cR=null}};D.nq.prototype.nj=function(x,R,T,c){var g=new aA(R,!0);
g.data=T;if(c)g.f=c;x.c(g)};D.nq.prototype.Kp=function(x){var R=this.uR.add.TySh,T=this.ww,c=R.i.clone();
c.F0();var g=c.Wk(x),d=bL.zC(R,T),U=u.zb.xe(R.aS,d),e=u.i1.x6(U,g);if(e==null)e=new Float64Array(2);
g=new cI(d.x+e[0]*d.m,d.y+e[1]*d.e);if(T.Ip){var N=T.Ip.clone();N.F0();g=N.Wk(g)}var l=T.ajb(g);return l};
D.nq.prototype.UC=function(x,R){if(R==null)R=!1;var T=this.uR.add.TySh,c=bL.hl(T.pM),g=this.ww,d=g?bL.zC(T,g):null;
x.N.rb=[];x.N.Xp=null;x.N.ny=null;var U=this.VW?this.VW:this.yl;if(U){U.IA(x,this.im,!u.zb.rJ(T.aS));
var e=T.i.clone();e.F0();if(g&&g.Ip&&g.bh==1){var N=g.Ip.clone();N.F0();e.concat(N)}u.M.i(x.N.rb,e,x.N.rb);
u.M.i(x.N.Xp.z,e,x.N.Xp.z);if(g&&g.Ip==null&&g.au$()){var l=d.m-20,J=d.e+8;x.N.Xp.z.push(l,J,l+10,J,l+5,J-5,l+5,J+5);
x.N.Xp.G.push("M","L","M","L")}}else if(c==0)this.azS(x,T,g);else x.N.Xp={z:[],G:[]};var w=Math.min(this.OS,this.K4),s=Math.max(this.OS,this.K4);
if(!R){this.pQ.selectionStart=w;this.pQ.selectionEnd=s}if(g!=null){var o=function(U,b){var Z=U.x,I=U.y+U.e,y=new gP;
y.translate(-Z,-I);y.rotate(-b);y.translate(Z,I);U.y+=U.e*.27;var Q=u.M.$x(U);u.M.i(Q.z,y,Q.z);return Q};
if(w==s){w=Math.max(w,0);var V=g.KP(w);if(V){var a=V.v4,O=this.im.iT.Ba.FontSize;if(O!=null&&O!=0){O/=T.i.Rt();
a.y+=a.e-O;a.e=O}var S=g.axj(w);if(S!=null&&S.rW==1)a.x+=a.m;var L=o(a,V.Hh).z;x.N.Xp.G.push("M","L");
x.N.Xp.z.push(L[0],L[1]-1,L[6],L[7]-1)}}else{x.N.ny={z:[],G:[]};for(var z=w;z<s;z++){var V=g.KP(z),Q=o(V.v4,V.Hh);
u.M.concat(x.N.ny,Q)}}}x.N.Xp=cQ.LO(x.N.Xp,T,g,!0);x.N.ny=cQ.LO(x.N.ny,T,g,!0);x.N.rb=cQ.LO({z:x.N.rb},T,g,!0).z;
x.Sa=!0};D.nq.prototype.azS=function(x,R,T){if(T==null)return;x.N.rb.push(0,0);if(x.N.Xp==null)x.N.Xp={G:[],z:[]};
for(var z=0;z<T.qi.length;z++){var c=T.qi[z];for(var g=0;g<c._4.length;g++){var d=c._4[g],U=c.Og.x+d.Og.x+d.v4.x,e=c.Og.y+d.Og.y+d.v4.y+d.v4.e;
x.N.Xp.G.push("M","L");x.N.Xp.z.push(U,e,U+d.v4.m,e)}}x.Sa=!0};D.zv=function(){D.nq.call(this,!0)};D.zv.prototype=new D.nq;
D.qf=function(){D.Fs.call(this,[10,9],D.ZY,"tools/lasso");this.xx="crosshair";this.xY=null;this.Rc=null;
this.aL=null};D.qf.prototype=new D.Fs;D.qf.prototype.LV=function(x,R,T,c){this.xY=this.vd;this.Rc={z:[this.xY.x,this.xY.y],G:["M"]}};
D.qf.prototype.Dg=function(x,R,T,c){this.aL=c;var g=this.Rc;if(g==null)return;if(!c.Kk){if(this.Rc!=null&&this.e8.jZ(1)&&T.S(fZ.ng)){g.z.pop();
g.z.pop();g.z.push(this.ni.x,this.ni.y);x.N.Xp=g;x.Sa=!0}return}g.G.push("L");g.z.push(this.ni.x,this.ni.y);
this.xY=this.ni;if(this.Jg){x.N.Xp=g;x.Sa=!0}};D.qf.prototype.Vd=function(){return this.Rc!=null};D.qf.prototype.CJ=function(){return this.Rc!=null};
D.qf.prototype.Rw=function(x,R,T,c){D.Fs.prototype.Rw.call(this,x,R,T,c);if(this.Rc&&this.e8.jZ(1)&&this.aL&&!this.aL.Kk&&!c.S(fZ.ng))this.aqG(x,T,c)};
D.qf.prototype.ho=function(x,R,T,c){this.aL=c;var g=this.Rc;if(g==null)return;if(this.e8.jZ(1)&&T.S(fZ.ng)){g.G.push("L");
g.z.push(this.ni.x,this.ni.y);return}this.aqG(x,R,T)};D.qf.prototype.aqG=function(x,R,T){this.finish(x,R,T,this.aL);
this.Rc=null;x.N.Xp=null;x.Sa=!0};D.qf.prototype.getSelection=function(x,R,T,c){if(this.vd.X$(this.ni)||!this.Jg)return null;
return D.Fs.Xu(this.Rc.z,null,this.Ss.anta)};D.K$=function(){D.Gj.call(this,[10,11],D.BA,"tools/move");
this.UN=new cI(0,0);this.S8=new cI(0,0);this.WJ=null;this.Iz=null;this.dS=new cI(0,0);this.Ks=null;this.Dn=null;
this.RA=null;this.rB=0;this.JX=null;this.lo=[];this.Su=null;this.RZ=null;this.Za=!1;this.d=0;this.jW=null;
this.VF=null;this.Ap=null;this.fN=!1;this.Ss={HU:!0,o0:!1,As:!1,ar7:1};this.acT=!1;this.aeU=!1;this.yl=null;
this.tR=null;this.aX=null;var x=[];for(var z=0;z<u.A8.zK.length;z++)x.push({name:u.A8.zK[z],r:function(R,T,c){return{xw:T.j3.Zg==c}}});
this.HI=new d$(x);this.HI.k("select",this.tr,this)};D.K$.prototype=new D.Gj;D.Gj.prototype.zc=function(x){return this.Za&&this.d!=2};
D.K$.prototype.aeR=function(){return this.Za&&(this.d==0||this.d==1)};D.K$.prototype.it=function(x,R,T,c){this.w4(x,-this.dS.x,-this.dS.y);
this.dS.LR(0,0);this.KY(x,null,T);this.uJ(x)};D.K$.prototype.bL=function(){var x=this.Ss;return[x.HU?1:0,x.o0?1:0,x.As?1:0]};
D.K$.prototype.zX=function(x,R,T){var c=this.Ss;if(x&&x[0]!=null)c.HU=x[0]==1;if(x&&x[1]!=null)c.o0=x[1]==1;
if(x&&x[2]!=null)c.As=x[2]==1;var g=new aA(v.E.P,!0);g.data={d:v.H.Pn,f:this.id,in:c,ac0:R};T.c(g)};
D.K$.ajQ=function(x,R,T,c,g,d,e){if(e==null)e=[!1,!0];var N=x.LQ(null,g,!0),l,J=g==null?x.g[0]:g;if(x.add.artd&&(g!=null||x.g.length==1)&&x.R[J].add.artb){var w=x.R[J].Ie();
l=x.JU(N,w,w)[0]}else{var s=new aP(0,0,x.m,x.e),l=x.JU(N,e[0]?s:null,e[1]?null:s)[0];delete l.add.artd;
if(e[1]){var o=u.Wb(l.Yr(),new aP(0,0,l.m,l.e),2);D._x.oU(l,o)}}if(T!=1){var V=new aP(0,0,Math.round(l.m*T),Math.round(l.e*T));
D._x.oU(l,V);var a=[];for(var z=0;z<l.R.length;z++)a.push(z);var O=D.gW.Sq(l,a,!0);D._x.M7(l,new gP(T,0,0,T,0,0));
D.gW.AL(l,c,a,O,1,u.D.bY(new gP(T,0,0,T,0,0)),null,!0);l.jB()}var S=[];for(var z=0;z<R.length;z++)if(l.m*l.e!=0)S.push(dp.KA(l,R[z].toUpperCase(),null,null,d?d[z]:null,c));
return S};D.K$.prototype.auQ=function(x,R,T,c,g){if(x==null||x.g.length==0)return;var d=D.K$.ajQ(x,[R],T,c,null)[0],U=new aA(v.E.P,!0);
U.data={d:v.H._1,data:d,name:x.R[x.g[0]].getName()+(T==1?"":"@"+T+"x")+"."+R};g.c(U)};D.K$.prototype.B7=function(x,R,T,c,g){if(x.J2=="getPNG"){this.auQ(T,"png",x.SR,g,R)}else if(x.J2=="getSVG"){this.auQ(T,"svg",x.SR,g,R)}if(x.J2=="prms"){this.Ss=x;
this.uJ(T)}};D.K$.awZ=function(x){var cg=x.length,T=0;x.sort(function(d,U){return d[0]+d[1]/2-(U[0]+U[1]/2)});
var R=x[cg-1][0]+x[cg-1][1]-x[0][0];for(var z=0;z<cg;z++)T+=x[z][1];var c=Math.round((R-T)/(cg-1)),g=x[0][0];
for(var z=0;z<cg;z++){x[z][0]=g;g+=x[z][1]+c}};D.K$.prototype.gb=function(x,R,T,c,g){var d=x.d;if(d=="trsl"){var U=Math.round(x.iU),e=Math.round(x.iG);
this.dS.LR(U,e);this.zm(T,R,c,g,!1,x.a);this.w4(T,U,e);this.KY(T,null,g)}else if(d=="fcmy"||d=="fvec"){var N=["RGB","CMYK"][x.b]+" Color";
if(d=="fvec")N=["Raster","Vector"][x.b]+" Mode";var l=new ka(N,this);l.data={d:x.d,Ey:T.add[d]==null?0:T.add[d],SN:x.b};
T.XY(l);this.cU(l.data,T)}else if(d=="pview"){var d=new ka([8,14],this);d.data={d:x.d};T.XY(d);this.cU(d.data,T)}else if(d=="lockguides"){if(T)T.CS=!T.CS}else if(d=="gids"||d=="gidsFromLayer"){var J=x.VF,w,s;
if(J==null)J=T.M3();if(d=="gids"){w=x.bI;var o=J[0].length,V=w[0].length;s=o==V?[23,2]:o>V?[23,3]:[23,4];
if(V==0)s=[11,15,0]}else if(d=="gidsFromLayer"){var a=[],O=[],S=T.NY();for(var z=0;z<T.g.length;z++){var L=T.R[T.g[z]].rect;
if(L.Y3())continue;a.push([0,L.x],[1,L.y],[0,L.x+L.m],[1,L.y+L.e]);O.push(S,S,S,S)}s=[11,15,1];w=T.M3();
D.K$.yY(w,[a,O])}if(JSON.stringify(J)==JSON.stringify(w))return;var d=new ka(s,this);d.data={d:2,VF:J,bI:w};
T.XY(d);this.cU(d.data,T)}else if(d=="algn"){var Q=x.b;if(T==null)return;if(T.g.length<2&&!(T.u!=null&&Q!=3&&Q!=7)){alert(go.get([15,7,5]));
return}var b=T.u;T.u=null;var L=b?b.rect:D.gW.zC(T);this.zm(T,R,c,g,!1);if(!this.Za)return;var Z=this.JX,I={},y=[],r=[],h=[];
for(var z=0;z<Z.length;z++){var k=Z[z];while(T.R[k].getName()=="</Layer group>")k++;var K=T.root.ct(k),H=K;
while(K.parent!=null){K=K.parent;if(Z.indexOf(K.index)!=-1)H=K}var p=r.indexOf(H.index);if(p==-1){p=r.length;
r.push(H.index)}y[z]=p}var f=[],A=[],_=[];for(var z=0;z<r.length;z++){var W=D.gW.zC(T,T.LQ(!0,r[z]));
_.push(W);var Y=Q==3?[W.y,W.e]:[W.x,W.m];f[z]=Y;A.push(Y)}D.K$.awZ(A);for(var z=0;z<r.length;z++){var W=_[z],G=W.x,i=W.y;
if(Q==0)G=L.x;if(Q==1)G=L.x+(L.m-W.m)/2;if(Q==2)G=L.x+(L.m-W.m);if(Q==3)i=f[z][0];if(Q==4)i=L.y;if(Q==5)i=L.y+(L.e-W.e)/2;
if(Q==6)i=L.y+(L.e-W.e);if(Q==7)G=f[z][0];h.push(Math.round(G-W.x),Math.round(i-W.y))}var E=[];for(var z=0;
z<Z.length;z++){var $=y[z];E[2*z]=h[2*$];E[2*z+1]=h[2*$+1]}this.w4(T,0,0,null,E);var C=Q==3||Q==7?[20,4,6]:[20,4,Q<3?Q:Q-1];
this.KY(T,null,g,E,C);T.u=b}else if(d=="disabAuto"){this.zX([!1],null,R)}};D.K$.yY=function(x,R){for(var z=0;
z<R[0].length;z++){var T=R[0][z],c=R[1][z],g=!1;for(var d=0;d<x[0].length;d++){var U=x[0][d],e=x[1][d];
if(T[0]==U[0]&&T[1]==U[1]&&c==e)g=!0}if(!g){x[0].push(T.slice(0));x[1].push(c)}}};D.K$.prototype.enable=function(x,R,T,c,g){this.Dn=T;
this.RA=R;this.fN=g?!0:!1;this.uJ(x);this.Ny("default",R);this.Rw(x,R,T,c)};D.K$.prototype.disable=function(x,R,T,c){this.aev(x)};
D.K$.prototype.aev=function(x){if(x==null)return;if(this.yl){this.yl.clear(x);this.yl=null}if(x.N.As){x.N.As=null;
x.Sa=!0}if(x.N.ay){x.N.ay=null;x.Sa=!0}if(x.N.Br[this.id]){delete x.N.Br[this.id];x.Sa=!0}if(x.N.gp.length!=0){x.N.gp=[];
x.Sa=!0}};D.K$.prototype.Lm=function(x,R,T,c){if(T.lf!=this.id)return;this.uJ(x)};D.K$.prototype.uJ=function(x,R){if(x==null)return;
var T=this.Ss;this.aev(x);if(!this.fN){var c;if(T.o0||T.As)c=u.M.cJ(D.gW.zC(x));if(T.o0&&!c.Y3()){var g=x.R[x.g[0]],d=u.M.$x(c).z;
if(b5==1&&x.g.length==1){if(g.add.vmsk)d=g.add.vmsk.a9r();if(g.add.SoLd)d=D.gW.Yg(g.add.SoLd.nonAffineTransform);
if(g.add.TySh){d=u.M.$x(g.um.Q4).z;u.M.i(d,g.add.TySh.i,d)}}this.yl=new jS(d,!0);this.yl.IA(x,this.Dn)}if(T.As){var U=null,s=null,o=!1;
if(x.NY()!=-1)U=x.R[x.NY()].Ie();else U=new aP(0,0,x.m,x.e);x.N.As={QH:[c],ym:[]};var e=x.N.As.ym,N=c.x+c.m,l=c.y+c.e,J=c.x+Math.floor(c.m/2),w=c.y+Math.floor(c.e/2);
if(R){var V=x.root.Ua(new cI(Math.floor(R.x),Math.floor(R.y)));if(V){s=u.M.cJ(V.a.SW(x));if(s.fg(c)){o=(s.Ae(c)||c.Ae(s))&&!c.X$(s);
if(!o)s=null}}}this.a91(c,e);if(s!=null){x.N.As.QH.push(s);var a=s.x+s.m,O=s.y+s.e,S=s.x+Math.floor(s.m/2),L=s.y+Math.floor(s.e/2);
if(o){var Q=J,b=w;if(c.Ae(s)){Q=S;b=L}e.push(c.x,b,s.x,b);e.push(N,b,a,b);e.push(Q,c.y,Q,s.y);e.push(Q,l,Q,O)}else{this.a91(s,e);
var Z=l<s.y||O<c.y,I=N<s.x||a<c.x;if(N<s.x)e.push(N,w,s.x,w);if(a<c.x)e.push(a,w,c.x,w);if(l<s.y)e.push(J,l,J,s.y);
if(O<c.y)e.push(J,O,J,c.y);if(Z&&!I){if(c.x<s.x)e.push(c.x,L,s.x,L);if(s.x<c.x)e.push(s.x,w,c.x,w)}}}else{if(c.y>U.y)e.push(J,U.y,J,c.y);
if(l<U.y+U.e)e.push(J,l,J,U.y+U.e);if(c.x>U.x)e.push(U.x,w,c.x,w);if(N<U.x+U.m)e.push(N,w,U.x+U.m,w)}x.Sa=!0}}if(this.d==2&&this.Za){var y=new aP(0,0,x.m,x.e),r=x.NY();
if(r!=-1){var h=x.M3(),k=h[1][this.JX];if(k==-1)k=r;y=x.R[k].Ie()}var K=x.CR[this.JX],H=K[0],p=(H==0?"X":"Y")+": "+u.A8.tN(K[1]-(H==0?y.x:y.y),x.De,this.Dn,H==0?y.m:y.e,!0);
D.Gj.XS(Math.round(this.WJ.x)+10,Math.round(this.WJ.y)-10,[p],x);x.Sa=!0}if(this.d==3&&this.Za){var f=u.M.$x(this.jW);
x.N.Br[this.id]={Xp:f};x.Sa=!0}};D.K$.prototype.a91=function(x,R){var T=x.m,c=x.e,g=x.x+Math.floor(T*.2),d=x.y+Math.floor(c*.2);
R.push(g,x.y,g,x.y+c);R.push(x.x,d,x.x+T,d)};D.K$.prototype.Ny=function(x,R){var T={d:v.H.pm,ze:x},c=new aA(v.E.P,!0);
c.data=T;R.c(c)};D.K$.prototype.Uo=function(x){var R=this.tR.ty()[0];if(R==this.aX.length){var T=new aA(v.E.P,!0);
T.data={d:v.H.Uj,iw:"psd"};this.RA.c(T);return}var c=this.Ks,g=this.aX[R];this.a2k(c,g)};D.K$.prototype.tr=function(x){var R=JSON.parse(JSON.stringify(this.Dn.j3));
R.Zg=this.HI.ty()[0];var T=new aA(v.E.P,!0);T.data={d:v.H.pV,vr:hc.WP,SN:R};this.RA.c(T)};D.K$.prototype.A4=function(x,R,T,c,g){if(this.Za)this.rR(x,R,T,c,g);
this.Ks=x;this.Dn=T;this.RA=R;var d=x.Q.nU(g.x,g.y),U;if(D.K$.uN(T,g,x.Q)){U=this.HI}else{if(this.tR)this.tR.removeEventListener("select",this.Uo);
var e=[];x.root.Ua(d,e);if(e.length==0)return;var N=[];this.aX=e;for(var z=0;z<e.length;z++)N.push({name:x.R[e[z]].getName(),NC:z==e.length-1});
N.push({name:[1,18],J4:!0});U=this.tR=new d$(N);U.k("select",this.Uo,this)}U.parent=R;U.t();U.update(x,T);
var l=new aA(v.E.P,!0);l.data={d:v.H.fu,YR:U,x:g.yq+2,y:g.xa+1};R.c(l)};D.K$.prototype.aiF=function(x,R,T,c,g){var d=D.K$.Qe(x,g);
return d!=-1||D.K$.uN(T,g,x.Q)};D.K$.Qe=function(x,R){if(x==null||x.add.artd==null)return-1;var T=x.Q.nU(R.x,R.y),c=12*D.mM()/x.Q.O;
for(var z=0;z<x.R.length;z++){var g=x.R[z];if(!g.Pm()||g.add.artb==null)continue;var d=g.Ie(),U=new aP(d.x,d.y-1.7*c,c*g.getName().length*.5,c);
if(U.mD(T))return z}return-1};D.K$.prototype.fz=function(x,R,T,c,g){var d=D.K$.Qe(x,g),U=D.K$.aBZ(x,x.Q.nU(g.x,g.y));
if(d!=-1){x.g=[d];if(T.lf==D.BA){var e=new aA(v.E.P);e.data={d:v.H.di,f:D.Wy};R.c(e)}return}if(U!=-1){x.Q.S7=U;
x.Sg=!0;var e=new aA(v.E.P,!0);e.data={d:v.H.Av,$k:dF.sK.afh};R.c(e);return}this.WJ=g;this.UN.LR(g.x,g.y);
this.S8=x.Q.nU(g.x,g.y);this.Iz=new gJ(this.S8);this.zm(x,R,c,T,!0)};D.K$.uN=function(x,R,T,c){var g=u.A8.Tb,d=T.dz.e;
return x.Tg&&(0<R.x&&R.x<g||0<R.y&&R.y<g||c&&0<R.x&&R.x<4*g&&d-g<R.y&&R.y<d)};D.K$.prototype.zm=function(x,R,T,c,g,d){var U,e=this.S8,N=!1;
if(g){var l=c.St&&c.j3.CR;if(D.K$.uN(c,this.UN,x.Q)){U=x.M3();var J=x.M3(),w=null;if(this.UN.x<u.A8.Tb){w=[0,e.x]}if(this.UN.y<u.A8.Tb){w=[1,e.y]}J[0].push(w);
J[1].push(x.NY(!0));x.bK(J);if(!l){var s=new aA(v.E.P);if(!c.j3.CR){s.data={d:v.H.pV,vr:hc.MN};R.c(s)}if(!c.St){s.data={d:v.H.pV,vr:hc.nx};
R.c(s)}l=!0}}var o=this.a2b(x,e);if(l&&o!=null&&!x.CS){this.d=2;this.VF=U?U:x.M3();this.JX=o;this.Za=!0;
this.RZ=D.gW.zC(x);return}if(x.nE.length!=0){this.d=4;this.RZ=x.Hp[x.nE[0]].rect.clone();this.Za=!0;
return}if(this.yl&&this.yl.LG(e,x.Q.O,!0,this.WJ)!=null){var s=new aA(v.E.P);s.data={d:v.H.di,f:D.lU,a2s:!0};
R.c(s);return}if(x.u&&x.u.rect.mD(e)){var V=Math.round(e.x),a=Math.round(e.y),O=x.u.rect;N=x.u.channel[(a-O.y)*O.m+V-O.x]>128}if(!N&&(!this.fN&&this.Ss.HU||this.fN&&this.Ss.HU&&(T.S(fZ.xg)||x.g.length<2))){var S=this.acV(x,e,T);
if(!S){x.g=[];x.Kx=null;x.kn=x.ta=!0;this.d=3;this.jW=new aP;this.Za=!0;return}}if(T.S(fZ.ng)&&!N){var L=new aA(v.E.v);
L.f=D.d_;L.data={d:F.S5,ajh:!0};R.c(L)}}if(x.nE.length!=0){this.d=4;this.RZ=x.Hp[x.nE[0]].rect.clone();
this.Za=!0;return}this.JX=x.LQ(d==null,d,null,!0);for(var z=0;z<this.JX.length;z++){var Q=this.JX[z],b=x.R[Q];
if(b.ad(2)||b.ad(31)||x.na(Q)){alert(go.get([6,57,0]));return}}if(x.add.artd&&g){var Z=this.JX,I=!1;
for(var z=0;z<Z.length;z++)if(x.R[Z[z]].add.artb)I=!0;if(!I){this.Su=[x,x.R.slice(0),x.g.slice(0),-1];
this.JX.sort(function(f,A){return f-A})}}this.lo=D.K$.ato(x,this.JX);this.d=0;if(x.u&&(!g||N)&&x.g.length==1&&x.nD(!1)){if(!x.aAk()){this.Za=!1;
return}var y=x.R[x.g[0]],r=T.S(fZ.ng);this.d=1;var h=x.history[x.md];if(h.f==this&&h.data.d==1&&h.data.a==x.g[0]&&y.s4==y.Cq.s4&&!r){this.Ap=h}else{var k=y.Cq,K=!1,H;
if(!y.Bt(x,x.u)||r){K=!0;y.qN(x,x.u,r)}if(y.Cq.s4<=0){H=u.B(y.Cq.xm.length>>2);u.TR(y.Cq.xm,H,3)}else H=x.u.channel.slice(0);
var p={rect:y.Cq.HL.clone(),channel:H};this.Ap=new ka(r?[12,53]:[12,54],this);this.Ap.data={d:1,a:x.g[0],Cq:y.Cq,ac:k,k2:K,ua:x.u,SG:p,jR:new cI(0,0)};
x.XY(this.Ap);x.u=p;x.yL=!0}}this.Za=!0;this.RZ=D.gW.zC(x)};D.K$.prototype.acV=function(x,R,T){var c=x.root.Ua(new cI(Math.floor(R.x),Math.floor(R.y)));
if(c){if(c.a.add.vmsk)x.Sa=!0;var g=x.R.indexOf(c.a);if(this.Ss.ar7==0){var d=x.root.ct(g);while(d.parent&&d.parent.depth!=0&&d.parent.a.add.artb==null)d=d.parent;
g=d.index}if(T.S(fZ.xg)){var U=x.g.indexOf(g);if(U==-1)x.g.push(g);else if(x.g.length>1)x.g.splice(U,1)}else if(x.g.indexOf(g)==-1){this.a2k(x,g)}}return c!=null};
D.K$.prototype.a2k=function(x,R){x.R[R].s4=0;x.g=[R];x.Kx=null;x.NB();x.OW=!0;x.kn=!0};D.K$.aBZ=function(x,R){var T=x.add.Anno;
if(T==null||T.length==0)return-1;var c=30/x.Q.O;for(var z=0;z<T.length;z++)if(new aP(T[z][0],T[z][1],c,c).mD(R))return z;
return-1};D.K$.prototype.gQ=function(x,R,T,c,g){this.WJ=g;var d=x.Q.nU(g.x,g.y),o,V;if(this.Iz&&this.d<2)d=this.Iz.yM(d,c);
if(!this.Za){if(T.St&&T.j3.CR&&x&&!x.CS){var U=this.a2b(x,d),e="default",N=D.K$.Qe(x,g);if(U!=null)e=["col-resize","row-resize"][x.CR[U][0]];
else if(this.yl){var l=this.yl.LG(d,x.Q.O,null,g);if(l)e=l}else if(N!=-1||D.K$.aBZ(x,d)!=-1){e="pointer"}this.Ny(e,R)}this.uJ(x,d);
return}var J=this.S8,w=Math.round(d.x-J.x)-this.dS.x,s=Math.round(d.y-J.y)-this.dS.y;if(this.RZ){if(this.d==2){var a=[];
if(x.u)a.push(x.u.rect);if(this.RZ)a.push(this.RZ);if(x.Q.OL)a.push(x.Q.OL);d=D.K$.zE(x,d,T,[!1,a,!0])}else{V=this.RZ.clone();
V.offset(this.dS.x+w,this.dS.y+s);o=D.K$.x4(x,V,T);var O=this.Iz.av$(c);if(O==1){o[0]=0;o[2]=1e9}if(O==2){o[1]=0;
o[3]=1e9}w+=Math.round(o[0]);s+=Math.round(o[1])}}this.dS.x+=w;this.dS.y+=s;var S=this.Su;if(S&&x==S[0]){x.I2(S[1]);
x.g=S[2].slice(0);S[3]=-1}this.w4(x,w,s,d,null,c.S(fZ.xg));if(S&&x==S[0]){var L=this.RZ.clone();L.offset(this.dS.x,this.dS.y);
var Q=d,N=x.NY(),b=-1;for(var z=0;z<x.R.length;z++){var Z=x.R[z];if(!Z.Pm()||Z.add.artb==null)continue;
var I=Z.Ie();if(I.mD(Q))b=z}if(b!=-1&&b!=N){var y=D.ys.kd(x,this.JX,b,!0,null,!1);x.I2(y[0]);x.g=y[1];
S[3]=b}}this.uJ(x,d);if(o)D.K$.gz(x,V,o)};D.K$.prototype.a2b=function(x,R){var T=D.CM(x,this.WJ);R=[R.x,R.y];
var c=x.M3(),g=x.NY();for(var z=0;z<c[0].length;z++){var d=c[0][z],U=c[1][z];if(U!=-1&&U!=g)continue;
if(Math.abs(d[1]-R[d[0]])<T)return z}return null};D.K$.prototype.w4=function(x,R,T,c,g,d){if(this.d==0){if(g)D.K$.qU(x,this.JX,this.lo,g);
else D.K$.LY(x,this.JX,this.lo,R,T)}else if(this.d==1){var U=this.Ap.data;U.jR.offset(R,T);D.K$.nR(x,U.a,R,T)}else if(this.d==2){var e=1e-5;
if(d)e=x.Q.O<=1?10:1;else if(x.Q.O<=1)e=1;var N=e*Math.round(c.x/e),l=e*Math.round(c.y/e),J=[N,l],w=x.CR[this.JX];
w[1]=J[w[0]]}else if(this.d==3){var s=this.S8,o=u.M.CC([s.x,s.y,c.x,c.y]);this.jW=o;var V=[];x.root.a0U(o,V);
if(JSON.stringify(x.g)!=JSON.stringify(V)){x.g=V;x.kn=x.ta=!0}}else if(this.d==4){for(var z=0;z<x.nE.length;
z++)x.Hp[x.nE[z]].rect.offset(R,T);x.Sa=!0}};D.K$.nR=function(x,R,T,c){var g=x.R[R];x.u.rect.offset(T,c);
g.$m(x,T,c,x.u);x.yL=!0;x.W()};D.K$.prototype.rR=function(x,R,T,c,g,d){this.KY(x,g,T);this.uJ(x);if(Date.now()-this.rB<300&&!d){var U=D.nq.fb(x,x.Q.nU(g.x,g.y));
if(D.K$.uN(T,g,x.Q,!0)){var e=new aA(v.E.P);if(g.y>x.Q.dz.e-20){e.data={d:v.H.i$,$k:"doczoom",Ey:x.Q.O*100,V8:{K:v.E.v,f:D.p3,C:{d:"pzoom"}}}}else{e.data={d:v.H.i$,$k:"preferences"}}R.c(e)}else if(U>=0){var N=new aA(v.E.v,!0);
N.f=D.kY;N.data={d:"editCurr",_J:U};R.c(N)}}this.rB=Date.now();D._x.j4(x)};D.K$.prototype.KY=function(x,R,T,c,g){if(!this.Za)return;
this.Za=!1;if(this.d==0){if(c){this.a7P(x,null,c,g)}else{if(this.dS.x==0&&this.dS.y==0)return;this.a7P(x,this.dS.clone())}x.Sg=!0}else if(this.d==2){var d=0;
R=[R.x,R.y];var U=this.JX,e=x.CR[U],bp=this.VF[0].length,N=x.CR.length;if(T.Tg&&R[e[0]]<u.A8.Tb){var l=x.M3();
l[0].splice(U,1);l[1].splice(U,1);x.bK(l);d=1;if(bp==N-1)return}if(bp<N)d=2;var J=new ka([[23,2],[23,3],[23,4]][d],this);
J.data={d:2,VF:this.VF,bI:x.M3()};x.XY(J)}else if(this.d==4){var J=new ka([12,54],this);J.data={d:4,g:x.nE.slice(0),w:this.dS.clone()};
x.XY(J)}this.dS.LR(0,0)};D.K$.prototype.Rw=function(x,R,T,c){var g=c.Gw(x?x.Q.Hh:0);if(x!=null&&(g.x!=0||g.y!=0)){if(c.S(fZ.ng)&&x.u==null){var d=new aA(v.E.v);
d.f=D.d_;d.data={d:F.S5,ajh:!0};R.c(d)}this.dS.LR(g.x,g.y);this.zm(x,R,c,T,!1);if(!this.Za)return;this.w4(x,g.x,g.y);
this.KY(x,null,T);this.uJ(x)}var U=c.S(fZ.Gc);if(!this.fN&&this.aeU!=U){if(U){this.acT=this.Ss.HU;this.Ss.HU=!0}else{this.Ss.HU=this.acT}this.aeU=U;
var e=new aA(v.E.P,!0);e.data={d:v.H.Pn,f:this.id,in:this.Ss};R.c(e)}};D.K$.prototype.cA=function(x,R){if(x.d==0){var T=x.JA;
if(T){R.I2(T.LW);R.g=T.wS.slice(0);R.W();R.kn=!0}D.K$.qU(R,x.g,x.bV,x.Mg,!0);D._x.j4(R)}else if(x.d=="fcmy"||x.d=="fvec"){if(x.Ey==0)delete R.add[x.d];
else R.add[x.d]=x.Ey;R.Sa=!0}else if(x.d=="pview"){R.fr=!R.fr;R.W()}else if(x.d==2){R.bK(x.VF);R.Sa=!0}else if(x.d==4){for(var z=0;
z<x.g.length;z++)R.Hp[x.g[z]].rect.offset(-x.w.x,-x.w.y);R.Sa=!0}else{var c=R.R[x.a];if(x.k2){c.i6(R,x.ac);
R.u=x.ua;R.yL=!0;R.W();c.W()}else{D.K$.nR(R,x.a,-x.jR.x,-x.jR.y)}}};D.K$.prototype.cU=function(x,R){if(x.d==0){D.K$.qU(R,x.g,x.bV,x.Mg);
var T=x.JA;if(T){R.I2(T.jI);R.g=T.mG.slice(0);R.W();R.kn=!0}D._x.j4(R)}else if(x.d=="fcmy"||x.d=="fvec"){if(x.SN==0)delete R.add[x.d];
else R.add[x.d]=x.SN;R.Sa=!0}else if(x.d=="pview"){R.fr=!R.fr;R.W()}else if(x.d==2){R.bK(x.bI);R.Sa=!0}else if(x.d==4){for(var z=0;
z<x.g.length;z++)R.Hp[x.g[z]].rect.offset(x.w.x,x.w.y);R.Sa=!0}else{var c=R.R[x.a];if(x.k2){c.Cq=x.Cq;
R.u=x.SG;D.K$.nR(R,x.a,0,0);c.W()}else{D.K$.nR(R,x.a,x.jR.x,x.jR.y)}}};D.K$.prototype.a7P=function(x,R,T,c){if(T){var g=!0;
for(var z=0;z<T.length;z++)if(T[z]!=0)g=!1;if(g)return}var d=x.history[x.md],U=this.Su,e=U!=null&&U[3]!=-1&&U[0]==x;
if(!e&&T==null&&d.data&&d.f==this&&d.data.d==0&&JSON.stringify(d.data.g)==JSON.stringify(this.JX)&&JSON.stringify(d.data.bV)==JSON.stringify(this.lo)){var N=d.data.Mg,l=d.data.aba.M1.T.v;
l.Hrzn.v.val+=R.x;l.Vrtc.v.val+=R.y;for(var z=0;z<N.length;z+=2){N[z]+=R.x;N[z+1]+=R.y}}else{if(R==null)R=new cI(T[0],T[1]);
var J={Sm:"move",M1:{classID:"null",null:bf.rX("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:R.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:R.y}}}}}},w=null;
if(e)w={LW:U[1],wS:U[2],jI:x.R.slice(0),mG:x.g.slice(0)};this.Su=null;var s=new ka(c?c:[12,54],this);
if(T)s.data={d:0,g:this.JX,bV:this.lo,JA:w,Mg:T};else s.data={d:0,g:this.JX,bV:this.lo,JA:w,Mg:D.K$.ayg(this.JX,R.x,R.y)};
s.data.aba=J;x.XY(s);this.track(J)}};D.K$.ayg=function(x,R,T){var c=[];for(var z=0;z<x.length;z++)c.push(R,T);
return c};D.K$.LY=function(x,R,T,c,g){D.K$.qU(x,R,T,D.K$.ayg(R,c,g))};D.K$.qU=function(x,R,T,c,g){if(R.length==0)return;
if(T==null){T=[];for(var z=0;z<R.length;z++){T.push(x.R[R[z]].iE(x,!0))}}var d=new aP,U=new aP(0,0,x.m,x.e);
for(var z=0;z<R.length;z++){var e=c[2*z],N=c[2*z+1];if(g){e=-e;N=-N}var l=x.R[R[z]],J=T[z];if(l.add.fxrp&&(J.indexOf(0)!=-1||l.bT()))l.add.fxrp.offset(e,N);
for(var w=0;w<J.length;w++){var s=J[w];if(s==0){l.rect.offset(e,N);if(l.Xn()&&l.Ct(x))l.Ct(x).rect.offset(e,N);
if(l.add.artb){var o=l.Ie();o.offset(e,N);l.yc(o);var V=l.add.artb.guideIndeces;V=V?V.v:[];for(var a=0;
a<V.length;a++){var O=x.CR[V[a].v];O[1]+=O[0]==0?e:N}}if(l.add.TySh){l.add.TySh.i.translate(e,N);if(l.add.TySh.add){l.add.TySh.add.vmsk.offset(e,N)}}if(l.add.SoLd){var S=new gP(1,0,0,1,e,N),L=l.add.SoLd,Q=D.gW.Yg(L.Trnf),b=D.gW.Yg(L.nonAffineTransform);
u.M.i(Q,S,Q);u.M.i(b,S,b);L.Trnf=D.gW.db(Q);L.nonAffineTransform=D.gW.db(b);D.gW.azI(L,S)}}if(s==1)l.le().rect.offset(e,N);
if(s==2){l.add.vmsk.offset(e,N);if(l.add.vogk)u.oZ.i(l.add.vogk,[1,0,e,0,1,N,0,0],[]);if(l.um.Rc){var Z=l.um.Rc.wP.z;
u.M.i(Z,new gP(1,0,0,1,e,N),Z)}}if(s==3){l.Ct(x).F.rect.offset(e,N);if(J.length==1)l.W()}}if(J.length>0){var I=l.add.GdFl;
if(I==null)I=l.add.PtFl;if(l.bT()&&!l.d9()&&l.add.vmsk!=null&&u.j.OI(l.add.vmsk.$)&&l.add.vmsk.Fo==255&&(I==null||I.Algn&&I.Algn.v)){l.rect.offset(e,N)}else l.sG(x);
var y=x.root.t3(l.SW(x),x,R[z]);if(l.add.artb)y=y.y8(l.Ie());d=d.y8(y);y.offset(-e,-N);d=d.y8(y);if(l.yd()&&l.F&&l.F.color==255)d=d.y8(U);
l.aAs()}}x.W(u.M.cJ(d))};D.K$.ato=function(x,R){var T=[];for(var z=0;z<R.length;z++){var c=x.R[R[z]];
T.push(c.iE(x))}return T};D.K$.gz=function(x,R,T){var c={z:[],G:[]},g=R.x+T[0],d=R.y+T[1];if(T[2]!=1e9){c.G.push("M","L");
var U=d+R.e;if(T[4])c.z.push(T[2],Math.min(d,U,T[4][1]),T[2],Math.max(d,U,T[4][1]));else c.z.push(T[2],d,T[2],d+R.e)}if(T[3]!=1e9){c.G.push("M","L");
var e=g+R.m;if(T[5])c.z.push(Math.min(g,e,T[5][0]),T[3],Math.max(g,e,T[5][0]),T[3]);else c.z.push(g,T[3],e,T[3])}if(c.z.length!=0){x.N.ay=c;
x.Sa=!0}};D.K$.zE=function(x,R,T,c){var g=D.K$.afP(x,[[R.x],[R.y]],T,c);return new cI(R.x+g[0],R.y+g[1])};
D.K$.x4=function(x,R,T,c,g){var d=g==!0?1:.5,U=D.K$.afP(x,[[R.x,R.x+Math.round(R.m*d),R.x+R.m],[R.y,R.y+Math.round(R.e*d),R.y+R.e]],T,c);
return U};D.K$.afP=function(x,R,T,c){if(c==null)c=[!0,null,!0];var g=[0,0,1e9,1e9,null,null];if(!T.Ai)return g;
var d=JSON.parse(JSON.stringify(R));for(var U=0;U<2;U++){var e=1e9,N=R[U],l=0,J=null;for(var w=0;w<N.length;
w++){var s=D.K$.aw9(x,N[w],d[1-U][w],U,T,c),o=s[0];if(o!=1e9)d[U][w]=o;if(o!=1e9&&Math.abs(o-N[w])<Math.abs(e)){e=o-N[w];
l=o;J=s[1]}}if(e!=1e9){g[U]=e;g[U+2]=l;g[U+4]=J}}return g};D.K$.aw9=function(x,R,T,c,g,d){var U=1e9,e=null,N=g.b0,l=g.j3,J=[x.root];
while(J.length!=0&&N[2]){var w=J.pop(),s=w.a,o=s.rect;if(!s.Pm())continue;if(w.children)for(var z=0;
z<w.children.length;z++)J.push(w.children[z]);if(x.g.indexOf(w.index)!=-1||o.Y3())continue;var V=o.m,a=V>>>1,O=o.e,S=O>>>1,L=U;
if(c==0){if(Math.abs(o.x-R)<Math.abs(U-R))U=o.x;if(Math.abs(o.x+a-R)<Math.abs(U-R))U=o.x+a;if(Math.abs(o.x+V-R)<Math.abs(U-R))U=o.x+V}else{if(Math.abs(o.y-R)<Math.abs(U-R))U=o.y;
if(Math.abs(o.y+S-R)<Math.abs(U-R))U=o.y+S;if(Math.abs(o.y+O-R)<Math.abs(U-R))U=o.y+O}if(L!=U){e=[o.x+a,o.y+S]}}var Q=U;
U=1e9;if(d[0]&&N[0]&&l.CR&&g.St){var b=x.M3(),Z=b[0],I=b[1],y=x.NY();for(var z=0;z<Z.length;z++)if((I[z]==-1||I[z]==y)&&Z[z][0]==c&&Math.abs(Z[z][1]-R)<Math.abs(U-R))U=Z[z][1]}if(N[1]&&l.Fw&&g.St){var r=Math.round(u.A8.B2(l.xD,x.De,x.m,l.GL));
if(c==1&&l.DX==1){var h=T*.5*Math.sqrt(4/3),k;r*=Math.sqrt(4/3);k=Math.round((R-h)/r)*r+h;if(Math.abs(k-R)<Math.abs(U-R))U=k;
k=Math.round((R+h)/r)*r-h;if(Math.abs(k-R)<Math.abs(U-R))U=k}else{var k=Math.round(R/r)*r;if(Math.abs(k-R)<Math.abs(U-R))U=k}}var K=x.co;
if(N[3]&&l.co&&g.St&&K.length!=0){for(var z=0;z<K.length;z++){if(!d[2]&&x.ci.indexOf(z)!=-1)continue;
var H=D.D3.ha(K,z);for(var p=0;p<3;p+=2)if(H[p+c]!=R&&Math.abs(H[p+c]-R)<Math.abs(U-R))U=H[p+c]}}if(d[1])for(var f=0;
f<d[1].length;f++){var o=d[1][f],V=o.m,O=o.e,A=[o.x,o.y,o.x+(V>>>1),o.y+(O>>>1),o.x+V,o.y+O];for(var z=0;
z<6;z+=2)if(Math.abs(A[z+c]-R)<Math.abs(U-R))U=A[z+c]}if(N[4]){var o=new aP(0,0,x.m,x.e),y=x.NY();if(y!=-1)o=x.R[y].Ie();
var V=o.m,O=o.e,A=[o.x,o.y,o.x+(V>>>1),o.y+(O>>>1),o.x+V,o.y+O];for(var z=0;z<6;z+=2)if(Math.abs(A[z+c]-R)<Math.abs(U-R))U=A[z+c]}if(Math.abs(U-R)<=Math.abs(Q-R))e=null;
else U=Q;var _=Math.abs(U-R)<=4*D.mM()/x.Q.O?U:1e9;return[_,e]};D.gM=function(){D.Fs.call(this,[10,12],D.Ig,"tools/mwand");
this.kx=null};D.gM.prototype=new D.Fs;D.gM.prototype.bL=D.Fs.prototype.av5;D.gM.prototype.zX=D.Fs.prototype.azs;
D.gM.prototype.LV=function(x,R,T,c){this.kx=c;this.ah$=this.Ss.wconf[0];this.finish(x,R,T,c)};D.gM.prototype.Dg=function(x,R,T,c,g){if(!c.Kk)return;
var d=new aA(v.E.v);d.f=D.hG;d.data={d:"h_stepbck"};g.c(d);var U=c.x-this.kx.x,e=Math.max(0,Math.min(255,Math.round(this.ah$+U/4)));
this.Ss.wconf[0]=e;this.yi(g);this.finish(x,R,T,this.kx)};D.gM.prototype.ho=function(x,R,T,c,g){this.Ss.wconf[0]=this.ah$;
this.yi(g)};D.gM.prototype.getSelection=function(x,R,T,c){var g=this.ni;g=x.Q.nU(c.x,c.y);var d=D.Fs.aAy(new cI(Math.floor(g.x),Math.floor(g.y)),this.Ss.wconf,this.Ss.sall);
return d};D.gM.a87=function(x,R,T,c,g){if(R.x<0||R.x>x.m||R.y<0||R.y>x.e)return null;var d,U=new aP(0,0,x.m,x.e);
if(c)d=x.Yr();else{var e=x.g.length,l=null;if(e!=1){alert(e==0?"No layer selected.":"More than one layer selected.");
return null}var N=x.R[x.g[0]];if(g)l=N.s4<=0?null:N.s4==1?N.le():N.Ct(x).F;if(l==null&&N.add.lsct!=null&&N.add.lsct!=ew.fA){alert("No layer selected.");
return null}if(l==null&&U.X$(N.rect))d=N.buffer;else{d=u.B(U.Z()*4);if(l==null)u.yU(N.buffer,N.rect,d,U);
else D.AN.nS(l.channel,l.rect,l.color,d,U)}}var J=D.gM.uI(d,U,R,null,T),w=u.Vn(J,U),s=u.B(w.Z());u.gN(J,U,s,w);
return{rect:w,channel:s}};D.gM.xp=function(x,R,T){var c=R.m,g=R.e,U=0,e=0,N=0,l=0;x=new Uint32Array(x.buffer);
var d=[],J=T.length;for(var z=0;z<J;z++){var w=T[z],s=Math.round(w.x-.5-R.x),o=Math.round(w.y-.5-R.y);
s=Math.max(0,Math.min(c-1,s));o=Math.max(0,Math.min(g-1,o));var V=o*c+s,a=x[V];d.push([a&255,a>>8&255,a>>16&255,a>>>24])}return d};
D.gM.uI=function(x,R,T,c,g){x=new Uint32Array(x.buffer);var d=R.m,U=R.e,e=d*U;if(c==null)c=D.gM.xp(x,R,[T]);
var N=Math.round(T.x-.5-R.x),l=Math.round(T.y-.5-R.y),J=l*d+N,w=Date.now(),s=u.B(d*U),o=g[0],V=1/o,a=g[1]&&o>0?255:0;
if(g[2]){var O=u.B(s.length),S=new Uint32Array(e),L=1;S[0]=N<<16|l;O[J]=1;while(L>0){var Q=S[L-1];L--;
var b=Q>>>16,Z=Q&65535,z=Z*d+b,I=D.gM.CO(x[z],c);if(I>o){var y=a*(1-Math.max(0,Math.min(1,(I-o)*V)));
s[z]=~~y}else{s[z]=255;if(Z!=U-1&&O[z+d]==0){S[L++]=b<<16|Z+1;O[z+d]=1}if(Z!=0&&O[z-d]==0){S[L++]=b<<16|Z-1;
O[z-d]=1}if(b!=d-1&&O[z+1]==0){S[L++]=b+1<<16|Z;O[z+1]=1}if(b!=0&&O[z-1]==0){S[L++]=b-1<<16|Z;O[z-1]=1}}}}else{for(var z=0;
z<e;z++){var I=D.gM.CO(x[z],c);if(I<=o)s[z]=255}for(var Z=0;Z<U;Z++)for(var b=0;b<d;b++){var z=Z*d+b;
if(s[z]==0&&(b>0&&(s[z-1]==255||Z>0&&s[z-d-1]==255||Z<U-1&&s[z+d-1]==255)||b<d-1&&(s[z+1]==255||Z>0&&s[z-d+1]==255||Z<U-1&&s[z+d+1]==255)||Z>0&&s[z-d]==255||Z<U-1&&s[z+d]==255)){var I=D.gM.CO(x[z],c),y=a*(1-Math.max(0,Math.min(1,(I-o)*V)));
s[z]=~~y}}}return s};D.gM.CO=function(x,R){var T=R.length,c=D.gM.af0(x,R[0]),z=1;while(z!=T){c=Math.min(c,D.gM.af0(x,R[z]));
z++}return c};D.gM.af0=function(x,R){var T=x&255,c=x>>>8&255,g=x>>>16&255,d=x>>>24&255;if(R[3]==0)return d<5?0:255;
var U=Math.max(Math.abs(T-R[0]),Math.max(Math.abs(c-R[1]),Math.abs(g-R[2])));return d==0?255:U};D.Ts=function(x,R){if(R)D.AN.call(this);
else if(x)D.AN.call(this,[10,49],D.L1,"tools/camove");else D.AN.call(this,[10,26],D.J8,"tools/patch");
this.xY=null;this.Rc=null;this.w=null;this.Og=null;this.uG=new cI;this.qP=null;this.tQ=null};D.Ts.prototype=new D.AN;
D.Ts.prototype.fz=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y);if(x.u&&u.Ua(d,x.u.channel,x.u.rect)){var U=new aP(0,0,x.m,x.e),e=U.yx(x.u.rect);
if(!x.nD()||e.Y3())return;if(!0){var N=u.B(e.Z());u.gN(x.u.channel,x.u.rect,N,e);x.u={channel:N,rect:e}}this.MT(x);
this.VA(x);this.Og=d;this.uG=new cI(d.x-x.u.rect.x,d.y-x.u.rect.y);this.tQ=u.B(x.u.rect.Z()*4);this.tQ.fill(255);
if(this.Ss.patch==1){var l=x.R[x.g[0]];l.qN(x,x.u,!0);if(l.Cq==null)this.Og=null}this.qP=x.u.rect.clone()}else{this.Rc={z:[d.x,d.y],G:["M"]};
this.xY=d}};D.Ts.prototype.gQ=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y);if(this.Og){if(this.Ss.patch==1){if(x.nE.length==0){var U=x.R[x.g[0]].Cq,e=d.x-this.uG.x,N=d.y-this.uG.y;
D.K$.nR(x,x.g[0],Math.round(e-U.HL.x),Math.round(N-U.HL.y))}}else this.a5g(x,d,"clone")}if(this.xY){this.Rc.G.push("L");
this.Rc.z.push(d.x,d.y);this.xY=d;x.N.Xp=this.Rc;x.Sa=!0}};D.Ts.prototype.rR=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y);
if(this.Og){var U=x.u.rect.clone();if(this.id==D.L1){var e=x.R[x.g[0]];e.i6(x,e.Cq);x.u.rect=this.qP.clone();
var N=u.B(x.u.rect.Z()*4);u.rN(x.u.channel,N,3);this.f7(x,"sheal",N,x.u.rect,x.u.rect);x.u.rect=U;U=U.y8(this.qP)}this.a5g(x,d,"heal");
this.finish(x,U,null,null,!0);x.W(U);this.Og=null}if(this.xY){var l=D.Fs.gt(this.Ss.setop,c.S(fZ.xg),c.S(fZ.ng)),J=new aA(v.E._M,!0);
if(this.Rc.z.length<=4)J.data=D.Fs.Vc();else J.data=D.Fs.Xu(this.Rc.z,l);R.c(J);this.xY=null;x.N.Xp=null;
x.Sa=!0}};D.Ts.prototype.ih=function(){return this.w};D.Ts.prototype.B7=function(x,R,T,c,g){D.AN.prototype.B7.call(this,x,R,T,c,g);
this.Ny(g,c)};D.Ts.prototype.Ny=function(x,R){var T="auto;";if(R!=null&&R.S(fZ.xg)&&!R.S(fZ.ng)||this.Ss.setop=="union")T="copy";
var c=new aA(v.E.P,!0);c.data={d:v.H.pm,ze:T};if(this.caller)this.caller.c(c)};D.Ts.prototype.a5g=function(x,R,T){var c=new cI(Math.round(this.Og.x-R.x),Math.round(this.Og.y-R.y));
if(this.Ss.patch==1)c.LR(-c.x,-c.y);this.w=c;this.f7(x,T,this.tQ,x.u.rect,x.u.rect);this.W(x,x.u.rect)};
D.a8E=function(){D.Ts.call(this,!0);this.Ss.patch=1};D.a8E.prototype=new D.Ts(!0,!0);D.eh=function(x){if(x)D.AN.call(this,[10,52],D.a8B,"tools/meraser");
else D.AN.call(this,[10,13],D.asa,"tools/pbucket");this.LT=!1;this.afn=x};D.eh.prototype=new D.AN;D.eh.prototype.enable=function(x,R,T,c){var g=new aA(v.E.P,!0);
g.data={d:v.H.pm,ze:"default"};R.c(g)};D.eh.prototype.L4=function(x,R){};D.eh.prototype.fz=function(x,R,T,c,g){this.LT=!0};
D.eh.prototype.rR=function(x,R,T,c,g,d){var U=this.LT;this.LT=!1;if(!U||d)return;if(this.ZF(c,R,g))return;
if(!x.nD())return;var e=x.Q.nU(g.x,g.y),N=D.gM.a87(x,e,this.Ss.wconf,this.Ss.sall,!0);if(N==null)return;
var l=u.B(N.rect.Z()*4);u.Qu(l,(T.gR&255)<<16|(T.gR>>8&255)<<8|(T.gR>>16&255)<<0);u.rN(N.channel,l,3);
this.MT(x);this.f7(x,this.afn?"erase":"draw",l,N.rect,N.rect);this.W(x,N.rect);this.finish(x,N.rect)};
D.qm=function(){D.Fs.call(this,[10,14],D.aho,"tools/plasso");this.xx="crosshair";this.E6=[];this.hE=null;
this.Rc=null;this.ahh=0};D.qm.prototype=new D.Fs;D.qm.prototype.disable=function(x,R,T,c){this.KR(x)};
D.qm.prototype.LV=function(x,R,T,c){this.E6=[fZ.U5,fZ.ve]};D.qm.prototype.WX=function(x){return this.E6.indexOf(x)!=-1};
D.qm.prototype.zc=function(x){return this.Rc!=null};D.qm.prototype.CJ=function(){return this.Rc!=null};
D.qm.prototype.Vd=function(){return this.Rc!=null};D.qm.prototype.Dg=function(x,R,T,c){if(this.Rc==null)return;
var g=this.Rc,d=g.z,U=d.length-2,e=this.ni;if(this.e8.jZ(1)&&T.S(fZ.ng)&&c.Kk){d.push(0,0);g.G.push("L");
U+=2}else if(T.S(fZ.xg))e=D.Xg.i8(new cI(d[U-2],d[U-1]),e);d[U]=e.x;d[U+1]=e.y;x.N.Xp=g;x.Sa=!0};D.qm.prototype.ho=function(x,R,T,c){var g=Date.now();
if(this.Rc==null)this.Rc={z:[this.ni.x,this.ni.y,this.ni.x,this.ni.y],G:["M","L"]};else{this.Dg(x,R,T,c);
if(g-this.ahh<250||cI.rE(this.ni,new cI(this.Rc.z[0],this.Rc.z[1]))<D.CM(x,c)){this.hE=this.Rc;this.finish(x,R,T,c);
this.KR(x);return}this.Rc.G.push("L");this.Rc.z.push(this.ni.x,this.ni.y)}this.ahh=g;x.N.Xp=this.Rc};
D.qm.prototype.KR=function(x){this.Rc=null;this.E6=[];if(x!=null){x.N.Xp=null;x.Sa=!0}};D.qm.prototype.Rw=function(x,R,T,c){D.Fs.prototype.Rw.call(this,x,R,T,c);
if(c.S(fZ.jK)&&this.Rc==null&&this.hE&&x.u!=null){var g=new aA(v.E.v);g.f=D.hG;g.data={d:"h_stepbck"};
R.c(g);this.LV(x,T,c,null);this.Rc=this.hE;return}if(this.Rc==null)return;if(c.S(fZ.U5)||c.S(fZ.ve)){this.Rc.z.pop();
this.Rc.z.pop();this.Rc.G.pop();this.Dg(x,T,c)}if(c.S(fZ.AQ)){if(this.Rc.z.length>4){this.hE=this.Rc;
this.finish(x,T,c)}this.Rc=null}if(c.S(fZ.jK)){this.Rc=null}x.N.Xp=this.Rc;x.Sa=!0};D.qm.prototype.getSelection=function(x,R,T,c){return D.Fs.Xu(this.Rc.z,null,this.Ss.anta)};
D.W9=function(){D.Fs.call(this,[10,10],D.atI,"tools/mlasso");this.xx="crosshair";this.E6=[];this.$=[];
this.wM=[];this._4=[];this.jd=null;this.$n=null;this.P0=null;this.rB=0;this.V6=0};D.W9.prototype=new D.Fs;
D.W9.prototype.disable=function(x,R,T,c){this.clear(x)};D.W9.prototype.zc=function(x){return this.$.length!=0};
D.W9.prototype.Vd=function(){return this.$.length!=0};D.W9.prototype.WX=function(x){return this.E6.indexOf(x)!=-1};
D.W9.prototype.LV=function(x,R,T,c){this.E6=[fZ.U5,fZ.ve];var g=this.Ev(this.vd,x);if(this.$.length!=0&&(cI.rE(g,this.$[0])<D.CM(x,c)||Date.now()-this.rB<300)){this._A(x,this.$[0]);
this.finish(x,R,T);this.clear(x);return}this.rB=Date.now();if(this.$.length!=0)g=this.uq(g,x);else{var d=x.m,U=x.e,e=u.B(d*U),N=x.Yr(),l=d*U*4;
for(var z=0;z<l;z+=4)e[z>>>2]=~~(.5+u.Et(N[z],N[z+1],N[z+2])*(N[z+3]*(1/255)));this.jd=u.o6.aep(e,d,U);
this.P0=new Uint16Array(e.length)}this._A(x,g);this.V6=T.S(fZ.ng)?1:0;this.Hm(x)};D.W9.prototype._A=function(x,R){var T=this.$;
this.wM[T.length]=this._4.length;if(T.length!=0){u.o6.JB(this.$n,R.y*x.m+R.x);var c=this.Ud(x,R);c.reverse();
var g=D.W9.a4Y(x,c);this._4=this._4.concat(g)}T.push(R);this.aw7(x)};D.W9.prototype.aw7=function(x){var R=this.$[this.$.length-1],T=R.y*x.m+R.x;
this.$n=u.o6.af9(this.jd.BL,this.jd.tB,T);this.P0.fill(0)};D.W9.prototype.Ev=function(x,R){return new cI(Math.floor(Math.max(0,Math.min(R.m-1,x.x))),Math.floor(Math.max(0,Math.min(R.e-1,x.y))))};
D.W9.prototype.clear=function(x){this._4=[];this.$=[];this.wM=[];this.jd=null;this.$n=null;this.P0=null;
if(x!=null){x.N.Xp=null;x.N.rb=[];x.Sa=!0}this.E6=[]};D.W9.prototype.Dg=function(x,R,T,c){var g=this.$,d=g.length;
if(d==0)return;var U=this.uq(this.Ev(this.ni,x),x),e=this.Ud(x,U);for(var z=0;z<e.length;z++){var N=e[z],l=new cI(N%x.m,Math.floor(N/x.m));
if(this.P0[N]>30&&cI.rE(l,g[d-1])>20){this._A(x,l);return}this.P0[N]++}if(this.V6==1&&c.Kk)this._A(x,U);
this.Hm(x)};D.W9.prototype.Hm=function(x){var R=this.$;if(R.length!=0){var T=this.uq(this.Ev(this.ni,x),x),c=this.Ud(x,T);
c.reverse();var g=D.W9.a4Y(x,c),d=this._4.concat(g),U=x.N.Xp={z:d,G:["M"]};for(var z=2;z<d.length;z+=2)U.G.push("L")}x.N.rb=[];
for(var z=0;z<R.length;z++)x.N.rb.push(R[z].x+.5,R[z].y+.5);x.Sa=!0};D.W9.prototype.ho=function(x,R,T,c){};
D.W9.prototype.Rw=function(x,R,T,c){if(this.$.length==0)return;if(c.S(fZ.U5)||c.S(fZ.ve)){this.$.pop();
this._4=this._4.slice(0,this.wM[this.$.length]);this.wM.pop();if(this.$.length==0)this.clear(x);else this.aw7(x);
this.Hm(x)}if(c.S(fZ.AQ)){var g=this.Ev(this.ni,x);this._A(x,g);this.finish(x,T,c);this.clear(x)}if(c.S(fZ.jK)){this.clear(x)}};
D.W9.prototype.getSelection=function(x,R,T,c){return D.Fs.Xu(this._4,null,this.Ss.anta)};D.W9.prototype.Ud=function(x,R){var T=this.$[this.$.length-1],c=T.y*x.m+T.x,g=R.y*x.m+R.x;
if(this.V6==1)return[g,c];var d=[g];while(g!=c){g=this.$n.dL[g];d.push(g);if(d.length>5e3){console.log(d);
throw"e"}}return d};D.W9.a4Y=function(x,R){var T=[],c=x.m;for(var z=0;z<R.length;z++){var g=R[z];T.push(g%c+.5,Math.floor(g/c)+.5)}return T};
D.W9.prototype.uq=function(x,R){var T=R.m,c=R.e,g=x.clone(),U=3;u.o6.JB(this.$n,x.y*T+x.x);var d=this.$n.SY[x.y*T+x.x];
for(var e=-U+1;e<U;e++)for(var N=-U+1;N<U;N++){var l=x.x+N,J=x.y+e;if(l<0||l>=T||J<0||J>=c)continue;
u.o6.JB(this.$n,J*T+l);if(this.$n.SY[J*T+l]<d)g.LR(l,J)}return g};D.AF=function(){D.Gj.call(this,[10,36],D.mx,"tools/ruler");
this.no=null;this.LM=null;this.vp=null;this.oO=null;this.EN=null};D.AF.prototype=new D.Gj;D.AF.prototype.zc=function(x){return x.Kk};
D.AF.prototype.enable=function(x,R,T,c){D.Gj.prototype.enable.call(this,x,R,c,T);if(x)this.uJ(x)};D.AF.prototype.disable=function(x,R,T,c){if(x)this.KR(x)};
D.AF.prototype.gb=function(x,R,T,c,g){this.no=this.vp=null;this.uJ(T)};D.AF.prototype.fz=function(x,R,T,c,g){var d=D.CM(x,g),U=x.Q.nU(g.x,g.y);
U.x=Math.round(U.x);U.y=Math.round(U.y);var e=this.no;this.LM=e?e.slice(0):null;var N=e&&cI.rE(U,e[0])<d,l=e&&cI.rE(U,e[1])<d,J=e&&e[2]&&cI.rE(U,e[2])<d;
if(N||l||J){if(c.S(fZ.ng)&&e.length==2){if(l){var w=e[0];e[0]=e[1];e[1]=w}e[2]=e[0].clone();this.vp=[2]}else this.vp=[N?0:l?1:2]}else if(e&&D.AF.al7(e[0],e[1],U)<d&&Math.min(e[0].x,e[1].x)-5<=U.x&&U.x<=Math.max(e[0].x,e[1].x)+5&&Math.min(e[0].y,e[1].y)-5<=U.y&&U.y<=Math.max(e[0].y,e[1].y)+5){this.vp=[];
this.EN=[];for(var z=0;z<e.length;z++){this.vp.push(z);this.EN.push(e[z].clone())}this.oO=U}else{this.no=[U.clone(),U.clone()];
this.vp=[1]}};D.AF.prototype.gQ=function(x,R,T,c,g){if(this.vp==null)return;var d=this.no,U=this.vp,e=x.Q.nU(g.x,g.y);
e.x=Math.round(e.x);e.y=Math.round(e.y);if(U.length>1){var N=e.x-this.oO.x,l=e.y-this.oO.y;for(var z=0;
z<d.length;z++){d[z]=this.EN[z].clone();d[z].offset(N,l)}}else{d[U[0]].LR(e.x,e.y);if(c.S(fZ.xg)){d[U[0]]=D.Xg.i8(d[1-U[0]],d[U[0]])}}this.uJ(x);
this.nj(R,v.E.P,{d:v.H.Pn,f:this.id,a1R:d[0],Pj:d[1],MS:d[2],De:x.De,a0B:x.m});x.Q.OL=u.M.CC([d[0].x,d[0].y,d[1].x,d[1].y]);
console.log(x.Q.OL)};D.AF.prototype.rR=function(x,R,T,c,g,d){this.vp=null;if(d){this.no=this.LM.slice(0);
this.uJ(x)}};D.AF.prototype.nj=function(x,R,T){var c=new aA(R,!0);c.data=T;x.c(c)};D.AF.prototype.uJ=function(x){var R=this.no;
if(R==null)this.KR(x);else{var T=[R[1].x,R[1].y,R[0].x,R[0].y],c=["M","L"];if(R.length>2){T.push(R[2].x,R[2].y);
c.push("L")}x.N.Xp={G:c,z:T};x.N.rb=T}x.Sa=!0};D.AF.prototype.KR=function(x){x.N.Xp=null;x.N.rb=[]};
D.AF.al7=function(x,R,T){var c=R.x-x.x,g=R.y-x.y,d=Math.abs(g*T.x-c*T.y+R.x*x.y-R.y*x.x),U=Math.sqrt(c*c+g*g);
return U==0?0:d/U};D.Yv=function(){D.AN.call(this,[10,19],D.de,"tools/sharpen");this.Sb="copy"};D.Yv.prototype=new D.AN;
D.Yv.prototype.fz=function(x,R,T,c,g){var d=this.Ss.pdetail?fC.SJ:fC.de;if(c.S(fZ.ng))d=fC.Es;this.wE(x,T,c,g,this.Ss.strn,d);
if(this.pi==null)return;this.X1(x)};D.Yv.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);if(this.$W)this.SZ(x,T,g);
if(this.pi==null)return;if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D.XM=function(){D.AN.call(this,[10,24],D.K_,"tools/shbrush");
this.Sb="draw";this.Ss.opacity=.5};D.XM.prototype=new D.AN;D.XM.prototype.fz=function(x,R,T,c,g){this.wE(x,T,c,g,1);
if(this.pi==null)return;this.VA(x);this.X1(x)};D.XM.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);
if(this.$W)this.SZ(x,T,g);if(this.pi==null)return;if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D.XM.prototype.rR=function(x,R,T,c,g){if(this.pi==null)return;
this.f7(x,"sheal",this.pi.Gr(),this.pi.zC(),this.pi.F_(),null);this.W(x,this.pi.F_());D.AN.prototype.rR.call(this,x,R,T,c,g)};
D.p5=function(){D.AN.call(this,[10,20],D.R7,"tools/smudge");this.Sb="copy"};D.p5.prototype=new D.AN;
D.p5.prototype.fz=function(x,R,T,c,g){this.wE(x,T,c,g,this.Ss.strn,fC.R7);if(this.pi==null)return;this.X1(x)};
D.p5.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);if(this.$W)this.SZ(x,T,g);if(this.pi==null)return;
if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D._Y=function(){D.AN.call(this,[10,23],D.w0,"tools/sponge");
this.Sb="sponge"};D._Y.prototype=new D.AN;D._Y.prototype.fz=function(x,R,T,c,g){this.wE(x,T,c,g,this.Ss.flow);
if(this.pi==null)return;this.X1(x)};D._Y.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);if(this.$W)this.SZ(x,T,g);
if(this.pi==null)return;if(!g.Kk)return;this.g3(x,T,c,g);this.X1(x)};D.m6=function(){D.Gj.call(this,[10,17],D.p3,"tools/zoom");
this.F0=!1;this.S3=!0;this.Ns=!1;this.yQ=0;this.fw=null;this.D7=null;this.Jh=0;this.jc=null;this.a32=0;
this.HI=new d$([{name:[8,0],sZ:"Ctrl + +"},{name:[8,1],sZ:"Ctrl + -",NC:!0},{name:[20,3],sZ:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],sZ:"Ctrl + 1"}],[{K:v.E.v,f:D.p3,C:{d:"zoom",S3:!0}},{K:v.E.v,f:D.p3,C:{d:"zoom",S3:!1}},{K:v.E.v,f:D.p3,C:{d:"adapt",b:"fitscr"}},{K:v.E.v,f:D.p3,C:{d:"adapt",b:"pixel"}}])};
D.m6.prototype=new D.Gj;D.m6.prototype.A4=function(x,R,T,c,g){var d=this.HI;d.t();d.parent=R;d.update(x,T);
var U=new aA(v.E.P,!0);U.data={d:v.H.fu,YR:d,x:g.yq+2,y:g.xa+1};R.c(U)};D.m6.prototype.enable=function(x,R,T,c){this.Xq(R,c);
if(x&&Date.now()-this.yQ<300)this.gb({d:"adapt",b:"pixel"},R,x,c,T);this.yQ=Date.now()};D.m6.prototype.fz=function(x,R,T,c,g){this.D7=new cI(g.x,g.y);
this.Jh=x.Q.O;this.jc=x.Q.w.clone()};D.m6.prototype.gQ=function(x,R,T,c,g){if(this.D7==null)return;var d=Math.exp(Math.log(this.Jh)+(g.x-this.D7.x)/64);
d=Math.max(.02,Math.min(D.m6.VE[0],d));x.Q.O=this.Jh;x.Q.w=this.jc.clone();this.gb({d:"zoom",O:d,WJ:this.D7,Ns:this.Ns},R,x,c,T)};
D.m6.prototype.rR=function(x,R,T,c,g){if(cI.rE(this.D7,g)<4){var d=this.ajp(c);this.gb({d:"zoom",S3:d,WJ:g,Ns:this.Ns},R,x,c,T)}this.D7=null};
D.m6.VE=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
D.m6.du=function(x,R,T,c){var g=1;while(x*g*1/2>T||R*g*1/2>c)g*=1/2;if(x*g*2/3>T||R*g*2/3>c)g*=1/2;else if(x*g>T||R*g>c)g*=2/3;
return g};D.m6.a1I=function(x,R){var T=D.m6.a1J(x);if(R&&T==0)return x;if(!R&&T==D.m6.VE.length-1)return x;
return D.m6.VE[R?T-1:T+1]};D.m6.a1J=function(x){var R=0;while(D.m6.VE[R]>x)R++;return R};D.m6.HW=function(x,R,T,c){var g=x.V1;
if(c==0||c==null){c=D.m6.a1I(x.O,T);if(c==x.O)return}var d=x.nU(R.x,R.y);d.x=Math.max(0,Math.min(g.m,d.x));
d.y=Math.max(0,Math.min(g.e,d.y));if(!1){}else{var U=x.ly(),e=x.O/c;U.translate(-d.x,-d.y);U.scale(e,e);
U.translate(d.x,d.y);x.a5a(U)}};D.m6.prototype.gb=function(x,R,T,c,g){if(x.d=="pzoom"){if(typeof x.b=="string")return;
x={d:"zoom",O:x.b/100}}var d=0,U=!1,e=null;if(x.d=="adapt"){var N=0;if(x.b=="pixel")N=1;if(x.b=="fitscr"){var N=0,l=T.Q.dz.m,J=T.Q.dz.e,w=new aP(0,0,T.m,T.e),s=u.M.$x(w).z,o=new gP;
o.rotate(T.Q.Hh);u.M.i(s,o,s);var V=u.M.QK(s),a=g.Tg?u.A8.Tb+4:8;N=Math.min((l-a*2)/V.m,(J-a*2)/V.e);
T.Q.w.LR(0,0)}e=new cI(Math.round(T.Q.dz.m/2),Math.round(T.Q.dz.e/2));d=N;D.m6.HW(T.Q,e,U,d);T.Sg=!0}if(x.d.startsWith("multi")){function O(k){var A=k[0].x-k[1].x,_=k[0].y-k[1].y;
return Math.sqrt(A*A+_*_)}function S(k){return new cI((k[0].x+k[1].x)/2,(k[0].y+k[1].y)/2)}var L=x.u8,Q=S(L);
if(x.d=="multidown"){this.fw=[L,T.Q.O,T.Q.nU(Q.x,Q.y)]}else{var b=D.m6.VE;d=this.fw[1]*O(L)/O(this.fw[0]);
d=Math.max(b[b.length-1],Math.min(b[0],d));if(d!=T.Q.O)D.m6.HW(T.Q,Q,U,d);var Z=this.fw[2],I=T.Q.YP(Z.x,Z.y),y=T.Q.w;
y.x=Math.round(y.x+Q.x-I.x);y.y=Math.round(y.y+Q.y-I.y);T.Sg=!0}}if(x.d=="scroll"){e=x.WJ;var b=D.m6.VE,r=x.Ox.y,h=1+Math.abs(r)*8e-4*(x.a6w?10:1);
if(r>0)h=1/h;d=T.Q.O*h;D.m6.HW(T.Q,e,U,Math.min(b[0],Math.max(b[b.length-1],d)));T.Sg=!0}if(x.d=="zoom"){var k=x.Ns?R.JQ:[T];
for(var z=0;z<k.length;z++){var K=k[z],H=K.Q;e=x.WJ?x.WJ:new cI(Math.round(H.dz.m/2),Math.round(H.dz.e/2));
if(x.O!=null)d=x.O;else U=x.S3;D.m6.HW(H,e,U,d);K.Sg=!0}}if(x.d=="mskView"){var p=T.R[T.g[0]];if(p.s4<=0){p.s4=1;
T.kn=!0}var f=p.s4==3?p.Ct(T).F:p.le();if(x.b==0){T.Q.U=[1,1,1];f.PW=!1}if(x.b==1){T.Q.U=[1,1,1];f.PW=!0}if(x.b==2){T.Q.U=[0,0,0];
f.PW=!0}for(var z=0;z<T.Hp.length;z++)T.Hp[z].PW=!1;T.nE=[];T.Sa=!0}};D.m6.prototype.Rw=function(x,R,T,c){if(this.F0!=c.S(fZ.ng)){this.F0=c.S(fZ.ng);
var g={d:v.H.Pn,f:this.id,F0:this.F0},d=new aA(v.E.P,!0);d.data=g;R.c(d);this.Xq(R,c)}};D.m6.prototype.Xq=function(x,R){var T=new aA(v.E.P,!0),c=this.ajp(R);
T.data={d:v.H.pm,ze:c?"zoom-in":"zoom-out"};x.c(T)};D.m6.prototype.B7=function(x,R,T,c){this.S3=x.S3;
this.Ns=x.Ns;this.Xq(R,c)};D.m6.prototype.ajp=function(x){var R=this.S3;if(x.S(fZ.Ed)&&x.S(fZ.Gc))R=!0;
if(this.F0)R=!R;return R};D.m6.a36=function(x,R){if(x.S(fZ.bW)||x.S(fZ.a8R)){R.f=D.p3;R.data={d:"zoom",S3:!0}}if(x.S(fZ.d2)){R.f=D.p3;
R.data={d:"zoom",S3:!1}}if(x.S(fZ.H3)){R.f=D.p3;R.data={d:"adapt",b:"fitscr"}}if(x.S(fZ.H_)){R.f=D.p3;
R.data={d:"adapt",b:"pixel"}}};D.h3=function(x,R,T){D.Gj.call(this,x,R,T);this.Lh=null;this.Dn=null;
this.RA=null;this.ao$=0};D.h3.prototype=new D.Gj;D.h3.Ll=function(x,R){var T={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},c=x==null?{classID:"null",null:T,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:T,Usng:{t:"type",v:{classID:x}},__name:"Stroke"};
if(R)c.Prs={t:"bool",v:!0};return{Sm:x==null?"fill":"stroke",M1:c}};D.h3.prototype.enable=function(x,R,T,c,g){this.Dn=T;
var d=new aA(v.E.P,!0);d.data={d:v.H.pm,ze:"default"};R.c(d)};D.h3.prototype.A4=function(x,R,T,c,g){var d=x.JR(),U=d[0],e=d[1];
if(e.length==0)return;var N=U[e[0]],l=N.add.vmsk,J=x.Q.nU(g.x,g.y),w=4*D.mM()/x.Q.O,s=new aP(J.x-w,J.y-w,w*2,w*2),o=u.j.wf(l.$,s)[0];
if(o.length!=0){l.fH=o;x.Sa=!0}var V=u.j.Ua(l.$,J).iY;if(V!=-1){l.g=[V];x.Sa=!0}var a=new aA(v.E.P,!0);
a.data={d:v.H.Pn,f:this.id,kW:g,Hv:x,im:T};R.c(a)};D.h3.prototype.awJ=function(x,R){var T=new aA(v.E.P,!0);
T.data={d:v.H.pV,vr:hc.nx};if(!R.St)x.c(T);T.data={d:v.H.pV,vr:hc.$g};if(!R.j3.OQ)x.c(T)};D.h3.prototype.Lm=function(x,R,T,c,g){if(T.lf!=this.id&&g==null)return;
if(x.g.length==0)return;var d=x.R[x.g[0]],U=d.add.vmsk,e=d.add.vstk,N=D.h3.qE(x,x.g[0]);this.Lh=x;this.RA=R;
if(d.bT()&&U!=null&&(JSON.stringify(e)!=JSON.stringify(T.Vz)||JSON.stringify(N)!=JSON.stringify(T.VH))){this.ao$=Date.now();
var l=new aA(v.E.P,!0);l.data={d:v.H.pV,vr:hc.GD,b:N};R.c(l);l.data={d:v.H.pV,vr:hc.Jt,b:e};R.c(l)}};
D.h3.prototype.L4=function(x,R){if(this.Lh==null)return;if(R==hc.cp||R==hc.GD||R==hc.Jt){if(Date.now()-this.ao$<50)return;
var T=R==hc.GD,c=this.Lh,g=T?x.VH:x.Vz,d=[],U=c.g;for(var z=0;z<U.length;z++){var e=U[z],N=c.R[e];if(!N.bT()||N.add.vmsk==null)continue;
d.push(e)}var l=new aA(v.E.v,!0);l.f=D.d_;l.data={d:F.Ok,eb:d,nn:T,b:g};if(d.length!=0)this.RA.c(l)}};
D.h3.prototype.acd=function(x){if(typeof x=="number"){var R=new aA(v.E._M,!0);R.data=D._T.z9(0);R.data.M1.Usng.v.Type.v.Clr.v=u.I.SE({o:x>>>16&255,A:x>>>8&255,J:x>>>0&255});
this.RA.c(R)}};D.h3.prototype.gb=function(x,R,T,c,g){this.RA=R;if(x.d=="newfill"){if(x.bh==0){var d=new aA(v.E.P,!0);
d.data={d:v.H.i$,$k:"colorpicker",O7:g.gR,FO:this.acd.bind(this)};R.c(d)}}else if(x.d=="smplp"){if(T==null)return;
var U=T.JR(),e=U[0],N=U[1];if(N.length==0){alert("No paths selected");return}var l=e[N[0]];if(l.add.vmsk.g.length<=0){alert("No paths selected");
return}if(this.q_==null){this.q_=l.add.vmsk.clone();this.EK=JSON.stringify(l.add.vogk);this.Rc=l;this.Lh=T}var d=new aA(v.E.P,!0);
d.data={d:v.H.i$,$k:"simplifypath",Ey:100,BJ:this.an_.bind(this)};R.c(d)}else if(x.d=="pathedit"){var J=x.J2,w="",o=T.OQ.slice(0),V=T.pT.slice(0),a=T.OQ.slice(0),O=T.pT.slice(0);
if(J=="rnm"){var S=-1-x.iY,L=o[S],Q=c9.xs(x.name,L.add);if(S!=0)a[S]=Q;else{O=[a.length];a.push(Q);a[0]=c9.xs("Work Path")}w="Rename"}else if(J=="new"){var Q=c9.xs("Path "+o.length);
if(x.aAG){var U=T.JR(),e=U[0],N=U[1],b=e[N[0]];Q.add.vmsk=b.add.vmsk.clone();Q.add.vogk=JSON.parse(JSON.stringify(b.add.vogk));
if(b.iY==-1){var Z=a[O[0]]=c9.xs("Path "+o.length);Z.name=b.name;Z.iY=b.iY}}a.push(Q);O=[a.length-1];
w="New"}else if(J=="del"){if(O.length==0)return;O.sort(function(f,j){return f-j});if(O[0]==0){a[0]=c9.xs(o[0].name);
O=O.slice(1)}var I=0;while(O.length!=0){a.splice(O[0]-I,1);O=O.slice(1);I++}w="Delete"}else if(J=="fromsel"){var l=a[0]=c9.xs("Work Path");
O=[0];if(T.u==null)return;var y=T.u.channel.slice(0);for(var z=0;z<y.length;z++)y[z]=y[z]>128?2:1;var r=T.u.rect.clone();
r.t1(1,1);var h=u.B(r.Z());u.gN(y,T.u.rect,h,r);var k=bd.WU(h,r.m,r.e,Math.round(r.Z()*5e-4)),e=bd.JR(k),K=new gP(1,0,0,1,-1+T.u.rect.x,-1+T.u.rect.y);
for(var z=0;z<e.length;z++)u.M.i(e[z].path.z,K,e[z].path.z);for(var z=0;z<e.length;z++){var H=e[z];if(H.color==1&&H.parent==-1)continue;
var p=u.M.gj(e[z].path,!1);l.add.vmsk.$=l.add.vmsk.$.concat(p.slice(2))}l.add.vogk=F.h5(l.add.vmsk.$);
w="Selection to"}var f=new ka(w+" Path",this);f.data={LM:o,MW:V,a3G:a,NF:O};if(J=="fromsel"){f.data.ua=T.u;
f.data.SG=null}T.XY(f);this.cU(f.data,T)}else{var A=x.hK,U=T.JR(x.d=="append"||x.d=="fromAction"),e=U[0],N=U[1],l=e[N[0]],_=l.add.vmsk,W=l.add.vogk,Y=_.clone(),G=_.clone(),i=JSON.stringify(W);
if(x.d=="fromAction"){var E=x.J9,$=E.Sm,C=E.M1,B=C.T;if($=="set"){if(B){W.push(u.oZ.Bb(B));G.$.push({type:0,AC:1,length:0});
u.oZ.wY(W,G);A=[12,76,0]}else throw C}else if($=="draw"){W=[u.oZ.Bb(C.Shp)];G.$.push({type:0,AC:1,length:0});
u.oZ.wY(W,G);D.h3.aby(G.$,C.AntA.v,g.gR,R);return}else throw $}else if(x.d=="remove"){if(x.P9&&G.fH.length!=0){G.$=u.j.ajx(G.$,G.fH,W,x.ay7);
var M=u.j.fc(G.$);for(var z=0;z<G.g.length;z++)if(G.g[z]>=M){G.g.splice(z,1);z--}G.fH=[];A="Delete Anchors"}else{if(G.g.length==0)return;
var I=0;for(var z=0;z<G.g.length;z++){W.splice(G.g[z]+I,1);I--}G.$=u.j.aht(G.$,G.g);G.g=[];G.fH=[];if(A==null)A="Delete Paths"}}if(x.d=="append"){D.h3.lt(x.ayQ,G,W)}this.Od(T,l.iY,G,W);
this.ZW(T,A,l.iY,Y,G.clone(),null,i,JSON.stringify(W))}};D.h3.aby=function(x,R,T,c){var g=new F.LS;g.$=g.$.concat(x.slice(2));
var d=g.le();if(!R)u.round(d.channel);var U=u.B(d.rect.Z()*4);u.Qu(U,(T&255)<<16|(T>>8&255)<<8|(T>>16&255)<<0);
u.rN(d.channel,U,3);var e=new aA(v.E.v,!0);e.f=D.fq;e.data={d:"draw",V$:{buffer:U,rect:d.rect.clone()},hK:this.name};
c.c(e)};D.h3.i9=function(x,R){var T=u.j.aqV(x.$,x.g),c=[];for(var z=0;z<x.g.length;z++)c.push(JSON.parse(JSON.stringify(R[x.g[z]])));
return[T,c]};D.h3.lt=function(x,R,T){var c=u.j.fc(R.$),g=u.j.fc(x[0]);R.$=R.$.concat(x[0].slice(2));
R.g=[];for(var z=0;z<g;z++)R.g.push(c+z);for(var z=0;z<g;z++)T.push(JSON.parse(JSON.stringify(x[1][z])))};
D.h3.prototype.WX=function(x,R){if(R==null)return!1;var T=R.JR(),c=T[0],g=T[1];if(g.length==0)return!1;
var d=c[g[0]],U=d.add.vmsk;if(U&&U.g.length+U.fH.length!=0)return[fZ.U5,fZ.ve].indexOf(x)!=-1};D.h3.prototype.Rw=function(x,R,T,c){if(x==null)return;
var g=x.JR(),d=g[0],U=g[1];if(U.length==0)return;var e=d[U[0]],N=e.add.vmsk;if(c.S(fZ.jK)||c.S(fZ.AQ)||this.id==D.jv&&c.S(fZ.bN)&&N.fH.length==1){N.fH=[];
x.Sa=!0}if(N.g.length!=0){var l=c.Gw(x?x.Q.Hh:0);if(l.x!=0||l.y!=0){var J=N.clone(),w=N.clone(),s=new gP(1,0,0,1,l.x,l.y),o=e.add.vogk,V=JSON.stringify(o);
if(c.S(fZ.ng)){var a=D.h3.i9(w,o);D.h3.lt(a,w,o)}u.j.q0(w.$,s,w.g);u.oZ.i(o,u.D.bY(s),w.g);this.Od(x,e.iY,w,o);
this.ZW(x,"Move Paths",e.iY,J,w.clone(),!0,V,JSON.stringify(o))}if(c.S(fZ.U5)||c.S(fZ.ve))this.gb({d:"remove",P9:this.id==D.jv},R,x,c,T)}};
D.h3.prototype.ZW=function(x,R,T,c,g,d,U,e){var N=new ka(R,this);N.data={p0:T,aG:c,LC:g,a8C:d,afY:U,Qv:e};
x.XY(N)};D.h3.prototype.cU=function(x,R){if(x.p0!=null)this.Od(R,x.p0,x.LC.clone(),JSON.parse(x.Qv));
else{R.OQ=x.a3G.slice(0);R.pT=x.NF.slice(0);R.Sa=R.kn=!0}if(x.ua||x.SG){R.u=x.SG;R.yL=!0}};D.h3.prototype.cA=function(x,R){if(x.p0!=null)this.Od(R,x.p0,x.aG.clone(),JSON.parse(x.afY));
else{R.OQ=x.LM.slice(0);R.pT=x.MW.slice(0);R.Sa=R.kn=!0}if(x.ua||x.SG){R.u=x.ua;R.yL=!0}};D.h3.prototype.Od=function(x,R,T,c){var g=R<0?x.OQ[-1-R]:R<1e6?x.R[R]:x.R[R-1e6].add.TySh,d=g.add.vmsk;
d.channel=null;d.IP=!0;if(d.MJ){d.MJ.channel=null;d.MJ.IP=!0}g.add.vmsk=T;g.add.vogk=c;if(1e6<=R){bL.Tr(g);
var U=x.R[R-1e6],e=g,N=this.Dn;cQ.H9(U,N.dA);x.W()}else if(0<=R){T.IP=!0;g.sG(x);x.W()}x.Sa=x.kn=!0};
D.h3.qE=function(x,R){var T=x.R[R],c=T.add.vstk,g=null;if(c&&!c.fillEnabled.v)g={KI:0};else if(T.add.SoCo)g={KI:1,TB:T.add.SoCo};
else if(T.add.GdFl)g={KI:2,TB:T.add.GdFl};else if(T.add.PtFl)g={KI:3,TB:T.add.PtFl};return g};D.h3.tg=function(x,R){var T=x.add.vmsk,c=x.add.vstk,g=R.KI;
if(c)c.fillEnabled.v=g!=0;if(g>0){var d=["SoCo","GdFl","PtFl"][g-1];for(var z=0;z<3;z++)delete x.add[["SoCo","GdFl","PtFl"][z]];
x.add[d]=R.TB}};D._T=function(x,R,T,c){D.h3.call(this,x,R,T);this.Ss={shape:bD.GI(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{fU:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.a59=c;this.Lf=null;this.nf=null;this.Lv=null;this.e8=new b_};D._T.prototype=new D.h3;D._T.prototype.zc=function(x){return x.Kk&&this.id!=D.bJ};
D._T.prototype.enable=function(x,R,T,c,g){this.Dn=T;var d=new aA(v.E.P,!0);d.data={d:v.H.pm,ze:"crosshair"};
R.c(d)};D._T.prototype.Rw=function(x,R,T,c){D.h3.prototype.Rw.call(this,x,R,T,c);this.e8.Rw(c);this.w7(R,T)};
D._T.prototype.w7=function(x,R){var T=new aA(v.E.P,!0);T.data={d:v.H.Pn,f:this.id,mT:this.eI(R)};x.c(T)};
D._T.prototype.eI=function(x){var R=this.e8.Fb(0),T=this.e8.jZ(0),c=D.Fs.gt(this.Ss.binop,R,T);if(x.gT==1&&c==0)c=1;
return c};D._T.prototype.Pe=function(x,R,T,c){};D._T.prototype.fz=function(x,R,T,c,g){var d=T.gT;if(d!=2)this.awJ(R,T);
if(d==2&&!x.nD())return;var U=x.Q.nU(g.x,g.y);U=D.K$.zE(x,U,T);this.Lv=[U.x,U.y];this.Lf=U;this.nf=new cI(0,0);
this.e8.fz(c)};D._T.prototype.auP=function(x,R,T,c){var g=[this.Lf.clone(),R.clone()];T=this.e8.Fb(1)||T.S(fZ.xg)||this.e8.jZ(1)?T:null;
if(this.a59)g=D._T.J3(g[0],g[1],T,!0,this.Ss.cstr);if(x)x.Q.OL=new aP(g[0].x,g[0].y,g[1].x-g[0].x,g[1].y-g[0].y);
return this.Pe(g[0],g[1],this.e8.Fb(1)&&T.S(fZ.xg),this.Lv,x.Q,c)};D._T.prototype.a4a=function(x,R,T){var c=x.Q.nU(R.x,R.y);
if(this.id==D.bJ)return c;var g=this.Ss.cstr;if(g.fU==2){var d=new aP(c.x-g.x,c.y-g.y,g.x,g.y),U=D.K$.x4(x,d,T);
c.x+=U[0];c.y+=U[1];D.K$.gz(x,d,U)}else c=D.K$.zE(x,c,T);return c};D._T.prototype.gQ=function(x,R,T,c,g){if(this.Lf==null)return;
var d=this.Lv,U=d.length,e=g?this.a4a(x,g,T):new cI(d[U-2],d[U-1]);if(c.S(fZ.Ed))this.Lf=e.KV(this.nf);
else this.nf=e.KV(this.Lf);d.push(e.x,e.y);if(this.Ss.shape==null)this.Ss.shape=T.e_[0];var N=this.auP(x,e,c,!0)[0],l=u.M.td(N);
x.N.Xp=l;if(this.id!=D.bJ&&this.id!=D.$z&&this.id!=D.Kv)D.Gj.sE(g,x.Q.OL,x,T);x.Sa=!0;this.e8.gQ()};
D._T.prototype.a7z=function(x,R,T,c){var g=x[4].clone();if(c){g.x-=R/2;g.y-=T/2}if(this.id==D.$z){R/=2;
T/=2;g.x+=R;g.y+=T;T=-T;R=0}var d=this.Pe(g,new cI(g.x+R,g.y+T),!1,this.Lv);this.a5X(x[0],x[1],x[2],d)};
D._T.prototype.a5X=function(x,R,T,c){var g=T.gT,d=new aA(v.E._M,!0);if(g==0)d.data=D._T.a4y(c[1],T);
else if(g==1){var U={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:c[1]};
d.data={Sm:"set",M1:U}}else{var U={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:c[1]};d.data={Sm:"draw",M1:U}}R.c(d);
if(c[1].v.classID=="customShape"&&c[1].v.Nm.v.startsWith("--")){var e=x.JR(),N=e[0],l=e[1],J=N[l.pop()],w=J.add.vmsk,o=J.add.vogk;
u.oZ.aqP(o);var V=w.clone();V.$=c[0];this.Od(x,J.iY,V,o)}};D._T.prototype.rR=function(x,R,T,c,g,d){if(this.Lf==null)return;
var U=this.a4a(x,g,T),e=this.eI(T),N=T.gT,l=this.Lv,J=l.length;if(this.id==D.bJ&&J<=4){}else if(J<=4){U.x=Math.round(U.x);
U.y=Math.round(U.y);var w=new aA(v.E.P);w.data={d:v.H.i$,$k:"createshape",azf:this.a7z.bind(this),a9S:this.name,aA7:[x,R,T,c,U]};
if(!d)R.c(w)}else if(J!=2){var s=this.auP(x,U,c),o=s[0],V=x.JR(!0),a=V[0],O=V[1],S=O.length-1;if(N==1&&o.length>2||N==0&&e!=0&&S!=-1&&a[O[S]].iY>=0){o[2].AC=[1,2,3,0][e-1];
var L=a[O.pop()],Q=L.add.vmsk,b=L.add.vogk,Z=Q.clone(),I=Q.clone(),y=JSON.stringify(b);I.$=I.$.concat(o.slice(2));
I.g=[u.j.fc(I.$)-1];var r=u.oZ.Bb(s[1]);b.push(r?r:u.oZ.uz());this.Od(x,L.iY,I,b);this.ZW(x,this.name,L.iY,Z,I,null,y,JSON.stringify(b))}else if(N==0){this.a5X(x,R,T,s)}else if(N==2){D.h3.aby(o,this.Ss.anta,T.gR,R)}}this.Lf=null;
x.N.Xp=null;x.N.ay=null;x.N.gp=[];x.Q.OL=null;x.Sa=!0;this.e8.rR();this.w7(R,T)};D._T.prototype.B7=function(x,R,T,c,g){for(var T in x)this.Ss[T]=x[T]};
D._T.J3=function(x,R,T,c,g){var d=x.x,U=x.y,e=R.x,N=R.y;if(g&&g.fU==2){if(c){e=Math.round(e);N=Math.round(N)}d=e-g.x;
U=N-g.y}else{var l=0;if(g&&g.fU==1)l=g.y/g.x;else if(T&&T.S(fZ.xg))l=1;if(l!=0){if(c){if(d<e)d=Math.floor(d);
else d=Math.ceil(d);if(U<N)U=Math.floor(U);else U=Math.ceil(U)}var J=Math.abs(e-d),w=Math.abs(N-U),s=J;
if(w/J<l)s*=w/J/l;e=e>d?d+s:d-s;N=N>U?U+s*l:U-s*l}if(T&&T.S(fZ.ng)){d-=e-d;U-=N-U}}var x=new cI(d,U),R=new cI(e,N);
if(c)D._T.aCE(x,R);return[x,R]};D._T.aCE=function(x,R){if(x.x>R.x){var T=x.x;x.x=R.x;R.x=T}if(x.y>R.y){var T=x.y;
x.y=R.y;R.y=T}x.x=Math.floor(x.x);x.y=Math.floor(x.y);R.x=Math.ceil(R.x);R.y=Math.ceil(R.y)};D._T.adx=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
D._T.z9=function(x,R){var T=D._T.adx(),c=T.Usng.v.Type;if(R==null){c.v=JSON.parse(JSON.stringify(fJ.dB[x]));
c.v.classID=["solidColorLayer","gradientLayer","patternLayer"][x]}else D.ys.GW(R,c.v,x);return{Sm:"make",M1:T}};
D._T.a4y=function(x,R){var T=R.VH,c=JSON.parse(JSON.stringify(R.Vz));c.fillEnabled.v=T.KI!=0;var g=D._T.z9(Math.max(0,T.KI-1),T.TB);
g.M1.Usng.v.Shp=x;g.M1.Usng.v.strokeStyle={t:"Objc",v:c};return g};D.nQ=function(x){D.h3.call(this,x==0?[10,29]:[10,51],x==0?D.jv:D.avW,x==0?"tools/pen":"tools/cpen");
this.V6=x;this.gV=null;this.q_=null;this.EK=null;this.a5n=0;this.h4=null;this.ki=!1;this.B_=!1;this.rF=!1;
this.IL=!1;this.yQ=0};D.nQ.prototype=new D.h3;D.nQ.prototype.zc=function(x){return this.q_!=null};D.nQ.prototype.Rw=function(x,R,T,c){if(!c.S(fZ.ng))this.rF=!1;
if(this.V6==1&&(c.S(fZ.U5)||c.S(fZ.ve))&&this.WX(fZ.U5,x)){this.gb({d:"remove",P9:!0},R,x,c,T);return}D.h3.prototype.Rw.call(this,x,R,T,c)};
D.nQ.prototype.fz=function(x,R,T,c,g){this.gV=g;this.awJ(R,T);var d=x.Q.nU(g.x,g.y),a,O;d.x=Math.round(d.x);
d.y=Math.round(d.y);var U=D.K$.zE(x,d,T),e=T.gT,N=this.a5n;if(e==2)e=0;var l=x.JR(e==1),J=l[0],w=l[1],s=J[w.pop()],o=s?s.add.vmsk:null;
if(e==0&&N!=0&&s&&s.iY>=0)e=1;var V=D.CM(x,g);if(o)a=u.j.Ua(o.$,d,!0,V);var S=c.S(fZ.ng);if(e==0&&(o==null||o.fH.length==0&&a.iY==-1)){var L=new aA(v.E._M,!0),Q=u.oZ.Cx("customShape",[0,0,1,1],null,null,null,"--");
L.data=D._T.a4y(Q,T);R.c(L);this.IL=!0;l=x.JR(!0);J=l[0];w=l[1];s=J[w.pop()];o=s.add.vmsk;o.$=o.$.slice(0,2)}var b=s.add.vogk;
this.q_=o.clone();this.EK=JSON.stringify(b);var Z=o.$,I=u.j.fc(Z);O=u.j.wf(o.$,new aP(d.x-V,d.y-V,V*2,V*2),o.fH);
a=u.j.Ua(o.$,d,!0,V);var y=O[0].length+O[1].length+O[2].length;if(a.iY!=-1&&O[0].length==0){var r=u.j.wn(Z,a.iY),h=Z[r].length;
while(h<=a.EL){a.EL-=h;r+=h+1}var k={type:4,YA:U.clone(),L:U.clone(),VV:U.clone()},K=r+2+a.EL,H=r+1+(1+a.EL)%h,p=Z[K-1],f=Z[H];
if(!p.L.X$(p.VV)||!f.YA.X$(f.L)){var A=u.M.ayU(p.L,p.VV,f.YA,f.L,a.wx);p.VV=A[0];k.YA=A[1];k.L=A[2];
k.VV=A[3];f.YA=A[4]}Z.splice(K,0,k);Z[r].length++;o.fH=[K];if(this.V6==1){k.YA.x+=2;this.ms(o)}}else if(y!=0&&S){var _=0;
for(var z=0;z<3;z++)if(O[z].length!=0){_=O[z][0];this.B_=z==1;break}if(O[0].length!=0){var W=o.$.length-1,Y=o.$[_];
Y.VV=Y.L.clone();var G=Y.type>=3?3:0;if(_!=W){Y.YA=Y.L.clone();Y.type=G+1;this.rF=!0}else Y.type=G+2}o.fH=[_]}else if(O[0].length==1&&Z[O[0][0]-1]&&(Z[O[0][0]-1].L!=null||Z[O[0][0]-1].type==0||Z[O[0][0]-1].length==1)){var _=O[0][0];
if(this.V6==1){var i=Z[_],E=i.L,$=Math.abs(u.M.io(i.YA.x,i.YA.y,E.x,E.y,i.VV.x,i.VV.y));if($>.01){i.YA=E.clone();
i.VV=E.clone()}if(Date.now()-this.yQ<300){var C=i.YA.X$(E)&&i.VV.X$(E);if(C)i.VV.offset(2,2);else{i.YA=E.clone();
i.VV=E.clone()}this.yQ=0}else this.yQ=Date.now();o.fH=[_];this.ms(o)}else{var r=u.j.wn(Z,u.j.j9(Z,_)),Q=Z[r],B=r+Q.length;
if(_!=B||Q.type==0){Z[r].length--;Z.splice(_,1);B--;if(Q.length==0){Z.splice(r,1);B=-1}}if(B!=-1)o.fH=[B];
else o.fH=[]}}else{var M=0;if(o.fH.length!=1){o.g=[I];Z.push({type:3,length:1,AC:[1,2,3,0][Math.max(0,N-1)],$e:0,W5:0,dD:0});
M=Z.length;b.push(u.oZ.uz())}else{var i=o.fH[0],j=u.j.j9(Z,i),r=u.j.wn(Z,j);i=r+Z[r].length;if(cI.rE(d,Z[r+1].L)<V){Z[r].type=0;
o.fH=[r+1];this.h4=U;this.ki=!0;this.Od(x,s.iY,o,b);x.Sa=!0;return}Z[r].length++;M=i+1;if(i==r+1&&Z[r].length!=2)M=r+1}if(c.S(fZ.xg)&&Z[M-1]&&Z[M-1].L)U=D.Xg.i8(Z[M-1].L,U);
var k={type:4,YA:U.clone(),L:U.clone(),VV:U.clone()};Z.splice(M,0,k);o.fH=[M];this.h4=U;if(this.V6==1){k.YA.x+=2;
this.ms(o)}this.yQ=Date.now()}this.Od(x,s.iY,o,b);x.Sa=!0};D.nQ.prototype.ms=function(x){var R=x.$,T=x.fH[0],c=u.j.wn(R,u.j.j9(R,T))+1,g=R[c-1].length;
if(g<3)return;var d=[],U=[];for(var z=0;z<5;z++){var e=c+(T-c-2+z+5*g)%g;U.push(e);var N=R[e].L;d.push(N.x,N.y)}var l=u.M.a9E(d);
for(var z=1;z<4;z++){var J=z*4,w=R[U[z]],N=w.L,s=w.YA.X$(N)&&w.VV.X$(N);if(!s){w.YA.LR(l[J],l[J+1]);
w.VV.LR(l[J+2],l[J+3])}else{w.YA=N.clone();w.VV=N.clone()}}};D.nQ.prototype.gQ=function(x,R,T,c,g){if(this.q_==null)return;
var d=this.gV;if(d&&cI.rE(d,g)<D.CM({Q:{O:1}},g))return;this.gV=null;var U=x.Q.nU(g.x,g.y),e=D.K$.zE(x,U,T),N=x.JR(T.gT==1),l=N[0],J=N[1],w=l[J.pop()],s=w.add.vmsk,o=s.$,V=o[s.fH[0]];
if(this.V6==1){var a=V.L.X$(V.YA)&&V.L.X$(V.VV);V.L=U.clone();V.YA=U.clone();V.VV=U.clone();if(!a)V.YA.x+=2;
this.ms(s)}else if(c.S(fZ.Ed)){if(c.S(fZ.xg))e=D.Xg.i8(this.h4,e);var O=V.L.KV(V.VV),S=V.YA.KV(V.L);
V.VV=e;V.L=e.add(O);V.YA=V.L.add(S)}else{if(c.S(fZ.xg))e=D.Xg.i8(V.L,e);if(this.B_){var L=V.YA;V.YA=V.VV;
V.VV=L}if(this.ki){var Q=cI.rE(V.L,e),b=Q==0?0:cI.rE(V.L,V.VV)/Q;V.VV.x=V.L.x+b*(e.x-V.L.x);V.VV.y=V.L.y+b*(e.y-V.L.y)}else V.VV=e;
if(c.S(fZ.ng)&&!this.rF)V.type=5;else{V.type=4;V.YA=V.L.add(V.L.KV(e))}this.h4=e;if(this.B_){var L=V.YA;
V.YA=V.VV;V.VV=L}}this.Od(x,w.iY,s,w.add.vogk);x.Sa=!0};D.nQ.prototype.rR=function(x,R,T,c,g){if(this.q_==null)return;
var d=x.JR(T.gT==1),U=d[0],e=d[1],N=U[e.pop()],l=N.add.vmsk,J=N.add.vogk;if(this.ki){l.fH=[];this.Od(x,N.iY,l,N.add.vogk)}var w=this.q_.$.length,s=l.$.length;
if(!this.IL)this.ZW(x,this.ki?"Close Path":(w==s?"Move":w<s?"Add":"Delete")+" Anchor Point",N.iY,this.q_,l.clone(),null,this.EK,JSON.stringify(J));
this.IL=!1;this.ki=!1;this.B_=!1;this.rF=!1;this.q_=null};D.nQ.prototype.B7=function(x,R,T,c,g){this.a5n=x.binop};
D.R0=function(){D._T.call(this,[10,30],D.bJ,"tools/fpen",!1)};D.R0.prototype=new D._T;D.R0.prototype.Pe=function(x,R,T,c,g,d){var U=c.length-1,e=Math.sqrt((c[U-1]-c[0])*(c[U-1]-c[0])+(c[U]-c[1])*(c[U]-c[1]))<6/g.O;
return[u.j.i7(c,e,d),u.oZ.Cx("customShape",[0,0,1,1],null,null,null,"--")]};D.cj=function(){D.h3.call(this,[10,27],D.OZ,"tools/pselect");
this.Q8=null;this.Ga=!1;this.Rc=null;this.q_=null;this.oF=null;this.EK=null;this.mX=null;this.RZ=null;
this.Ft=null;this.Iz=null};D.cj.prototype=new D.h3;D.cj.prototype.zc=function(x){return x.Kk};D.cj.prototype.fz=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y),U=x.JR(),e=U[0],N=U[1],l,J;
for(var z=0;z<N.length;z++){var w=e[N[z]],s=w.add.vmsk,o=u.j.Ua(s.$,d).iY;if(o!=-1){this.Rc=l=w;J=o}for(var V=0;
V<s.no.length;V++){var a=u.j.auX(s.$,s.no[V]);if(a==null)continue;var O=cI.rE(a,d);if(O<4*D.mM()/x.Q.O){var S=x.R[w.iY-1e6].add.TySh,L=S.pM.Curve,Q=S.i,b=L.Reversed;
L.Reversed=!1;var L=aU.qc(S.pM.Curve);L.Reversed=b;u.M.i(L[0],Q,L[0]);this.Ft=[L,V,Q.Y*Q.jR-Q.J*Q.zI];
this.Rc=l=w;J=0}}if(this.Ft)break}if(l!=null){var s=l.add.vmsk;s.fH=[];var Z=s.g.indexOf(J);if(c.S(fZ.xg)){if(Z==-1){s.g.push(J);
this.Ga=!0}else s.g.splice(Z,1)}else{if(Z==-1)s.g=[J];this.Ga=!0}this.RZ=u.j.pP(s.$,s.g)}this.Q8=d;this.Iz=new gJ(d);
x.kn=!0;x.Sa=!0};D.cj.prototype.gQ=function(x,R,T,c,g){if(this.Q8==null)return;var d=x.Q.nU(g.x,g.y);
if(this.Ga){d=this.Iz.yM(d,c);var U=this.Rc;if(this.q_==null){this.q_=this.oF=U.add.vmsk.clone();this.EK=this.mX=JSON.stringify(U.add.vogk);
if(c.S(fZ.ng)){var e=this.q_.clone(),N=JSON.parse(this.EK),l=D.h3.i9(e,N);D.h3.lt(l,e,N);this.oF=e;this.mX=JSON.stringify(N)}}var e=this.oF.clone(),N=JSON.parse(this.mX);
if(this.Ft){var J=this.Ft,w=J[0][0],s=u.M.WL(w,d.x,d.y);e.no[J[1]]=J[0][1][s];var o=w[s*2],V=w[s*2+1],a=(w[s*2+2]-o)*(d.y-V)-(w[s*2+3]-V)*(d.x-o);
if(J[2]<0)a=-a;e.U6=a>0}else{var O=this.RZ.clone(),S=O.x,L=O.y;O.offset(d.x-this.Q8.x,d.y-this.Q8.y);
O.x=Math.round(O.x);O.y=Math.round(O.y);var Q=D.K$.x4(x,O,T),b=new gP(1,0,0,1,O.x-S+Q[0],O.y-L+Q[1]);
u.j.q0(e.$,b,e.g);u.oZ.i(N,u.D.bY(b),e.g);D.K$.gz(x,O,Q)}this.Od(x,U.iY,e,N)}else{var Z=this.Q8;x.N.Xp=u.M.$x(new aP(Z.x,Z.y,d.x-Z.x,d.y-Z.y));
x.Sa=!0}};D.cj.prototype.rR=function(x,R,T,c,g){if(this.Q8==null)return;var d=x.Q.nU(g.x,g.y),U=this.Rc,e=U?U.add.vmsk:null;
if(this.Ga){var N=JSON.stringify(U.add.vogk);if(!this.Q8.X$(d))this.ZW(x,"Move Paths",U.iY,this.q_,e,null,this.EK,N);
if(x!=null&&x.N.ay){x.N.ay=null;x.Sa=!0}}else{if(e){var l=this.Q8,J=new aP(l.x,l.y,d.x-l.x,d.y-l.y),w=u.j.abS(e.$,J);
if(c.S(fZ.xg)){for(var z=0;z<w.length;z++)if(e.g.indexOf(w[z])==-1)e.g.push(w[z])}else e.g=w}x.N.Xp=null;
x.Sa=!0}this.Q8=null;this.q_=null;this.Ft=null;this.Ga=!1;this.Iz=null};D.cj.prototype.an_=function(x){var R=this.Rc,T=this.Lh,c=R.add.vmsk,g=R.add.vogk,d=g.length;
if(x=="confirm"){if(c!=this.q_)this.ZW(T,[12,94,2],R.iY,this.q_,c,null,this.EK,JSON.stringify(g));this.KR();
return}if(x=="cancel"){this.Od(this.Lh,this.Rc.iY,this.q_.clone(),JSON.parse(this.EK));this.KR()}else{var c=this.q_.clone(),g=JSON.parse(this.EK);
c.$=u.j.abI(c.$,c.g,x);this.Od(this.Lh,this.Rc.iY,c,g)}};D.cj.prototype.KR=function(){this.Rc=null;this.q_=null;
this.Q8=null;this.sy=this.aF=-1;this.Iz=null};D.cj.prototype.Lm=function(x,R,T,c){D.h3.prototype.Lm.call(this,x,R,T,c);
if(T.lf!=this.id)return;if(x.g.length==0)return;var g=x.JR(),d=g[0],U=g[1];if(U.length==0)return;var e=d[U[0]],N=e.add.vmsk,l=e.add.vstk,J=e.add.vogk,w=new aA(v.E.P,!0);
w.data={d:v.H.Pn,f:this.id,Mr:"main",_V:N?N:null,oZ:J};R.c(w)};D.cj.prototype.B7=function(x,R,T,c,g){var d=x.v2;
if(d._V){var U=T.JR(),e=U[0],N=U[1];if(N.length==0)return;var l=e[N[0]],J=l.add.vmsk.clone(),w=JSON.stringify(l.add.vogk),s=d._V;
this.Od(T,l.iY,s,d.oZ);var o=[18,5];if(J.$.length==s.$.length)o=J.g[0]==s.g[0]?"Fill Rule":"Path Order";
this.ZW(T,o,l.iY,J,s,null,w,JSON.stringify(d.oZ))}};D.FH=function(){D.h3.call(this,[10,28],D._R,"tools/dselect");
this.sy=-1;this.aF=-1;this.U2=null;this.Q8=null;this.Rc=null;this.q_=null;this.EK=null;this.Lh=null;
this.rB=0;this.UL={psnap:!1};this.Iz=null};D.FH.prototype=new D.h3;D.FH.prototype.zc=function(x){return x.Kk};
D.FH.prototype.B7=function(x){this.UL=x};D.FH.prototype.gb=function(x,R,T,c,g){if(x.d=="crnr"){if(T==null)return;
var d=T.JR(),U=d[0],e=d[1];if(e.length==0){alert("No paths selected");return}var N=U[e[0]],l=N.add.vmsk;
if(l.fH.length==0){alert("No corners selected");return}for(var z=0;z<l.fH.length;z++){var J=l.$[l.fH[z]];
if(!J.L.X$(J.VV)||!J.L.X$(J.YA)){alert("Only sharp corners can be rounded");return}}if(this.q_==null){this.q_=N.add.vmsk.clone();
this.EK=JSON.stringify(N.add.vogk);this.Rc=N;this.Lh=T}var w=new aA(v.E.P,!0);w.data={d:v.H.i$,$k:"cornerradius",Ey:5,BJ:this.ahU.bind(this)};
R.c(w)}else D.h3.prototype.gb.call(this,x,R,T,c,g)};D.FH.prototype.ahU=function(x){if(x=="confirm"){var R=this.Lh,T=this.Rc,c=T.add.vmsk,g=T.add.vogk;
this.ZW(R,[12,94,0],T.iY,this.q_,c,null,this.EK,JSON.stringify(g));this.KR();return}var c=this.q_.clone(),g=JSON.parse(this.EK),d=c.fH;
if(x=="cancel"){}else{var U=[];for(var z=0;z<d.length;z++){var e=d[z],N=u.j.j9(c.$,e,!0),w=0;if(U.indexOf(N)!=-1)continue;
U.push(N);var l=u.j.wn(c.$,N,!0),J=c.$[l].length,s=[];for(var o=0;o<J;o++){var V=c.fH.indexOf(l+o+1)==-1?0:x;
s.push(V);if(V!=0)w++}u.j.FG(c.$,l,s);for(var o=0;o<d.length;o++)if(d[o]>l+J)d[o]+=w}this.Ex(c,g);c.fH=[]}this.Od(this.Lh,this.Rc.iY,c,g);
if(x=="cancel")this.KR()};D.FH.prototype.disable=function(x,R,T,c){this.VK(x)};D.FH.prototype.fz=function(x,R,T,c,g){this.VK(x);
var d=x.Q.nU(g.x,g.y),w,s,o;this.U2=d.clone();var U=x.JR(),e=U[0],N=U[1];if(N.length==0)return;var l=D.CM(x,g),J=new aP(d.x-l,d.y-l,l*2,l*2);
for(var V=0;V<N.length;V++){w=this.Rc=e[N[V]];s=w.add.vmsk;o=u.j.wf(s.$,J);if(o[0].length+o[1].length+o[2].length!=0)break}var a=[!1,!1,!1];
for(var z=0;z<3;z++){for(var O=0;O<o[z].length;O++){var S=o[z][O],L=s.$[S];if(s.fH.indexOf(S)!=-1||z==1&&s.fH.indexOf(S-1)!=-1&&!L.L.X$(L.YA)||z==2&&s.fH.indexOf(S+1)!=-1&&!L.L.X$(L.VV)){o[z]=[S];
a[z]=!0;break}}}if(o[0].length!=0&&(a[0]||!a[1]&&!a[2])){var Q=o[0][0],b=s.fH.indexOf(Q);if(c.S(fZ.xg)){if(b==-1)s.fH.push(Q);
else{s.fH.splice(b,1);x.Sa=!0;return}}else if(b==-1)s.fH=[Q];this.sy=Q;this.aF=0}else if(o[1].length!=0&&a[1]){this.sy=o[1][0];
this.aF=1}else if(o[2].length!=0&&a[2]){this.sy=o[2][0];this.aF=2}else{var Z=u.j.Ua(s.$,d,!0,l);if(Z.iY==-1)this.Q8=d;
else{s.g=[Z.iY];s.fH=[]}}if(this.q_==null){this.q_=w.add.vmsk.clone();this.EK=JSON.stringify(w.add.vogk)}this.Iz=new gJ(d);
x.Sa=!0};D.FH.prototype.gQ=function(x,R,T,c,g){if(x==null)return;var d=x.Q.nU(g.x,g.y),U=this.Rc;if(this.sy!=-1){var e=this.q_.clone(),N=U.add.vogk,l=e.$[this.sy];
l=[l.L,l.YA,l.VV][this.aF];if(c.S(fZ.xg)){if(this.aF==0){d=this.Iz.yM(d,c);d.x+=l.x-this.U2.x;d.y+=l.y-this.U2.y}else d=D.Xg.i8(e.$[this.sy].L,d)}else{if(this.UL.psnap){d.x=Math.round(d.x);
d.y=Math.round(d.y)}d=D.K$.zE(x,d,T)}if(this.aF==0){var J=new gP(1,0,0,1,d.x-l.x,d.y-l.y);u.j.q0(e.$,J,null,e.fH)}else{var w=e.$[this.sy],s=w.YA,o=w.VV;
if(this.aF==2){s=w.VV;o=w.YA}if(c.S(fZ.ng)&&(w.type==1||w.type==4))w.type++;s.LR(d.x,d.y);if(w.type==1||w.type==4){var V=cI.rE(s,w.L),a=cI.rE(o,w.L);
if(a!=0){o.x=w.L.x-(s.x-w.L.x)*(a/V);o.y=w.L.y-(s.y-w.L.y)*(a/V)}}}this.Ex(e,N);this.Od(x,U.iY,e,N)}else if(this.Q8!=null){var O=this.Q8;
x.N.Xp=u.M.$x(new aP(O.x,O.y,d.x-O.x,d.y-O.y));x.Sa=!0}else{var S=x.JR(),L=S[0],Q=S[1],U,e,I;if(Q.length==0)return;
var b=D.CM(x,g),Z=new aP(d.x-b,d.y-b,b*2,b*2);for(var y=0;y<Q.length;y++){U=L[Q[y]];e=U.add.vmsk;I=u.j.wf(e.$,Z);
if(I[0].length+I[1].length+I[2].length!=0)break}this.VK(x);for(var z=0;z<3;z++){for(var r=0;r<I[z].length;
r++){var h=I[z][r],k=e.$[h];k=z==0?k.L:z==1?k.YA:k.VV;x.N.M2.push(k.x,k.y);x.Sa=!0}}}};D.FH.prototype.VK=function(x){if(x&&x.N.M2.length!=0){x.N.M2=[];
x.Sa=!0}};D.FH.prototype.rR=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y),U=this.Rc,e=U?U.add.vmsk:null,N=U?U.add.vogk:null;
if(this.sy!=-1){if(Date.now()-this.rB<300){var l=e.$[this.sy],J=this.aF,w=null;if(J==0){var s=l.YA.X$(l.L),o=l.VV.X$(l.L);
if(!s&&!o){w="Anchor Type";if(l.type==1||l.type==4)l.type++;else{l.type--;l.VV=l.L.add(l.L.KV(l.YA))}}else{w="Add Handles";
if(s&&o){l.YA.x-=30;l.VV.x+=30}else if(s)l.YA=l.L.add(l.L.KV(l.VV));else if(o)l.VV=l.L.add(l.L.KV(l.YA))}}else{w="Remove Handle";
if(J==1)l.YA.hR(l.L);else l.VV.hR(l.L)}this.Ex(e,N);this.Od(x,U.iY,e,N);this.ZW(x,w,U.iY,this.q_,e,null,this.EK,JSON.stringify(N))}else if(!this.U2.X$(d)){this.ZW(x,"Drag Anchors",U.iY,this.q_,e,null,this.EK,JSON.stringify(N))}this.rB=Date.now()}else if(this.Q8!=null){var V=this.Q8,a=new aP(V.x,V.y,d.x-V.x,d.y-V.y);
if(a.m<0)a.x+=a.m;if(a.e<0)a.y+=a.e;a.m=Math.abs(a.m);a.e=Math.abs(a.e);var O=u.j.wf(e.$,a);e.fH=O[0].concat(c.S(fZ.xg)?e.fH:[]);
x.N.Xp=null}this.KR();x.Sa=!0};D.FH.prototype.KR=function(){this.Rc=null;this.q_=null;this.Q8=null;this.sy=this.aF=-1;
this.Iz=null};D.FH.prototype.Ex=function(x,R){for(var z=0;z<x.fH.length;z++){var T=u.j.j9(x.$,x.fH[z]);
u.oZ.K2(R,T)}};D.FH.prototype.Rw=function(x,R,T,c){if(x==null)return;var g=x.JR(),d=g[0],U=g[1];if(U.length==0)return;
var e=d[U[0]],N=e.add.vmsk;if(N==null||N.fH.length==0)return;var l=e.add.vogk,J=JSON.stringify(l),w=c.Gw(x?x.Q.Hh:0);
if(w.x!=0||w.y!=0){var s=N.clone(),o=N.clone(),V=new gP(1,0,0,1,w.x,w.y);u.j.q0(o.$,V,null,o.fH);this.Ex(o,l);
this.Od(x,e.iY,o,l);this.ZW(x,"Move Anchors",x.g[0],s,o.clone(),!0,J,JSON.stringify(l))}if(c.S(fZ.U5)||c.S(fZ.ve))this.gb({d:"remove",P9:!0,ay7:!0},R,x,c,T)};
D.FH.prototype.ZW=function(x,R,T,c,g,d,U,e){var N=x.SH();if(d&&N!=null&&N.f==this&&N.data.a8C&&N.data.p0==T&&JSON.stringify(N.data.aG.fH)==JSON.stringify(c.fH)){N.data.LC=g;
N.data.Qv=e}else{var N=new ka(R,this);N.data={p0:T,aG:c,LC:g,a8C:d,afY:U,Qv:e};x.XY(N)}};D.Rect=function(){D._T.call(this,[10,32],D.HA,"tools/rect",!0)};
D.Rect.prototype=new D._T;D.Rect.prototype.Pe=function(x,R,T){var c=this.Ss.crad,g=R.x-x.x,d=R.y-x.y;
return[u.j.u1.Rect(x.x,x.y,g,d,c),u.oZ.Cx("Rctn",[x.x,x.y,R.x,R.y],[c,c,c,c])]};D.mR=function(){D._T.call(this,[10,33],D.Ca,"tools/ellipse",!0)};
D.mR.prototype=new D._T;D.mR.prototype.Pe=function(x,R,T){var c=R.x-x.x,g=R.y-x.y;return[u.j.u1.mR(x.x,x.y,c,g),u.oZ.Cx("Elps",[x.x,x.y,R.x,R.y])]};
D.ER=function(){D._T.call(this,[10,34],D.$z,"tools/pshape",!1);this.Ss.aopts=[!1,!0,50,100,0]};D.ER.prototype=new D._T;
D.ER.prototype.Pe=function(x,R,T){var c=this.Ss.pshape,g=this.Ss.crad,d=this.Ss.irad/100,U=this.Ss.sides,e=this.Ss.width,N=this.Ss.aopts,l=this.Ss.length,O;
R=R.clone();var J=x.x,w=x.y,s=R.x,o=R.y,V=Math.sqrt((s-J)*(s-J)+(o-w)*(o-w)),a=Math.atan2(-o+w,s-J);
if(T)a=Math.round(a*180/Math.PI/15)*15*Math.PI/180;if(c==0)O=u.j.u1.zy(J,w,V,a,U,g);if(c==1)O=u.j.u1.apx(J,w,V,a,U,g,d);
if(c==2)O=u.j.u1.Xz(x.x,x.y,R.x,R.y,e,N);if(c==3)O=u.j.u1.au1(J,w,V,a,l);return[O,u.oZ.Cx("customShape",[x.x,x.y,R.x,R.y],null,null,null,"--")]};
D.ER.prototype.Rw=function(x,R,T,c){D._T.prototype.Rw.call(this,x,R,T,c);var g=c.Gw(),d=this.Ss,U,e;
if(g.y!=0){var N=-g.y,l=d.pshape;if(l<2){U="sides";e=Math.max(3,Math.min(100,d.sides+N))}else if(l==2){U="width";
e=Math.max(1,Math.min(100,d.width+N))}else if(l==3){U="length";e=Math.max(4,Math.min(40,d.length+N))}}if(g.x!=0){U="pshape";
e=Math.max(0,Math.min(3,d.pshape+g.x))}if(U){var J=new aA(v.E.P,!0),w={};w[U]=e;d[U]=e;J.data={d:v.H.Pn,f:this.id,J2:"vals",avp:w};
R.c(J);this.gQ(x,R,T,c)}};D.su=function(){D._T.call(this,[10,35],D.Kv,"tools/line",!1)};D.su.prototype=new D._T;
D.su.prototype.Pe=function(x,R,T){var c=this.Ss.width,g=this.Ss.aopts;R=R.clone();if(T){R=D.Xg.i8(x,R)}return[u.j.u1.Xz(x.x,x.y,R.x,R.y,c,g),u.oZ.Cx("Ln",null,null,[x.x,x.y,R.x,R.y],c,null,g)]};
D.Jb=function(){D._T.call(this,[10,31],D.ev,"tools/cshape",!0)};D.Jb.prototype=new D._T;D.Jb.prototype.Pe=function(x,R,T){var c=this.Ss.shape,g=c.Uc.m/c.Uc.e,d=F.LS.Lz(c.$);
R=R.clone();if(T){R.y=x.y+(R.x-x.x)/g}var U=R.x-x.x,e=R.y-x.y;u.j.q0(d,new gP(U,0,0,e,x.x,x.y));return[d,u.oZ.Cx("customShape",[x.x,x.y,R.x,R.y],null,null,null,c.R9)]};
D.gW=function(x,R,T){D.Gj.call(this,x,R,T);this.S4=0;this.R=null;this.Q1=null;this.im=null;this.oM=1;
this.uT=0;this.Tj=!0;this.A_=!1;this.cursor=null;this.ac=null;this.ua=null;this.k2=!1;this.a6=null;this.a8n=0;
this.j6=null;this.V6=0;this.mY=null;this.yl=null;this.QF=null;this.HQ=null;this.axQ=null;this.Oy=null};
D.gW.prototype=new D.Gj;D.gW.vE=function(x,R,T){var c={classID:"null",null:bf.rX(T?"Lyr":"Dcmn",!0)};
if(x)c.Angl={t:"UntF",v:{type:"#Ang",val:R}};else c.Axis={t:"enum",v:{Ornt:R}};return{Sm:x?"rotateEventEnum":"flip",M1:c}};
D.gW.prototype.A4=function(x,R,T,c,g){var d=new aA(v.E.P,!0);d.data={d:v.H.Pn,f:this.id,kW:g,Hv:x,im:T};
R.c(d);this.hp=!1};D.gW.prototype.zc=function(x){return this.yl&&this.yl.ayi()};D.gW.prototype.gb=function(x,R,T,c,g){this.im=g;
if(x.d=="again"&&this.j6==null)return;if(!this.Fx(T,g))return;if(this.yl){this.apE(x,this.yl.U$(),R,T,c,g);
this.UT(T,g,0,!0);this.CF(T);return}this.ae4(T,x.a==null,x.a);this.aAa(T);this.apE(x,x.aaT,R,T,c,g);
this.ib(T,R,x.hK,!1)};D.gW.prototype.apE=function(x,R,T,c,g,d){var U=this.mY;if(R==null){var e=x.tk!=null?x.tk:4;
R=this.yl.ae_()[e]}var N=R.x,l=R.y;if(x.d=="rot"&&x.b!=Math.PI&&(U.m+U.e&1)==1){N=Math.floor(N);l=Math.floor(l)}var J=new gP;
J.translate(-N,-l);if(x.d=="rot")J.rotate(x.b);if(x.d=="scl")J.scale(x.b.x,x.b.y);if(x.d=="mat")J.concat(x.b);
J.translate(N,l);if(x.d=="again")J=this.j6;var w=u.D.bY(J);if(x.d=="dtr"){var s=u.D;w=s.Kq(x.b,s.B(-N,-l));
w=s.Kq(s.B(N,l),w)}var o=this.yl.Mu();u.D.i(w,o);this.yl.ss(o);if(x.vy){var V=x.vy.v;this.B7({Mr:"switchWarp"},T,c,g);
this.B7({Mr:"wrp",vy:V},T,c,g)}};D.gW.prototype.Vd=function(){return!0};D.gW.prototype.Fx=function(x,R){if(x==null)return!1;
if(this.id==D.wI)return x.u!=null;var T=x.LQ(!0,null,null,!0);if(this.id==D.ED&&x.R[T[0]].rect.Y3()){alert("Layer is empty.");
return!1}for(var z=0;z<T.length;z++){var c=x.R[T[z]];if(c.ad(2)||c.ad(31)){alert(go.get([6,57,0]));return!1}if(c.add.artb){alert("You can not transform the whole artboard");
return!1}if(c.add.TySh)if(!cQ.A$(c.add.TySh,R.dA))return!1;if(c.add.SoLd){if(T.length==1&&!u.zb.rJ(c.add.SoLd.quiltWarp.v)&&(c.le()&&c.le().fh||c.add.vmsk&&c.add.vmsk.fh)){alert("Unlink masks before transforming Smart Object");
return!1}if(!x.ayK(c.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+x.ak(c.add.SoLd.Idnt.v).H7+")");
return!1}}}if(x.u==null)return!0;if(!x.nD())return!1;return x.aAk()};D.gW.prototype.fz=function(x,R,T,c,g){var d=this.yP(g,x),U=d[0],e=d[1],N=this.V6==0?this.yl:this.QF;
x.Q.O*=e;this.A_=N.fz(x,T,c,U,null,null,g);this.CF(x,U);x.Q.O/=e;if(this.A_&&N.w6(U)){if(Date.now()-this.a8n<250)this.ib(x,R,null,!0);
this.a8n=Date.now()}};D.gW.prototype.Ny=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.pm,ze:this.cursor};
x.c(R)};D.gW.prototype.yP=function(x,R){var T=1;x=R.Q.nU(x.x,x.y);if(this.V6==1){var c=u.D.ok(this.yl.Mu(),this.mY);
T=u.D.nA(c).Rt();var g=u.D.F0(c);x=u.D.acZ(g,x)}return[x,T]};D.gW.prototype.gQ=function(x,R,T,c,g){var d=this.yP(g,x),U=d[0],e=d[1],N=this.V6==0?this.yl:this.QF;
if(!g.Kk){var l="default";if(N){var J=N.LG(U,x.Q.O*e,null,g);if(J)l=J}if(l!=this.cursor){this.cursor=l;
this.Ny(R)}if(this.QF){this.CF(x,U)}}if(!this.A_)return;x.Q.O*=e;N.gQ(x,T,c,U,this.Tj);x.Q.O/=e;this.UT(x,T,0,!0);
this.CF(x,U);this.U3(R)};D.gW.prototype.rR=function(x,R,T,c,g){var d=this.yP(g,x),U=d[0],e=d[1];this.yl.rR(x,T,c,U);
if(this.QF){var N=this.QF.rR(x,T,c,U);if(N){this.U3(R,!0);this.CF(x)}}this.A_=!1};D.gW.prototype.Rw=function(x,R,T,c){if(c.S(fZ.AQ))this.ib(x,R,null,!0);
else if(c.S(fZ.jK))this.Ri(x,R);else{var g=this.yl.Rw(x,T,c);if(g){this.UT(x,T,0,!0);this.U3(R)}}};D.gW.prototype.B7=function(x,R,T,c){if(x.Mr=="commit")this.ib(T,R,null,!0);
else if(x.Mr=="cancel")this.Ri(T,R);else if(x.Mr=="switchWarp"){this.V6=1-this.V6;this.ajq();this.CF(T);
this.U3(R)}else if(x.Mr=="wrp"){this.QF.a7h(x.vy);this.CF(T);this.UT(T,this.im,0,!0)}else if(x.Mr=="splt")this.QF.ati(x.b);
else if(x.Mr=="ctyp"){this.yl.aqZ(x.GE);this.CF(T);this.U3(R)}else if(x.Mr=="cen"){this.yl.ao6(x.FV);
this.CF(T);this.UT(T,this.im,0,!0)}else if(x.Mr=="trn"){var g=u.D.bY(x.Na),d=this.mY,U=u.D.ok(this.yl.Mu(),this.mY);
g[6]=U[6],g[7]=U[7];var e=[d.x,d.y,d.x+d.m,d.y,d.x+d.m,d.y+d.e,d.x,d.y+d.e];u.D.i(g,e);this.oM=x.oM;
if(x.uT!=this.uT){this.uT=x.uT;this.a3n(T)}this.Tj=x.Tj;this.yl.ss(e);this.CF(T);this.UT(T,this.im,0,!0)}};
D.gW.prototype.CF=function(x,R){if(this.V6==0)this.yl.IA(x,this.im);else{this.QF.IA(x,R);var T=u.D.ok(this.yl.Mu(),this.mY);
u.D.i(T,x.N.NQ.z);u.D.i(T,x.N.Uu);u.D.i(T,x.N.EY)}};D.gW.prototype.ib=function(x,R,T,c){this.UT(x,this.im,this.oM);
var g=new ka(T?T:this.name,this),Z="";if(this.S4==0)g.data={type:this.S4,R:this.R,a6:this.Q1,Dl:D.gW.Sq(x,this.R)};
else if(this.S4==1){var d=x.R[this.R[0]],U;if(d.Cq.s4<=0){U=u.B(d.Cq.HL.Z());u.TR(d.Cq.xm,U,3)}else U=x.u.channel;
var e={rect:d.Cq.HL.clone(),channel:U};g.data={type:this.S4,a:this.R[0],ua:this.ua,SG:e,ac:this.ac,k2:this.k2,Cq:d.Cq,a6:this.a6,Dl:{v4:d.Cq.HL,Ik:d.Cq.xm}}}else if(this.S4==2){g.data={type:this.S4,ua:this.ua,SG:{rect:x.u.rect.clone(),channel:x.u.channel.slice(0)}}}x.XY(g);
var N=this.mY,l=u.D.ok(this.yl.Mu(),N),J=this.Q1,w=J?J[0]:null;if(J&&J.length==1&&w[4]){var s=D.gW.Yg(w[4].nonAffineTransform),N=u.M.QK(u.zb.xe(w[4].quiltWarp.v)[3]),o=u.D.ok(s,N);
l=u.D.Kq(l,u.D.F0(o))}var V=u.D.nA(l),a=this.yl.U$(),O=new gP;O.translate(a.x,a.y);O.concat(V);O.translate(-a.x,-a.y);
V=O.clone();var S=-Math.atan2(-V.J,V.Y),L=new gP;L.rotate(S);V.concat(L);function Q(k,K){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][K],val:k}}}var b=bf.rX("Lyr",!0);
if(this.id==D.wI)b.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var I=D.gW.ak0;for(var y in I)if(I[y]==this.yl.f9)Z=y;
if(Z==""){Z="Qcsi";O.a4=O.rY=0}var r={classID:"null",null:b,FTcs:{t:"enum",v:{QCSt:Z}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:Q(O.a4,0),Vrtc:Q(O.rY,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:Q(Math.atan(V.zI/V.jR)*180/Math.PI,2),Vrtc:Q(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:Q(100*0,1),Vrtc:Q(100*0,1)}},Wdth:Q(V.Y*100,1),Hght:Q(V.jR*100,1),Angl:Q(S*180/Math.PI,2)};
if(Z=="Qcsi")r.Pstn={t:"Objc",v:{Hrzn:Q(a.x,0),Vrtc:Q(a.y,0)}};var h=this.QF?this.QF.YU():null;if(h&&!u.zb.rJ(h)){r.quiltWarp={t:"Objc",v:h}}this.RA=R;
this.track({Sm:"transform",M1:r});this.escape(x,R,c)};D.gW.ak0={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
D.gW.prototype.Ri=function(x,R){if(this.S4==0)D.gW.Nf(x,this.R,this.Q1);else if(this.S4==1){var T=x.R[this.R[0]];
x.u=this.ua;if(!this.k2){T.Cq.HL=this.a6.v4;T.Cq.xm=this.a6.Ik;T.$m(x,0,0,x.u)}else{T.i6(x,this.ac)}x.W();
x.yL=!0}else if(this.S4==2){x.u=this.ua;x.yL=!0}this.escape(x,R,!0)};D.gW.prototype.escape=function(x,R,T){this.yl.clear(x);
if(this.QF)this.QF.clear(x);this.yl=null;this.QF=null;this.Oy=null;this.V6=0;if(T)this.nj(R,v.E.P,{d:v.H.GO})};
D.gW.prototype.cU=function(x,R){if(x.type==0)D.gW.Nf(R,x.R,x.Dl);else{if(x.type==1){var T=R.R[x.a];if(x.k2){T.Cq=x.Cq}else{T.Cq.HL=x.Dl.v4;
T.Cq.xm=x.Dl.Ik}T.$m(R,0,0,R.u);R.W()}R.u={rect:x.SG.rect.clone(),channel:x.SG.channel.slice(0)};R.yL=!0}};
D.gW.prototype.cA=function(x,R){if(x.type==0)D.gW.Nf(R,x.R,x.a6);else{if(x.type==1){var T=R.R[x.a];if(x.k2){T.i6(R,x.ac)}else{T.Cq.HL=x.a6.v4;
T.Cq.xm=x.a6.Ik;T.$m(R,0,0,R.u)}R.W()}R.u=x.ua;R.yL=!0}};D.gW.prototype.ae4=function(x,R,T){x.JR();var c=[];
if(T==null)for(var z=0;z<x.pT.length;z++)if(x.OQ[x.pT[z]].add.vmsk.$.length>2)c.push(-1-x.pT[z]);var g=[],d=x.Q.U;
if(d[0]+d[1]+d[2]==3)if(T!=null||c.length==0||x.Kx!=null&&x.Kx.length!=0){if(x.g.length==1){var U=x.R[x.g[0]];
if(U.NW()&&U.yn)g=[x.g[0]]}if(g.length==0)g=x.LQ(R,T,null,!0)}g=g.concat(c);for(var z=0;z<x.nE.length;
z++)g.push(-1e3-x.nE[z]);this.R=g};D.gW.prototype.enable=function(x,R,T,c,g,d){if(this.cursor==null)this.cursor="default";
this.Ny(R);if(this.yl)return;this.im=T;this.ae4(x,!0);this.aAa(x,d&&d.or!=null&&d.or!=-1?d.or:null);
this.U3(R,null,x);this.CF(x);if(d&&d.or==-1)this.B7({Mr:"switchWarp"},R,x,c)};D.gW.prototype.bL=function(){return[this.Tj?1:0]};
D.gW.prototype.zX=function(x,R,T){if(x&&x[0]!=null)this.Tj=x[0]==1};D.gW.prototype.U3=function(x,R,T){var c={d:v.H.Pn,f:this.id};
if(this.V6==0){var g=u.D.ok(this.yl.Mu(),this.mY),d=u.D.nA(g);c.Na={Zv:d,GE:this.yl.a12(),FV:this.yl.U$(),v4:this.mY.clone(),Tj:this.Tj}}else{c.anq=R;
c.vy=this.QF.YU()}if(T){c.Hp=["---"];for(var z=0;z<T.Hp.length;z++)c.Hp.push(T.Hp[z].name)}c.aBB=this.QF!=null;
this.nj(x,v.E.P,c)};D.gW.prototype.aAa=function(x,R){var T=this.id==D.wI,c=!0,g=this.R[0],d=x.R[g],e=null,N=null,l=null,s=null;
if(T){this.S4=2;this.ua=x.u}else if(x.u&&this.R.length==1&&g>=0&&!d.rect.Y3()){this.S4=1;this.ua=x.u;
this.ac=d.Cq;this.k2=!1;if(!d.Bt(x,x.u)){this.k2=!0;d.qN(x,x.u,!1)}this.a6={Ik:d.Cq.xm,v4:d.Cq.HL}}else{this.S4=0;
this.Q1=D.gW.Sq(x,this.R,null);for(var z=0;z<this.Q1.length;z++)if(this.Q1[z][3]!=null)c=!1}var U=this.S4==1;
if(this.Q1&&this.Q1.length==1){var J=this.Q1[0];if(J[2]!=null)N=J[2]._V;if(J[3]==null)U=!0;if(J[3]!=null)l=J[3];
if(J[4]!=null){e=x.R[this.R[0]].add.SoLd;if(J[1]||J[2])U=!1}}var w=T?x.u.rect.clone():D.gW.zC(x,this.R);
this.mY=w;if(!T&&N&&b5==1){s=N.a9r();this.HQ=u.D.ok(s,this.mY)}else if(!T&&l&&b5==1){var o=x.R[this.R[0]],l=o.add.TySh;
s=u.M.$x(o.um.Q4).z;u.M.i(s,l.i,s);this.HQ=u.D.ok(s,this.mY)}else if(!T&&e){s=D.gW.Yg(e.nonAffineTransform);
this.mY=u.M.QK(u.zb.xe(e.quiltWarp.v)[3]);if(U)this.QF=new eY(e.quiltWarp.v);this.HQ=u.D.ok(s,this.mY)}else{if(U||T)this.QF=new eY(u.zb.B(this.mY));
this.HQ=[1,0,0,0,1,0,0,0];if(this.id==D.ED)R=3;s=[w.x,w.y,w.x+w.m,w.y,w.x+w.m,w.y+w.e,w.x,w.y+w.e]}this.yl=new jS(s,!0,!0,c,!1,!1,R);
this.axQ=[1,0,0,0,1,0,0,0];this.a3n(x)};D.gW.prototype.a3n=function(x){if(this.id==D.ED){var R,T,d=null;
if(this.Q1&&x.u==null){var c=this.Q1[0][0],g=c.n$;R=g[0];T=g[1]}else if(this.a6){R=this.a6.Ik;T=this.a6.v4}if(this.uT!=0)d=x.Hp[this.uT-1].qC(T);
this.Oy=u.Nr.ar1(R,T.m,T.e,d)}};D.gW.zC=function(x,R){if(R==null)R=x.LQ(!0,null,null,!0);var T=new aP,c=new aP;
if(x.u&&R.length==1&&R[0]>=0)T=x.u.rect.clone();else for(var z=0;z<R.length;z++){var g=R[z],d=0<=g?x.R[g]:-1e3<g?x.OQ[-1-g]:x.Hp[-1e3-g],U=d.add?d.add.vmsk:null,e=0<=g?d.SW(x,R.length==1,!1,!0):-1e3<g?u.j.pP(U.$,R.length==1&&U.g.length!=0?U.g:null):d.rect.clone();
T=T.y8(e);if(g>0&&d.add.artb)c=c.y8(d.Ie())}return!c.Y3()?c:T};D.gW.prototype.nj=function(x,R,T,c){var g=new aA(R,!0);
g.data=T;if(c)g.f=c;x.c(g)};D.gW.Sq=function(x,R,T){var c=[];for(var z=0;z<R.length;z++){var g=R[z],d,U;
if(g>=0){d=x.R[g];U=d.iE(x,T,!0)}else if(g>-1e3){d=x.OQ[-1-g];U=[2]}else{c.push([null,null,null,null,null,null,null,x.Hp[-1e3-g].clone()]);
continue}var e=[],N=U.indexOf(0)!=-1;if(N){var l={n$:d.add.SoLd?null:[d.buffer.slice(0),d.rect.clone()]};
e.push(l);if(d.Xn()){var J=d.Ct(x);l.aBf=J.buffer.slice(0);l.av7=J.rect.clone()}}else e.push(null);if(U.indexOf(1)!=-1)e.push(d.le().clone());
else e.push(null);if(U.indexOf(2)!=-1)e.push({_V:d.add.vmsk.clone(),SC:d.add.vstk?JSON.parse(JSON.stringify(d.add.vstk)):null,TB:d.add.vstk?D.h3.qE(x,g):null,oZ:d.add.vogk?JSON.parse(JSON.stringify(d.add.vogk)):null});
else e.push(null);if(d.add.TySh&&N){bL.Tr(d.add.TySh);e.push(d.add.TySh.i.clone())}else e.push(null);
if(d.add.SoLd&&N)e.push(JSON.parse(JSON.stringify(d.add.SoLd)));else e.push(null);if(U.indexOf(3)!=-1)e.push(d.Ct(x).F.clone());
else e.push(null);if(d.add.lmfx)e.push(JSON.stringify(d.add.lmfx));else e.push(null);c.push(e)}return c};
D.gW.Nf=function(x,R,T){for(var z=0;z<R.length;z++){var c=R[z],g=0<=c?x.R[c]:-1e3<c?x.OQ[-1-c]:x.Hp[-1e3-c],d=T[z];
if(d[0]){if(d[0].n$){g.rect=d[0].n$[1].clone();g.buffer=d[0].n$[0].slice(0)}if(g.Xn()){var U=g.Ct(x);
U.buffer=d[0].aBf.slice(0);U.rect=d[0].av7.clone()}}if(d[1]){g.le().channel=d[1].channel.slice(0);g.le().rect=d[1].rect.clone();
g.le().IP=!0}if(d[2]){g.add.vmsk=d[2]._V.clone();if(d[2].TB)D.h3.tg(g,d[2].TB);if(d[2].SC)g.add.vstk=JSON.parse(JSON.stringify(d[2].SC));
if(d[2].oZ)g.add.vogk=JSON.parse(JSON.stringify(d[2].oZ))}if(d[3]){g.add.TySh.i=d[3].clone();bL.jT(g.add.TySh)}if(d[4]){g.add.SoLd=JSON.parse(JSON.stringify(d[4]))}if(d[5]){var e=g.Ct(x).F;
e.channel=d[5].channel.slice(0);e.rect=d[5].rect.clone()}if(d[6]){g.add.lmfx=JSON.parse(d[6])}if(d[7]){g.channel=d[7].channel.slice(0);
g.rect=d[7].rect.clone();g.IP=!0}if(0<=c){g.sG(x);g.W();if(d[4])g.Ht(x,!1)}}x.W()};D.gW.AL=function(x,R,T,c,g,d,U,e,N,l){if(typeof d[0]=="number"){var J=[];
for(var z=0;z<T.length;z++)J[z]=d;d=J}for(var z=0;z<T.length;z++){var w=d[z],s=u.D.nA(w),o=s.Rt(),V=T[z],a=0<=V?x.R[V]:-1e3<V?x.OQ[-1-V]:x.Hp[-1e3-V],O=c[z];
if(a.add&&a.add.lmfx&&e)e5.Xd(a.add.lmfx,o);if(O[0]&&!O[3]&&!O[4]&&!O[5]){var S=O[0].n$;if(N){var L=N.clone(),Q=u.B(L.Z()*4);
u.yU(S[0],S[1],Q,L);S=[Q,L]}var b=D.gW.W8(S,g,w,U,g==0?a.buffer.buffer:null,null,null,l);if(b){a.rect=b.rect;
a.buffer=b.buffer}}if(O[1]){var Z=a.le();D.gW.vw(x,O[1],Z,g,w,U,Z.fh&&U&&!u.zb.rJ(U)&&O[0]?O[0].n$[1]:null);
if(N){var L=a.rect.yx(N),I=u.B(L.Z());u.gN(Z.channel,Z.rect,I,L);Z.channel=I;Z.rect=L}}if(O[2]){var y=U&&!u.zb.rJ(U),r=O[2]._V.clone(),h=T.length==1&&r.g.length!=0,k=T.length==1&&r.fH.length>1;
if(k)h=!1;var K=h?r.g:null,H=k?r.fH:null;if(y){var p=u.zb.xe(U);u.D.i(w,p[3]);u.j.ad3(r.$,p,K,H)}else u.j.aiV(r.$,w,K,H);
if(a.add.vstk&&e){a.add.vstk.strokeStyleLineWidth.v.val=O[2].SC.strokeStyleLineWidth.v.val*o;var f=O[2].TB;
if(f&&f.KI==3){f=JSON.parse(JSON.stringify(f));var A=f.TB.phase.v;f.TB.Scl.v.val=Math.round(f.TB.Scl.v.val*o);
A.Hrzn.v=Math.round(A.Hrzn.v*o);A.Vrtc.v=Math.round(A.Vrtc.v*o);D.h3.tg(a,f)}}if(a.add.vogk){a.add.vogk=JSON.parse(JSON.stringify(O[2].oZ));
if(y||k)u.oZ.aqP(a.add.vogk);else u.oZ.i(a.add.vogk,w,T.length>1?[]:r.g,e)}r.Cu*=o;var _=new gP;_.rotate(r.XI);
_.concat(s);r.XI=Math.atan2(-_.J,_.Y);a.add.vmsk=r;if(a.add.vogk)u.oZ.wY(a.add.vogk,a.add.vmsk)}if(O[3]){var W=O[3].clone();
W.concat(s);a.add.TySh.i=W;bL.jT(a.add.TySh);cQ.H9(a,R.dA)}if(O[4]){var Y=a.add.SoLd,G=D.gW.Yg(O[4].nonAffineTransform);
u.D.i(w,G);var i=u.M.CC(G);if(jS.r9(G)){if(U){var E=u.M.QK(u.zb.xe(O[4].quiltWarp.v)[3]),I=u.D.ok(G,E),$=u.M.QK(u.zb.xe(U)[3]);
G=[$.x,$.y,$.x+$.m,$.y,$.x+$.m,$.y+$.e,$.x,$.y+$.e];u.D.i(I,G);Y.quiltWarp.v=U}var C=u.D.ok(G),B=G;if(!u.D.VJ(C)){C[6]=C[7]=0;
B=[0,0,1,0,1,1,0,1];u.D.i(C,B)}Y.Trnf=D.gW.db(B);Y.nonAffineTransform=D.gW.db(G);if(Y.filterFX)Y.filterFX=JSON.parse(JSON.stringify(O[4].filterFX));
D.gW.azI(Y,s);a.Ht(x,g==0,R.dA)}}if(O[5])D.gW.vw(x,O[5],a.Ct(x).F,g,w,U);if(O[7])D.gW.vw(x,O[7],a,g,w,U);
if(0<=V){if(!l)a.mu();a.sG(x);a.W()}}x.W()};D.gW.uQ=function(x,R){var T=R.Rt(),c=0;u.jE(x);var g=u.iB(x,R,.3,4);
c=g[0];R=g[1];var d=x[c],U=x[c+1],e=U.m,N=U.e,l=u.M.$x(U).z;u.M.i(l,R,l);var J=u.M.CC(l),w=u.B(J.Z()),s=J.x,o=J.y,V=J.m,a=J.e,O=R.clone();
O.F0();var S=O.Wk(new cI(0,0)),L=O.Wk(new cI(1,0)),Q=L.x-S.x,b=L.y-S.y;for(var Z=0;Z<a;Z++){var I=O.Y*(s+.5)+O.zI*(Z+o+.5)+O.a4,y=O.J*(s+.5)+O.jR*(Z+o+.5)+O.rY;
for(var r=0;r<V;r++){w[Z*V+r]=Math.floor(.5+u.D.ach(I,y,d,e,N));I+=Q;y+=b}}return{rect:J,channel:w}};
D.gW.ug=function(x,R,T,c,g,d){if(T==null)T=!1;return D.gW.W8(x,T?0:1,u.D.bY(R),null,c,g,d,T)};D.gW.W8=function(x,R,T,c,g,d,U,e){if(e==null)e=!1;
if(e&&U)throw"e";var N={},J=0;if(c&&!u.zb.rJ(c)){var l=u.zb.xe(c);u.D.i(T,l[3]);N.rect=u.M.CC(l[3]);
N.buffer=u.B(N.rect.Z()*4);u.i1.drawImage(l,x[0],x[1].m,x[1].e,N.buffer,N.rect,R==0);return N}if(u.D.VJ(T)){u.hj(x);
var w=.3,J=0,s=u.D.nA(T),o=x[1],V=o.Z()*s.Rt();if(e&&V>4e6)w=V>8e6?2.2:1.2;var a=u.iB(x,s,w,16);J=a[0];
T=u.D.bY(a[1])}var O=x[J],o=x[J+1],S=u.D.Kq(T,u.D.bY(new gP(o.m,0,0,o.e,o.x,o.y))),L=[0,0,1,0,1,1,0,1];
u.D.i(S,L);N.rect=u.M.CC(L);if(U)N.rect=N.rect.yx(U);if(e){while((N.rect.m&3)!=0)N.rect.m++;while((N.rect.e&3)!=0)N.rect.e++}if(!jS.r9(L)||N.rect.m>1e5||N.rect.e>1e5||N.rect.Z()>3e4*3e4)return null;
var Q=N.rect.Z()*4;if(g&&g.byteLength>=Q&&Q>=g.byteLength>>2){N.buffer=new Uint8Array(g)}else{N.buffer=u.B(Q)}u.D.drawImage(S,O,o.m,o.e,N.buffer,N.rect,R==0,d,e);
if(R==2&&N.buffer){var b=N.rect.m,Z=N.rect.e,I;I=[0,-1,0,-1,16,-1,0,-1,0];I=u.zo.nc(I);var y=N.buffer.slice(0);
u.zo.nh(y,N.buffer,b,Z,I,255,!1,!0)}if(N.buffer)return N};D.gW.vw=function(x,R,T,c,g,d,U){var e=R.rect,N=R.channel;
if(U){e=U;N=R.qC(e)}if(R.color==255)u.F0(N);var l=u.B(e.Z()*4);u.rN(N,l,3);var J=D.gW.W8([l,e],c,g,d);
if(J){T.rect=J.rect;T.channel=u.B(J.rect.Z());u.TR(J.buffer,T.channel,3);T.IP=!0}if(R.color==255){u.F0(N);
if(J)u.F0(T.channel)}};D.gW.azI=function(x,R){var T=x.filterFX;if(T)T=T.v.filterFXList;if(T)T=T.v;if(T)for(var c=0;
c<T.length;c++){var g=T[c].v.Fltr;if(g==null||g.v.classID!="rigidTransform")continue;g=g.v;console.log(g);
var d=[];for(var U=0;U<4;U++)d.push(g["PuX"+U].v,g["PuY"+U].v);u.M.i(d,R,d);for(var U=0;U<4;U++){g["PuX"+U].v=d[U*2];
g["PuY"+U].v=d[U*2+1]}var e=["PinP","posFinalPins"],N=["originalVertexArray","deformedVertexArray"],l=g.puppetShapeList.v;
for(var J=0;J<l.length;J++){var w=l[J].v;for(var s=0;s<e.length;s++){var o=D.gW.Yg(w[e[s]]);u.M.i(o,R,o);
w[e[s]]=D.gW.db(o);var V=new Uint8Array(w[N[s]].v),a=new Float32Array(V.buffer);u.M.i(a,R,a);var O=[];
for(var S=0;S<V.length;S++)O[S]=V[S];w[N[s]].v=O}}}};D.gW.Yg=function(x){var R=[],T=x.v.length;for(var z=0;
z<T;z++)R.push(x.v[z].v);return R};D.gW.db=function(x){var R={t:"VlLs",v:[]},T=x.length;for(var z=0;
z<T;z++)R.v.push({t:"doub",v:x[z]});return R};D.gW.prototype.ajq=function(){var x=u.M.QK(u.zb.xe(this.QF.YU())[3]),R=u.D.ok(this.yl.Mu(),this.mY),T=[x.x,x.y,x.x+x.m,x.y,x.x+x.m,x.y+x.e,x.x,x.y+x.e];
u.D.i(R,T);this.yl.ss(T);this.mY=x};D.gW.prototype.UT=function(x,R,T,c){var g=u.D.ok(this.yl.Mu(),this.mY);
g=u.D.Kq(g,u.D.F0(this.HQ));var d=this.QF?this.QF.YU():null;if(this.S4==0){var U=this.j6=u.D.nA(g);if(this.id==D.ED){var e=this.Q1[0][0],N=e.n$,l=N[1],J=~~(l.m*Math.max(0,U.Y)),w=~~(l.e*Math.max(0,U.jR)),s=new aP(Math.round(U.Y*l.x+U.a4),Math.round(U.jR*l.y+U.rY),J,w),o=u.Nr.i(this.Oy,s),V=x.R[this.R[0]];
V.buffer=o;V.rect=s;V.W();x.W()}else D.gW.AL(x,R,this.R,this.Q1,T,g,d,null,null,c)}else if(this.S4==1){var a=x.R[this.R[0]],l=this.a6.v4;
if(a.s4<=0){var O=this.a6.Ik,S=this.ua,L=null;if(d&&!u.zb.rJ(d)&&!S.rect.X$(l)){var o=u.B(S.rect.Z()*4);
u.yU(O,l,o,S.rect);O=o;l=S.rect}if(this.id==D.ED){var U=this.j6=u.D.nA(g),J=~~(l.m*Math.max(0,U.Y)),w=~~(l.e*Math.max(0,U.jR)),s=new aP(Math.round(U.Y*l.x+U.a4),Math.round(U.jR*l.y+U.rY),J,w),o=u.Nr.i(this.Oy,s);
L={buffer:o,rect:s}}else L=D.gW.W8([O,l],T,g,d);if(L){a.Cq.xm=L.buffer;a.Cq.HL=L.rect;var Q=u.B(L.rect.Z());
u.TR(a.Cq.xm,Q,3);x.u={channel:Q,rect:a.Cq.HL.clone()}}}else{var b=u.B(l.Z()*4);u.rN(this.a6.Ik,b,3);
var L=D.gW.W8([b,l],T,g,d);if(L){a.Cq.xm=u.B(L.rect.Z());u.TR(L.buffer,a.Cq.xm,3);a.Cq.HL=L.rect}this.aBi(x,T,g,d)}a.$m(x,0,0,x.u);
if(T!=0){a.mu();u.mu(x.u)}x.yL=!0;x.W()}else if(this.S4==2)this.aBi(x,T,g,d)};D.gW.prototype.aBi=function(x,R,T,c){var g=this.ua.rect,d=u.B(g.Z()*4);
u.rN(this.ua.channel,d,3);var U=D.gW.W8([d,g],R,T,c),e=u.B(U.rect.Z());u.TR(U.buffer,e,3);x.u={channel:e,rect:U.rect};
x.yL=!0};D.gW.prototype.disable=function(x,R,T,c){if(this.yl)this.ib(x,R,null,!0)};D.atb=function(){D.gW.call(this,[10,16],D.lU,"tools/transform")};
D.atb.prototype=new D.gW;D.a3a=function(){D.gW.call(this,[7,10],D.wI,"tools/transform")};D.a3a.prototype=new D.gW;
D.ahN=function(){D.gW.call(this,[10,48],D.ED,"tools/transform")};D.ahN.prototype=new D.gW;D.PT=function(x,R,T){D.Gj.call(this,[10,46],D.NN,"tools/transform");
this.rx=[1,1,2,!0];this.dq="rigidTransform";this.fi=null;this.alW=null;this.$u=null;this.Cb=null;this.aL=null;
this.f$=null;this.Ij=[]};D.PT.prototype=new D.Gj;D.PT.prototype.Vd=function(){return!0};D.PT.acI=function(x){if(x==null)return!1;
if(x.g.length!=1)return!1;var R=x.R[x.g[0]];return R.add.SoLd||x.nD(!1)};D.PT.prototype.Fx=function(x,R){return D.PT.acI(x)};
D.PT.prototype.enable=function(x,R,T,c,g,d,U){this.alW=d.wX;var e=d.wX,N,a=null;if(e){var l=x.R[e.a];
if(l.add.SoLd.filterFX!=null){var J=l.add.SoLd.filterFX.v.filterFXList.v;if(J[e.index])N=JSON.parse(JSON.stringify(J[e.index].v.Fltr.v))}}var w=N==null,l=x.R[x.g[0]],s=l.buffer,o=l.rect,V=l.add.SoLd;
if(V){var O=V.nonAffineTransform.v;a=[];for(var z=0;z<4;z++)a.push(O[z*2].v,O[z*2+1].v);if(w)this.Hc("edit",R);
var S=l.Ct(x);s=S.buffer;o=S.rect}this.fi={buffer:s.slice(0),rect:o.clone(),aCi:a};if(w)N=D.PT.AS(this.fi,this.rx);
this.$u=N;this.Cb=D.PT.pF(this.$u,this.rx);this.RG();this.uJ(x);if(w)this.a5(R);var L=new aA(v.E.P,!0);
L.data={d:v.H.Pn,f:this.id,vr:this.rx};R.c(L);L.data={d:v.H.pm,ze:"default"};R.c(L)};D.PT.prototype.disable=function(x,R,T,c){if(this.Cb)this.ib(x,R,!0)};
D.PT.prototype.RG=function(x){var R=this.Cb;this.Ij=[];for(var z=0;z<R.length;z++){var T=R[z];for(var c=0;
c<T.g.length;c++)this.Ij.push([z,T.g[z]]);T.dG=u.xn.afz(T);if(x)u.xn.a24(T)}};D.PT.prototype.B7=function(x,R,T,c){if(x.Mr=="commit")this.ib(T,R,!0);
else if(x.Mr=="cancel")this.Ri(T,R,!0);else if(x.Mr=="prm"){var g=!1;for(var z=0;z<3;z++)if(this.rx[z]!=x.vr[z])g=!0;
this.rx=x.vr;if(g){this.$u=D.PT.AS(this.fi,this.rx,this.$u);this.Cb=D.PT.pF(this.$u,this.rx);this.RG(!0);
this.a5(R)}this.uJ(T)}else if(x.Mr=="moveDepth"){var d=this.Cb;for(var U=0;U<d.length;U++){var e=d[U];
for(var z=0;z<e.g.length;z++){var N=e.g[z];e.BQ[N]+=x.a84?1:-1}}this.a5(R)}};D.PT.prototype.WX=function(x,R){return x==fZ.U5||x==fZ.ve};
D.PT.prototype.Rw=function(x,R,T,c){var g=c.Gw();if(c.S(fZ.AQ))this.ib(x,R,!0);else if(c.S(fZ.jK))this.Ri(x,R,!0);
else if(c.S(fZ.U5)||c.S(fZ.ve)){var d=this.Cb;for(var U=0;U<d.length;U++){var e=d[U];e.g.sort(function(J,w){return w-J});
for(var z=0;z<e.g.length;z++){var N=e.g[z],l=N*2;e.BQ.splice(N,1);e.J5.splice(N,1);e.r2.splice(N,1);
e.Qa.splice(N,1);e.bH.splice(l,2);e.YD.splice(l,2)}e.g=[];if(e.Qa.length==0){e.hn=e.qe.slice(0);e.Np=e.qe.slice(0)}}this.RG(!0);
this.a5(R);this.uJ(x)}else if(g.x!=0||g.y!=0){this.ava(x,g.x,g.y,R);this.Eu=null}};D.PT.prototype.ib=function(x,R,T){this.Hc("confirm",R);
this.escape(x,R,T)};D.PT.prototype.Ri=function(x,R,T){this.Hc("cancel",R);this.escape(x,R,T)};D.PT.prototype.escape=function(x,R,T){x.N.Xp=null;
x.N.M2=[];x.N._H=[];x.Sa=!0;this.Cb=null;var c=new aA(v.E.P,!0);c.data={d:v.H.GO};if(T)R.c(c)};D.PT.prototype.fz=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y),U=d.x,e=d.y,N=this.Cb,l=null,J=[0,2,4,1.2,1.2,1.2],w=-1,s=D.CM(x,g);
for(var z=0;z<N.length;z++){var o=N[z],V=u.M.WL(o.YD,U,e,s);if(V!=-1)l=[z,V];if(w==-1&&u.xn.aq8.aCa(o.Np,o.Pg,U,e))w=z}if(l==null&&w!=-1){var o=N[w];
D.PT.aB4(o,U,e,U,e,0);l=[w,o.Qa.length-1];o.dG=u.xn.afz(o)}this.aL=d;if(l){var a=N[l[0]].g.indexOf(l[1])!=-1;
if(c.S(fZ.xg)&&!a){N[l[0]].g.push(l[1]);this.Ij.push(l)}else if(!a){N[l[0]].g=[l[1]];this.Ij=[l]}}this.uJ(x)};
D.PT.aB4=function(x,R,T,c,g,d){var U=u.M.WL(x.Np,R,T);x.Qa.push(U);x.YD.push(c,g);x.bH.push(x.Np[U*2]-R,x.Np[U*2+1]-T);
x.r2.push(0);x.J5.push(!1);x.BQ.push(d)};D.PT.prototype.gQ=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y),U=this.aL;
if(U)this.ava(x,d.x-U.x,d.y-U.y,R)};D.PT.prototype.ava=function(x,R,T,c){var g={},d=this.Ij,U=this.Cb;
if(this.Eu==null){this.Eu=[];for(var z=0;z<U.length;z++)this.Eu.push(U[z].YD.slice(0))}for(var z=0;z<d.length;
z++){var e=this.Ij[z],N=e[0],l=U[e[0]],J=e[1]*2;l.YD[J+0]=this.Eu[N][J+0]+R;l.YD[J+1]=this.Eu[N][J+1]+T;
g[N]=N}for(var N in g)u.xn.a24(this.Cb[g[N]]);this.uJ(x);this.a5(c)};D.PT.prototype.Hc=function(x,R){var T=new aA(v.E.v,!0);
T.f=D.zW;T.data={d:x,wX:this.alW,dq:this.dq,hu:this.$u};R.c(T)};D.PT.prototype.rR=function(x,R,T,c,g){this.aL=null;
this.Eu=null};D.PT.prototype.a5=function(x){D.PT.akU(this.Cb,this.rx,this.$u);this.Hc("edit",x)};D.PT.prototype.uJ=function(x){var R=this.Cb,T=this.$u;
x.N.Xp={z:[],G:[]};x.N.M2=[];x.N._H=[];for(var z=0;z<R.length;z++){var c=R[z];for(var g=0;g<c.YD.length;
g+=2){var d=x.N._H;if(c.g.indexOf(g>>>1)!=-1)d=x.N.M2;d.push(c.YD[g],c.YD[g+1])}if(this.rx[3])u.M.concat(x.N.Xp,u.M.a4i(c.Np,c.Pg))}x.Sa=!0};
D.PT.AS=function(x,R,T){var c=x.buffer,g=x.rect,d=x.aCi,U=gm.GI("rigidTransform");if(d)for(var z=0;z<4;
z++){U["PuX"+z].v=d[z*2];U["PuY"+z].v=d[z*2+1]}var e=U.puppetShapeList.v,N=u.xn.alS(c,g.m,g.e,R[1],R[2]),l=[];
for(var J=0;J<N.length;J++){var w={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
w.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var s=N[J];e.push({t:"Objc",v:w});var o=s.qe.slice(0);u.M.i(o,new gP(1,0,0,1,g.x,g.y),o);var V=s.Pg;
for(var z=0;z<V.length;z+=3){var a=V[z+1];V[z+1]=V[z+2];V[z+2]=a}l.push({Pg:V,qe:o,hn:o,Np:o,Qa:[],bH:[],YD:[],dG:null,g:[],r2:[],J5:[],BQ:[]})}if(T){var O=D.PT.pF(T,[]),S=l[0];
for(var z=0;z<O.length;z++){var L=O[z];for(var Q=0;Q<L.g.length;Q++)S.g.push((S.YD.length>>>1)+L.g[Q]);
for(var Q=0;Q<L.Qa.length;Q++){var b=L.Qa[Q]*2,Z=L.qe[b]-L.bH[Q*2],I=L.qe[b+1]-L.bH[Q*2+1];D.PT.aB4(S,Z,I,L.YD[Q*2],L.YD[Q*2+1],L.BQ[Q])}}}D.PT.akU(l,R,U);
return U};D.PT.pF=function(x,R){var T=D.gW.Yg,c=x.puppetShapeList.v,g=[];for(var d=0;d<c.length;d++){var U=c[d].v;
R[0]=U.meshRigidity.v-1;R[1]=U.meshQuality.v-1;R[2]=U.meshExpansion.v;var e=U.pinVertexIndices.v.length,N=U.meshBoundaryPath.v.pathComponents.v;
if(N.length!=0){var l=N[0].v.SbpL.v[0].v.Pts;l.v=[]}var J=new Uint32Array(new Uint8Array(U.indexArray.v).buffer),w=new Float32Array(new Uint8Array(U.originalVertexArray.v).buffer),s=new Float32Array(new Uint8Array(U.deformedVertexArray.v).buffer),o=[],V=[],a=[];
for(var z=0;z<J.length;z++)o.push(J[z]);for(var z=0;z<w.length;z++){V.push(w[z]);a.push(s[z])}var O=T(U.pinVertexIndices),S=T(U.pinOffsets),L=T(U.posFinalPins),Q=T(U.PnRt),b=T(U.PnOv),Z=T(U.PnDp),I=T(U.selectedPin);
g.push({Pg:o,qe:V,hn:a.slice(0),Np:a,Qa:O,bH:S,YD:L,dG:null,r2:Q,J5:b,BQ:Z,g:I})}return g};D.PT.akU=function(x,R,T){function c(s,o){var V=[];
for(var z=0;z<s.length;z++)V.push({t:o,v:s[z]});return V}function g(s,o,V){var a=new(V?Uint32Array:Float32Array)(s),O=new Uint8Array(a.buffer);
for(var z=0;z<O.length;z++)o[z]=O[z]}var d=T.puppetShapeList.v;for(var U=0;U<d.length;U++){var e=x[U],N=d[U].v;
N.meshRigidity.v=R[0]+1;N.meshQuality.v=R[1]+1;N.meshExpansion.v=R[2];g(e.Pg,N.indexArray.v,!0);g(e.qe,N.originalVertexArray.v);
g(e.Np,N.deformedVertexArray.v);var l=[];for(var z=0;z<e.Qa.length;z++){var J=e.Qa[z]*2,w=z*2;l[w]=e.qe[J]-e.bH[w];
l[w+1]=e.qe[J+1]-e.bH[w+1]}N.PinP.v=c(l,"doub");N.pinVertexIndices.v=c(e.Qa,"long");N.pinOffsets.v=c(e.bH,"doub");
N.posFinalPins.v=c(e.YD,"doub");N.PnRt.v=c(e.r2,"long");N.PnOv.v=c(e.J5,"bool");N.PnDp.v=c(e.BQ,"doub");
N.selectedPin.v=c(e.g,"long")}};D.D3=function(x,R,T){D.Gj.call(this,x?x:[10,40],R?R:D.T4,T?T:"tools/slice");
this._c=null;this.RA=null;this.cm=null;this.a7V=null;this.Vl=null;this.HI=null};D.D3.prototype=new D.Gj;
D.D3.Ua=function(x,R){var T=-1;for(var z=0;z<x.length;z++){var c=D.D3.ha(x,z);if(c[0]<=R.x&&R.x<=c[2]&&c[1]<=R.y&&R.y<=c[3]){T=z;
break}}return T};D.D3.prototype.gb=function(x,R,T,c,g){if(T==null)return;this.Rf(T);if(x.d=="fromAction"){var d=x.J9,U=d.Sm,e=d.M1,N=T.M3(),l=T.NY(),J=l==-1?new aP(0,0,T.m,T.e):T.R[l].Ie();
if(U=="divide"){if(T.ci.length!=0){var w=T.ci[0],s=D.D3.ha(T.co,w);J=new aP(s[0],s[1],s[2]-s[0],s[3]-s[1]);
T.co.splice(w,1);T.ci=[]}N=[[],[]];for(var o=0;o<2;o++){var V=["Across","Down"][o],a=e["pixels"+V]?0:1,O=e[["pixels","slices"][a]+V];
if(O==null)continue;O=O.v;var S=o==0?J.x:J.y,L=o==0?J.m:J.e;if(a==0)for(var z=1;z*O<L;z++){N[0].push([o,S+z*O]);
N[1].push(l)}else{var Q=Math.floor(L/O);for(var z=1;z<O;z++){N[0].push([o,S+z*Q]);N[1].push(l)}}}}var b=[J.x,J.x+J.m],Z=[J.y,J.y+J.e];
for(var z=0;z<N[0].length;z++){var I=N[0][z],y=Math.round(I[1]),r=N[1][z];if(r!=-1&&r!=l)continue;if(I[0]==0&&b.indexOf(y)==-1)b.push(y);
if(I[0]==1&&Z.indexOf(y)==-1)Z.push(y)}b.sort(function(Y,G){return Y-G});Z.sort(function(Y,G){return Y-G});
for(var h=1;h<Z.length;h++)for(var k=1;k<b.length;k++){T.co.push(D.D3.H1());D.D3.No(T.co,T.co.length-1,[b[k-1],Z[h-1],b[k],Z[h]]);
T.Sa=!0}}else if(x.d=="reorder"){if(T.ci.length==0)return;var K=T.co,H=T.ci;H.sort(function(Y,G){return Y-G});
console.log(H);var p=K.slice(0),f=[],A=[];for(var z=0;z<H.length;z++){var w=H[z],_=K[w];A.push(_);p.splice(p.indexOf(_),1)}var W=Math.max(0,Math.min(p.length,H[0]-x.dir));
for(var z=0;z<A.length;z++){p.splice(W+z,0,A[z]);f.push(W+z)}T.co=p;T.ci=f}else if(x.d=="delete"){var K=T.co.slice(0);
for(var z=0;z<T.ci.length;z++)T.co.splice(T.co.indexOf(K[T.ci[z]]),1);T.ci=[]}else if(x.d=="deleteAll"){T.co=[];
T.ci=[]}else{T.co[T.ci[0]].v=x;T.Sa=!0}this.HG(T)};D.D3.prototype.enable=function(x,R,T,c,g,d){D.Gj.prototype.enable.call(this,x,R,T,c,g,d);
if(!T.j3.co){var U=new aA(v.E.P,!0);U.data={d:v.H.pV,vr:hc.$v};R.c(U)}};D.D3.prototype.disable=function(){this._c=null;
this.RA=null};D.D3.prototype.A4=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y),U=D.D3.Ua(x.co,d);if(U==-1)return;
this._c=x;this.RA=R;x.ci=[U];x.Sa=!0;if(this.HI==null){this.HI=new d$([{name:[5,4]},{name:[8,11,1],J4:!0}]);
this.HI.k("select",this.tr,this)}var e=this.HI;e.parent=R;e.t();e.update(x,T);var N=new aA(v.E.P,!0);
N.data={d:v.H.fu,YR:e,x:g.yq+2,y:g.xa+1};R.c(N)};D.D3.prototype.tr=function(x){var R=this.HI.ty()[0],T=this._c;
if(R==0){this.Rf(T);T.co.splice(T.ci[0],1);T.ci=[];T.Sa=!0;this.HG(T)}if(R==1){var c=new aA(v.E.P,!0);
c.data={d:v.H.i$,$k:"soptions",b:T.co[T.ci[0]].v};this.RA.c(c)}};D.D3.prototype.fz=function(x,R,T,c,g){if(x==null)return;
this.Rf(x);var d=x.Q.nU(g.x,g.y);d=D.K$.zE(x,d,T,[!0,null,!1]);d.x=Math.round(d.x);d.y=Math.round(d.y);
this.Vl=d;x.co.unshift(D.D3.H1());x.ci=[0];D.D3.No(x.co,0,[d.x,d.y,d.x+20,d.y+20]);x.Sa=!0};D.D3.prototype.gQ=function(x,R,T,c,g){if(this.cm==null)return;
var d=x.Q.nU(g.x,g.y),U=this.Vl;d=D.K$.zE(x,d,T,[!0,null,!1]);d.x=Math.round(d.x);d.y=Math.round(d.y);
var e=[U.x,U.y,d.x,d.y];D.D3.a2m(e);D.D3.No(x.co,0,e);x.Sa=!0};D.D3.prototype.rR=function(x,R,T,c,g){this.HG(x);
this.Vl=null};D.D3.prototype.Rf=function(x){this.cm=JSON.stringify(x.co);this.a7V=JSON.stringify(x.ci)};
D.D3.prototype.HG=function(x){var R=JSON.stringify(x.co);if(R!=this.cm){var T=new ka(this.name,this);
T.data={a6:this.cm,Dl:R,aAr:this.a7V,aqb:JSON.stringify(x.ci)};x.XY(T)}this.cm=null};D.D3.prototype.cA=function(x,R){R.co=JSON.parse(x.a6);
R.ci=JSON.parse(x.aAr);R.Sa=!0};D.D3.prototype.cU=function(x,R){R.co=JSON.parse(x.Dl);R.ci=JSON.parse(x.aqb);
R.Sa=!0};D.D3.prototype.WX=function(x,R){return R!=null&&R.ci.length!=0&&(x==fZ.U5||x==fZ.ve)};D.D3.prototype.Rw=function(x,R,T,c){if(x==null)return;
if(c.S(fZ.U5)||c.S(fZ.ve))this.gb({d:"delete"},R,x,c,T);var g=c.Gw();if(g.x!=0||g.y!=0){this.Rf(x);D.D3.xR(x,g);
this.HG(x)}};D.D3.prototype.B7=function(x,R,T,c,g){};D.D3.aAl=function(x,R,T,c){var g=new cI(-R.x,-R.y),d=R.m/T.m,U=R.e/T.e,e=[0,0,R.m,R.e];
for(var z=0;z<x.length;z++){var N=D.D3.ha(x,z);if(c){N[0]=Math.round(N[0]*d);N[1]=Math.round(N[1]*U);
N[2]=Math.round(N[2]*d);N[3]=Math.round(N[3]*U)}else{D.D3.sa(N,g);D.D3.aaO(N,e)}if(N[0]>=N[2]||N[1]>=N[3]){x.splice(z,1);
z--;continue}D.D3.No(x,z,N)}};D.D3.xR=function(x,R){var T=x.co;for(var z=0;z<x.ci.length;z++){var c=D.D3.ha(T,x.ci[z]);
D.D3.sa(c,R);D.D3.No(T,x.ci[z],c)}};D.D3.aaO=function(x,R){if(x[0]<R[0])x[0]=R[0];if(x[1]<R[1])x[1]=R[1];
if(R[2]<x[2])x[2]=R[2];if(R[3]<x[3])x[3]=R[3]};D.D3.sa=function(x,R){x[0]=Math.round(x[0]+R.x);x[2]=Math.round(x[2]+R.x);
x[1]=Math.round(x[1]+R.y);x[3]=Math.round(x[3]+R.y)};D.D3.No=function(x,z,R){var T=x[z].v.bounds.v;T.Left.v=R[0];
T.Top.v=R[1];T.Rght.v=R[2];T.Btom.v=R[3]};D.D3.ha=function(x,z){var R=x[z].v.bounds.v;return[R.Left.v,R.Top.v,R.Rght.v,R.Btom.v,z]};
D.D3.a2m=function(x){if(x[2]<x[0]){var R=x[0];x[0]=x[2];x[2]=R}if(x[2]==x[0])x[2]++;if(x[3]<x[1]){var R=x[1];
x[1]=x[3];x[3]=R}if(x[3]==x[1])x[3]++};D.D3.QK=function(x,R){var T=1e9,c=-1e9,g=1e9,d=-1e9;for(var z=0;
z<R.length;z++){var U=D.D3.ha(x,R[z]);T=Math.min(T,U[0]);g=Math.min(g,U[1]);c=Math.max(c,U[2]);d=Math.max(d,U[3])}return[T,g,c,d]};
D.D3.H1=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
D.sD=function(){D.D3.call(this,[10,41],D.xh,"tools/sselect");this.Vl=null;this.HS=null;this.K0=null;
this.f$=null;this.Tc=!1};D.sD.prototype=new D.D3;D.sD.prototype.fz=function(x,R,T,c,g){if(x==null)return;
var d=x.Q.nU(g.x,g.y),U=D.sD.amW(d,4/x.Q.O,x.co,x.ci);U.pop();if(U.length!=0){this.Vl=d;this.K0=U;this.Rf(x);
return}var e=x.co,N=D.D3.Ua(e,d);if(N==-1)x.ci=[];else{var l=x.ci.indexOf(N);if(c.S(fZ.xg)){if(l==-1)x.ci.push(N);
else x.ci.splice(l,1)}else{x.ci.sort(function(a,O){return a-O});if(l==-1)x.ci=[N];this.Vl=d;this.Rf(x);
this.HS=D.D3.QK(e,x.ci);this.f$=[];for(var z=0;z<x.ci.length;z++)this.f$.push(D.D3.ha(e,x.ci[z]));if(c.S(fZ.ng)){var J=e.slice(0),w=x.ci,s=[];
for(var z=0;z<w.length;z++){var N=w[z],o=J[N],V=e.indexOf(o);s.push(V);e.splice(V,0,JSON.parse(JSON.stringify(o)))}x.ci=s}}}x.Sa=!0};
D.sD.prototype.gQ=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y);if(this.Vl==null){var U=D.sD.amW(d,4/x.Q.O,x.co,x.ci),e=U.pop(),N=U.length==0?"default":["ew","nwse","ns","nesw"][e]+"-resize",l=new aA(v.E.P,!0);
l.data={d:v.H.pm,ze:N};R.c(l);return}if(!this.Tc&&d.X$(this.Vl))return;this.Tc=!0;var J=x.co,U=this.K0;
if(U){d=D.K$.zE(x,d,T,[!0,null,!1]);var w=Math.round(d.x),o=Math.round(d.y);for(var z=0;z<U.length;z+=2){var V=D.D3.ha(J,U[z]),a=U[z+1];
V[a]=(a&1)==0?w:o;D.D3.a2m(V);D.D3.No(J,U[z],V)}}else{var O=d.KV(this.Vl),S=this.HS.slice(0);D.D3.sa(S,O);
var L=new aP(S[0],S[1],S[2]-S[0],S[3]-S[1]),Q=D.K$.x4(x,L,T,[!0,null,!1],!0);D.K$.gz(x,L,Q);O.x+=Q[0];
O.y+=Q[1];for(var z=0;z<x.ci.length;z++)D.D3.No(J,x.ci[z],this.f$[z]);D.D3.xR(x,O)}x.Sa=!0};D.sD.prototype.rR=function(x,R,T,c,g){if(this.Vl==null)return;
this.HG(x);x.N.ay=null;x.Sa=!0;this.Vl=null;this.K0=null;this.f$=null;this.Tc=!1};D.sD.amW=function(x,R,T,c){var g=x.x,d=x.y,U=[],e=-1,N=[];
for(var z=0;z<c.length;z++){var l=c[z],J=D.D3.ha(T,l),w=J[0],s=J[1],o=J[2],V=J[3];if(g<w-R||o+R<g||d<s-R||V+R<d)continue;
var a=[g<w+R,d<s+R,o-R<g,V-R<d],O=-1;for(var S=0;S<4;S++){if(a[S]&&a[S+1&3])O=1+2*(S&1);if(a[S])U.push(l,S)}if(O==-1){if(a[0]||a[2])O=0;
if(a[1]||a[3])O=2}if(O!=-1){e=O;N.push(l)}}var L=U.length;for(var z=0;z<L;z+=2){var l=U[z],Q=U[z+1],b=D.D3.ha(T,l)[Q];
for(var S=0;S<c.length;S++){var Z=c[S];if(N.indexOf(Z)!=-1)continue;var J=D.D3.ha(T,Z);if(J[Q&1]==b)U.push(Z,Q&1);
if(J[2+(Q&1)]==b)U.push(Z,2+(Q&1))}}U.push(e);return U};D.rn=function(){D.Fs.call(this,[10,44],D.a2U,"tools/oselect");
this.xx="crosshair";this.aru=0};D.rn.prototype=new D.Fs;D.rn.prototype.LV=function(x,R,T,c){if(Math.random()<1/(1+this.aru)){alert("The cross should be fully inside the object.",3500);
this.aru++}};D.rn.prototype.Dg=function(x,R,T,c){D.x1.iP(x,D.Fs.IR,this.RA);if(!c.Kk||!this.Jg)return;
var g=this.zC(x,T,!1),d=g.m,U=g.e,e=g.x,N=g.y,l=g.x+d,J=g.y+U,w=e+d/2,s=N+U/2,o=D.rn.awp;x.N.Xp={z:[e,N,l,N,l,J,e,J,w-d*o,s,w+d*o,s,w,s-U*o,w,s+U*o],G:"M L L L Z M L M L".split(" ")};
x.Sa=!0};D.rn.awp=.12;D.rn.prototype.ho=function(x,R,T,c){x.N.Xp=null;x.Sa=!0;this.finish(x,R,T,c)};
D.rn.prototype.getSelection=function(x,R,T,c){if(this.vd.X$(this.ni)||!this.Jg)return null;var g=this.zC(x,T,!1),d=x.R[x.g[0]];
if(g.Y3()||!g.fg(d.rect))return null;return D.Fs.HX("ObSl",g)};D.x1=function(){D.AN.call(this,[10,37],D.gg,"tools/qselect");
this.Sb="qselect"};D.x1.prototype=new D.AN;D.x1.prototype.fz=function(x,R,T,c,g){D.x1.iP(x,D.Fs.IR,R,!0);
this.wE(x,T,c,g,1);if(this.pi==null)return;this.X1(x)};D.x1.prototype.gQ=function(x,R,T,c,g){this._K(x,R,T);
D.x1.iP(x,D.Fs.IR,R);if(this.$W)this.SZ(x,T,g);if(this.pi==null)return;if(!g.Kk)return;var d=this.g3(x,T,c,g);
if(d!=1)this.X1(x)};D.x1.iP=function(x,R,T,c){if(x&&R.key!=D.x1.rk(x)){R.key=D.x1.rk(x);var g=x.R[x.g[0]].rect.Z(),U="Image Analysis ...";
if(g==0)return;var d=g>1e6&&c!=!0,e=new aA(v.E.P,!0);e.data={d:v.H.b$,zd:U};if(d)T.c(e);var N=function(){var l=D.x1.aCv(x);
for(var J in l)R[J]=l[J];var e=new aA(v.E.P,!0);e.data={d:v.H.v5,zd:U};if(d)T.c(e)};if(c)N();else setTimeout(N,30)}};
D.x1.rk=function(x){var R=x.g[0],T=x.R[R],c=T.rect,g=c.m,d=c.e,U=g*d,e=T.buffer;return[R,c.x,c.y,g,d,e[0],e[1],e[2],e[3]].join(",")};
D.x1.aCv=function(x){var R=x.g[0],T=x.R[R],c=T.rect,g=c.m,d=c.e,U=g*d,e=T.buffer,N=Date.now(),l=u.B(U);
l.fill(128);var J=u.kV.SV(e,g,d);console.log(Date.now()-N);var w={key:D.x1.rk(x),bX:e,rect:c.clone(),KQ:g,kh:d,e5:12,Bk:l,_g:J,u:u.B(U),Q0:null,Tq:null,eq:null};
D.x1.Fd(w,null,x);return w};D.x1.Fd=function(x,R,T){var c=x.KQ,g=x.kh,d=0,U=0,e=Date.now(),N=x.Q0!=null&&u.kV.pv(x.Q0.Pg,x.Q0.kw,x.Bk)==-1;
d=Date.now()-e;e=Date.now();if(!N){var l=u.kV.pv(x._g.Pg,x._g.kw,x.Bk),J=0;while(l!=-1){var w=[],s=[],o=x._g.Pg;
for(var V=0;V<g;V++)for(var a=0;a<c;a++){var z=V*c+a;if(o[z]==l){var O=x.Bk[z];if(O==0)w.push(a,V);if(O==255)s.push(a,V)}}var S=T.R[T.g[0]],L=S.buffer;
u.kV.SV.RN(L,c,g,x._g,w,s);l=u.kV.pv(x._g.Pg,x._g.kw,x.Bk);J++;if(J>=10){console.log("too many subdivisions");
break}}x.Q0=u.kV.i7(x._g,c,g,x.Bk,x.e5);x.Tq=u.kV.aAh(x.bX,c,g,x.Q0.Pg,x.Q0.kw);x.eq=[x.Tq[0].slice(0),[]];
U=Date.now()-e;e=Date.now()}var e=Date.now();if(R){x.eq[0].set(x.Tq[0]);var Q=x.Tq[1],b=x.eq[1];for(var Z=0;
Z<Q.length;Z++)b[Z]=Q[Z].slice(0);u.kV.apC(x.Q0.Pg,c,g,x.Q0.kw,x.Bk,x.u,x.eq)}};D.Ge=function(){D.Gj.call(this,[10,50],D.Wy,"tools/artb");
this.Ph=null;this.b1=!1;this.yl=null;this.IS=!1;this.a3V=null;this.oJ=100;this.wt=null;this.rB=0};D.Ge.prototype=new D.Gj;
D.Ge.prototype.gb=function(x,R,T,c,g){this.ps(T,x.ahx,R,x.or)};D.Ge.a7L=function(x,R){var T=x[0],c=0,g=0;
if(T==0)g=-1;else if(T==1)c=1;else if(T==2)g=1;else c=-1;return[20/R.ef,x[1]+c*60/R.ef,x[2]+g*60/R.ef]};
D.Ge.prototype.B7=function(x,R,T,c,g){this.Ph=x.vr;this.rB=Date.now()};D.Ge.prototype.Lm=function(x,R,T,c){if(T.lf!=this.id)return;
if(x==null||x.g.length!=1){this.KR(x);return}var g=x.g[0],d=x.R[g],U=d.add.artb;if(U==null){this.KR(x);
return}if(this.IS)return;if(Date.now()-this.rB>50){this.Ph={};var e=["artboardBackgroundType","Clr"];
for(var z=0;z<e.length;z++)if(U[e[z]])this.Ph[e[z]]=JSON.parse(JSON.stringify(U[e[z]]));var N=new aA(v.E.P,!0);
N.data={d:v.H.Pn,f:this.id,in:this.Ph};R.c(N)}var l=d.Ie(),J=u.M.$x(l).z,w=this.yl=new jS(J,!0,!1,!1,!0,!1,3,!1);
w.IA(x,T,!1);var o={z:[1,0],G:["M"]};for(var z=1;z<30;z++){var V=Math.PI*2*z/30;o.z.push(Math.cos(V),Math.sin(V));
o.G.push("L")}o.G.push("Z","M","L","M","L");o.z.push(-.5,0,.5,0,0,-.5,0,.5);var a=l.x+l.m/2,O=l.y+l.e/2,S=this.oJ*1.1,L=this.a3V=[a,l.y,l.x+l.m,O,a,l.y+l.e,l.x,O],Q=[0,-S,S,0,0,S,-S,0],b=x.root.children;
x.N.Bz=[];for(var z=0;z<4;z++){var Z=new cI(L[z*2]+Q[z*2],L[z*2+1]+Q[z*2+1]),I=!1;for(var y=0;y<b.length;
y++){var d=b[y].a;if(d.add.artb==null)continue;var l=d.Ie();if(l.mD(Z))I=!0}if(I){L[z*2]=1e9;continue}x.N.Bz.push([z,L[z*2],L[z*2+1]])}};
D.Ge.prototype.disable=function(x,R,T,c,g){this.KR(x)};D.Ge.prototype.KR=function(x){if(this.yl){this.yl.clear(x);
this.yl=null;x.N.Bz=null}};D.Ge.prototype.fz=function(x,R,T,c,g){this.rB=Date.now();var d=x.Q.nU(g.x,g.y),U=this.yl;
if(U){var e=new aA(v.E.v),N=U.adP(null,d,x,g);if(N<9){this.IS=U.fz(x,T,c,d,null,!0,g);return}else if(U.w6(d)){e.f=D.BA;
e.data={d:"disabAuto"};R.c(e);var l=new aA(v.E.P);l.data={d:v.H.di,f:D.BA,a2s:!0};R.c(l);return}else{var J=-1,w=x.N.Bz;
for(var z=0;z<w.length;z++){var o=D.Ge.a7L(w[z],x.Q);if(cI.rE(d,new cI(o[1],o[2]))<o[0])J=w[z][0]}if(J!=-1){var V=x.R[x.g[0]].Ie(),a=V.clone(),O=(J==0||J==2?V.e:V.m)+this.oJ;
if(J==0||J==3)O=-O;if(J==0||J==2)V.y+=O;else V.x+=O;if(c.S(fZ.ng)){var S=new aP(0,0,x.m,x.e);e.f=D.d_;
e.data={d:F.S5};R.c(e);D.K$.LY(x,x.LQ(null,x.g[0],null,!0),null,V.x-a.x,V.y-a.y);x.g=x.g.slice(x.g.length-1);
var L=D._x.j4(x);if(L){var Q=x.SH();Q.data.mY=S;Q.data.GR=L;Q.data.mG=x.g}}else this.ps(x,V,R);return}}}this.wt=D.K$.zE(x,d,T)};
D.Ge.prototype.ps=function(x,R,T,c){if(c==null)c=0;var g=x.R.slice(0),d=[x.R.length+1],U=x.CH();U.Je(go.get([1,16,0])+" "+(x.add.artd==null?1:x.root.children.length+1));
U.add.lsct=ew.bZ;U.yc(R);if(this.Ph){var e=U.add.artb,N=this.Ph;for(var l in N)e[l]=N[l]}U.mh="pass";
U.Yn=24;if(c==0){if(x.add.artd||R.yx(new aP(0,0,x.m,x.e)).Y3())g.push(x.Sw());else g.unshift(x.Sw())}else{var J=x.LQ();
J.sort(function(a,O){return a-O});var w=D.ys.kd(x,J,g.length-1,!1,null,!1),s=w.pop(),o=w.pop();g=w.pop();
g.splice(x.R.length-J.length,0,x.Sw())}g.push(U);var V=new aA(v.E.v);V.f=D.d_;V.data={d:F.MI,jI:g,SG:d,hK:[1,16,2]};
T.c(V)};D.Ge.prototype.gQ=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y),U=this.yl,e=this.wt;if(U){if(this.IS){U.gQ(x,T,c,d)}else{var N=U.LG(d,x.Q.O,null,g);
if(N==null)N="default";var l=new aA(v.E.P,!0);l.data={d:v.H.pm,ze:N};R.c(l)}}if(e){var J=this.ha(x,d,c,T);
x.N.Xp=u.M.$x(J);x.Sa=!0;D.Gj.sE(g,J,x,T)}};D.Ge.prototype.rR=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y),U=this.wt;
if(this.IS){this.yl.rR(x,T,c,d);this.IS=!1;var e=u.M.CC(this.yl.Mu()),N=F.vR(e),l=x.R[x.g[0]],J=JSON.parse(JSON.stringify(l.add.artb));
J.artboardRect.v=N;var w=new aA(v.E.v,!0);w.f=D.d_;w.data={d:F.RW,TD:J};R.c(w)}if(U){var o=this.ha(x,d,c,T);
if(o.Z()>20)this.ps(x,o,R);x.N.Xp=null;x.Sa=!0;this.wt=null;x.N.gp=[]}};D.Ge.prototype.ha=function(x,R,T,c){var g=this.wt,d=D.K$.zE(x,R,c),U=D._T.J3(g,d,T,!0);
g=U[0];d=U[1];return u.M.CC([g.x,g.y,d.x,d.y])};function jS(x,R,T,c,g,d,U,e){this.LM=null;this.no=x?x.slice(0):null;
this.jf=1;this.f9=4;this.ni=null;this.Dh=null;this.PK=null;this.fY=-1;this.Hj=null;this.am2=!1;this.aqY=[];
for(var z=0;z<8;z++)this.aqY.push(dp.adX(0,PIMG.rotate,-.5,-.5,-45-z*45));this.asw=R;this.a3m=T;this.agX=c;
this.ayu=g;this.Lu=d;this.or=U;this.aeY=e==null?1:e}jS.prototype.ayi=function(){return this.fY!=-1};
jS.prototype.Mu=function(){return this.no.slice(0)};jS.prototype.ss=function(x){this.no=x};jS.prototype.ae_=function(){return this.f1(this.no)};
jS.prototype.a12=function(){return this.f9};jS.prototype.aqZ=function(x){this.f9=x};jS.prototype.U$=function(x){if(x==null)x=this.no;
if(this.f9==9)return this.ni;else return this.f1(x)[this.f9]};jS.prototype.ao6=function(x){if(this.f9==9)this.ni=x.clone();
else{var R=this.U$(),T=new gP(1,0,0,1,x.x-R.x,x.y-R.y);u.M.i(this.no,T,this.no)}};jS.prototype.M0=function(x){this.jf=x};
jS.prototype.LG=function(x,R,T,c,g){var d=this.dH(null,x,R,c),U;if(d==9)return"default";if(d==10){if(T)return null;
return!this.asw?"move":null}if(d==-1||d==4)return null;if(d==11){var e=this.U$().KV(x);if(g==null)g=Math.atan2(e.y,e.x);
U=90-g*180/Math.PI;var N=Math.round(8*(U/360));N=(N+8)%8;return this.aqY[N]}else{var l=this.k_(x,this.no);
U=[135,90,45,180,0,0,225,270,315][d]*Math.PI/180;var J=u.D.ok(this.no);return jS.aCK(J[0],J[3],U)}};
jS.aCK=function(x,R,T){var c=Math.atan2(-R,x);if(T)c+=T;var g="ew nesw ns nwse ew nesw ns nwse".split(" "),d=Math.round(8*(c/(2*Math.PI)));
d=(d+8)%8;return g[d]+"-resize"};jS.prototype.k_=function(x,R){var T=u.D.F0(u.D.ok(R)),c=new Float64Array(2);
u.D.y4(x.x,x.y,T,c);return new cI(c[0],c[1])};jS.prototype.w6=function(x){var R=this.k_(x,this.no);return 0<=R.x&&R.x<=1&&0<=R.y&&R.y<=1};
jS.prototype.fz=function(x,R,T,c,g,d,U,e){this.am2=d;this.Hj=c;var N=x.Q.O,l;if(this.no==null)c=D.K$.zE(x,c,R);
this.PK=c.clone();if(this.no==null){if(e==null)e=0;var J=new gP;J.rotate(e);var w=J.Wk(new cI(1,1));
this.PK.offset(w.x,w.y);var s=g==null?1:1/g,o=this.no=[0,0,1,0,1,s,0,s];J.translate(c.x,c.y);u.M.i(this.no,J,this.no);
l=8}else{l=this.dH(T,c,N,U);if(0<=l&&l<=8)this.PK=this.f1(this.no)[l];if(l==9){this.f9=9;this.ni=c.clone()}}this.LM=this.no.slice(0);
this.fY=l;this.IA(x,R);this.Dh=this.U$();return l!=-1};jS.prototype.adP=function(x,R,T,c){return this.dH(x,R,T.Q.O,c)};
jS.prototype.dH=function(x,R,T,c){var g=-1,d=this.f1(),U=[0,2,6,8,1,3,5,7],e=c?D.CM({Q:{O:T}},c):8*D.mM()/T,N=cI.rE(d[0],d[2]),l=cI.rE(d[0],d[6]),J=this.k_(R,this.no);
J.x*=N;J.y*=l;var w=new aP(0,0,N,l);w.t1(e,e);if(g==-1)if(cI.rE(this.U$(),R)<e)g=9;if(g==-1)for(var z=0;
z<U.length;z++)if(cI.rE(d[U[z]],R)<e)g=U[z];if(g==-1&&w.mD(J)){if(Math.abs(J.y-0)<e)g=1;if(Math.abs(J.x-0)<e)g=3;
if(Math.abs(J.y-l)<e)g=7;if(Math.abs(J.x-N)<e)g=5}if(g==-1&&x&&x.S(fZ.ng))g=9;if(g==-1||this.or==4){if(this.w6(R)){if(this.asw)g=10}else{var s=[3,.85][b5];
w.t1(s*e,s*e);g=w.mD(J)&&this.or!=3?11:10}}return g};jS.prototype.gQ=function(x,R,T,c,g){if(this.fY==-1)return;
this.Hj=c;var d=T&&T.S(fZ.xg),U=T&&T.S(fZ.ng),e=T&&T.S(fZ.Gc),N=x.Q.O,l=this.PK,J=this.fY,w=this.f1(),s=D.K$.zE(x,l,R),o=D.K$.zE(x,c,R),V,a;
if(J==9){var w=this.f1(),O=-1;for(var z=0;z<w.length;z++)if(cI.rE(w[z],o)*N<10)O=z;this.f9=O==-1?9:O;
this.ni=d?D.Xg.i8(s,o):o.clone()}else if(J==10){a=u.M.QK(this.LM);var S=a.x,L=a.y;a.offset(c.x-l.x,c.y-l.y);
if(this.a8O()){a.x=Math.round(a.x);a.y=Math.round(a.y)}V=D.K$.x4(x,a,R);var Q=new gP(1,0,0,1,a.x-S+V[0],a.y-L+V[1]);
u.M.i(this.LM,Q,this.no)}else if(J==11){var b=this.U$(this.LM),Z=b.KV(c),I=b.KV(l),y=Math.atan2(Z.y,Z.x),r=Math.atan2(I.y,I.x),Q=new gP(1,0,0,1,-b.x,-b.y),h=Math.PI/12;
if(d)Q.rotate(Math.round((r-y)/h)*h);else Q.rotate(r-y);Q.translate(b.x,b.y);u.M.i(this.LM,Q,this.no)}else{if(g&&!e)d=!d;
var k,K=this.LM,H=J==0||J==2||J==6||J==8;if(this.or==1){if(H)d=U=e=!0}else if(this.or==2&&H&&this.am2!=!0)e=!0;
if(this.or==3)e=!1;if(this.agX&&H&&e){var z=[0,0,2,0,0,0,6,0,4,0][J],p=-1,f=o.x,A=o.y;if(d){var _=z+6&7,W=z+10&7,Y=jS.axW(K[z],K[z+1],K[_],K[_+1],o.x,o.y),G=jS.axW(K[z],K[z+1],K[W],K[W+1],o.x,o.y),i=Y[2]<G[2]?Y:G;
f=i[0];A=i[1];if(U)p=Y[2]<G[2]?_:W}else if(U)p=z+4&7;k=K.slice(0);if(p!=-1){var E=K[p],$=K[p+1],C=(K[z]+E)/2,B=(K[z+1]+$)/2;
k[p]=C-(f-C);k[p+1]=B-(A-B)}k[z]=f;k[z+1]=A}else if(H&&U){var b=this.Dh,M=b.x,j=b.y,P=s.x-M,t=s.y-j,q=1,m=1;
if(Math.abs(P)>=1)q=(o.x-M)/P;if(Math.abs(t)>=1)m=(o.y-j)/t;if(d||this.Lu)q=m=(q+m)/2;var Q=new gP;Q.translate(-M,-j);
Q.scale(q,m);Q.translate(M,j);k=K.slice(0);u.M.i(k,Q,k)}else{if(this.a8O()){o.x=Math.round(o.x);o.y=Math.round(o.y)}var iE=[0,1,2,5,8,7,6,3],hV=iE[(iE.indexOf(J)+4)%8],dD=[];
for(var z=0;z<3;z++)for(var p=0;p<3;p++)dD.push(new cI(p/2,z/2));var b=this.Dh,bh=this.k_(o,K),ho=this.k_(l,K),aH=U&&(this.f9==4||this.f9==9)?this.k_(b,K):dD[hV],f2=new gP,e9=new gP,q=(bh.x-aH.x)/(ho.x-aH.x);
if(q==0)q=1e-4;var m=(bh.y-aH.y)/(ho.y-aH.y);if(m==0)m=1e-4;if(this.ayu){q=Math.max(q,0);m=Math.max(m,0)}if(J==0||J==2||J==6||J==8){if(d||this.Lu)f2.scale(q,q);
else f2.scale(q,m)}if(J==1||J==3||J==5||J==7){var kB=this.Lu||d,ct=e&&d;if(J==1||J==7)f2.scale(kB?m:1,ct?1:m);
else f2.scale(ct?1:q,kB?q:1);if(this.a3m&&e){if(J==1||J==7)e9.zI=(bh.x-aH.x)/(bh.y-aH.y);else e9.J=(bh.y-aH.y)/(bh.x-aH.x)}}var Q=new gP;
Q.translate(-aH.x,-aH.y);Q.concat(f2);Q.concat(e9);Q.translate(aH.x,aH.y);k=[0,0,1,0,1,1,0,1];u.M.i(k,Q,k);
var i=u.D.ok(K);u.D.i(i,k)}if(jS.r9(k))this.no=k}this.IA(x,R);if(V)D.K$.gz(x,a,V)};jS.axW=function(x,R,T,c,g,d){var U=T-x,e=c-R,N=g-x,l=d-R,J=U*U+e*e,w=N*U+l*e,s=w/J,o=x+s*U,V=R+s*e,a=g-o,O=d-V;
return[o,V,Math.sqrt(a*a+O*O)]};jS.prototype.a8O=function(){var x=this.no;return Math.abs(x[1]-x[3])<1e-6&&Math.abs(x[2]-x[4])<1e-6||Math.abs(x[0]-x[2])<1e-6&&Math.abs(x[3]-x[5])<1e-6};
jS.r9=function(x){return u.M.adL(x)||u.M.adL([x[6],x[7],x[4],x[5],x[2],x[3],x[0],x[1]])};jS.prototype.rR=function(x,R,T,c){this.fY=-1;
this.Hj=null;x.N.ay=null;x.N.gp=[];x.Sa=!0};jS.prototype.Rw=function(x,R,T){var c=T.Gw(x?x.Q.Hh:0);if(c.x||c.y){var g=new gP(1,0,0,1,c.x,c.y);
u.M.i(this.no,g,this.no);this.IA(x,R);return!0}return!1};jS.prototype.f1=function(x){if(x==null)x=this.no;
var R=x[6]-x[0],T=x[7]-x[1],c=x[4]-x[2],g=x[5]-x[3],d=[x[0],x[1],x[2],x[3],x[0]+R/2,x[1]+T/2,x[2]+c/2,x[3]+g/2,x[6],x[7],x[4],x[5]],U=[];
for(var z=0;z<3;z++){var e=z*4,N=d[e+0],l=d[e+1],J=d[e+2],w=d[e+3];U.push(new cI(N,l));U.push(new cI(N+(J-N)/2,l+(w-l)/2));
U.push(new cI(J,w))}return U};jS.prototype.IA=function(x,R,T){if(x.N==null)return;if(T==null)T=!1;var c=this.jf,g=this.f1(),d=g[0],U=g[2],e=g[6],N=g[8],l={G:[],z:[]};
if(c==0)x.N.Xp=l;else x.N.NQ=l;l.G.push("M","L","L","L","Z");l.z.push(d.x,d.y,U.x,U.y,N.x,N.y,e.x,e.y);
var J=this.aeY;if(J>1){x.N.dM=JSON.parse(JSON.stringify(l));var w=U.KV(d),s=e.KV(d),o=N.KV(U),V=N.KV(e);
for(var z=1;z<J;z++){l.G.push("M","L","M","L");var a=z/J;l.z.push(d.x+w.x*a,d.y+w.y*a,e.x+V.x*a,e.y+V.y*a);
l.z.push(d.x+s.x*a,d.y+s.y*a,U.x+o.x*a,U.y+o.y*a)}}x.Q.OL=new aP(0,0,cI.rE(g[0],g[2]),cI.rE(g[0],g[6]));
if(this.fY!=-1&&this.fY<9&&this.Hj){var O=x.Q.YP(this.Hj.x,this.Hj.y);D.Gj.sE(O,x.Q.OL,x,R)}if(!T){var S=[];
if(c==0)x.N.rb=S;else x.N.Uu=S;for(var z=0;z<g.length;z++)if(z!=4)S.push(g[z].x,g[z].y);var L=this.U$();
S.push(L.x,L.y)}x.Sa=!0};jS.prototype.clear=function(x){x.Q.OL=null;x.N.ay=null;x.N.Xp=null;x.N.NQ=null;
x.N.dM=null;x.N.rb=[];x.N.Uu=[];x.Sa=!0};function eY(x,R){this.zb=null;this.fY=-1;this.aD=null;this.aBO=null;
this.mv=null;this.D$=-1;this.a7h(x)}eY.prototype.YU=function(){return JSON.parse(JSON.stringify(this.zb))};
eY.prototype.a7h=function(x){this.zb=JSON.parse(JSON.stringify(x))};eY.prototype.ati=function(x){this.D$=x};
eY.prototype.w6=function(x){return!0};eY.prototype.LG=function(x,R,T,c){var g=this.dH(x,R,c);if(g==-1)return"default";
return"pointer"};eY.prototype.fz=function(x,R,T,c,g,d,U){if(this.D$!=-1)return!0;this.fY=this.dH(c,x.Q.O,U);
var e=u.zb.xe(this.zb),N=u.i1.x6(e,c),l=0<N[0]&&N[0]<1&&0<N[1]&&N[1]<1;this.aD=l?N:null;this.aBO=JSON.stringify(e);
this.mv=c;return this.fY!=-1||l};eY.prototype.dH=function(x,R,T){var c=T?D.CM({Q:{O:R}},T)*2:20*D.mM()/R,g=u.zb.xe(this.zb),d=u.M.WL(g[3],x.x,x.y,c);
if(d!=-1&&this.Ze(g,d)==null)d=-1;return d};eY.prototype.gQ=function(x,R,T,c){if(this.D$!=-1)return;
var g=this.fY,d=this.aD,U=JSON.parse(this.aBO),e=U[0],N=U[1],l=U[3];if(g!=-1){var J=[g],w=c.x-l[g*2],s=c.y-l[g*2+1];
if(e*N>16){var o=this.Ze(U,g);if(o[0]==0){var V=Math.floor(g/e),a=g-V*e;if(a>0)J.push(g-1);if(a<e-1)J.push(g+1);
if(V>0)J.push(g-e);if(V<N-1)J.push(g+e)}}for(var z=0;z<J.length;z++){l[J[z]*2]+=w;l[J[z]*2+1]+=s}u.zb.s8(this.zb,U)}else if(d){u.i1.a3W(U,d[0],d[1],c.x-this.mv.x,c.y-this.mv.y);
u.zb.s8(this.zb,U)}};eY.prototype.rR=function(x,R,T,c){var g=this.D$;this.aD=null;this.D$=-1;if(g!=-1){var d=u.zb.xe(this.zb),U=u.i1.x6(d,c);
if(g==0||g==1)u.i1.split(d,0,U[0]);if(g==0||g==2)u.i1.split(d,1,U[1]);u.zb.s8(this.zb,d)}x.Sa=!0;return g!=-1};
eY.prototype.Rw=function(x,R,T){var c=T.Gw();if(c.x||c.y){var g=new gP(1,0,0,1,c.x,c.y);u.M.i(this.no,g,this.no);
this.IA(x)}};eY.prototype.Ze=function(x,z){var R=x[0],T=x[1],c=this.fY,g=Math.floor(c/R),d=c-g*R,U=c%3,e=c%3,N=U==0&&e==0,g=Math.floor(z/R),d=z-g*R,U=d%3,e=g%3;
if(U!=0&&e!=0)return null;if(U==0&&e==0)return[0];else{var l=0;if(e==0)l=U==1?z-1:z+1;if(U==0)l=e==1?z-R:z+R;
if(R*T>16){var J=c==z||c==z+1||c==z-1||c==z+R||c==z-R;if(N&&(J||c==z+2||c==z-2||c==z+2*R||c==z-2*R)){}else if(!N&&J){}else return null}return[1,l]}};
eY.prototype.IA=function(x,R){var T=u.zb.xe(this.zb),c=T[0],g=T[1],d=T[3],U=x.N.NQ={G:[],z:[]},e=x.N.Uu=[],N=x.N.EY=[],l=this.fY;
for(var J=0;J<g;J++)for(var w=0;w<c;w++){var z=J*c+w,s=this.Ze(T,z);if(s==null)continue;var o=d[2*z],V=d[2*z+1],a=N;
if(s[0]==0)a=z==l&&c*g>16?N:e;else{var O=s[1];U.G.push("M","L");U.z.push(o,V,d[2*O],d[2*O+1])}a.push(o,V)}for(var J=0;
J+1<g;J+=3)for(var w=0;w+1<c;w+=3){U.G.push("M","C","C","C","C");var z=J*c+w,S=z+c+c,L=[z,z+1,z+2,z+3,z+c+3,S+3,S+c+3,S+c+2,S+c+1,S+c,S,z+c,z];
for(var z=0;z<L.length;z++){var o=d[L[z]*2],V=d[L[z]*2+1];U.z.push(o,V)}}var Q=[],b=[];function Z(I,w,h){for(var L=0;
L<=h;L++){b.push(L==0?"M":"L");if(I==0)Q.push(w,L/h);else Q.push(L/h,w)}}if(R)R=u.i1.x6(T,R);for(var I=0;
I<2;I++){var y=T[2][I],r=I==0?c:g,h=r*5;for(var k=1;k<r;k++){var K=Math.floor((k-1)/3),H=k-(1+K*3);if(H==0)continue;
var w=y[K]+H/3*(y[K+1]-y[K]);Z(I,w,h)}var p=this.D$;if(R&&p!=-1&&(p==0||p-1==I))Z(I,R[I],h)}u.i1.i(T,Q,new aP(0,0,1,1));
u.M.concat(U,{z:Q,G:b});x.Sa=!0};eY.prototype.clear=function(x){x.N.NQ=null;x.N.Uu=[];x.N.EY=[];x.Sa=!0};
function b_(){this.Ro=!1;this.tF=!1;this.adT=!1;this.a9q=!1;this.E3=!1;this.z8=!1;this.Dt=0;this.zA=0}b_.prototype.fz=function(x){this.Ro=!0;
this.tF=!1;this.E3=x.S(fZ.xg);this.z8=x.S(fZ.ng);this.Dt=this.E3?0:1;this.zA=this.z8?0:1};b_.prototype.Rw=function(x){var R=this.a9q=x.S(fZ.xg),T=this.adT=x.S(fZ.ng);
if(this.tF){if(this.Dt==0&&!R)this.Dt++;if(this.Dt==1&&R)this.Dt++;if(this.zA==0&&!T)this.zA++;if(this.zA==1&&T)this.zA++}};
b_.prototype.gQ=function(){this.tF=!0};b_.prototype.rR=function(){this.Ro=!1};b_.prototype.jZ=function(z){if(z==0)return this.Ro?this.z8:this.adT;
if(z==1)return this.tF?this.zA==2:!1};b_.prototype.Fb=function(z){if(z==0)return this.Ro?this.E3:this.a9q;
if(z==1)return this.tF?this.Dt==2:!1};D.History=function(){D.Gj.call(this,"History",D.hG);this.Se=!0;
this.aqJ=0};D.History.prototype=new D.Gj;D.History.prototype.gb=function(x,R,T,c){T.Sg=!0;if(x.d=="h_itemchange"){if(x.index<T.md)for(var z=T.md;
z>x.index;z--)this.HN(T);if(x.index>T.md)for(var z=T.md;z<x.index;z++)this.Aj(T)}if(x.d=="h_stepfwd")this.Aj(T);
if(x.d=="h_stepbck")this.HN(T);if(x.d=="h_undoredo"){var g=this.Se||this.aqJ!=T.md;if(g){this.HN(T);
g=!1}else{this.Aj(T);g=!0}this.Se=g;this.aqJ=T.md}if(x.d=="h_clear"){if(x.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
T.history=[new ka([1,0],null)];T.md=0}else this.Se=!0};D.History.prototype.HN=function(x){if(x.md==0)return;
var R=x.history[x.md];R.f.cA(R.data,x);x.md--};D.History.prototype.Aj=function(x){if(x.md==x.history.length-1)return;
var R=x.history[x.md+1];R.f.cU(R.data,x);x.md++};D.ys=function(){D.Gj.call(this,"Layers",D.d_);this.RA=null};
D.ys.prototype=new D.Gj;D.ys.prototype.gb=function(x,R,T,c,g){this.RA=R;var d=x.d,U=x.a!=null?x.a:T.g.length!=0?T.g[0]:T.R.length-1,e=T.R[U];
T.kn=!0;var N=c.S(fZ.ng),l=c.S(fZ.xg),J=c.S(fZ.Gc);if(d==F.VZ&&T.u==null&&(T.g.length>1||!T.nD(!1)))d=F.S5;
if(d==F.B0){var w=new ka([6,33],this),s=e.NW()?["pass"].concat(c_.h$):c_.h$,o=s[x.SN],V=x.a!=null?[x.a]:T.g,a=JSON.stringify(V),O=[];
for(var z=0;z<V.length;z++)O.push(T.R[V[z]].mh);w.data={d:d,eb:a,uo:O,SN:o};T.XY(w);this.cU(w.data,T);
this.track(bf.be("Md",{t:"enum",v:{BlnM:c_.GM(o)}}))}if(d==F.sN){var w,S=T.SH(),V=x.a!=null?[x.a]:T.g,a=JSON.stringify(V);
if(S&&S.data&&S.data.d==d&&S.data.eb==a)w=S;else{var L=bf.be("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(L);var O=[];for(var z=0;z<V.length;z++)O.push(T.R[V[z]].opacity);w=new ka([6,32],this);w.data={d:d,eb:a,uo:O,SN:x.SN,ex:L.M1};
T.XY(w)}w.data.SN=x.SN;w.data.ex.T.v.Opct.v.val=Math.round(x.SN*100/255);this.cU(w.data,T)}if(d==F.oH){if(e.add.iOpa==null)e.add.iOpa=255;
var w,S=T.SH();if(S&&S.data&&S.data.d==d&&S.data.a==U)w=S;else{w=new ka("Fill Opacity Change",this);
w.data={d:d,a:U,uo:e.add.iOpa,SN:x.SN};T.XY(w)}w.data.SN=x.SN;this.cU(w.data,T)}if(d==F.FB){var Q=x.SN,b=x.a!=null?[x.a]:T.g.slice(0),Z=[],I=[],w;
for(var y=0;y<b.length;y++){var r=T.R[b[y]];if(r.add.lspf==null)r.add.lspf=0;var O=r.add.lspf,o=O;for(var z=0;
z<Q[0].length;z++){var h=Q[1][z],k=1<<h;if((o&k)==0&&Q[0][z])o^=k;else if((o&k)!=0&&!Q[0][z])o^=k}Z.push(O);
I.push(o)}var S=T.SH(),V=JSON.stringify(b);if(S&&S.data&&S.data.d==d&&JSON.stringify(S.data.eb)==V){w=S;
w.data.SN=I}else{var w=new ka([6,57,1],this);w.data={d:d,eb:V,uo:Z,SN:I};T.XY(w)}this.cU(w.data,T)}if(d==F.h6){var K="----",H=x.RQ,o=null;
for(var z=0;z<cb.m3.kX.length;z++)if(e.add[cb.m3.kX[z]])K=cb.m3.kX[z];var p=e.add[K];if(H=="TySh")o=bL.Zk(50,50,g.iT);
var w=new ka("Layer Type",this);w.data={d:d,a:U,ax_:[K,p],RQ:[H,o]};T.XY(w);this.cU(w.data,T)}if(d==F.P1){var b=[];
if(N){var f=T.SH(),A=f?f.data:null;if(f!=null&&f.f==this&&A.d==F.P1&&A.eb.length!=1){var _=new aA(v.E.v);
_.f=D.hG;_.data={d:"h_stepbck"};R.c(_);if(A.a==U)return}var W=T.root.ct(U),Y=W,G=[x.a];while(Y.parent!=T.root){G.push(Y.parent.index);
Y=Y.parent}for(var z=0;z<T.R.length;z++){var i=T.R[z],Y=T.root.ct(z),E=G.indexOf(z)!=-1?!0:i.Pm()&&W.depth<Y.depth;
if(E!=i.Pm())b.push(z)}}else if(x.eb)b=x.eb;else{b.push(U);var $=T.R[U].Pm(),L={Sm:$?"hide":"show",M1:{classID:$?"Hd":"Shw",null:{t:"VlLs",v:[bf.rX("Lyr",!0)]}}};
this.track(L)}var w=new ka("Layer visibility",this,!0);w.data={d:d,eb:b,a:U};T.XY(w);this.cU(w.data,T)}if(d==F.OF){if(g.lf==D.Wy){var C=new aA(v.E.P);
C.data={d:v.H.di,f:D.BA};R.c(C)}var B=x.a1E,M=x.yO,t,escape=!1,q=!1;if(x.pH){if(J&&(M==0||M==1||M==2)){var j=0;
if(l)j++;if(N)j+=2;var P=new aA(v.E.v,!0);P.f=D.a$;P.data={d:"fromlayer",v2:[x.a,M,j]};R.c(P);return}}var L={Sm:"select",M1:{classID:"null",MkVs:{t:"bool",v:!1}}};
T.a6V();if(c.S(fZ.Gc)||x.$o==0){var m=T.g.indexOf(U);if(m==-1)T.g.push(U);else if(T.g.length>1){if(x.$o!=0)T.g.splice(m,1)}T.g.sort(function(w,i5){return w-i5});
L.M1.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};t=U}else if(l&&!N&&M>0){d=M==1?F.fJ:M==2?F.ud:F.Uq;
escape=!0}else if((l||x.$o==1)&&T.g.length>0){var iE=Math.min(U,T.g[0]),hV=Math.max(U,T.g[T.g.length-1]);
T.g=[];for(var z=iE;z<=hV;z++)if(T.R[z].add.lsct!=ew.SO)T.g.push(z);L.M1.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
t=U}else{t=U;if(U>=T.R.length)return;var i=T.R[U];if(i&&i.NW()&&x.ay_)i.add.lsct=ew.bZ;else if(T.g.length==1&&T.g[0]==U&&Math.max(0,M)==i.s4){q=!0;
T.kn=!1}if(!q){T.g=[U];T.NB()}}if(!q){if(t!=null&&t<T.R.length){L.M1.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:T.R[t].getName()}}]},this.track(L)}if(!escape){console.log("no escape");
if(T.g.length==1){var dD=T.g[0];for(var z=0;z<T.R.length;z++){if(z==dD)continue;var r=T.R[z];r.s4=0;
r.yn=!1}var e=T.R[dD];if(M==2){e.yn=!e.yn;T.pT=[]}else if(e){e.s4=M<=0?0:M}}else for(var z=0;z<T.R.length;
z++){var r=T.R[z];r.s4=0;r.yn=!1}T.Kx=null;T.Sg=!0}}if(x.pH&&N){if((M==1||M==3)&&B!=null){var P=new aA(v.E.v,!0);
P.f=D.p3;P.data={d:"mskView",b:B!=0?0:l?1:2};R.c(P)}else{this.gb({d:F.q8,a:x.a},R,T,c,g)}}}if(d==F.fJ||d==F.Uq){var bh=d==F.fJ,ho=bh?e.le():e.Ct(T).F;
if(ho==null)return;var w=new ka(ho.isEnabled?bh?[6,15]:[6,42]:bh?[6,14]:[6,41],this);w.data={d:d,a:U};
T.XY(w);this.cU(w.data,T)}if(d==F.ud){var ho=e.add.vmsk;if(ho==null)return;var w=new ka(ho.isEnabled?[6,17]:[6,16],this);
w.data={d:d,a:U};T.XY(w);this.cU(w.data,T)}if(d==F.auh){var aH=e.add.lsct==ew.bZ?ew.qW:ew.bZ,Y=T.root.ct(T.R.indexOf(e)),kB=!1;
if(c.S(fZ.Gc)){var f2=Y.parent;for(var z=0;z<f2.children.length;z++){var e9=f2.children[z].a;if(e9.NW())e9.add.lsct=aH}}else e.add.lsct=aH;
for(var z=0;z<T.g.length;z++){var ct=T.g[z];if(Y.QO<ct&&ct<Y.index)kB=!0}if(kB)T.g=[Y.index];T.Sg=!0}if(d==F.q8){if(!T.N7(U))return;
var w=new ka(e.UP?[6,19]:[6,18],this);w.data={d:d,a:U};T.XY(w);if(x.SN==null||x.SN!=e.UP)this.cU(w.data,T)}if(d==F.a27){if(e.eU())e.Yn-=32;
else e.Yn+=32;T.Sg=!0}if(d==F.IB||d==F.Nh){var w;if(d==F.IB)w=new ka(e.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(d==F.Nh)w=new ka(e.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);w.data={d:d,a:U};T.XY(w);this.cU(w.data,T)}if(d==F.eH||d==F.p4){var dD=x.index,w;
if(d==F.eH)w=new ka(e.add.lmfx[fJ.YZ[dD[0]]].v[dD[1]].v.enab.v?[6,30,0]:[6,29],this);if(d==F.p4)w=new ka(e.add.SoLd.filterFX.v.filterFXList.v[dD].v.enab.v?[6,44]:[6,43],this);
w.data={d:d,a:U,index:x.index};T.XY(w);this.cU(w.data,T)}if(d==F.jy){if(x.src==x.LH)return;var jF=T.R[x.src],fj=T.R[x.LH],ab=jF.add.lmfx?JSON.stringify(jF.add.lmfx):"",iw=fj.add.lmfx?JSON.stringify(fj.add.lmfx):"";
if(fj.add.lmfx==null){fj.add.lmfx=JSON.parse(fJ.default);for(var z=0;z<fJ.order.length;z++)fj.add.lmfx[fJ.YZ[z]]={t:"VlLs",v:[]}}if(x.kQ==null){fj.add.lmfx=JSON.parse(ab);
if(!N)delete jF.add.lmfx}else{var jD=x.kQ[0],a1=fJ.YZ[jD];if(fJ.apY.indexOf(fJ.order[jD])==-1)fj.add.lmfx[a1].v=[];
fj.add.lmfx[a1].v.push(jF.add.lmfx[a1].v[x.kQ[1]]);if(!N)jF.add.lmfx[a1].v.splice(x.kQ[1],1)}var gd=jF.add.lmfx?JSON.stringify(jF.add.lmfx):"",i6=fj.add.lmfx?JSON.stringify(fj.add.lmfx):"";
if(!fj.eU())fj.Yn+=32;var w=new ka("Move Layer Styles",this);w.data={d:d,Ye:x.src,BU:x.LH,aqW:ab,ac2:iw,asy:gd,ajT:i6};
T.XY(w);this.cU(w.data,T)}if(d==F.ph){if(x.src!=null)U=x.src;var r=T.R[U],hv=JSON.stringify(r.add.SoLd),hO=JSON.parse(hv),jh=hO.filterFX.v.filterFXList.v;
jh.splice(x.kQ,1);var w=new ka([6,53],this);w.data={d:F.CI,bV:[{p0:U,gd:[hv,JSON.stringify(hO)]}]};T.XY(w);
this.cU(w.data,T)}if(d==F.azk){var aJ=N,jF=T.R[x.src],fj=T.R[x.LH],hS=[];if(jF!=fj&&fj.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(jF==fj&&!aJ&&x.kQ==x.Gl)return;if(jF==fj&&x.kQ==-1)return;var iO=jF.Ct(T),hv=JSON.stringify(jF.add.SoLd),hO=JSON.parse(hv),jh=hO.filterFX.v.filterFXList.v;
if(jF==fj){jh.splice(x.Gl,0,jh[x.kQ]);if(!aJ)jh.splice(x.kQ+(x.kQ<x.Gl?0:1),1);hS.push({p0:x.src,gd:[hv,JSON.stringify(hO)]})}else if(x.kQ==-1){var g$=hO.filterFX;
if(!aJ){delete hO.filterFX;hS.push({p0:x.src,gd:[hv,JSON.stringify(hO)],BH:[iO,null]})}var bF=fj.Xn()?fj.Ct(T):null,hy=c9.aBD(iO),fg=JSON.stringify(fj.add.SoLd),hL=JSON.parse(fg);
hL.placed.v=hy.id;hL.filterFX=g$;hS.push({p0:x.LH,gd:[fg,JSON.stringify(hL)],BH:[bF,hy]})}else{var dn=jh[x.kQ];
if(!aJ){jh.splice(x.kQ,1);hS.push({p0:x.src,gd:[hv,JSON.stringify(hO)]})}var fg=JSON.stringify(fj.add.SoLd),hL=JSON.parse(fg);
if(hL.filterFX==null)hL.filterFX=gm.Fc();var c5=hL.filterFX.v.filterFXList.v;c5.splice(x.Gl,0,dn);var at={p0:x.LH,gd:[fg,JSON.stringify(hL)]};
if(!fj.Xn()){var hy=c9.a8Y(fj.add.SoLd.placed.v);at.BH=[null,hy]}hS.push(at)}var w=new ka([6,52],this);
w.data={d:F.CI,bV:hS};T.XY(w);this.cU(w.data,T)}if(d==F.lS){var ho=e.le(),w=new ka(ho.fh?[6,26]:[6,25],this);
w.data={d:d,a:U};T.XY(w);this.cU(w.data,T);this.track({Sm:"set",M1:{classID:"setd",null:{t:"obj ",v:[bf.rX("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:ho.fh}}}}})}if(d==F.kD){var ho=e.add.vmsk,w=new ka(ho.fh?[6,28]:[6,27],this);
w.data={d:d,a:U};T.XY(w);this.cU(w.data,T)}if(d==F.Ei){var w=new ka("Variables / Datasets",this),gt=JSON.stringify([T.gq,T.sb]);
if(gt==x.b)return;w.data={d:d,a4J:gt,ajn:x.b};T.XY(w);this.cU(w.data,T)}if(d==F.eK){var iK=[],w;for(var z=0;
z<T.g.length;z++){var y=T.g[z],i=T.R[y];if(i.add.vogk)iK.push(y,JSON.stringify(i.add.vogk))}for(var z=0;
z<T.pT.length;z++){var y=T.pT[z],i=T.OQ[y];if(i.add.vogk)iK.push(-1-y,JSON.stringify(i.add.vogk))}u.oZ.akb(T,x.b,x.azB);
var iz=[];for(var z=0;z<T.g.length;z++){var y=T.g[z],i=T.R[y];if(i.add.vogk)iz.push(y,JSON.stringify(i.add.vogk))}for(var z=0;
z<T.pT.length;z++){var y=T.pT[z],i=T.OQ[y];if(i.add.vogk)iz.push(-1-y,JSON.stringify(i.add.vogk))}var S=T.SH();
if(S&&S.data&&S.data.d==d){var gI=!0;for(var z=0;z<iK.length;z+=2)if(iK[z]!=S.data.K5[z])gI=!1;if(gI){w=S;
w.data.pj=iz}}if(w==null){var w=new ka([12,91,1],this);w.data={d:d,K5:iK,pj:iz};T.XY(w)}this.cU(w.data,T)}if(d==F.RW){var ce=JSON.stringify(e.add.artb),b7=JSON.stringify(x.TD),w;
T.R[U].add.artb=JSON.parse(b7);var br=new aP(0,0,T.m,T.e),kg=D._x._f(T),S=T.SH();if(S&&S.data&&S.data.d==d&&S.data.a==U){w=S;
w.data.TD=b7}if(w==null){var w=new ka("Editing Artboard",this);w.data={d:d,a:U,aco:ce,TD:b7,mY:br};T.XY(w)}w.data.GR=kg;
this.cU(w.data,T)}if(d==F.Nq){var iz=T.Hp.slice(0),bM=T.nE.slice(0),eQ=T.u,eT=T.u;if(x.J2=="fromAction"){var b6=x.b.Sm,hx=x.b.M1;
if(b6=="make"||b6=="duplicate"){var io=iz.length,bq=!1,gO=!1;if(T.L_())io--;var jm=new F.Wu;jm.name="Alpha "+(io+1);
if(b6=="make"){var ae=hx.Nw.v;jm.color=0;bM=[io];jm.PW=!0;jm.xF=ae.Opct.v;if(ae.Nm)jm.name=ae.Nm.v;if(ae.classID=="SCch"){bq=!0;
eT=null;jm.bh=1}}else{var dl=hx.null.v[0].v;if(dl.keyID=="fsel")bq=!0;else{var eF=D.Fs.apL(T);eT=D.Fs.aos(T,eF);
jm.color=0;jm.rect=eT.rect;jm.channel=eT.channel}}if(bq){jm.color=0;if(T.u){jm.rect=T.u.rect.clone();
jm.channel=T.u.channel.slice(0)}if(gO){jm.color=255-jm.color;u.F0(jm.channel)}}for(var z=0;z<T.Hp.length;
z++)T.Hp[z].PW=!1;T.Q.U=[0,0,0];iz.splice(io,0,jm)}else if(b6=="delete"){if(e&&e.le()&&e.s4==1){this.gb({d:F.UQ},R,T,c,g);
return}var e6=T.nE;e6.sort(function(w,i5){return i5-w});if(e6.length==0)return;for(var z=0;z<e6.length;
z++)iz.splice(e6[z],1);bM=[];T.Q.U=[1,1,1]}else if(b6=="hide"){iz[bM[0]]=iz[bM[0]].clone();iz[bM[0]].PW=!1}}if(x.J2=="rnm"){iz[x.iY]=iz[x.iY].clone();
iz[x.iY].name=x.name}var w=new ka("Channel Edit",this);w.data={d:d,K5:T.Hp.slice(0),MW:T.nE.slice(0),pj:iz,NF:bM,ua:eQ,SG:eT};
this.cU(w.data,T);T.XY(w)}if(d==F.MI){var dJ=new aP(0,0,T.m,T.e),w=new ka(x.hK,this);w.data={d:F.MI,LW:T.R.slice(0),jI:x.jI,wS:T.g.slice(0),mG:x.SG};
T.XY(w);this.cU(w.data,T);var d2=D._x.j4(T);if(d2){w.data.mY=dJ;w.data.GR=d2}}if(d==F.X2){var gQ=T.LQ(null,x.a),h6=1e10;
if(gQ.length==0)return;if(T.R.length==gQ.length){alert("Project must have at least 1 layer");return}var a6=[];
for(var z=0;z<T.R.length;z++)if(gQ.indexOf(z)==-1)a6.push(T.R[z]);for(var z=0;z<gQ.length;z++)h6=Math.min(h6,gQ[z]);
h6=Math.max(h6-1,0);while(a6[h6].name=="</Layer group>")h6++;this.track({Sm:"delete",M1:{classID:"Dlt",null:bf.rX("Lyr",!0)}});
var br=new aP(0,0,T.m,T.e),w=new ka([6,31],this);w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:[h6]};
T.XY(w);this.cU(w.data,T);var kg=D._x._f(T);if(kg){w.data.GR=kg;w.data.mY=br;D._x.j4(T)}}if(d==F.bu){if(!c.S(fZ.xg))return;
var w=new ka("Switch Layer Link",this);w.data={d:d,a:x.a};T.XY(w);this.cU(w.data,T)}if(d==F.ol){var e6=x.auD?x.auD:T.g,cU=0,jJ=!1;
if(e6.length==0)return;if(e6.length==1&&T.R[e6[0]].jn==0){alert(go.get([15,7,5]));return}var jv=[];for(var z=0;
z<T.R.length;z++){var de=T.R[z].jn;jv.push(de);cU=Math.max(cU,de)}var c4=-1,gn=-1;for(var z=0;z<e6.length;
z++){var de=T.R[e6[z]].jn;if(de==0)jJ=!0;else if(c4==-1||c4==de)c4=de;else gn=de}if(!jJ)for(var z=0;
z<e6.length;z++)T.R[e6[z]].jn=0;else if(c4!=-1&&gn==-1)for(var z=0;z<e6.length;z++)T.R[e6[z]].jn=c4;
else for(var z=0;z<e6.length;z++)T.R[e6[z]].jn=cU+1;var eG=[];for(var z=0;z<T.R.length;z++){var de=T.R[z].jn;
if(eG[de]==null)eG[de]=0;eG[de]++}for(var z=0;z<T.R.length;z++){var de=T.R[z].jn;if(eG[de]==1)T.R[z].jn=0}var gN=jv;
jv=[];for(var z=0;z<T.R.length;z++){var de=T.R[z].jn;jv.push(de);cU=Math.max(cU,de)}var w=new ka(jJ?[6,54,0]:[6,54,1],this);
w.data={d:F.ol,ajL:gN,a7K:jv};T.XY(w);this.cU(w.data,T)}if(d==F.S5&&(x.a!=null||T.g.length!=0)||d==F.tI){var et=T.c7(d==F.S5?x.a:U,null,x.ajh),bi;
if(d==F.tI){var r=et[0],b6=r.add.SoLd.Idnt.v,bc=T.ak(b6).clone();r.add.SoLd.Idnt.v=bc.E5=c9.EW()+b6.slice(8);
T.add.lnk2.push(bc)}if(d==F.S5){var jM={Sm:"duplicate",M1:{classID:"null",null:bf.rX("Lyr",!0)}};if(x.aW){et[et.length-1].Je(x.aW);
jM.Nm={t:"TEXT",v:x.aW}}this.track(jM);x.aiz=x.a}d=F.Sx;x.R=et;x.O$=T;x.tj=T}if(d==F.Sx){var j9,aR,cc=x.O$,d1=x.tj,dw=0,aX=0,gx=!1,eS,hq=0,g2=0;
if(cc!=d1){console.log("ADDLAYERS different projs");var j9=new aP(0,0,cc.m,cc.e),aR=new aP(0,0,d1.m,d1.e),d7=[],ej=[];
for(var z=0;z<x.R.length;z++){var r=x.R[z];if(r.add.SoLd==null)continue;var b6=r.add.SoLd.Idnt.v;if(d7.indexOf(b6)==-1){d7.push(b6);
ej.push(c9.EW()+b6.slice(8))}r.add.SoLd.Idnt.v=ej[d7.indexOf(b6)];var iO=r.Ct(cc);if(iO){cc.z3(iO);d1.lY(iO)}}if(d7.length>0){if(d1.add.lnk2==null)d1.add.lnk2=[];
for(var z=0;z<d7.length;z++){var cr=cc.ak(d7[z]),bc=cr.clone();bc.E5=ej[z];d1.add.lnk2.push(bc)}}}var eQ=d1.g.slice(0);
eQ.sort(function(w,i5){return w-i5});var a6=d1.R.slice(0),eT=[],dZ=-1;for(var z=0;z<eQ.length;z++)dZ=Math.max(dZ,eQ[z]);
if(x.aiz!=null)dZ=x.aiz;var hz=cc.NY();if(x.wp){dZ=x.wp-1;var dG=d1.R[x.wp].Ie();dw+=dG.x;aX+=dG.y}if(hz!=-1&&(cc!=d1||x.wp)){var iH=cc.R[hz].Ie();
dw-=iH.x;aX-=iH.y}var cW=d1.M3();for(var z=0;z<cW[0].length;z++){var fw=cW[1][z];if(fw!=-1)cW[1][z]=a6[fw]}dZ++;
for(var z=0;z<x.R.length;z++){var i=x.R[z],dE=i.add.artb;a6.splice(dZ,0,i);eT.push(dZ);dZ++;if(dE){eS=!0;
var bw=dE.guideIndeces;if(bw){bw=bw.v;for(var hl=0;hl<bw.length;hl++){cW[0].push(cc.CR[bw[hl].v].slice(0));
cW[1].push(i);gx=!0}}}}for(var z=0;z<cW[0].length;z++){var fw=cW[1][z];if(fw!=-1)cW[1][z]=a6.indexOf(fw)}for(var z=0;
z<x.R.length;z++){var i=x.R[z];if(i.add.lsct==ew.SO){if(hq==0)g2++;hq++}else if(i.NW())hq--}if(g2==1)eT=[dZ-1];
var w=new ka([6,0],this);w.data={d:F.MI,LW:d1.R.slice(0),jI:a6,wS:eQ,mG:eT};if(gx){w.data.M6=[d1.M3(),cW]}d1.XY(w);
this.cU(w.data,d1);if(dw!=0||aX!=0)D.K$.LY(d1,d1.LQ(),null,dw,aX);if(eS){w.data.mY=new aP(0,0,d1.m,d1.e);
w.data.GR=D._x._f(d1);D._x.j4(d1)}}if(d==F.Qm){var ic=x.a!=null?[x.a]:T.LQ(),a6=T.R.slice(0);for(var z=0;
z<ic.length;z++){var i=T.R[ic[z]].clone();i.Aq(T);a6.splice(ic[z],1,i)}var w=new ka([6,8],this);w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:T.g.slice(0)};
T.XY(w);this.cU(w.data,T)}if(d==F.a4w){var a6=T.R.slice(0),i=a6[T.g[0]]=a6[T.g[0]].clone(),cj=i.add.lmfx,cB,dG;
delete i.add.lmfx;var ik=T.g[0],jL=ik+1;if(i.NW()){var df=T.R[T.g[0]].um;dG=df.aj0;cB=df.lv;var Y=T.root.ct(ik);
ik=Y.QO}else{dG=i.rect;cB=u.B(dG.Z());u.TR(i.buffer,cB,3)}var e8=e5.Bg(cj,i.add.fxrp,cB,dG,T,dG).type;
for(var z=0;z<fJ.order.length;z++){var fH=fJ.order[z],g1=e8[fH];g1.reverse();for(var hl=0;hl<g1.length;
hl++){var du=g1[hl],V=T.CH(),iu=z>7;if(fH=="ebbl"){if(du.JI||du._N){var hC=du.JI?du.JI:du._N;if(du.JI)delete du.JI;
else delete du._N;if(du._N||du.oa)hl--}else if(du.oa||du.Ue){var hC=du.Ue?du.Ue:du.oa;if(du.Ue){delete du.Ue;
if(du.oa)hl--}iu=!0}du=hC}V.mh=du.wN;V.opacity=Math.round(255*du.mT);V.buffer=du.z6;V.rect=du.$F.clone();
V.rect.offset(dG.x,dG.y);if(fH=="FrFX"){V.buffer=V.buffer.slice(0);u.rN(du.yS?du.yS:du.Th,V.buffer,3);
if(du.yS){iu=!0;delete du.yS;if(du.Th)hl--}}V.UP=!iu;V.Je(i.getName()+"'s "+go.get(fJ.names[z]));a6.splice(iu?ik:jL,0,V);
if(iu)jL++}}var w=new ka("Styles to Layers",this);w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:[jL-1]};
T.XY(w);this.cU(w.data,T)}if(d==F.v8){var ic=T.LQ(),a6=T.R.slice(0),dz=new aP(0,0,T.m,T.e);for(var z=0;
z<ic.length;z++){var az=T.R[ic[z]],gH=az.Pm();az.oE(!0);var cP=T.root.ct(ic[z]);if(az.NW())continue;
if(cP==null)continue;var i=az.clone();i.Aq(T);var jo=cP.zC(T,!0),bb=T.R;T.I2([az]);T.W();T.jB();i.buffer=u.B(jo.Z()*4);
u.yU(T.Yr(),dz,i.buffer,jo);i.rect=jo;i.opacity=255;i.add.iOpa=255;i.mh="norm";i.W();i.um.Ps=!0;T.I2(bb);
if(i.add.lmfx)delete i.add.lmfx;i.F=i.MJ=null;a6.splice(ic[z],1,i);i.oE(gH);az.oE(gH)}var w=new ka([6,34],this);
w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:T.g.slice(0)};T.XY(w);this.cU(w.data,T)}if(d==F.arp){var ic=T.LQ(),a6=T.R.slice(0);
for(var z=0;z<ic.length;z++){var i=T.R[ic[z]],h2=i.add.TySh;if(h2==null)continue;var r=new aU(h2.pM,g.dA),jj=u.M.GS(cQ.R8(r,h2,!0));
for(var j_ in jj){var g7=jj[j_],e9=i.clone();delete e9.add.TySh;e9.Yn=e9.Yn|1<<4;e9.add.SoCo=JSON.parse(JSON.stringify(fJ.dB[0]));
var cR=e9.add.SoCo.Clr.v;cR.Rd.v=parseInt(j_.slice(1,3),16);cR.Grn.v=parseInt(j_.slice(3,5),16);cR.Bl.v=parseInt(j_.slice(5,7),16);
var kn=new F.LS;kn.$=u.M.gj(g7,!1);if(e9.add.vmsk!=null){e9.add.vmsk.aop();kn.concat(e9.add.vmsk)}e9.add.vmsk=kn;
e9.add.vstk=fJ.SC.GI(!0);e9.h5();e9.sG(T);a6.splice(a6.indexOf(i),0,e9)}a6.splice(a6.indexOf(i),1)}var eT=T.g.slice(0);
for(var z=eT.length-1;z>=0;z--)if(eT[z]>=a6.length)eT.splice(z,1);var w=new ka([6,40],this);w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:eT};
T.XY(w);this.cU(w.data,T)}if(d==F.Zb){var fa=T.g.length,db,fk;if(fa<2){alert("Select two or more layers.");
return}for(var z=0;z<fa;z++){var iH=T.R[T.g[z]].rect;db=z==0?iH:db.yx(iH);fk=z==0?iH:fk.y8(iH)}if(db.Z()*1.2>fk.Z()){alert("stacking images");
var iN=[],jN=[];for(var z=0;z<fa;z++){var i=T.R[T.g[z]];iN.push(i.buffer);jN.push(i.rect)}var am=u.aCy.Fv(iN,jN),js=am[0],hQ=am[1],kx=[];
for(var z=0;z<fa;z++){var ho=new F.Wu;ho.color=255;ho.rect=hQ;ho.channel=js[z];kx.push(T.g[z],null,ho)}var w=new ka("Focus-Stack",this);
w.data={d:F.bs,ot:kx};T.XY(w);this.cU(w.data,T);return}if(!T.aP())return;var e9=T.R[T.g[0]].clone(),a6=[];
for(var z=0;z<T.R.length;z++)if(T.g.indexOf(z)==-1)a6.push(T.R[z]);a6.splice(T.g[0],0,e9);for(var z=1;
z<fa;z++)if(T.R[T.g[z]].rect.Z()>2e6){alert("Blended areas are too large.");return}for(var z=1;z<fa;
z++){var i=T.R[T.g[z]],hQ=i.rect.clone();hQ.t1(1,1);var i5=u.B(hQ.Z()*4);u.yU(i.buffer,i.rect,i5,hQ);
e9.extend(hQ);var iI=u.B(hQ.Z()*4);u.yU(e9.buffer,e9.rect,iI,hQ);var w=u.B(hQ.Z());u.TR(i5,w,3);u.round(w,200);
u.rN(w,i5,3);u.l.Hy("norm",i5,hQ,iI,hQ,hQ,1);u.El.xB(iI,w,hQ);u.yU(iI,hQ,e9.buffer,e9.rect)}var w=new ka([2,10,0],this);
w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:[T.g[0]]};T.XY(w);this.cU(w.data,T)}if(d==F.Tx){var a6=T.R.slice(0),bM=T.g.slice(0);
for(var z=0;z<a6.length;z++){var i=a6[z],hR=i.add.vmsk;if(i.bT()&&hR&&i.add.vstk.strokeEnabled.v&&!i.add.vstk.fillEnabled.v){var h1=hR.$,bH=0,it=-1;
for(var hl=0;hl<h1.length;hl++){if((h1[hl].type==0||h1[hl].type==3)&&h1[hl].AC!=-1){bH++;if(h1[hl].type==3&&it==-1){h1[hl].$e=h1[hl].AC=1;
it=hl}}}if(bH>1&&it!=-1&&bH<10){console.log("separating an open path into a new layer");i=i.clone();
hR=i.add.vmsk;h1=hR.$;var V=h1[it].length,gU=i.clone();gU.add.lyid=T.bQ();hR.$=h1.slice(0,2).concat(h1.slice(it,it+V+1));
hR.g=[];i.sG(T);i.W();var ks=gU.add.vmsk.$;gU.add.vmsk.$=ks.slice(0,it).concat(ks.slice(it+V+1,ks.length));
gU.add.vmsk.g=[];gU.sG(T);a6[z]=i;a6.splice(z+1,0,gU);for(var hl=0;hl<bM.length;hl++)if(bM[hl]>z)bM[hl]++;
var gV=bM.indexOf(z);if(gV!=-1){bM.splice(gV+1,0,z+1)}}}}if(a6.length!=T.R.length){var w=new ka("Splitting open paths",this);
w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:bM};T.XY(w);this.cU(w.data,T)}}if(d==F.ET){this.gb({d:F.Tx},R,T,c,g);
var eQ=T.g.slice(0),bb=T.R.slice(0),ic=T.LQ();if(ic.length==0)return;T.afc(ic,!1,x.iw);var w=new ka([6,36,0],this);
w.data={d:F.MI,LW:bb,jI:T.R.slice(),wS:eQ,mG:T.g.slice(0)};T.XY(w);this.cU(w.data,T)}if(d==F.am7){var hv=e.add.SoLd;
if(hv==null)return;var b6=hv.Idnt.v,b0=T.ak(b6);b0.Yr(!1);var dv=b0.Zn[0],hQ=b0.Zn[1];if(u.PN(dv)){alert("The smart object contains transparency.");
return}var c1=dp.Ix("jpg").LA([[dv.buffer]],hQ.m,hQ.e,[90]);this.gb({d:F.SM,data:new Uint8Array(c1),H7:"image.jpg"},R,T,c,g);
console.log(T.add);return}if(d==F.SM){var dz=x.V1,b6=x.id;if(dz==null)dz=T;if(b6==null)b6=e.add.SoLd.Idnt.v;
var cr=dz.ak(b6),bc=cr.clone();bc.raw=x.data;bc.H7=x.H7;var aM=dp.Xk(x.data.buffer);if(aM=="psd"){bc.xd="8BIM";
bc.KI="8BPB"}else{bc.xd="    ";bc.KI="    "}bc.Yr(!1);cr.Yr(!1);var w=new ka([6,36,1],this);w.data={d:F.SM,id:b6,In:cr,AO:bc};
dz.XY(w);this.cU(w.data,dz)}if(d==F.Sn){var w=new ka([6,36,4],this);w.data={d:d,a:U,Ey:e.add.SoLd.Impr.v.classID,SN:x.SN};
T.XY(w);this.cU(w.data,T)}if(d==F.arZ){var aY,hM;if(x.sC){aY=x.V1;hM=x.sC}else{x.V1.Cg();x.V1.Jp();x.V1.W();
x.V1.jB();x.V1.Yr();aY=dp.Ix("PSD").LA(x.V1,0,0,[!0,!0]);hM=x.V1.name}if(!(aY instanceof ArrayBuffer))throw"e";
aY=new Uint8Array(aY);var m=x._J;if(m==null){if(T.g.length==0)m=T.g.length;else{var ct=T.g[T.g.length-1],V=T.R[ct];
m=V.NW()?ct:ct+1}}var cY=new aP(0,0,T.m,T.e),dL=T.NY();if(dL!=-1)cY=T.R[dL].Ie();var a5=T.mk(aY,hM,null,null,cY,g.dA,R),a6=T.R.slice(0);
a6.splice(m,0,a5);var w=new ka([6,36,2],this);w.data={d:F.MI,LW:T.R.slice(),jI:a6,wS:T.g.slice(0),mG:[a6.indexOf(a5)]};
T.XY(w);this.cU(w.data,T)}if(d==F.$H&&x.J2=="merge"){var g5=[],aW=T.root.children,cv=0;for(var z=0;z<aW.length;
z++){var Y=aW[z],i=Y.a,fh=Y.children,bj=!0;if(!i.NW()||fh.length==0)continue;for(var hl=0;hl<fh.length;
hl++)if(!fh[hl].a.getName().startsWith("_a_")){bj=!1;break}if(bj)g5.push(T.R.indexOf(i))}var dT=[];for(var z=0;
z<g5.length;z++)if(T.g.indexOf(g5[z])!=-1)dT.push(g5[z]);if(dT.length>=2)g5=dT;if(g5.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var af=[];for(var z=0;z<g5.length;z++)af.push(T.R[g5[z]].getName());var g1=[];for(var fr=0;fr<g5.length;
fr++){var Y=T.root.ct(g5[fr]),at=[[],[],0,fr];g1.push(at);for(var z=0;z<Y.children.length;z++){var y=Y.children[z].index,i=Y.children[z].a,jm=i.getName(),dm=20,gM=jm.split(",");
if(gM.length>1){var eW=parseInt(gM.pop());if(!isNaN(eW)&&eW!=0)dm=eW}if(dm<17)dm=17;at[0].push(i);at[1].push(dm);
at[2]+=dm}}g1.sort(function(w,i5){return i5[2]-w[2]});if(g1[0][2]>2e3){var iJ=0,fA=0;for(var z=0;z<g1.length;
z++){var el=g1[z][1].length/g1[z][2];if(el>fA){fA=el;iJ=z}}var fK=(g1[0][2]/1e3).toFixed(1),fS=window.confirm("- \""+af[g1[0][3]]+"\" is "+fK+" seconds long\n"+"- \""+af[g1[iJ][3]]+"\" is playing at "+Math.round(fA*1e3)+" frames per second\n"+"A merged animation must be "+fK+" sec, up to "+Math.round(g1[0][2]*fA)+" frames. Proceed?");
if(!fS)return}var gD=g1[0],iQ=gD[2];for(var fw=1;fw<g1.length;fw++){var at=g1[fw],ea=1,cN=at[1].slice(0),jI=0;
while((ea+1)*at[2]<=gD[2]){ea++;cN=cN.concat(at[1])}at[1]=cN;at[2]*=ea;var iZ=gD[2]/at[2];for(var z=0;
z<at[1].length;z++){var hd=Math.floor(at[1][z]*iZ);at[1][z]=hd;jI+=hd}while(jI<iQ){jI++;at[1][at[1].length-1]++}at[2]=jI}var f4=[],f9=[],hd=[];
for(var z=0;z<g1.length;z++){f4.push(0);f9.push(0)}while(cv<iQ){var bY=1e9,io=-1;for(var z=0;z<g1.length;
z++){var ge=g1[z][1],ik=f4[z];if(ik!=ge.length&&f9[z]+ge[ik]<cv+bY){io=z;bY=f9[z]+ge[ik]-cv}}f9[io]+=g1[io][1][f4[io]];
f4[io]++;if(bY!=0){hd.push(bY);cv+=bY}}for(var z=1;z<hd.length;z++){var hh=hd[z];if(hh<16&&(hd[z-1]<16||z<hd.length-1&&16<=hd[z+1])){hd[z-1]+=hh;
hd.splice(z,1);z--}}var gH=[],dz=new aP(0,0,T.m,T.e);for(var z=0;z<T.R.length;z++){gH[z]=T.R[z].Pm();
T.R[z].oE(!1)}var eA=T.g.slice(0);T.g=g5;var gQ=T.LQ();gQ.sort(function(w,i5){return w-i5});var a6=[];
for(var z=0;z<T.R.length;z++){if(gQ.indexOf(z)==-1)a6.push(T.R[z])}g1.sort(function(w,i5){return w[3]-i5[3]});
function fO(ge,ac){var z=0,ip=0;while(ip+ge[z]<=ac){ip+=ge[z];z++}return z}cv=0;a6.splice(gQ[0],0,T.Sw());
for(var aI=0;aI<hd.length;aI++){var b=[];for(var z=0;z<g1.length;z++){var ik=fO(g1[z][1],cv)%g1[z][0].length,i=g1[z][0][ik];
b.push(i)}var i=T.CH();for(var z=0;z<g1.length;z++){var iM=b[z],f2=T.R[g5[z]];iM.oE(!0);f2.oE(!0)}T.W();
T.jB();var dv=T.Yr();i.rect=u.Wb(dv,dz,2);i.buffer=u.B(i.rect.Z()*4);u.yU(dv,dz,i.buffer,i.rect);for(var z=0;
z<g1.length;z++){var iM=b[z],f2=T.R[g5[z]];iM.oE(!1);f2.oE(!1)}i.oE(aI==0);i.Je("_a_frm"+aI+","+hd[aI]);
a6.splice(gQ[0]+1+aI,0,i);cv+=hd[aI]}var i=T.CH();i.Je(af.join(" + "));i.mh="pass";i.add.lsct=ew.qW;
i.Yn=24;a6.splice(gQ[0]+1+hd.length,0,i);for(var z=0;z<T.R.length;z++)T.R[z].oE(gH[z]);var w=new ka([6,12,0],this);
w.data={d:F.MI,LW:T.R,jI:a6,wS:eA,mG:[gQ[0]+1+hd.length]};T.XY(w);this.cU(w.data,T)}if(d==F.$C||d==F.an){var cH=T.g.length==1&&!T.R[T.g[0]].NW(),fz=!0,a5=null,eT;
if(cH&&T.g[0]==0)return;var bb=T.R.slice(0),eQ=T.g.slice(0);if(cH)T.g=[U,U-1];if(d==F.an){T.g=[];for(var z=0;
z<T.R.length;z++)if(T.R[z].Pm())T.g.push(z)}var ic=T.LQ();ic.sort(function(w,i5){return w-i5});var iY=new aP,dz=new aP(0,0,T.m,T.e);
for(var z=0;z<ic.length;z++){var y=ic[z],i=T.R[y];if(i.NW()||i.getName()=="</Layer group>")continue;
fz=fz&&i.bT()&&i.add.vmsk!=null;iY=iY.y8(T.root.ct(y).zC(T,!0))}if(x.jY!=null&&!fz){alert("Select shape layers only.");
return}if(fz){var hR=null,h3=x.jY;for(var z=0;z<ic.length;z++){var V=T.R[ic[z]];if(V.rect.Z()==0)continue;
if(a5==null){a5=V.clone();hR=a5.add.vmsk}else{var V=T.R[ic[z]],ks=F.LS.Lz(V.add.vmsk.$);if(h3!=null)for(var hl=0;
hl<ks.length;hl++)if(ks[hl].AC!=null&&ks[hl].AC!=-1)ks[hl].AC=[1,2,3,0][h3];hR.$=hR.$.concat(ks.slice(2));
a5.add.vogk=a5.add.vogk.concat(JSON.parse(JSON.stringify(V.add.vogk)))}}a5.add.vmsk.IP=!0;a5.sG(T)}else if(dz.Ae(iY)){a5=T.CH();
a5.Je(T.R[ic[ic.length-1]].getName());a5.rect=iY;a5.buffer=u.B(iY.Z()*4);var k5=T.add.artd;delete T.add.artd;
var jK=T.Yr(ic);if(k5)T.add.artd=k5;u.yU(jK,dz,a5.buffer,iY);a5.mu();a5.W()}else{T.afc(ic,!0);a5=T.R[T.g[0]];
T.R.splice(T.g[0],1);var i8=T.ak(a5.add.SoLd.Idnt.v);T.add.lnk2.splice(T.add.lnk2.indexOf(i8),1);delete a5.add.SoLd}var bV=N,c7=-1;
if(x.M1&&x.M1.Dplc&&x.M1.Dplc.v)bV=!0;if(bV&&d==F.an&&T.R[eQ[0]].iZ()&&T.R[eQ[0]].rect.Y3()){c7=eQ[0]}if(c7!=-1||cH){var hP=T.R[c7!=-1?c7:U-1];
a5.Je(hP.getName());a5.add.lclr=hP.add.lclr}var a6=[];for(var z=0;z<T.R.length;z++)if(bV||ic.indexOf(z)==-1)if(z!=c7)a6.push(T.R[z]);
var cs=ic[ic.length-1],fD=cs==T.R.length-1?null:T.R[cs+1],gS=fD?a6.indexOf(fD):a6.length;a6.splice(gS,0,a5);
eT=[gS];var w=new ka([6,12,0],this);w.data={d:F.MI,LW:bb,jI:a6,wS:eQ,mG:eT};T.XY(w);this.cU(w.data,T)}if(d==F.aAb){var e9=T.CH();
e9.rect=new aP(0,0,T.m,T.e);e9.buffer=u.B(e9.rect.Z()*4);u.Qu(e9.buffer,4294967295);u.l.Hy("norm",T.Yr(),e9.rect,e9.buffer,e9.rect,e9.rect,1);
e9.Je("Background");e9.add.lspf=1<<2;var w=new ka([6,12,1],this);w.data={d:F.MI,LW:T.R.slice(),jI:[e9],wS:T.g.slice(0),mG:[0]};
T.XY(w);this.cU(w.data,T)}var dA=d==F.VZ||d==F.KS;if(d==F.uU||d==F.cP||d==F.tl||d==F.p$||dA){var i=dA?T.c7()[0]:T.CH(),aB=go.get([0,3]),gL=x.aW,dt=!1,k6,gc;
if(d==F.tl)aB=go.get([12,76,1]);if(dA){if(T.u){var az=T.R[T.g[0]],eP=az.Gx(T,T.u);if(eP==null){alert("Copied area is empty");
return}i.rect=eP.rect;i.buffer=eP.Ik;i.Aq(T);i.oE(!0)}else gL=i.getName();i.add.lspf=0;i.UP=!1;if((i.Yn&1)!=0)i.Yn--}if(d==F.p$){i.rect=D.ys.ao5(x.V$,T);
i.buffer=x.V$.buffer.slice(0);if(x.tV&&T.u){i.F=new F.Wu;i.F.rect=T.u.rect;i.F.color=0;i.F.channel=T.u.channel.slice(0)}}if(d==F.uU){this.track({Sm:"make",M1:{classID:"Mk",null:bf.rX("Lyr")}})}if(d==F.cP){i.Yn|=16;
var bS=x.M1.Usng.v,gb=bS.Type.v,dS=hD.Zf[gb.classID];aB=go.get(hD.names[dS]);if(bS.Nm)gL=bS.Nm.v;i.add[dS]=gm.GI(dS);
if(i.add[dS]==null)i.add[dS]={};for(var dC in gb)i.add[dS][dC]=JSON.parse(JSON.stringify(gb[dC]));i.F=D.ys.a3q(T);
i.s4=1}if(d==F.tl){i.Yn|=16;var hx=x.M1,bS=hx.Usng.v,cC=bS.Type.v,fb=bS.Shp;if(bS.Nm)gL=bS.Nm.v;if(fb==null){var kf=T.JR(),jj=kf[0],fv=kf[1];
if(fv.length!=0&&jj[fv[0]].iY<0){var kb=jj[fv[0]].add;i.add.vmsk=kb.vmsk.clone();i.add.vstk=fJ.SC.GI(!0);
i.add.vogk=JSON.parse(JSON.stringify(kb.vogk));T.pT=[]}else i.F=D.ys.a3q(T)}else{i.add.vmsk=new F.LS;
i.add.vstk=JSON.parse(JSON.stringify(bS.strokeStyle?bS.strokeStyle.v:fJ.SC.GI(!0)));i.add.vogk=[];if(fb){var j$=u.oZ.Bb(fb);
if(j$){i.add.vogk=[j$];i.add.vmsk.$.push({type:0,AC:1,length:0});u.oZ.wY(i.add.vogk,i.add.vmsk)}else{fb=fb.v;
var bP=fb.classID;if(bP=="Plgn"){var hu=fb.Cntr.v,iH=fb.corner.v;hu=new cI(hu.Hrzn.v.val,hu.Vrtc.v.val);
iH=new cI(iH.Hrzn.v.val,iH.Vrtc.v.val);i.add.vmsk.$=u.j.u1.zy(hu.x,hu.y,Math.sqrt(iH.x*iH.x+iH.y*iH.y),Math.atan2(iH.y,iH.x),fb.sides.v,0)}else if(bP=="customShape"){var hk=u.oZ.iQ(fb),eK=hk[2]-hk[0],iB=hk[3]-hk[1],gX=g.e_,fQ,eC;
for(var z=0;z<gX.length;z++)if(gX[z].R9==fb.Nm.v)fQ=gX[z];if(fQ){eC=F.LS.Lz(fQ.$);u.j.q0(eC,new gP(eK,0,0,iB,hk[0],hk[1]))}else eC=u.j.u1.Rect(hk[0],hk[1],eK,iB,0);
i.add.vmsk.$=eC}i.h5()}}}var h5={solidColorLayer:0,gradientLayer:1,patternLayer:2}[cC.classID],fe=["SoCo","GdFl","PtFl"][h5];
i.add[fe]=JSON.parse(JSON.stringify(fJ.dB[h5]));if(h5==0)i.add[fe].Clr.v=u.I.SE(u.m4(g.gR));D.ys.GW(cC,i.add[fe],h5);
if(fb==null)aB=go.get([6,48,0,h5]);if(fe=="PtFl"){var eO=i.add[fe].Ptrn.v,gM=e5.s2(eO,g.hP);if(gM==null)gM=e5.s2(eO,T.add.Patt);
eO.Idnt.v=gM.id;T.Ot(gM)}i.sG(T)}var fa=D.ys.iF(T,aB+" ");i.Je(aB+" "+(fa+1));if(gL)i.Je(gL);var eJ=T.g.length==0?T.R.length-1:T.g[T.g.length-1],bu=T.R[eJ];
if(d==F.tl&&bu.iZ()&&bu.rect.Y3()){dt=!0;i.Je(bu.getName());k6=eJ}else{k6=eJ+(d==F.uU&&J&&!l?0:1);if(bu&&bu.add.lsct==ew.bZ)k6--}if(x.ak1)k6=Math.max(0,k6-1);
var a6=T.R.slice(0);if(d==F.KS){var jC=a6[T.g[0]]=a6[T.g[0]].clone(),km=T.u.channel.slice(0);u.F0(km);
u.AD(km,T.u.rect,jC.buffer,jC.rect)}a6.splice(k6,dt?1:0,i);var jZ=[5,2];if(d==F.uU)jZ=[6,13];if(d==F.cP)jZ=[6,1];
if(d==F.tl){jZ=[6,48,1];var fb=x.M1.Usng.v.Shp;if(fb){var al={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[fb.v.classID];
if(al)jZ=al}}if(dA){jZ=[6,49,d==F.VZ?0:1]}if(dA||d==F.tl||d==F.p$||d==F.cP)if(T.u)gc=[T.u,null];var w=new ka(jZ,this);
w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:[k6],v1:gc};T.XY(w);this.cU(w.data,T);if(d==F.tl&&fb==null&&h5!=0||d==F.cP){var C=new aA(v.E.P);
C.data={d:v.H.Av,$k:dF.sK.xS};R.c(C)}}if(d==F.oe){var i=T.CH(),aB=go.get([0,4]),fa=D.ys.iF(T,aB+" ");
i.Je(aB+" "+(fa+1));i.mh="pass";i.add.lsct=ew.bZ;i.Yn=24;if(x.aW)i.Je(x.aW);if(x.l_!=null)i.add.lclr=x.l_;
var gf=T.Sw(),eJ=U,k6=eJ+(J?0:1),a6=T.R.slice(0);a6.splice(k6,0,gf,i);var w=new ka([6,20],this);w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:[k6+1]};
T.XY(w);this.cU(w.data,T)}if(d==F.tz||d==F.$O){var e7=d==F.tz?x.source:T.g[0],eI,j6,f7=T.g.indexOf(e7)!=-1,ag=N|x.azj,jy,bY=null;
if(f7)jy=T.LQ();else jy=T.xy(e7);jy.sort(function(w,i5){return w-i5});if(d==F.tz){eI=x.target;j6=x.zV>.5}else if(x.target!=null){eI=Math.min(x.target,T.R.length-1);
j6=x.target<T.R.length;T.OW=!0}else{var i9=x.J2;j6=i9>1;if(i9==0){eI=T.R.length-1}if(i9==1){eI=jy[jy.length-1]+1;
var V=T.xy(eI);if(V.indexOf(e7)==-1)eI+=V.length-1}if(i9==2){eI=jy[0]-1;var V=T.xy(eI);if(V.indexOf(e7)==-1)eI-=V.length-1}if(i9==3){eI=0;
if(T.R[0].add.lnsr=="bgnd")eI++}if(eI<0||eI>T.R.length-1)return;T.OW=!0}if(jy.indexOf(eI)!=-1&&!ag)return;
var aD=D.ys.kd(T,jy,eI,j6,ag?T.c7(f7?null:e7):null,d==F.tz&&x.zV>.8),jW=aD.pop(),bM=aD.pop(),a6=aD.pop(),cA=T.g;
T.g=[e7];var hz=T.NY();T.g=[eI];var hJ=T.NY();if(hJ==eI&&!j6)hJ=-1;T.g=cA;if(e7==hz){}else if(hz!=hJ){var bY=new cI(0,0);
if(hz!=-1){var hQ=T.R[hz].Ie();bY.x-=hQ.x;bY.y-=hQ.y}if(hJ!=-1){var hQ=T.R[hJ].Ie();bY.x+=hQ.x;bY.y+=hQ.y}}var w=new ka(ag?[6,0]:[6,35],this);
w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:bM,MV:bY};T.XY(w);this.cU(w.data,T);var hx={classID:"move",null:bf.rX("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:jW+(j6?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:ag}};
this.track({Sm:"move",M1:hx})}if(d==F.NA){if(x.N2){if(e==null||!e.NW())return;var Y=T.root.ct(U),hj=T.R.indexOf(Y.ahj),a6=T.R.slice(0);
a6.splice(U,1);a6.splice(hj,1);var bM=[];for(var z=hj;z<U-1;z++)bM.push(z);var w=new ka("Ungroup Layers",this);
w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:bM};T.XY(w);this.cU(w.data,T)}else{var i=T.CH(),cq=go.get([0,4])+" ";
i.Je(cq+(D.ys.iF(T,cq)+1));i.mh="pass";if(x.aW)i.Je(x.aW);if(x.l_!=null)i.add.lclr=x.l_;i.add.lsct=T.g.length==1?ew.bZ:ew.qW;
i.Yn=24;var gf=T.Sw(),jy=T.LQ();if(jy.length==0)return;jy.sort(function(w,i5){return w-i5});var a6=[];
for(var z=0;z<T.R.length;z++)if(jy.indexOf(z)==-1)a6.push(T.R[z]);var eJ=T.g[T.g.length-1]-jy.length;
a6.splice(eJ+1,0,gf);for(var z=0;z<jy.length;z++)a6.splice(eJ+2+z,0,T.R[jy[z]]);a6.splice(eJ+2+jy.length,0,i);
var w=new ka([6,9],this);w.data={d:F.MI,LW:T.R.slice(0),jI:a6,wS:T.g.slice(0),mG:[a6.indexOf(i)]};T.XY(w);
this.cU(w.data,T);var L={Sm:"make",Wv:!0};L.M1={classID:"Mk",null:bf.rX("layerSection"),From:bf.rX("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:i.getName()}}}};
this.track(L)}}if(d==F.abN){if(T.g.length!=1)return;var m=T.g[0],bR=N;if(T.R[m].le()==null&&!c.S(fZ.Gc)){d=F.Rk;
x.or=T.u?!bR?"RvlS":"HdSl":!bR?"RvlA":"HdAl"}else{d=F.PB;x.ax6=!0}}if(d==F.Rk){if(T.g.length!=1)return;
var m=T.g[0],i=T.R[m];if(i.add.vmsk&&i.F==null)i.sG(T);var k7=i.le();if(k7==null||x.a6M){var w=new ka(x.aW?x.aW:[6,21],this),fV=new F.Wu,ar=x.or,jT=ar=="RvlS"||ar=="HdSl";
if(ar=="RvlS"||ar=="HdAl"||ar=="Trns")fV.color=0;if(jT){fV.channel=T.u.channel.slice(0);fV.rect=T.u.rect.clone();
if(ar=="HdSl")u.F0(fV.channel)}if(ar=="Trns"){fV.rect=i.rect.clone();fV.channel=u.B(i.rect.Z());u.TR(i.buffer,fV.channel,3)}w.data={d:F.bs,ot:[m,k7,fV],v1:jT?[T.u,null]:null};
T.XY(w);this.cU(w.data,T);T.R[m].s4=1;this.track({Sm:"make",M1:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:ar}}}})}}else if(d==F.aC1){var jF=T.R[x.src],fj=T.R[x.LH],w=new ka([6,21],this),eE=jF.le(),j2=fj.le(),ho=[x.src,eE,null,x.LH,j2,eE];
if(N||l){var jm=eE.clone();if(N)ho=[x.LH,j2,jm];else ho[5]=jm;if(l){u.F0(jm.channel);jm.color=255-jm.color}}w.data={d:F.bs,ot:ho};
T.XY(w);this.cU(w.data,T)}if(d==F.UQ){if(T.g.length!=1)return;var m=U,a2=T.R[m].le();if(a2!=null){var w=new ka([6,22],this);
w.data={d:F.bs,ot:[U,a2,null]};T.XY(w);this.cU(w.data,T)}}if(d==F.DD){var bb=T.R.slice(0),e9=e.clone(),ji=e9.le();
u.AD(ji.qC(e9.rect),e9.rect,e9.buffer,e9.rect);D.ys.xM(T,e9);e9.mu();T.R[T.g[0]]=e9;var w=new ka([5,8],this);
w.data={d:F.MI,LW:bb,jI:T.R.slice(),wS:T.g.slice(0),mG:T.g.slice(0)};T.XY(w);this.cU(w.data,T)}if(d==F.Iv){if(T.g.length!=1)return;
var m=T.g[0];if(T.R[m].Ct(T).F==null){var w=new ka([6,45],this);w.data={d:d,a:m,F:new F.Wu};T.XY(w);
this.cU(w.data,T)}}if(d==F.TO){if(T.g.length!=1)return;var m=T.g[0];if(T.R[m].Ct(T).F!=null){var w=new ka([6,46],this);
w.data={d:d,a:m,F:T.R[m].Ct(T).F};T.XY(w);this.cU(w.data,T)}}if(d==F.B3){if(x.src==null&&T.g.length!=1)return;
if(x.src!=null)U=x.src;if(T.R[U].Xn()){var w=new ka([6,47],this),hv=JSON.stringify(T.R[U].add.SoLd),hO=JSON.parse(hv);
delete hO.filterFX;w.data={d:F.CI,bV:[{p0:U,gd:[hv,JSON.stringify(hO)],BH:[T.R[U].Ct(T),null]}]};T.XY(w);
this.cU(w.data,T)}}if(d==F.PB){if(T.g.length!=1)return;if(e.add.vmsk==null){var w=new ka([6,23],this),h1=T.JR(),e6=h1[1],h1=h1[0],fV,j$;
if(x.ax6&&e6.length!=0){var kb=h1[e6[0]].add;fV=kb.vmsk.clone();j$=kb.vogk}else{fV=new F.LS;j$=[];fV.$[1].all=x.awG?0:1}w.data={d:d,a:U,aY:!0,F:fV,oZ:JSON.stringify(j$),SC:null};
if(e.bT()){w.data.SC=Stroke.SC.GI(!0)}T.XY(w);this.cU(w.data,T)}}if(d==F.c2){var jF=T.R[x.src],fj=T.R[x.LH];
if(fj.add.vmsk)return;var w=new ka([6,23],this),hR=jF.add.vmsk;w.data={a:x.LH,aY:jF.yn,F:hR.clone(),oZ:JSON.stringify(jF.add.vogk),SC:jF.add.vstk?JSON.stringify(jF.add.vstk):null};
if(N){w.data.d=F.PB}else{w.data.d=d;w.data.src=x.src;w.data.LH=x.LH}T.XY(w);this.cU(w.data,T)}if(d==F._5||d==F.av){if(T.g.length!=1)return;
var i=T.R[U],hR=i.add.vmsk;if(hR!=null){var iF=d==F.av,w=new ka(iF?[6,8]:[6,24],this);w.data={d:F._5,a:U,aY:i.yn,F:hR,oZ:JSON.stringify(i.add.vogk),SC:i.add.vstk?JSON.stringify(i.add.vstk):null};
if(iF){w.data.MJ=hR.le(i.add.vstk)}T.XY(w);this.cU(w.data,T)}}if(d==F.JM){var w=new ka("Metadata",this);
w.data={d:d,a6:JSON.stringify(T.zw),Dl:JSON.stringify(x.Dl)};T.XY(w);this.cU(w.data,T)}if(d==F.nk){var g4=x.LH?x.LH:T,j4=g4.name,gL=x.b+".psd";
if(j4==gL)return;var w=new ka([6,37],this);w.data={d:d,awF:j4,aW:gL};if(x.aB0!=!0)g4.XY(w);this.cU(w.data,g4)}if(d==F.$H&&x.J2.endsWith("makeframes")){var bN=[],ix=x.J2.startsWith("make");
for(var z=0;z<T.g.length;z++){var y=T.g[z],i=T.R[y],hU=i.getName(),eM=hU.startsWith("_a_");if(ix==eM||i.add.lsct==ew.SO)continue;
var eZ=ix?"_a_"+hU:hU.slice(3);bN.push([y,hU,eZ,i.add.lnsr,null])}var w=new ka([6,37],this);w.data={d:F.MF,vr:bN};
T.XY(w);this.cU(w.data,T)}if(d==F.MF){var j4=e.getName(),gL=x.name.substring(0,255);if(j4==gL)return;
var w=new ka([6,37],this);w.data={d:d,vr:[[U,j4,gL,e.add.lnsr,null]]};T.XY(w);this.cU(w.data,T);this.track(bf.be("Nm",{t:"TEXT",v:gL}))}if(d==F.o2){var bJ=T.LQ(),kC=[],bZ=[];
for(var z=0;z<bJ.length;z++){kC.push(T.R[bJ[z]].add.lclr);bZ.push(x.avw)}var w=new ka([6,38],this);w.data={d:d,R:bJ,adl:kC,l_:bZ};
T.XY(w);this.cU(w.data,T)}if(d==F.gU){var w=T.history[T.md];if(w!=null&&w.f==this&&w.data.d==d&&w.data.a==x.A9&&w.data.SN.Ds==x.ne.Ds)w.data.SN=x.ne;
else{w=new ka("Mask Density / Feather",this);w.data={d:d,a:x.A9,Ey:T.R[x.A9].PG(x.ne.Ds),SN:x.ne};T.XY(w)}this.cU(w.data,T)}if(d==F.Ok){var im=JSON.stringify(x.b),gk=JSON.parse(im),w=T.history[T.md];
if(w!=null&&w.f==this&&w.data.d==d&&w.data.nn==x.nn&&w.data.eb.join(",")==x.eb.join(",")){for(var z=0;
z<x.eb.length;z++)w.data.PS[z]=gk;if(w.data.M1&&gk.KI!=0)D.ys.GW(gk.TB,w.data.M1.T.v,gk.KI-1)}else{w=new ka([11,6],this);
w.data={d:d,eb:x.eb,nn:x.nn,a35:[],PS:[]};var e0=!1;for(var z=0;z<x.eb.length;z++){var y=x.eb[z],i=T.R[y],j7=x.nn?D.h3.qE(T,y):JSON.parse(JSON.stringify(i.add.vstk));
w.data.a35.push(j7);w.data.PS.push(gk);if(JSON.stringify(j7)!=im)e0=!0}if(!e0)return;T.XY(w);if(x.nn&&gk.KI>0){var hx=w.data.M1={classID:"setd",null:bf.rX("contentLayer",!0),T:{t:"Objc",v:{}}};
D.ys.GW(gk.TB,hx.T.v,gk.KI-1);this.track({Sm:"set",M1:hx})}}if(x.nn&&gk.KI==3)T.Ot(e5.s2(gk.TB.Ptrn.v,g.hP));
if(!x.nn){var an=gk.strokeStyleContent.v;if(an.classID==fJ.SC.af[2])T.Ot(e5.s2(an.Ptrn.v,g.hP))}this.cU(w.data,T)}};
D.ys.kd=function(x,R,T,c,g,d){var U=x.R[T],e=[];if(g)e=x.R.slice(0);else for(var z=0;z<x.R.length;z++)if(R.indexOf(z)==-1)e.push(x.R[z]);
var N=e.indexOf(U);if(d&&U.NW()&&U.add.lsct==ew.qW)N-=x.xy(T).length-1;var l=[];for(var z=0;z<R.length;
z++){var J=N+(c?0:1)+z,w=g?g[z]:x.R[R[z]];e.splice(J,0,w);l.push(J)}return[e,l,N]};D.ys.GW=function(x,R,T){var c=[fJ.RV,fJ.dc,fJ.lK][T];
if(R.classID==null)R.classID=["solidColorLayer","gradientLayer","patternLayer"][T];for(var z=0;z<c.length;
z++)if(x[c[z]])R[c[z]]=JSON.parse(JSON.stringify(x[c[z]]))};D.ys.a3q=function(x){var R=new F.Wu;if(x.u!=null){R.color=0;
R.channel=x.u.channel.slice(0);R.rect=x.u.rect.clone()}return R};D.ys.pR=function(x,R,T,c,g){var d=c.m/T.m,U=c.e/T.e,e=c.m/2,N=c.e/2,l=u.M.$x(c).z;
for(var z=0;z<x.R.length;z++){var J=x.R[z],w=J.add.SoLd;if(w==null||w.Idnt.v!=R)continue;if(d!=1||U!=1){var s=D.gW.Yg(w.nonAffineTransform),o=u.D.ok(s,c),V=new gP;
V.translate(-e,-N);V.scale(d,U);V.translate(e,N);var a=u.D.Kq(o,u.D.bY(V)),O=l.slice(0);u.D.i(a,O);w.Trnf=D.gW.db(O);
w.nonAffineTransform=D.gW.db(O);if(u.zb.rJ(w.quiltWarp.v)){var S=w.quiltWarp.v.bounds.v;S.Rght.v.val=c.m;
S.Btom.v.val=c.e}}J.Ht(x,null,g)}x.W()};D.ys.atp=function(x,R,T){R.color=255-R.color;u.F0(R.channel);
R.IP=!0;x.sG(T);T.W()};D.ys.prototype.cA=function(x,R){var T=x.d,c=R.R[x.a];R.kn=!0;if(T==F.SM){R.add.lnk2.splice(R.add.lnk2.indexOf(x.AO),1,x.In);
D.ys.pR(R,x.id,x.AO.Zn[1],x.In.Zn[1])}if(T==F.Sn){c.add.SoLd.Impr.v.classID=x.Ey;c.Ht(R)}if(T==F.B0){var g=JSON.parse(x.eb);
for(var z=0;z<g.length;z++)R.R[g[z]].mh=x.uo[z];R.W()}if(T==F.sN){var g=JSON.parse(x.eb);for(var z=0;
z<g.length;z++)R.R[g[z]].opacity=x.uo[z];R.W()}if(T==F.FB){var g=JSON.parse(x.eb);for(var z=0;z<g.length;
z++)if(R.R[g[z]].add.lsct!=ew.SO)R.R[g[z]].add.lspf=x.uo[z]}if(T==F.h6){var d=x.RQ,U=x.ax_;delete c.add[d[0]];
if(U[0]!="----")c.add[U[0]]=U[1]}if(T==F.oH){c.add.iOpa=x.uo;R.W()}if(T==F.P1){for(var z=0;z<x.eb.length;
z++){var e=R.R[x.eb[z]];e.oE(!e.Pm())}R.W()}if(T==F.fJ){var N=c.le();N.isEnabled=!N.isEnabled;c.sG(R);
R.W()}if(T==F.Uq){var N=c.Ct(R).F;N.isEnabled=!N.isEnabled;c.W();R.W()}if(T==F.ud){var N=c.add.vmsk;
N.isEnabled=!N.isEnabled;if(!N.isEnabled){if(c.MJ){c.F=c.MJ;c.MJ=null}else c.F=null}else if(c.F){c.MJ=c.F;
c.F=null}c.sG(R);R.W()}if(T==F.q8){c.UP=!c.UP;R.W()}if(T==F.IB){c.add.lmfx.masterFXSwitch.v=!c.add.lmfx.masterFXSwitch.v;
c.um.Ps=!0;R.W()}if(T==F.Nh){c.add.SoLd.filterFX.v.enab.v=!c.add.SoLd.filterFX.v.enab.v;c.lJ(R);R.W()}if(T==F.eH){var l=x.index,J=c.add.lmfx[fJ.YZ[l[0]]].v[l[1]].v;
J.enab.v=!J.enab.v;c.um.Ps=!0;R.W()}if(T==F.jy){var w=R.R[x.Ye],s=R.R[x.BU],o=x.aqW,V=x.ac2;if(o=="")delete w.add.lmfx;
else w.add.lmfx=JSON.parse(o);if(V=="")delete s.add.lmfx;else s.add.lmfx=JSON.parse(V);w.um.Ps=!0;s.um.Ps=!0;
R.W()}if(T==F.p4){var a=c.add.SoLd.filterFX.v.filterFXList.v[x.index].v;a.enab.v=!a.enab.v;c.lJ(R);R.W()}if(T==F.aam){c.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(x.abm));
c.lJ(R);R.W()}if(T==F.lS){var N=c.le();N.fh=!N.fh}if(T==F.kD){var N=c.add.vmsk;N.fh=!N.fh}if(T==F.Ei){var O=JSON.parse(x.a4J);
R.gq=O[0];R.sb=O[1]}if(T==F.eK){var O=x.K5;for(var z=0;z<O.length;z+=2){var S=O[z],e=S>=0?R.R[S]:R.OQ[-1-S];
e.add.vogk=JSON.parse(O[z+1]);u.oZ.wY(e.add.vogk,e.add.vmsk);if(S>=0)e.sG(R)}R.W()}if(T==F.RW){c.add.artb=JSON.parse(x.aco);
R.W();D._x.dW(R,x)}if(T==F.Nq){R.u=x.ua;R.Hp=x.K5.slice(0);R.nE=x.MW.slice(0);R.Sa=R.Sg=!0}if(T==F.bu){c.wm=!c.wm}if(T==F.ol){var L=x.ajL;
for(var z=0;z<L.length;z++)R.R[z].jn=L[z]}if(T==F.MI){if(x.MV)D.K$.LY(R,R.g,null,-x.MV.x,-x.MV.y);if(x.wS)R.g=x.wS;
if(x.v1)R.u=x.v1[0];R.Kx=null;R.W();R.I2(x.LW);D._x.dW(R,x);if(x.M6)R.bK(x.M6[0])}if(T==F.bs){for(var z=0;
z<x.ot.length;z+=3)D.ys.xM(R,R.R[x.ot[z]],x.ot[z+1]);if(x.v1){var Q=x.v1[0];if(Q==null)delete R.u;else R.u=Q}}if(T==F.Iv){c.Ct(R).F=null;
c.W();R.W()}if(T==F.TO){c.Ct(R).F=x.F;c.W();R.W()}if(T==F.CI){D.ys.aAA(R,x.bV,0)}if(T==F.PB){D.ys.QU(R,c,!0)}if(T==F.c2){D.ys.QU(R,R.R[x.LH],x.F.isEnabled);
D.ys.oL(R,R.R[x.src],x)}if(T==F._5){if(x.MJ)D.ys.xM(R,c,null);D.ys.oL(R,c,x)}if(T==F.JM){R.zw=JSON.parse(x.a6)}if(T==F.nk){R.name=x.awF}if(T==F.MF){for(var z=0;
z<x.vr.length;z++){var b=x.vr[z],e=R.R[b[0]];e.Je(b[1]);if(b[3])e.add.lnsr=b[3];else delete e.add.lnsr}}if(T==F.o2){for(var z=0;
z<x.R.length;z++)R.R[x.R[z]].add.lclr=x.adl[z]}if(T==F.Ok){var Z=x.a35;for(var z=0;z<x.eb.length;z++){var e=R.R[x.eb[z]],I=Z[z];
if(!x.nn)e.add.vstk=JSON.parse(JSON.stringify(I));else D.h3.tg(e,JSON.parse(JSON.stringify(I)));e.M_(R)}R.W()}if(T==F.gU){c.acS(x.Ey);
c.sG(R);R.W()}R.Sg=!0};D.ys.prototype.cU=function(x,R){var T=x.d,c=R.R[x.a];R.kn=!0;if(T==F.SM){R.add.lnk2.splice(R.add.lnk2.indexOf(x.In),1,x.AO);
D.ys.pR(R,x.id,x.In.Zn[1],x.AO.Zn[1])}if(T==F.Sn){c.add.SoLd.Impr.v.classID=x.SN;c.Ht(R)}if(T==F.B0){var g=JSON.parse(x.eb);
for(var z=0;z<g.length;z++)R.R[g[z]].mh=x.SN;R.W()}if(T==F.sN){var g=JSON.parse(x.eb);for(var z=0;z<g.length;
z++)R.R[g[z]].opacity=x.SN;R.W()}if(T==F.FB){var g=JSON.parse(x.eb);for(var z=0;z<g.length;z++)if(R.R[g[z]].add.lsct!=ew.SO)R.R[g[z]].add.lspf=x.SN[z]}if(T==F.h6){var d=x.ax_,U=x.RQ;
delete c.add[d[0]];if(U[0]!="----")c.add[U[0]]=U[1]}if(T==F.oH){c.add.iOpa=x.SN;R.W()}if(T==F.P1){for(var z=0;
z<x.eb.length;z++){var e=R.R[x.eb[z]];e.oE(!e.Pm())}R.W()}if(T==F.fJ){var N=c.le();N.isEnabled=!N.isEnabled;
c.sG(R);R.W()}if(T==F.Uq){var N=c.Ct(R).F;N.isEnabled=!N.isEnabled;c.W();R.W()}if(T==F.ud){var N=c.add.vmsk;
N.isEnabled=!N.isEnabled;if(!N.isEnabled){if(c.MJ){c.F=c.MJ;c.MJ=null}else c.F=null}else if(c.F){c.MJ=c.F;
c.F=null}c.sG(R);R.W()}if(T==F.q8){c.UP=!c.UP;R.W()}if(T==F.IB){c.add.lmfx.masterFXSwitch.v=!c.add.lmfx.masterFXSwitch.v;
c.um.Ps=!0;R.W()}if(T==F.Nh){c.add.SoLd.filterFX.v.enab.v=!c.add.SoLd.filterFX.v.enab.v;c.lJ(R);R.W()}if(T==F.eH){var l=x.index,J=c.add.lmfx[fJ.YZ[l[0]]].v[l[1]].v;
J.enab.v=!J.enab.v;c.um.Ps=!0;R.W()}if(T==F.jy){var w=R.R[x.Ye],s=R.R[x.BU],o=x.asy,V=x.ajT;if(o=="")delete w.add.lmfx;
else w.add.lmfx=JSON.parse(o);if(V=="")delete s.add.lmfx;else s.add.lmfx=JSON.parse(V);w.um.Ps=!0;s.um.Ps=!0;
R.W()}if(T==F.p4){var a=c.add.SoLd.filterFX.v.filterFXList.v[x.index].v;a.enab.v=!a.enab.v;c.lJ(R);R.W()}if(T==F.aam){c.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(x.a9A));
c.lJ(R);R.W()}if(T==F.lS){var N=c.le();N.fh=!N.fh}if(T==F.kD){var N=c.add.vmsk;N.fh=!N.fh}if(T==F.Ei){var O=JSON.parse(x.ajn);
R.gq=O[0];R.sb=O[1]}if(T==F.eK){var O=x.pj;for(var z=0;z<O.length;z+=2){var S=O[z],e=S>=0?R.R[S]:R.OQ[-1-S];
e.add.vogk=JSON.parse(O[z+1]);u.oZ.wY(e.add.vogk,e.add.vmsk);if(S>=0)e.sG(R)}R.W()}if(T==F.RW){c.add.artb=JSON.parse(x.TD);
R.W();D._x.yj(R,x)}if(T==F.Nq){R.u=x.SG;R.Hp=x.pj.slice(0);R.nE=x.NF.slice(0);R.Sa=R.Sg=!0}if(T==F.bu){c.wm=!c.wm}if(T==F.ol){var L=x.a7K;
for(var z=0;z<L.length;z++)R.R[z].jn=L[z]}if(T==F.MI){R.a6V();var Q=x.jI,b=0,Z;for(var z=0;z<Q.length;
z++){var e=Q[z],I=e.add.lsct;if(I==ew.SO)b++;else if(I==ew.bZ||I==ew.qW)b--;if(e.add.artb&&b!=0)Z="Artboards can not be inside folders."}if(Z){R.history.pop();
R.md--;alert(Z);return}D._x.yj(R,x);if(x.mG)R.g=x.mG;if(x.v1)R.u=x.v1[1];R.Kx=null;R.W();R.I2(x.jI);
if(x.MV)D.K$.LY(R,R.g,null,x.MV.x,x.MV.y);if(x.M6)R.bK(x.M6[1])}if(T==F.bs){for(var z=0;z<x.ot.length;
z+=3)D.ys.xM(R,R.R[x.ot[z]],x.ot[z+2]);if(x.v1){var y=x.v1[1];if(y==null)delete R.u;else R.u=y}}if(T==F.Iv){c.Ct(R).F=x.F;
c.s4=0;c.W();R.W()}if(T==F.TO){c.Ct(R).F=null;c.s4=0;c.W();R.W()}if(T==F.CI){D.ys.aAA(R,x.bV,1)}if(T==F.PB){D.ys.oL(R,c,x)}if(T==F.c2){D.ys.QU(R,R.R[x.src],x.F.isEnabled);
D.ys.oL(R,R.R[x.LH],x)}if(T==F._5){D.ys.QU(R,c,x.F.isEnabled);if(x.MJ)D.ys.xM(R,c,x.MJ)}if(T==F.JM){R.zw=JSON.parse(x.Dl)}if(T==F.nk){R.name=x.aW}if(T==F.MF){for(var z=0;
z<x.vr.length;z++){var r=x.vr[z],e=R.R[r[0]];e.Je(r[2]);if(r[4])e.add.lnsr=r[4];else delete e.add.lnsr}}if(T==F.o2){for(var z=0;
z<x.R.length;z++)R.R[x.R[z]].add.lclr=x.l_[z]}if(T==F.Ok){var h=x.PS;for(var z=0;z<x.eb.length;z++){var e=R.R[x.eb[z]],k=h[z];
if(!x.nn)e.add.vstk=JSON.parse(JSON.stringify(k));else D.h3.tg(e,JSON.parse(JSON.stringify(k)));e.M_(R)}R.W()}if(T==F.gU){c.acS(x.SN);
c.sG(R);R.W()}R.Sg=!0};D.ys.iF=function(x,R){var T=0;for(var z=0;z<x.R.length;z++){var c=x.R[z].getName();
if(c.startsWith(R)){var g=c.slice(R.length).trim(),d=parseInt(g);if(!isNaN(d)&&d+""==g&&d>T)T=d}}return T};
D.ys.aAA=function(x,R,T){for(var z=0;z<R.length;z++){var c=R[z],g=x.R[c.p0];if(c.gd){g.add.SoLd=JSON.parse(c.gd[T])}if(c.BH){if(c.BH[1-T]!=null)x.z3(c.BH[1-T]);
if(c.BH[T]!=null)x.lY(c.BH[T]);else g.s4=0}g.Ht(x)}};D.ys.ao5=function(x,R){var T=x.Fu,c=x.rect.clone();
if(T!=null&&(T.x!=R.m||T.y!=R.e)){c.x=Math.floor((R.m-c.m)/2);c.y=Math.floor((R.e-c.e)/2)}else if(T==null){var g=new aP(0,0,R.m,R.e),d=R.NY();
if(d!=-1)g=R.R[d].Ie();c.x+=g.x;c.y+=g.y}return c};D.ys.axM=function(x,R){if(R.MJ)R.MJ=null;else R.F=null;
R.sG(x);x.W();R.s4=0};D.ys.xM=function(x,R,T){var c=R.le();if(c==null&&T==null)return;if(c)D.ys.axM(x,R);
if(T==null)return;if(R.F)R.MJ=T;else R.F=T;R.sG(x);x.W()};D.ys.QU=function(x,R,T){if(R.MJ&&T){R.F=R.MJ;
R.MJ=null}else if(R.F&&T){R.F=null}delete R.add.vogk;delete R.add.vstk;delete R.add.vmsk;R.sG(x);R.yn=!1;
x.Kx=[];x.W()};D.ys.oL=function(x,R,T){R.add.vogk=JSON.parse(T.oZ);if(T.SC)R.add.vstk=JSON.parse(T.SC);
else delete R.add.vstk;R.add.vmsk=T.F.clone();if(R.F&&R.add.vmsk.isEnabled)R.MJ=R.F;R.sG(x);R.yn=T.aY;
x.Kx=[x.R.indexOf(R)];x.pT=[];x.W()};D.we=function(){D.Gj.call(this,"Layer Styles",D.Wi);this.kI=null;
this.o5=null;this.pt=null;this.Ck=[];this.s1=null};D.we.prototype=new D.Gj;D.we.prototype.gb=function(x,R,T,c,g){var d=x.a;
if(d==null)d=T.g[0];var U=T.R[d],e=x.iY;if(this.kI==null){this.pt=D.we.xG(T,U);this.kI=JSON.stringify(this.pt);
if(U.add.lmfx)this.o5=JSON.stringify(U.add.lmfx)}if(U.add.lmfx==null){U.add.lmfx=JSON.parse(fJ.default);
for(var z=0;z<fJ.order.length;z++)U.add.lmfx[fJ.YZ[z]]={t:"VlLs",v:[]}}if(x.d=="scaleeffects"){if(x.b=="confirm"||x.b=="cancel"){this.gb({d:x.b},R,T,c,g);
return}U.add.lmfx=JSON.parse(this.o5);e5.Xd(U.add.lmfx,x.b/100)}else if(x.d=="changeprop"){var N=null;
if(e!=0){var l=this.Ck[e[0]];if(l==null)l=fJ.Ck[e[0]];l=JSON.parse(l);var J=U.add.lmfx[fJ.YZ[e[0]]].v;
if(J[e[1]]==null)J[e[1]]={t:"Objc",v:l};N=J[e[1]].v;for(var w in l)if(N[w]==null)N[w]=l[w]}if(x.d=="changeprop"){if(e==0){this.pt[x.n8].v=x.b;
D.we.xH(T,U,this.pt)}else if(x.n8=="lagl"){if(N.uglg&&N.uglg.v){T.Um(x.b.val);this.pt.gagl.v.val=T.er()}else N[x.n8].v=x.b}else if(x.n8=="Lald"){if(N.uglg.v){T.Hq(x.b.val);
this.pt.as1=T.Oo()}else N[x.n8].v=x.b}else if((e[0]==3||e[0]==8)&&(x.n8=="Clr"||x.n8=="Grad")){if(x.n8=="Clr"){N.Clr={t:"Objc",v:x.b};
delete N.Grad}if(x.n8=="Grad"){N.Grad={t:"Objc",v:x.b};delete N.Clr}}else{N[x.n8].v=x.b}if(e!=0)this.Ck[e[0]]=JSON.stringify(N)}if(e!=0)if(N.Ptrn)T.Ot(e5.s2(N.Ptrn.v,g.hP))}else if(x.d=="setstl"){var s=x.b.Lefx;
if(s)e5.abF(s,T,g.hP);e5.apw(x.b,U,null,T);this.pt=D.we.xG(T,U)}else if(x.d=="st_dupsingle"){var o=U.add.lmfx[fJ.YZ[x._8[0]]].v;
if(o[x._8[1]]==null)return;var V=JSON.parse(JSON.stringify(o[x._8[1]]));o.splice(x._8[1],0,V)}else if(x.d=="st_movsingle"){var a=x._8[1],o=U.add.lmfx[fJ.YZ[x._8[0]]].v;
if(o[x._8[1]]==null)return;var O=Math.max(0,Math.min(o.length-1,a+x.adu)),S=o[O];o[O]=o[a];o[a]=S}else if(x.d=="cancel"){if(this.o5==null)delete U.add.lmfx;
else U.add.lmfx=JSON.parse(this.o5);D.we.xH(T,U,JSON.parse(this.kI));this.kI=null;this.o5=null}else if(x.d=="confirm"){var L=JSON.stringify(U.add.lmfx),Q=new ka([11,6],this);
Q.data={R:[d],n2:[this.o5],hg:[L],Zl:[this.kI],BW:[JSON.stringify(this.pt)]};T.XY(Q);this.kI=null;this.o5=null;
if(L!=null){var b=JSON.parse(L);kc.An(b);b.classID="Lefx";delete b.masterFXSwitch;var Z=new aA(v.E._M);
Z.ke=!0;Z.data={Sm:"set",Wv:!0};var I=bf.rX("Lyr",!0);I.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
Z.data.M1={__name:"Set",classID:"setd",null:I,T:{t:"Objc",v:b}};R.c(Z)}}else if(x.d=="st_copy"){this.s1=[this.kI,this.o5];
this.kI=null;this.o5=null}else if(x.d=="st_paste"||x.d=="st_clear"){if(x.d=="st_paste"&&this.s1==null)return;
var y=x.a!=null?[x.a]:T.g.slice(0),r=[],h=[],k=[],K=[];for(var z=0;z<y.length;z++){var U=T.R[y[z]],H=D.we.xG(T,U);
r.push(U.add.lmfx?JSON.stringify(U.add.lmfx):null);k.push(JSON.stringify(H));if(x.d=="st_paste"){h.push(this.s1[1]);
K.push(this.s1[0])}else{h.push(null);H.lrMd.v=0;H.Opct.v.val=100;H.iOpa.v.val=100;H.blIf={v:[]};for(var p=0;
p<10;p++)H.blIf.v.push(0,0,255,255);K.push(JSON.stringify(H))}}var Q=new ka([11,6],this);Q.data={R:y,n2:r,hg:h,Zl:k,BW:K};
this.cU(Q.data,T);T.XY(Q);this.kI=null;this.o5=null}else{var f=this.pt,b=null;if(x.d=="st_delsingle"){b=JSON.parse(this.o5);
b[fJ.YZ[x._8[0]]].v.splice(x._8[1],1);b=JSON.stringify(b)}if(b==null)delete U.add.lmfx;else U.add.lmfx=JSON.parse(b);
if(f!=null)D.we.xH(T,U,f);var Q=new ka([11,6],this);Q.data={R:[x.a],n2:[this.o5],hg:[b],Zl:[this.kI],BW:[JSON.stringify(f)]};
T.XY(Q);this.kI=null;this.o5=null}U.um.Ps=!0;T.kn=!0;T.W()};D.we.xG=function(x,R){if(R.add.iOpa==null)R.add.iOpa=255;
if(R.add.brst==null)R.add.brst=[1,1,1];var T=R.NW()?["pass"].concat(c_.h$):c_.h$;return{lrMd:{v:T.indexOf(R.mh)},Opct:{v:{type:"#Prc",val:Math.round(R.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(R.add.iOpa*100/255)},t:"UntF"},blIf:{v:R.l1.slice(0)},brst:{v:R.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:x.er()}},as1:x.Oo(),NW:R.NW()}};
D.we.xH=function(x,R,T){var c=R.NW()?["pass"].concat(c_.h$):c_.h$;R.mh=c[T.lrMd.v];R.opacity=Math.round(T.Opct.v.val*255/100);
R.add.iOpa=Math.round(T.iOpa.v.val*255/100);R.l1=T.blIf.v.slice(0);R.add.brst=T.brst.v.slice(0);x.Um(T.gagl.v.val);
x.Hq(T.as1)};D.we.prototype.cA=function(x,R){for(var z=0;z<x.R.length;z++){var T=R.R[x.R[z]],c=x.n2[z];
if(c==null)delete T.add.lmfx;else T.add.lmfx=JSON.parse(c);D.we.xH(R,T,JSON.parse(x.Zl[z]));T.um.Ps=!0}R.kn=!0;
R.W()};D.we.prototype.cU=function(x,R){for(var z=0;z<x.R.length;z++){var T=R.R[x.R[z]],c=x.hg[z];if(c==null)delete T.add.lmfx;
else T.add.lmfx=JSON.parse(c);D.we.xH(R,T,JSON.parse(x.BW[z]));T.um.Ps=!0}R.kn=!0;R.W()};D.E1=function(){D.Gj.call(this,"Layer Comps",D.X4)};
D.E1.prototype=new D.Gj;D.E1.prototype.gb=function(x,R,T,c){var g=JSON.parse(JSON.stringify(T.bE)),d=JSON.parse(JSON.stringify(T.bE)),U=null,e=null,N=null,l=-1,J=!1;
if(x.d=="delLC"){var w=D.E1.sk(T.bE,x.iY),s=T.bE.lastAppliedComp?T.bE.lastAppliedComp.v:0;d.list.v.splice(w,1);
if(s==x.iY)delete d.lastAppliedComp;U="Delete Layer Comp"}if(x.d=="editLC"){var w=D.E1.sk(T.bE,x.iY),o=d.list.v[w].v;
if(x.aW!=null)o.Nm.v=x.aW;if(x.a64!=null){var V=x.a64,a=o.capturedInfo.v,O=a&(1<<V)-1;a=a>>V;if((a&1)==1)a--;
else a++;o.capturedInfo.v=(a<<V)+O}U="Layer Comp properties"}if(x.d=="setLC"){D.E1.kM(T);if(x.iY==0)delete d.lastAppliedComp;
else d.lastAppliedComp={t:"long",v:x.iY};U="Switch Layer Comp";J=!0}if(x.d=="updLC"){D.E1.kM(T);e=D.E1.a3K(T,x.iY);
N=D.E1.aq(T,x.iY);d.lastAppliedComp={t:"long",v:x.iY};U="Update Layer Comp";l=x.iY;J=!0}if(x.d=="addLC"){D.E1.kM(T);
var S=1;for(var z=0;z<d.list.v.length;z++)S=Math.max(S,d.list.v[z].v.compID.v)+1;S+=Math.floor(Math.random()*1e4);
var L={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(d.list.v.length+1)},compID:{t:"long",v:S},capturedInfo:{t:"long",v:7}}};
d.list.v.push(L);d.lastAppliedComp={t:"long",v:S};U="New Layer Comp";var Q=D.E1.aq(T,S);D.E1.ws(T,Q,S)}var b=new ka(U,this);
b.data={a2I:g,asG:d,a9I:e,a4O:N,iY:l,Hm:J};this.cU(b.data,T);T.XY(b)};D.E1.prototype.cU=function(x,R){R.bE=x.asG;
R.kn=!0;if(x.a4O)D.E1.ws(R,x.a4O,x.iY);if(x.Hm){var T=R.bE.lastAppliedComp?R.bE.lastAppliedComp.v:0,c=D.E1.sk(R.bE,T),g=c==-1?null:R.bE.list.v[c].v,d=g?g.capturedInfo.v:7;
D.E1.i5(R,T,d);R.W()}};D.E1.prototype.cA=function(x,R){R.bE=x.a2I;R.kn=!0;if(x.a9I)D.E1.ws(R,x.a9I,x.iY);
if(x.Hm){var T=R.bE.lastAppliedComp?R.bE.lastAppliedComp.v:0,c=D.E1.sk(R.bE,T),g=c==-1?null:R.bE.list.v[c].v,d=g?g.capturedInfo.v:7;
D.E1.i5(R,T,d);R.W()}};D.E1.kM=function(x){if(x.bE.lastAppliedComp!=null||!x.Tp)return;var R=D.E1.aq(x,0);
D.E1.ws(x,R,0);x.Tp=!1};D.E1.YM=function(x,R,T){x.v.Hrzn.v+=R;x.v.Vrtc.v+=T};D.E1.sk=function(x,R){var T=x.list.v;
for(var z=0;z<T.length;z++)if(T[z].v.compID.v==R)return z;return-1};D.E1.aCx=function(x){var R=x.layerSettings.v,g=null;
if(R.length==0)return;var T="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),c=R[0].v;
if(c.enab==null)c.enab={t:"bool",v:!0};if(c.Ofst==null)c.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var z=0;z<R.length;z++){var d=R[z].v;if(g==null)g=JSON.parse(JSON.stringify(d));else for(var U=0;
U<T.length;U++){var e=T[U];if(d[e])g[e]=JSON.parse(JSON.stringify(d[e]))}R[z].v=JSON.parse(JSON.stringify(g))}};
D.E1.afX=function(x,R){var T=x.add.shmd.cmls,c=T.layerSettings.v;for(var g=0;g<c.length;g++){var d=c[g].v,U=d.compList.v[0].v;
if(U==R)return g}return-1};D.E1.ac6=function(x,R){var T=D.E1.afX(x,R);return T==-1?null:x.add.shmd.cmls.layerSettings.v[T].v};
D.E1.i5=function(x,R,T){for(var z=0;z<x.R.length;z++){var c=x.R[z],g=c.add.shmd.cmls;if(g==null)continue;
var d=g.layerSettings.v,U=D.E1.ac6(c,R);if(U==null){c.oE(!1);continue}if((T&1)!=0){if(U.enab)c.oE(U.enab.v);
else c.oE(!0)}if((T&2)!=0){if(U.Ofst){var e=U.Ofst.v,N=c.SW(x),l=Math.round(e.Hrzn.v-N.x),J=Math.round(e.Vrtc.v-N.y);
if(l!=0||J!=0)D.K$.LY(x,[z],null,l,J)}}if((T&4)!=0){if(U.Lefx){var w=JSON.parse(JSON.stringify(U.Lefx.v));
kc.I$(w);if(JSON.stringify(w)!=JSON.stringify(c.add.lmfx)){c.add.lmfx=w;c.um.Ps=!0}}else delete c.add.lmfx;
if(U.blendOptions){var s=U.blendOptions.v;if(s.Opct)c.opacity=Math.round(255*s.Opct.v.val/100);if(s.fillOpacity)c.add.iOpa=Math.round(255*s.fillOpacity.v.val/100);
if(s.Md)c.mh=c.add.lsct==ew.SO?"norm":c_.I3(s.Md.v.BlnM)}else{c.opacity=255;c.mh=c.NW()?"pass":"norm";
c.add.iOpa=255}}}};D.E1.a3K=function(x,R){var T={};for(var z=0;z<x.R.length;z++){var c=x.R[z];if(c.add.shmd==null||c.add.shmd.cmls==null)continue;
T["l"+c.add.lyid]=JSON.parse(JSON.stringify(D.E1.ac6(c,R)))}return T};D.E1.aq=function(x,R){var T={};
for(var z=0;z<x.R.length;z++){var c=x.R[z],g=c.add.lyid;T["l"+g]=D.E1.a7f(x,c,R)}return T};D.E1.a7f=function(x,R,T){var c=R.add.shmd?R.add.shmd.cmls:null,g={classID:"null"},d=R.SW(x),U={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:d.x},Vrtc:{t:"long",v:d.y}}};
g.compList={t:"VlLs",v:[{t:"long",v:T}]};g.enab={t:"bool",v:R.Pm()};g.Ofst=JSON.parse(JSON.stringify(U));
g.FXRefPoint=JSON.parse(JSON.stringify(c&&c.origFXRefPoint?c.origFXRefPoint:U));g.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:c_.GM(R.mh)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*R.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:R.add.iOpa!=null?100*R.add.iOpa/255:100}}}};
if(R.add.vmsk){g.vectorMask={t:"Objc",v:{classID:"null"}};g.vectorMask.v.Ofst=JSON.parse(JSON.stringify(U))}if(R.add.lmfx){g.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(R.add.lmfx))};
kc.An(g.Lefx.v)}return g};D.E1.aAw=function(x,R){var T=R.add.lyid;if(R.add.shmd==null)R.add.shmd={};
if(R.add.shmd.cmls==null){R.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:T},layerSettings:{t:"VlLs",v:[{t:"Objc",v:D.E1.a7f(x,R,0)}]}}}};
D.E1.ws=function(x,R,T){for(var z=0;z<x.R.length;z++){var c=x.R[z],g=c.add.lyid;D.E1.aAw(x,c);var d=c.add.shmd.cmls,U=d.layerSettings.v,e=R["l"+g];
if(e!=null)e={t:"Objc",v:JSON.parse(JSON.stringify(e))};var N=D.E1.afX(c,T);if(N==-1){if(e==null)continue;
else U.push(e)}else{if(e==null)U.splice(N,1);else U[N]=e}}};D.E1.pb=function(x,R){for(var z=0;z<x.R.length;
z++){var T=x.R[z],c=T.add.lyid;if(T.add.shmd==null||T.add.shmd.cmls==null)continue;var g=T.SW(x),d=Math.round(g.x),U=Math.round(g.y);
if(!R){d=-d;U=-U}var e=T.add.shmd.cmls,N=e.layerSettings.v;if(e.origFXRefPoint)D.E1.YM(e.origFXRefPoint,-d,-U);
for(var l=0;l<N.length;l++){var J=N[l].v;D.E1.YM(J.Ofst,d,U);var w=J.imageMask,s=J.vectorMask;if(w&&w.v.Ofst)D.E1.YM(w.v.Ofst,d,U);
if(s&&s.v.Ofst)D.E1.YM(s.v.Ofst,d,U)}}};D.MK=function(){D.Gj.call(this,"Adjust Edit",D.JG);this.Dl=null;
this.Hd=null};D.MK.prototype=new D.Gj;D.MK.dX=function(x,R,T,c){if(c)R/=4;var g=0,d=0,U=255,e=0,N=0,l=255;
while(d+x[g]<R){d+=x[g];g++}while(e+x[U]<R){e+=x[U];U--}if(c){g-=Math.round(x[g]/(T/32));U+=Math.round(x[U]/(T/32));
if(g<0)N=Math.round(-g*255/(U-g));if(U>255)l=255-Math.round((U-255)*255/(U-g))}return[Math.max(g,0),Math.min(U,255),N,l,100]};
D.MK.prototype.gb=function(x,R,T,c,g){var d=x.d;if(d=="auto"){var U=x.kq,e=D.MK.getData(T);for(var z=0;
z<e.length;z++){var N=e[z],l;if(U<3){}else{var J=gm.GI("hue2");fu.v3(J,0,[0,-100,0]);l=hD.V0("hue2",J)}hD.Yt(l,N.Ik,N.gl,N.v4)}D.MK.Ma(T,e);
D.MK.WF(T,e,U<3?[4,16,U]:[19,7,0],this);T.W()}if(d=="edit_layer")this.akA(x,R,T,c);if(d=="edit"||d=="confirm"||d=="cancel")this.RX(x,R,T,g,!0);
if(d=="start"){if(T.g.length==0)return;var w=T.R[T.g[0]];if(w.add.SoLd&&w.s4<=0&&T.nE.length==0){var s=new aA(v.E.v,!0);
s.f=D.zW;s.data={d:"start",dq:x.m$,hu:x.hu};R.c(s);return}if(!T.aP(R,null,!0))return;if(gE[x.m$]&&x.hu==null){if(T.g.length!=1)alert("Will be applied to "+T.g.length+" layers.");
var s=new aA(v.E.P,!0);s.data={d:v.H.i$,$k:"afw_"+x.m$};R.c(s)}else{this.RX({d:"edit",hu:x.hu,dq:x.m$},R,T,g);
this.RX({d:"confirm",dq:x.m$},R,T,g)}}};D.MK.prototype.akA=function(x,R,T,c){var g=x.d,d=T.g[0],U=T.R[d],e=hD.get(U.add),s;
if(U.add[e]==null)return;var N=JSON.parse(JSON.stringify(U.add[e]));for(var l in x.b)N[l]=x.b[l];var J=JSON.parse(JSON.stringify(N));
for(var l in hD.Zf)if(hD.Zf[l]==e)J.classID=l;var w=T.history[T.md];if(w&&w.f==this&&w.data.Ey!=null&&w.data.a==d)s=w;
else{var o=new aA(v.E._M,!0),V={classID:"setd",null:bf.rX("AdjL",!0),T:{t:"Objc",v:J}};o.data={Wv:!0,Sm:"set",M1:V};
R.c(o);var s=new ka([6,39],this);s.data={a:d,Ey:U.add[e],SN:N,ex:V};T.XY(s)}s.data.SN=N;s.data.ex.T.v=J;
this.cU(s.data,T)};D.MK.getData=function(x,R,T){var c=[],g=new aP(0,0,x.m,x.e),d=x.nE.length!=0?[-1-x.nE[0]]:x.g;
for(var z=0;z<d.length;z++){var U=d[z],e=U<0?null:x.R[U],N={a:U,ii:U<0?1:e.s4};c.push(N);var l=x.Hp[-1-U];
if(0<=U)l=e.s4<=0?null:e.s4==1?e.le():e.Ct(x).F;var J=l?l.rect:e.rect;if(x.u){N.v4=x.u.rect.yx(R||l!=null?g:J)}else N.v4=R||l!=null?J.y8(g):J.clone();
if(T)N.v4=T[z].v4.clone();var w=N.v4.Z();N.Ik=u.B(w*4);if(l)D.AN.nS(l.channel,l.rect,l.color,N.Ik,N.v4);
else u.yU(e.buffer,J,N.Ik,N.v4);N.gl=N.Ik.slice(0);if(x.u){N.ot=u.B(w);u.gN(x.u.channel,x.u.rect,N.ot,N.v4)}}return c};
D.MK.ar9=function(x,R,T){if(R==null)return R;var c=hD.fe(x,R),d;if(c==-1)return R;var g=T.length>>>2,U=u.wu(T),e=.001*g;
if(c==0||c==2)d=[[0,255,0,255,100],D.MK.dX(U[1],e,g,c==2),D.MK.dX(U[2],e,g,c==2),D.MK.dX(U[3],e,g,c==2)];
if(c==1)d=[D.MK.dX(U[0],e*.33,g,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var N=gm.GI("levl");
for(var z=0;z<4;z++)b9.v3(N,z,d[z]);return N};D.MK.a8l=function(x,R,T,c){var g,d;if(T.t=="name"){var U=0;
for(var e=0;e<x.R.length;e++)if(x.R[e].getName()==T.v.val)U=e;if(x==R&&U==c.a){g=c.Ik;d=c.v4}else{var N=x.R[U];
g=N.buffer;d=N.rect}}else{d=new aP(0,0,x.m,x.e);g=x==R?c.fR:x.Yr()}return[g,d]};D.MK.prototype.RX=function(x,R,T,c){if(this.Dl==null){if(x.dq=="aply")T.R[T.g[0]].extend(new aP(0,0,T.m,T.e));
this.Dl=D.MK.getData(T,null,x.dq=="fade"?T.SH().data:null);if(x.dq=="aply"||x.dq=="matc")this.Dl[0].fR=T.Yr()}if(x.d=="edit"){this.Hd=[x.dq,x.hu];
var g=this.Dl[0],d=D.MK.ar9(x.dq,x.hu,g.Ik),U=hD.V0(x.dq,d);if(x.dq=="fade"||x.dq=="matc"||x.dq=="aply")U=x.hu;
if(U!=null){for(var e=0;e<this.Dl.length;e++){var N=this.Dl[e];if(x.Fk)u.kS(N.Ik,N.gl);else if(x.dq=="fade"){var l=c_.I3(x.hu.Md.v.BlnM),J=x.hu.Opct.v.val/100,w=T.SH().data[e];
u.kS(w.Ik,N.gl);if(l=="norm")u.l.pW(N.Ik,N.v4,N.gl,N.v4,null,null,null,N.v4,J);else{var s=e5.Jk();s.lg=!0;
for(var z=0;z<w.Ik.length;z+=4)if(w.Ik[z+3]!=N.Ik[z+3]){s=null;break}u.l.Hy(l,N.Ik,N.v4,N.gl,N.v4,N.v4,J,s)}}else if(x.dq=="matc"){var o;
if(U.noReference&&U.noReference.v)o=N.Ik;else{var V=U.Srce.v,a=V[1].v.val,O=R.JQ,S=T;for(var z=0;z<O.length;
z++)if(O[z].name==a)S=O[z];var L=D.MK.a8l(S,T,V[0],N);o=L[0]}jR(N.Ik,N.v4.m,N.v4.e,o,N.gl,[U.Lght.v,U.ClrR.v,U.Fade.v,U.neutralizeColor?U.neutralizeColor.v:!1])}else if(x.dq=="aply"){U=U.With.v;
var Q=U.T.v,L=D.MK.a8l(T,T,Q[1],N),o=L[0],b=L[1],Z=U.Clcl?U.Clcl.v.Clcn:null,l=Z?c_.I3(Z):"norm",J=U.Opct?U.Opct.v.val/100:1,I=["RGB","Rd","Grn","Bl","Trsp"].indexOf(Q[0].v.enum),d=U.Invr&&U.Invr.v;
if(d||I!=0){o=o.slice(0);if(d)u.a04(o);if(I!=0){var y=u.B(b.Z());u.TR(o,y,I-1);if(I==4)u.F0(y);for(var r=0;
r<3;r++)u.rN(y,o,r)}}if(Z=="Add"||Z=="Sbtr"){var h=1/U.Scl.v,k=U.Ofst.v,K=Z=="Add"?1:-1,H=new Uint8ClampedArray(N.gl.buffer);
for(var z=0;z<o.length;z+=4){H[z]=(N.Ik[z]+K*o[z])*h+k;H[z+1]=(N.Ik[z+1]+K*o[z+1])*h+k;H[z+2]=(N.Ik[z+2]+K*o[z+2])*h+k}}else{var s=e5.Jk();
s.lg=U.PrsT&&U.PrsT.v;N.gl.fill(0);N.gl.set(N.Ik);u.l.Hy(l,o,b,N.gl,N.v4,N.v4,J,s)}}else hD.Yt(U,N.Ik,N.gl,N.v4)}D.MK.Ma(T,this.Dl)}}if(x.d=="cancel"){D.MK.a5S(T,this.Dl);
this.Dl=null}if(x.d=="confirm"){var p={fade:[2,11],aply:[2,12],matc:[4,18]},f=p[x.dq];if(f==null)f=hD.names[x.dq];
var A=hD.fe(x.dq,this.Hd[1]);if(A!=-1)f=[4,16,A];D.MK.WF(T,this.Dl,f,this);this.Dl=null;if(A==-1)D.MK.Yu(R,this.Hd)}T.W()};
D.MK.Yu=function(x,R){var T=R[0],c=R[1],g,d;if(hD.wR[T]){g=hD.wR[T];if(gE[T])d=c}if(gm.wR[T]){g=gm.wR[T];
if(gE[T])d=c}if(T=="fade"){g="fade";d=c}if(T=="matc"){g="matchColor";d=c}if(T=="aply"){g="applyImageEvent";
d=c}if(g==null)return;var U=new aA(v.E._M,!0);U.data={Wv:!0,Sm:g};if(d){d=JSON.parse(JSON.stringify(d));
U.data.M1=d}x.c(U)};D.MK.a5S=function(x,R){D.MK.OT(x,R)};D.MK.WF=function(x,R,T,c){for(var z=0;z<R.length;
z++){var g=R[z],d=x.R[g.a],U=g.a<0?x.Hp[-1-g.a]:g.ii<=0?null:g.ii==1?d.le():d.Ct(x).F;if(U){U.mu();U.IP=!0;
if(d)d.sG(x)}else{d.mu();d.W()}delete g.gl;delete g.ot}var e=new ka(T,c);e.data=R;x.XY(e);x.kn=!0};D.MK.Ma=function(x,R,T){for(var z=0;
z<R.length;z++){var c=R[z],g=x.R[c.a],d=T?c.Ik:c.gl,U=c.v4;if(c.ii==0){g.extend(U);if(c.ot){u.yU(c.Ik,U,g.buffer,g.rect);
u.l.pW(d,U,g.buffer,g.rect,c.ot,U,0,U,1)}else u.yU(d,U,g.buffer,g.rect)}else{var e=c.a<0?x.Hp[-1-c.a]:c.ii==1?g.le():g.Ct(x).F;
e.extend(U);if(c.ot){var N=u.B(U.Z()*4);u.kS(c.Ik,N);u.l.pW(d,U,N,U,c.ot,U,0,U,1);D.AN.R1(N,U,e)}else D.AN.R1(d,U,e);
e.IP=!0;if(g)g.sG(x)}if(g)g.W()}if(!T)D.MK.ahd(x,R)};D.MK.OT=function(x,R){for(var z=0;z<R.length;z++){var T=R[z],c=x.R[T.a],g=T.v4,d=u.B(g.Z()*4);
if(T.ii==0){u.yU(c.buffer,c.rect,d,g);c.extend(g);u.yU(T.Ik,g,c.buffer,c.rect);c.mu()}else{var U=T.a<0?x.Hp[-1-T.a]:T.ii==1?c.le():c.Ct(x).F;
D.AN.nS(U.channel,U.rect,U.color,d,g);U.extend(g);D.AN.R1(T.Ik,g,U);U.mu();U.IP=!0;if(c)c.sG(x)}T.Ik=d;
if(c)c.W()}x.kn=!0};D.MK.Wo=function(x){var R=0;for(var z=0;z<x.length;z++)R+=x[z].Ik.length;return R};
D.MK.ahd=function(x,R){var T=D.MK.aBb(x),c=~T;if(T==16777215)return;for(var z=0;z<R.length;z++){var g=R[z],d=x.R[g.a],U=g.v4;
if(g.ii!=0)continue;d.extend(U);var e=U.x-d.rect.x,N=U.y-d.rect.y,l=d.rect.m,J=new Uint32Array(g.Ik.buffer),w=new Uint32Array(d.buffer.buffer);
for(var s=0;s<U.e;s++)for(var o=0;o<U.m;o++){var V=s*U.m+o,a=(s+N)*l+(o+e);w[a]=w[a]&T|J[V]&c}d.mu();
d.W()}x.W()};D.MK.aBb=function(x){var R=x.Q.U;return R[2]*16711680|R[1]*65280|R[0]*255};D.MK.prototype.cA=function(x,R){var T=R.R[x.a];
if(x.Ey!=null)T.add[hD.get(T.add)]=x.Ey;else D.MK.OT(R,x);R.W()};D.MK.prototype.cU=function(x,R){var T=R.R[x.a];
if(x.Ey!=null)T.add[hD.get(T.add)]=x.SN;else D.MK.OT(R,x);R.W()};D.MK.prototype.Wo=function(x){return x.Ey==null?D.MK.Wo(x):0};
D.W3=function(){D.Gj.call(this,"Filter Edit",D.zW);this.Dl=null;this.vC=null;this.d=null;this.Hd=null};
D.W3.prototype=new D.Gj;D.W3.prototype.gb=function(x,R,T,c,g){if(x.d=="start"){if(T.g.length==0)return;
var d=T.R[T.g[0]];if(d.add.SoLd&&d.s4<=0&&T.nE.length==0){}else if(!T.aP(R,null,!0))return;var U=x.dq;
if((gE[U]||gm.q[U])&&x.hu==null){if(T.g.length!=1)alert("Will be applied to "+T.g.length+" layers.");
var e=new aA(v.E.P,!0);e.data=D.W3.arN(U,this.C2(T,U));R.c(e)}else{var N={d:"edit",dq:U,hu:x.hu,wX:this.C2(T)};
this.gb(N,R,T,c,g);N.d="confirm";delete N.hu;this.gb(N,R,T,c,g)}}if(x.d=="edit"||x.d=="cancel"||x.d=="confirm"){if(x.d=="edit")this.Hd=[x.dq,x.hu];
if(x.wX)this.azn(x,R,T,g);else this.a3j(x,R,T,g)}if(x.d=="applylast"&&this.Hd!=null){var N={d:"edit",dq:this.Hd[0],hu:this.Hd[1],wX:this.C2(T)};
this.gb(N,R,T,c,g);N.d="confirm";delete N.hu;this.gb(N,R,T,c,g)}};D.W3.arN=function(x,R){var T=gm.q[x];
if(T)return{d:v.H.di,f:T,in:{wX:R}};else return{d:v.H.i$,$k:"afw_"+x,wX:R}};D.W3.prototype.C2=function(x,R){var T=x.R[x.g[0]],c;
if(T.add.SoLd&&T.s4<=0&&x.nE.length==0){c={a:x.g[0],index:0};if(T.add.SoLd.filterFX!=null){var g=T.add.SoLd.filterFX.v.filterFXList.v;
c.index=g.length;for(var z=0;z<g.length;z++)if(gm.Fz(g[z].v)==R&&gm.q[R])c.index=z}}return c};D.W3.prototype.azn=function(x,R,T,c){var g=T.R[x.wX.a],d=x.dq;
if(x.d=="edit"){if(this.d==null){var U=gm.names[d];if(U==null)U=hD.names[d];if(d=="blendOptions")U=[14,10];
this.d=new ka(U,this);this.d.data={wX:x.wX,atX:JSON.parse(JSON.stringify(g.add.SoLd))}}if(!g.Xn()){g.add.SoLd.filterFX=gm.Fc();
var e=this.d.data.BH=c9.a8Y(g.add.SoLd.placed.v);T.lY(e);if(T.u){e.F.channel=T.u.channel.slice(0);e.F.rect=T.u.rect.clone();
e.F.color=0;this.d.data.ua=T.u;T.u=null}g.Ht(T)}var N=g.add.SoLd.filterFX.v.filterFXList.v;if(N[x.wX.index]==null){N.push(gm.Xi(d,c))}if(x.hu){N[x.wX.index].v.enab.v=x.Fk!=!0;
if(d=="blendOptions")N[x.wX.index].v.blendOptions.v=x.hu;else N[x.wX.index].v.Fltr.v=x.hu}this.d.data.aaS=JSON.parse(JSON.stringify(g.add.SoLd));
this.cU(this.d.data,T)}if(x.d=="cancel"){if(this.d)this.cA(this.d.data,T);this.d=null}if(x.d=="confirm"){if(this.d)T.XY(this.d);
D.MK.Yu(R,this.Hd);this.d=null}};D.W3.prototype.Fa=function(x){return{o:x>>>16,A:x>>>8&255,J:x&255}};
D.W3.prototype.a3j=function(x,R,T,c){if(this.Dl==null){var g=gm.LB(x.dq,x.hu);this.Dl=D.MK.getData(T,g.x!=0||g.y!=0,x.dq=="VaPo"?[{v4:x.fR[1]}]:null)}if(x.d=="edit"){var d=JSON.stringify(x.hu);
if((x.hu==null||d!=this.vC)&&x.Fk!=!0)for(var z=0;z<this.Dl.length;z++){var U=this.Dl[z],e={rect:U.v4,buffer:U.Ik},N={rect:U.v4,buffer:U.gl};
if(x.dq=="Avrg"&&U.ot){e.buffer=U.Ik.slice(0);u.iv(U.ot,e.buffer)}gm.Yt(x.dq,e,x.hu,this.Fa(c.gR),this.Fa(c.tn),N,[T.add.lnk2?T.add.lnk2:[],T.R[T.g[0]].le(),T.Hp,T.JR()]);
if(x.dq=="VaPo"){u.yU(x.fR[0],x.fR[1],N.buffer,N.rect)}if(x.dq=="Avrg"&&U.ot){var l=U.Ik.length;for(var z=0;
z<l;z+=4)U.gl[z+3]=U.Ik[z+3]}this.vC=d}D.MK.Ma(T,this.Dl,x.Fk)}if(x.d=="cancel"){D.MK.a5S(T,this.Dl);
this.Dl=null;this.vC=null}if(x.d=="confirm"){if(x.dq=="VaPo"){this.Dl.aBR=JSON.stringify(T.KJ);this.Dl.sj=JSON.stringify(x.b);
T.KJ=x.b}D.MK.WF(T,this.Dl,gm.names[x.dq],this);this.Dl=null;this.vC=null;D.MK.Yu(R,this.Hd)}T.W();T.kn=!0};
D.W3.prototype.cA=function(x,R){if(x.sj)R.KJ=JSON.parse(x.aBR);if(x.wX){var T=R.R[x.wX.a];if(x.BH)R.z3(x.BH);
if(x.ua)R.u=x.ua;T.add.SoLd=JSON.parse(JSON.stringify(x.atX));if(T.Xn())T.lJ(R);else{T.Ht(R);T.s4=0}}else D.MK.OT(R,x);
R.W();R.kn=!0};D.W3.prototype.cU=function(x,R){if(x.sj)R.KJ=JSON.parse(x.sj);if(x.wX){var T=R.R[x.wX.a];
if(x.BH)R.lY(x.BH);if(x.ua)R.u=null;T.add.SoLd=JSON.parse(JSON.stringify(x.aaS));if(T.Xn())T.lJ(R);else T.Ht(R);
if(!T.eU())T.Yn+=32}else D.MK.OT(R,x);R.W();R.kn=!0};D.W3.prototype.Wo=function(x){return x.wX==null?D.MK.Wo(x):0};
var hc={cp:"0",fq:"1",p2:"2",fo:"3",xO:"3.5",dl:"4",n6:"5",my:"6",vm:"7",v:"8",ON:"8.5",R6:"8.8",Pv:"9",OH:"10",q3:"11",GD:"12",Jt:"13",nI:"14",ce:"15",V4:"16",VU:"17",Js:"21",yt:"22",nx:"23",WP:"23.0",MN:"23.1",d3:"23.2",$g:"23.3",IZ:"23.4",$v:"23.5",lp:"23.6",a0l:"30",Sy:"31",iC:"40",Pk:"41",Ii:"42"};
hc.tf={};hc.tf[hc.fq]=["abr","brushes",jP,[9,3],3];hc.tf[hc.p2]=["grd","gradients",cn,[12,37],4];hc.tf[hc.fo]=["shc","contours",jq,[12,21],0];
hc.tf[hc.xO]=["acv","curves",er,[4,2],0];hc.tf[hc.dl]=["asl","styles",gj,[12,22],5];hc.tf[hc.n6]=["pat","patterns",ef,[12,62],6];
hc.tf[hc.my]=["csh","shapes",bD,[12,77],7];hc.tf[hc.vm]=["aco","swatches",gr,[9,8],0];hc.tf[hc.v]=["atn","actions",f0,[9,9],2];
hc.tf[hc.ON]=["tpl","tpresets",aa,[9,12],0];hc.tf[hc.R6]=["icc","profiles",e3,"ICCs",8];function ka(x,R,T){if(T==null)T=!1;
this.name=x;this.f=R;this.Jy=T;this.data=null;this.ag_=Date.now()}ka.prototype.Wo=function(){return this.f?this.f.Wo(this.data):0};
var bf={};bf.rX=function(x,R){var T={t:"Clss",v:{classID:x}};if(R)T={t:"Enmr",v:{classID:x,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[T]}};bf.be=function(x,R){var T={classID:"Lyr"};T[x]=R;return{Sm:"set",M1:{classID:"null",null:bf.rX("Lyr",!0),T:{t:"Objc",v:T}}}};
bf.azm=function(x,R,T,c,g){var d=new aA(v.E._M,!0),U=[],z=0,e=bf.S6(R,T,c,U);while(U.length!=0){var N=U.pop();
z++;if(!N.r)continue;console.log(z-1);if(N.Sm=="conditional"){var l=x.R[x.g[0]],J=N.M1.null.v.Cndt,w=!1;
if(J=="Bckg")w=!1;else if(J=="Pxel"&&x.nD(!1))w=!0;else if(J=="Adjs"&&hD.get(l.add))w=!0;else if(J=="Shp"&&l.add.vogk)w=!0;
else if(J=="Grup"&&l.NW())w=!0;else if(J=="Opn"&&x!=null)w=!0;else if(J=="32Bt")w=!1;else if(J=="RGB")w=!0;
var s=N.M1.then,o=N.M1.else;if(w&&s)bf.S6(R,s.v[0].v.val,s.v[1].v.val,U);if(!w&&o)bf.S6(R,o.v[0].v.val,o.v[1].v.val,U)}else if(N.Sm=="stop"){if(N.M1.Cntn&&N.M1.Cntn.v==!0)window.confirm(N.M1.Msge.v);
else{alert(N.M1.Msge.v);break}}else if(N.Sm=="play"){var V=N.M1.null.v,a=new aA(v.E.P,!0);a.data={d:v.H.LP,v2:[V[0].v.val,V[1].v.val]};
g.c(a)}else{d.data={Sm:N.Sm,M1:N.M1};g.c(d)}}};bf.S6=function(x,R,T,c){var g;for(var z=0;z<x.length;
z++){if(x[z].hK!=T)continue;var d=x[z].dz;for(var U=0;U<d.length;U++){if(d[U].hK!=R)continue;g=d[U].dz}}var e=g.length;
for(var z=0;z<e;z++)c.push(g[e-1-z])};bf.a4X=function(x){var R=x.Sm,T=x.M1,c,U,e,N,l;if(T&&T.null)c=T.null.v[0];
if(T&&c==null&&T.At)c=T.At.v[0];if(c&&c.t=="obj ")c=c.v[0];var g=c&&c.v?c.v.classID:null,d=["purge"];
if(d.indexOf(R)!=-1)return R[0].toUpperCase()+R.slice(1);if(R=="GEfc"||R=="paintDaubs")return c2.names[T.GEfk.v.GEft][1];
l=hD.wR;for(U in l)if(l[U]==R)e=U;l=gm.wR;for(U in l)if(l[U]==R)N=U;if(e){var J=hD.fe(e,T);if(J!=-1)return[4,16,J];
return hD.names[e]}if(N)return gm.names[N];var w=bf.ade;if(R=="make"){if(c){if(g=="AdjL")return[6,1];
else if(g=="layerSection")return T.From?[6,9]:[6,20];else if(g=="Lyr")return[6,13];else if(g=="Chnl"&&c.v.enum=="Msk")return[6,2];
else if(g=="contentLayer")return[6,48,1];else if(g=="BckL")return"Make Background Layer";else if(g=="Path")return"Make Path";
else if(g=="TxLr")return"Make Text Layer";else if(g=="slice")return"Make Slices";else if(g=="Dcmn")return[11,7];
else if(g=="Gd")return[23,4]}if(T.Nw){g=T.Nw.v.classID;if(g=="Dcmn")return[11,7];else if(g=="Chnl"||g=="SCch")return"New Channel"}}else if(R=="deselect"){if(g=="Path")return"Deselect current path";
else throw g}else if(R=="draw"){return"Draw"}else if(R=="select"){if(g=="Chnl"){var s={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[c.v.enum];
if(s==null)s="";return"Select "+s+" Channel"}else if(g=="Mn")return"Select Panel \""+c.v.enum+"\"";else if(g=="Lyr"){if(c.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[c.v.enum]+" Layer";
return"Select Layer \""+c.v.val+"\""}else if(g=="Path")return"Select Path";else if(g=="Brsh")return"Select Brush";
else if(g=="Dcmn")return"Select Document"}else if(w[R]&&g=="Chnl"){var o=c.v.keyID=="fsel";return w[R]+" "+(o?"Selection":"Channel")}else if(R=="set"){if(g=="Lyr")return"Set Current Layer";
else if(g=="AdjL")return[6,39];else if(g=="contentLayer")return[6,48,2];else if(g=="Prpr"){var V=c.v.keyID;
if(V=="TxtS")return"Set Text Style";else if(V=="paragraphStyle")return"Set Paragraph Style";else if(V=="Lefx")return[11,6];
else console.log(V)}else if(g=="Clr")return"Set "+(c.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(g=="Brsh")return"Set Brush";else if(g=="Path")return"Set Work Path";else console.log(g)}else if(R=="move"){if(g=="Lyr")return"Move Layer";
else if(g=="Chnl"&&c.v.keyID=="fsel")return[7,7];else console.log(g)}else if(R=="show"||R=="hide"){var a="";
if(g=="Lyr")+"Layer";if(g=="Chnl")+"Channel";return(R=="show"?"Show":"Hide")+" "+a}else if(R=="reset"){if(g=="Clr")return"Reset Colors"}else if(R=="exchange"){if(g=="Clr")return[22,7,0]}else if(R=="rotateEventEnum")return[2,5];
else if(R=="flip"){var O=T.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,O?2:3]]}if(R=="duplicate"&&g=="Dcmn")return"Duplicate first document";
if(g=="Chnl"){if(R=="duplicate"){if(c.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(R=="delete")return"Delete Channel"}if(R=="transform")return c&&c.v.keyID=="fsel"?[7,10]:[10,16];
var S={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:T?g=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},L=S[R];
if(L==null)L=bf.alQ[R];if(L)return L;return R};bf.alQ={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
bf.ade={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
bf.aiy=function(x,R,T,c){var g=x.Sm,d=x.M1,U=!1,e=new aA(v.E.v,!0),J,w,o,V;e.f=D.d_;var N=new aA(v.E.P,!0),l=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(l.indexOf(g)!=-1)return;V=hD.wR;for(J in V)if(V[J]==g)w=J;V=gm.wR;for(J in V)if(V[J]==g)o=J;if(g=="fade")w=g;
if(g=="matchColor")w="matc";if(g=="applyImageEvent")w="aply";if(w){e.f=D.JG;e.data={d:"start",m$:w,hu:d}}else if(o){e.f=D.zW;
e.data={d:"start",dq:o,hu:d}}else if(g=="GEfc"||g=="paintDaubs"){e.f=D.zW;e.data={d:"start",dq:"GEfc",hu:d}}else if(g=="imageSize"||g=="canvasSize"||g=="revealAll"||g=="trim"||g=="crop"){e.f=D.EA;
e.data={d:"fromAction",J9:x}}else if(g=="fill"||g=="stroke"||g=="delete"&&d==null){var a=null;if(c.g.length!=0)a=c.R[c.g[0]];
var O=u.m4(T.gR);if(a!=null&&g=="fill"&&a.add.TySh){var S="var c = new SolidColor();  c.rgb.red="+O.o+";  c.rgb.green="+O.A+";  c.rgb.blue="+O.J+";  app.activeDocument.activeLayer.textItem.color = c;";
N.data={d:v.H.DQ,FC:S}}else if(a!=null&&g=="delete"&&a.add.TySh){e.f=D.kY;e.data={d:"insertText",b:""}}else if(a!=null&&g=="fill"&&a.bT()){var e=new aA(v.E._M,!0),d={classID:"setd",null:bf.rX("contentLayer",!0),T:{t:"Objc",v:{}}};
D.ys.GW({Clr:{t:"Objc",v:u.I.SE(u.m4(T.gR))}},d.T.v,0);e.data={Sm:"set",M1:d};R.c(e);return}else{if(g=="stroke"&&d&&d.Usng)e.f=D.wR[d.Usng.v.classID];
else e.f=T.lf==D.Oz?D.Oz:D.fq;e.data={d:"fromAction",J9:x}}}else if(g=="colorRange"||g=="grow"||g=="similar"){e.f=D.Ig;
e.data={d:"fromAction",J9:x}}else if(g=="set"&&d&&d.T&&d.T.v.Ordn=="Al"&&T.lf==D.kY&&R.NV().Vd()){e.f=D.kY;
e.data={d:"selectAll"}}else if(bf.alQ[g]||bf.ade[g]&&(!1||d.With&&d.With.v[0].v.keyID=="fsel"||d.From&&d.From.v[0].v.keyID=="fsel"||d.null&&d.null.v[0].v.keyID=="fsel"||d.T.v[0]&&d.T.v[0].v.keyID=="fsel")){e.f=D.a$;
e.data={d:"fromAction",J9:x}}var L={copyToLayer:F.VZ,cutToLayer:F.KS,mergeLayersNew:F.$C,rasterizeLayer:F.Qm,mergeVisible:F.an,flattenImage:F.aAb,newPlacedLayer:F.ET};
if(L[g])e.data={d:L[g],M1:d};if(e.data){R.c(e);return}if(g=="collapseAllGroupsEvent"){for(var z=0;z<c.R.length;
z++){var a=c.R[z];if(a.NW())a.add.lsct=ew.qW}c.Sg=!0;return}if(g=="desaturate"){e.f=D.JG;e.data={d:"auto",kq:3};
if(c&&c.R[c.g[0]].add.SoLd==null)R.c(e);return}if(g=="close"){if(d&&d.Svng.v.YsN=="Ys"){N.data={d:v.H._S};
R.c(N)}N.data={d:v.H.Ql,tE:c};R.c(N);return}if(g=="save"){N.data={d:v.H._S};R.c(N);return}if(g=="copyMerged"){N.data={d:v.H.Vx,zS:!0,V5:!0};
R.c(N);return}if(g=="placedLayerReplaceContents")N.data={d:v.H.au,Sz:!0};var L={placedLayerEditContents:v.H.apN,placedLayerExportContents:v.H.ahn,copyEvent:v.H.Vx,paste:v.H.LK};
if(L[g])N.data={d:L[g],V5:!0};if(N.data){R.c(N);return}var Q=d.null?d.null.v:null,b=Q?Q[0].v.classID:"";
if(g=="make"){if(d.null==null&&d.Nw)b=d.Nw.v.classID;if(b=="AdjL"){e.data={d:F.cP,M1:d}}else if(b=="layerSection"){e.data=d.From?{d:F.NA}:{d:F.oe};
if(d.Usng){var Z=d.Usng.v;if(Z.Nm)e.data.aW=Z.Nm.v;if(Z.Clr)e.data.l_=bf.jG(Z)}}else if(b=="Lyr"){if(d.Usng&&d.Usng.v.length==2)e.data={d:F.a4w};
else{e.data={d:F.uU};if(d.Usng)e.data.aW=d.Usng.v.Nm.v;if(d.below&&d.below.v)e.data.ak1=!0}}else if(b=="Chnl"&&d.At&&d.At.v[0].v.enum=="Msk"){e.data={d:F.Rk,or:d.Usng.v.UsrM}}else if(b=="Chnl"||b=="SCch"){e.data={d:F.Nq,J2:"fromAction",b:x}}else if(b=="contentLayer"){e.data={d:F.tl,M1:d}}else if(b=="BckL"){c.R[c.g[0]].afv();
return}else if(b=="Dcmn"){if(d.Nw==null)return;var I=d.Nw.v;N.data={d:v.H.EO,V1:c9.asx(I,T)}}else if(b=="Ptrn")N.data={d:v.H.Wt,vr:0};
else if(b=="Path"){e.f=D.OZ;e.data={d:"pathedit",J2:"fromsel"}}else if(b=="TxLr"){e.f=D.kY;e.data={d:"fromAction",J9:x}}else if(b=="slice"){e.f=D.T4;
e.data={d:"fromAction",J9:x}}else if(b=="Gd"){var y=[[],[]],I=d.Nw.v;y[I.Ornt.v.Ornt=="Vrtc"?0:1].push(I.Pstn.v.val);
var r=bB.SK(y);D.K$.yY(r,c.M3());e.f=D.BA;e.data={d:"gids",bI:r}}else{console.log(g,b,d);throw"e"}}else if(g=="divide"){e.f=D.T4;
e.data={d:"fromAction",J9:x}}else if(g=="deselect"){if(b=="Path"){c.pT=[];c.Kx=[];c.Sg=c.Sa=!0;return}else throw b}else if(g=="selectNoLayers"){c.g=[];
c.kn=!0}else if(g=="select"){var h=D.wR;if(b=="Lyr"){var k=d.selectionModifier,K=k?k.v.selectionModifierType:null,H=bf.Z9(c,Q[0]),p=0;
if(H==-1){alert("Layer "+Q[0].v.val+" does not exist.");return}var a=c.R[H];if(a.NW()&&a.le()&&k==null)p=1;
e.data={d:F.OF,a:H,$o:K?["addToSelection","addToSelectionContinuous"].indexOf(K):null,yO:p}}else if(b=="Path"){if(Q[0].v.keyID=="WrPt"){c.pT=[0];
c.Sg=c.Sa=!0;return}else throw Q[0]}else if(b=="Chnl"){var f=Q?Q[0].v.enum:"",A=["Rd","Grn","Bl"].indexOf(f);
if(A!=-1){var _=d.Extd&&d.Extd.v?c.Q.U.slice(0):[0,0,0];_[A]=1;e.f=D.jw;e.data={d:"setcls",U:_}}else e.data={d:F.OF,a:H,yO:f=="RGB"?0:1}}else if(b=="Dcmn"){if(R.JQ.length<2)return;
N.data={d:v.H.anu,dir:d.null.v[0].v.val}}else if(b=="Brsh"){var W=T.UK.list,Y;for(var z=0;z<W.length;
z++){if(W[z].v.Nm.v.split("/").pop()==Q[0].v.val)Y=W[z].v}if(T.lf==D.BA){N.data={d:v.H.di,f:D.fq};R.c(N)}N.data={d:v.H.pV,vr:hc.nI,n0:Y}}else if(b=="Mn"){if(Q[0].v.enum=="Scl")N.data={d:v.H.di,f:D.lU,in:{or:3}};
if(Q[0].v.enum=="Plce")N.data={d:v.H.au,alM:!0};if(Q[0].v.enum=="ZmIn"){e.f=D.p3;e.data={d:"zoom",S3:!0}}if(Q[0].v.enum=="ZmOt"){e.f=D.p3;
e.data={d:"zoom",S3:!1}}if(Q[0].v.enum=="FtOn"){e.f=D.p3;e.data={d:"adapt",b:"fitscr"}}}else if(h[b]){N.data={d:v.H.di,f:h[b]}}else throw b}else if(g=="draw"){e.f=D.OZ;
e.data={d:"fromAction",J9:x}}else if(g=="gradientClassEvent"){e.f=D.Zh;e.data={d:"fromAction",J9:x}}else if((g=="set"||g=="reset"||g=="exchange")&&b=="Clr"){N.data={d:v.H.pV,vr:hc.Js,J2:g=="reset"?3:2};
if(g=="set"){N.data.J2=Q[0].v.keyID=="FrgC"?0:1;var G=u.I.ir(d.T.v);N.data.b=G.o<<16|G.A<<8|G.J}}else if(g=="set"){if(b=="AdjL"){var i=d.T.v.classID;
i=hD.Zf[i];e.f=D.JG;if(i)e.data={d:"edit_layer",b:d.T.v}}else if(b=="Lyr"){var E=d.T.v,H=bf.Z9(c,Q[0]);
for(var $ in E){if($=="classID")continue;e.f=D.d_;if($=="Nm")e.data={d:F.MF,name:E.Nm.v};else if($=="Opct")e.data={d:F.sN,SN:Math.round(E.Opct.v.val*255/100)};
else if($=="fillOpacity")e.data={d:F.oH,SN:Math.round(E.fillOpacity.v.val*255/100)};else if($=="Md")e.data={d:F.B0,SN:c_.Dm.indexOf(E.Md.v.BlnM)+(c.R[H].NW()?1:0)};
else if($=="Usrs")e.data={d:F.lS,a:H};else if($=="Blnd"){e.f=D.Wi;e.data={d:"setstl",a:H,b:{blendOptions:{t:"objc",v:E}}};
R.c(e);e.data={d:"confirm",a:H}}else if($=="userMaskFeather"||$=="userMaskDensity"){var C=E.userMaskFeather,B=E.userMaskDensity,H=c.g[0],M=c.R[H].PG(0);
if(C)M.Ou=C.v.val;if(B)M.eL=B.v.val;e.data={d:F.gU,A9:H,ne:M}}else if($=="Clr"){var O=bf.jG(E);e.data={d:F.o2,avw:O}}else if($=="Lefx")bf.abQ(R,H,E.Lefx.v,T);
else{console.log(d);throw $}if(e.data){R.c(e);delete e.data}}e.data={};var a=c.R[H];a.aAE()}else if(b=="Prpr"){var E=JSON.parse(JSON.stringify(d.T.v)),H=bf.Z9(c,d.null.v[1]),a=c.R[H],j=Q[0].v.keyID;
if(j=="TxtS"||j=="paragraphStyle"){var P=a.add.TySh,t=JSON.parse(JSON.stringify(P.pM)),q=bL.rl(t),m=bL.ge(t,0,q.length-2);
if(j=="TxtS")bL.alE(E,m);else bL.axH(E,m);bL.T3(t,0,q.length-1,m);e.f=D.kY;e.data={d:"newED",Z_:H,mN:t}}else if(j=="Lefx"){for(var iE in E)if(E[iE].v){if(iE=="Scl")E[iE].v.val=100}bf.abQ(R,H,E,T);
e.data={}}else throw j}else if(b=="contentLayer"){var H=bf.Z9(c,Q[0]),E=d.T.v;if(E.classID=="shapeStyle")E=E.FlCn.v;
var hV={solidColorLayer:0,gradientLayer:1,patternLayer:2}[E.classID],dD=D.h3.qE(c,H),o=dD.KI==hV+1?dD.TB:fJ.dB[hV];
o=JSON.parse(JSON.stringify(o));D.ys.GW(E,o,hV);e.data={d:F.Ok,eb:[H],nn:!0,b:{KI:hV+1,TB:o}}}else if(b=="Brsh"){var Y=JSON.parse(JSON.stringify(T.UK.qa)),bh=d.T.v;
if(bh.masterDiameter)Y.Brsh.v.Dmtr.v.val=bh.masterDiameter.v.val;else console.log("unknown brush parameters");
N.data={d:v.H.pV,vr:hc.nI,n0:Y}}else if(b=="Path"){e.f=D.OZ;e.data={d:"fromAction",J9:x}}else{console.log(Q[0],d);
throw b}}else if(g=="move"){if(b=="Lyr"){var E=d.T.v;if(E.classID=="Ofst"){e.data={d:"trsl",iU:E.Hrzn.v.val,iG:E.Vrtc.v.val};
e.f=D.BA}else{var ho,aH;if(E[0].t=="Enmr"){if(E[0].v.enum=="Frnt")aH=0;else if(E[0].v.enum=="Nxt")aH=1;
else if(E[0].v.enum=="Prvs")aH=2;else if(E[0].v.enum=="Back")aH=3;else throw"e"}else ho=E[0].v.val;e.data={d:F.$O,target:ho,J2:aH,azj:d.Dplc?d.Dplc.v:!1}}}else if(b=="Chnl"&&Q[0].v.keyID=="fsel"){e.f=D.a$;
e.data={d:"fromAction",J9:x}}}else if(g=="groupEvent"||g=="ungroup")e.data={d:F.q8};else if(g=="show"||g=="hide"){var f2=Q[0].v;
for(var z=0;z<f2.length;z++){var e9=f2[z],b=e9.v.classID;if(b=="Lyr"){if(e.data==null)e.data={d:F.P1,eb:[]};
var H=bf.Z9(c,e9);if(H==-1)continue;var kB=c.R[H].Pm();if(g=="show"&&kB||g=="hide"&&!kB)continue;e.data.eb.push(H)}else if(b=="Chnl"){e.data={d:F.Nq,J2:"fromAction",b:x}}else if(b=="filterFX"){if(e9.v.val!=null)e.data={d:F.p4,index:e9.v.val-1};
e.data={d:F.Nh}}}}else if(g=="rotateEventEnum"){e.f=b=="Lyr"?D.lU:D.EA;var ct=d.Angl.v.val;e.data={d:"rot",hK:[2,5],b:-ct*Math.PI/180}}else if(g=="flip"){e.f=b=="Lyr"?D.lU:D.EA;
var jF=d.Axis.v.Ornt=="Hrzn",fj=jF?new cI(-1,1):new cI(1,-1);e.data={d:"scl",hK:[[2,6],[22,4,jF?2:3]],b:fj}}else if(g=="transform"){var iw=1,jD=1,a1=0,gd=0,i6=0,hv=0,hO=0,g$=null,bF=null;
if(d.Wdth)iw=d.Wdth.v.val/100;if(d.Hght)jD=d.Hght.v.val/100;if(d.Skew){var jh=d.Skew.v;a1=jh.Hrzn.v.val;
gd=jh.Vrtc.v.val}if(d.Ofst){var aJ=d.Ofst.v;hv=aJ.Hrzn.v.val;hO=aJ.Vrtc.v.val}if(d.Angl)i6=d.Angl.v.val;
var hS=new gP;hS.concat(new gP(iw,iw*Math.tan(gd*Math.PI/180),jD*Math.tan(a1*Math.PI/180),jD,0,0));hS.rotate(-i6*Math.PI/180);
hS.translate(hv,hO);var iO=u.D.bY(hS);if(d.Usng){var aJ=d.Usng.v;iO[6]=aJ.Hrzn.v.val/100;iO[7]=aJ.Vrtc.v.val/100}var hy=d.FTcs.v.QCSt;
if(hy=="Qcsi"){var fg=d.Pstn.v;g$=new cI(fg.Hrzn.v.val,fg.Vrtc.v.val)}else bF=D.gW.ak0[hy];var Q=d.null;
if(Q&&Q.v instanceof Array)Q=Q.v[0];var H=Q?bf.Z9(c,Q):null;if(H==-1)H=null;e.f=Q&&Q.v.keyID=="fsel"?D.wI:D.lU;
e.data={d:"dtr",tk:bF,b:iO,vy:d.warp,aaT:g$}}else if(g=="duplicate"){if(b=="Chnl")e.data={d:F.Nq,J2:"fromAction",b:x};
else if(b=="Dcmn"){var hL=dp.Ix("PSD").LA(c);hG.iq({url:c.name},hL,R);return}else e.data={d:F.S5,aW:d.Nm?d.Nm.v:null}}else if(g=="delete"){if(b=="filterFX"){if(Q[0].v.val!=null)e.data={d:F.ph,kQ:Q[0].v.val-1};
else e.data={d:F.B3}}else if(b=="Path"){e.f=D.OZ;e.data={d:"pathedit",J2:"del"}}else if(b=="Lyr")e.data={d:F.X2};
else if(b=="Chnl"&&Q[0].v.enum=="Msk")e.data={d:F.UQ};else if(b=="Chnl")e.data={d:F.Nq,J2:"fromAction",b:x};
else throw b}else if(g=="align"){if(d.Aply&&d.Aply.v.projection=="Auto"){e.f=D.EA;e.data={d:"auto-align"}}else{e.f=D.BA;
var dn=d.Usng.v.ADSt,w={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[dn];if(w==null)throw dn;e.data={d:"algn",b:w}}}else if(g=="applyLocking"){var c5=d.layerLocking.v,at;
if(c5.protectTransparency)at=[[c5.protectTransparency.v],[0]];else if(c5.protectNone)at=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(c5);throw"e"}e.data={d:F.FB,SN:at}}if(e.data)R.c(e);else if(N.data)R.c(N);else{console.log(x);
alert("Unknown action \""+g+"\"");throw"e"}};bf.abQ=function(x,R,T,c){T=JSON.parse(JSON.stringify(T));
kc.I$(T);if(T.masterFXSwitch==null)T.masterFXSwitch={t:"bool",v:!0};console.log(T);var g=fJ.YZ;for(var d=0;
d<g.length;d++)if(T[g[d]]){for(var z=0;z<T[g[d]].v.length;z++){var U=T[g[d]].v[z].v,e=U.TrnS;if(e==null)e=U.MpgS;
if(e&&e.v.Crv==null){var N=e.v,l=N.Nm.v.split("=").pop(),J=c.J7;for(var w=0;w<J.length;w++){var s=J[w].Nm.v.split("=").pop();
if(s==l)N.Crv=JSON.parse(JSON.stringify(J[w].Crv))}if(e.v.Crv==null){console.log(e);throw"e"}}}}var o=new aA(v.E.v,!0);
o.f=D.Wi;o.data={d:"setstl",a:R,b:{Lefx:{t:"objc",v:T}}};x.c(o);o.data={d:"confirm",a:R};x.c(o)};bf.jG=function(x){var R={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[x.Clr.v.Clr];
if(R==null)throw x.Clr.v.Clr;return R};bf.Z9=function(x,R){var T=1e6,c=0,g=x.R.length;for(var z=0;z<x.g.length;
z++){T=Math.min(T,x.g[z]);c=Math.max(c,x.g[z])}var d=R.t,U=-1;if(d=="name"){var e=R.v.val,U=-1;for(var z=0;
z<g;z++)if(x.R[z].getName()==e){U=z;break}}else if(d=="Enmr"){if(x.g.length!=0)U=x.g[0];if(R.v.enum=="Frwr")U=c+1;
if(R.v.enum=="Bckw")U=T-1;if(R.v.enum=="Back")U=0;if(R.v.enum=="Frnt")U=g-1;U=(U+g)%g}else if(d=="prop"){if(R.v.keyID=="Bckg")U=0}else if(d=="indx")U=R.v.val-1;
return U};var hD={};hD.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
hD.aAi=["expA","clrL","selc"];hD.KX=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];hD.a31=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
hD.Q7=[[13,1,1],[13,1,4],[13,1,5]];hD.FP={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
hD.Zf=function(){var x=JSON.parse(JSON.stringify(hD.FP));delete x.GrMp;x.GdMp="grdm";return x}();hD.wR={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
hD.keys={levl:[fZ.Gc,fZ.h8],curv:[fZ.Gc,fZ.l2],hue2:[fZ.Gc,fZ.Vi],nvrt:[fZ.Gc,fZ.Nk],blnc:[fZ.Gc,fZ.C9]};
hD.apy=function(x){var R=gm.GI("mixr");R.Mnch={t:"bool",v:x.l$};function T(c,z){var g={classID:"ChMx"},d={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var U in d)g[U]={t:"UntF",v:{type:"#Prc",val:c[z+d[U]]}};return{t:"Objc",v:g}}if(x.l$)R.Gry=T(x.b,0);
else{R.Rd=T(x.b,0);R.Grn=T(x.b,5);R.Bl=T(x.b,10)}return R};hD.BR=function(x){function R(c,g,z){var d={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var U in d)if(c[U])g[z+d[U]]=c[U].v.val}var T={l$:!1,b:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(x.Mnch&&x.Mnch.v)T.l$=!0;if(T.l$)R(x.Gry.v,T.b,0);else{R(x.Rd.v,T.b,0);R(x.Grn.v,T.b,5);R(x.Bl.v,T.b,10)}return T};
hD.get=function(x){for(var R in hD.names)if(x[R]!=null)return R;return null};hD.V0=function(x,R){var T=hD.u$,c;
if(x=="brit"){var g=R.Brgh?R.Brgh.v:0,d=R.Cntr?R.Cntr.v:0,U=R.useLegacy?R.useLegacy.v:!1;if(U){var e=g/255,N=1+d/100;
if(N>1)N=1+Math.tan(Math.PI/2*d/101);var l=(1-N)/2,J=u.Id.kF(e,e,e),w=[N,0,0,l,0,N,0,l,0,0,N,l,0,0,0,1],s=u.Id.multiply(w,J),o=new u.IV(256);
for(var z=0;z<256;z++)o.o[z]=z;u.Id.transform(o,o,s);c={type:T.sF,Ip:o.o,Ea:o.o,wN:o.o,$Y:!1,QS:!1}}else{var V=1024,a=-30+60*(d+100)/200,O=[];
for(var z=0;z<4;z++)O.push(u.a1.eB(z/3*255,z/3*255,!0));O[1].v.Hrzn.v=64;O[1].v.Vrtc.v=64-a;O[2].v.Hrzn.v=128+64;
O[2].v.Vrtc.v=128+64+a;O.sort(function(aX,hz){return aX.v.Hrzn.v-hz.v.Hrzn.v});var S=u.a1.A0(O,V);function L(aX,V){var O=[],cg=3;
for(var z=0;z<cg+1;z++)O.push(u.a1.eB(z/cg*255,z/cg*255,!0));O[1].v.Hrzn.v=130-aX*26;O[1].v.Vrtc.v=130+aX*51;
O[2].v.Hrzn.v=233-aX*48;O[2].v.Vrtc.v=233+aX*10;return u.a1.A0(O,V)}var Q=L(Math.abs(g)/100,V);if(g<0){var b=[],Z=1/V;
for(var z=0;z<V;z++){var I=z*Z,y=z;while(Q[y]>I&&y>1)y--;b[z]=y*Z}Q=b}var r=new Uint8Array(V);for(var z=0;
z<V;z++){var h=Math.round((V-1)*Q[z]);r[z]=Math.round(255*S[h])}c={type:T.sF,Ip:r,Ea:r,wN:r,$Y:!1,QS:!1}}}if(x=="levl"){var k=[],K,H,J,p,f,A;
for(var z=0;z<4;z++)k.push(b9.Eh(R,z));K=-k[0][0]/255;H=1/(k[0][1]/255-k[0][0]/255);J=u.Id.multiply(u.Id.LD(H,H,H),u.Id.kF(K,K,K));
p=u.Id.LD(1/(k[1][1]/255-k[1][0]/255),1/(k[2][1]/255-k[2][0]/255),1/(k[3][1]/255-k[3][0]/255));f=u.Id.kF(-k[1][0]/255,-k[2][0]/255,-k[3][0]/255);
A=u.Id.multiply(p,f);var r=new u.IV(256);for(var z=0;z<256;z++)r.o[z]=r.A[z]=r.J[z]=z;var _=1/(k[0][4]/100),W=1/(k[1][4]/100),Y=1/(k[2][4]/100),G=1/(k[3][4]/100);
u.Id.transform(r,r,A);for(var z=0;z<256;z++){r.o[z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(r.o[z]/255,W))));
r.A[z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(r.A[z]/255,Y))));r.J[z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(r.J[z]/255,G))))}u.Id.transform(r,r,J);
for(var z=0;z<256;z++){r.o[z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(r.o[z]/255,_))));r.A[z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(r.A[z]/255,_))));
r.J[z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(r.J[z]/255,_))))}K=k[0][2]/255;H=k[0][3]/255-k[0][2]/255;
J=u.Id.multiply(u.Id.kF(K,K,K),u.Id.LD(H,H,H));p=u.Id.LD(k[1][3]/255-k[1][2]/255,k[2][3]/255-k[2][2]/255,k[3][3]/255-k[3][2]/255);
f=u.Id.kF(k[1][2]/255,k[2][2]/255,k[3][2]/255);A=u.Id.multiply(f,p);u.Id.transform(r,r,u.Id.multiply(J,A));
c={type:T.sF,Ip:r.o,Ea:r.A,wN:r.J,$Y:!1,QS:!1}}if(x=="curv"){var i=er.Eh(R,0).length==256?1:0,E=[];if(i==0){var $=u.a1.Ez(er.Eh(R,0),256);
for(var z=1;z<4;z++){var C=u.a1.Ez(er.Eh(R,z),256);E.push(u.a1.ako(C,$))}}else{var B=[];for(var z=0;
z<4;z++){var M=new Uint8Array(256);B.push(M);var j=er.Eh(R,z);for(var y=0;y<256;y++)M[y]=j[y]}for(var z=1;
z<4;z++)E.push(u.a1.ako(B[z],B[0]))}c={type:T.sF,Ip:E[0],Ea:E[1],wN:E[2],$Y:!1,QS:!1}}if(x=="expA"){var P=R.Exps,t=R.Ofst,q=R.gammaCorrection,m=P?P.v:0,iE=t?t.v:0,hV=q?q.v:1,r=new Uint8Array(256);
for(var z=0;z<256;z++){var R=z/255,dD=Math.pow(Math.abs(iE),1/(Math.PI/2));if(iE>0){R=Math.max(iE/Math.E,R);
R=R*Math.exp(iE/1.75+m/Math.PI);R=(1-dD)*R+dD*1}else{R=R*Math.exp(-iE*1.75+m/Math.PI);R=R+-dD*1.14}R=Math.pow(R,1/hV);
R=Math.max(0,Math.min(1,R));r[z]=Math.round(R*255)}c={type:T.sF,Ip:r,Ea:r,wN:r,$Y:!1,QS:!1}}if(x=="vibA"){var bh=(R.vibrance?R.vibrance.v:0)/100,ho=(R.Strt?R.Strt.v:0)/100,dD=1+bh*(bh>0?.25:.5),aH=.8+.2/dD;
c={type:T.Oh,vr:[bh,ho,aH,dD]}}if(x=="hue2"){var f2=[],e9=[],kB=[],ct=R.Clrz?R.Clrz.v:!1;for(var z=0;
z<256;z++){f2[z]=z/255;e9[z]=0;kB[z]=0}var jF=fu.Eh(R,0),fj=hD.zN(jF[1]/100);if(ct){var ab=jF[0]/360;
for(var z=0;z<256;z++){f2[z]=ab;e9[z]=fj}}else{for(var z=0;z<256;z++){var iw=f2[z],jD=e9[z];f2[z]+=jF[0]/360;
for(var y=0;y<6;y++){var a1=fu.Eh(R,y+1),gd=a1.lV,i6=a1.wb,dD=0;for(var hv=1;hv<4;hv++)if(i6[hv]<i6[0])i6[hv]+=360;
var hO=i6[0],jh=i6[1],aJ=i6[2],hS=i6[3],iO=iw*360;if(iO<i6[0])iO+=360;var g$=(iO-hO)/(jh-hO),bF=(iO-aJ)/(hS-aJ);
if(g$<0)dD=0;else if(g$<1)dD=g$;else if(bF<0)dD=1;else if(bF<1)dD=1-bF;else dD=0;var N=hD.zN(gd[1]/100);
f2[z]+=dD*gd[0]/360;e9[z]+=dD*N;kB[z]+=dD*gd[2]/100}}for(var z=0;z<256;z++){e9[z]=(1+e9[z])*(1+fj)-1;
kB[z]=Math.max(-1,Math.min(1,kB[z]))}}var hy=new Uint8Array(256),fg=new Uint8Array(256),hL=new Uint8Array(256);
for(var z=0;z<256;z++){var dn=f2[z],ho=e9[z],c5=kB[z];if(dn>1)dn--;if(dn<0)dn++;ho=hD.ane(ho);ho=(1+ho)*.5;
c5=(1+c5)*.5;hy[z]=Math.round(255*dn);fg[z]=Math.round(255*ho);hL[z]=Math.round(255*c5)}var at=jF[2]/100,gt=at<0?-at:at,iK=at<0?0:1;
c={type:T.qu,a9n:hy,Eg:fg,azJ:hL,a1p:gt*iK,C_:1-gt,ata:jF[2]/100,ase:ct?1:0}}if(x=="nvrt"){var r=new Uint8Array(256);
for(var z=0;z<256;z++)r[z]=255-z;c={type:T.sF,Ip:r,Ea:r,wN:r,$Y:!1,QS:!1}}if(x=="post"){var iz=R.Lvls.v,r=new Uint8Array(256),dD=iz/255.001,gI=255/(iz-1);
for(var z=0;z<256;z++)r[z]=Math.floor(z*dD)*gI;c={type:T.sF,Ip:r,Ea:r,wN:r,$Y:!1,QS:!1}}if(x=="grdm"){var ce=R.Grad.v,b7=R.Rvrs,V=1024,br;
if(ce.Clrs){var kg=u.I.eN(ce,0,0);br=u.I.aA5(ce,kg,V,b7?b7.v:!1)}else{br=u.I.avt(ce,V,b7?b7.v:!1)}var bM=u.B(V),eQ=u.B(V),eT=u.B(V);
u.TR(br,bM,0);u.TR(br,eQ,1);u.TR(br,eT,2);c={type:T.sF,Ip:bM,Ea:eQ,wN:eT,$Y:!0,QS:!1}}if(x=="selc"){var b6=new Float32Array(9*3*2),hx=R.Jo,io=R.Mthd?R.Mthd.v.CrcM=="Absl":!1;
for(var y=0;y<9;y++){var jm=y*6,bq=ep.Eh(R,y),gO=bq[0]/100,ae=bq[1]/100,dl=bq[2]/100,eF=bq[3]/100;if(io){b6[jm]=b6[jm+1]=b6[jm+2]=1;
b6[jm+3]=gO*(1+eF)+eF;b6[jm+4]=ae*(1+eF)+eF;b6[jm+5]=dl*(1+eF)+eF}else{b6[jm+0]=(1+gO)*(1+eF);b6[jm+1]=(1+ae)*(1+eF);
b6[jm+2]=(1+dl)*(1+eF)}}c={type:T.KO,arM:b6}}if(x=="blwh"){var e6="Rd Yllw Grn Cyn Bl Mgnt".split(" "),c=[],h6=0,cU=0;
for(var z=0;z<6;z++)c.push(R[e6[z]].v);c.push(R.useTint.v,R.tintColor.v);var dJ=[];for(var z=0;z<6;z++)dJ.push((c[z]-50)/50);
var d2=u.I.ir(c[7]);d2.o/=255;d2.A/=255;d2.J/=255;var gQ=u.c3(d2.o,d2.A,d2.J),c5=u.rV(u.IK(gQ.kh,1,.5)),a6=gQ.Kt*gQ.hu;
if(c5==.5)h6=cU=.5;else{h6=a6*(.5-c5)/(.5/c5-1);cU=1-a6*(.5-c5)-1/(2*(1-c5));cU/=1-1/(2*(1-c5))}c={type:T.pY,al6:dJ,kg:c[6]?1:0,apu:gQ.kh,rV:c5,aAP:a6,Mf:h6,auT:cU}}if(x=="blnc"){var k=[],jv=["ShdL","MdtL","HghL"];
for(var z=0;z<3;z++){if(R[jv[z]]==null){k[z]=[0,0,0];continue}var iz=R[jv[z]].v,de=iz[0].v/100,jJ=iz[1].v/100,c4=iz[2].v/100,gn=R.PrsL==null||R.PrsL.v?(Math.min(de,jJ,c4)+Math.max(de,jJ,c4))/2:0;
k[z]=[de-gn,jJ-gn,c4-gn]}var E=[u.B(256),u.B(256),u.B(256)];for(var y=0;y<3;y++)for(var z=0;z<256;z++){var I=z*(1/255),eG=0,a=0,gN=0;
a=k[2][y];gN=Math.abs(a);if(a<0)eG=Math.pow(I,Math.SQRT2);else eG=1.63*(Math.pow(I+.04,.5)-.2);I=gN*eG+(1-gN)*I;
a=k[1][y];gN=Math.abs(a);if(a<0)eG=Math.pow(I,2);else eG=Math.min(2.35*(Math.pow(I+.09,.5)-.3),Math.pow(I,1/2));
I=gN*eG+(1-gN)*I;a=k[0][y];gN=Math.abs(a);if(a<0)eG=I<.4?0:Math.pow((I-.4)/.6,Math.SQRT2);else eG=Math.pow(I,Math.SQRT2/2);
I=gN*eG+(1-gN)*I;I=Math.max(0,Math.min(1,I));E[y][z]=Math.round(I*255)}c={type:T.sF,Ip:E[0],Ea:E[1],wN:E[2],$Y:!1,QS:!1}}if(x=="phfl"){var et=u.I.ir(R.Clr.v),bi=[et.o/255,et.A/255,et.J/255],bc=R.Dnst.v/100,E=[u.B(256),u.B(256),u.B(256)];
for(var y=0;y<3;y++)for(var z=0;z<256;z++){var I=z*(1/255),jM=I*bi[y];jM=Math.max(0,Math.min(1,jM));
I=bc*jM+(1-bc)*I;E[y][z]=Math.round(I*255)}c={type:T.sF,Ip:E[0],Ea:E[1],wN:E[2],$Y:!1,QS:R.PrsL.v}}if(x=="thrs"){var r=u.B(256);
for(var z=R.Lvl.v;z<256;z++)r[z]=255;c={type:T.sF,Ip:r,Ea:r,wN:r,$Y:!0,QS:!1}}if(x=="mixr"){var j9=hD.BR(R),s=[];
for(var z=0;z<j9.b.length;z++)if(z%5!=3)s.push(j9.b[z]/100);if(j9.l$){for(var aR=1;aR<3;aR++)for(var I=0;
I<4;I++)s[aR*4+I]=s[I]}c={type:T.HM,Zv:s}}if(x=="rplc"){var cc=R.Mnm.v,d1=R.Mxm.v;c={type:T.bU,ec:[cc.Lmnc.v,cc.A.v,cc.B.v],nL:[d1.Lmnc.v,d1.A.v,d1.B.v],shift:[R.H.v/360,R.Strt.v/100,R.Lght.v/100],e5:R.Fzns.v/150}}if(x=="clrL"&&R.profile){var ej=new Uint8Array(R.profile.v),cr=ICC.R(ej.buffer),dZ=[],dw=17,dZ=ICC.U.sampleLUT(cr,dw);
c={type:T.q4,Ik:ICC.U.lutToRGBA8(dZ,dw),a8x:dZ,BL:dw}}return c};hD.fe=function(x,R){var T=-1;if(x!="levl"||R==null)T=-1;
else if(R.Auto)T=0;else if(R.AuCo)T=1;else if(R.autoBlackWhite)T=2;return T};hD.u$={sF:0,qu:1,Oh:2,KO:3,pY:4,HM:5,bU:6,q4:7};
hD.zN=function(x){if(x<0)return x;return Math.pow(Math.tan(Math.PI/2*x),1.3)};hD.ane=function(x){if(x<0)return x;
x=Math.pow(x,1/1.3);return Math.atan2(x,1)/(Math.PI/2)};hD.Yt=function(x,R,T,c){var g=hD.u$,d=Date.now();
if(fq.tc&&c.Z()>300*300&&x.type!=g.sF&&x.type!=g.q4){c=c.clone();c.x=c.y=0;var U=fq.kN(0,c.m,c.e);U.set(R);
fq.WM(U,c);U.Gu(c);hD.c8(x,U.xU,c);U.get(T);return}if(x.type==g.q4){var e=x.a8x,N=x.BL;ICC.U.applyLUT(e,N,R,T);
var l=R.length;for(var z=0;z<l;z+=4)T[z+3]=R[z+3]}if(x.type==g.HM)u.Id.ap7(R,T,x.Zv);if(x.type==g.pY){var J=x.aAP,w=x.rV,s=x.Mf,o=x.auT,l=R.length;
for(var z=0;z<l;z+=4){var c=R[z]*(1/255),V=R[z+1]*(1/255),a=R[z+2]*(1/255),O=u.mr(c,V,a),S=0;for(var L=0;
L<6;L++)S+=Math.min(1,1.7*(1-O.tB))*O.Kt*x.al6[L]*hD.abw(O.kh,L*(1/6));var Q=Math.max(0,Math.min(1,O.tB*(1+S)));
if(x.kg==1){var b=0;if(Q<s)b=Q*(.5/w);else if(Q<o)b=Q+J*(.5-w);else b=1-(1-Q)*.5/(1-w);O.kh=x.apu;O.Kt=Math.min(1,J+3*J*Math.abs(Q-.5*(s+o)));
O.tB=b}else{O.kh=0;O.Kt=0;O.tB=Q}var Z=u.IK(O.kh,O.Kt,O.tB);T[z]=Math.round(Z.o*255);T[z+1]=Math.round(Z.A*255);
T[z+2]=Math.round(Z.J*255)}}if(x.type==g.KO){var I=x.arM,l=R.length,y=1/255;for(var z=0;z<l;z+=4){var c=R[z]*y,V=R[z+1]*y,a=R[z+2]*y,O=u.mr(c,V,a),r=Math.max(c,Math.max(V,a)),h=Math.min(c,Math.min(V,a)),k=1-c,K=1-V,H=1-a,p=0,f=0,A=0;
for(var L=0;L<9;L++){var _=L*6,i=0;if(I[_]==1&&I[_+1]==1&&I[_+2]==1&&I[_+3]==0&&I[_+4]==0&&I[_+5]==0)continue;
var W=k*I[_]+I[_+3],Y=K*I[_+1]+I[_+4],G=H*I[_+2]+I[_+5];if(L<6)i=hD.abw(O.kh,L*(1/6))*O.Kt*2*Math.min(O.tB,1-O.tB);
else if(L==6)i=Math.max(0,h-.5)*2;else if(L==7)i=1-(Math.abs(r-.5)+Math.abs(h-.5));else i=Math.max(0,.5-r)*2;
p+=(Math.max(0,Math.min(1,W))-k)*i;f+=(Math.max(0,Math.min(1,Y))-K)*i;A+=(Math.max(0,Math.min(1,G))-H)*i}k=Math.max(0,Math.min(1,k+p));
K=Math.max(0,Math.min(1,K+f));H=Math.max(0,Math.min(1,H+A));c=1-k;V=1-K;a=1-H;T[z]=Math.round(c*255);
T[z+1]=Math.round(V*255);T[z+2]=Math.round(a*255)}}if(x.type==g.sF){u.ao7(R,T,x.Ip,x.Ea,x.wN,x.$Y,x.QS)}if(x.type==g.qu){var E=new Uint32Array(R.buffer),$=new Uint32Array(T.buffer),l=E.length;
if(hD.rG==null){hD.rG=new Float64Array(256);for(var z=0;z<256;z++)hD.rG[z]=hD.zN(-1+2*z/255)}var C=hD.rG;
for(var z=0;z<l;z++){var B=E[z],c=(B&255)*(1/255),V=(B>>>8&255)*(1/255),a=(B>>>16&255)*(1/255),M=B>>>24,j=Math.min(c,V,a),P=Math.max(c,V,a),t=0,q=0,m=0;
t=u.mr(c,V,a).kh;var iE=~~(t*255+.5),hV=x.a9n[iE]*(1/255),dD=x.Eg[iE]*(1/255)*2-1,bh=x.azJ[iE]*(1/255)*2-1,S=-bh,ho=j;
if(0<bh){S=bh;ho=P}var aH=x.a1p+x.C_*S*ho,f2=x.C_*(1-S);c=aH+f2*c;V=aH+f2*V;a=aH+f2*a;P=Math.max(c,V,a);
j=Math.min(c,V,a);m=(P+j)*.5;if(P!=j){var e9=P-j;q=m>.5?e9/(2-(P+j)):e9/(P+j)}var kB=dD;if(x.ase==0){dD=C[Math.floor((1+dD)*127.5)];
kB=Math.min(q*(1+dD),1)}var Z=u.IK(hV,kB,m);c=Z.o;V=Z.A;a=Z.J;$[z]=M<<24|a*255<<16|V*255<<8|c*255}}if(x.type==g.bU){u.kS(R,T);
var E=new Uint32Array(R.buffer),$=new Uint32Array(T.buffer),l=E.length,ct=x.e5,jF=1/ct,fj={h8:x.ec[0],Y:x.ec[1],J:x.ec[2]},ab={h8:x.nL[0],Y:x.nL[1],J:x.nL[2]};
for(var z=0;z<l;z++){var B=E[z],iw=B&255,jD=B>>>8&255,a1=B>>>16&255,c=iw*(1/255),V=jD*(1/255),a=a1*(1/255),M=B>>>24,gd=u.jX(iw,jD,a1),i6=u.Ee(gd,fj,ab,ct,jF);
if(i6==0)continue;var O=u.mr(c,V,a),hV=2+O.kh+x.shift[0];O.kh=hV-~~hV;O.Kt=Math.max(0,Math.min(1,O.Kt+x.shift[1]));
O.tB=Math.max(0,Math.min(1,O.tB+x.shift[2]));var Z=u.IK(O.kh,O.Kt,O.tB);c=(1-i6)*c+i6*Z.o;V=(1-i6)*V+i6*Z.A;
a=(1-i6)*a+i6*Z.J;$[z]=M<<24|a*255<<16|V*255<<8|c*255}}if(x.type==g.Oh){var E=new Uint32Array(R.buffer),$=new Uint32Array(T.buffer),l=E.length,hv=x.vr[0],hO=x.vr[1],jh=x.vr[2],S=x.vr[3],aJ=u.Id.b8([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),hS=u.Id.F0(aJ),iO=2.4;
function N(hL){return Math.max(0,Math.min(1,hL))}function g$(hL){return Math.pow(hL,iO)}function bF(hL){return Math.pow(hL,1/iO)}function hy(c,V,a,hL){c=g$(c);
V=g$(V);a=g$(a);var dn=u.Id.yu(aJ,[c,V,a,1]);dn[0]*=jh;dn[1]*=S;dn[2]*=S;var Z=u.Id.yu(hS,dn);Z[0]=bF(N(Z[0]));
Z[1]=bF(N(Z[1]));Z[2]=bF(N(Z[2]));return Z}for(var z=0;z<l;z++){var B=E[z],c=(B&255)*(1/255),V=(B>>>8&255)*(1/255),a=(B>>>16&255)*(1/255),M=B>>>24,Z=hy(c,V,a,hv);
c=Z[0];V=Z[1];a=Z[2];var fg=u.mr(c,V,a);fg.Kt=Math.max(0,Math.min(1,fg.Kt*(1+hO)));Z=u.IK(fg.kh,fg.Kt,fg.tB);
c=Z.o;V=Z.A;a=Z.J;$[z]=M<<24|a*255<<16|V*255<<8|c*255}}};hD.c8=function(x,R,T){fq.m$.c8(x,R)};hD.abw=function(x,R){var T=u.Ya(R,x)*6;
return Math.max(0,Math.min(1,T<0?1+T:1-T))};var gm={};gm.Fz=function(x){var R=x.filterID.v;return R>16777215?n.adU(R):x.Fltr.v.classID};
gm.fX=[{TB:"GEfc"},{TB:"LnCr"},{TB:"Adobe Camera Raw Filter"},{TB:"LqFy"},{TB:"VaPo",NC:!0},{hB:"3D",kJ:["lightFilterGradient","Dila"]},{hB:[24,2],kJ:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{hB:[24,4],kJ:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{hB:[24,6],kJ:["AdNs","Dspc","DstS","Mdn ","denoise"]},{hB:[24,8],kJ:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{hB:[24,10],kJ:["Flam","Clds","DfrC","Fbrs","LnsF"]},{hB:[24,12],kJ:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{hB:[24,14],kJ:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{hB:[24,16],kJ:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{hB:"Fourier",kJ:["dDFT","iDFT"]}];
gm.wR={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
gm.th={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
gm.q={rigidTransform:D.NN};gm.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
gm.GI=function(x){var R=null;if(x=="GEfc")R={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:c2.GI("GlwE")}]}};
if(x=="LqFy"){var T={KQ:5,kh:5,map:new Float32Array(5*5*2)},c=new Uint8Array(cD.Li(T)),g=[];for(var z=0;
z<c.length;z++)g.push(c[z]);R={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:g}}}if(x=="rigidTransform"){R={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(x=="LnCr")R={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(x=="adaptCorrect")R={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(x=="Dfs ")R={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(x=="Fbrs")R={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(x=="Embs")R={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(x=="oilPaint")R={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(x=="TrcC")R={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(x=="Wnd ")R={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(x=="lightFilterGradient")R={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(x=="boxblur")R={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(x=="GsnB")R={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(x=="Bokh")R={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(x=="MtnB")R={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(x=="RdlB")R={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(x=="surfaceBlur")R={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(x=="denoise")R={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(x=="Dspl")R={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(x=="Pnch")R={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(x=="Plr ")R={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(x=="Rple")R={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(x=="Shr ")R={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(x=="Sphr")R={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(x=="Twrl")R={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(x=="Wave")R={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(x=="ZgZg")R={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(x=="AdNs")R={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(x=="DstS")R={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(x=="Mdn ")R={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(x=="ClrH")R={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(x=="Crst")R={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(x=="Mztn")R={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(x=="Msc ")R={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(x=="Pntl")R={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(x=="LnsF")R={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(x=="Dthr")R={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(x=="Part")R={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(x=="Adobe Camera Raw Filter")R={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(x=="smartSharpen")R={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(x=="UnsM")R={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(x=="HghP")R={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(x=="HsbP")R={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(x=="Mxm ")R={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(x=="Mnm ")R={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(x=="Ofst")R={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(x=="Kale")R={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(x=="Rept")R={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(x=="Flam")R={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(x=="Ctoa")R={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(x=="brit")R={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(x=="levl")R={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(x=="curv")R={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(x=="expA")R={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(x=="vibA")R={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(x=="hue2")R={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(x=="blnc")R={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(x=="blwh")R={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(x=="phfl")R={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(x=="grdm")R={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(fJ.Ck[6]).Grad};
if(x=="selc")R={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(x=="thrs")R={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(x=="mixr")R={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(x=="clrL")R={__name:"Color Lookup",classID:"colorLookup"};if(x=="post")R={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(x=="rplc")R={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(x=="fade")R={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(x=="aply")R={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(x=="matc"){R={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(x=="Dila")R={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(x=="blendOptions")R={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return R};gm.n7={sFlam:function(x,R){R[0]=x.Type.v;R[1]=x.Leng.v;R[2]=x.RndL.v;R[3]=x.Widt.v;R[4]=x.Angl.v;
R[5]=x.Intr.v;R[6]=x.Adpt.v;R[7]=x.Clr.v;R[8]=x.Qual.v;R[9]=x.Turb.v;R[10]=x.Jag.v;R[11]=x.Opct.v.val;
R[12]=x.Lins.v;R[13]=x.Botm.v;R[14]=x.Styl.v;R[15]=x.Shap.v;R[16]=x.RnSh.v;R[17]=x.Arng.v},gFlam:function(x,R){x.Type.v=R[0];
x.Leng.v=R[1];x.RndL.v=R[2];x.Widt.v=R[3];x.Angl.v=R[4];x.Intr.v=R[5];x.Adpt.v=R[6];x.Clr.v=R[7];x.Qual.v=R[8];
x.Turb.v=R[9];x.Jag.v=R[10];x.Opct.v.val=R[11];x.Lins.v=R[12];x.Botm.v=R[13];x.Styl.v=R[14];x.Shap.v=R[15];
x.RnSh.v=R[16];x.Arng.v=R[17]},sAdNs:function(x,R){R[0]=x.Nose.v.val;R[1]=["Gsn","Unfr"].indexOf(x.Dstr.v.Dstr);
R[2]=x.Mnch.v},gAdNs:function(x,R){x.Nose.v.val=R[0];x.Dstr.v.Dstr=["Gsn","Unfr"][R[1]];x.Mnch.v=R[2]},sDstS:function(x,R){R[0]=x.Rds.v;
R[1]=x.Thsh.v},gDstS:function(x,R){x.Rds.v=R[0];x.Thsh.v=R[1]},sGsnB:function(x,R){R[0]=x.Rds.v.val},gGsnB:function(x,R){x.Rds.v.val=R[0]},sDila:function(x,R){R[0]=x.Crop.v.val;
R[1]=x.Rds.v.val},gDila:function(x,R){x.Crop.v.val=R[0];x.Rds.v.val=R[1]},sHghP:function(x,R){R[0]=x.Rds.v.val},gHghP:function(x,R){x.Rds.v.val=R[0]},sHsbP:function(x,R){var T=["RGBC","HSBl","HSLC"];
R[0]=T.indexOf(x.Inpt.v.ClrS);R[1]=T.indexOf(x.Otpt.v.ClrS)},gHsbP:function(x,R){var T=["RGBC","HSBl","HSLC"];
x.Inpt.v.ClrS=T[R[0]];x.Otpt.v.ClrS=T[R[1]]},"sMxm ":function(x,R){var T="preserveShape";R[0]=x.Rds.v.val;
R[1]=x[T]?["squareness","Rndn"].indexOf(x[T].v[T]):0},"gMxm ":function(x,R){var T="preserveShape";x.Rds.v.val=R[0];
x[T]={t:"enum",v:{preserveShape:["squareness","Rndn"][R[1]]}}},"sMnm ":function(x,R){var T="preserveShape";
R[0]=x.Rds.v.val;R[1]=x[T]?["squareness","Rndn"].indexOf(x[T].v[T]):0},"gMnm ":function(x,R){var T="preserveShape";
x.Rds.v.val=R[0];x[T]={t:"enum",v:{preserveShape:["squareness","Rndn"][R[1]]}}},sMtnB:function(x,R){R[0]=[x.Angl.v];
R[1]=x.Dstn.v.val;console.log(R)},gMtnB:function(x,R){x.Angl.v=typeof R[0]=="number"?R[0]:R[0][0];x.Dstn.v.val=R[1]},sOfst:function(x,R){R[0]=x.Hrzn.v;
R[1]=x.Vrtc.v;R[2]=["Rpt","Bckg","Wrp"].indexOf(x.Fl.v.FlMd)},gOfst:function(x,R){x.Hrzn.v=R[0];x.Vrtc.v=R[1];
x.Fl.v.FlMd=["Rpt","Bckg","Wrp"][R[2]]},sPnch:function(x,R){R[0]=x.Amnt.v},gPnch:function(x,R){x.Amnt.v=R[0]},"sPlr ":function(x,R){R[0]=["RctP","PlrR"].indexOf(x.Cnvr.v.Cnvr)},"gPlr ":function(x,R){x.Cnvr.v.Cnvr=["RctP","PlrR"][R[0]]},sRple:function(x,R){R[0]=x.Amnt.v;
R[1]=["Sml","Mdm","Lrg"].indexOf(x.RplS.v.RplS)},gRple:function(x,R){x.Amnt.v=R[0];x.RplS.v.RplS=["Sml","Mdm","Lrg"][R[1]]},sTwrl:function(x,R){R[0]=x.Angl.v},gTwrl:function(x,R){x.Angl.v=R[0]},sZgZg:function(x,R){R[0]=x.Amnt.v;
R[1]=x.NmbR.v;R[2]=["ArnC","OtFr","PndR"].indexOf(x.ZZTy.v.ZZTy)},gZgZg:function(x,R){x.Amnt.v=R[0];
x.NmbR.v=R[1];x.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][R[2]]},sUnsM:function(x,R){R[0]=x.Amnt.v.val;R[1]=x.Rds.v.val;
R[2]=x.Thsh.v},gUnsM:function(x,R){x.Amnt.v.val=R[0];x.Rds.v.val=R[1];x.Thsh.v=R[2]},sWave:function(x,R){R[0]=x.NmbG.v;
R[1]=x.WLMn.v;R[2]=x.WLMx.v;R[3]=x.AmMn.v;R[4]=x.AmMx.v;R[5]=x.SclH.v;R[6]=x.SclV.v;R[7]=["WvSn","WvTr","WvSq"].indexOf(x.Wvtp.v.Wvtp);
R[8]=["WrpA","RptE"].indexOf(x.UndA.v.UndA);R[9]=x.RndS.v},gWave:function(x,R){x.NmbG.v=R[0];x.WLMn.v=R[1];
x.WLMx.v=R[2];x.AmMn.v=R[3];x.AmMx.v=R[4];x.SclH.v=R[5];x.SclV.v=R[6];x.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][R[7]];
x.UndA.v.UndA=["WrpA","RptE"][R[8]];if(R[9]!=null){var T=parseInt(R[9]);if(isNaN(T))T=248325464;T=Math.max(0,Math.min(268435455,T));
x.RndS.v=T}},sDspl:function(x,R){R[0]=x.HrzS.v;R[1]=x.VrtS.v;R[2]=0;R[3]=["WrpA","RptE"].indexOf(x.UndA.v.UndA)},gDspl:function(x,R){x.HrzS.v=R[0];
x.VrtS.v=R[1];x.UndA.v.UndA=["WrpA","RptE"][R[3]];x.DspF.v.pth=R[4]},sbrit:function(x,R){R[0]=x.Brgh?x.Brgh.v:0;
R[1]=x.Cntr?x.Cntr.v:0;R[2]=x.useLegacy?x.useLegacy.v:!1},gbrit:function(x,R){x.Brgh.v=R[0];x.Cntr.v=R[1];
if(R[2]!=null)x.useLegacy.v=R[2]}};gm.auK=function(x){var R=new cI(0,0);if(x.enab.v==!1)return R;var T=x.filterFXList.v;
for(var z=0;z<T.length;z++){var c=T[z].v;if(c.enab.v==!1)continue;var g=gm.Fz(c),d=gm.LB(g,c.Fltr?c.Fltr.v:null);
if(d.x>R.x)R.x=d.x;if(d.y>R.y)R.y=d.y}return R};gm.LB=function(x,R){var T=0,c=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(x)!=-1){var g=R.Rds?R.Rds.v.val:1;
T=c=g*2.57}if(x=="MtnB")T=c=R.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(x)!=-1){T=c=1e4}if(x=="GEfc")return c2.LB(R);
return new cI(Math.ceil(T),Math.ceil(c))};gm.Fc=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
gm.Xi=function(x,R){var T={o:R.gR>>16,A:R.gR>>8&255,J:R.gR&255},c={o:R.tn>>16,A:R.tn>>8&255,J:R.tn&255},g=gm.names[x];
if(g==null)g=hD.names[x];var d=x;for(var U in hD.FP)if(hD.FP[U]==x)d=U;var e={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:go.get(g)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:u.I.SE(T)},BckC:{t:"Objc",v:u.I.SE(c)},filterID:{t:"long",v:d.length==4?n.abr(d):777}}},N=gm.GI(x);
if(N)e.v.Fltr={t:"Objc",v:N};return e};gm.k0=function(x,R,T,c){var g=Date.now(),d=fq.tc&&Math.max(c.m,c.e)<=fq.xv.getParameter(fq.xv.MAX_TEXTURE_SIZE);
if(x<1){var U=Math.round(x*5),e=[1,2,1,2,[40,26,13,6,4,2][U],2,1,2,1];e=u.zo.nc(e);if(!d){u.yk(T);var N=T.slice(0);
u.zo.nh(N,T,c.m,c.e,e,255);u.MD(T)}else{var l=c.m,J=c.e,w=fq.kN(0,l,J);w.set(T);var s=fq.kN(1,l,J),o=new Float32Array([1/l,1/J]);
fq.WM(s);fq.filter.c8({type:fq.filter.a2g,rm:o,a7l:new Float32Array(e)},w.G1);s.get(T)}}else{var V=R==u.kc.My?0:R==u.kc.awI?1:2,a=[];
while(V!=2&&x*[1,2.4][V]>20&&a.length<4){var O=u.j$(T,c);a.push(T,c);T=O.z6;c=O.rect;x/=2}var l=c.m,J=c.e;
if(!d||V==2&&x>15){u.yk(T);R(T,c,x);u.MD(T)}else{var w=fq.kN(0,l,J);w.set(T);var s=fq.kN(1,l,J),o=new Float32Array([1/l,1/J]);
if(V==0){var S=1;while(S<x)S<<=1;fq.WM(s);fq.filter.c8({type:fq.filter.Es,rm:o,c_:x,in:[0,0,S]},w.G1);
fq.WM(w);fq.filter.c8({type:fq.filter.Es,rm:o,c_:x,in:[0,1,S]},s.G1);w.get(T)}else if(V==1){var L=3,Q=u.kc.Zx(x,L);
for(var z=0;z<L;z++){var b=Q[z]>>>1,Z=1;while(Z<b)Z<<=1;if(b==0)continue;fq.WM(s);fq.filter.c8({type:fq.filter.Es,rm:o,c_:b,in:[0,0,Z]},w.G1);
fq.WM(w);fq.filter.c8({type:fq.filter.Es,rm:o,c_:b,in:[0,1,Z]},s.G1)}w.get(T)}else{var S=1;while(S<x)S<<=1;
fq.WM(s);fq.filter.c8({type:fq.filter.Es,rm:o,c_:x,in:[0,0,S]},w.G1);s.get(T)}}var I=Date.now();while(a.length!=0){var y=a.pop(),r=a.pop();
u.scale.awo(T,c.m,c.e,r,y.m,y.e);T=r;c=y}}};gm.aoH=function(x,R,T,c){for(var z=0;z<x.length;z++){T[z]=x[z]*(1/255);
c[z]=0}FFT.fft2d(T,c);var g=R>>>1,d=16384,U=128,N=100;while(U<R){U<<=1;d<<=2}var e=255/Math.log(d),l=-100;
for(var J=0;J<R;J++)for(var w=0;w<g;w++){var s=R+g+J&R-1,o=T[s*R+w],V=c[s*R+w],a=Math.sqrt(o*o+V*V),O=Math.atan2(V,o);
x[J*R+w]=Math.round(e*Math.log(a+1));x[J*R+g+w]=Math.round((Math.PI+O)*(255*.5/Math.PI))}};gm.a0H=function(x,R,T,c){T.fill(0);
c.fill(0);var g=R>>>1,d=16384,U=128;while(U<R){U<<=1;d<<=2}var e=255/Math.log(d),N=[],l=[],J=[];for(var z=0;
z<256;z++){N[z]=Math.exp(z/e)-1;var w=z*(2*Math.PI/255)-Math.PI;l[z]=Math.sin(w);J[z]=Math.cos(w)}for(var s=0;
s<R;s++)for(var o=0;o<g;o++){var V=R+g+s&R-1,a=N[x[s*R+o]],w=x[s*R+g+o],O=a*J[w],S=a*l[w];T[V*R+o]=O;
c[V*R+o]=S;if(o!=0){var L=V==0?V*R+R-o:(R-V)*R+(R-o);T[L]=O;c[L]=-S}}FFT.ifft2d(T,c);for(var z=0;z<x.length;
z++){x[z]=Math.max(0,Math.min(255,~~(.5+255*T[z])))}};gm.acM=new ArrayBuffer(512);gm.ayH=function(x){var R=gm.acM,T=x.length;
if(R.byteLength<T)gm.acM=R=new ArrayBuffer(T);var c=new Uint8Array(R);for(var z=0;z<T;z+=4){c[z]=x[z];
c[z+1]=x[z+1];c[z+2]=x[z+2];c[z+3]=x[z+3]}return R};gm.Yt=function(x,R,T,c,g,d,U){if(d==null)d={buffer:u.B(R.buffer.length),rect:R.rect.clone()};
d.buffer.set(R.buffer);var e=T&&T.RndS?T.RndS.v>>>1:0;if(x=="GEfc"){var N=[];if(T.GEfs){var l=T.GEfs.v;
for(var z=0;z<l.length;z++){var J=l[z].v;if(J.GELv&&J.GELv.v==!1)continue;N.push(J)}}else N=[T];for(var z=0;
z<N.length;z++){var w;if(z==0)c2.Yt(x,R,N[z],c,g,d,U);else{if(w==null)w={buffer:u.B(R.buffer.length),rect:R.rect.clone()};
u.kS(d.buffer,w.buffer);c2.Yt(x,w,N[z],c,g,d,U)}}}if(x=="Dila"){var s=T.Crop.v.val,o=T.Rds.v.val+s;o=o*o;
if(o==0)return;var V=R.rect,a=V.m,O=V.e,S=a*O,L=R.buffer,w=d.buffer,Q=u.B(S);u.TR(L,Q,3);if(s!=0){var b=V.clone();
b.t1(1,1);var Z=u.B(b.Z());u.gN(Q,V,Z,b);u.F0(Z);u.style.stroke(Z,Z,b,s);u.F0(Z);u.gN(Z,b,Q,V)}var I=u.style.Q2(Q,a,O);
w.fill(0);for(var y=0;y<O;y++)for(var r=0;r<a;r++){var z=y*a+r,h=z<<1,k=z<<2,K=I[h],H=I[h+1];if(K*K+H*H<o){var p=(y+H)*a+(r+K)<<2;
w[k]=L[p];w[k+1]=L[p+1];w[k+2]=L[p+2];w[k+3]=255}}}if(x=="Adobe Camera Raw Filter"){var V=R.rect,a=V.m,O=V.e,S=a*O,f=S*4,A=S*3,_=new Float32Array(a*O*3),W=R.buffer;
for(var z=0;z<S;z++){var Y=z*3,k=z*4;_[Y]=W[k]*(1/255);_[Y+1]=W[k+1]*(1/255);_[Y+2]=W[k+2]*(1/255)}var G=JSON.parse(JSON.stringify(T));
delete G.Upri;delete G.GuUr;var i=_.slice(0);by(_,a,O,i,G);_=i;W=d.buffer;for(var z=0;z<S;z++){var Y=z*3,k=z*4;
W[k]=255*Math.max(0,Math.min(1,_[Y]));W[k+1]=255*Math.max(0,Math.min(1,_[Y+1]));W[k+2]=255*Math.max(0,Math.min(1,_[Y+2]))}}if(x=="Fct "){var V=R.rect,a=V.m,O=V.e,S=a*O,f=S*4;
function E(eC){var hS=eC.slice(0);for(var y=0;y<3;y++)for(var r=0;r<3;r++)hS[y*3+r]=eC[(2-r)*3+y];return hS}function $(c7,jb,eI,j6){var h1=0;
for(var y=0;y<3;y++)for(var r=0;r<3;r++)h1+=jb[y*3+r]*c7[(j6-1+y)*a+eI-1+r];return h1}var C=[8,5,2,5,2,-1,2,-1,-4],B=[5,5,5,2,2,2,-1,-1,-1],M=[2,2,2,2,2,2,2,2,2],j=[];
j.push(C);for(var z=0;z<3;z++)j.push(E(j[j.length-1]));j.push(B);for(var z=0;z<3;z++)j.push(E(j[j.length-1]));
j.push(M);for(var z=0;z<9;z++)j[z]=u.zo.nc(j[z]);var P=[-a-1,-a,-a+1,-1,0,1,a-1,a,a+1],t=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],q=u.B(S),m=new Float32Array(S),i=u.B(S);
for(var iE=0;iE<3;iE++){u.TR(R.buffer,q,iE);for(var hV=0;hV<1;hV++){for(var y=1;y<O-1;y++)for(var r=1;
r<a-1;r++){var dD=y*a+r,bh=q[dD];m[dD]=1e9;for(var z=0;z<9;z++){var ho=$(q,j[z],r,y),aH=(ho-bh)*(ho-bh);
if(aH<m[dD])m[dD]=aH}}for(var y=1;y<O-1;y++)for(var r=1;r<a-1;r++){var f2=0,e9=1e9;for(var z=0;z<9;z++){var kB=y*a+r+P[z],aH=m[kB];
if(aH<e9){e9=aH;f2=q[kB]}}i[y*a+r]=f2}q.set(i)}u.rN(i,d.buffer,iE)}}if(x=="adaptCorrect"){var V=R.rect,a=V.m,O=V.e,S=a*O,f=S*4,ct=T.sdwM.v,fj=ct.Amnt.v.val/100,ab=ct.Wdth.v.val/100,iw=ct.Rds.v,jD=T.hglM.v,a1=jD.Amnt.v.val/100,gd=jD.Wdth.v.val/100,i6=jD.Rds.v;
u.ank.Fv(R.buffer,d.buffer,a,O,fj,ab,iw,a1,gd,i6,T.ClrC.v/100,T.Cntr.v/100)}if(x=="denoise"){var V=R.rect,a=V.m,O=V.e,hv=T.channelDenoise.v[0].v;
u.at3.aA9(R.buffer,a,O,d.buffer,hv.Amnt.v/10,hv.EdgF.v/100)}if(x=="HsbP"){var hO=T.Inpt.v.ClrS,jh=T.Otpt.v.ClrS,V=R.rect,a=V.m,O=V.e,S=a*O;
for(var z=0;z<S;z++){var k=z*4,hV=R.buffer[k]*(1/255),aJ=R.buffer[k+1]*(1/255),hS=R.buffer[k+2]*(1/255);
if(hO=="RGBC"){}else if(hO=="HSLC"){var i=u.IK(hV,aJ,hS);hV=i.o;aJ=i.A;hS=i.J}else if(hO=="HSBl"){var i=u.a8v(hV,aJ,hS);
hV=i.o;aJ=i.A;hS=i.J}var iO=hV,g$=aJ,bF=hS;if(jh=="RGBC"){}else if(jh=="HSLC"){var i=u.mr(hV,aJ,hS);
iO=i.kh;g$=i.Kt;bF=i.tB}else if(jh=="HSBl"){var i=u.c5(hV,aJ,hS);iO=i.kh;g$=i.Kt;bF=i.J}d.buffer[k]=~~(255*iO);
d.buffer[k+1]=~~(255*g$);d.buffer[k+2]=~~(255*bF)}}if(x=="Fbrs"){var V=R.rect,a=V.m,O=V.e;u.X.a2_(R.buffer,a,O,d.buffer,[T.Vrnc.v,T.Strg.v,e]);
var hy=u.B(a*O);u.TR(d.buffer,hy,0);u.F0(hy);c2.JL(hy,d.buffer,c,g)}if(x=="Frgm"){var V=R.rect,a=V.m,O=V.e,fg=R.buffer.slice(0);
u.yk(fg);u.X.aqC(fg,a,O,d.buffer);u.MD(d.buffer)}if(x=="Flam"){var V=R.rect,a=V.m,O=V.e,hL=T.Clr.v,dn={type:T.Type.v+1,length:T.Leng.v,a2q:T.RndL.v,u7:T.Widt.v,a6v:T.Angl.v,aja:T.Intr.v,ans:T.Adpt.v,color:{o:hL.Rd.v,A:hL.Grn.v,J:hL.Bl.v},Ah:T.Qual.v+1,C4:T.Turb.v,cL:T.Jag.v,opacity:T.Opct.v.val,Ur:T.Lins.v,afQ:T.Botm.v,style:T.Styl.v+1,shape:T.Shap.v+1,a8S:T.RnSh.v,azt:T.Arng.v,a0G:!1},c5=U[3],at=c5[0],gt=c5[1],iK=at[gt.length!=0?gt[0]:0];
if(iK==null){alert("Make a path first");return}var iz=iK.add.vmsk.$,gI=u.j.fc(iz),ce=[];for(var p=0;
p<gI;p++){var b7=u.j.wn(iz,p),br=iz[b7];if(br.length<2)continue;var kg=[];ce.push(kg);var bM=br.length-(br.type==3?1:0);
for(var dD=0;dD<bM;dD++){var eQ=iz[b7+1+dD],eT=dD==br.length-1?iz[b7+1]:iz[b7+1+dD+1],b6=eQ.L,hx=eQ.VV,C=eT.YA,io=eT.L,jm=Math.round(cI.rE(b6,io)/5);
for(var bq=0;bq<jm;bq++){var gO=bq/jm,ae=1-gO,r=ae*ae*ae*b6.x+3*ae*ae*gO*hx.x+3*ae*gO*gO*C.x+gO*gO*gO*io.x,y=ae*ae*ae*b6.y+3*ae*ae*gO*hx.y+3*ae*gO*gO*C.y+gO*gO*gO*io.y;
kg.push(r,y)}}}var dl=[ce,dn],eF=Date.now(),e6=ie(dl);ke(R.buffer,a,O,d.buffer,e6,dl)}if(x=="Dfs "){var V=R.rect,a=V.m,O=V.e,dJ=["Nrml","DrkO","LghO","anisotropic"].indexOf(T.Md.v.DfsM);
if(dJ<3)u.X.acN(R.buffer,a,O,d.buffer,[dJ]);else{var dl=[1.4,1.6,1,4,!1,2,[0,0,.001]],V=R.rect.clone();
V.x=V.y=0;u.Zu.filter(R.buffer,V,d.buffer,dl)}}if(x=="TrcC"){var V=R.rect,a=V.m,d2=a<<2,O=V.e,gQ=T.Lvl.v,a6=T.Edg.v.CntE=="Lwr",h6=R.buffer,cU=d.buffer;
u.Qu(cU,16777215,4278190080);function jv(dC,cC){jJ(dC,cC);jJ(dC+1,cC+1);jJ(dC+2,cC+2)}function de(dC,cC){c4(dC,cC);
c4(dC+1,cC+1);c4(dC+2,cC+2)}function jJ(dC,cC){var iO=h6[dC],g$=h6[cC];if(iO>=gQ&&g$<gQ)cU[dC]=0;if(iO<gQ&&g$>=gQ)cU[cC]=0}function c4(dC,cC){var iO=h6[dC],g$=h6[cC];
if(iO>gQ&&g$<=gQ)cU[cC]=0;if(iO<=gQ&&g$>gQ)cU[dC]=0}if(a6)for(var y=1;y<O;y++)for(var r=1;r<a;r++){var k=y*a+r<<2;
jv(k,k-4);jv(k,k-d2)}else for(var y=1;y<O;y++)for(var r=1;r<a;r++){var k=y*a+r<<2;de(k,k-4);de(k,k-d2)}}if(x=="Embs"){var V=R.rect,a=V.m,O=V.e,gn=-T.Angl.v*Math.PI/180,eG=T.Hght.v,gN=T.Amnt.v/100;
eG/=2;var K=Math.cos(gn)*eG,H=Math.sin(gn)*eG,h6=R.buffer,cU=d.buffer;cU.fill(0);var et=new Uint32Array(h6.buffer),i=new Uint8Array(4),bi=new Uint32Array(i.buffer);
for(var y=0;y<O;y++)for(var r=0;r<a;r++){var bc=0,jM=0,j9=0;if(0<=r+K&&r+K<a&&0<=y+H&&y+H<O){u.D.Tv(r+K+.5,y+H+.5,et,a,O,bi,0,0);
bc+=i[0]-128;jM+=i[1]-128;j9+=i[2]-128}if(0<=r-K&&r-K<a&&0<=y-H&&y-H<O){u.D.Tv(r-K+.5,y-H+.5,et,a,O,bi,0,0);
bc-=i[0]-128;jM-=i[1]-128;j9-=i[2]-128}var k=y*a+r<<2;cU[k]=Math.max(0,Math.min(255,bc*gN+128));cU[k+1]=Math.max(0,Math.min(255,jM*gN+128));
cU[k+2]=Math.max(0,Math.min(255,j9*gN+128));cU[k+3]=h6[k+3]}}if(x=="ShrE"){var V=R.rect,a=V.m,O=V.e;
u.X.anU(R.buffer,a,O,d.buffer)}if(x=="Dspc"){var V=R.rect,a=V.m,O=V.e;u.X.ahP(R.buffer,a,O,d.buffer)}if(x=="Slrz"){var aR=d.buffer,cc=128;
for(var z=0;z<aR.length;z+=4){if(aR[z]>cc)aR[z]=255-aR[z];if(aR[z+1]>cc)aR[z+1]=255-aR[z+1];if(aR[z+2]>cc)aR[z+2]=255-aR[z+2]}}if(x=="Wnd "){var V=R.rect,a=V.m,O=V.e,d1=["Wnd","Blst","Stgr"],d7=T.WndM.v.WndM;
u.X.$k(R.buffer,a,O,d.buffer,[d1.indexOf(d7),T.Drct.v.Drct!="Left"])}if(x=="Bokh"){var V=R.rect,a=V.m,O=V.e,S=a*O,f=S*4,ej=R.buffer.slice(0),cr=T.BkDi.v.BtDi,dZ=T.BkDc,dw=T.BkDs.v,aX=T.BkDp.v/255;
if(cr=="BeIn")aX=0;var hz=57*(.3+.7*((a+O)/2)/1750)*(T.BkIb.v/100)*(1+.2*Math.pow(aX,.1)),cg=parseInt(T.BkIs.v.BtIs.slice(3)),dG=-T.BkIr.v*Math.PI/180,iH=[];
for(var z=0;z<8;z++){var cW=dG+z*(Math.PI*2/cg),gx=dG+(z+1)*(Math.PI*2/cg),eS=Math.cos(cW),fw=Math.sin(cW),dE=Math.cos(gx),bw=Math.sin(gx),hX=[0,0,0];
u.Zv.X7([[eS,fw,1,0],[dE,bw,1,0],[1,1,1,1]],hX);if(hX[2]>0){hX[0]*=-1;hX[1]*=-1;hX[2]*=-1}iH.push(hX[0],hX[1],hX[2],0)}if(cr=="BeIn"){u.Qu(ej,0,16777215);
aX=1}else if(cr=="BeIt"&&dZ.v.BtDc=="BeCt"){}else{var hl;if(cr=="BeIt"&&dZ.v.BtDc=="BeCm")hl=U[1];else if(cr=="BeIa")hl=U[2][dZ.v];
if(hl==null){u.Qu(ej,0,16777215)}else{var q;if(hl.rect.X$(V))q=hl.channel;else q=hl.qC(V);u.rN(q,ej,3)}}if(dw)for(var z=0;
z<f;z+=4)ej[z+3]=255-ej[z+3];if(fq.tc){var hq=ej,g2=a,ic=O,cj=1,cB=(T.BkSb.v==0||T.BkSt.v==255)&&cr=="BeIn";
if(!cB){var ik=0;for(var z=0;z<f;z+=4)ik+=Math.abs(aX-ej[z+3]*(1/255));ik=ik/S*hz;var jL=3.14*ik*ik*a*O/3e6;
if(jL>2e3){alert("too large radius");return}}while(cB&&3*(hz/cj)*(hz/cj)*a*O>500*2e3*2e3){var df=u.Vu(ej,new aP(0,0,g2,ic));
ej=df.z6;g2=df.rect.m;ic=df.rect.e;cj*=2}var eF=Date.now(),L=fq.kN(0,g2,ic);L.set(ej);var e8=fq.kN(1,a,O);
fq.WM(e8);fq.filter.c8({type:fq.filter.auw,rm:new Float32Array([1/g2,1/ic]),aai:aX,wy:hz/cj,ahw:new Float32Array([T.BkSb.v/100,T.BkSt.v/255]),arL:new Float32Array([T.BkNa.v/100,T.BkNt.v.BtNt=="BeNu"?0:1,T.BkNm.v?1:0]),abH:new Float32Array(iH.slice(0,16)),ali:new Float32Array(iH.slice(16))},L.G1);
e8.get(d.buffer);var fH=d.buffer;for(var z=0;z<f;z+=4)fH[z+3]=R.buffer[z+3]}}if(x=="rigidTransform"){var eF=Date.now(),g1=gm.ayH,L=R.buffer.slice(0),gH=0,cP=0;
u.yk(L);u.Qu(d.buffer,0);var a=R.rect.m,O=R.rect.e,du=T.puppetShapeList.v,iu=[],hC=[],dz=[],az=[];for(var dD=0;
dD<du.length;dD++){var jo=du[dD].v,h=gH*2,Y=cP*3,bb=jo.originalVertexArray.v.length>>>2,h2=jo.indexArray.v.length>>>2,jj=new Float32Array(g1(jo.originalVertexArray.v));
for(var z=0;z<bb;z++)iu[h+z]=jj[z];var j_=new Float32Array(g1(jo.deformedVertexArray.v));for(var z=0;
z<bb;z++)hC[h+z]=j_[z];var g7=new Uint32Array(g1(jo.indexArray.v));for(var z=0;z<h2;z++)dz[Y+z]=gH+g7[z];
var cR=[],kn=[],fa=jo.PnDp.v;for(var z=0;z<fa.length;z++){cR.push(jo.pinVertexIndices.v[z].v);kn.push(fa[z].v)}var db=u.xn.akm(jj,g7,cR,kn);
for(var z=0;z<db.length;z++)az[gH+z]=db[z];gH+=bb>>>1;cP+=~~(h2/3)}var hV=R.rect,a=hV.m,O=hV.e;u.xn.wa(L,a,O,d.buffer,a,O,iu,hC,az,dz);
u.MD(d.buffer)}if(x=="lightFilterGradient"){function fk(b6){var jb=1/Math.sqrt(b6[0]*b6[0]+b6[1]*b6[1]+b6[2]*b6[2]);
b6[0]*=jb;b6[1]*=jb;b6[2]*=jb}var a=R.rect.m,O=R.rect.e,S=a*O,eF=Date.now(),iN=u.B(S),g$=.3,bF=.7;u.Ve(d.buffer,iN);
var jN=u.B(S);u.kc.nu(iN,jN,d.rect,16);var am=u.B(S);u.kc.nu(iN,am,d.rect,8);var js=iN,hQ=new Float32Array(S),kx=T.Dtl.v,i5=kx[2].v,iI=kx[1].v,hR=kx[0].v,h1=T.Scl.v*40*T.textureScale.v/(i5+iI+hR);
i5*=h1;iI*=h1;hR*=h1;for(var z=0;z<S;z++){var bH=jN[z]*(1/255),it=am[z]*(1/255),gU=js[z]*(1/255);gU=gU*gU;
hQ[z]=i5*bH+iI*it+hR*gU}var ks=T.blur.v;if(ks!=0){var gV=hQ.slice(0);u.kc.cX(gV,hQ,d.rect,ks)}var b0=a-1,dv=O-1;
for(var y=0;y<O;y++)for(var r=0;r<a;r++){var z=y*a+r,k=z*4,c1=hQ[z],K=g$*(hQ[z+(r==b0?0:1)]-c1)+bF*(c1-hQ[z-(r==0?0:1)]),H=g$*(hQ[z+(y==dv?0:a)]-c1)+bF*(c1-hQ[z-(y==0?0:a)]),b6=[1,0,K],hx=[0,1,H];
fk(b6);fk(hx);var gx=b6[0],aM=b6[2],aY=hx[1],hM=hx[2],cY=-aM*aY,dL=-gx*hM,g5=gx*aY;d.buffer[k]=~~(127.5+cY*127.5);
d.buffer[k+1]=~~(127.5+dL*127.5);d.buffer[k+2]=~~(127.5+g5*127.5)}}if(x=="defr"){var a=R.rect.m,O=R.rect.e;
il(R.buffer,a,O,d.buffer)}if(x=="dDFT"||x=="iDFT"){function aW(cg){if(cg==0)return 1;cg--;cg|=cg>>1;
cg|=cg>>2;cg|=cg>>4;cg|=cg>>8;cg|=cg>>16;return cg+1}var a=R.rect.m,O=R.rect.e,fh=aW(Math.max(a,O)),bj=fh>>>1,dT=new aP(0,0,fh,fh),af=new aP(0,0,a,O);
af.y=fh-O>>>1;var fr=a>>>1,dm=new aP(0,af.y,fr,O),gM=new u.IV(a*O);u.ZC(R.buffer,gM);var eW=new Float64Array(fh*fh),fA=new Float64Array(fh*fh),q=u.B(fh*fh);
FFT.init(fh);var el=[gM.o,gM.A,gM.J];for(var z=0;z<3;z++){var fK=el[z];q.fill(0);if(x=="dDFT"){u.gN(fK,af,q,dT);
gm.aoH(q,fh,eW,fA);u.gN(q,dT,fK,af,dm);dm.x+=fr;dT.x-=bj-fr;u.gN(q,dT,fK,af,dm);dm.x-=fr;dT.x+=bj-fr}else{u.gN(fK,af,q,dT,dm);
dm.x+=bj;af.x+=bj-fr;u.gN(fK,af,q,dT,dm);dm.x-=bj;af.x-=bj-fr;gm.a0H(q,fh,eW,fA);u.gN(q,dT,fK,af)}}u.dZ(gM,d.buffer)}if(x=="Avrg"){var fS=0,gD=0,iQ=0,ea=0,cN=1;
for(var z=0;z<R.buffer.length;z+=4){var Q=R.buffer[z+3];iQ+=R.buffer[z]*Q;gD+=R.buffer[z+1]*Q;fS+=R.buffer[z+2]*Q;
ea+=Q}var iZ=1/ea;fS=Math.round(cN*(fS*iZ)+(1-cN)*255);gD=Math.round(cN*(gD*iZ)+(1-cN)*255);iQ=Math.round(cN*(iQ*iZ)+(1-cN)*255);
u.Qu(d.buffer,fS<<16|gD<<8|iQ,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(x)!=-1){var jI=T.Rds?T.Rds.v.val:1,hd=x=="boxblur"?u.kc.My:u.kc.awI;
gm.k0(jI,hd,d.buffer,d.rect);if(x=="UnsM"||x=="smartSharpen"){var gN=(T.Amnt?T.Amnt.v.val:200)/100,cv=0;
if(x=="UnsM")cv=T.Thsh.v;else gN*=.75;for(var z=0;z<R.buffer.length;z++){if((z&3)==3){d.buffer[z]=R.buffer[z];
continue}var bh=R.buffer[z],ho=d.buffer[z],f4=gN*(bh-ho);if(f4>0)f4=Math.max(0,f4-cv);else f4=Math.min(0,f4+cv);
d.buffer[z]=Math.max(0,Math.min(255,bh+f4))}}if(x=="HghP")for(var z=0;z<R.buffer.length;z++){if((z&3)==3){d.buffer[z]=R.buffer[z];
continue}var bh=R.buffer[z],ho=d.buffer[z];d.buffer[z]=Math.max(0,Math.min(255,128+bh-ho))}}if(x=="AdNs"){var f9=new Uint8ClampedArray(d.buffer.buffer),bY=255*T.Nose.v.val/100,ge;
if(T.Dstr.v.Dstr=="Gsn")ge=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else ge=function(){return Math.random()*2-1};for(var z=0;z<f9.length;z+=4){var hV=f9[z],aJ=f9[z+1],hS=f9[z+2],hh,eA,fO;
if(T.Mnch.v){hh=eA=fO=ge()}else{hh=ge();eA=ge();fO=ge()}hV+=bY*hh;aJ+=bY*eA;hS+=bY*fO;f9[z]=hV;f9[z+1]=aJ;
f9[z+2]=hS}}var eF=Date.now();if(x=="Mdn "||x=="DstS"||x=="Mxm "||x=="Mnm "||x=="surfaceBlur"){var hV=0,aI=T.Thsh,jo=0;
if(aI)aI=aI.v;else aI=0;if(x=="Mdn "||x=="Mxm "||x=="Mnm "||x=="surfaceBlur")hV=T.Rds.v.val;else hV=T.Rds.v;
var iM=10*Math.ceil(hV/10),a=R.rect.m,O=R.rect.e,cH=["Mnm ","Mxm ","surfaceBlur"].indexOf(x),fz=(jo==0?1:.75)*[.73,.73,1.2][cH]*(a*O*Math.pow(iM*iM,1.05))/6022387,iY=.6*(a*O*Math.pow(hV,1/2.6))/6500;
if(x=="Mxm "||x=="Mnm ")iY=a*O/13e3;var k5=T.preserveShape;if(k5&&k5.v.preserveShape=="Rndn")jo=1;if(fq.tc&&cH!=-1&&(fz<iY||jo==1)&&fz<500){var L=fq.kN(0,a,O);
L.set(R.buffer);var w=fq.kN(1,a,O);fq.WM(w);fq.filter.c8({type:fq.filter.a1$,rm:new Float32Array([1/a,1/O]),wy:hV,agF:aI/255,in:[jo,cH,iM]},L.G1);
w.get(d.buffer)}else if(x=="Mxm "||x=="Mnm "){var a=R.rect.m,O=R.rect.e;u.Rn.a0D(R.buffer,d.buffer,a,O,1+Math.floor(T.Rds.v.val)*2,x=="Mxm ")}else{hV=Math.round(hV);
u.np.dh=.5;u.np.l6=aI;var hd=x=="surfaceBlur"?1:0;u.np.Is(R.buffer,d.buffer,a,O,hV,hd);if(x=="DstS")for(var z=0;
z<a*O*4;z++){var i8=Math.abs(R.buffer[z]-d.buffer[z]);if(i8<=aI)d.buffer[z]=R.buffer[z]}}}if(x=="ClrH"){var dm=R.rect.clone();
dm.x=dm.y=0;var hV=T.Rds.v;hV=Math.round(hV*Math.sqrt(2));var a=dm.m,O=dm.e,gM=new u.IV(a*O);u.ZC(R.buffer,gM);
u.F0(gM.o);u.F0(gM.A);u.F0(gM.J);var bV=u._e(a,O),fH=u.B(a*O*4);for(var c7=0;c7<3;c7++){var q=c7==0?gM.o:c7==1?gM.A:gM.J,gn=Math.PI*T["Ang"+(c7+1)].v/180,hP=new gP(1/hV,0,0,1/hV,0,0);
hP.rotate(gn);u.rN(q,fH,3);var i=D.gW.ug([fH,dm],hP,!0),af=i.rect;bV.clearRect(0,0,a,O);var cs=Math.sin(gn),fD=Math.cos(gn);
for(var z=0;z<af.e;z++)for(var bq=0;bq<af.m;bq++){var r=(bq+af.x+.5)*hV,y=(z+af.y+.5)*hV,gS=r,dA=y;r=fD*gS-cs*dA;
y=cs*gS+fD*dA;var S=i.buffer[(z*af.m+bq<<2)+3]*(1/255),jI=hV*Math.sqrt(S*(1/Math.PI));bV.beginPath();
bV.arc(r,y,jI,0,2*Math.PI);bV.fill()}var fm=bV.getImageData(0,0,a,O);u.TR(fm.data,q,3)}u.F0(gM.o);u.F0(gM.A);
u.F0(gM.J);u.dZ(gM,d.buffer)}if(x=="Crst"||x=="Pntl"){var a=R.rect.m,O=R.rect.e,hd=x=="Crst"?u.UZ.ahL:u.UZ.a9U;
hd(R.buffer,a,O,d.buffer,T.ClSz.v,[Math.round(g.o),Math.round(g.A),Math.round(g.J)])}if(x=="Mztn"){var a=R.rect.m,O=R.rect.e,S=a*O,gM=new u.IV(S),ko=[gM.o,gM.A,gM.J];
u.ZC(R.buffer,gM);var d7=T.MztT.v.MztT,aB={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[d7],eF=Date.now(),gL=[];
for(var z=0;z<S;z++){gL[z]=Math.random()}var S=a*O,eP=Math.round(S*aB[0]),bS=S-a-1;for(var z=0;z<eP;
z++){var gb=Math.random(),dS=1;if(gb<.5){dS=a;gb*=2}else gb=2*(gb-.5);var dC=Math.floor(gb*bS),cC=dC+dS;
gL[dC]=gL[cC]}var fv=Math.round(a*aB[1]);for(var y=0;y<O;y++)for(var z=0;z<fv;z++){var gb=u.l.xr(y*S+z),dC=y*a+Math.floor(gb*(a-1));
gL[dC]=gL[dC+1]}var gZ=new Float64Array(256);for(var z=0;z<256;z++){var kb=z/255,j$=2*(kb<.5?kb:1-kb);
j$=aB[2]+Math.pow(j$,aB[3])*(1-aB[2]);kb=kb<.5?j$*.5:1-j$*.5;gZ[z]=kb}for(var iE=0;iE<3;iE++){var q=ko[iE];
for(var y=0;y<O;y++){for(var r=0;r<a;r++){var z=y*a+r,bP=q[z],kb=gZ[bP],gb=gL[z];q[z]=gb>kb?0:255}}}u.dZ(gM,d.buffer)}if(x=="Msc "){var gI=T.ClSz.v.val,a=R.rect.m,O=R.rect.e,hu=Math.ceil(a/gI),hk=Math.ceil(O/gI),eK=u.B(hu*hk*4);
u.scale.y9(R.buffer,a,O,eK,hu,hk,1/gI);u.scale.y9(eK,hu,hk,d.buffer,a,O,gI)}if(x=="Clds"||x=="DfrC"){var a=d.rect.m,O=d.rect.e,S=a*O,iB=u.B(S);
if(x=="Clds")u.Qu(d.buffer,4278190080);var fQ=u.B(256*4);for(var z=0;z<256;z++){var k=z<<2,eC=z/255,g7=1-eC;
fQ[k]=Math.round(eC*c.o+g7*g.o);fQ[k+1]=Math.round(eC*c.A+g7*g.A);fQ[k+2]=Math.round(eC*c.J+g7*g.J)}u.X.ab_(R.buffer,a,O,iB);
var h5=d.buffer;for(var z=0;z<S;z++){var k=z<<2,iE=iB[z]<<2,hV=fQ[iE],aJ=fQ[iE+1],hS=fQ[iE+2];if(x=="Clds"){h5[k]=hV;
h5[k+1]=aJ;h5[k+2]=hS}else{h5[k]=Math.abs(h5[4*z]-hV);h5[k+1]=Math.abs(h5[4*z+1]-aJ);h5[k+2]=Math.abs(h5[4*z+2]-hS)}}}if(x=="LnsF"){var a=R.rect.m,O=R.rect.e,d7=["Zm","Nkn","Nkn1","PnVs"].indexOf(T.Lns.v.Lns),e2=T.FlrC.v,fe=[Math.min(d7,2),T.Brgh.v/100,e2.Hrzn.v,e2.Vrtc.v],eF=Date.now();
u.a95(R.buffer,a,O,d.buffer,fe)}var eJ=["Blr ","BlrM","Shrp","ShrM"].indexOf(x);if(eJ!=-1){var dt=eJ>1,a=R.rect.m,O=R.rect.e,k6=u.zo.hU[eJ],jC=R.buffer.slice(0);
if(!dt)u.yk(jC);u.zo.nh(jC,d.buffer,a,O,k6,255,!1,dt);if(!dt)u.MD(d.buffer)}if(x=="MtnB"){var km=-T.Angl.v*Math.PI/180,jZ=T.Dstn.v.val/2,eF=Date.now(),a=R.rect.m,O=R.rect.e,V=R.rect.clone();
V.x=V.y=0;if(fq.tc){var eF=Date.now(),gc=d.buffer;gc.set(R.buffer);u.yk(gc);var al=fq.kN(0,a,O);al.set(gc);
var h6=u.B(4);h6[0]=Math.round(128+127*Math.cos(km));h6[1]=Math.round(128+127*Math.sin(km));new Uint32Array(gc.buffer).fill(new Uint32Array(h6.buffer)[0]);
var gf=fq.kN(1,a,O);gf.set(gc);fq.WM(al,V);al.Gu(V);fq.filter.c8({type:fq.filter.ZS,Xv:gf.G1,rm:new Float32Array([1/a,1/O]),ayX:jZ/2,a6L:1},al.xU);
al.get(gc);u.MD(gc)}else{var hP=new gP;hP.rotate(km);var i=D.gW.ug([R.buffer,R.rect],hP,!1,null,!0);
gm.k0(jZ,u.kc.afs,i.buffer,i.rect);hP.F0();i=D.gW.ug([i.buffer,i.rect],hP,!1,d.buffer.buffer,!0,d.rect)}console.log(Date.now()-eF)}if(x=="RdlB"){var a=R.rect.m,O=R.rect.e,gN=T.Amnt.v,e7=T.BlrM.v.BlrM=="Zm",c7=T.Cntr.v,eI=c7.Hrzn.v,j6=c7.Vrtc.v,K=Math.max(eI,1-eI)*a,H=Math.max(j6,1-j6)*O,jI=Math.sqrt(K*K+H*H),f7=2*Math.PI*jI*1.5,ag=Math.round(f7),jy=Math.round(jI),dm=new aP(0,0,ag,jy),i9=u.B(ag*jy*4),aD=e7?4:1,jW=e7?.6:8*((a+O)/2)/1400,cA=.1,cj=1,hJ=1;
u.D.atw(R.buffer,a,O,i9,ag,jy,eI,j6,aD,cA,cj,hJ);var hj=e7?u.B(ag*jy*4):null;if(e7){u.D.xZ(i9,hj,ag,jy);
var gO=hj;hj=i9;i9=gO;dm.m=jy;dm.e=ag}gm.k0(jW*gN,u.kc.afs,i9,dm);if(e7){u.D.xZ(i9,hj,jy,ag);var gO=hj;
hj=i9;i9=gO;dm.m=ag;dm.e=jy}u.D.apW(i9,ag,jy,d.buffer,a,O,eI,j6,aD,cA,cj,hJ)}if(x=="Plr "){var a=R.rect.m,O=R.rect.e;
if(T.Cnvr.v.Cnvr=="RctP")u.D.apW(R.buffer,a,O,d.buffer,a,O,.5,.5,1,0,2,a/O);else u.D.atw(R.buffer,a,O,d.buffer,a,O,.5,.5,1,0,2,a/O)}if(x=="FndE"){var a=R.rect.m,O=R.rect.e;
u.zo.aeL(R.buffer,d.buffer,a,O)}if(x=="oilPaint"){var gn=T.LghD.v*Math.PI/180,cq=[Math.cos(gn),Math.sin(gn),.001],dl=[T.stylization.v,T.cleanliness.v,T.brushScale.v,T.microBrush.v,T.lightingOn.v,T.specularity.v,cq],V=R.rect.clone();
V.x=V.y=0;u.Zu.filter(R.buffer,V,d.buffer,dl)}if(x=="Ofst"){var a=R.rect.m,O=R.rect.e,bR=new Uint32Array(R.buffer.buffer),k7=new Uint32Array(d.buffer.buffer),gS=T.Hrzn.v,dA=T.Vrtc.v,fV=T.Fl.v.FlMd;
u.Qu(k7,0);if(fV=="Bckg"||fV=="Rpt"){var dm=R.rect.clone();dm.offset(gS,dA);u.yU(bR,dm,k7,d.rect)}if(fV=="Rpt"){var eS,fw,dE,bw,ar;
gS=Math.max(-a,Math.min(a,gS));dA=Math.max(-O,Math.min(O,dA));eS=gS>0?gS:0;dE=gS>0?a:a+gS;fw=dA>0?0:dA+O;
bw=dA>0?dA:O;ar=dA>0?0:a*(O-1);for(var y=fw;y<bw;y++)for(var r=eS;r<dE;r++)k7[y*a+r]=bR[ar+r-gS];eS=gS>0?0:a+gS;
dE=gS>0?gS:a;fw=dA>0?dA:0;bw=dA>0?O:O+dA;ar=gS>0?0:a-1;for(var y=fw;y<bw;y++)for(var r=eS;r<dE;r++)k7[y*a+r]=bR[ar+a*(y-dA)];
if(gS>=0&&dA>=0){eS=0;dE=gS;fw=0;bw=dA;ar=0}if(gS>=0&&dA<0){eS=0;dE=gS;fw=O+dA;bw=O;ar=a*(O-1)}if(gS<0&&dA>=0){eS=a+gS;
dE=a;fw=0;bw=dA;ar=a-1}if(gS<0&&dA<0){eS=a+gS;dE=a;fw=O+dA;bw=O;ar=a*O-1}for(var y=fw;y<bw;y++)for(var r=eS;
r<dE;r++)k7[y*a+r]=bR[ar]}if(fV=="Wrp"){gS=(gS+100*a)%a;dA=(dA+100*O)%O;var dm=new aP(gS-a,dA-O,a,O);
u.yU(bR,dm,k7,d.rect);dm.offset(a,0);u.yU(bR,dm,k7,d.rect);dm.offset(0,O);u.yU(bR,dm,k7,d.rect);dm.offset(-a,0);
u.yU(bR,dm,k7,d.rect)}}if(x=="Rept"){var jT=T.Rsft.v.val/100,eE=T.SpcX.v.val/100;eE=Math.max(eE,-.99);
var j2=T.SpcY.v.val/100;j2=Math.max(j2,-.99);var cj=T.Scl.v.val/100,hP=new gP;hP.rotate(T.Angl.v*Math.PI/180);
hP.scale(cj,cj);var a2={buffer:R.buffer,rect:R.rect};u.T_(a2);if(a2.rect.Y3()){a2.buffer=R.buffer;a2.rect=R.rect}var h5=a2.buffer,dm=a2.rect,ji=u.Wb(h5,dm,0),iF=new Uint32Array(h5.buffer)[0];
if(!ji.Y3()&&!ji.X$(dm)){var g4=u.B(ji.Z()*4);u.yU(h5,dm,g4,ji);h5=g4;dm=ji}dm.x=dm.y=0;iF=eE==0&&j2==0||T.SpcC.v?iF:0;
function j4(r){return r<0?Math.ceil(r):Math.floor(r)}var bN=hP.Wk(new cI(dm.m,0));bN.x=j4(bN.x);bN.y=j4(bN.y);
var ix=hP.Wk(new cI(0,dm.e));ix.x=j4(ix.x);ix.y=j4(ix.y);var i=D.gW.ug([h5,dm],hP,!1),af=i.rect,cU=i.buffer,hU=Math.round(af.x),eM=Math.round(af.y),eZ=Math.max(d.rect.m,d.rect.e)/Math.min(dm.m*cj*(1+eE),dm.e*cj*(1+j2));
eZ=Math.ceil(eZ*1.7);u.Qu(d.buffer,iF);for(var y=-eZ;y<eZ;y++){for(var r=-eZ;r<eZ;r++){var bJ=(r+y*jT)*(1+eE),kC=y*(1+j2);
af.x=hU+Math.round(bJ*bN.x+kC*ix.x);af.y=eM+Math.round(bJ*bN.y+kC*ix.y);if(af.fg(d.rect))u.l.Hy("norm",cU,af,d.buffer,d.rect,af,1)}}}if(x=="Ctoa"){var g=u.I.ir(T.Clr.v),aI=T.Trsp.v.val/100,bZ=T.Opct.v.val/100;
aI=bZ==0?0:aI/bZ;var a=R.rect.m,O=R.rect.e,im=~~g.o,gk=~~g.A,e0=~~g.J,ar=R.buffer,kB=d.buffer;for(var y=0;
y<O;y++)for(var r=0;r<a;r++){var z=y*a+r,k=z<<2,dm=ar[k],j7=ar[k+1],h5=ar[k+2],an=Math.abs(im-dm),ac=Math.abs(gk-j7),ip=Math.abs(e0-h5),aO=Math.max(an,ac,ip)*(1/255);
aO=Math.max(0,Math.min(1,aO/bZ));var ga=aO==0?0:1/aO,bC=aI==1?1:Math.max(0,Math.min(1,(aO-aI)/(1-aI)));
kB[k]=Math.max(0,Math.min(255,(dm-im*(1-aO))*ga));kB[k+1]=Math.max(0,Math.min(255,(j7-gk*(1-aO))*ga));
kB[k+2]=Math.max(0,Math.min(255,(h5-e0*(1-aO))*ga));kB[k+3]=~~(.5+bC*255)}}if(x=="Dthr"){function hH(r){return~~(.5+255*u.lW(r/255))}var dD=T.Plte.v,a_;
if(dD==0)a_=[4278190080,4294967295];else{var h0=[[1,1,1],[2,2,2],[3,3,2]][dD-1],eV=[1<<h0[0],1<<h0[1],1<<h0[2]],bT=[~~(255/(eV[0]-1)),~~(255/(eV[1]-1)),~~(255/(eV[2]-1))];
a_=[];for(var hV=0;hV<eV[0];hV++)for(var aJ=0;aJ<eV[1];aJ++)for(var hS=0;hS<eV[2];hS++)a_.push(255<<24|hH(hS*bT[2])<<16|hH(aJ*bT[1])<<8|hH(hV*bT[0]))}var a=R.rect.m,O=R.rect.e,S=a*O,b1=S*4,j9=R.buffer.slice(0),ib=d.buffer;
for(var z=0;z<b1;z++)j9[z]=~~(.5+255*u.lW(j9[z]/255));var hZ=u.B(a*O);UPNG.encode.dither(j9,a,O,a_,ib,hZ,T.Mthd?T.Mthd.v:1);
for(var z=0;z<b1;z++)ib[z]=~~(.5+255*u.DW(ib[z]/255))}if(x=="Part"){var bW=[T.RndS.v,T.Cont.v/100,T.Size.v,T.Dpth.v/100,T.Brgh.v/100,u.I.ir(T.Clr.v),T.Time.v,T.Blnk.v,T.Fall.v,T.Turb.v/100];
u.zx.$$(d.buffer,R.rect.m,R.rect.e,bW)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(x)!=-1){var eL=U[0],a=R.rect.m,O=R.rect.e,gZ,bn=0;
if(x=="LqFy")gZ=cD.eE(new Uint8Array(T.LqMe.v).buffer);else{var kt=3;if(x=="Wave")kt=Math.min(3,T.WLMn.v);
gZ={KQ:Math.floor(a/kt),kh:Math.floor(O/kt)};gZ.map=new Float32Array(gZ.KQ*gZ.kh*2);if(x=="LnCr"){var eI=.5*(gZ.KQ-1),j6=.5*(gZ.kh-1),hF=Math.max(Math.abs(0-eI),Math.abs(1-eI)),gA=Math.max(Math.abs(0-j6),Math.abs(1-j6)),d0=Math.sqrt(hF*hF+gA*gA),cK=0,iW=0,ap=-1,eg=2,cj=T.LnSi.v/100,e7=1/cj,jE=T.LnIa.v/100,di=jE==0?1e-6:jE*4.6,cu=e7/d0;
for(var y=0;y<gZ.kh;y++){for(var r=0;r<gZ.KQ;r++){var K=(r-eI)*cu,H=(y-j6)*cu,hV=Math.sqrt(K*K+H*H)*di,j0=Math.atan(hV),bz=jE>0?j0/hV:hV/j0,hJ=eI+d0*bz*K,eB=j6+d0*bz*H,z=y*gZ.KQ+r<<1;
gZ.map[z]=hJ-r;gZ.map[z+1]=eB-y}}}else if(x=="Kale"){var hu=gZ.KQ,hk=gZ.kh,ei=(hu-1)*.5,dv=(hk-1)*.5,as=T.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,iR=T.Mirr.v,i7=Math.PI*2/iR,b4=.5*i7;
for(var y=0;y<hk;y++)for(var r=0;r<hu;r++){var K=r-ei,H=y-dv,dg=Math.sqrt(K*K+H*H),gn=Math.atan2(H,K)+as;
gn=gn%i7;if(gn>b4)gn=i7-gn;var hJ=ei+Math.cos(gn-as)*dg,eB=dv+Math.sin(gn-as)*dg,z=(y*hu+r)*2;gZ.map[z]=hJ-r;
gZ.map[z+1]=eB-y}}else if(x=="Dspl"&&eL.length!=0){bn=T.UndA.v.UndA=="WrpA"?2:1;var c$=T.DspF.v.pth,d3;
for(var z=0;z<eL.length;z++)if(eL[z].E5==c$)d3=eL[z];if(d3==null)d3=eL[0];d3.Yr();var an=d3.Zn[1],ft=u.B(an.Z());
u.Ve(d3.Zn[0],ft);var j8=an.m,cT=an.e;gZ={KQ:j8,kh:cT};gZ.map=new Float32Array(gZ.KQ*gZ.kh*2);var dh=2.54*T.HrzS.v*j8/a,fp=2.54*T.VrtS.v*cT/O;
for(var y=0;y<gZ.kh;y++){for(var r=0;r<gZ.KQ;r++){var i8=-.5+ft[y*j8+r]*(1/255),z=y*gZ.KQ+r<<1;gZ.map[z]=i8*dh;
gZ.map[z+1]=i8*fp}}}else if(x=="Pnch"||x=="Twrl"||x=="Sphr"||x=="ZgZg"){var gN=1,km=Math.PI,ak=0,bo=1,jn=0,c7=3,gI=1.53,bz=1;
if(x=="Pnch"||x=="Sphr"||x=="ZgZg")gN=T.Amnt.v/100;if(x=="ZgZg"){bo=T.NmbR.v;jn=["ArnC","OtFr","PndR"].indexOf(T.ZZTy.v.ZZTy)}if(x=="Twrl")km=T.Angl.v*Math.PI/180;
if(x=="Sphr")ak=["Nrml","HrzO","VrtO"].indexOf(T.SphM.v.SphM);function hd(r){r=Math.pow(r,1-r*.3-r*r*(r*r)*.5);
return-.225*Math.sin(r*Math.PI)}function fP(O,jb,hV,eS,fw,dE,bw,bz){var K=dE-eS,H=bw-fw,ku=eS-O,bK=fw-jb,eC=K*K+H*H,hS=2*(K*ku+H*bK),c7=ku*ku+bK*bK-hV*hV,f8=Math.sqrt(hS*hS-4*eC*c7),fi=bz/(2*eC),cE=(-hS+f8)*fi,c8=(-hS-f8)*fi;
return bz*Math.min(cE,c8)}var hu=gZ.KQ,hk=gZ.kh,ei=gZ.KQ/2,dv=gZ.kh/2,jz=1/ei,hV=Math.sqrt(c7*c7+1)/c7,fK=c7+Math.sqrt(1/(c7*c7));
if(gN<0){c7=1.72;hV=1;fK=c7;gI=-1;bz=-1}for(var y=0;y<hk;y++){var H=(y-dv)/dv;for(var r=0;r<hu;r++){var K=(r-ei)*jz;
if(ak==1)H=0;else if(ak==2)K=0;var h8=Math.sqrt(K*K+H*H);if(h8<1&&h8!=0){var z=y*gZ.KQ+r<<1;if(x=="Pnch"){var gR=-gN*hd(h8)/h8;
gZ.map[z]=K*gR*ei;gZ.map[z+1]=H*gR*dv}else if(x=="Sphr"){var gO=fP(0,fK,hV,0,0,h8,c7,bz),aj=gI*gN*(gO-1);
gZ.map[z]=K*aj*ei;gZ.map[z+1]=H*aj*dv}else if(x=="Twrl"){var gn=Math.atan2(H,K)-km*(1-h8)*(1-h8),fW=Math.cos(gn),hN=Math.sin(gn);
gZ.map[z]=(h8*fW-K)*ei;gZ.map[z+1]=(h8*hN-H)*dv}else if(x=="ZgZg"){var fW=0,hN=0,bG=gN*(.5-.5*Math.cos(h8*bo*2*Math.PI))*(1-h8);
if(jn==0){var gn=Math.atan2(H,K)-3.5*bG;fW=h8*Math.cos(gn);hN=h8*Math.sin(gn)}if(jn==1){bG=100/a*bG/h8;
fW=(1-bG)*K;hN=(1-bG)*H}if(jn==2){var M=512/a*bG*Math.PI/4;fW=M+K;hN=M+H}gZ.map[z]=(fW-K)*ei;gZ.map[z+1]=(hN-H)*dv}}}}}else if(x=="Shr "){var iz=JSON.parse(JSON.stringify(T.ShrP.v));
u.a1.i(iz,new gP(0,255/127,255/127,0,-2,0));var dM=u.a1.A0(iz,gZ.kh,!0);bn=T.UndA.v.UndA=="WrpA"?2:1;
for(var y=0;y<gZ.kh;y++){var K=-dM[y]*gZ.KQ;for(var r=0;r<gZ.KQ;r++){var z=y*gZ.KQ+r<<1;gZ.map[z]=K}}}else if(x=="Wave"){var kr=T.NmbG.v,g0=T.WLMn.v,cz=T.WLMx.v,gz=T.AmMn.v*(Math.PI/4),en=T.AmMx.v*(Math.PI/4),eN=T.SclH.v/100,aQ=T.SclV.v/100,d7=T.Wvtp.v.Wvtp,bG=Math.sin;
if(d7=="WvTr")bG=function(r){r*=2/Math.PI;return-.5+Math.abs(r%2-1)};if(d7=="WvSq")bG=function(r){r*=2/Math.PI;
return 1+2*Math.floor(r%2-1)};var ih=[],cX=new u.l.ek(T.RndS.v);for(var z=0;z<kr;z++){ih.push(cX.get()*10);
ih.push(Math.PI*kt/(g0+cX.get()*(cz-g0)));ih.push(eN*(gz+cX.get()*(en-gz))/kt);ih.push(cX.get()*10);
ih.push(Math.PI*kt/(g0+cX.get()*(cz-g0)));ih.push(aQ*(gz+cX.get()*(en-gz))/kt)}var e$=[],a9=[],k8=Math.max(gZ.KQ,gZ.kh);
for(var z=0;z<k8;z++){var K=0,H=0;for(var bq=0;bq<kr;bq++){var jU=bq*6;K+=ih[jU+2]*bG(ih[jU]+z*ih[jU+1]);
H+=ih[jU+5]*bG(ih[jU+3]+z*ih[jU+4])}e$[z]=H;a9[z]=K}for(var y=0;y<gZ.kh;y++){for(var r=0;r<gZ.KQ;r++){var z=y*gZ.KQ+r<<1;
gZ.map[z]=a9[y];gZ.map[z+1]=e$[r]}}bn=T.UndA.v.UndA=="WrpA"?2:1}else if(x=="Rple"){bn=1;var gN=T.Amnt.v/100,kA=4,fN=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],eh=1,cf=1,ku=0,fc=["Sml","Mdm","Lrg"].indexOf(T.RplS.v.RplS);
if(fc==0){eh=1;cf=.2;ku=3}if(fc==2){eh=1;cf=2;ku=-1;fN=fN.reverse()}var dr=function(r,y){var c7=Math.cos,h1=0;
for(var z=0;z<kA;z++)for(var bq=0;bq<kA;bq++)h1+=fN[z*kA+bq]*c7(r*(z+ku)-y*(bq+ku));return h1},ev=Math.floor(50/kt),gw=new Float32Array(ev*ev*2),dV=cf*gN*.5/kt;
for(var y=0;y<ev;y++)for(var r=0;r<ev;r++){var eI=eh*r*2*Math.PI/ev,j6=eh*y*2*Math.PI/ev,dU=dr(eI,j6),K=(dr(eI+.01,j6)-dU)*100,H=(dr(eI,j6+.01)-dU)*100,z=(y*ev+r)*2;
gw[z]=K*dV;gw[z+1]=H*dV}for(var y=0;y<gZ.kh;y++)for(var r=0;r<gZ.KQ;r++){var hN=y%ev,fW=r%ev,z=y*gZ.KQ+r<<1,k4=hN*ev+fW<<1;
gZ.map[z]=gw[k4];gZ.map[z+1]=gw[k4+1]}}}u.Ar.TQ(R.buffer,d.buffer,a,O,null,gZ.map,gZ.KQ,gZ.kh,bn)}return d};
var c2={};c2.auV="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");c2.et="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
c2.yF=["ScrC","ScrD","ScrL"];c2.XF=["SDRD","SDHz","SDLD","SDVt"];c2.y6="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
c2.aH="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");c2.Lx="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
c2.fX=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];c2.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
c2.GI=function(x){var R;if(x=="ClrP")R={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(x=="Ct")R={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(x=="DryB")R={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(x=="FlmG")R={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(x=="Frsc")R={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(x=="NGlw")R={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(x=="PntD")R={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(x=="PltK")R={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(x=="PlsW")R={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(x=="PstE")R={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(x=="RghP")R={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(x=="SmdS")R={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(x=="Spng")R={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(x=="Undr")R={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(x=="Wtrc")R={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(x=="AccE")R={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(x=="AngS")R={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(x=="Crsh")R={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(x=="DrkS")R={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(x=="InkO")R={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(x=="Smie")R={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(x=="Spt")R={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(x=="SprS")R={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(x=="DfsG")R={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(x=="Gls")R={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(x=="OcnR")R={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(x=="BsRl")R={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(x=="ChlC")R={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(x=="Chrc")R={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(x=="Chrm")R={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(x=="CntC")R={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(x=="GraP")R={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(x=="HlfS")R={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(x=="NtPr")R={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(x=="Phtc")R={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(x=="Plst")R={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(x=="Rtcl")R={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(x=="Stmp")R={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(x=="TrnE")R={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(x=="WtrP")R={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(x=="GlwE")R={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(x=="Crql")R={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(x=="Grn")R={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(x=="MscT")R={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(x=="Ptch")R={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(x=="StnG")R={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(x=="Txtz")R={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
R.__name="Filter Gallery";R.classID="GEfc";R.GEfk={t:"enum",v:{GEft:x}};R.GELv={t:"bool",v:!0};return R};
c2.$Y=function(x,R){for(var z=0;z<R.length;z++)~~(R[z]=(x[4*z]+x[4*z+1]+x[4*z+2])*(1/3))};c2.abq=function(x,R,T,c){var g=UPNG.quantize(x,R);
g={Pg:g.inds,Q0:g.plte};var d=Math.floor((T+c)*.015);if(d!=0)u.kV.a5D(g.Pg,T,c,d);return g};c2.Yt=function(x,R,T,c,g,d,U){x=T.GEfk.v.GEft;
var e=R.rect,N=e.m,l=e.e,J=N*l,w=T.FlRs?T.FlRs.v>>>1:0;function s(Z){return Z.o<<24|Z.A<<16|Z.J<<8|255}if(x=="ClrP")u.X.anW(R.buffer,N,l,d.buffer,[T.Pncl.v,T.StrP.v,T.PprB.v]);
if(x=="Ct"){var o=T.NmbL.v,V=T.EdgS.v,a=c2.abq(R.buffer.buffer,o*2,N,l);for(var z=0;z<a.Pg.length;z++)a.Pg[z]++;
var O=new Uint8Array((N+2)*(l+2));u.gN(a.Pg,new aP(1,1,N,l),O,new aP(0,0,N+2,l+2));var S=u.M.arI(O,N+2,l+2,V,!1),L=new gP(1,0,0,1,-1,-1);
for(var z=0;z<S.length;z++)u.M.i(S[z].path.z,L,S[z].path.z);var Q=[],b=a.Q0;for(var z=0;z<b.length;z++){var Z=b[z].est.q;
Q.push({o:Math.round(255*Z[0]),A:Math.round(255*Z[1]),J:Math.round(255*Z[2]),Y:Math.round(255*Z[3])})}var I=u._e(N,l);
for(var z=0;z<S.length;z++){var y=S[z],Z=Q[y.color-1];if(Z.Y==0)continue;I.fillStyle="rgba("+Z.o+","+Z.A+","+Z.J+","+Z.Y/255+")";
I.beginPath();Typr.U.pathToContext({crds:y.path.z,cmds:y.path.G},I);I.fill()}if(!e.Y3()){var r=I.getImageData(0,0,N,l);
u.kS(r.data,d.buffer)}}if(x=="DryB")u.X.a5w(R.buffer,N,l,d.buffer,[T.BrsS.v,T.BrsD.v,T.Txtr.v]);if(x=="FlmG")u.X.axb(R.buffer,N,l,d.buffer,[T.Grn.v,T.HghA.v,T.Intn.v,w]);
if(x=="Frsc")u.X.aoi(R.buffer,N,l,d.buffer,[T.BrsS.v,T.BrsD.v,T.Txtr.v]);if(x=="NGlw")u.X.a9B(R.buffer,N,l,d.buffer,[T.Sz.v,T.Brgh.v,s(u.I.ir(T.Clr.v)),s(c),s(g)]);
if(x=="PltK")u.X.aoP(R.buffer,N,l,d.buffer,[T.StrS.v,T.StDt.v,T.Sftn.v]);if(x=="PstE")u.X.ajR(R.buffer,N,l,d.buffer,[T.EdgT.v,T.EdgI.v,T.Pstr.v]);
if(x=="RghP")u.X.apG(R.buffer,N,l,d.buffer,[T.StrL.v,T.StDt.v,c2.y6.indexOf(T.TxtT.v.TxtT),T.Scln.v,T.Rlf.v,c2.et.indexOf(T.LghD.v.LghD),T.InvT.v]);
if(x=="SmdS")u.X.ajy(R.buffer,N,l,d.buffer,[T.StrL.v,T.HghA.v,T.Intn.v,T.FlRs.v,w]);if(x=="Spng")u.X.ae6(R.buffer,N,l,d.buffer,[T.BrsS.v,T.Dfnt.v,T.Smth.v,T.FlRs.v,w]);
if(x=="Undr")u.X.a5c(R.buffer,N,l,d.buffer,[T.BrsS.v,T.TxtC.v,c2.y6.indexOf(T.TxtT.v.TxtT),T.Scln.v,T.Rlf.v,c2.et.indexOf(T.LghD.v.LghD),T.InvT.v]);
if(x=="Wtrc")u.X.a0C(R.buffer,N,l,d.buffer,[T.BrsD.v,T.ShdI.v,T.Txtr.v]);if(x=="AccE")u.X.aa$(R.buffer,N,l,d.buffer,[T.EdgW.v,T.EdgB.v,T.Smth.v]);
if(x=="AngS")u.X.ajZ(R.buffer,N,l,d.buffer,[T.DrcB.v,T.StrL.v,T.Shrp.v]);if(x=="Crsh")u.X.aBn(R.buffer,N,l,d.buffer,[T.StrL.v,T.Shrp.v,T.Strg.v]);
if(x=="DrkS")u.X.a93(R.buffer,N,l,d.buffer,[T.Blnc.v,T.BlcI.v,T.WhtI.v]);if(x=="InkO")u.X.axP(R.buffer,N,l,d.buffer,[T.StrL.v,T.DrkI.v,T.LghI.v]);
if(x=="Smie")u.X.a0A(R.buffer,N,l,d.buffer,[T.StrW.v,T.StrP.v,T.Cntr.v]);if(x=="DfsG")u.X.avP(R.buffer,N,l,d.buffer,[T.Grns.v,T.GlwA.v,T.ClrA.v,s(g),w]);
if(x=="CntC")u.X.alF(R.buffer,N,l,d.buffer,[T.FrgL.v,T.BckL.v,c2.y6.indexOf(T.TxtT.v.TxtT),T.Scln.v,T.Rlf.v,c2.et.indexOf(T.LghD.v.LghD),T.InvT.v,s(g),s(c)]);
if(x=="ChlC")u.X.abZ(R.buffer,N,l,d.buffer,[T.ChrA.v,T.ChlA.v,T.StrP.v,w,s(g),s(c)]);var h=x=="GraP"||x=="Chrc"||x=="Plst"||x=="Rtcl"||x=="Stmp"||x=="TrnE";
if(h){var k=u.B(N*l);if(x=="GraP")u.X.a8f(R.buffer,N,l,d.buffer,[T.StrL.v,T.LgDr.v,c2.XF.indexOf(T.SDir.v.StrD),w]);
if(x=="Chrc")u.X.aAv(R.buffer,N,l,d.buffer,[T.ChAm.v,T.Dtl.v,T.LgDr.v]);if(x=="Plst")u.X.a1C(R.buffer,N,l,d.buffer,[T.ImgB.v,c2.aH.indexOf(T.LghP.v.LghP),T.Smth.v]);
if(x=="Rtcl")u.X.azA(R.buffer,N,l,d.buffer,[T.Dnst.v,T.BlcL.v,T.WhtL.v,w]);if(x=="Stmp")u.X.aei(R.buffer,N,l,d.buffer,[T.LgDr.v,T.Smth.v]);
if(x=="TrnE")u.X.atG(R.buffer,N,l,d.buffer,[T.ImgB.v,T.Smth.v,T.Cntr.v,w]);u.TR(d.buffer,k,0);c2.JL(k,d.buffer,c,g)}if(x=="NtPr")u.X.a4A(R.buffer,N,l,d.buffer,[T.ImgB.v,T.Grns.v,T.Rlf.v,s(c),s(g),w]);
if(x=="WtrP")u.X.a2T(R.buffer,N,l,d.buffer,[T.FbrL.v,T.Brgh.v,T.Cntr.v,w>>>1]);if(x=="Crql")u.X.a4k(R.buffer,N,l,d.buffer,[T.CrcS.v,T.CrcD.v,T.CrcB.v,w]);
if(x=="Grn")u.X.a3Y(R.buffer,N,l,d.buffer,[T.Intn.v,c2.Lx.indexOf(T.Grnt.v.Grnt),T.Cntr.v,s(c),s(g),w]);
if(x=="MscT")u.X.a6I(R.buffer,N,l,d.buffer,[T.TlSz.v,T.GrtW.v,T.LghG.v,w]);if(x=="Ptch")u.X.ahZ(R.buffer,N,l,d.buffer,[T.SqrS.v,T.Rlf.v,w]);
if(x=="Phtc"){function K(iz,gI,e,gn){u.kc.w5(iz,gI,e,gn);for(var z=0;z<J;z++)gI[z]=Math.max(0,Math.min(255,128+iz[z]-gI[z]))}var H=T.Dtl.v,p=T.Drkn.v,f=u.B(J);
u.Ve(R.buffer,f);var A=u.B(J);K(f,A,e,1);if(H==1){H=2;p=Math.round(p/4)}var _=u.B(J);K(f,_,e,H);for(var z=0;
z<J;z++)f[z]=Math.max(0,Math.min(255,255-(A[z]-_[z])*p));c2.JL(f,d.buffer,c,g)}if(x=="Spt"||x=="SprS"){var W,Y=1,G=1;
W={KQ:Math.floor(N/G),kh:Math.floor(l/G)};W.map=new Float32Array(W.KQ*W.kh*2);var i=new u.l.ek(T.FlRs.v),E=new Float32Array(8192),$=T.SprR.v,C=$<20?.018*$:.36+($-20)*.128;
if(x=="SprS"){C=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][$]}for(var z=0;
z<8192;z++)E[z]=(-1+2*i.get())*C*70;for(var B=0;B<l;B++)for(var M=0;M<N;M++){var j=B*N+M<<1;W.map[j]=E[j%7919];
W.map[j+1]=E[(j+1)%7919]}var P=W.map.slice(0),t=x=="Spt"?T.Smth.v-1:1;if(x=="Spt"&&t!=0){c2.agd(W.map,P,N,l,t);
c2.aa2(P,W.map,N,l,t)}if(x=="SprS"){var q=T.StrL.v>>>1,m=q==0?2:1;c2.agd(W.map,P,N,l,m);c2.aa2(P,W.map,N,l,m);
if(q!=0){var iE=c2.XF.indexOf(T.SDir.v.StrD),hV=[1,1,1,0][iE],dD=[-1,0,1,1][iE],bh=2*q+1,ho=1/bh;for(var B=0;
B<l;B++)for(var M=0;M<N;M++){var j=B*N+M<<1,aH=0,f2=0;for(var z=0;z<bh;z++){var e9=Math.max(0,Math.min(N-1,M-(q+z)*hV)),kB=Math.max(0,Math.min(l-1,B-(q+z)*dD)),ct=kB*N+e9<<1;
aH+=W.map[ct];f2+=W.map[ct+1]}P[j]=aH*ho;P[j+1]=f2*ho}W.map=P}}u.Ar.TQ(R.buffer,d.buffer,N,l,null,W.map,W.KQ,W.kh,Y)}if(x=="BsRl"||x=="PlsW"||x=="Chrm"){var fj=Date.now(),ab=u.B(J),iw=ab.slice(0);
u.Ve(R.buffer,ab);var H=T.Dtl.v,jD=T.Smth.v;if(H!=15){u.kc.nu(ab,iw,e,Math.round((15-H)*.5));u.kS(iw,ab)}var a1=1.4/N,gd=1.4/l,i6=new Float32Array(J),hv=new Float32Array(J),hO=new Float32Array(d.buffer.buffer);
for(var B=0;B<l;B++)for(var M=0;M<N;M++){var z=B*N+M,hV=M==N-1?ab[z]-ab[z-1]:ab[z+1]-ab[z],dD=B==l-1?ab[z]-ab[z-N]:ab[z+N]-ab[z],jh=M*a1-.7,aJ=B*gd-.7;
i6[z]=hV==0?jh:hV*.4;hv[z]=dD==0?aJ:dD*.4}if(x=="BsRl"){var hS=(2+c2.et.indexOf(T.LghD.v.LghD))*Math.PI*.25,aH=Math.cos(hS);
if(Math.abs(aH)<.1)aH=0;aH=Math.sign(aH);var f2=Math.sin(hS);if(Math.abs(f2)<.1)f2=0;f2=Math.sign(f2);
var iO=1/(aH*aH+f2*f2);for(var B=0;B<l;B++)for(var M=0;M<N;M++){var z=B*N+M,g$=Math.max(-1,Math.min(1,aH*i6[z])),bF=Math.max(-1,Math.min(1,f2*hv[z]));
iw[z]=128+127*(g$+bF)*iO}if(jD!=1){u.kc.nu(iw,ab,e,Math.round((jD-1)*.5));u.kS(ab,iw)}c2.JL(iw,d.buffer,c,g)}else{if(x=="Chrm")jD=5+jD;
if(jD>1)c2.k0(i6,hv,hO,e,jD-1);if(x=="PlsW"){var hy=new Uint8Array(i6.buffer);for(var z=0;z<J;z++){var fg=z<<2,hV=i6[z],dD=hv[z],hL=1/(Math.sqrt(1+hV*hV)*Math.sqrt(1+dD*dD)),dn=hL*hL,c5=dn*dn,Z=~~(255*(c5*c5*dn));
hy[fg+0]=Z;hy[fg+1]=Z;hy[fg+2]=Z;hy[fg+3]=Z}d.buffer.set(R.buffer);u.l.Hy("norm",hy,e,d.buffer,e,e,T.HghS.v/20)}else if(x=="Chrm"){var at=d.buffer,gt=N>>>1,iK=l>>>1;
for(var z=0;z<J;z++){var fg=z<<2,hV=i6[z],dD=hv[z],iz={x:1,y:0,Kj:hV};e5.vY(iz);var gI={x:0,y:1,Kj:dD};
e5.vY(gI);var ce=e5.amd(iz,gI),b7=1/ce.Kj,br=~~Math.max(0,Math.min(N-1,gt-ce.x*b7*gt)),kg=~~Math.max(0,Math.min(l-1,iK-ce.y*b7*iK)),Z=ab[kg*N+br];
at[fg+0]=Z;at[fg+1]=Z;at[fg+2]=Z}}}}if(x=="Gls"||x=="OcnR"||x=="Txtz"){var bM=x=="OcnR"?2:c2.y6.indexOf(T.TxtT.v.TxtT),eQ=c2.hs(bM),eT=eQ[0],ab=eQ[1],b6=eT.m,hx=eT.e,bh=24,dJ=0,d2,gQ;
function io(hl,hq,g2){return~~(jm*(hl+hq)+8192)&127}var i6=new Float32Array(J),hv=new Float32Array(J),hO=new Float32Array(d.buffer.buffer),jm=x=="OcnR"?1/(1+(T.RplS.v-1)*.1):100/T.Scln.v;
if(bM==3)jm*=32/22.2;var fj=Date.now(),bq=jm,a1=1.4/N,gd=1.4/l;if(x=="Txtz"){bq*=1/255;bh=256}for(var B=0;
B<l;B++){var gO=io(B,e.y,hx),kB=gO+1&127;for(var M=0;M<N;M++){var z=B*N+M,ae=io(M,e.x,b6),e9=ae+1&127,dl=0,eF=0,e6=0;
if(x=="Txtz"){dl=u.D.MX(jm*M,jm*B,ab,128,128);eF=u.D.MX(jm*M,jm*B+1,ab,128,128);e6=u.D.MX(jm*M+1,jm*B,ab,128,128)}else{dl=ab[gO*b6+ae];
eF=ab[kB*b6+ae];e6=ab[gO*b6+e9]}i6[z]=Math.max(-bh,Math.min((e6-dl)*bq,bh));hv[z]=Math.max(-bh,Math.min((eF-dl)*bq,bh))}}if(x=="Txtz")c2.azo(i6,hv,hO,e,6);
else c2.k0(i6,hv,hO,e,x=="Txtz"?1:x=="OcnR"?3.5/jm:T.Smth.v);if(x=="Txtz")dJ=T.InvT.v?-1:1;else if(x=="Gls"){dJ=[1,.4,.5,.5][bM]*(Math.exp(T.Dstr.v*.155)-1);
if(T.InvT.v)dJ=-dJ}else{dJ=.5*(Math.exp(T.RplM.v*.155)-1)}var at=d.buffer;if(x=="Txtz"){var hS=(2+c2.et.indexOf(T.LghD.v.LghD))*Math.PI*.25,aH=Math.cos(hS),f2=Math.sin(hS);
d2={x:aH,y:f2,Kj:0};e5.vY(d2);gQ=T.Rlf.v;gQ=gQ/4+Math.max(0,(gQ-35)*2)}function a6(iz,gI,cU){var jM=u.l.overF(gI,iz,1),hl=(1-cU)*iz+cU*(cU*gI+(1-cU)*jM);
return hl*255}for(var B=0;B<l;B++)for(var M=0;M<N;M++){var z=B*N+M,fg=z<<2,hV=i6[z],dD=hv[z],iz={x:1,y:0,Kj:hV};
e5.vY(iz);var gI={x:0,y:1,Kj:dD};e5.vY(gI);var ce=e5.amd(iz,gI);if(x=="Txtz"){var h6=e5.asZ(ce,d2)*dJ,cU=1,Z=1;
if(h6<0){Z=0;h6=-h6}cU=Math.min(1,h6*gQ);at[fg+0]=~~a6(R.buffer[fg]*(1/255),Z,cU);at[fg+1]=~~a6(R.buffer[fg+1]*(1/255),Z,cU);
at[fg+2]=~~a6(R.buffer[fg+2]*(1/255),Z,cU)}else{var b7=dJ/ce.Kj,br=~~Math.max(0,Math.min(N-1,M-ce.x*b7)),kg=~~Math.max(0,Math.min(l-1,B-ce.y*b7)),jv=kg*N+br<<2;
at[fg+0]=R.buffer[jv];at[fg+1]=R.buffer[jv+1];at[fg+2]=R.buffer[jv+2]}}}if(x=="PntD"){var de=T.Shrp.v*.4,jJ=T.BrsT.v.BrsT,c4={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[jJ],gn=Math.round(T.Sz.v*.5);
u.np.dh=c4[0];u.np.Is(R.buffer,d.buffer,N,l,gn,0,[]);var eG=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];eG=u.zo.nc(eG);
var gN=d.buffer.slice(0);u.zo.nh(gN,d.buffer,N,l,eG,0);for(var z=0;z<R.buffer.length;z++){var et=d.buffer[z]-gN[z];
d.buffer[z]=Math.max(0,Math.min(255,gN[z]+de*et))}}if(x=="GlwE"){var bi=d.buffer.slice(0);u.np.dh=.5;
u.np.Is(R.buffer,bi,N,l,T.Smth.v>>>1,0,[]);u.zo.aeL(bi,d.buffer,N,l);u.kS(d.buffer,bi);u.F0(bi);u.Qu(bi,4278190080,16777215);
u.Rn.a0D(bi,d.buffer,N,l,(T.EdgW.v>>>1)*2+1,!0);var bc=T.EdgB.v/10;for(var z=0;z<bi.length;z++){if((z&3)==3)continue;
var jM=d.buffer[z];d.buffer[z]=Math.max(0,Math.min(255,jM*bc))}}if(x=="StnG"){u.UZ.a1y(R.buffer,N,l,d.buffer,T.ClSz.v,[Math.round(c.o),Math.round(c.A),Math.round(c.J)],T.BrdT.v)}if(x=="HlfS"){var j9=T.HlSz.v,aR=j9*2+1,cc=T.Cntr.v,d1=c2.yF.indexOf(T.ScrT.v.ScrT),J=N*l,d7=J*4,ej=u.B(J),cr=R.buffer,dG=0,iH=0;
c2.$Y(cr,ej);var dZ=ej.slice(0);u.kc.aoN(dZ,ej,e,j9);var dw=Math.PI/aR,aX=new Float64Array(N),aH=new Float64Array(N),hz=new Float64Array(2*N);
for(var M=0;M<N;M++){var ae=(M-(N>>>1))*dw;aX[M]=ae*ae;aH[M]=Math.cos(ae);var hV=M<<1;hz[hV]=Math.sin(hV*(1/4.5));
hz[hV+1]=Math.sin((hV+1)*(1/4.5))}for(var B=0;B<l;B++){var gO=(B-(l>>>1))*dw,f2=Math.cos(gO),cW=gO*gO;
for(var M=0;M<N;M++){var Z=f2;if(d1==0){var gx=.5+Math.sqrt(aX[M]+cW)*4.5;Z=hz[~~gx]}else if(d1==1){Z=aH[M]*f2}var z=B*N+M,eS=ej[z]*(.75+.25*Z),cU=cr[(z<<2)+3]*(1/255),fw=Math.max(0,Math.min(255,~~eS));
dG+=fw*cU,iH+=cU;ej[z]=fw}}dG/=iH;var dE=128+1.26*(dG-128),bc=.08+.25*Math.abs((128-dG)/128),bw=1+bc*cc;
for(var z=0;z<J;z++){var eS=dE+(ej[z]-dE)*bw;ej[z]=Math.max(0,Math.min(255,~~eS))}if(cc>46)u.round(ej);
c2.JL(ej,d.buffer,c,g)}for(var z=0;z<R.buffer.length;z+=4)d.buffer[z+3]=R.buffer[z+3]};c2.JL=function(x,R,T,c){var g=x.length,d=T.o,U=T.A,e=T.J,N=c.o,l=c.A,J=c.J;
for(var z=0;z<g;z++){var w=x[z]*(1/255),s=1-w,o=z<<2;R[o]=~~(d*s+N*w);R[o+1]=~~(U*s+l*w);R[o+2]=~~(e*s+J*w)}};
c2.hs=function(x){if(x==6)x=2;var R="blocks canvas frosted tinylens brick burlap".split(" ")[x];if(c2.iy==null)c2.iy=[];
if(c2.iy[x]==null){var T,c;if(x==2){c=new aP(0,0,128,128);var g=gm.GI("AdNs");g.Mnch.v=!0;g.Dstr.v.Dstr="Gsn";
g.Nose.v.val=50;var T=u.B(c.Z()*4),d=T.slice(0);new Uint32Array(d.buffer).fill(4286611584);gm.Yt("AdNs",{buffer:d,rect:c},g,0,0,{buffer:T,rect:c})}else{var U=dp.wz.get("tex/"+R,!0)[0];
c=U.d8;T=new Uint8Array(U.data)}var e=u.B(c.Z());u.TR(T,e,0);c2.iy[x]=[c,e]}return c2.iy[x]};c2.k0=function(x,R,T,c,g){if(g<=1){g=Math.round(g);
c2.azo(x,R,T,c,[1,16,4][g]);return}var d=g*.42;if(x){u.kc.cX(x,T,c,d,3);x.set(T)}if(R){u.kc.cX(R,T,c,d,3);
R.set(T)}};c2.azo=function(x,R,T,c,g){var d=u.zo.nc([1,2,1,2,g,2,1,2,1]);if(x){T.set(x);u.zo.aaV(x,T,c.m,c.e,d);
x.set(T)}if(R){T.set(R);u.zo.aaV(R,T,c.m,c.e,d);R.set(T)}};c2.LB=function(x){if(x==null)return new cI(0,0);
var R=0,T=x.GEfs?x.GEfs.v:[{v:x}];for(var z=0;z<T.length;z++){var c=T[z].v,d=1e4;if(c.GELv&&!c.GELv.v)continue;
var g=c.GEfk.v.GEft;if(g=="GlwE"||g=="Phtc"||g=="BsRl"||g=="PlsW"||g=="Chrm"||g=="Gls"||g=="OcnR"||g=="InkO")d=0;
R=Math.max(R,d)}return new cI(R,R)};c2.a0o=function(x){var R=[0,0,0,0,0,0,0,0,0,0,0,0,0],T=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][x];
for(var z=0;z<13;z++){var c=z-6;R[z]=1/(T*Math.sqrt(2*Math.PI))*Math.exp(-.5*(c/T)*(c/T))}return R};
c2.agd=function(x,R,T,c,g){var d=c2.a0o(g),U=6,e=13;for(var N=0;N<c;N++)for(var l=0;l<T;l++){var J=N*T+l<<1,w=0,s=0;
for(var z=0;z<e;z++){var o=l+z-U,V=o<0?0:o>=T?T-1:o,a=(N*T+V)*2,O=d[z];w+=O*x[a];s+=O*x[a+1]}R[J]=w;
R[J+1]=s}};c2.aa2=function(x,R,T,c,g){var d=c2.a0o(g),U=6,e=13;for(var N=0;N<c;N++)for(var l=0;l<T;l++){var J=N*T+l<<1,w=0,s=0;
for(var z=0;z<e;z++){var o=N+z-U,V=o<0?0:o>=c?c-1:o,a=(V*T+l)*2,O=d[z];w+=O*x[a];s+=O*x[a+1]}R[J]=w;
R[J+1]=s}};function c_(){}c_.zh=[2,5,5,7,4,4];c_.h$="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
c_.Dm="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
c_.PZ=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
c_.Bw=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
c_.I3=function(x){if(x=="passThrough")return"pass";return c_.h$[c_.Dm.indexOf(x)]};c_.GM=function(x){if(x=="pass")return"passThrough";
return c_.Dm[c_.h$.indexOf(x)]};c_.getName=function(x){return c_.PZ[c_.h$.indexOf(x)]};function F(){this.rect=null;
this.buffer=null;this.mh="norm";this.opacity=255;this.UP=!1;this.rh=!1;this.Yn=0;this.jn=0;this.wm=!0;
this.l1=[];for(var z=0;z<10;z++)this.l1.push(0,0,255,255);this.name=null;this.add={};this.y5=null;this.JH=null;
this.F=null;this.MJ=null;this.abV=30;this._$=null;this.Jl=null;this.Nc=null;this.fm=null;this.s4=0;this.yn=!1;
this.Cq=null;this.um=new F.Mz}F.Mz=function(){this.t$=!0;this.Ps=!0;this.lv=u.B(0);this.a6Y=u.B(0);this.uW=null;
this.YC={};this.a6g=null;this.Ml=null;this.E$=null;this.oj=null;this.wg=null;this.w1=null;this.lj=null;
this.Ry=null;this.z$=null;this.Ha=null;this.$Q=null;this._w=null;this.Ub=!1};F.Mz.prototype.akL=function(){this.t$=null;
this.Ps=!1;this.uW=null;this.Ub=fq.tc};F.Mz.prototype.azW=function(){e5.aiL(this.YC);this.lv=u.B(0);
this.a6Y=u.B(0);if(this.oj)this.oj.delete();if(this.wg)this.wg.delete();this.oj=null;this.wg=null;var x=[this.w1,this.lj,this.Ry,this.z$,this.Ha,this.$Q];
for(var z=0;z<6;z++)if(x[z]!=null&&x[z]instanceof fq.IV)x[z].delete();this.w1=null;this.lj=null;this.Ry=null;
this.z$=null;this.Ha=null;this.$Q=null};F.prototype.W=function(x){if(x==null)x=this.rect.clone();if(this.um.uW==null)this.um.uW=x;
else this.um.uW=this.um.uW.y8(x)};F.prototype.NW=function(){return this.add.lsct==ew.bZ||this.add.lsct==ew.qW};
F.prototype.bT=function(){var x=this.add;return x.SoCo!=null||x.GdFl!=null||x.PtFl!=null};F.prototype.aAs=function(){var x=this.add.lmfx;
if(x==null)return;var R=["GrFl","patternFill"];for(var z=0;z<R.length;z++){var T=fJ.YZ[fJ.order.indexOf(R[z])],c=x[T].v;
if(c.length==0)continue;for(var g=0;g<c.length;g++){var d=c[g].v;if(d.enab.v&&(d.Algn==null||!d.Algn.v))this.um.Ps=!0}}};
F.prototype.adQ=function(){var x=this.F,R=this.um.t$;if(this.bT())x=this.le();if(!fq.tc)return x.Xw();
if(this.um.wg==null||R||fq.tc!=this.um.Ub){var T=x.zC(),c=this.um.wg,g=null;if(R!=!0&&R!=null){g=R.clone();
g.offset(-T.x,-T.y)}if(c==null||c.m!=T.m||c.e!=T.e){c=this.um.wg=new fq.JK(T.m,T.e);g=null}c.set(x.Xw(),g)}return this.um.wg};
F.prototype.az$=function(x){var R=this.rect,T=this.buffer;if(!fq.tc){var c=this.eO(x,T,R);if(c){T=c.z6;
R=c.rect}return T}if(this.um.uW!=null||fq.tc!=this.um.Ub){var c=this.eO(x,T,R);if(c){T=c.z6;R=c.rect}var g=R;
if(fq.tc!=this.um.Ub||this.um.oj==null||this.um.oj.m!=g.m||this.um.oj.e!=g.e){if(this.um.oj)this.um.oj.delete();
this.um.oj=new fq.IV(g.m,g.e);this.um.oj.set(T)}else{var d=this.um.uW.clone();d.offset(-R.x,-R.y);this.um.oj.set(T,d)}}return this.um.oj};
F.prototype.d9=function(){var x=this.F;if(this.bT())x=this.le();return x!=null&&x.isEnabled&&(!x.rect.Y3()||x.ir()!=255)};
F.prototype.eO=function(x,R,T){if(this.Xn()){var c=this.Ct(x);if(c.F&&c.F.isEnabled&&(!c.F.rect.Y3()||c.F.color==0)){var g=this.add.SoLd.filterFX.v;
c.F.Fo=g.filterMaskDensity?g.filterMaskDensity.v:255;c.F.Cu=g.filterMaskFeather?g.filterMaskFeather.v:0;
var d=c.buffer,U=c.rect;if(U.Z()<T.Z()){U=T;d=u.B(U.Z()*4);u.yU(c.buffer,c.rect,d,U)}var e=c.F.qC(T);
u.F0(e);R=R.slice(0);u.l.pW(d,U,R,T,e,T,0,T,1);return{z6:R,rect:T}}}};F.prototype.avc=function(){var x={A5:!1,WB:!1,QC:0,UH:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)x.WB=!0;if(this.le()&&this.le().isEnabled)x.A5=!0;if(x.A5&&x.WB){x.QC=this.le().rect.x-this.add.vmsk.le().rect.x;
x.UH=this.le().rect.y-this.add.vmsk.le().rect.y}return x};F.prototype.sG=function(x,R){if(b5!=0)return;
if(R&&this.le().Cu!=0){R=R.clone();var T=Math.round(this.le().Cu*2.4);R.t1(T,T)}var c=!1;if(this.add.lsct==ew.SO)return;
var g=this,d=this.le()!=null&&this.le().IP,U=this.add.vmsk!=null&&this.add.vmsk.IP,e=this.avc(),N=JSON.stringify(e)!=this.um.a6g||e.A5&&d||e.WB&&U;
if(N){if(e.WB){var l=this.add.vmsk.le();if(e.A5){this.F=this.le().Kq(l);this.um.Ml=new cI(this.F.rect.x-this.le().rect.x,this.F.rect.y-this.le().rect.y)}else this.F=l}if(this.F)c=!0;
if(this.F)this.um.E$=new cI(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);if(e.A5)this.le().IP=!1;
if(e.WB)this.add.vmsk.IP=!1;this.W(R)}else{if(e.A5&&e.WB){this.F.rect.x=this.le().rect.x+this.um.Ml.x;
this.F.rect.y=this.le().rect.y+this.um.Ml.y}}if(g.bT()){this.M_(x)}if(g.iZ()){var J;if(this.F)J=new cI(this.rect.x-this.F.rect.x,this.rect.y-this.F.rect.y);
if(this.F&&this.F.isEnabled&&(this.um.E$==null||!J.X$(this.um.E$))){this.um.E$=J;this.W(R);c=!0}}if(hD.get(g.add)!=null)c=!0;
if(c){var w=this.um.t$;if(R&&w&&w!=!0)w=w.y8(R);else w=R?R:!0;this.um.t$=w}this.um.a6g=JSON.stringify(e)};
F.prototype.M_=function(x){if(b5!=0)return;var R=this,T=R.add.vstk,c=new aP(0,0,x.m,x.e),g,d=R.add.vmsk?this.add.vmsk.le():null,N=!0,w;
if(d&&d.isEnabled&&d.ir()==0)g=d.zC().clone();else g=c;var U=R.le();if(U&&U.isEnabled&&U.ir()==0)g=g.yx(R.F.zC());
var e=d&&T;if(T&&(!T.strokeEnabled.v||T.strokeStyleLineWidth.v.val==0))e=!1;if(T&&!T.fillEnabled.v&&e)N=!1;
var l=u.B(g.Z()*4);if(N){if(R.add.SoCo)e5.vj(l,R.add.SoCo.Clr.v);if(R.add.GdFl){var J=d&&d.color==0?u.j.pP(R.add.vmsk.$,null,!0):null;
e5.Dc(R.add.GdFl,l,g,x,null,J)}if(R.add.PtFl)e5.Ms(R.add.PtFl,l,g,x.add.Patt,R.add.fxrp)}if(e)w=fJ.SC.tm.indexOf(T.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(d){var s=d.Fo;if(e)d.Fo=255;var o=u.B(g.Z());if(d.ir()!=0)o.fill(Math.round(d.ir()));if(d&&d.isEnabled){var V=d.zC(),a=d.Xw();
if(V.X$(g))u.kS(a,o);else u.gN(a,V,o,g)}if(e&&w==2){}else{if(R.add.SoCo&&N){u.rN(o,l,3)}else u.AD(o,g,l,g)}if(e)d.Fo=s}R.buffer=l;
R.rect=g;if(e){var O=T.strokeStyleContent.v,S=fJ.SC.af.indexOf(O.classID),L=this.add.vmsk.le(T);if(w!=0&&!R.rect.X$(c))R.extend(R.rect.y8(L.zC()));
var s=L.Fo;L.Fo=255;var Q=L.qC(R.rect);L.Fo=s;if(L.color==255)u.F0(Q);var b=u.B(R.rect.Z()*4);if(S==0)e5.vj(b,O.Clr.v);
if(S==1)e5.Dc(O,b,R.rect,x,null,d.color==0?d.rect:null);if(S==2)e5.Ms(O,b,R.rect,x.add.Patt,R.add.fxrp);
var Z=T.strokeStyleOpacity.v.val/100;if(Z!=1)u.VO(Q,Z);if(L.color==255)w=2-w;if(w<2){u.l.pW(b,R.rect,R.buffer,R.rect,Q,R.rect,255,R.rect,1,!1);
if(w==0)u.iv(o,R.buffer)}if(w==2){u.iv(Q,b);u.F0(o);u.l.pW(b,R.rect,R.buffer,R.rect,o,g,255,R.rect,1,!1);
u.F0(o)}if(L.Fo!=255){var I=b.slice(0);u.Qu(I,4278190080,16777215);u.l.Hy("norm",I,R.rect,R.buffer,R.rect,R.rect,1-L.Fo/255)}s=d.Fo;
d.Fo=255;this.a6Y=d.qC(R.rect);d.Fo=s}this.W()};F.prototype.Ht=function(x,R,T){var c=this,g=c.add.SoLd.Idnt.v,d=c.add.SoLd,U=D.gW.Yg(d.nonAffineTransform),e=u.M.QK(U),N=x.Ln(g,d.Crop?d.Crop.v:null,[e.m,e.e],d.Impr.v.classID,T),S=null;
if(N==null)return;var l=N.Zn;d.Sz.v.Wdth.v=l[1].m;d.Sz.v.Hght.v=l[1].e;if(b5!=0)return;var J=N.De==null?d.Rslt.v.val:N.De,w=d.quiltWarp.v;
if(u.zb.rJ(w))w=null;var s=u.D.ok(U,l[1]);if(w){var e=u.M.QK(u.zb.xe(w)[3]),o=e.x,V=e.y,a=1/e.m,O=1/e.e;
s=u.D.ok(U);s=u.D.Kq(s,[a,0,-o*a,0,O,-V*O,0,0])}if(!R&&!c.Xn()&&w==null){var L=x.R.indexOf(c),Q=F.Gk(c);
for(var z=0;z<L;z++){var b=x.R[z];if(b.add.SoLd&&!b.Xn()&&F.Gk(b)[0]==Q[0]){var Z=F.Gk(b);S={buffer:b.buffer.slice(0),rect:b.rect.clone()};
S.rect.offset(Math.round(Q[1]-Z[1]),Math.round(Q[2]-Z[2]));break}}}if(S==null)S=D.gW.W8(l,R?0:1,s,w,null,null,null,R);
if(S==null){c.buffer=u.B();c.rect=new aP}else if(c.Xn()){var I=c.Ct(x);I.buffer=S.buffer;I.rect=S.rect.clone();
this.lJ(x,R)}else{c.buffer=S.buffer;c.rect=S.rect}c.sG(x);c.W();x.W()};F.Gk=function(x){var R=x.add.SoLd,T=R.Idnt.v,c=D.gW.Yg(R.nonAffineTransform),g=u.D.ok(c,new aP(0,0,1e3,1e3)),d=R.quiltWarp.v;
if(u.zb.rJ(d))d=null;return[[T,g[0],g[1],g[3],g[4],g[6],g[7],d==null].join(":"),g[2],g[5]]};F.prototype.lJ=function(x,R){if(R==null)R=!1;
var T=this.Ct(x),c=this.add.SoLd.filterFX.v,g=gm.auK(c),d=new aP(0,0,x.m,x.e),U=T.rect.y8(d),e=T.rect.clone();
e.t1(g.x,g.y);var N={buffer:null,rect:U.yx(e)};N.buffer=u.B(N.rect.Z()*4);u.yU(T.buffer,T.rect,N.buffer,N.rect);
if(c.enab.v&&R==!1){var l=c.filterFXList.v;for(var z=0;z<l.length;z++){var J=l[z].v;if(J.enab.v==!1)continue;
var w=J.blendOptions.v,s=c_.I3(w.Md.v.BlnM),o=w.Opct.v.val/100,V=u.I.ir(J.FrgC.v),a=u.I.ir(J.BckC.v),O=gm.Fz(J),S={buffer:u.B(N.buffer.length),rect:N.rect.clone()},L=J.Fltr?J.Fltr.v:null;
if(hD.FP[O]!=null){var Q=hD.FP[O],b=hD.V0(Q,L);if(b)hD.Yt(b,N.buffer,S.buffer,N.rect)}else gm.Yt(O,N,L,V,a,S,[x.add.lnk2?x.add.lnk2:[],this.le(),x.Hp]);
if(s=="norm"&&o==1)N=S;else if(s=="norm"){u.l.pW(S.buffer,S.rect,N.buffer,N.rect,null,null,null,N.rect,o)}else{u.l.Hy(s,S.buffer,S.rect,N.buffer,N.rect,N.rect,o)}}}this.rect=N.rect;
this.buffer=N.buffer;this.mu();this.W();x.W()};F.prototype.qN=function(x,R,T){this.Cq=this.a0q(x,R,T)};
F.prototype.Gx=function(x,R){var T=this.a0q(x,R,!0);if(T==null)return null;var c={yO:T.s4,Ik:T.xm,rect:T.HL};
if(c.yO==1||c.yO==3){var g=c.rect,d=u.B(g.m*g.e*4);u.rN(c.Ik,d,0);u.rN(c.Ik,d,1);u.rN(c.Ik,d,2);u.H8(x.u.channel,x.u.rect,d,g);
c.Ik=d}return c};F.prototype.a0q=function(x,R,T){var c,g,d,U,e,N,l;if(this.s4<=0){var J=u.B(this.rect.Z());
u.TR(this.buffer,J,3);c=u.jY.EU(R,{channel:J,rect:this.rect},3);if(c==null)return null;var w=u.Vn(c.channel,c.rect);
U=c.rect.clone();e=this.rect.clone();g=u.B(U.Z()*4);u.yU(this.buffer,e,g,U);u.rN(c.channel,g,3);d=this.buffer.slice(0);
if(!T){var s=R.channel.slice(0);u.F0(s);u.AD(s,R.rect,d,e)}N=this.buffer.slice(0);l=this.rect.clone()}if(this.s4==1||this.s4==3){var o=this.s4==1?this.le():this.Ct(x).F;
U=R.rect.clone();e=o.rect.clone();g=o.dN(U);var d=o.channel.slice(0);if(!T)u.l.v0(o.color==255?u.DA(U.Z()):u.uz(U.Z()),U,d,e,R.channel,U,1);
N=o.channel.slice(0);l=o.rect.clone()}return{s4:this.s4,xm:g,HL:U,Uc:d,if:e,tK:N,lH:l}};F.prototype.i6=function(x,R){var T=this.Cq;
if(T.s4==0){this.rect=T.lH;this.buffer=T.tK;this.W()}if(T.s4==1||T.s4==3){var c=T.s4==1?this.le():this.Ct(x).F;
c.channel=T.tK;c.rect=T.lH;if(this.s4==1){c.IP=!0;this.sG(x)}if(this.s4==3)this.W()}this.Cq=R};F.prototype.Bt=function(x,R){if(this.s4<=0&&R.rect.X$(this.rect)){var T=u.B(this.rect.Z());
u.TR(this.buffer,T,3);if(u.X$(x.u.channel,T)){var c=this.rect,g=this.buffer;this.Cq={s4:this.s4,xm:g.slice(0),HL:c.clone(),Uc:u.B(0),if:new aP,tK:u.B(0),lH:new aP};
return!0}}var d=this.Cq;if(d==null)return!1;if(d.s4!=this.s4)return!1;if(!R.rect.X$(d.HL))return!1;var U=d.if.y8(d.HL);
if(d.s4<=0){if(!U.X$(this.rect))return!1;var e=u.B(d.xm.length>>2);u.TR(d.xm,e,3);if(!u.X$(R.channel,e))return!1;
var N=u.B(U.m*U.e*4);u.yU(d.Uc,d.if,N,U);u.l.Hy("norm",d.xm,d.HL,N,U,U,1);return u.X$(N,this.buffer)}if(d.s4==1||d.s4==3){var l=d.s4==1?this.le():this.Ct(x).F;
if(!U.X$(l.rect))return!1;var J=u.B(U.Z());J.fill(l.color);u.gN(d.Uc,d.if,J,U);u.l.v0(d.xm,d.HL,J,U,R.channel,U,1);
return u.X$(J,l.channel)}};F.prototype.$m=function(x,R,T,c){var g=this.Cq;g.HL.offset(R,T);var d=g.if.y8(g.HL);
if(g.s4<=0){var U=u.B(d.Z()*4);u.yU(g.Uc,g.if,U,d);u.l.Hy("norm",g.xm,g.HL,U,d,d,1);this.buffer=U;this.rect=d;
this.W()}else{var e=this.s4==1?this.le():this.Ct(x).F,N=u.B(d.Z());N.fill(e.color);u.gN(g.Uc,g.if,N,d);
u.l.v0(g.xm,g.HL,N,d,c.channel,d,1);e.channel=N;e.rect=d.clone();if(this.s4==1){e.IP=!0;this.sG(x)}if(this.s4==3)this.W()}};
F.prototype.aeV=function(x){var R=[-1,0,1,2];if(x)R.push(3);if(this.F)R.push(-2);if(this.MJ)R.push(-3);
return R};F.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};F.prototype.Je=function(cg){this.add.luni=this.name=cg};
F.prototype.kl=function(x){var R=this.add.lnsr,T=this.add.TySh;if(R=="rend"&&T){var c=bL.rl(T.pM);this.Je(c.slice(0,c.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
F.prototype.Pm=function(){return(this.Yn&1<<1)==0};F.prototype.iZ=function(){return(this.Yn&1<<4)==0};
F.prototype.eU=function(){return(this.Yn&1<<5)!=0};F.prototype.afv=function(){var x=this;if(x.add.lnsr!="bgnd"){x.add.lnsr="bgnd";
x.Je("Background");x.add.lspf=1<<2}};F.prototype.aAE=function(){var x=this;if(x.add.lnsr=="bgnd"){delete x.add.lnsr;
x.Je("Layer 0");x.add.lspf=0}};F.prototype.ad=function(x){var R=this.add.lspf;return R==null?!1:(R>>x&1)!=0};
F.prototype.oE=function(x){if(x&&!this.Pm())this.Yn-=2;if(!x&&this.Pm())this.Yn+=2};F.prototype.fx=function(){var x=this.add.lmfx;
if(x==null)return!1;for(var R in x){if(R=="masterFXSwitch")continue;if(R=="Scl")continue;if(R=="classID")continue;
if(x[R].v.length>0)return!0}return!1};F.prototype.Xn=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
F.prototype.yd=function(){var x=this.add.lmfx;if(x==null)return!1;if(!x.masterFXSwitch.v)return!1;for(var R in x){if(R=="masterFXSwitch")continue;
if(R=="Scl")continue;if(R=="classID")continue;var T=x[R].v;for(var z=0;z<T.length;z++)if(T[z].v.enab.v)return!0}return!1};
F.prototype.lC=function(){var x=this,R=x.add.SoLd,T=x.add.TySh,c=x.add.vmsk,g=[];if(R)g=D.gW.Yg(R.nonAffineTransform);
if(T&&this.um.Q4){g=u.M.$x(x.um.Q4).z;u.M.i(g,T.i,g)}if(c)g=u.M.$x(c.a2W()).z;return g};F.prototype.SW=function(x,R,T,c){if(b5==1)return u.M.QK(this.lC());
var g=new aP,d=this.iE(x,T,c);if(d.indexOf(0)!=-1)g=g.y8(this.rect);if(d.indexOf(1)!=-1){var U=this.le(),e=U.zC();
g=T&&U.ir()==0?g.Y3()?e:g.yx(e):g.y8(e)}if(d.indexOf(2)!=-1){var N=this.add.vmsk,l=this.add.vstk,J;if(R){if(N.fH.length>1){var w=u.j.Md(N.$,null,N.fH);
J=u.M.QK(w);if(J.Y3())J=null}if(J==null)J=u.j.pP(N.$,N.g.length!=0?N.g:null)}else J=u.j.pP(N.$);if(!c&&l&&l.strokeEnabled.v){var s=l.strokeStyleLineAlignment.v.strokeStyleLineAlignment,o=l.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(s!="strokeStyleAlignInside"){var V=l.strokeStyleLineWidth.v.val;if(o=="strokeStyleMiterJoin")J=new aP(0,0,x.m,x.e);
else J.t1(V,V)}}g=g.y8(J)}if(d.indexOf(3)!=-1)g=g.y8(this.Ct(x).F.zC());if(d.length==0&&this.bT())g=c?new aP(0,0,0,0):new aP(0,0,x.m,x.e);
return g};F.prototype.Ji=function(){var x=this.add.artb,R=x.artboardBackgroundType.v,T=0;if(R==1)T=4294967295;
else if(R==2)T=4278190080;else if(R==3)T=0;else if(R==4){T=x.Clr.v;T=255<<24|T.Bl.v<<16|T.Grn.v<<8|T.Rd.v}else throw R;
return T};F.prototype.Ie=function(){var x=this.add.artb.artboardRect.v,R=x.Btom.v,T=x.Left.v,c=x.Rght.v,top=x.Top.v;
return new aP(T,top,c-T,R-top)};F.prototype.yc=function(x){var R=F.vR(x);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=R};F.vR=function(x){var R={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
R.Btom.v=x.y+x.e;R.Left.v=x.x;R.Rght.v=x.x+x.m;R.Top.v=x.y;return R};F.prototype.iE=function(x,R,T){var c=[],g=this;
if(!R&&g.yn&&T){c.push(2)}else if(g.s4<=0||R){if(g.iZ()){if(b5==1&&g.add.TySh)c.push(0);if(b5==1&&g.add.SoLd)c.push(0);
else if(!this.rect.Y3())c.push(0)}if(g.le()&&!g.le().rect.Y3())if(g.le().fh||R)c.push(1);if(g.add.vmsk)if(g.add.vmsk.fh||R)c.push(2);
if(g.Xn()&&g.Ct(x).F&&!g.Ct(x).F.rect.Y3())c.push(3)}else if(g.s4==1){c.push(1);if(g.le().fh&&!g.le().rect.Y3()){if(g.iZ())if(!this.rect.Y3())c.push(0);
if(g.add.vmsk)if(g.add.vmsk.fh)c.push(2)}}else if(g.s4==3&&!g.Ct(x).F.rect.Y3())c.push(3);if(g.add.artb&&c.indexOf(0)==-1)c.push(0);
c.sort();return c};F.prototype.le=function(){var x=this;return x.MJ?x.MJ:x.add.vmsk&&x.add.vmsk.isEnabled?null:x.F};
F.prototype.Ct=function(x){var R=this.add.SoLd.placed.v,T=x.add.FEid;if(T==null)return null;for(var z=0;
z<T.length;z++)if(T[z].id==R)return T[z];return null};F.prototype.extend=function(x){u.aym(this,x)};
F.prototype.aod=function(x,R,T){var c=x.clone();if(this.yd()){var g=this.add.lmfx,d=R.root.ct(R.R.indexOf(this)),U=g.gradientFillMulti.v,e=!1;
for(var z=0;z<U.length;z++)if(U[z].v.enab.v&&U[z].v.Algn.v)e=!0;if(e)c=c.y8(d.zC(R,!1));var N=e5.apv(this.add.lmfx,R,T);
c.offset(N.x,N.y);c.m+=N.m;c.e+=N.e}return c};F.prototype.mu=function(){if(this.iZ())u.T_(this);var x=this.le();
if(x)x.mu()};F.prototype.clone=function(){var x=new F;x.rect=this.rect.clone();x.buffer=this.buffer.slice(0);
x.mh=this.mh;x.opacity=this.opacity;x.UP=this.UP;x.Yn=this.Yn;x.name=this.name;x.l1=this.l1.slice(0);
if(this.F)x.F=this.F.clone();if(this.MJ)x.MJ=this.MJ.clone();for(var R in this.add)x.add[R]=kc.clone(R,this.add[R]);
return x};F.prototype.Aq=function(x){var R=this;if(R.add.TySh)delete R.add.TySh;if(R.add.SoLd){var T=this.eO(x,this.buffer,this.rect);
if(T){this.buffer=T.z6;this.rect=T.rect;this.W()}delete R.add.SoLd}if(R.add.SoCo||R.add.GdFl||R.add.PtFl){if(R.add.vogk)delete R.add.vogk;
if(R.add.SoCo)delete R.add.SoCo;if(R.add.GdFl)delete R.add.GdFl;if(R.add.PtFl)delete R.add.PtFl;if(R.add.vmsk){console.log(R.MJ,R.F);
delete R.add.vmsk;if(R.MJ==null&&R.F)delete R.F;else if(R.MJ!=null&&R.F!=null){R.F=R.MJ;delete R.MJ}}}if(!R.NW()&&hD.get(R.add)==null&&!this.iZ())this.Yn-=16};
F.prototype.PG=function(x){var R=255,T=0;if(x==2){var c=this.add.SoLd.filterFX.v;if(c.filterMaskDensity)R=c.filterMaskDensity.v;
if(c.filterMaskFeather)T=c.filterMaskFeather.v}else{var g=x==0?this.le():this.add.vmsk;R=g.Fo;T=g.Cu}return{Ds:x,eL:R,Ou:T}};
F.prototype.acS=function(x){if(x.Ds==2){var R=this.add.SoLd.filterFX.v;if(x.eL==255)delete R.filterMaskDensity;
else R.filterMaskDensity={t:"long",v:x.eL};if(x.Ou==0)delete R.filterMaskFeather;else R.filterMaskFeather={t:"doub",v:x.Ou};
this.W()}else{var T=x.Ds==0?this.le():this.add.vmsk;T.Fo=x.eL;T.Cu=x.Ou;T.IP=!0}};F.prototype.h5=function(){var x=this,R=x.add.vmsk;
if(R==null)return;x.add.vogk=u.oZ.ab9(R.$)};F.h5=function(x){var R=[],T=u.j.fc(x);for(var c=0;c<T;c++)R.push(u.oZ.uz());
return R};var ew={fA:0,bZ:1,qW:2,SO:3};F.Wu=function(){this.name="Mask";this.PW=!1;this.O7={o:255,A:0,J:0};
this.xF=50;this.bh=0;this.color=255;this.fh=!0;this.isEnabled=!0;this.j2=!1;this.Fo=255;this.Cu=0;this.rect=new aP;
this.channel=u.B(0);this.VW=null;this.aBh=null;this.IP=!0};F.Wu.prototype.Kq=function(x){if(!this.isEnabled)return x;
var R=new F.Wu;R.color=Math.round(this.ir()*x.ir()/255);if(this.ir()==0&&x.ir()==0)R.rect=this.zC().yx(x.zC());
else if(x.ir()==0)R.rect=x.zC().clone();else if(this.ir()==0)R.rect=this.zC().clone();else R.rect=this.zC().y8(x.zC());
R.channel=this.qC(R.rect);R.Fo=255;R.Cu=0;var T=x.qC(R.rect);u.a2t(T,R.rect,R.channel,R.rect);return R};
F.Wu.prototype.zC=function(){if(this.Cu==0)return this.rect;var x=Math.ceil(this.Cu*2.2),R=this.rect.clone();
if(R.y==0){if(R.x==0)R.m+=x;else R.t1(x,0);R.e+=x}else R.t1(x,x);return R};F.Wu.prototype.Xw=function(){if(this.Cu==0&&this.Fo==255)return this.channel;
if(this.Cu==0){var x=this.channel.slice(0);u.F0(x);u.VO(x,this.Fo/255);u.F0(x);return x}var R=this.zC(),T=this.dN(R),x=u.B(R.Z());
u.kc.nu(T,x,R,this.Cu);if(this.Fo!=255){u.F0(x);u.VO(x,this.Fo/255);u.F0(x)}return x};F.Wu.prototype.ir=function(){return Math.round(255-(255-this.color)*(this.Fo/255))};
F.Wu.prototype.extend=function(x){u.extend(this,x,this.color)};F.Wu.prototype.mu=function(){if(this.color==255)u.F0(this.channel);
u.mu(this);if(this.color==255)u.F0(this.channel)};F.Wu.prototype.clone=function(){var x=new F.Wu;x.name=this.name;
x.PW=this.PW;x.O7=this.O7;x.xF=this.xF;x.bh=this.bh;x.color=this.color;x.fh=this.fh;x.isEnabled=this.isEnabled;
x.j2=this.j2;x.Fo=this.Fo;x.Cu=this.Cu;x.rect=this.rect.clone();x.channel=this.channel.slice(0);return x};
F.Wu.prototype.dN=function(x,R){if(R==null)R=u.B(x.Z());R.fill(this.color);u.gN(this.channel,this.rect,R,x);
return R};F.Wu.prototype.qC=function(x,R){var T=this.zC(),c=this.Xw();if(R==null)R=u.B(x.Z());R.fill(this.ir());
u.gN(c,T,R,x);return R};F.LS=function(){this.fh=!0;this.isEnabled=!0;this.Fo=255;this.Cu=0;this.XI=0;
this.AC=0;this.$=[{type:6},{type:8,all:0}];this.no=[-3,-3];this.U6=!1;this.MJ=null;this.IP=!0;this.g=[];
this.fH=[]};F.LS.prototype.a2W=function(x){var R=F.LS.Lz(this.$),T=new gP;if(x)T.rotate(-this.XI);u.j.q0(R,T);
return u.j.pP(R)};F.LS.prototype.a9r=function(){var x=this.a2W(!0),R=u.M.$x(x).z,T=new gP;T.rotate(this.XI);
u.M.i(R,T,R);return R};F.LS.prototype.offset=function(x,R){this.MJ=this.le();u.j.q0(this.$,new gP(1,0,0,1,x,R));
this.MJ.rect.offset(x,R)};F.LS.prototype.le=function(x){if(!this.IP&&this.MJ&&x==null){this.MJ.isEnabled=this.isEnabled;
return this.MJ}var R=u.j.pP(this.$),T="strokeStyleLineAlignment",c="strokeStyleLineJoinType";if(R.Z()>2e4*2e4)R=new aP(0,0,100,100);
if(x&&x[T].v[T]!="strokeStyleAlignInside"){var g=1;if(x[c].v[c]=="strokeStyleMiterJoin"){var d=u.j.a7g(this.$),U=d/2,e=Math.sin(U),N=Math.cos(U);
N/=e;e=1;var g=Math.sqrt(N*N+e*e);if(isNaN(g)||g<1)g=1}g*=x[T].v[T]=="strokeStyleAlignOutside"?1:.5;
var l=Math.ceil(x.strokeStyleLineWidth.v.val*g);l=Math.min(l,600);R.t1(l,l)}R=u.M.cJ(R);var J=new F.Wu;
J.color=u.j.OI(this.$)?0:255;J.fh=this.fh;J.isEnabled=this.isEnabled;J.j2=!0;J.rect=R;J.Fo=this.Fo;J.Cu=this.Cu;
J.channel=u.B(J.rect.Z());if(!R.Y3())u.j.abl(this.$,J.channel,J.rect,x);if(x==null){this.MJ=J;this.IP=!1}return J};
F.LS.prototype.clone=function(){var x=new F.LS;x.fh=this.fh;x.isEnabled=this.isEnabled;x.Fo=this.Fo;
x.Cu=this.Cu;x.XI=this.XI;x.$=F.LS.Lz(this.$);x.no=this.no.slice(0);x.U6=this.U6;x.g=this.g.slice(0);
x.fH=this.fH.slice(0);return x};F.LS.prototype.concat=function(x){var R=x.$.slice(2);if(R.length==0)return;
R[0].AC=3;this.$=this.$.concat(R)};F.LS.Lz=function(x){var R=[];for(var z=0;z<x.length;z++){var T=x[z];
if(T.type>5||T.type==0||T.type==3)R.push(JSON.parse(JSON.stringify(T)));else R.push({type:T.type,YA:T.YA.clone(),L:T.L.clone(),VV:T.VV.clone()})}return R};
F.LS.a4U=function(x,R,T){if(x.length!=R.length)return!1;for(var z=2;z<x.length;z++){var c=x[z],g=R[z];
if(c.type!=g.type)return!1;if(c.type==0||c.type==3){if(c.length!=g.length||!T&&c.AC!=g.AC)return!1}else if(!c.YA.X$(g.YA)||!c.L.X$(g.L)||!c.VV.X$(g.VV))return!1}return!0};
F.LS.prototype.aop=function(){var x=this.$;for(var z=3;z<x.length;z++)if(x[z].type==0||x[z].type==3)x[z].AC=-1};
F.XK=function(){this.type=null;this.gG=2;this.E5=null;this.H7="";this.KI="";this.xd="";this.open=0;this.raw=null;
this.Zn=null;this.a4t="";this.cF=!1};F.XK.prototype.clone=function(){var x=new F.XK;x.type=this.type;
x.gG=this.gG;x.E5=this.E5;x.H7=this.H7;x.KI=this.KI;x.xd=this.xd;x.open=this.open;x.raw=new Uint8Array(this.raw.buffer.slice(0));
return x};F.XK.prototype.Yr=function(x,R,T,c,g){if(T==null)T="none";var d=this,U=dp.Xk(d.raw.buffer),e=U=="svg"||U=="pdf"||U=="ai";
if(d.Zn){var N=R&&e&&Math.max(d.Zn[1].m,d.Zn[1].e)<Math.max(R[0],R[1]);if(!N&&T==this.a4t&&!d.cF)return}this.a4t=T;
if(!e)x=0;if(U==null){alert("Unsupported format: "+n.zQ(d.raw,0,4));return null}var l=dp.Ix(U);if(l.y0){var J=new c9(name+(U=="psd"?"":"-"+U)+".psd"),w;
l.x3(d.raw.buffer,J,R);var s=new aP(0,0,J.m,J.e);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(T)!=-1){var o=[];
for(var z=0;z<J.R.length;z++){var V=J.R[z],a=V.buffer;if(!V.rect.X$(s)){a=u.B(s.Z()*4);u.yU(V.buffer,V.rect,a,s);
console.log("resizing")}o.push(a)}w=u.B(s.Z()*4);u.stack.stack(o,w,T)}else{for(var z=0;z<J.R.length;
z++)if(J.R[z].bT())J.R[z].sG(J);if(c&&J.cF){var O=cQ.fG(J,c,g);d.cF=!O;if(O)cQ.Fg(J,c,g)}J.Cg();J.W();
J.jB();w=J.Yr()}d.Zn=[w,s];d.De=J.De!=null&&J.De!=0?J.De:72}else if(l){var S=l.x3(d.raw.buffer)[0];d.Zn=[new Uint8Array(S.data),S.d8];
d.De=S.De!=null&&S.De!=0?S.De:72}if(d.Zn){if(x==1){var a=d.Zn[0],L=d.Zn[1],Q=u.B(L.Z());u.TR(a,Q,3);
var b=u.Vn(Q,L),Z=u.B(b.Z()*4);u.yU(a,L,Z,b);b.x=b.y=0;d.Zn=[Z,b]}u.hj(d.Zn)}};F.S5="0";F.X2="2";F.ol="2.5";
F.bu="2.6";F.ET="3";F.SM="4";F.Sn="4.5";F.am7="4.6";F.arZ="5";F.tI="5.5";F.Qm="6";F.v8="7";F.a4w="8";
F.$C="9";F.an="9.3";F.aAb="9.5";F.$H="9.6";F.fJ="10";F.ud="11";F.Uq="12";F.Rk="13";F.UQ="13.1";F.aC1="13.2";
F.DD="13.3";F.bs="13.4";F.PB="14";F._5="14.1";F.c2="14.2";F.av="14.3";F.lS="17";F.kD="18";F.abN="19";
F.eK="19.5";F.Nq="19.6";F.RW="19.7";F.Ei="19.8";F.B0="20";F.sN="21";F.FB="21.5";F.oH="22";F.h6="22.5";
F.P1="23";F.anA="24";F.OF="25";F.auh="26";F.a27="27";F.IB="28";F.eH="29";F.Sx="30";F.q8="31";F.uU="32";
F.oe="33";F.cP="34";F.p$="35";F.tz="36";F.jy="36.5";F.NA="37";F.$O="37.5";F.anZ="37.6";F.MF="38";F.nk="38.5";
F.JM="38.6";F.MI="39";F.o2="40";F.arp="41";F.Zb="42";F.Nh="50";F.p4="51";F.Iv="52";F.TO="53";F.B3="54";
F.azk="54.5";F.ph="54.6";F.aam="54.7";F.CI="54.8";F.Ok="55";F.tl="56";F.VZ="57";F.KS="58";F.gU="59";
F.Tx="60";function gg(){this.depth=0;this.index=-1;this.a=null;this.ahj=null;this.QO=-1;this.children=null;
this.parent=null;this.EJ=null}gg.prototype.aqe=function(x,R){if(this.depth!=0)x.push(this.a.getName());
if(this.children)for(var z=0;z<this.children.length;z++)this.children[z].aqe(x,R);if(x.length>R.hu.length)R.hu=x.slice(0);
if(this.depth!=0)x.pop()};gg.prototype.anK=function(){var x=0;if(this.a.NW()){for(var z=0;z<this.children.length;
z++)x+=this.children[z].anK()}else if(this.a.buffer)x+=this.a.buffer.length;return x};gg.prototype.ct=function(x){var R=this.EJ[x];
return this.EJ[x]};gg.prototype.a0U=function(x,R){var T=this.a;if(!T.Pm()||T.ad(2)||T.ad(31))return null;
if(T.d9()){var c=T.F.rect.fg(x);if(!c&&T.F.color==0)return}if(T.NW()){for(var z=0;z<this.children.length;
z++){var cg=this.children[z];cg.a0U(x,R)}}else if(b5==1){var g=T.lC();if(x.fg(u.M.QK(g))&&R.indexOf(this.index)==-1)R.push(this.index)}else if(T.rect.fg(x))R.push(this.index)};
gg.prototype.Ua=function(x,R){var T=this.a;if(!T.Pm()||T.ad(2)||T.ad(31))return null;if(T.d9()){if(T.F.rect.mD(x)){if(!u.Ua(x,T.F.channel,T.F.rect))return null}else if(T.F.color==0)return null}if(T.NW()){if(T.add.artb&&!T.Ie().mD(x))return null;
for(var z=this.children.length-1;z>=0;z--){var cg=this.children[z],c=cg.Ua(x,R);if(c&&R==null)return c}return null}else if(b5==1){if(T.add.vmsk){var g=T.add.vstk,d=!g.fillEnabled.v&&!T.rh,U=g.strokeStyleLineWidth.v.val*.5,e=u.j.Ua(T.add.vmsk.$,x,d,U);
return e.iY==-1?null:this}var N=T.lC();if(bd.vb(N,x.x,x.y))return this}else if(T.add.TySh&&T.rect.mD(x)||u.aoq(x,T.buffer,T.rect)){if(R==null)return this;
else R.push(this.index)}return null};gg.prototype.azK=function(x){var R=this.a;if(!R.Pm()||R.ad(2)||R.ad(31))return null;
var T=R.add.vmsk;if(T&&T.isEnabled){var c=u.j.Ua(T.$,x).iY;if(c!=-1)return{aCu:this,aaa:c}}if(R.NW()){if(R.add.artb&&!R.Ie().mD(x))return null;
for(var z=this.children.length-1;z>=0;z--){var cg=this.children[z],g=cg.azK(x);if(g)return g}return null}return null};
gg.prototype.t7=function(x,R){x.push(this.index);if(this.a.NW()){x.push(this.QO);if(R)if(this.a.s4==1&&this.a.le().fh==!1)return;
for(var z=0;z<this.children.length;z++)this.children[z].t7(x)}};gg.$S=function(){var x=document.createElement("canvas");
return x.getContext("2d")};gg.an3=function(x,R){var T,c;if(x.m>x.e){T=R;c=Math.floor(R*(x.e/x.m))}else{T=Math.floor(R*(x.m/x.e));
c=R}return new cI(T,c)};gg.ap=32;gg.tL=1;gg.prototype.N4=function(x,R,T){var c=gg.tL,g=this.a;if(g.NW()&&g.add.artb!=null)R=g.Ie();
var d=c==0?g.rect:R;if(d.Y3()||g.add.TySh)d=R;var U=gg.ap*D.mM(),e=gg.an3(d,U),N=e.x,l=e.y,J=gg.an3(R,U);
if(g.bT()&&g.add.vmsk==null||g.add.TySh)N=l=Math.max(l,16);else if(g.NW()){N=l=16}else{N=Math.max(N,6);
l=Math.max(l,6)}if(T&&g._$==null){g._$=gg.$S();g.Jl=gg.$S();g.Nc=gg.$S();g.fm=gg.$S()}var w=g.bT()&&g.add.vmsk;
if(w){if(T&&g.add.vstk)u.Jf.G3(g._$,N,l,d,g.buffer,g.rect,!1,null,!g.add.vstk.fillEnabled.v&&!g.add.vstk.strokeEnabled.v);
if(T)u.Jf.apZ(g._$,N,l)}else if(g.add.TySh){if(T)u.Jf.ahv(g._$,l,l,g.add.TySh)}else if(g.add.SoCo){if(T)u.Jf.a3I(g._$,l,l,g.add.SoCo)}else if(g.add.GdFl){if(T)u.Jf.aab(g._$,l,l,g.add.GdFl)}else if(g.add.PtFl){if(T)u.Jf.a3w(g._$,l,l,g.add.PtFl,x)}else if(hD.get(g.add)!=null){if(T)u.Jf.arP(g._$,l,l,g.add)}else if(g.add.SoLd){if(T)u.Jf.G3(g._$,N,l,d,g.buffer,g.rect,!1);
if(T)u.Jf.a0$(g._$,N,l,g.add.SoLd)}else if(g.NW()){}else{if(T){if(g.iZ())u.Jf.G3(g._$,N,l,d,g.buffer,g.rect,!1);
else{u.Jf.ahA(g._$,l,l)}}}var s=g.le();if(T){if(s)u.Jf.RB(g.Jl,J.x,J.y,R,s);if(g.Xn()&&g.Ct(x)&&g.Ct(x).F){var o=g.Ct(x).F;
u.Jf.RB(g.fm,J.x,J.y,R,o)}if(!w&&g.add.vmsk){u.Jf.RB(g.Nc,J.x,J.y,R,g.add.vmsk.le(),!0)}}if(s||g.add.vmsk)l=Math.max(l,J.y);
g.abV=Math.max(l,24);if(T!=!0&&g.NW()&&(g.add.lsct==ew.bZ||x.R.length<4e3))for(var z=0;z<this.children.length;
z++)this.children[z].N4(x,R)};gg.prototype.acs=function(x,R,T,c){this.depth=T;var g=x[R];if(c==null)c=[];
this.EJ=c;if(g.add.lsct==ew.SO){this.ahj=g;this.QO=R-1;this.children=[];var z=R+1;while(!0){var d=x[z];
if(d==null)console.log(z,x.length);if(d.add.lsct==ew.bZ||d.add.lsct==ew.qW){if(g.add.lyid==d.add.lyid)g.add.lyid+=16777215;
this.a=d;this.index=z-1;c[this.index]=this;c[R-1]=this;break}var U=new gg;U.parent=this;z=U.acs(x,z,T+1,c);
this.children.push(U)}return z+1}else{this.a=g;this.index=R-1;c[this.index]=this;return R+1}};gg.prototype.t3=function(x,R,T,c){var g=this.ct(T),d=x;
while(g.parent!=null){d=g.a.aod(d,R,c);g=g.parent}return d};gg.prototype.zC=function(x,R){var T=this.a,c=new aP;
if(!T.Pm())return c;var g=T.le();if(T.NW())for(var z=0;z<this.children.length;z++){var d=this.children[z].zC(x,!0);
c=c.y8(d)}else if(hD.get(T.add)!=null)c=T.d9()&&T.F.color==0?T.F.zC().clone():new aP(0,0,x.m,x.e);else if(T.bT()&&T.add.vmsk&&T.add.vmsk.isEnabled&&T.add.vstk){c=T.rect.clone()}else if(T.bT()&&g&&g.isEnabled&&g.ir()!=0)c=new aP(0,0,x.m,x.e);
else{c=T.SW(x,!1,!0);if(T.add.vmsk)c=u.M.cJ(c)}return R?T.aod(c,x):c};gg.Vi={delete:function(x){if(x&&x.m)x.delete()},B:function(x,R){return fq.tc?new fq.IV(x,R):u.B(x*R*4)},Zq:function(x,R,T){if(fq.tc){if(x==null||x.m!=R||x.e!=T){gg.Vi.delete(x);
return new fq.IV(R,T)}}else{if(x==null||!(x instanceof Uint8Array)||x.length!=R*T*4){gg.Vi.delete(x);
return u.B(R*T*4)}}return x},gN:function(x,R,T,c,g){(fq.tc?fq.BZ:u.yU)(x,R,T,c,g)},pW:function(x,R,T,c,g,d,U,e,z,N,l){(fq.tc?fq.l.Qh:u.l.pW)(x,R,T,c,g,d,U,e,z,N,l)},an9:function(x,R,T,c,g,d,U,e){var N=T.clone(),l=g.m,J=g.e,w=N.x,s=N.y,o=N.x+N.m>l?-1:0,V=N.x<0?2:1,a=N.y+N.e>J?-1:0,O=N.y<0?2:1;
for(var S=a;S<O;S++)for(var L=o;L<V;L++){N.x=w+L*l;N.y=s+S*J;gg.Vi.Hy(x,R,N,c,g,d,U,e)}},Hy:function(x,R,T,c,g,d,U,e){if(fq.tc)fq.l.aw(x,R,T,c,g,d,U,e);
else u.l.Hy(x,R,T,c,g,d,U,e)},Qu:function(x,R,T){if(fq.tc){fq.WM(x);fq.IC(R,T)}else u.Qu(x,R,T)},anI:function(x,R,T,c,g){if(fq.tc){fq.l.Qh(null,null,c,g,x,R,T,g,1,!1)}else{if(T==255)u.AD(x,R,c,g);
else{var d=u.B(R.Z());u.GB(c,g,d,R);u.oB(x,d);u.Qu(c,0,16777215);u.H8(d,R,c,g)}}},oG:function(x,R,T,c){if(fq.tc)fq.l.Qh(null,null,T,c,x,R,0,c,1,!1);
else u.oG(x,R,T,c)}};gg.prototype.ZX=function(x,R,T,c,g,d){var U=typeof d=="number";if(!this.a.NW()&&(U&&this.index>d||!U&&d.indexOf(this.index)==-1)){return}var e=this.a,N=e5.xG(e),l=gg.Vi,J=e.bT()?e.le():e.F;
if(!e.Pm())return;if(e.d9()&&J.rect.Y3()&&J.ir()==0){return}if(e.add.vstk==null&&this.zC(c,!1).Y3()){return}var w=this.zC(c,!0).yx(T);
if(!R.X$(T)&&!T.fg(w))return;if(e.NW()&&e.add.artb){var s=e.Ie();T=T.yx(s)}var o=gg.ayB(e,g,N);if(!o){this.aAI(x,R,T,c,g,d);
return}e.um.w1=l.Zq(e.um.w1,w.m,w.e);l.gN(x,R,e.um.w1,w,T);this.aAI(e.um.w1,w,T,c,g,d);l.pW(e.um.w1,w,x,R,null,null,0,T,e.opacity/255,e.mh=="diss",N.ro)};
gg.ayB=function(x,R,T){if(T.ro[0]*T.ro[1]*T.ro[2]==0)return!0;return x.opacity!=255&&(R.length!=0||x.NW()||x.yd())};
gg.ai2={um:{}};gg.prototype.aAI=function(x,R,T,c,g,d){var U=this.a,e=e5.xG(U),N=hD.get(U.add)!=null,l=gg.Vi,J=gg.ayB(U,g,e),w=J?1:U.opacity/255,s=U.bT()?U.le():U.F,o=U.NW()&&e.sn==null&&(U.mh=="pass"||U.add.artb)&&!(g.length>0||e.fill!=1||U.yd()),V=!U.NW()&&!N&&!U.yd()&&g.length==0,a=N&&!U.yd()&&g.length==0,Z=null,I=null,y=null,H;
if(o||V||a){var O=x,S=R;if(U.d9()){S=this.zC(c,!1);O=U.um.z$=l.Zq(U.um.z$,S.m,S.e);l.gN(x,R,U.um.z$,S)}if(o)this.ZD(O,S,T,c,d);
if(V)l.Hy(U.mh,U.az$(c),U.rect,O,S,T,w,e);if(a){var L=U.d9()&&s.ir()==0?s.zC().clone():S.clone(),Q=U.um;
if(L.X$(new aP(0,0,c.m,c.e)))Q=gg.ai2;Q.Ry=this.a8c(O,S,Q.Ry,L,U.add);e.lg=!0;l.Hy(U.mh,Q.Ry,L,O,S,T,w,e)}if(U.d9())l.pW(O,S,x,R,U.adQ(),s.zC(),s.ir(),T,1,U.mh=="diss");
U.um.akL();return}var b=U.NW()&&U.mh=="pass"&&(g.length>0||e.fill!=1||U.yd()),L=U.rect;if(U.NW()){L=this.zC(c,!1);
y=U.um.Ry=l.Zq(U.um.Ry,L.m,L.e);l.Qu(y,0);this.ZD(y,L,L,c,d);I=l.Zq(U.um.lj,L.m,L.e);l.gN(y,L,I,L)}else if(N){L=U.d9()&&s.ir()==0?s.zC().clone():R.clone();
I=l.Zq(U.um.lj,L.m,L.e);l.Qu(I,4294967295)}else{L=U.rect;Z=U.az$(c);I=l.Zq(U.um.lj,L.m,L.e);l.gN(Z,L,I,L)}U.um.lj=I;
if(U.d9())l.anI(U.adQ(),s.zC(),s.ir(),I,L);if(U.yd())if(U.um.uW||U.um.Ps||U.um.Ub!=fq.tc||U.um.t$||U.NW()){var r=U.add.vmsk,h=u.B(L.Z());
if(e5.axX(U.add.lmfx)){if(fq.tc){if(!U.NW()&&U.le()==null&&U.rect.X$(L)&&r==null)u.TR(U.buffer,h,3);
else{var k=u.B(L.Z()*4);I.get(k);u.TR(k,h,3)}}else u.TR(I,h,3)}if(U.um.Ps||U.um.Ub!=fq.tc||!u.X$(h,U.um.lv)){var K=null;
if(U.bT()&&r&&r.isEnabled&&r.le().color==0)K=r.le().rect;e5.aiL(U.um.YC);U.um.YC=e5.arW(h,L,U.add.lmfx,U.add.fxrp,c,K);
U.um.lv=h;U.um.aj0=L}}if(U.yd())e5.ahy(U.add.lmfx,U.um.YC,L,x,R,T);if(U.NW()){Z=l.Zq(U.um.z$,L.m,L.e);
l.Qu(Z,0);if(U.mh=="pass")l.gN(x,R,Z,L);if(b)l.oG(y,L,Z,L);this.ZD(Z,L,T,c,d);U.um.z$=Z}if(N){Z=U.um.z$=this.a8c(x,R,U.um.z$,L,U.add)}if(U.NW()||N)H=Z;
else{H=l.Zq(U.um.z$,L.m,L.e);l.gN(Z,L,H,L,T);U.um.z$=H}l.Qu(H,4278190080,16777215);for(var z=0;z<g.length;
z++)g[z].ZX(H,L,T,c,[],d);var p=U.um.Ha=l.Zq(U.um.Ha,L.m,L.e);l.gN(x,R,p,L,T);if(N)e.lg=!0;l.Hy(U.mh=="pass"?"norm":U.mh,H,L,p,L,T,1,e);
if(U.yd()){var f=U.um.YC.type.FrFX,A=null;if(f.length!=0){A=f[0];for(var z=0;z<f.length;z++)if(f[z].t5.m>A.t5.m)A=f[z];
U.um.$Q=l.Zq(U.um.$Q,A.t5.m,A.t5.e);l.gN(x,R,U.um.$Q,A.t5,T);U.um._w=l.Zq(U.um._w,A.t5.m,A.t5.e)}e5.anQ(U.add.lmfx,U.um.YC,L,x,R,T,p,U.um.$Q,U.um._w,A?A.t5:null)}if(!fq.tc){var _=u.B(L.Z());
u.TR(I,_,3);I=_}l.pW(p,L,x,R,I,L,0,T,1,U.mh=="diss");U.um.akL()};gg.prototype.a8c=function(x,R,T,c,g){var d=hD.get(g),U;
if(d)U=hD.V0(d,g[d]);var e=gg.Vi;T=e.Zq(T,c.m,c.e);if(!(fq.tc&&R.X$(c)))e.gN(x,R,T,c);if(U){if(fq.tc){var N=c.clone();
N.x=N.y=0;if(R.X$(c)){fq.WM(T,N);hD.c8(U,x.G1,N)}else{fq.WM(T,c);T.Gu(c);hD.c8(U,T.xU,N)}}else hD.Yt(U,T,T,c)}return T};
gg.prototype.ZD=function(x,R,T,c,g){var d=R,U=d.m,e=d.e,N=d.x,l=d.y,cg=T,J=cg.x,w=cg.y,s=-1,o=-1,V=2,a=2;
if(!c.fr){s=o=0;V=a=1}var O=this.children;for(var z=0;z<O.length;z++){var S=[];for(var L=z+1;L<O.length;
L++)if(O[L].a.UP)S.push(O[L]);else break;for(var Q=o;Q<a;Q++)for(var b=s;b<V;b++){d.x=N+b*U;d.y=l+Q*e;
cg.x=J+b*U;cg.y=w+Q*e;O[z].ZX(x,d,cg,c,S,g)}z+=S.length}d.x=N;d.y=l;cg.x=J;cg.y=w};function c9(x){this.xt="psd";
this.Z0=!1;this.name=x;this.eD=-1;this.fr=!1;this.Ly=null;this.km=null;this.ZB=null;this.Y7=null;this.m=0;
this.e=0;this.buffer=null;this.R=[];this.CL={};this.add={};this.nH=[];this.Ov=4;this.ej=null;this.De=72;
this.zw={};this.g=[];this.CR=[];this.CS=!1;this.co=[];this.ci=[];this.OQ=[c9.xs("Work Path")];this.pT=[];
this.Kx=null;this.bE={classID:"CompList",list:{t:"VlLs",v:[]}};this.KJ=[];this.gq=[];this.sb=[];this.root=null;
this.U0=null;this.cF=!1;this.aBM=!1;this.asU=!1;this.Tp=!1;this.yL=!1;this.Sa=!1;this.Sg=!1;this.kn=!1;
this.ta=!1;this.OW=!1;this.uW=null;this.AG=null;this.u=null;this.Hp=[];this.nE=[];this.N={Br:{},rb:[],Uu:[],EY:[],M2:[],_H:[],Xp:null,NQ:null,ny:null,ay:null,dM:null,As:null,VL:[],gp:[],Bz:null};
this.history=[new ka([1,0],null)];this.md=0;this.lb=0;this.Z$=0;this.gH=0;this.Q=new jO(this);this.Lg=null;
this.Ay=null}c9.prototype.Wg=function(x){if(x){if(x.length==30240){this.Wg(null);return}this.CL.r1039=x;
var R=ICC.R(x.buffer),g=null,d=17,N,l;if(R==null){this.Wg(null);return}var T=R.header.spaceIn.toLowerCase(),c=JSON.stringify(R.tags.desc).toLowerCase();
try{g=ICC.U.profileName(R)}catch(i3){}if(T!="rgb "||g==null||c.indexOf("srgb")!=-1){this.Wg(null);return}console.log("We got an ICC profile!",R,g);
try{var U=ICC.U.sampleLUT(R,d)}catch(i3){this.Wg(null);return}var e=U.slice(0),J=u.B(4),w=u.ZO("rgbToRgbC"),s=w[2],o=w[3];
for(var z=0;z<U.length;z+=3){J[0]=U[z]*255;J[1]=U[z+1]*255;J[2]=U[z+2]*255;ICC.U.applyLUT(o,s,J,J);e[z]=J[0]/255;
e[z+1]=J[1]/255;e[z+2]=J[2]/255}if(fq.tc){N=new fq.IV(d,d*d);N.set(ICC.U.lutToRGBA8(U,d));l=new fq.IV(d,d*d);
l.set(ICC.U.lutToRGBA8(e,d))}this.Lg=[x,R,d,U,N,e,l]}else{delete this.CL.r1039;this.Lg=null}};c9.prototype.xA=function(){return this.Lg};
c9.prototype.Cl=function(){if(this.Lg)return this.Lg;if(this.add.fcmy==1){if(this.Ay==null){var x=u.ZO("rgbToRgbC"),R=x[2],T=x[3],c;
if(fq.tc){c=new fq.IV(R,R*R);c.set(ICC.U.lutToRGBA8(T,R))}this.Ay=[null,null,R,null,null,T,c]}return this.Ay}};
c9.prototype.a6V=function(){var x=this;if(x.Q.U.join("")!="111"){x.Q.U=[1,1,1];x.Sa=!0}for(var z=0;z<x.R.length;
z++){var R=x.R[z],T=R.add.vmsk;if(R.Xn()){var c=R.Ct(x);if(c&&c.F&&c.F.PW){c.F.PW=!1;x.Sa=!0}}var g=R.le();
if(g&&g.PW){g.PW=!1;x.Sa=!0}if(T){if(T.g.length!=0)T.g=[];if(T.fH.length!=0)T.fH=[]}}};c9.prototype.Va=function(){var x=this;
return x.u!=null||x.JR()[1].length!=0||x.g.length>1};c9.prototype.M3=function(){var x=this.CR,R=[];for(var z=0;
z<x.length;z++)R[z]=-1;var T=this.root.children;for(var z=0;z<T.length;z++){var c=T[z],g=c.a.add.artb;
if(g==null)continue;var d=g.guideIndeces;d=d?d.v:[];for(var U=0;U<d.length;U++)R[d[U].v]=c.index}return[JSON.parse(JSON.stringify(x)),R]};
c9.prototype.bK=function(x){this.CR=JSON.parse(JSON.stringify(x[0]));var R=x[1],T=this.root.children;
for(var z=0;z<T.length;z++){var c=T[z],g=c.a.add.artb;if(g==null)continue;g.guideIndeces={t:"VlLs",v:[]}}for(var z=0;
z<R.length;z++)if(R[z]!=-1)this.R[R[z]].add.artb.guideIndeces.v.push({t:"long",v:z})};c9.prototype.a0O=function(x){var R=this;
if(x[0])R.add.lnk2=x[0];else delete R.add.lnk2;if(x[1])R.add.FEid=x[1];else delete R.add.FEid;if(x[2])R.add.Patt=x[2];
else delete R.add.Patt};c9.prototype.avA=function(x){var R=this,T=[],c=[],g=[],V=null,a=null,O=null;
for(var z=0;z<x.length;z++){var d=x[z];if(d.add.SoLd){T.push(d.add.SoLd.Idnt.v);c.push(d.add.SoLd.placed.v)}if(d.add.PtFl)g.push(d.add.PtFl.Ptrn.v.Idnt.v);
if(d.add.lmfx){for(var U=0;U<fJ.YZ.length;U++){var e=d.add.lmfx[fJ.YZ[U]].v;for(var N=0;N<e.length;N++)if(e[N].v.Ptrn){var l=e[N].v;
if(l.classID=="FrFX"&&l.PntT.v.FrFl!="Ptrn")continue;g.push(l.Ptrn.v.Idnt.v)}}}var J=d.add.vstk;if(J&&J.strokeStyleContent.v.classID=="patternLayer"){g.push(J.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var w=R.add.lnk2,s=R.add.FEid,o=R.add.Patt;
if(w){V=[];for(var z=0;z<w.length;z++)if(T.indexOf(w[z].E5)!=-1)V.push(w[z]);if(V.length==0)V=null}if(s){a=[];
for(var z=0;z<s.length;z++)if(c.indexOf(s[z].id)!=-1)a.push(s[z]);if(a.length==0)a=null}if(o){O=[];for(var z=0;
z<o.length;z++)if(g.indexOf(o[z].id)!=-1)O.push(o[z]);if(O.length==0)O=null}return[V,a,O]};c9.prototype.na=function(x){var R=this,T=R.root.ct(x==null?R.g[0]:x),c=!1;
while(T.parent!=null){c=c||T.a.ad(31);T=T.parent}return c};c9.prototype.L_=function(){var x=this.Hp,R=this.Hp.length;
if(R!=0&&x[R-1].name=="Quick Mask")return x[R-1]};c9.prototype.pl=function(){return this.xt==fl.En("% |/!)")||this.xt==fl.Dk("gP")};
c9.prototype.MH=function(x){var R=this.add.artd;if(x!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:x},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};c9.prototype.lY=function(x){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(x)==-1)this.add.FEid.push(x)};
c9.prototype.z3=function(x){var R=this.add.FEid.indexOf(x);this.add.FEid.splice(R,1);if(this.add.FEid.length==0)delete this.add.FEid};
c9.prototype.W=function(x){if(x==null)x=new aP(0,0,this.m,this.e);if(this.uW==null)this.uW=x;else this.uW=this.uW.y8(x)};
c9.prototype.a4o=function(x){return this.uW!=null};c9.prototype.N7=function(x){var R=this.R[x],T=this.root.ct(x);
if(T==null)return!1;if(R.NW()||T.parent.children.indexOf(T)==0)return!1;return!0};c9.aBe=function(x){if(x.add.lnk2)for(var z=0;
z<x.add.lnk2.length;z++){var R=x.add.lnk2[z].E5;x.add.lnk2[z].E5=c9.EW()+R.slice(8);for(var T=0;T<x.R.length;
T++){var c=x.R[T].add.SoLd;if(c&&c.Idnt.v==R)c.Idnt.v=x.add.lnk2[z].E5}}};c9.prototype.JU=function(x,R,T){x.sort(function(w,s){return w-s});
var top=x[x.length-1],c=this.R.slice(0),g=this.g.slice(0),d=[],U=[];for(var z=0;z<this.R.length;z++){if(x.indexOf(z)!=-1)U.push(this.R[z]);
else d.push(this.R[z])}this.I2(U);this.g=[];var e=this.root.zC(this,!0);if(R)e=e.yx(R);if(T)e=e.y8(T);
if(e.Y3())e=new aP(0,0,100,100);var N=new aP(-e.x,-e.y,this.m,this.e),l=new Uint8Array(dp.Ix("PSD").LA(this,0,0,[!0,!1]));
this.I2(c);this.g=g;var J=new c9(this.R[top].getName());dp.Ix("PSD").x3(l.buffer,J);delete J.add.artd;
J.co=[];J.I2(J.R);J.bK([[],[]]);c9.aBe(J);D._x.oU(J,e);J.W();J.jB();J.Yr();return[J,e,d,top]};c9.prototype.afc=function(x,R,T){var c=this.JU(x),g=c[0],d=c[1],U=c[2],top=c[3],e;
if(T=="jpg")e=new Uint8Array(dp.Ix("JPG").LA([[g.Yr().buffer]],g.m,g.e,[80]));else e=new Uint8Array(dp.Ix("PSD").LA(g,null,null,[!0,!1]));
if(R)U=this.R.slice(0);var N=this.mk(e,g.name,d.x,d.y);if(top==this.R.length-1)U.push(N);else U.splice(R?top+1:top-x.length+1,0,N);
this.I2(U);this.g=[U.indexOf(N)]};c9.EW=function(x){if(x==null)x="";var R="";while(R==""||R==x){R="";
for(var z=0;z<8;z++)R+=Math.floor(Math.random()*16).toString(16)}return R};c9.prototype.Ot=function(x){if(x==null)return;
if(this.add.Patt==null)this.add.Patt=[];var R=this.add.Patt;for(var z=0;z<R.length;z++)if(R[z].id==x.id)return;
R.push(x)};c9.prototype.mk=function(x,R,T,c,g,d,U){if(this.add.lnk2==null)this.add.lnk2=[];var e=null,V=!1;
for(var z=0;z<this.add.lnk2.length;z++)if(u.X$(x,this.add.lnk2[z].raw)){e=this.add.lnk2[z].E5;break}if(e==null){var N=dp.Xk(x.buffer);
e=c9.EW()+"-d71c-11e5-b1ae-a548a96e5f9f";var l=new F.XK;l.E5=e;l.xd=N=="psd"?"8BIM":"    ";l.H7=R+"."+N;
l.KI=N=="psd"?"8BPB":"    ";l.open=0;l.raw=x;l.type="liFD";l.gG=2;this.add.lnk2.push(l)}var J=this.Ln(e,null,null,null,d,U),w=c9.EW()+"-d71c-11e5-b1ae-a548a96e5f9f",s=this.CH(),o=new aP;
s.Je(R);if(J!=null){var a=T==null,O=0,S=0;if(T==null)T=c=0;var L=this.m,Q=this.e;if(g){O=g.x;S=g.y;L=g.m;
Q=g.e}o=J.Zn[1].clone();o.offset(O+T,S+c);var b=Math.max(o.m/L,o.e/Q),V=g!=null&&b>1.0001;if(V){o.m=Math.round(o.m/b);
o.e=Math.round(o.e/b)}else if(g!=null&&dp.Xk(x.buffer)=="pdf"&&this.De!=144){var b=144/this.De;o.m=Math.round(o.m/b);
o.e=Math.round(o.e/b);V=!0}if(V||a){o.x=Math.round(O+(L-o.m)/2);o.y=Math.round(S+(Q-o.e)/2)}if(b5==0){s.rect=o.clone();
s.buffer=u.B(o.Z()*4);if(!V)u.kS(J.Zn[0],s.buffer)}}var Z=J?J.Zn[1]:new aP;s.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:e},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:w},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:u.zb.B(Z)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:Z.m},Hght:{t:"doub",v:Z.e}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:J?J.De:72}}};
var I=u.M.$x(o).z;s.add.SoLd.Trnf=D.gW.db(I);s.add.SoLd.nonAffineTransform=D.gW.db(I);if(V)s.Ht(this,!1);
return s};c9.prototype.awR=function(x,R,T){var c=u._e(x,R);c.save();c.scale(x/this.m,R/this.e);this.root.a4h(this,c,T,new aP(0,0,x,R));
c.restore();return c.getImageData(0,0,x,R).data.buffer};c9.prototype.Yr=function(x){if(x!=null){this.W();
this.jB(x);var R=this.buffer;if(fq.tc)this.U0.get(R);else R=R.slice(0);this.W();this.jB();return R}if(this.uW){this.jB();
this.uW=null}if(fq.tc&&this.AG){this.U0.get(this.buffer);this.AG=null;this.Sg=!0}return this.buffer};
c9.prototype.a8o=function(){for(var z=0;z<this.R.length;z++)this.R[z].aAs();this.W()};c9.prototype.aed=function(){for(var z=0;
z<this.R.length;z++)if(this.R[z].add.lmfx)this.R[z].um.Ps=!0};c9.prototype.bQ=function(){var x=this.CL.r1044;
if(x==null){x=this.CL.r1044=new Uint8Array(4);var R=0;for(var z=0;z<this.R.length;z++)R=Math.max(R,this.R[z].add.lyid);
n.W_(x,0,R)}var T=n.s(x,0);n.W_(x,0,T+1);return T+1};c9.prototype.nD=function(x,R,T){if(x==null)x=!0;
var c=this;if(c.nE.length!=0)return!0;if(c.g.length!=1){if(x)alert(c.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.aP(x,R,T)};c9.prototype.aP=function(x,R,T){if(x==null)x=!0;if(R==null)R=!1;var c=this;
if(c.nE.length!=0)return!0;for(var z=0;z<c.g.length;z++){var g=c.R[c.g[z]],d=R||g.s4<=0;if(g.add.lsct!=null&&g.add.lsct!=ew.fA&&g.s4!=1){if(x)alert(go.get([15,7,2]));
return!1}if(d&&!g.iZ()){if(x)alert(go.get([15,7,2]));return!1}if(d&&g.add.TySh){return this.ayA(x,[15,7,3],T)}if(d&&g.add.SoLd){return this.ayA(x,[15,7,4],T)}if(g.ad(1)||c.na(c.g[z])){if(x)alert(go.get([6,57,0]));
return!1}}return!0};c9.prototype.ayA=function(x,R,T){if(x&&typeof x=="object"){var c=new aA(v.E.P);c.data={d:v.H.i$,$k:"confirm"};
c.data.b=go.get(R)+". "+go.get([6,8])+"?";var g=x;c.data.BJ=function(){var d=new aA(v.E._M,!0);d.data={Sm:"rasterizeLayer",M1:{classID:"rasterizeLayer",null:bf.rX("Lyr",!0)}};
g.c(d)};x.c(c);return!1}if(x)alert(go.get(R));return!1};c9.prototype.ado=function(x){var R=this.root.ct(x);
if(R.parent)return R.a.Pm()&&this.ado(R.parent.index);else return R.a.Pm()};c9.prototype.NY=function(x){var R=this;
if(x){var T=0;for(var z=0;z<R.g.length;z++)if(R.R[R.g[z]].add.artb)T++;if(T>1)return-1}if(R.add.artd&&R.g.length!=0){var c=R.root.ct(R.g[0]);
while(c.parent.parent)c=c.parent;if(c.a.add.artb)return c.index}return-1};c9.prototype.aAk=function(){var x=this.R[this.g[0]];
if(x.s4<=0&&!x.rect.fg(this.u.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.u){var R=u.B(this.u.channel.length);
u.GB(x.buffer,x.rect,R,this.u.rect);u.oB(this.u.channel,R);if(u.gI(R,0)){alert("Selected area is empty.");
return!1}}return!0};c9.prototype.er=function(){if(this.CL["r"+1037]==null)this.Um(30);return n.yr(this.CL["r"+1037],0)};
c9.prototype.Um=function(x){if(this.CL["r"+1037]==null)this.CL["r"+1037]=new Uint8Array(4);if(n.yr(this.CL["r"+1037],0)==x)return;
n.kp(this.CL["r"+1037],0,x);this.aed()};c9.prototype.Oo=function(){if(this.CL["r"+1049]==null)this.Hq(30);
return n.yr(this.CL["r"+1049],0)};c9.prototype.Hq=function(x){if(this.CL["r"+1049]==null)this.CL["r"+1049]=new Uint8Array(4);
if(n.yr(this.CL["r"+1049],0)==x)return;n.kp(this.CL["r"+1049],0,x);this.aed()};c9.prototype.ak=function(x){if(this.add.lnk2==null)return null;
for(var z=0;z<this.add.lnk2.length;z++)if(this.add.lnk2[z].E5==x)return this.add.lnk2[z];return null};
c9.prototype.ayK=function(x){var R=this.ak(x);if(R==null)return!1;var T=dp.Xk(R.raw.buffer);if(T==null)return!1;
if(dp.Ix(T)!=null||T=="psd")return!0;return!1};c9.prototype.Ln=function(x,R,T,c,g,d){var U=this.ak(x);
if(U==null)return null;U.Yr(R,T,c,g,d);if(U.Zn)return U};c9.prototype.aAU=function(){var x=this.m,R=this.e;
if(fq.tc&&this.U0==null)this.U0=new fq.IV(x,R,!0);if(this.buffer==null||this.buffer.length!=x*R*4||fq.tc&&(this.U0.m!=x||this.U0.e!=R)){this.buffer=u.B(x*R*4);
if(this.U0)this.U0.delete();if(fq.tc)this.U0=new fq.IV(x,R,!0)}};c9.prototype.atL=function(){this.aAU();
if(fq.tc){this.U0.set(this.buffer)}};c9.prototype.jB=function(x){if(b5!=0)throw"redrawing in vector mode";
var R=this.m,T=this.e,c=new aP(0,0,R,T),g=this.fr?c:c.yx(this.uW);this.aAU();if(g.Y3())return;if(!g.X$(c)){if(!fq.tc){var d=u.uz(g.Z()*4);
u.yU(d,g,this.buffer,c)}if(fq.tc){fq.WM(this.U0,g);fq.IC(0)}}else{if(fq.tc){this.U0.set(null)}else{this.buffer.fill(0)}}var U=Date.now(),e=fq.tc?this.U0:this.buffer;
if(x==null)x=1e9;var N=this.root.children;for(var z=0;z<N.length;z++){var l=N[z].a;if(l.Pm()&&l.add.artb&&this.add.artd){var J=l.Ie(),w=g.yx(J),s=l.Ji();
if(s!=0){if(fq.tc){fq.WM(e,w);fq.IC(s);fq.IC(s)}else u.akJ(e,c,w,s)}}}this.root.ZX(e,c,g,this,[],x);
this.AG=this.uW.clone()};c9.prototype.CH=function(x){var R=new F;R.rect=new aP(0,0,0,0);R.buffer=u.B(1);
R.add.luni=new cI(0,0);if(x!=!0)R.add.lyid=this.bQ();R.add.lsct=ew.fA;R.add.lclr=0;R.add.fxrp=new cI(0,0);
return R};c9.prototype.Sw=function(x){var R=this.CH(x);R.Je("</Layer group>");R.add.lsct=ew.SO;R.Yn=24;
return R};c9.prototype.DK=function(){return this.md!=this.lb};c9.prototype.XY=function(x){while(this.history.length>this.md+1)this.history.pop();
if(this.lb>this.md)this.lb=-1;if(x.f.id!=D.X4){this.Tp=!0;if(this.bE.lastAppliedComp){delete this.bE.lastAppliedComp;
this.Sg=!0}}this.history.push(x);this.md++;this.Sg=!0;var R=i3.T9()?60:30,T=0;for(var z=this.history.length-1;
z>=0;z--){var c=this.history[z];if(c.Jy)continue;T++;if(T==R){this.md-=z;this.history=this.history.slice(z);
break}}};c9.prototype.SH=function(){if(this.md!=this.history.length-1)return null;return this.history[this.history.length-1]};
c9.prototype.LQ=function(x,R,T,c){if(x==null)x=!1;var g=R!=null?[R]:this.g.slice(0);if(c){var d=[];for(var z=0;
z<g.length;z++){var U=this.R[g[z]],e=U.jn;if(U.wm&&e!=0&&d.indexOf(e)==-1)d.push(e)}if(d.length!=0)for(var z=0;
z<this.R.length;z++){var U=this.R[z],e=U.jn;if(U.wm&&e!=0&&d.indexOf(e)!=-1&&g.indexOf(z)==-1)g.push(z)}}var N=[];
for(var z=0;z<g.length;z++){var l=this.xy(g[z],x);for(var J=0;J<l.length;J++)if(N.indexOf(l[J])==-1)N.push(l[J]);
if(T){var cg=this.root.ct(g[z]);while(cg.parent!=null&&cg.parent.parent!=null){cg=cg.parent;if(N.indexOf(cg.index)==-1){N.push(cg.index,cg.QO)}}}}return N};
c9.prototype.c7=function(x,R,T){var c=this,g=c.LQ(!1,x,null,T);g.sort(function(Q,b){return Q-b});var d={};
for(var U=0;U<c.R.length;U++){var e=c.R[U].getName();d[e]=!0}var N=[];for(var z=0;z<g.length;z++){var l=c.R[g[z]].clone(),O,S;
l.add.lyid=c.bQ();l.add.lspf=0;if(l.Xn()){var J=l.Ct(c),w=c9.aBD(J);c.lY(w);l.add.SoLd.placed.v=w.id}else if(l.add.SoLd){var s=l.add.SoLd.placed.v;
l.add.SoLd.placed.v=c9.EW(s.slice(0,8))+s.slice(8)}l.sG(c);var o=l.getName(),V=o.length;while(48<=o.charCodeAt(V-1)&&o.charCodeAt(V-1)<=57)V--;
var a=parseInt(o.slice(V));if(isNaN(a)){if(o.endsWith(" copy")){a=1;O=o.slice(0,o.length-5)}else{a=0;
O=o}}else if(o.slice(0,V).endsWith(" copy ")){a=a;O=o.slice(0,V-6)}else{a=0;O=o}a++;while(!0){S=O+" copy"+(a==1?"":" "+a);
if(d[S]==null)break;a++}var L=g.indexOf(this.root.ct(g[z]).parent.index)!=-1;if(o=="Background"&&c.R.length==1)S="Layer 1";
if(R!=!0&&!L)l.Je(S);d[S]=!0;N.push(l)}return N};c9.aBD=function(x){return{id:c9.EW(x.id.slice(0,8))+x.id.slice(8),buffer:x.buffer.slice(0),rect:x.rect.clone(),F:x.F?x.F.clone():null}};
c9.a8Y=function(x){return{id:x,rect:new aP,buffer:u.B(1),F:new F.Wu}};c9.xs=function(x,R){if(R==null)R={vmsk:new F.LS};
if(R.vogk==null){R.vogk=[];var T=u.j.fc(R.vmsk.$);for(var c=0;c<T;c++)R.vogk.push(u.oZ.uz())}return{name:x,iY:0,add:R}};
c9.prototype.JR=function(x){var R=[],T=[],c=this;for(var z=1;z<c.OQ.length;z++){var g=c.OQ[z];g.iY=-1-z;
R.push(g);if(c.pT.indexOf(z)!=-1)T.push(R.length-1)}if(c.OQ[0].add.vmsk.$.length>2){var g=c.OQ[0];g.iY=-1;
R.push(g);if(c.pT.indexOf(0)!=-1)T.push(R.length-1)}var d=c.Kx==null;if(d)c.Kx=[];for(var z=c.g.length-1;
z>=0;z--){var U=c.g[z],e=c.R[U],N=e.add.TySh;if(e.add.vmsk!=null){var g=c9.xs("\""+e.getName()+"\" Shape Path",e.add);
g.iY=U;R.push(g);if(d&&(e.yn||e.bT()))c.Kx.push(U);if(c.Kx.indexOf(U)!=-1)T.push(R.length-1)}if(x!=!0&&N&&N.add&&u.zb.rJ(N.aS)){var g=c9.xs("\""+e.getName().slice(0,10)+"..\" Text Path",N.add);
g.iY=1e6+c.g[z];R.push(g);T.push(R.length-1)}}if(T.length==0&&x){c.OQ[0].iY=-1;c.pT=[0];T.push(R.length);
R.push(c.OQ[0])}return[R,T]};c9.prototype.xy=function(z,x){var R=[],cg=this.root.ct(z);if(cg)cg.t7(R,x);
return R};c9.prototype.Jp=function(){this.root.N4(this,new aP(0,0,this.m,this.e))};c9.prototype.I2=function(x){for(var z=0;
z<this.R.length;z++){var R=this.R[z];if(x.indexOf(R)==-1){R.um.azW();R.W()}}var T=0;for(var z=0;z<x.length;
z++)if(x[z].add.artb)T++;this.MH(T);this.R=x.slice(0);this.Cg()};c9.prototype.Cg=function(){var x=this.R,R=x.length;
this.root=new gg;var T=this.CH(!0);T.mh="pass";T.add.lsct=ew.bZ;T.Je("");var c=this.Sw(!0),g=[c];for(var z=0;
z<R;z++)g.push(x[z]);g.push(T);this.root.acs(g,0,0);if(this.g.length==0)this.g=[R-1]};c9.prototype.NB=function(){if(this.g.length!=1)return;
var x=this.root.ct(this.g[0]);while(x.parent!=null){var R=x.parent.a;R.add.lsct=ew.bZ;x=x.parent}this.Sa=this.ana=!0};
c9.prototype.aqn=function(){this.Cg();var x=[this.root],bp=0;while(x.length!=0){var top=x.pop();bp++;
if(top.a.add.lsct==ew.bZ)for(var z=0;z<top.children.length;z++)x.push(top.children[z])}if(bp>1e3){var R=this.root.children;
for(var z=0;z<R.length;z++)if(R[z].a.add.lsct==ew.bZ)R[z].a.add.lsct=ew.qW}};c9.R2=function(x,R,T,c,g,d,U,e){if(e==null)e="sRGB IEC61966-2.1";
var N={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:c},artboard:{t:"bool",v:d},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:x*72/T}},Hght:{t:"UntF",v:{type:"#Rlt",val:R*72/T}},Rslt:{t:"UntF",v:{type:"#Rsl",val:T}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:g}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:e}}}};
if(g=="Clr")N.Nw.v.FlCl={t:"Objc",v:U};return{Sm:"make",M1:N}};c9.asx=function(x,R){var T=0,c=0,g=72,d=R.aeK,U=x.preset&&x.preset.v=="Clipboard";
if(U){T=d.m;c=d.e}else{T=x.Wdth.v.val;c=x.Hght.v.val;g=x.Rslt.v.val;T=Math.round(T*g/72);c=Math.round(c*g/72)}var e=new c9((x.Nm?x.Nm.v:go.get([11,7]))+".psd");
e.m=T;e.e=c;e.De=g;var N=x.Fl?x.Fl.v.Fl:"Wht";if(x.artboard&&x.artboard.v){var l=e.CH();l.Je(go.get([1,16,0])+" 1");
l.add.lsct=ew.bZ;l.yc(new aP(0,0,T,c));l.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[N]};
if(N=="Clr")l.add.artb.Clr={t:"Objc",v:u.I.SE(u.I.ir(x.FlCl.v))};l.mh="pass";l.Yn=24;var J=e.CH();J.Je("Layer 1");
e.I2([e.Sw(),J,l]);e.MH(1);e.g=[1]}else{var w=e.CH(),s=0;w.Je("Background");e.I2([w]);w.add.lspf=1<<2;
if(N=="Clr"){s=u.I.ir(x.FlCl.v);s=255<<24|Math.round(s.J)<<16|Math.round(s.A)<<8|Math.round(s.o)}else{var o=R.tn;
o=(o&255)<<16|(o>>>8&255)<<8|o>>>16;s={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|o}[N]}w.rect=new aP(0,0,T,c);
w.buffer=u.B(T*c*4);u.Qu(w.buffer,s)}e.buffer=u.B(T*c*4);var V=x.profile;if(V){var a={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[V.v];
if(a)e.Wg(dp.wz.get(a))}return e};c9.prototype.a65=function(){var x=this,R=x.add.arts=[];R.push({QP:"Artboard 1",Uc:[0,0,x.m,x.e],g:!0});
for(var z=0;z<x.R.length;z++){var T=x.R[z],c=T.rect;if(T.NW()&&T.add.vmsk){var g=x.CH();x.R.splice(z,0,g);
g.Je("<Clipping Path>");g.rh=!0;g.add.vogk=T.add.vogk;delete T.add.vogk;g.add.vmsk=T.add.vmsk;delete T.add.vmsk;
g.add.vstk=fJ.SC.GI();g.add.SoCo=JSON.parse(fJ.Ck[fJ.order.indexOf("SoFi")]);console.log("mask here!")}if(T.add.SoLd||T.add.TySh||T.add.vmsk||c.Y3())continue;
var d=c.m,U=c.e,e=u.uB(T.buffer,d,U)?"JPG":"PNG";if(d*U<700*700)e="PNG";var N=dp.Ix(e).LA([[T.buffer.buffer]],d,U);
x.R[z]=x.mk(new Uint8Array(N),"<Image>",0,0)}};function jO(x){this.V1=x;this.O=0;this.ef=1;this.w=new cI(0,0);
this.AJ=new cI(0,0);this.Hh=0;this.U=[1,1,1];this.S7=0;this.dz=new aP(0,0,1,1);this.ast=new aP(0,0,x.m,x.e);
this.OL=null;this._m=null;this.L6=new Uint32Array(0);this.te=null;this.LN=null;this.Mk=u.B(0);this.OX=null;
this.sd=null}jO.prototype.ly=function(x){var R=new gP,T=this.dz,c=this.V1,g=x?this.ef:this.O,d=x?this.AJ:this.w,U=Math.round((T.m-c.m*g)/2+d.x),e=Math.round((T.e-c.e*g)/2+d.y);
R.translate(-U,-e);R.scale(1/g,1/g);var N=c.m/2,l=c.e/2;R.translate(-N,-l);R.rotate(this.Hh);R.translate(N,l);
return R};jO.prototype.a5a=function(x){var R=this.dz,T=this.V1,c=Math.atan2(-x.J,x.Y),g=T.m/2,d=T.e/2;
x.translate(-g,-d);x.rotate(-c);x.translate(g,d);var U=1/x.Rt();x.scale(U,U);var e=-x.a4,N=-x.rY,l=Math.round(e-(R.m-T.m*U)/2),J=Math.round(N-(R.e-T.e*U)/2);
if(Math.abs(U-Math.round(U))<1e-6)U=Math.round(U);this.Hh=c;this.O=U;this.w=new cI(l,J)};jO.prototype.nU=function(x,R){var T=this.ly();
return T.Wk(new cI(x,R))};jO.prototype.YP=function(x,R){var T=this.ly();T.F0();return T.Wk(new cI(x,R))};
function fJ(){}fJ.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");fJ.YZ="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
fJ.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];fJ.apY=["DrSh","IrSh","SoFi","GrFl","FrFX"];
fJ.RV=["Clr"];fJ.dc="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");fJ.lK=["Ptrn","Angl","Scl","Algn","phase"];
fJ.hN={dQ:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",a52:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",aC5:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",adb:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",WH:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
fJ.hN.dQ="\"Clr\": "+fJ.hN.dQ;fJ.hN.I="\"Grad\":"+fJ.hN.a52+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
fJ.hN.WH="\"Ptrn\":"+fJ.hN.WH+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
fJ.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
fJ.Ck=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+fJ.hN.dQ+","+fJ.hN.I+","+fJ.hN.WH+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fJ.hN.dQ+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fJ.hN.I+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fJ.hN.WH+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
fJ.I={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
fJ.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],g5:["SClr","GrFl","Ptrn"],akj:[[13,0],[12,37],[12,62]]};
fJ.Iq={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aoo:["SrcC","SrcE"],aB6:[[19,5,1],[12,69]]};fJ.O6={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],aqR:["SfBL","PrBL","Slmt"],amX:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
fJ.SC={e7:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],tm:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],af:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+fJ.hN.dQ+"}")},strokeStyleResolution:{t:"doub",v:72}},GI:function(x,R){var T=JSON.parse(fJ.SC.adO);
if(x)T.fillEnabled.v=!0;if(R)T.strokeEnabled.v=!0;return T},rA:function(x,R,T){if(R==null)R={};if(T==null)T=1;
var c=x.strokeStyleLineDashSet.v,g=R.lwidth=x.strokeStyleLineWidth.v.val*T;R.mlimit=x.strokeStyleMiterLimit.v;
R.doff=x.strokeStyleLineDashOffset.v.val;R.ljoin=fJ.SC.join.indexOf(x.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
R.lcap=fJ.SC.e7.indexOf(x.strokeStyleLineCapType.v.strokeStyleLineCapType);R.sal=fJ.SC.tm.indexOf(x.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
R.dash=[];for(var z=0;z<c.length;z++)R.dash.push(c[z].v.val*g);if(R.dash.length==1&&R.dash[0]==0)R.dash=[];
return R},write:function(x,R,T,c){x.strokeEnabled.v=!0;var g=R.lwidth,d=R.mlimit,U=R.dash,e=R.doff,N=R.ljoin,l=R.lcap;
if(g!=null)g=x.strokeStyleLineWidth.v.val=Math.max(.4,g*T);else g=x.strokeStyleLineWidth.v.val;if(d!=null)x.strokeStyleMiterLimit.v=d;
if(U!=null)x.strokeStyleLineDashSet.v=e5.c6(U,T/g);if(e!=null)x.strokeStyleLineDashOffset.v.val=e;if(N!=null)x.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fJ.SC.join[N];
if(l!=null)x.strokeStyleLineCapType.v.strokeStyleLineCapType=fJ.SC.e7[l];if(c)x.strokeStyleContent.v.Clr.v=c}};
fJ.SC.adO=JSON.stringify(fJ.SC.default);fJ.c0=function(x){var R=x.strokeEnabled.v,T=x.strokeStyleContent.v;
return R?{KI:1+fJ.SC.af.indexOf(T.classID),TB:T}:{KI:0}};fJ.dn=function(x,R){var T=R.KI;x.strokeEnabled.v=T!=0;
if(T!=0){x.strokeStyleContent.v=R.TB;R.TB.classID=fJ.SC.af[T-1]}};fJ.dB=[{classID:"null",Clr:JSON.parse(fJ.Ck[5]).Clr},{classID:"null",Grad:JSON.parse(fJ.Ck[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(fJ.Ck[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var e5={};e5.zg=function(x,R){function T(x,s){if(x==null||!x.masterFXSwitch.v)return null;var o=x[s].v,V;
if(o.length!=0){V=o[0].v;if(!V.enab.v)V=null}return V}var c=R.SoCo,g=R.GdFl,d=T(x,"solidFillMulti"),U=T(x,"gradientFillMulti");
if(d==null&&U==null)return[c,g];var e=e5.atu;if(c&&d&&U==null){var N=JSON.parse(JSON.stringify(c));N.Clr.v=e(d.Clr.v,c.Clr.v,d);
return[N,null]}if(g&&d&&U==null){var l=JSON.parse(JSON.stringify(g)),J=l.Grad.v.Clrs.v;for(var z=0;z<J.length;
z++){var w=J[z].v.Clr;w.v=e(d.Clr.v,w.v,d)}return[null,l]}if(c&&U){var l=JSON.parse(JSON.stringify(U)),J=l.Grad.v.Clrs.v;
for(var z=0;z<J.length;z++){var w=J[z].v.Clr;w.v=e(w.v,c.Clr.v,U)}return[null,l]}return[d,U]};e5.uZ={Ww:u.B(4),K7:u.B(4),o:new aP(0,0,1,1)};
e5.atu=function(x,R,T){var c=c_.I3(T.Md.v.BlnM),g=T.Opct.v.val/100,d=e5.uZ;x=u.I.ir(x);R=u.I.ir(R);d.Ww[0]=x.o;
d.Ww[1]=x.A;d.Ww[2]=x.J;d.Ww[3]=255;d.K7[0]=R.o;d.K7[1]=R.A;d.K7[2]=R.J;d.K7[3]=255;u.l.Hy(c,d.Ww,d.o,d.K7,d.o,d.o,g);
return{classID:"RGBC",Rd:{t:"doub",v:d.K7[0]},Grn:{t:"doub",v:d.K7[1]},Bl:{t:"doub",v:d.K7[2]}}};e5.amQ=function(x,R,T){var c=x;
x=x.slice(0);var g=c_.h$[c_.Dm.indexOf(R.Md.v.BlnM)],d=u.I.ir(R.Clr.v),U=4278190080|Math.round(d.J)<<16|Math.round(d.A)<<8|Math.round(d.o),e=u.B(T.Z()*4);
u.Qu(e,U);u.l.Hy(g,e,T,x,T,T,R.Opct.v.val/100);for(var z=0;z<x.length;z+=4)x[z+3]=c[z+3];return x};e5.Xd=function(x,R){var T=["Sz","blur","Sftn","Dstn"];
for(var z=0;z<fJ.order.length;z++){var c=fJ.order[z],g=x[fJ.YZ[z]].v;for(var d=0;d<g.length;d++){var U=g[d].v;
for(var e=0;e<T.length;e++){var N=U[T[e]];if(N){var l=N.v.val,J=l;J=Math.max(l==0?0:1,J*R);if(c=="ChFX")J=Math.min(J,250);
if(c=="ebbl"){if(T[e]=="blur")J=Math.min(J,250);if(T[e]=="Sftn")J=Math.min(J,16)}N.v.val=Math.round(J)}}if(c=="ebbl"||c=="patternFill"||c=="FrFX")if(U.Ptrn&&U.Scl)U.Scl.v.val=Math.max(1,Math.min(1e3,U.Scl.v.val*R))}}};
e5.apv=function(x,R,T){var c=new aP(-.5,-.5,1,1);for(var z=0;z<fJ.order.length;z++){var g=fJ.order[z],d=x[fJ.YZ[z]].v;
for(var U=0;U<d.length;U++){var e=d[U].v,w;if(!e.enab.v)continue;var N=e.blur?e.blur.v.val+1:0,l=e.Ckmt?e.Ckmt.v.val/100:0,J=Math.round(N*l);
if(g=="DrSh"||g=="IrSh"&&T){w=new aP(-.5,-.5,1,1);w.t1(N,N);e5.XA(w,e,R,0)}if(g=="St3D"){w=new aP(-.5,-.5,1,1);
e5.XA(w,e,R,Math.PI,"Angl")}if(g=="OrGl"||g=="IrGl"&&T){w=new aP(-.5,-.5,1,1);w.t1(N,N)}if(g=="FrFX"){var s=e5.Ff(e),o=s[1];
if(T)o=Math.max(s[0],o);w=new aP(-.5,-.5,1,1);w.t1(Math.ceil(o),Math.ceil(o))}if(g=="ebbl"){var N=e.blur.v.val,V=e.bvlS.v.BESl;
if(V=="Embs"||V=="PlEb")N/=2;var a=["OtrB","InrB","Embs","PlEb","strokeEmboss"],O=["SfBL","PrBL","Slmt"],S=["In","Out"],L=e.bvlT.v.bvlT!="SfBL"?N:N*.43,Q=Math.round(N);
w=new aP(-Q-1,-Q-1,2*Q+2,2*Q+2)}if(T&&g=="ChFX"){w=new aP(-.5,-.5,1,1);w.t1(N,N);var b=w.clone();e5.XA(w,e,R,0);
e5.XA(b,e,R,Math.PI);w=w.y8(b)}if(w)c=c.y8(w)}}if(c.x!=Math.ceil(c.x)){c.x=Math.ceil(c.x);c.m-=1}if(c.y!=Math.ceil(c.y)){c.y=Math.ceil(c.y);
c.e-=1}c.m=Math.floor(c.m);c.e=Math.floor(c.e);return c};e5.Ff=function(x){var R=0,T=0,c=x.Styl.v.FStl,g=x.Sz.v.val;
if(c=="OutF")T=g;if(c=="InsF")R=g;if(c=="CtrF")R=T=g/2;return[R,T]};e5.azR=function(x){if(fq.tc&&x.VY==null){x.VY=new fq.IV(x.$F.m,x.$F.e);
x.VY.set(x.z6);delete x.z6;if(x.Th){x.dK=new fq.JK(x.$F.m,x.$F.e);x.dK.set(x.Th);delete x.Th}if(x.yS){x.BT=new fq.JK(x.$F.m,x.$F.e);
x.BT.set(x.yS);delete x.yS}}};e5.aAn=function(x){if(x.VY)x.VY.delete();if(x.dK)x.dK.delete();if(x.BT)x.BT.delete()};
e5.aiL=function(x){if(x.all==null)return;for(var z=0;z<x.all.length;z++){e5.aAn(x.all[z])}};e5.arW=function(x,R,T,c,g,d){var U=e5.Bg(T,c,x,R,g,d);
for(var z=0;z<U.all.length;z++)e5.azR(U.all[z]);return U};e5.axX=function(x){for(var z=0;z<fJ.order.length;
z++){var R=fJ.order[z],T=fJ.YZ[z],c=x[T].v;for(var g=0;g<c.length;g++){var d=c[g].v;if(d.enab.v&&["patternFill","GrFl","SoFi"].indexOf(R)==-1)return!0}}return!1};
e5.Bg=function(x,R,T,c,g,d){if(d==null)d=c;var U=0,e=0;for(var z=0;z<fJ.order.length;z++){var N=fJ.order[z],l=fJ.YZ[z],J=x[l].v;
for(var w=0;w<J.length;w++){var s=J[w].v;if(N=="DrSh"&&s.enab.v&&s.Ckmt.v.val>0&&s.blur.v.val>0)U=Math.max(U,Math.ceil(s.Ckmt.v.val*s.blur.v.val/100));
if(N=="OrGl"&&s.enab.v&&s.Ckmt.v.val>0&&s.blur.v.val>0&&s.GlwT.v.BETE=="SfBL")U=Math.max(U,Math.ceil(s.Ckmt.v.val*s.blur.v.val/100));
if(N=="OrGl"&&s.enab.v&&s.blur.v.val>0&&s.GlwT.v.BETE=="PrBL")U=Math.max(U,s.blur.v.val);if(N=="FrFX"&&s.enab.v&&s.Sz.v.val>0){if(s.Styl.v.FStl=="OutF")U=Math.max(U,s.Sz.v.val);
if(s.Styl.v.FStl=="CtrF")U=Math.max(U,Math.ceil(s.Sz.v.val/2));e=Math.max(e,e5.Ff(s)[1])}}}var o=new e5.n_(T,c,U,e5.axX(x)),V=-c.x,a=-c.y,O={type:{},all:[]};
for(var S=0;S<fJ.order.length;S++){var N=fJ.order[S],l=fJ.YZ[S];O.type[N]=[];for(var L=x[l].v.length-1;
L>=0;L--){var Q=x[l].v[L].v,y;if(!Q.enab.v)continue;var b=Q.blur?Q.blur.v.val:0,Z=Q.Ckmt?Q.Ckmt.v.val/100:0,I=b*Z;
if(N=="St3D"){var r=Math.max(1e-4,1-Q.Srnk.v.val/100),f=2,f2=0;function h(k,fj,Q){var d1=Q.Angl.v.val;
d1*=Math.PI/180;var $=Q.Dstn.v.val,gV=Math.cos(d1)*$,b0=-Math.sin(d1)*$,dv=r+fj*(1-r),iw=new gP;iw.translate(-k.m/2,-k.e/2);
iw.scale(dv,dv);iw.translate(k.m/2,k.e/2);iw.translate((1-fj)*gV,(1-fj)*b0);return iw}var k=c.clone(),K=T;
k.x=k.y=0;var H=Date.now(),p=k.clone();p.t1(f,f);var A=u.B(p.Z());u.gN(K,k,A,p);p.x=p.y=0;u.kc.nu(A,A,p,2);
var _=u.B(p.Z()*4);_.fill(255);u.Oj(A,_);var W=u.B(k.Z()),Y=k.m,G=k.e,i=p.m,E=e5.ajs(Q,g),$=Math.cos(E[1]),C=-Math.cos(E[0])*$,B=Math.sin(E[0])*$;
if(Math.abs(C)<.001&&Math.abs(B)<.001)C=B=0;for(var M=0;M<G;M++)for(var j=0;j<Y;j++){var z=(M+f)*i+j+f,P=A[z+1]-A[z-1],t=A[z+i]-A[z-i],q=P*P+t*t;
if(q>10){var m=1/Math.sqrt(q);W[M*Y+j]=Math.max(0,Math.min(255,128+127*(C*m*P+B*m*t)))}}var iE=[K,k],hV=h(k,0,Q),dD=u.M.$x(k).z,bh=dD.slice(0);
u.M.i(dD,hV,bh);var ho=k.y8(u.M.CC(bh)),aH=u.B(ho.Z()*4);for(var z=0;z<8;z+=2){var P=dD[z]-bh[z],t=dD[z+1]-bh[z+1];
f2=Math.max(f2,Math.sqrt(P*P+t*t))}var e9=Math.round(f2/2),kB=u.I.ir(Q.Clr.v);kB.o/=255;kB.A/=255;kB.J/=255;
var ct=Q.Drkn.v.val/100;for(var jF=0;jF<e9;jF++){var fj=jF/e9,ab=1-ct+fj*ct,iw=h(k,fj,Q),jD=k.clone(),a1=K;
if(r!=1){var gd=D.gW.uQ(iE,iw);jD=gd.rect;a1=gd.channel}else{var i6=iw.Wk(new cI(0,0));jD.x+=Math.round(i6.x);
jD.y+=Math.round(i6.y)}var hv=u.B(jD.Z()*4);if(C!=0||B!=0){var hO=jD.m,jh=jD.e,aJ=kB.o,hS=kB.A,iO=kB.J,g$=iw.clone();
g$.F0();var bF=g$.Wk(new cI(.5,.5)),hy=g$.Wk(new cI(1.5,1.5)),P=hy.x-bF.x,t=hy.y-bF.y;for(var M=0;M<jh;
M++){for(var j=0;j<hO;j++){var z=M*hO+j,fg=z*4,hL=Math.max(0,Math.min(Y-1,~~(.5+P*j))),dn=Math.max(0,Math.min(G-1,~~(.5+t*M))),c5=W[dn*Y+hL],at=-1+2*c5*(1/255),gt=-at,iK=0;
if(at>0){gt=0;iK=at}hv[fg]=255*(1-gt)*(iK+(1-iK)*aJ)*ab;hv[fg+1]=255*(1-gt)*(iK+(1-iK)*hS)*ab;hv[fg+2]=255*(1-gt)*(iK+(1-iK)*iO)*ab}}}else e5.vj(hv,Q.Clr.v,null,ab);
u.rN(a1,hv,3);u.l.Hy("norm",hv,jD,aH,ho,jD,1)}y={z6:aH,$F:ho}}else if(N=="DrSh"){var iz=o.xj(I,b-I,!0),gI=iz.Po,ce=iz.v4.clone();
e5.EP(gI,Q,!1);if(Q.Cntn&&Q.Cntn.v){var b7=new aP;e5.XA(b7,Q,g,0);var br=ce.clone();br.offset(-b7.x,-b7.y);
br=br.y8(ce);var kg=u.B(br.Z());u.gN(gI,ce,kg,br);var bM=Math.sqrt(b7.x*b7.x+b7.y*b7.y),eQ=gI.slice(0);
for(var z=0;z<bM-1;z++){var P=Math.round(-b7.x*z/bM),t=Math.round(-b7.y*z/bM),eT=iz.v4.clone();eT.offset(P,t);
u.ay6(eQ,eT,kg,br)}gI=kg;ce=br}ce.offset(V,a);e5.XA(ce,Q,g,0);var aH=u.B(ce.Z()*4);e5.vj(aH,Q.Clr.v);
u.rN(gI,aH,3);y={z6:aH,$F:ce,adz:Q.layerConceals.v}}else if(N=="IrSh"){var iz=o.xj(I,b-I,!1);e5.XA(iz.v4,Q,g,0);
var ce=o.rect().clone(),gI=u.B(ce.Z());gI.fill(255);u.gN(iz.Po,iz.v4,gI,ce);e5.EP(gI,Q,!0,!0);var aH=u.B(ce.Z()*4);
e5.vj(aH,Q.Clr.v);u.rN(gI,aH,3);ce.offset(V,a);y={z6:aH,$F:ce}}else if(N=="GrFl"){var aH=u.B(o.rect().Z()*4);
e5.Dc(Q,aH,o.rect(),g,null,d);var ce=o.rect().clone();ce.offset(V,a);y={z6:aH,$F:ce}}else if(N=="SoFi"){var aH=u.B(o.Po().length*4);
e5.vj(aH,Q.Clr.v);var ce=o.rect().clone();ce.offset(V,a);y={z6:aH,$F:ce}}else if(N=="ebbl"){var b6=!1;
if(b6)console.log(Q);var H=Date.now(),hx=Q.bvlS.v.BESl;if(hx=="strokeEmboss"){var io=x.frameFXMulti.v;
if(io.length==0)continue;io=io[0].v;if(!io.enab.v)continue;var jm=io.Styl.v.FStl;if(jm=="OutF")hx="OtrB";
if(jm=="CtrF")hx="Embs";if(jm=="InsF")hx="InrB"}var b=Q.blur.v.val;if(b==0)b=.7;if(hx=="Embs"||hx=="PlEb")b/=2;
var bq=["OtrB","InrB","Embs","PlEb","strokeEmboss"],gO=["SfBL","PrBL","Slmt"],ae=["In","Out"],dl=Q.bvlT.v.bvlT!="SfBL"?b:b*.45,eF=Math.round(b),e6=o.rect().clone(),dJ=e6.clone();
dJ.t1(eF,eF);var Y=dJ.m,G=dJ.e,d2=Y*G,gQ=u.B(d2);u.gN(o.Po(),e6,gQ,dJ);var a6=new Float64Array(d2),h6=new Float64Array(d2);
u.style.C6(gQ,a6,Y,G);u.F0(gQ);u.style.C6(gQ,h6,Y,G);if(b6)console.log("distTransform computed",Date.now()-H);
for(var z=0;z<d2;z++)h6[z]=h6[z]-a6[z];for(var z=0;z<d2;z++){var cU=h6[z];if(cU<-dl)h6[z]=-dl;else if(cU>dl)h6[z]=dl}if(b6)console.log("summing + cropping",Date.now()-H);
if(Q.bvlT.v.bvlT=="SfBL"){var jv=Math.pow(b*.21,1.22);if(!0)jv=Math.max(jv,2);var de=u.kc.Zx(jv,2);u.kc.RM(h6,a6,dJ,de[0]>>>1);
u.kc.RM(a6,h6,dJ,de[1]>>>1)}if(b6)console.log("blurring",Date.now()-H);var jJ=h6,c4=jJ.slice(0);if(Q.useShape.v){var gn=Math.min(100,Q.Inpr.v.val+1)/100;
if(hx!="OtrB"&&hx!="InrB")gn=1;var eG=u.a1.A0(Q.MpgS.v.Crv.v,2e3),gN=Math.round(2e3/gn);eG=u.a1.a7d(eG,gN,hx=="InrB");
var et=.5/dl;for(var z=0;z<d2;z++){var bi=jJ[z],bc=.99999*(bi+dl)*et;jJ[z]=-dl+2*dl*eG[~~(bc*(gN-1))]}if(b6)console.log("applying shape",Date.now()-H)}if(Q.useTexture.v){var hv=u.B(Y*G*4);
e5.Ms(Q,hv,dJ,g.add.Patt,R);var jM=u.B(Y*G);u.Ve(hv,jM);var j9=u.B(Y*G);u.kc.aoN(jM,j9,dJ,1);jM=j9;var aR=b*Q.textureDepth.v.val*(1/100)*(1/255);
if(Q.InvT.v)aR=-aR;for(var z=0;z<d2;z++)jJ[z]+=-aR*jM[z];if(b6)console.log("applying texture",Date.now()-H)}var cc=(Q.bvlT.v.bvlT=="SfBL"?1:.5)*(Q.bvlD.v.BESs=="In"?1:-1)*Q.srgR.v.val/100;
for(var z=0;z<d2;z++)jJ[z]*=cc;if(b6)console.log("scaling",Date.now()-H);var E=e5.ajs(Q,g),d1=E[0],d7=E[1],C=Math.cos(d1)*Math.cos(d7),B=-Math.sin(d1)*Math.cos(d7),ej=Math.sin(d7),cr=new Float64Array(d2),dZ=new Float64Array(d2),dw=hx=="PlEb";
for(var M=0;M<G;M++)for(var j=0;j<Y;j++){var z=M*Y+j,aX=0,hz=0,dG=1;if(M!=0&&M!=G-1&&j!=0&&j!=Y-1){var iH=jJ[z-Y-1],cW=jJ[z-Y+1],gx=jJ[z+Y-1],eS=jJ[z+Y+1];
aX=-.125*(cW+2*jJ[z+1]+eS-(iH+2*jJ[z-1]+gx));hz=-.125*(gx+2*jJ[z+Y]+eS-(iH+2*jJ[z-Y]+cW))}else{var fw=jJ[z];
hz=-(M==0?jJ[z+Y]-fw:M==G-1?fw-jJ[z-Y]:.5*(jJ[z+Y]-jJ[z-Y]));aX=-(j==0?jJ[z+1]-fw:j==Y-1?fw-jJ[z-1]:.5*(jJ[z+1]-jJ[z-1]))}var dE=1/Math.sqrt(aX*aX+hz*hz+1);
aX*=dE;hz*=dE;dG*=dE;var bw=aX*C+hz*B+dG*ej,hX=bw;if(dw)hX=-aX*C-hz*B+dG*ej;if(bw>0)cr[z]=bw;if(hX>0)dZ[z]=hX}if(b6)console.log("raycasting",Date.now()-H);
if(Q.Sftn.v.val!=0){u.kc.cX(cr,a6,dJ,Q.Sftn.v.val*.43);var hl=a6,a6=cr,cr=hl;if(dw){u.kc.cX(dZ,a6,dJ,Q.Sftn.v.val*.43);
var hl=a6,a6=dZ,dZ=hl}else u.kS(cr,dZ)}if(b6)console.log("softening",Date.now()-H);var eG=u.a1.A0(Q.TrnS.v.Crv.v,1024);
for(var z=0;z<d2;z++){cr[z]=eG[~~(cr[z]*1024)];dZ[z]=eG[~~(dZ[z]*1024)]}if(b6)console.log("contour remap",Date.now()-H);
Y=Math.round(Y);G=Math.round(G);var hq=u.B(Y*G*4);e5.vj(hq,Q.hglC.v);var g2=u.B(Y*G*4);e5.vj(g2,Q.sdwC.v);
var ic=u.B(Y*G*4);e5.vj(ic,Q.hglC.v);var cj=u.B(Y*G*4);e5.vj(cj,Q.sdwC.v);var cB=1/ej,ik=1/(1-ej),et=1/dl,jL=new Float64Array(1e3);
for(var z=0;z<1e3;z++)jL[z]=Math.pow(z*.001,.2);for(var M=0;M<G;M++)for(var j=0;j<Y;j++){var z=M*Y+j,df=4*z+3,e8=0,fH=0;
e8=cr[z];fH=dZ[z];var g1=Math.max(0,Math.min(.9999,(c4[z]+dl*.993)*et));g1=jL[Math.floor(g1*1e3)];var du=g1*(1-Math.min(1,e8*cB)),iu=g1*(1-Math.min(1,(1-e8)*ik)),hC=g1*(1-Math.min(1,fH*cB)),jh=g1*(1-Math.min(1,(1-fH)*ik));
g2[df]=Math.round(255*du);hq[df]=Math.round(255*iu);cj[df]=Math.round(255*hC);ic[df]=Math.round(255*jh)}if(b6)console.log("baking textures",Date.now()-H);
dJ=o.rect().clone();dJ.t1(eF,eF);dJ.offset(V,a);y={ail:Q.bvlS.v.BESl=="strokeEmboss"};var dz=c_.I3(Q.hglM.v.BlnM),az=Q.hglO.v.val/100,gH=c_.I3(Q.sdwM.v.BlnM),cP=Q.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(hx)!=-1){y._N={z6:hq,$F:dJ,wN:dz,mT:az};y.JI={z6:g2,$F:dJ,wN:gH,mT:cP}}if(["OtrB","Embs","PlEb"].indexOf(hx)!=-1){y.oa={z6:ic,$F:dJ,wN:dz,mT:az};
y.Ue={z6:cj,$F:dJ,wN:gH,mT:cP}}if(b6)console.log(Date.now()-H)}else if(N=="patternFill"){var jo=o.rect(),aH=u.B(jo.Z()*4);
e5.Ms(Q,aH,jo,g.add.Patt,R);var ce=jo.clone();ce.offset(V,a);y={z6:aH,$F:ce}}else if(N=="ChFX"){var aH=u.B(o.Po().length*4);
e5.vj(aH,Q.Clr.v);var b=Q.blur.v.val,bb=o.rect().clone();bb.t1(b,b);var h2=u.B(bb.Z()),jj=u.B(bb.Z());
u.gN(o.Po(),o.rect(),jj,bb);u.kc.nu(jj,h2,bb,b*.43);var j_=u.a1.Ez(Q.MpgS.v.Crv.v,256,!0);u.qr(h2,j_);
var g7=u.B(o.Po().length),cR=u.B(o.Po().length),kn=o.rect().clone();e5.XA(kn,Q,g,0);u.gN(h2,bb,g7,kn);
kn=o.rect().clone();e5.XA(kn,Q,g,Math.PI);u.gN(h2,bb,cR,kn);var fa=g7.length;for(var z=0;z<fa;z++)aH[4*z+3]=Math.abs(g7[z]-cR[z]);
if(Q.Invr.v)for(var z=0;z<fa;z++)aH[4*z+3]=255-aH[4*z+3];var ce=o.rect().clone();ce.offset(V,a);y={z6:aH,$F:ce}}else if(N=="OrGl"){var iz;
if(Q.GlwT.v.BETE=="SfBL")iz=o.xj(I,b-I,!0);else iz=o.agL(b,Z,!0);var gI=iz.Po,ce=iz.v4,db=gI.slice(0);
e5.aq1(gI,Q);var aH=u.B(ce.Z()*4);if(Q.Grad==null){e5.vj(aH,Q.Clr.v);e5.EP(gI,Q,!1)}else{e5.EP(gI,Q,null);
var fk={oJ:gI,wH:255,lE:0,yw:ce};e5.Dc(Q,aH,ce,g,fk);var iN=Q.Nose.v.val/100,jN=ce.m;for(var z=0;z<db.length;
z++){var am=255,js=db[z];if(js<32){var hQ=(js+db[z-1]+db[z+1]+db[z-jN]+db[z+jN])*.2-1;am=Math.min(255,Math.round(Math.max(0,hQ)*8))}gI[z]=am}e5.a09(gI,Q)}u.rN(gI,aH,3);
ce.offset(V,a);y={z6:aH,$F:ce}}else if(N=="IrGl"){var iz;if(Q.GlwT.v.BETE=="SfBL")iz=o.xj(I,b-I,!1);
else iz=o.agL(b,Z,!1);var gI=iz.Po,ce=iz.v4;e5.aq1(gI,Q);if(Q.glwS.v.IGSr=="SrcC")u.F0(gI);var aH=u.B(ce.Z()*4);
if(Q.Grad==null){e5.vj(aH,Q.Clr.v);e5.EP(gI,Q,!0)}else{e5.EP(gI,Q,null);var fk={oJ:gI,wH:255,lE:0,yw:ce};
e5.Dc(Q,aH,ce,g,fk);gI.fill(255);e5.a09(gI,Q)}u.rN(gI,aH,3);ce.offset(V,a);y={z6:aH,$F:ce}}else if(N=="FrFX"){var kx=e5.Ff(Q),i5=kx[0],iI=kx[1],ce=o.rect().clone(),hR=null,h1=null;
ce.t1(Math.ceil(e),Math.ceil(e));if(iI>0){var iz=o.xj(iI,0,!0);h1=iz.Po;if(h1.length<ce.Z()){h1=u.B(ce.Z());
u.gN(iz.Po,iz.v4,h1,ce)}}if(i5>0){var iz=o.xj(i5,0,!1);hR=u.B(ce.Z());hR.fill(255);u.gN(iz.Po,iz.v4,hR,ce)}ce.offset(V,a);
var aH=u.B(ce.Z()*4),bH=Q.PntT.v.FrFl;if(bH=="SClr")e5.vj(aH,Q.Clr.v);if(bH=="GrFl")e5.Dc(Q,aH,ce,g,o.aCg(i5,iI));
if(bH=="Ptrn")e5.Ms(Q,aH,ce,g.add.Patt,R);var it=Q.overprint,gU=it?it.v:!1;if(gU){var ks=hR?hR:h1;if(hR&&h1)u.jY.yx(hR,h1,ks);
u.rN(ks,aH,3)}y={z6:aH,$F:ce,yS:h1,Th:hR,ayC:gU}}O.type[N].push(y);if(N=="ebbl"){if(y._N)O.all.push(y._N,y.JI);
if(y.oa)O.all.push(y.oa,y.Ue)}else{y.wN=c_.I3(Q.Md.v.BlnM);y.mT=Q.Opct.v.val/100,O.all.push(y)}}}return O};
e5.vY=function(x){var R=1/Math.sqrt(x.x*x.x+x.y*x.y+x.Kj*x.Kj);x.x*=R;x.y*=R;x.Kj*=R};e5.amd=function(x,R){return{x:x.y*R.Kj-x.Kj*R.y,y:x.Kj*R.x-x.x*R.Kj,Kj:x.x*R.y-x.y*R.x}};
e5.asZ=function(x,R){return x.x*R.x+x.y*R.y+x.Kj*R.Kj};e5.a09=function(x,R){var T=R.Nose.v.val/100;if(T>0)for(var z=0;
z<x.length;z++){var c=x[z];c=Math.min(510-(1+T)*u.style.xr(z),c);x[z]=c}};e5.xG=function(x){var R=e5.Jk(),T=x.l1,c=!1;
for(var z=0;z<32;z+=8)if(T[z]+T[z+1]+T[z+4]+T[z+5]!=0||T[z+2]+T[z+3]+T[z+6]+T[z+7]!=1020)c=!0;if(c){T=T.slice(0);
for(var z=0;z<40;z+=4){var g=T[z]/255,d=T[z+1]/255,U=T[z+2]/255,e=T[z+3]/255;T[z]=g-.001;T[z+1]=g==d?1e6:1/(d-g);
T[z+2]=U==e?-1e6:1/(U-e);T[z+3]=e+.001}}var N=x.add.iOpa!=null?x.add.iOpa/255:R.fill,l=x.add.vstk;if(l&&!l.fillEnabled.v&&(!l.strokeEnabled.v||l.strokeStyleLineWidth.v.val==0))N=0;
return{fill:N,sn:c?T:null,ro:x.add.brst!=null?x.add.brst:R.ro,azQ:x.add.knko!=null?x.add.knko:R.azQ,style:!1,lg:!1}};
e5.Jk=function(){return{fill:1,sn:null,ro:[1,1,1],azQ:0,style:!1,lg:!1}};e5.abW=function(x,R,T,c,g,d,U,e){if(e==null)e=1;
if(U==null)U=new gP;var N=x.NR[1].m,l=x.NR[1].e,J=new gP,w=g<2;if(w)J.translate(-N/2,-l/2);if(g==0){e*=Math.max(T/N,c/l)}else if(g==1){e*=Math.min(T/N,c/l)}else if(g==2){J.scale(1/N,1/l);
J.concat(U);J.scale(T,c)}else if(g==3){e=e}J.scale(e,e);if(w)J.translate(T/2,c/2);J.concat(d);R.Ptrn.v.Idnt.v=x.id;
R.Scl.v.val=Math.round(100*J.Rt());R.Angl.v.val=Math.round(180*Math.atan2(-J.J,J.Y)/Math.PI);R.Algn.v=!0;
var s=R.phase.v;s.Hrzn.v=Math.round(J.a4);s.Vrtc.v=Math.round(J.rY)};e5.s2=function(x,R){if(R==null)return null;
var T=x.Idnt.v,c=x.Nm.v;for(var z=0;z<R.length;z++)if(R[z].id==T)return R[z];for(var z=0;z<R.length;
z++)if(R[z].name==c)return R[z];return null};e5.abF=function(x,R,T){var c=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var z=0;z<c.length;z++){var g=x.v[c[z]].v;for(var d=0;d<g.length;d++)if(g[d].v.Ptrn)R.Ot(e5.s2(g[d].v.Ptrn.v,T))}};
e5.aCT=function(x,R,T){var c=["patternFillMulti","ebblMulti","frameFXMulti"];for(var z=0;z<c.length;
z++){var g=x.v[c[z]].v;for(var d=0;d<g.length;d++)if(g[d].v.Ptrn){var U=g[d].v.Ptrn.v,e=e5.s2(U,T),N=e5.s2(U,R.add.Patt);
if(e==null&&N)T.push(N)}}};e5.Ms=function(x,R,T,c,g){var d=e5.s2(x.Ptrn.v,c);if(d!=null&&!T.Y3()){var U=d.NR,e=U[0],N=U[1],l=0;
u.hj(U);var J=(x.Scl?x.Scl.v.val:100)/100;while((J<.3||J==.5)&&U[l+2]){J*=N.m/U[l+3].m;l+=2;e=U[l];N=U[l+1]}var w=u.scale.Ms(e,N.m,N.e),s=x.phase?x.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},o=x.Angl?x.Angl.v.val:0,V=-T.x+s.Hrzn.v-1,a=-T.y+s.Vrtc.v-1;
if(x.Algn!=null&&!x.Algn.v){}else{V+=g.x;a+=g.y}if(R)u.scale.asr(w,R,T.m,T.e,J,J,V+1,a+1,o*Math.PI/180);
else return[w,J,V+1,a+1,o*Math.PI/180]}};e5.Dc=function(x,R,T,c,g,d){if(d==null)d=T;var U=x.Type?x.Type.v.GrdT:"shapeburst",e=x.Algn&&x.Algn.v?d:new aP(0,0,c.m,c.e),N=x.Angl?u.I.pc(x,e):[new cI(0,0),new cI(100,0)],l=N[0].x,J=N[0].y,w=N[1].x-l,s=N[1].y-J,o=Math.sqrt(w*w+s*s);
o=1/(2*o*o);var V=[w*o,s*o,-s*o,w*o],a=x.Rvrs?x.Rvrs.v:!1,O=x.Dthr?x.Dthr.v:!1;u.I.lq(x.Grad.v,R,T,V,l,J,a,fJ.I.types.indexOf(U),0,0,g,O)};
e5.awO=function(x,R,T){for(var z=0;z<x.all.length;z++){var c=x.all[z];c.t5=c.$F.clone();c.t5.offset(R,T)}};
e5.ahy=function(x,R,T,c,g,d){var U=fq.tc?e5.a49:e5.agt;e5.awO(R,T.x,T.y);var e=R.type.DrSh;for(var z=0;
z<e.length;z++)if(!e[z].adz)U(e[z],c,g,d)};e5.anQ=function(x,R,T,c,g,d,U,e,N,l){var J=T,w=fq.tc?e5.a49:e5.agt,s=fq.tc?fq.l.Qh:u.l.pW,o;
o=R.type.DrSh;for(var z=0;z<o.length;z++)if(o[z].adz)w(o[z],c,g,d);o=R.type.St3D;for(var z=0;z<o.length;
z++)w(o[z],c,g,d);o=R.type.OrGl;for(var z=0;z<o.length;z++)w(o[z],c,g,d);var V="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var a=0;a<V.length;a++){var o=R.type[V[a]];for(var z=0;z<o.length;z++)w(o[z],U,J,d)}var O=R.type.ebbl[0],S=O!=null&&O.ail;
o=R.type.FrFX;for(var z=0;z<o.length;z++){var L=o[z];gg.Vi.gN(e,l,N,l,d);w(L,N,l,d);if(S&&z==o.length-1){if(O.Ue)w(O.Ue,N,l,d);
if(O.oa)w(O.oa,N,l,d);if(O.JI)w(O.JI,N,l,d);if(O._N)w(O._N,N,l,d)}if(L.ayC){if(L.Th||L.dK){w(L,U,J,d)}if(L.yS||L.BT){w(L,c,g,d)}}else{if(L.Th||L.dK)s(N,l,U,J,fq.tc?L.dK:L.Th,L.t5,0,d,1);
if(L.yS||L.BT)s(N,l,c,g,fq.tc?L.BT:L.yS,L.t5,0,d,1)}}if(!S&&O!=null){if(O.Ue)w(O.Ue,c,g,d);if(O.oa)w(O.oa,c,g,d);
if(O.JI)w(O.JI,U,J,d);if(O._N)w(O._N,U,J,d)}};e5.agt=function(x,R,T,c){var g=e5.Jk();g.fill=x.mT;g.style=!0;
u.l.Hy(x.wN,x.z6,x.t5,R,T,c,1,g)};e5.a49=function(x,R,T,c){var g=e5.Jk();g.fill=x.mT;g.style=!0;fq.l.aw(x.wN,x.VY,x.t5,R,T,c,1,g)};
e5.aq1=function(x,R){var T=1-R.Inpr.v.val/100,c=1+Math.tan(T*(Math.PI/2)),g=x.length;for(var z=0;z<g;
z++)x[z]=Math.min(255,Math.round(x[z]*c))};e5.EP=function(x,R,T,c){var g=R.blur.v.val,d=Math.round(g*(R.Ckmt.v.val/100));
if(g>d){var U=u.a1.Ez(R.TrnS.v.Crv.v,256,c!=!0);u.qr(x,U)}if(T!=null&&R.Nose.v.val>0)u.style.m0(x,R.Nose.v.val/100,T)};
e5.vj=function(x,R,T,c){if(T==null)T=255;var g=u.I.ir(R);if(c!=null){g.o=Math.round(g.o*c);g.A=Math.round(g.A*c);
g.J=Math.round(g.J*c)}var d=T<<24|g.J<<16|g.A<<8|g.o,U=new Uint32Array(x.buffer);U.fill(d)};e5.XA=function(x,R,T,c,g){var d=R.uglg&&R.uglg.v?T.er():R[g?g:"lagl"].v.val;
d=d*Math.PI/180+c;var U=Math.cos(d)*R.Dstn.v.val,e=Math.sin(d)*R.Dstn.v.val;x.x-=Math.round(U);x.y+=Math.round(e)};
e5.ajs=function(x,R){var T=x.uglg&&x.uglg.v?R.er():x.lagl.v.val;T=T*(Math.PI/180);var c=x.uglg&&x.uglg.v?R.Oo():x.Lald.v.val;
c=c*(Math.PI/180);return[T,c]};e5.Mq=function(x){if(x==null)return null;var R=x.frameFXMulti.v;if(R.length==0)return null;
R=R[0].v;var T=fJ.SC.GI();e5.abP(R,T);return T};e5.abP=function(x,R){var T=fJ.stroke.g5.indexOf(x.PntT.v.FrFl),c=[fJ.RV,fJ.dc,fJ.lK][T],g=R.strokeStyleContent.v={classID:fJ.SC.af[T]};
for(var z=0;z<c.length;z++)g[c[z]]=x[c[z]];R.strokeEnabled=x.enab;R.strokeStyleLineWidth=x.Sz;R.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fJ.SC.tm[fJ.stroke.types.indexOf(x.Styl.v.FStl)];
R.strokeStyleOpacity=x.Opct;R.strokeStyleBlendMode=x.Md;R.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
e5.c6=function(x,R){var T=[];for(var z=0;z<x.length;z++)T.push({t:"UntF",v:{type:"#Nne",val:Math.round(x[z]*R)}});
return T};e5.aaH=function(x,R){var T=x.opacity/255*(x.add.iOpa?x.add.iOpa/255:1),c=x.add.TySh,g=x.NW()||x.bT()&&x.add.vmsk&&x.add.vstk.fillEnabled.v&&x.add.vstk.strokeEnabled.v;
if(c){var d=c.pM.EngineDict.StyleRun.RunArray,U=d[0].StyleSheet.StyleSheetData,e=0;if(U.FillFlag)e++;
if(U.StrokeFlag)e++;if(U._FillBackgroundFlag)e++;if(e>1)g=!0}return g&&(R||T!=1||x.mh!="pass"&&x.mh!="norm")};
e5.n_=function(x,R,T,c){this.lh=R.clone();this.arh=R.clone();this.arh.t1(T,T);if(c){this.lh.t1(1,1);
this.Me=u.B(this.lh.Z());u.gN(x,R,this.Me,this.lh)}else this.Me=x;this.P3=null;this.QT=null;this.ts=null};
e5.n_.prototype.Po=function(){return this.Me};e5.n_.prototype.rect=function(){return this.lh};e5.n_.prototype.Rb=function(){return this.arh};
e5.n_.prototype.N2=function(){if(this.P3)return this.P3;this.P3=this.Po().slice(0);u.F0(this.P3);return this.P3};
e5.n_.prototype.L9=function(){if(this.QT)return this.QT;this.QT=new Float64Array(this.rect().Z());u.style.C6(this.N2(),this.QT,this.rect().m,this.rect().e);
return this.QT};e5.n_.prototype.$t=function(){if(this.ts)return this.ts;var x=this.Rb(),R=u.B(x.Z());
u.gN(this.Po(),this.rect(),R,x);this.ts=new Float64Array(x.Z());u.style.C6(R,this.ts,x.m,x.e);return this.ts};
e5.n_.prototype.aCg=function(x,R){var T={wH:-R,lE:x,yw:null,oJ:null};if(R==0){T.yw=this.rect();T.oJ=this.L9();
return T}var c=this.$t().slice(0),g=this.Rb();T.yw=g;T.oJ=c;for(var z=0;z<c.length;z++)c[z]=-c[z];if(x==0)return T;
var d=this.L9(),U=this.rect();for(var e=0;e<U.e;e++)for(var N=0;N<U.m;N++){var l=e*U.m+N,J=(e+U.y-g.y)*g.m+N+U.x-g.x;
c[J]+=d[l]}return T};e5.n_.prototype.xj=function(x,R,T){var c=Math.ceil(x+R),g={v4:this.rect().clone(),Po:null};
g.v4.t1(c,c);g.Po=u.B(g.v4.Z());if(x==0&&R==0)u.kS(T?this.Po():this.N2(),g.Po);else{var d=u.B(g.v4.Z());
u.gN(this.Po(),this.rect(),d,g.v4);if(!T)u.F0(d);if(x!=0){if(T)u.style.m8(d,g.v4,this.$t(),this.Rb(),x);
else u.style.m8(d,g.v4,this.L9(),this.rect(),x)}if(R!=0)u.kc.nu(d,g.Po,g.v4,Math.max(1,R*.43));else g.Po=d}return g};
e5.n_.prototype.agL=function(x,R,T){var c=x*(R-.5),g={v4:this.rect().clone(),Po:null};if(T)g.v4.t1(x,x);
g.Po=u.B(g.v4.Z());var d=g.v4.m,U=g.v4.e,e=T?this.$t():this.L9(),N=T?this.Rb():this.rect(),l=g.v4,J=l.yx(N),d=J.m,U=J.e,w=J.x-l.x,s=J.y-l.y,o=J.x-N.x,V=J.y-N.y,a=1-R*2;
for(var O=0;O<U;O++)for(var S=0;S<d;S++){var L=e[(O+V)*N.m+S+o],Q=L/x;g.Po[(O+s)*l.m+S+w]=Math.max(0,Math.min(255,255-255*((Q+a)/(1+a))))}return g};
e5.apw=function(x,R,T,c){var g=x.Lefx,d=x.blendOptions;if(g){var U=R.add.lmfx;if(T==null)T=U?U.Scl.v.val:100;
R.add.lmfx=JSON.parse(JSON.stringify(g.v));if(R.add.lmfx.Scl==null)R.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
e5.Xd(R.add.lmfx,T/R.add.lmfx.Scl.v.val);if(U)R.add.lmfx.Scl.v.val=U.Scl.v.val;var e=g.v.gagl;if(e&&c)c.Um(e.v.val)}else delete R.add.lmfx;
if(d){d=d.v;if(d.Md)R.mh=c_.I3(d.Md.v.BlnM);if(d.Opct)R.opacity=Math.round(d.Opct.v.val*255/100);if(d.fillOpacity)R.add.iOpa=Math.round(d.fillOpacity.v.val*255/100);
if(d.Blnd){var N=[];for(var z=0;z<10;z++)N.push(0,0,255,255);var l=d.Blnd.v,J="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var z=0;z<l.length;z++){var w=l[z].v,s=8*["Gry","Rd","Grn","Bl"].indexOf(w.Chnl.v[0].v.enum);for(var o=0;
o<8;o++){N[s+o]=w[J[o]].v}}R.l1=N}}};e5.az2=function(x){var R="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),T=[],c=x.l1;
for(var z=0;z<4;z++){var g=z*8;if(c[g]+c[g+1]+c[g+4]+c[g+5]==0&&c[g+2]+c[g+3]+c[g+6]+c[g+7]==4*255)continue;
var d={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][z]}}]}}};
T.push(d);for(var U=0;U<8;U++)d.v[R[U]]={t:"long",v:c[z*8+U]}}var e={classID:"blendOptions"};if(x.mh!="norm")e.Md={t:"enum",v:{BlnM:c_.GM(x.mh)}};
if(x.opacity!=255)e.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(x.opacity*100/255)}};if(x.add.iOpa!=null)e.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(x.add.iOpa*100/255)}};
if(T.length!=0)e.Blnd={t:"VlLs",v:T};var N={DN:{classID:"null",Idnt:{t:"TEXT",v:c9.EW()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},U1:{classID:"Styl",blendOptions:{t:"Objc",v:e}}},l=x.add.lmfx;
if(l)N.U1.Lefx={t:"Objc",v:l};return N};function bE(){}bE.k7=function(x){return JSON.parse(JSON.stringify(x))};
bE.hA=function(x){var R=bE.k7(bE.ajg),T=R.Brsh.v;if(x!=null){delete T.Hrdn;T.classID="sampledBrush";
T.sampledData={t:"TEXT",v:x}}return R};bE.ajg={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
bE.amo=function(x,R){var T=["opVr","szVr"],c=["usePaintDynamics","useTipDynamics"];for(var z=0;z<2;z++){var g=T[z];
if(x[g]==null)x[g]=JSON.parse(bE.vY.MG[g]);x[g].v.bVTy.v=R[z]?2:0;if(R[z])x[c[z]].v=!0}bE.vY.aow(x)};
bE.vY={};bE.vY.check=function(x){var R=bE.vY.qL;for(var z=0;z<R.length;z++)if(x[R[z]]==null)x[R[z]]=JSON.parse(bE.vY.MG[R[z]]);
var T=[];for(var z=0;z<R.length;z++)T.push(R[z]);var c=bE.vY.ajm;for(var z=0;z<c.length;z++){var g=c[z][0],d=c[z][1],U=!0;
for(var e=0;e<g.length;e++)U=U&&x[g[e]].v==!0;if(U)for(var e=0;e<d.length;e++){if(x[d[e]]==null)console.log("Missing conditional parameter "+d[e]);
else T.push(d[e])}}for(var N in x)if(T.indexOf(N)==-1)console.log("Extra parameter "+N);x=x.Brsh.v;R=bE.vY.n0.qL;
for(var z=0;z<R.length;z++)if(x[R[z]]==null)x[R[z]]=JSON.parse(bE.vY.n0.MG[R[z]]);T=[];for(var z=0;z<R.length;
z++)if(x[R[z]])T.push(R[z]);else console.log("Missing default parameter "+R[z]);c=bE.vY.n0.akP[x.classID];
for(var z=0;z<c.length;z++)if(x[c[z]]==null&&c[z]!="dtipsGridSize"&&c[z]!="dtipsErodibleTipHeightMap"&&x.ad0!=1)console.log("Missing conditional parameter "+c[z]);
else T.push(c[z]);for(var N in x)if(T.indexOf(N)==-1)console.log("Extra parameter "+N)};bE.vY.aow=function(x){var R=bE.vY.ajm;
for(var z=0;z<R.length;z++){var T=R[z][0],c=R[z][1],g=!0;for(var d=0;d<T.length;d++)g=g&&x[T[d]]&&x[T[d]].v==!0;
if(g){for(var d=0;d<c.length;d++)if(x[c[d]]==null){x[c[d]]=JSON.parse(bE.vY.MG[c[d]])}}else for(var d=0;
d<c.length;d++)if(x[c[d]]!=null){delete x[c[d]]}}};bE.vY.n0={};bE.vY.n0.qL="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
bE.vY.n0.MG={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};bE.vY.n0.akP={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
bE.vY.ajm=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
bE.vY.qL="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
bE.vY.MG={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function gJ(x,R){this.ahz=x;this.Hh=R==null?0:R;this.dir=0}gJ.prototype.yM=function(x,R){var T=this.ahz,c=new cI(x.x-T.x,x.y-T.y),g=new gP;
g.rotate(-this.Hh);c=g.Wk(c);if(this.dir==0&&!T.X$(x))this.dir=Math.abs(c.x)<Math.abs(c.y)?1:2;if(R.S(fZ.xg)){if(this.dir==1)c.x=0;
if(this.dir==2)c.y=0}g.F0();c=g.Wk(c);var d=new cI(T.x+c.x,T.y+c.y);return d};gJ.prototype.av$=function(x){if(x.S(fZ.xg))return this.dir;
return 0};var hT=function(){function x(){this.aal={}}x.aBj=function(R,T){var c=R.clone();c.a4-=Math.floor(c.a4);
c.rY-=Math.floor(c.rY);var g=new cI(T,0),d=new cI(0,T),U=c.Wk(g),e=c.Wk(d),N=new cI(c.a4,c.rY);return[U,e,N]};
x.agI=function(R,T){var c=cI.rE;return c(R[0],T[0])+c(R[1],T[1])+c(R[2],T[2]);return dsum};x.prototype.awW=function(R){var T=this.aal,c=T[R];
if(c==null)c=T[R]={P2:[],el:0,Z:0,asd:0,aix:0};c.el=Date.now();while(Object.keys(T).length>3){var g="",d=Date.now();
for(var U in T){var e=T[U].el;if(e<d){d=e;g=U}}delete T[g]}return c};x.prototype.a6q=function(R,T){var c=R.P2,g,d=1e6;
for(var z=0;z<c.length;z++){var U=c[z],e=x.agI(U.Cu,T);if(e<d){g=U;d=e}}return g};x.prototype.a6S=function(R,T){var c=R.P2;
c.push(T);R.Z+=T.rect.Z();if(c.length>1e3||R.Z>100*100*1600){console.log("pruning",R.Z,c.length);c.sort(function(d,U){return U.el-d.el});
while(c.length>500||R.Z>100*100*800){var g=c.pop();R.Z-=g.rect.Z()}}};return x}();function fC(x,R,T,c,g,d,U,e,N){this.DE=R;
this.YF=T;this.tn=d;this.v2=c;this.TI=null;this.KL=null;this.yf=0;this.aqX=0;this.aaR=0;this.P_=0;this.Zs=0;
this.hH=N==null?Math.floor(Math.random()*16777215):N;this.V3=N==null?Math.floor(Math.random()*16777215):N;
this.d8=new aP;this.qb=new aP;if(e!=null){this.z6=e}else{var l=fC.az3;if(l.length!=U.Z()*4)l=u.B(U.Z()*4);
else l.fill(0);this.z6=fC.az3=l}this.rect=U.clone();this.GF=[];this.I4=[];this.ni=null;this.gR=0;this.J=null;
this.ajY="";this.IQ=null;this.a2Z(x,g)}fC.az3=u.B(16);fC.prototype.a2Z=function(x,R){this.gR=R;this.J=x;
this.ajY=JSON.stringify(x)+JSON.stringify(this.v2.Ku);this.IQ=fC.a5q(this.J,this.DE,this.YF)};fC.prototype.moveTo=function(x,R,T){T=this.a5N(T);
this.yf=T;var c=new cI(x,R),g=this.J.Brsh.v.Dmtr.v.val;this.TI=c.clone();this.KL=c.clone();this.ni=c.clone();
this.GF=[x,R];this.I4=[T];if(this.v2.Ce!=fC.R7){var d=this.J.angleDynamics,U=d?d.v.bVTy.v==6:!1;this.pX(U?new aP:this.abh(c,this.aBg(T),T,new cI(0,0)))}this.P_=c.clone()};
fC.prototype.lineTo=function(x,R,T){T=this.a5N(T);var c=this.GF,g=c.length,d=c[g-2],U=c[g-1];if(x==d&&R==U)return;
var e=this.J.Brsh.v.Dmtr.v.val,N=Math.ceil(e)+1,l=new aP(Math.round(d),Math.round(U),0,0);l.t1(N,N);
var J=new aP(Math.round(x),Math.round(R),0,0);J.t1(N,N);this.GF.push(x,R);this.I4.push(T);g+=2;if(g>=6)this.pX(this.a2G(g))};
fC.prototype.a5N=function(x){if(x==null)x=1;x=Math.max(.05,Math.min(5,x));if(isNaN(x)){alert("Pressure is not a number");
throw"e"}return x};fC.prototype.pX=function(x){this.d8=x;this.qb=this.qb.y8(x)};fC.prototype.finish=function(){var x=this.GF,R=x.length,T;
if(R==4)T=this.Zw(x[R-2],x[R-1],this.I4[(R>>1)-1],!0);if(R>4)T=this.a2G(R+2);if(T)this.pX(T)};fC.prototype.zC=function(){return this.rect.clone()};
fC.prototype.ei=function(){return this.d8.yx(this.rect)};fC.prototype.F_=function(){return this.qb.yx(this.rect)};
fC.prototype.Gr=function(){return this.z6};fC.prototype.a2G=function(x){var R=this.GF,T=this.I4,c=R[x-6],g=R[x-5],d=R[x-4],U=R[x-3],e=T[(x>>1)-3],N=T[(x>>1)-2],l=new cI(0,0),J=new cI(0,0);
if(8<=x)l=fC.arz(R[x-8],R[x-7],c,g,d,U);if(x<=R.length)J=fC.arz(R[x-2],R[x-1],d,U,c,g);var w=c+l.x,s=g+l.y,o=d+J.x,V=U+J.y,a=new aP,O=this.a13()?1:10;
for(var z=0;z<O;z++){var S=(z+1)/O,L=1-S,Q=L*L*L*c+3*S*L*L*w+3*S*S*L*o+S*S*S*d,b=L*L*L*g+3*S*L*L*s+3*S*S*L*V+S*S*S*U,Z=this.Zw(Q,b,e+S*(N-e));
a=a.y8(Z)}return a};fC.arz=function(x,R,T,c,g,d){var U=x-T,e=R-c,N=g-T,l=d-c,J=Math.sqrt(U*U+e*e),w=Math.sqrt(N*N+l*l),s=Math.acos((U*N+e*l)/(J*w))/Math.PI,o=.35,V=.1;
s=V+s*(o-V);var a=g-x,O=d-R,S=Math.sqrt(a*a+O*O),L=s*w/S;return new cI(a*L,O*L)};fC.prototype.Zw=function(x,R,T,c){var g=new aP,d=this.v2.aeF;
if(d==null)d=0;if(d==0||c){g=this.a7H(x,R,T);return g}var U=this.ni,e=x-U.x,N=R-U.y,l=Math.sqrt(e*e+N*N);
e/=l;N/=l;if(l>d){var J=U.x+e*(l-d),w=U.y+N*(l-d);g=this.a7H(J,w,T);this.ni.LR(J,w)}return g};fC.prototype.a13=function(){var x=this.J,R=x.Brsh.v.Dmtr.v.val;
return this.v2.Ku&&R==1};fC.prototype.a7H=function(x,R,T){var c=new aP,g=new cI(x,R),d=this.v2.Ce,U=g.KV(this.KL);
U.normalize(1);var e=cI.rE(this.KL,g),N=-this.aqX,l=this.KL.clone();if(this.a13()){if(e>.99){var J=this.KL;
fC.aa5(J,g,this.z6,this.rect,this.jG(this.J));c=u.M.CC([J.x,J.y,g.x,g.y]);N=e}else g=this.KL}else while(!0){var w=this.yf+(T-this.yf)*(Math.max(0,N)/e),s=this.aBg(w),o=this.a5h()*(s+this.aaR)/2*this.IQ.ac$;
if(d==fC.R7)o=1;o=Math.max(o,.5);if(N+o<e){N+=o;this.Zs+=o;var V=new cI(this.KL.x+U.x*N,this.KL.y+U.y*N),S=1;
if(d==fC.R7){var a=l.clone();a.x+=U.x>0?1:-1;var O=l.clone();O.y+=U.y>0?1:-1;if(cI.rE(a,V)<cI.rE(O,V))V=a;
else V=O;N=cI.rE(V,this.KL)}if(this.J.useScatter.v==!0){S=this.J.Cnt.v;var L=this.J.countDynamics.v.jitter.v.val/100,Q=L*(-1+2*this.ji());
S+=Math.round(S*Q)}for(var z=0;z<S;z++){var b=this.abh(V,s,T,U);c=c.y8(b)}l=V}else break}this.aqX=e-N;
this.KL=g;this.yf=T;return c};fC.prototype.a5h=function(){var x=this.J.Brsh.v,R=x.Spcn.v.val,T=Math.max(5,x.Rndn.v.val);
return T/100*(R/100)};fC.prototype.aBg=function(x){var R=this.J,T=R.Brsh.v.Dmtr.v.val;if(R.useTipDynamics.v){var c=T*(R.minimumDiameter.v.val/100);
T=c+(T-c)*(1-this.ji(this.V3)*(R.szVr.v.jitter.v.val/100));T*=fC.Y4(R,"szVr",x,this.Zs)}return T};fC.Y4=function(x,R,T,c){var g=1,d=x[R].v,U=d.bVTy.v,e=d.fStp.v;
if(U==1)g*=Math.max(0,(e-c)/e);if(U==2)g*=T;return g};fC.prototype.abh=function(x,R,T,c){var g=this.v2._v,a=0;
g=Math.min(1,g);var d=this.J,U=this.J.Brsh.v,e=U.Dmtr.v.val,N=this.v2,l=N.Ce,J=N.aqL,w=this.IQ.NR[1],s=new gP;
s.translate(-w.m/2,-w.e/2);s.scale(1/this.IQ.aiD,1/this.IQ.aiD);s.scale(R/e,R/e);s.scale(1,Math.max(5,U.Rndn.v.val)/100);
if(d.usePaintDynamics&&d.usePaintDynamics.v){var o=d.opVr.v.jitter.v.val/100,V=d.prVr.v.jitter.v.val/100;
g*=1-this.ji()*o;g*=1-this.ji()*V;g*=fC.Y4(d,"opVr",T,this.Zs)*fC.Y4(d,"prVr",T,this.Zs)}if(d.useTipDynamics.v){var O=d.angleDynamics.v,S=d.minimumRoundness.v.val/100;
s.scale(1,S+(1-S)*Math.round(100-this.ji()*d.roundnessDynamics.v.jitter.v.val)/100);a+=(-.5+this.ji())*4*Math.PI*(O.jitter.v.val/100);
a+=fC.Y4(d,"angleDynamics",T,this.Zs)*2*Math.PI;if(O.bVTy.v==6)a+=Math.atan2(-c.y,c.x)}a+=U.Angl.v.val*(Math.PI/180);
s.rotate(a);if(d.useScatter.v){var L=(-1+2*this.ji())*d.scatterDynamics.v.jitter.v.val/100;s.translate(-L*R*c.y,L*R*c.x)}s.translate(x.x,x.y);
var Q=this.aa6(s,x,R),b=Q.rect.clone();if(l==null){var Z=this.jG(d);u.Qu(Q.JZ,Math.round(Z.J*255)<<16|Math.round(Z.A*255)<<8|Math.round(Z.o*255)<<0,4278190080);
if(this.qb.Y3()&&this.rect.X$(Q.rect)&&g==1)this.z6=Q.JZ.slice(0);else{var I=-1,y=2,r=-1,h=2;if(!N.fr){I=r=0;
y=h=1}for(var k=r;k<h;k++)for(var K=I;K<y;K++){var H=Q.rect.clone();H.x+=K*this.rect.m;H.y+=k*this.rect.e;
if(H.fg(this.rect)){b=b.y8(H);u.l.aaA(Q.JZ,H,this.z6,this.rect,H,g)}}}}if(l==fC.R7){var p=new cI(Q.rect.x+Q.rect.m/2,Q.rect.y+Q.rect.e/2),f=Math.round(p.x-this.P_.x),A=Math.round(p.y-this.P_.y),_=Q.rect.clone();
_.offset(-f,-A);var W=_.yx(this.rect);W.offset(f,A);u.yU(this.z6,this.rect,Q.JZ,_);u.l.afH(Q.JZ,Q.rect,this.z6,this.rect,Q.Bk,Q.rect,g)}if(l==fC.Es||l==fC.de||l==fC.SJ){var Y=Q.rect.yx(this.rect),G;
if(Y.X$(Q.rect))G=Q.Bk;else{G=u.B(Y.Z());u.gN(Q.Bk,Q.rect,G,Y)}var i=u.B(Y.Z()*4);u.yU(this.z6,this.rect,i,Y);
if(l==fC.de){var E=i.slice(0),$=u.zo.nc([-1,-1,-1,-1,25,-1,-1,-1,-1]);u.zo.nh(i,E,Y.m,Y.e,$,0);u.kS(E,i)}else if(l==fC.SJ){var C=gm.GI("UnsM");
C.Amnt.v.val=15;C.Thsh.v=0;C.Rds.v.val=5;var E=u.B(i.length);gm.Yt("UnsM",{buffer:i,rect:Y},C,0,0,{buffer:E,rect:Y});
u.kS(E,i)}else{gm.k0(1,u.kc.My,i,Y)}u.l.afH(i,Y,this.z6,this.rect,G,Y,g)}this.aaR=R;this.P_=p;this.V3++;
return b};fC.prototype.jG=function(x){var R=fC.akN(this.gR);if(x.useColorDynamics&&x.useColorDynamics.v){var T=1-this.ji()*x.clVr.v.jitter.v.val/100,c=fC.akN(this.tn);
R.o=T*R.o+(1-T)*c.o;R.A=T*R.A+(1-T)*c.A;R.J=T*R.J+(1-T)*c.J;var g=(-.5+this.ji())*x.H.v.val/100,d=(-1+2*this.ji())*x.Strt.v.val/100,U=(-1+2*this.ji())*x.Brgh.v.val/100,e=u.c3(R.o,R.A,R.J);
e.kh=(e.kh+g+1)%1;e.Kt=e.Kt+d;if(e.Kt<0)e.Kt=-e.Kt;if(e.Kt>1)e.Kt=1-(e.Kt-1);e.hu=e.hu+U;if(e.hu<0)e.hu=-e.hu;
if(e.hu>1)e.hu=1-(e.hu-1);R=u.oC(e.kh,e.Kt,e.hu)}return R};fC.prototype.vY=function(x){return Math.max(0,Math.min(1,x))};
fC.prototype.ji=function(x){if(x==null){x=this.hH++}return fC.hash(x)};fC.akN=function(x){return{o:(x>>16&255)/255,A:(x>>8&255)/255,J:(x>>0&255)/255}};
fC.hash=function(x){x=x^61^x>>16;x=x+(x<<3);x=x^x>>4;x=x*668265261;x=x^x>>15;return(x&16777215)/16777215};
fC.a1w=new hT;fC.prototype.aa6=function(x,R,T){var c=Math.sqrt(this.IQ.NR[1].Z()),g=c*x.Rt(),d=g<10?1:g<50?1.5:g<200?3:8;
if(g<30)d=0;var U=fC.a1w,e=U.awW(this.ajY),N=this.v2.Ku,l=hT.aBj(x,c),J=U.a6q(e,l);if(J&&hT.agI(J.Cu,l)>d)J=null;
if(J){J.rect.x=Math.round(J.ajH.x+x.a4);J.rect.y=Math.round(J.ajH.y+x.rY);J.el=Date.now()}else{var w=Math.round(this.J.Brsh.v.Dmtr.v.val),s;
if(N&&w<=3){s={channel:u.B(w*w),rect:new aP(Math.round(R.x-w/2),Math.round(R.y-w/2),w,w)};s.channel.fill(255)}else if(x.Y==1&&x.J==0&&x.zI==0&&x.jR==1){s={channel:this.IQ.NR[0],rect:this.IQ.NR[1].clone()};
s.rect.x=Math.round(x.a4);s.rect.y=Math.round(x.rY)}else{if(x.Rt()>1e-4)s=D.gW.uQ(this.IQ.NR,x)}if(N){for(var z=0;
z<s.channel.length;z++)s.channel[z]=s.channel[z]>127?255:0}if(s==null)s={channel:u.B(0),rect:new aP};
J={JZ:u.B(s.rect.Z()*4),Bk:s.channel,rect:s.rect,ajH:new cI(s.rect.x-x.a4,s.rect.y-x.rY),Cu:l,el:Date.now()};
u.rN(J.Bk,J.JZ,3);if(e)U.a6S(e,J)}return J};fC.a5q=function(x,R,T){var c,g,d,U=x.Brsh.v.Dmtr.v.val,e=x.Brsh.v.classID;
if(e=="computedBrush"){var N=x.Brsh.v.Hrdn.v.val/100;g=U<100?1.4:1;d=1;c=u.aju.alH(U,N,g)}if(e=="sampledBrush"){var l;
for(var z=0;z<R.length;z++)if(R[z].id==x.Brsh.v.sampledData.v)l=R[z];c=l.NR;var J=c[1];g=Math.max(J.m,J.e)/U;
d=Math.min(J.m,J.e)/Math.max(J.m,J.e)}return{aiD:g,ac$:d,NR:c}};fC.V=null;fC.xv=null;fC.N4=function(x,R,T,c,g,d){var U=fC.V,e=fC.xv;
if(U==null){fC.V=U=document.createElement("canvas");fC.xv=e=U.getContext("2d")}if(d==null)d=c;if(U.width!=d||U.height!=g){U.width=d;
U.height=g}else e.clearRect(0,0,d,g);e.fillStyle="#000000";e.font=Math.floor(10*D.mM())+"px sans-serif";
var N=x.Brsh.v.Dmtr.v.val,l=""+N,J=x.useBrushSize;if(J&&J.v)l="---";var w=e.measureText(l);e.fillText(l,(c-w.width)/2,g-2);
var s=c,V=g-10*D.mM(),a=Math.min(s,V),O=x.Brsh.v.classID;if(O=="computedBrush"){e.translate(s/2,V/2);
e.rotate(-x.Brsh.v.Angl.v.val*Math.PI/180);e.scale(1,.1+.9*x.Brsh.v.Rndn.v.val/100);var S=Math.min(.95*a/2,N/2)+.5,L=.9*x.Brsh.v.Hrdn.v.val/100,Q=e.createRadialGradient(0,0,0,0,0,S);
Q.addColorStop(L,"rgba(0,0,0,1)");Q.addColorStop((.5+L)/1.5,"rgba(0,0,0,.5)");Q.addColorStop(1,"rgba(0,0,0,0)");
e.fillStyle=Q;e.fillRect(-S,-S,2*S,2*S);e.setTransform(1,0,0,1,0,0)}else if(O=="sampledBrush"){var b,h=0;
for(var z=0;z<R.length;z++)if(R[z].id==x.Brsh.v.sampledData.v)b=R[z];var Z=b.NR;u.jE(Z);var I=Z[0],y=Z[1].m,r=Z[1].e;
while((y>s||r>V)&&Z[h+2]){h+=2;I=Z[h];y=Z[h+1].m;r=Z[h+1].e}if(y*r!=0){var k=u.B(y*r*4);u.rN(I,k,3);
var K=new ImageData(new Uint8ClampedArray(k.buffer),y,r);e.putImageData(K,Math.round((s-y)/2),Math.round((V-r)/2))}}else{}return U.toDataURL()};
fC.Mo=function(x,R,T,c){if(T==0)T=1;var g=x.Brsh.v,d=g.Dmtr.v.val,U=g.Dmtr.v.val=Math.min(c!=null?Math.round(c*2.6):3e3,d*T),e=g.Hrdn?g.Hrdn.v.val/100:1,N=c!=null?c:Math.round(U*(1+.55*(1-e)))+4,w;
N=Math.max(15,Math.min(N,3e3));var l=new aP(0,0,N,N),J=new fC(x,R,null,{_v:1},16711712,0,l);g.Dmtr.v.val=d;
J.moveTo(l.m/2,l.e/2);var s=J.Gr(),o=J.zC();if(l.X$(o))w=s;else{w=u.B(l.Z()*4);u.yU(s,o,w,l)}return[w,l,U]};
fC.am9=function(x,R,T,c){var g=R.m,d=g>>>1;for(var z=0;z<4;z++){var U=6-z;x[g*(d-U)+d-1]=c;x[g*(d-U)+d]=T;
x[g*(d-U)+d+1]=c;x[g*(d+U)+d-1]=c;x[g*(d+U)+d]=T;x[g*(d+U)+d+1]=c;x[g*(d-1)+d-U]=c;x[g*d+d-U]=T;x[g*(d+1)+d-U]=c;
x[g*(d-1)+d+U]=c;x[g*d+d+U]=T;x[g*(d+1)+d+U]=c}};fC.vO=function(x,R,T,c){var g=fC.Mo(x,R,T),d=g[0].slice(0),U=g[1],e=g[2],N=U.Z(),l=u.B(N);
u.TR(d,l,3);var J=u.B(N);u.u.a8r(l,J,U,D.mM()>1.9);if(e<3||u.gI(J,0)||c&&e>12){fC.am9(J,U,255,0)}var w=[3,5,3,4,8,4,3,5,3];
w=u.zo.nc(w);u.zo.qQ(J,l,U.m,U.e,w);u.Qu(d,4294967295);u.rN(l,d,3);for(var z=0;z<N;z++)if(J[z]==255){d[z<<2]=d[(z<<2)+1]=d[(z<<2)+2]=0;
d[(z<<2)+3]=255}return{fR:d,v4:U,FV:new cI(U.m/2,U.e/2)}};fC.aa5=function(x,R,T,c,g){var d=4278190080|Math.round(g.J*255)<<16|Math.round(g.A*255)<<8|Math.round(g.o*255)<<0;
T=new Uint32Array(T.buffer);var U=Math.floor(x.x),e=Math.floor(x.y),N=Math.floor(R.x),l=Math.floor(R.y),J=Math.abs(N-U),w=Math.abs(l-e),s=U<N?1:-1,o=e<l?1:-1,V=J-w;
while(!0){T[e*c.m+U]=d;if(U==N&&e==l)break;var a=2*V;if(a>-w){V-=w;U+=s}if(a<J){V+=J;e+=o}}};fC.R7="0";
fC.Es="1";fC.de="2";fC.SJ="3";var cQ={};cQ.H9=function(x,R,T){if(T==null)T=!0;var c=x.add.TySh,g=new aU(c.pM,R);
x.um.Q4=g.Py();var d=x.um.path=cQ.R8(g,c);if(b5!=0)return[d,g,null];var U=cQ.wa(d,c.i,bL.wK(c));if(T){x.rect=U.v4;
x.buffer=U.z6;x.W()}return[d,g,U]};cQ.wa=function(x,R,T){x={G:x.G,z:x.z.slice(0)};u.M.i(x.z,R,x.z);var c=u.M.CC(x.z),g=0;
for(var z=0;z<x.G.length;z++){var d=x.G[z];if(d[0]=="O"&&d[1]=="-")g=Math.max(g,parseFloat(d.split("-").pop()))}g=Math.ceil(g*R.Rt()/2);
c.t1(g,g);if(c.Y3())return{z6:u.B(0),v4:new aP};var U=u._e(c.m,c.e);U.translate(-c.x,-c.y);cQ.ahs(x,U);
var e=U.getImageData(0,0,c.m,c.e),N=new Uint8Array(e.data.buffer);if(T==0)for(var z=0;z<N.length;z+=4)N[z+3]=N[z+3]>80?255:0;
if(T==3)for(var z=0;z<N.length;z+=4)N[z+3]=Math.min(255,N[z+3]*1.5);U.resetTransform();U.beginPath();
return{z6:N,v4:c}};cQ.R8=function(x,R,T){var c=R.i,g=R.pM;cQ.us=c.Rt();var d=bL.wK(R),U=Math.max(c.J*c.J,c.zI*c.zI)<1e-9?c:null;
if(d==3||d==4)U=null;var e={G:[],z:[]};cQ.aje(x,e,U,!0);cQ.aje(x,e,U,!1);e=cQ.LO(e,R,x,T);return e};
cQ.us=1;cQ.LO=function(x,R,T,c){if(x==null)return x;if(T&&T.Ip)u.M.i(x.z,T.Ip,x.z);if(T&&!u.zb.rJ(R.aS)){var g=bL.zC(R,T);
if(!g.Y3()){if(x.G){x=u.M.uS(x);var d=Math.min(g.m,g.e)/8;if(d<1)d=1;x=u.M.RN(x,d)}var U=u.zb.xe(R.aS,g);
u.i1.i(U,x.z,g)}}var e=R.i;if(c)u.M.i(x.z,e,x.z);return x};cQ.ahs=function(x,R){R.save();R.miterLimit=2;
Typr.U.pathToContext({crds:x.z,cmds:x.G},R);R.restore()};cQ.A$=function(x,R,T){var c=aU.amT(T),g=x.pM,d=g.ResourceDict.FontSet,U=g.ResourceDict.StyleSheetSet[0].StyleSheetData,e=g.EngineDict.StyleRun.RunLengthArray,N=g.EngineDict.StyleRun.RunArray,l=bL.rl(g),J=!0,w={},s=0;
for(var z=0;z<N.length;z++){var o=N[z].StyleSheet.StyleSheetData.Font;if(o==null)o=U.Font;for(var V=0;
V<e[z];V++){var a=l.charCodeAt(s+V),O=o+","+(a>128?a:-1);if(w[O]==null){w[O]=1;if(R.WG(d[o].Name,a)==null)J=!1}}s+=e[z]}return J&&c};
cQ.fG=function(x,R,T){var c=!0;for(var g=0;g<x.R.length;g++){var d=x.R[g],U=d.add.TySh;if(U!=null&&!cQ.A$(U,R,T))c=!1}return c};
cQ.Fg=function(x,R,T){for(var c=0;c<x.R.length;c++){var g=x.R[c],d=g.add.TySh;if(d!=null&&cQ.A$(d,R,T)){cQ.H9(g,R);
x.W()}}};cQ.aje=function(x,R,T,c){var g=new gP;for(var z=0;z<x.qi.length;z++)cQ.a50(x.Ba,x.qi[z],R,g,T,c)};
cQ.a50=function(x,R,T,c,g,d){c.translate(R.Og.x,R.Og.y);for(var z=0;z<R._4.length;z++){var U={},e=R._4[z];
if(!e.va)break;var N=c.clone();N.translate(e.Og.x,e.Og.y);if(g){var l=g.rY+N.rY*g.jR;N.rY=(Math.round(l)-g.rY)/g.jR}for(var J=e.start;
J<e.end;J++)cQ.a3J(x,R.YJ[J],R,U,T,N,d)}c.translate(-R.Og.x,-R.Og.y)};cQ.ayy="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
cQ.a3J=function(x,R,T,c,g,d,U){d.translate(R.Og.x,R.Og.y);for(var e=R.hT;e<=R.WS;e++){var N=T.wq[e],l=N.v4.m,J=x[T.agq+N.nZ],w=J.l7._FillBackgroundFlag;
if(J.BB=="\n"||U&&!w)continue;var s=J.l7.FontSize/J.r$.head.unitsPerEm,o=d.clone();o.translate(N.Og.x+N.QC*s,N.Og.y-N.UH*s);
var V=new gP;V.scale(s,-s);if(J.rW==1&&cQ.ayy.indexOf(J.BB)!=-1)V.concat(new gP(-1,0,0,1,l,0));if(J.l7.FauxItalic)V.concat(new gP(1,0,-Math.tan(.18),1,0,0));
V.translate(0,J.sg);V.scale(J.scale.x,J.scale.y);if(J.l7.BaselineShift!=null)V.translate(0,-J.l7.BaselineShift);
if(N.Hh!=0){V.rotate(-N.Hh)}V.concat(o);var a=(J.l7._LineWidth?J.l7._LineWidth:1)*cQ.us;if(U){g.G.push(cQ.jG(J.l7._FillBackgroundColor));
var O=1.005*N.v4.e/s,S=new aP(-N.QC,-O*.27,1.03*N.v4.m/(s*J.scale.x),O);if(J.l7.StrokeFlag)S.t1(a/s,a/s);
u.M.concat(g,u.M.$x(S),V);g.G.push("X");continue}if(J.l7.FillFlag)g.G.push(cQ.jG(J.l7.FillColor));if(J.l7.StrokeFlag)g.G.push("O-"+cQ.jG(J.l7.StrokeColor)+"-"+a);
if(N.path.G.length!=0&&J.BB!="\t"){if(J.l7.FauxBold){var L=J.l7.FontSize/2048*27*J.scale.x;V.a4+=L;u.M.concat(g,N.path,V);
V.a4-=L+L;u.M.concat(g,N.path,V)}else u.M.concat(g,N.path,V)}if(J.BB!="\n"){if(J.l7.Underline){if(c.QL==null)c.QL=J.r$.post.underlineThickness;
if(c.awz==null)c.awz=J.r$.post.underlinePosition;var Q=0,b=c.awz-c.QL/2,Z=N.yq*1.05,I=-c.QL;u.M.concat(g,{G:["M","L","L","L","Z"],z:[Q,b,Q+Z,b,Q+Z,b+I,Q,b+I]},V)}if(J.l7.Strikethrough){var y=J.r$["OS/2"].yStrikeoutSize,r=J.r$["OS/2"].yStrikeoutPosition,Q=0,b=r+y/2,Z=N.yq*1.05,I=-y;
u.M.concat(g,{G:["M","L","L","L","Z"],z:[Q,b,Q+Z,b,Q+Z,b+I,Q,b+I]},V)}}if(J.l7.FillFlag)g.G.push("X");
if(J.l7.StrokeFlag)g.G.push("OX")}d.translate(-R.Og.x,-R.Og.y)};cQ.jG=function(x){var R=bL.ir(x),T=(Math.round(R.o)<<16)+(Math.round(R.A)<<8)+Math.round(R.J);
return"#"+u.TN(T)};function aU(x,R){var T=bL.hl(x),c,g,d=bL.jJ(x),U=x._LineOrientation==2?new gP:null,J,s;
if(x.Curve)g=aU.qc(x.Curve);if(T!=0){c=new aP(d[0],d[1],d[2],d[3]);if(U){var e=c.m;c.m=c.e;c.e=e;U.translate(0,-d[2])}if(T==2){c.m=g[5]-g[4];
c.e=9999}}this.qi=[];this.Ba=[];this.bh=T;this.Ip=U;var N=this.aaU=bL.rl(x),l=-1,w=-1;for(var z=0;z<N.length;
z++){var o=J,V=bL.aar(x,z);if(V!=l){l=V;o=J=bL.ahr(x,V)}var a=s,V=bL.amj(x,z);if(V!=w){w=V;a=s=bL.arx(x,V)}var O={BB:N.charAt(z),l7:o,r$:null,so:-1,K9:bL.a67(x,z),sg:0,scale:new cI(0,0),Em:0,lineHeight:0,rW:0},S=x.ResourceDict.FontSet[o.Font].Name,L=O.r$=R.WG(S,N.charCodeAt(z));
O.scale.x=o.HorizontalScale==null?1:o.HorizontalScale;O.scale.y=o.VerticalScale==null?1:o.VerticalScale;
var Q=L["OS/2"],b=L.hhea;if(o.FontCaps==1&&O.BB!=O.BB.toUpperCase()){var Z=Q.sxHeight?Q.sxHeight/Q.sTypoAscender:.76;
O.scale.x*=Z;O.scale.y*=Z}var I=1/L.head.unitsPerEm*o.FontSize;if(o.FontBaseline==1){var Z=x.ResourceDict.SuperscriptSize;
O.scale.x*=Z;O.scale.y*=Z;O.sg-=x.ResourceDict.SuperscriptPosition*o.FontSize}if(o.FontBaseline==2){var Z=x.ResourceDict.SubscriptSize;
O.scale.x*=Z;O.scale.y*=Z;O.sg+=x.ResourceDict.SubscriptPosition*o.FontSize}O.Em=aU.Em(L)*o.FontSize;
var y=a.AutoLeading;O.lineHeight=o.FontSize*(y==null?1.2:y);if(o.AutoLeading==!1)O.lineHeight=o.Leading;
if(O.lineHeight==0)O.lineHeight=.01;this.Ba.push(O)}var r=this.qi,h=[0];for(var z=0;z<x.EngineDict.ParagraphRun.RunLengthArray.length;
z++){var k=new aU.ld(x,R,this.Ba,z,c,h,T==1?g:null);r.push(k)}if(U){if(T==0)U.translate(0,r[0].YJ[0].Em/2);
U.rotate(-Math.PI/2)}if(T==2){var K=x.Curve.Points,H=g[0],p=g[1],f=g[2],A=g[3],_=g[4],W=g[5];for(var z=0;
z<r.length;z++)for(var Y=0;Y<r[z]._4.length;Y++)if(!(z==0&&Y==0))r[z]._4[Y].va=!1;var k=r[0],G=k._4[0];
k.Og.LR(0,0);G.Og.LR(0,0);for(var Y=G.start;Y<G.end;Y++){var i=k.YJ[Y],E=i.Og.x;i.Og.x=0;for(var $=i.hT;
$<=i.WS;$++){var C=k.wq[$],B=C.v4.m/2;C.Og.x+=E;var M=aU.afg(H,(_+C.Og.x+B)%A);C.Og.x=M[0]-B*M[2];C.Og.y=M[1]-B*M[3];
C.Hh=Math.atan2(M[3],M[2])}}}}aU.Em=function(x){var R=x._hhhh;if(R==null){var T=Typr.U,c=T.codeToGlyph(x,104),g=u.M.QK(Typr.U.glyphToPath(x,c).crds).e;
R=x._hhhh=g*(1/x.head.unitsPerEm)}return R};aU.prototype.au$=function(){return!this.awe(0)};aU.prototype.alX=function(){return this.awe(1)};
aU.prototype.awe=function(x){var R=this.qi,T=!0,c=0;for(var z=0;z<R.length;z++){var g=R[z]._4,d=g.length;
c+=d;for(var U=0;U<d;U++)T&=g[U].va}return[T,c][x]};aU.qc=function(x,R,T){if(R==null)R=.25;var c=x.Points,g=c.length,d=g>>>3,U=x.TextOnPathTRange,e=x.Reversed,s=0,o=0;
if(e){var N=c.slice(0);for(var z=0;z<g;z+=2){N[z]=c[g-2-z];N[z+1]=c[g-1-z]}c=N;U=[d-U[1]%d,d-U[0]%d]}var l=[],J=[0],w=[0];
for(var z=0;z<g;z+=8){var V=c[z+6]-c[z+0],a=c[z+7]-c[z+1],O=Math.round(Math.sqrt(V*V+a*a)/R),S=T&&z==g-8?O+1:O;
for(var L=0;L<S;L++){var Q=L/O,b=1-Q,Z=b*b*b*c[z+0]+3*b*b*Q*c[z+2]+3*b*Q*Q*c[z+4]+Q*Q*Q*c[z+6],I=b*b*b*c[z+1]+3*b*b*Q*c[z+3]+3*b*Q*Q*c[z+5]+Q*Q*Q*c[z+7];
l.push(Z,I);if(z+L!=0){var V=Z-s,a=I-o;w.push(w[w.length-1]+Math.sqrt(V*V+a*a));J.push((z>>>3)+Q)}s=Z;
o=I}}var R=w.length,y=w[R-1],r=aU.HB(U[0]%d,J),h=aU.HB(U[1]%d,J),k=w[r%R],K=w[h%R];if(k>=K)K+=y;return[l,J,w,y,k,K]};
aU.HB=function(x,R){var z=0;while(R[z]<x)z++;return z};aU.afg=function(x,R){var T=0,z=0,c,g,d;while(T<R){c=x[z+2]-x[z];
g=x[z+3]-x[z+1];d=Math.sqrt(c*c+g*g);T+=d;z+=2}return[x[z],x[z+1],c/d,g/d]};aU.prototype.axj=function(x){return this.Ba[x]};
aU.prototype.a7A=function(x){for(var R=0;R<this.qi.length;R++){var T=this.qi[R];for(var c=0;c<T._4.length;
c++){var g=T._4[c],d=T.YJ[g.start].start,U=T.YJ[g.end-1].end;if(d<x&&x<U)return[d,U-1]}}return[0,1]};
aU.prototype.ajb=function(x,R){var T=-1,c=this.qi;if(this.bh==2){var g=1e9,d=0,U=c[0],e=U._4[0];for(var N=e.start;
N<e.end;N++){var l=U.YJ[N];for(var J=l.hT;J<=l.WS;J++){var w=U.wq[J],s=w.v4.m,o=x.x-w.Og.x,V=x.y-w.Og.y,a=o*o+V*V;
if(a<g){g=a;d=w.nZ}}}if(d!=0&&this.aaU.codePointAt(d-1)>65535)d--;return d}for(var O=0;O<c.length;O++){var U=c[O];
for(var S=0;S<U._4.length;S++){T++;var e=U._4[S],L=U._4[S+1];if(L==null&&O<c.length-1)L=c[O+1]._4[0];
if(R!=null){if(T!=R)continue}else{if(L!=null&&U.Og.y+e.Og.y<x.y)continue}for(var N=e.start;N<e.end;N++){var l=U.YJ[N];
for(var J=l.hT;J<=l.WS;J++){var w=U.wq[J],s=w.v4.m,Q=U.Og.x+e.Og.x+l.Og.x,b=Q+w.Og.x,Z=Q+(J<l.WS?U.wq[J+1].Og.x:w.Og.x+s);
if(x.x<=Z||N+1==e.end&&J==l.WS){var I=U.agq+w.nZ,y=this.Ba[I],r=y.rW&1;if(y.BB!="\n"&&(r==0&&x.x>b+s/2||r==1&&x.x<b+s/2))I+=this.aaU.codePointAt(I)>65535?2:1;
return I}}}}}};aU.prototype.KP=function(x){var R={v4:new aP,fI:0},T=0;for(var c=0;c<this.qi.length;c++){var g=this.qi[c];
for(var d=0;d<g._4.length;d++){var U=g._4[d];R.fI=T;T++;for(var e=U.start;e<U.end;e++){var N=g.YJ[e];
for(var l=N.start;l<N.end;l++){if(l==x){var J=this.Ba[l],w=J.so,s=g.wq[w].nZ,o=1;while(g.wq[w]!=null&&g.wq[w].nZ==s){var V=g.wq[w],a=g.Og.x+U.Og.x+N.Og.x+V.Og.x,O=g.Og.y+U.Og.y+N.Og.y+V.Og.y;
R.v4=R.v4.y8(new aP(a,O-J.lineHeight,V.v4.m,J.lineHeight));R.Hh=V.Hh;w+=o}return R}}}}}};aU.prototype.Py=function(){var x=Infinity,R=Infinity,T=-Infinity,c=-Infinity;
for(var z=0;z<this.qi.length;z++){var g=this.qi[z];for(var d=0;d<g._4.length;d++){var U=g._4[d];if(!U.va)break;
for(var e=U.start;e<U.end;e++){var N=g.YJ[e];for(var l=N.hT;l<=N.WS;l++){var J=g.wq[l],w=J.v4,s=g.Og.x+U.Og.x+N.Og.x+J.Og.x,o=g.Og.y+U.Og.y+N.Og.y+J.Og.y;
x=Math.min(x,s+w.x);R=Math.min(R,o+w.y);T=Math.max(T,s+w.x+w.m);c=Math.max(c,o+w.y+w.e)}}}}return new aP(x,R,T-x,c-R)};
aU.rd=function(x){return 19968<=x&&x<=40959||12288<=x&&x<=12543};aU.D$=function(x,R,T,c,g,d,U){var e=[d],N=0;
for(var z=d;z<U;z++){if(T[z]==null)console.log(z,d,U,T);var l=T[z].BB,J=l.charCodeAt(0);if(J==32||J==9){e.push(N,z,1,z+1);
N=0}else if(J==3851){e.push(N+1,z+1);N=0}else if(aU.rd(J)){e.push(N,z);N=1}else if(z!=d&&T[z].rW!=T[z-1].rW){e.push(N,z);
N=1}else N++}e.push(N);var w=[];for(var z=0;z<e.length;z+=2){var s=e[z],o=e[z+1];if(o==0)continue;w.push(new aU.aiQ(x,R,T,c,g,s,o))}return w};
aU.agM=function(x,R,T,c,g,d,U){var e=[0,R?R.m:1e9],N=[];if(c){var l=x[d].Em,J=g+(g==0?l:x[d].lineHeight),w=J-l*.9,s=u.M.awN(c[0],w),o=s.length,V=u.M.awN(c[0],J),a=V.length;
if(o!=0&&a!=0){var O=0,S=0,L=[];while(O<o&&S<a){var Q=Math.max(s[O],V[S]),b=s[O+1],Z=V[S+1],I=Math.min(b,Z);
if(Q<I)L.push(Q,I);if(b<Z)O+=2;else S+=2}if(L.length!=0)e=L}}for(var y=0;y<e.length;y+=2){var r=0,h=d,k=R?e[y+1]-e[y]-T.StartIndent-T.EndIndent-(d==0?T.FirstLineIndent:0):Infinity;
while(d!=x.length){var K=x[d],H=r==0||(K.Sv||K.O2)||r+K.v4.m<k;if(!H)break;r+=K.v4.m;d++}N.push(d-h)}U[0]=N;
U[1]=e;U[2]=d};aU.ao8=function(x,R){var T=x.length,c=new Uint32Array(T),g=new Uint8Array(T),d=0;for(var z=0;
z<T;z++){g[z]=0;var U=x.charCodeAt(z);c[z]=U;if(U>d)d=U}if(d>1424)g=aU.a2x(c,R);return g};aU.awq=function(x){return x=="ß"?x:x.toUpperCase()};
aU.ld=function(x,R,T,c,g,d,U){this.YJ=[];this._4=[];this.Og=new cI(0,0);this.wq=null;this.YJ=null;this.l7=bL.arx(x,c);
var e=this.l7,w=0,V="",Q=0,b=1,C=0;if(c!=0){var N=e.SpaceBefore;if(N!=null)d[0]+=N}var l=x.EngineDict.ParagraphRun.RunLengthArray,J=l[c];
for(var z=0;z<c;z++)w+=l[z];var s=e._Direction?e._Direction:0;this.agq=w;var o=bL.rl(x).slice(w,w+J);
for(var a=0;a<o.length;a++){var O=o.charAt(a);V+=T[w+a].l7.FontCaps==0?O:aU.awq(O)}o=V;var S=aU.ao8(o,s),L=[],Z=S[z]&1,I=T[w].r$;
T[w].rW=S[0];for(var z=1;z<o.length;z++){var O=T[w+z],y=S[z];O.rW=y;if(y!=Z||O.r$!=I){L.push(Q,b);Q=z;
b=1;Z=y;I=O.r$}else b++}L.push(Q,b);var r=this.wq=[];for(var z=0;z<L.length;z+=2){var h=L[z],k=L[z+1],K=(T[w+h].rW&1)==0,H=o.slice(h,h+k),p=Typr.U.shapeHB(T[w+h].r$,H,K),f=[],W=0;
for(var a=0;a<p.length;a++){var A=p[a];f.push({A:A.g,nZ:A.cl,yq:A.ax,xa:A.ay,QC:A.dx,UH:A.dy})}p=f;var _=p.slice(0);
if(!K)_.reverse();for(var a=0;a<H.length;a++){while(W+1<_.length&&_[W+1].nZ<=a){W++}while(W>0&&_[W-1].nZ==a)W--;
T[w+h+a].so=r.length+(K?W:_.length-W-1)}for(var a=0;a<p.length;a++){r.push(p[a]);p[a].nZ+=h;var O=T[w+p[a].nZ];
if(O.K9!=-1&&O.K9<O.r$.maxp.numGlyphs){p[a].A=O.K9;var Y=O.r$.hmtx;if(Y){var G=Object.keys(Y)[0];p[a].yq=Y[G][O.K9]}}if(O.BB=="\n")p[a].yq=0;
if(O.BB=="\t")p[a].yq=O.r$.head.unitsPerEm*36/O.l7.FontSize}}var i=bL.hy(e),E=this.YJ=aU.D$(x,R,T,w,r,w,w+J),$=this._4,B=-1,V=[null,null,0];
while(C<E.length){aU.agM(E,g,e,U,d[0],C,V);B++;var M={start:C,end:0,v4:new aP,Og:new cI(0,0),va:!0},jF=0,fj=0;
$.push(M);M.end=V[2];if(M.start==M.end)throw"e";var j=M.end==E.length;function P(_,h,jD){var a1=jD-h>>>1;
for(var z=0;z<a1;z++){var gd=_[h+z];_[h+z]=_[jD-1-z];_[jD-1-z]=gd}}for(var t=1;t<5;t++){var q=-1;for(var z=M.start;
z<M.end;z++){var y=T[E[z].start].rW;if(q==-1&&y>=t)q=z;else if(q!=-1&&y<t){P(E,q,z);q=-1}}var m=M.end;
if(s==0&&E[m-1].Sv)m--;if(q!=-1)P(E,q,m)}var iE=V[0],hV=V[1],q=C,dD=C;for(var bh=0;bh<hV.length;bh+=2){var ho=g?hV[bh+1]-hV[bh]-e.StartIndent-e.EndIndent-(C==0?e.FirstLineIndent:0):Infinity,aH=0;
q=dD;dD+=iE[bh>>>1];var f2=this.ayM(q,dD,E,s,g!=null);if(g){if(i==1||j&&i==4)aH=f2[1]+(ho-f2[0]);if(i==2||j&&i==5)aH=f2[1]+(ho-f2[0])/2;
if(dD-q==1&&E[q].v4.m>ho)aH=0;if(B==0)aH+=e.FirstLineIndent;aH+=e.StartIndent}else{if(i==0)aH=e.StartIndent+e.FirstLineIndent;
if(i==1)aH=-f2[0]-e.EndIndent;if(i==2)aH=-f2[0]/2}aH+=hV[bh];if(g&&i>2&&(i==6||!j))this.agH(q,dD,E,ho,s,aH);
else{var e9=aH;for(var z=q;z<dD;z++){var kB=E[z],ct=kB.v4.m;kB.Og.x=e9;if(kB.vq=="\t")ct=Math.ceil((e9+4)/36)*36-e9;
e9+=ct}}}C=M.end;for(var z=M.start;z<M.end;z++){var ab=E[z].v4.clone();ab._P(E[z].Og);M.v4=M.v4.y8(ab);
jF=Math.max(jF,E[z].Em);fj=Math.max(fj,E[z].lineHeight)}M.Og.y=B==0?0:$[B-1].Og.y+fj;if(B==0){if(c==0&&g)d[0]+=jF;
if(c!=0)d[0]+=fj;this.Og.y=d[0]}else d[0]+=fj;if(g)M.va=this.Og.y+M.Og.y<g.y+g.e||c==0&&B==0}var iw=e.SpaceAfter;
if(iw!=null)d[0]+=iw};aU.ld.prototype.ayM=function(x,R,T,c,g){var d=0,U=0;for(var z=x;z<R;z++)d+=T[z].v4.m;
if(g){if(c==0)for(var z=R-1;z>=x;z--)if(T[z].Sv||T[z].O2)d-=T[z].v4.m;else break;if(c==1)for(var z=x;
z<R;z++)if(T[z].Sv||T[z].O2){var e=T[z].v4.m;d-=e;U-=e}else break}return[d,U]};aU.ld.prototype.agH=function(x,R,T,c,g,d){var U=0,e=0,N=0,l=0;
for(var z=x;z<R;z++)if(T[z].Sv)N++;else{U+=T[z].v4.m;e++}if(g==0)for(var z=R-1;z>=x;z--)if(T[z].Sv||T[z].O2){if(T[z].Sv){N--}}else break;
if(g==1)for(var z=x;z<R;z++)if(T[z].Sv||T[z].O2){if(T[z].Sv){N--;l++}}else break;if(e<=1||N==0){if(e==1)T[x].Og.x=d;
return}var J=(c-U)/N,w=-l*J;for(var z=x;z<R;z++){if(T[z].Sv)this.wq[T[z].hT].v4.m=T[z].v4.m=J;T[z].Og.x=d+w;
w+=T[z].v4.m}};aU.aiQ=function(x,R,T,c,g,d,U){this.vq="";for(var z=0;z<U;z++)this.vq+=T[d+z].BB;this.Sv=U==1&&(T[d].BB==" "||T[d].BB=="\t");
this.O2=U==1&&T[d].BB=="\n";this.start=d;this.end=d+U;this.v4=new aP;this.Og=new cI(0,0);this.Em=0;this.lineHeight=0;
var e=0,N=0;if(U==0){this.lineHeight=T[d].lineHeight;this.Em=T[d].Em;this.v4=new aP(0,-T[d].lineHeight,0,T[d].lineHeight)}var l=T[d].so,J=T[d+U-1].so;
if(J<l){var w=l;l=J;J=w}while(J+1<g.length&&g[J].nZ==g[J+1].nZ){J++}this.hT=l;this.WS=J;for(var s=l;
s<=J;s++){var o=g[s],V=T[c+o.nZ],a=x._LineOrientation==2&&(V.l7.BaselineDirection!=2||aU.rd(V.BB.charCodeAt(0))),O=Typr.U.glyphToPath(V.r$,o.A),Z=0;
o.path={G:O.cmds,z:O.crds};var S=V.l7.FontSize,L=1/V.r$.head.unitsPerEm*S;if(!V.l7.AutoKerning)e+=V.l7.Kerning*2*L*V.scale.x;
o.Og=new cI(e,0);o.Hh=0;if(a&&o.path.z.length>0){o.Hh=-Math.PI/2;o.Og.x+=S*.83;o.Og.y=-S*.3+o.yq*L/2;
o.yq=S/L}var Q=o.yq*L*V.scale.x;o.v4=new aP(0,-V.lineHeight,Q,V.lineHeight);var b=o.v4.clone();b._P(o.Og);
if(V.l7.Tracking!=null)Z=V.l7.Tracking*.001*S;if(V.l7.FauxBold==!0)Z+=.027*S;e+=Q+Z;if(U==1&&V.BB==" ")b.m+=2*Z;
else if(U==1&&V.BB!=null&&aU.rd(V.BB.charCodeAt(0)))b.m+=Z;this.v4=this.v4.y8(b);this.Em=Math.max(this.Em,V.Em);
this.lineHeight=Math.max(this.lineHeight,V.lineHeight)}};aU.s6=0;aU.amT=function(x){if(aU.s6==2)return!0;
if(aU.s6==1)return!1;aU.s6=1;function R(){fetch("code/ext/fribidi.wasm").then(function(T){return T.arrayBuffer()}).then(function(T){return WebAssembly.instantiate(T)}).then(function(T){var c=T.instance.exports,g=c.memory,d=16,U=256,e=1,N=d|U,l=d|U|e;
aU.a2x=function(w,o){var V=w.length,a=V*4+4+V*4+V*4+V;dp.Pd(c,a+V+1e7);var O=new Uint8Array(g.buffer),S=new Uint32Array(g.buffer),L=c.calloc(a,1),Q=L+V*4,b=Q+4,Z=b+V*4,I=Z+V*4;
S.set(w,L>>>2);S[Q>>>2]=o==0?N:l;c.fribidi_get_bidi_types(L,V,b);c.fribidi_get_bracket_types(L,V,b,Z);
c.fribidi_get_par_embedding_levels_ex(b,Z,V,Q,I);var y=O.slice(I,I+V);c.free(L);return y};aU.s6=2;var J=new aA(v.E.P,!0);
J.data={d:v.H.pV,Ly:"add",vr:hc.OH,cs:null};x.c(J)})}Typr.U.initHB("code/ext/hb.wasm",R);return!1};function bL(){}bL.k7=function(x){return JSON.parse(JSON.stringify(x))};
bL.Zc=function(x,R){for(var T in R)x[T]=R[T]};bL.Zk=function(x,R,T,c){var g=bL.asT();if(T)bL.T3(g,0,0,T);
var d=new gP;if(c!=null)d.rotate(c);d.translate(Math.round(x),Math.round(R));var U={i:d,pM:g};U.Gf=bL.a1S();
U.aS=u.zb.B();U.ij=new aP;return U};bL.a9X=function(x){var R=["CharacterDirection",0];for(var z=0;z<R.length;
z+=2){if(x[R[z]]!=null&&x[R[z]]!=R[z+1]){throw"e";console.log(R[z],x[R[z]])}}if(x instanceof Array)for(var z=0;
z<x.length;z++)bL.a9X(x[z]);else if(x instanceof Object)for(var T in x)bL.a9X(x[T])};bL.hy=function(x,R){if(R==null)R=x.Justification;
var T=x._Direction?x._Direction:0;if(T==1){if(R==0||R==3)R++;else if(R==1||R==4)R--}return R};bL.Tr=function(x){if(x.add==null)return;
var R=x.pM,T=R.Curve,c=x.add.vmsk,g=c.$,d=u.M.td(g,2).z,U=x.i.clone();U.F0();u.M.i(d,U,d);var e=d.slice(0,8);
for(var N=8;N<d.length;N+=6)e.push(d[N-2],d[N-1],d[N],d[N+1],d[N+2],d[N+3],d[N+4],d[N+5]);T.Points=e;
T.TextOnPathTRange=c.no.slice(0);T.Reversed=c.U6;if(bL.hl(R)==1){var T=aU.qc(R.Curve),l=u.M.QK(T[0]);
bL.RO(R,[0,0,l.m,l.e].map(Math.round));for(var z=0;z<e.length;z+=2){e[z]-=l.x;e[z+1]-=l.y}var J=new gP(1,0,0,1,l.x,l.y);
J.concat(x.i);x.i=J}};bL.jT=function(x){if(x.add==null)return;var R=x.add.vmsk,T=x.pM.Curve,c=T.Points,g={G:["M"],z:[c[0],c[1]]};
for(var z=0;z<c.length;z+=8){g.G.push("C");g.z.push(c[z+2],c[z+3],c[z+4],c[z+5],c[z+6],c[z+7])}u.M.i(g.z,x.i,g.z);
var d=u.M.gj(g,!0);R.$=d;R.U6=T.Reversed;R.no=T.TextOnPathTRange.slice(0);x.add.vogk=F.h5(d)};bL.ir=function(x){var R={o:0,A:0,J:0};
if(x){var T=x.Values;if(x.Type==1)R={o:T[1]*255,A:T[2]*255,J:T[3]*255};else if(x.Type==2){var c={classID:"CMYC",Cyn:{t:"doub",v:T[1]*100},Mgnt:{t:"doub",v:T[2]*100},Ylw:{t:"doub",v:T[3]*100},Blck:{t:"doub",v:T[4]*100}};
R=u.I.ir(c)}else console.log("Unknown color type")}return R};bL.a2N=function(x){for(var z=0;z<x.length;
z++){var R=x[z].StyleSheet.StyleSheetData,T=R.FillColor;if(T&&T.Type==2){var c=bL.ir(T);T.Type=1;T.Values=[1,c.o/255,c.A/255,c.J/255]}}};
bL.zC=function(x,R){var T;if(bL.hl(x.pM)==1){var c=bL.jJ(x.pM);T=new aP(0,0,c[2]-c[0],c[3]-c[1])}else{T=R.Py();
if(R.Ip){var g=R.Ip.clone(),d=u.M.$x(T);u.M.i(d.z,g,d.z);T=u.M.QK(d.z)}}return T};bL.Kq=function(x){var R=x[0];
for(var z=0;z<x.length;z++)R=bL.af1(R,x[z]);return R};bL.af1=function(x,R){var T={};for(var c in x)if(JSON.stringify(x[c])==JSON.stringify(R[c]))T[c]=x[c];
return T};bL.EF=function(x,R){var T=x.uY,c=-1;for(var z=0;z<T.length;z++)if(T[z].Name==R)c=z;if(c==-1){c=T.length;
T.push({FontType:1,Name:R,Script:0,Synthetic:0})}x.Ba.Font=c};bL.rl=function(x){return x.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
bL.qj=function(x,R){x.EngineDict.Editor.Text=R.replace(/\n/g,"\r")};bL.hl=function(x){return x.Curve&&x.Curve.TextOnPathTRange[0]>=0?2:x.EngineDict.Rendered.Shapes.Children[0].ShapeType};
bL.vo=function(x,R){var T=x.EngineDict.Rendered.Shapes.Children[0];T.ShapeType=R;var c=T.Cookie.Photoshop;
c.ShapeType=R;c.Base.ShapeType=R;if(R==0){delete c.BoxBounds;c.PointBase=[0,0]}if(R==1){delete c.PointBase;
c.BoxBounds=[0,0,1,1]}};bL.jJ=function(x){return x.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
bL.RO=function(x,R){x.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=R};bL.a67=function(x,R){var T=x.EngineDict.AlternateGlyphRun;
if(T==null)return-1;var c=bL.zP(T.RunLengthArray,R).ZL;if(T.RunArray[c]==null)return-1;var g=T.RunArray[c].Glyph;
return g==null?-1:g};bL.anf=function(x,R,T){var c=x.EngineDict.AlternateGlyphRun;if(c==null){c=x.EngineDict.AlternateGlyphRun=bL.amS();
c.RunArray.push({});c.RunLengthArray.push(bL.rl(x).length)}var g=bL.zP(c.RunLengthArray,R),d=g.ZL,U=R-g.Mx,e=c.RunArray[d],N=JSON.stringify(e),l=c.RunLengthArray[d];
if(U!=0){c.RunArray.splice(d,0,JSON.parse(N));c.RunLengthArray.splice(d,0,U);c.RunLengthArray[d+1]-=U;
d++;l-=U;U=0}if(l!=1){c.RunArray.splice(d+1,0,JSON.parse(N));c.RunLengthArray.splice(d+1,0,l-1);c.RunLengthArray[d]=1;
l=1}e.Glyph=T};bL.aar=function(x,R){var T=x.EngineDict.StyleRun.RunLengthArray;return bL.zP(T,R).ZL};
bL.ahr=function(x,R){var T=x.ResourceDict.StyleSheetSet[0].StyleSheetData,c={};for(var g in T)c[g]=T[g];
var d=x.EngineDict.StyleRun.RunArray[R].StyleSheet.StyleSheetData;bL.Zc(c,d);return c};bL.amj=function(x,R){var T=x.EngineDict.ParagraphRun.RunLengthArray;
return bL.zP(T,R).ZL};bL.arx=function(x,R){var T=x.ResourceDict.ParagraphSheetSet[0].Properties,c={};
for(var g in T)c[g]=T[g];var d=x.EngineDict.ParagraphRun.RunArray[R].ParagraphSheet.Properties;bL.Zc(c,d);
var U=["StartIndent","EndIndent","FirstLineIndent"];for(var z=0;z<3;z++)if(c[U[z]]==null)c[U[z]]=0;return c};
bL.nw=function(x,R,T){if(T=="")return;var c=bL.rl(x);bL.qj(x,c.substring(0,R)+T+c.substring(R,c.length));
var g=x.EngineDict.StyleRun,d=g.RunLengthArray,U=bL.zP(d,R-1);d[U.ZL]+=T.length;var e=x.EngineDict.AlternateGlyphRun;
if(e){var d=e.RunLengthArray,U=bL.zP(d,R-1);d[U.ZL]+=T.length}var N=x.EngineDict.ParagraphRun,d=N.RunLengthArray,l=bL.zP(d,R),J=T.split("\n");
if(J.length==1){d[l.ZL]+=T.length;return}d.splice(l.ZL+1,0,d[l.ZL]-(R-l.Mx));N.RunArray.splice(l.ZL+1,0,bL.k7(N.RunArray[l.ZL]));
d[l.ZL]-=d[l.ZL+1];d[l.ZL]+=J[0].length+1;for(var z=1;z<J.length-1;z++){N.RunArray.splice(l.ZL+z,0,bL.k7(N.RunArray[l.ZL+z-1]));
N.RunLengthArray.splice(l.ZL+z,0,J[z].length+1)}d[l.ZL+J.length-1]+=J[J.length-1].length};bL.On=function(x,R,T){var c=bL.rl(x);
bL.qj(x,c.substring(0,R)+c.substring(T,c.length));bL.Vf(x.EngineDict.ParagraphRun,R,T,!0);bL.Vf(x.EngineDict.StyleRun,R,T,!1);
var g=x.EngineDict.AlternateGlyphRun;if(g)bL.Vf(g,R,T,!1)};bL.Vf=function(x,R,T,c){var g=x.RunLengthArray,d=bL.zP(g,R),U=bL.zP(g,T),e=[];
for(var z=0;z<g.length;z++)for(var N=0;N<g[z];N++)e.push(z);e.splice(R,T-R);var l=[];for(var z=0;z<g.length;
z++)l.push(0);for(var z=0;z<e.length;z++)l[e[z]]++;for(var z=0;z<g.length;z++){if(l[z]==0){l.splice(z,1);
g.splice(z,1);x.RunArray.splice(z,1);z--}else if(l[z]<g[z])g[z]=l[z]}if(c&&d.ZL!=U.ZL&&d.Mx!=R){g[d.ZL]+=g[d.ZL+1];
g.splice(d.ZL+1,1);x.RunArray.splice(d.ZL+1,1)}};bL.T3=function(x,R,T,c){var g=x.EngineDict.Editor.Text.length;
if(T==g-2)T++;if(c.Ba.Font!=null)x.ResourceDict.FontSet=c.uY.slice(0);if(R<=T)bL.aBw(x.EngineDict.StyleRun,c.Ba,R,T,!0);
bL.aBw(x.EngineDict.ParagraphRun,c.qi,R,T,!1)};bL.ge=function(x,R,T){var c={uY:x.ResourceDict.FontSet.slice(0),Ba:[],qi:[]},g=x.EngineDict.StyleRun.RunLengthArray,d=bL.zP(g,R).ZL,U=bL.zP(g,T).ZL;
for(var z=d;z<=U;z++){var e=bL.k7(x.ResourceDict.StyleSheetSet[0].StyleSheetData),N=x.EngineDict.StyleRun.RunArray;
if(N.length==0)continue;var l=N[z].StyleSheet.StyleSheetData;bL.Zc(e,l);c.Ba.push(e)}var J=x.EngineDict.ParagraphRun.RunLengthArray,w=bL.zP(J,R).ZL,s=bL.zP(J,T).ZL;
for(var z=w;z<=s;z++){var o=x.EngineDict.ParagraphRun.RunArray;if(o.length==0)continue;c.qi.push(bL.k7(o[z].ParagraphSheet.Properties))}c.Ba=c.Ba.length==0?{}:bL.Kq(c.Ba);
c.qi=c.qi.length==0?{}:bL.Kq(c.qi);return c};bL.aBw=function(x,R,T,c,g){var d=x.RunLengthArray;if(g){var U=bL.zP(d,T);
if(U.Mx!=T){var e=d[U.ZL];d.splice(U.ZL,0,T-U.Mx);d[U.ZL+1]=e-d[U.ZL];x.RunArray.splice(U.ZL+1,0,bL.k7(x.RunArray[U.ZL]))}var N=bL.zP(d,c);
if(N.Mx+d[N.ZL]-1!=c){var e=d[N.ZL];d.splice(N.ZL,0,c-N.Mx+1);d[N.ZL+1]=e-d[N.ZL];x.RunArray.splice(N.ZL+1,0,bL.k7(x.RunArray[N.ZL]))}}var U=bL.zP(d,T),N=bL.zP(d,c);
if(g)for(var z=U.ZL;z<=N.ZL;z++)bL.Zc(x.RunArray[z].StyleSheet.StyleSheetData,R);else for(var z=U.ZL;
z<=N.ZL;z++)bL.Zc(x.RunArray[z].ParagraphSheet.Properties,R)};bL.a8N=function(x,R,T){var c=x.EngineDict.StyleRun.RunLengthArray,g=[],d=0;
for(var z=0;z<c.length;z++){var U=c[z];for(var e=0;e<U;e++)if(R<=d+e&&d+e<T)g.push(z);d+=U}var N=g[0],l=[];
for(var z=0;z<g.length;z++){var J=g[z]-N;if(J==l.length)l.push(0);l[J]++}return l};bL.a3f=function(x){var R=x.EngineDict.StyleRun,T=R.RunArray,c=R.RunLengthArray;
for(var z=0;z<c.length-1;z++){var g=T[z].StyleSheet.StyleSheetData,d=T[z+1].StyleSheet.StyleSheetData;
if(JSON.stringify(g)==JSON.stringify(d)){T.splice(z+1,1);c[z]+=c[z+1];c.splice(z+1,1);z--}}};bL.wK=function(x){var R=x.Gf.AntA.v.Annt;
R=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(R);if(R==-1)R=1;return R};bL.hv=function(x,R){x.Gf.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][R]};
bL.lu=function(x,R){var T,c;T=["FontSize","Leading","BaselineShift","_LineWidth"];c=x.Ba;for(var z=0;
z<T.length;z++)if(c[T[z]]!=null)c[T[z]]*=R;T=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
c=x.qi;for(var z=0;z<T.length;z++)if(c[T[z]]!=null)c[T[z]]*=R};bL.at1=function(){return bL.ge(bL.aqd,0,0)};
bL.a1S=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
bL.zP=function(x,R){var T=0,z=0;while(T+x[z]<=R){T+=x[z];z++}return{ZL:z,Mx:T}};bL.asT=function(){var x=bL.k7(this.aqd);
return x};bL.axH=function(x,R){var T=R.qi};bL.alE=function(x,R){var T=R.Ba,c;c=x.Undl;if(c&&c.v.Undl=="underlineOnLeftInVertical")T.Underline=!0;
c=x.syntheticItalic;if(c)T.FauxItalic=c.v};bL.amH={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
bL.ad2={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
bL.amS=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};bL.aqd={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(bL.amH))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(bL.amH))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(bL.ad2))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var j1={};j1.art=function(x){var R=j1.avY(x._0,x._1);j1.a9O(R,x._0);return R};j1.aAO=function(x,R,T){var c={};
c._98={_0:"i7"};c._0=j1.aAC(x,R,T?T._0:null);c._1=j1.atj(x,R,c._0,T?T._1:null);return c};j1.aAC=function(x,R,T){var c={};
c._1=j1.ag$(x,T?T._1:null);c._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};c._3=JSON.parse(JSON.stringify(j1.a23));
c._4=JSON.parse(JSON.stringify(j1.a16));c._5=j1.aef(x,c._1._0,T?T._5:null);c._6=j1.asP(x,T?T._6:null);
c._8=j1.atZ(x,R,T?T._8:null);c._9=j1.aoL;return c};j1.a9O=function(x,R){j1.af_(x,R._5,R._1._0)};j1.ag$=function(x,R){var T=[],c=[];
for(var z=0;z<x.length;z++){var g=x[z].ResourceDict.FontSet;for(var d=0;d<g.length;d++){var U=g[d];if(c.indexOf(U.Name)!=-1)continue;
T.push(U);c.push(U.Name)}}var e={_0:[]};for(var z=0;z<T.length;z++){var N=T[z],l={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+N.Name,_1:"i"+N.Script,_2:"i"+N.FontType}}};
if(N.Script==0)delete l._0._0._1;e._0.push(l)}return e};j1.aef=function(x,R,T){var c={_0:[],_1:[]},g={_0:JSON.parse(JSON.stringify(j1.ag6))};
j1.aBN(g._0,x[0].ResourceDict.StyleSheetSet[0],R,x[0].ResourceDict.FontSet);c._0.push(g);c._1.push({_0:"i0"});
c._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});c._1.push({_0:"i1"});return c};j1.af_=function(x,R,T){var c=R._0[0];
for(var z=0;z<x.length;z++)j1.ajk(c._0,x[z].ResourceDict.StyleSheetSet[0],T,x[z].ResourceDict.FontSet)};
j1.asP=function(x,R){var T={_0:[],_1:[]},c={_0:JSON.parse(JSON.stringify(j1.RD))};j1.cG(c._0,x[0].ResourceDict.ParagraphSheetSet[0]);
T._0.push(c);T._1.push({_0:"i0"});c={_0:JSON.parse(JSON.stringify(j1.RD))};j1.cG(c._0,x[0].ResourceDict.ParagraphSheetSet[0]);
c._0._0="sBasic Paragraph";c._0._6="i0";T._0.push(c);T._1.push({_0:"i1"});return T};j1.atZ=function(x,R,T){var c={_0:[]};
for(var z=0;z<x.length;z++){var g=x[z].Curve,d={};c._0.push({_0:d});var U=bL.hl(x[z]);d._1={};d._2={};
d._2._0="i"+U;if(x[z]._LineOrientation==2)d._2._1="i2";if(U==0){delete d._1;d._2._6=["f-1","f-1"];d._2._11={_4:"i-1",_7:!1}}else if(U==1&&g==null){var e=bL.jJ(x[z]),N=e[2],l=e[3];
d._1._0=j1.AY("f",[0,0,0,0,N,0,N,0,N,0,N,0,N,l,N,l,N,l,N,l,0,l,0,l,0,l,0,l,0,0,0,0]);d._2._6=["f-2","f-2"];
d._2._11={_4:"i-2",_7:!1}}else if(U==1){var e=bL.jJ(x[z]),N=e[2],l=e[3];d._1._0=j1.AY("f",g.Points);
d._2._6=["f-3","f-3"];d._2._11={_4:"i-3",_7:!1}}else if(U==2){d._1._0=j1.AY("f",g.Points);d._2._6=j1.AY("f",g.TextOnPathTRange);
d._2._11={_0:g.Reversed,_3:"i0",_5:"f0",_7:!1}}}return c};j1.atj=function(x,R,T,c){var g={};g._0=JSON.parse(JSON.stringify(j1.ai5));
g._1=j1.aq6(x,R,T,c?c._1:null);g._2=JSON.parse(JSON.stringify(j1.ag6._6));g._3=JSON.parse(JSON.stringify(j1.RD._5));
return g};j1.avY=function(x,R){return j1.ai3(x,R._1)};j1.aq6=function(x,R,T,c){var g=[],d=T._1._0;for(var z=0;
z<x.length;z++){var U=x[z],e={_0:{}};g.push(e);e._0._0="s"+U.EngineDict.Editor.Text;e._0._0=e._0._0;
var N=e._0._5={_0:[]},l=U.EngineDict.ParagraphRun;for(var J=0;J<l.RunArray.length;J++){var w={_0:{}};
N._0.push(w);w._0._0={_0:"s",_5:{},_6:"i1"};j1.cG(w._0._0,l.RunArray[J].ParagraphSheet);w._1="i"+l.RunLengthArray[J]}var s=e._0._6={_0:[]};
l=U.EngineDict.StyleRun;for(var J=0;J<l.RunArray.length;J++){var o={_0:{}};s._0.push(o);o._0._0={_0:"s",_5:"i1",_6:{}};
j1.aBN(o._0._0,l.RunArray[J].StyleSheet,d,U.ResourceDict.FontSet);o._1="i"+l.RunLengthArray[J]}l=U.EngineDict.AlternateGlyphRun;
if(l){var V=e._0._9={_0:[]};for(var J=0;J<l.RunArray.length;J++){var a={_0:{}};V._0.push(a);var O=l.RunArray[J];
if(O.Glyph!=null){a._0._0={_0:"i"+O.Glyph,_1:"e"}}a._1="i"+l.RunLengthArray[J]}}e._0._10={_0:"i4",_2:!0};
e._1=j1.view.aB2(U,null,z,null)}return g};j1.ai3=function(x,R){var T=[],c=x._1._0;if(R)for(var z=0;z<R.length;
z++){var g=bL.asT();T.push(g);var d=R[z];g.EngineDict.Editor.Text=d._0._0.slice(1);var U=g.EngineDict.ParagraphRun.RunArray[0],e=g.EngineDict.ParagraphRun,N=d._0._5;
if(N)for(var l=0;l<N._0.length;l++){var J=N._0[l];e.RunLengthArray[l]=parseInt(J._1.slice(1));e.RunArray[l]=JSON.parse(JSON.stringify(U));
j1.agG(J._0._0,e.RunArray[l].ParagraphSheet)}else{e.RunLengthArray[0]=bL.rl(g).length}var w=d._0._6;
e=g.EngineDict.StyleRun;if(w)for(var l=0;l<w._0.length;l++){var s=w._0[l];e.RunLengthArray[l]=parseInt(s._1.slice(1));
e.RunArray[l]={StyleSheet:{StyleSheetData:{}}};j1.ajk(s._0._0,e.RunArray[l].StyleSheet,c,g.ResourceDict.FontSet)}else{e.RunLengthArray[0]=bL.rl(g).length;
e.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return T};j1.aBN=function(x,R,T,c,g){x._0="s"+(R.Name?R.Name:"");
var d=x._6,U=g?g._6:null,e=R.StyleSheetData;if(e.Font!=null){var N=c[e.Font].Name,l=-1;for(var z=0;z<T.length;
z++)if("s"+N==T[z]._0._0._0){l=z;break}d._0="i"+l}if(e.FontSize!=null)d._1="f"+e.FontSize;if(e.FauxBold!=null)d._2=e.FauxBold;
if(e.FauxItalic!=null)d._3=e.FauxItalic;if(e.AutoLeading!=null)d._4=e.AutoLeading;if(e.Leading!=null)d._5="f"+e.Leading;
if(e.HorizontalScale!=null)d._6="f"+e.HorizontalScale;if(e.VerticalScale!=null)d._7="f"+e.VerticalScale;
if(e.Tracking!=null)d._8="i"+e.Tracking;if(e.BaselineShift!=null)d._9="f"+e.BaselineShift;if(e.AutoKerning!=null)d._11="i"+(e.AutoKerning?1:0);
if(e.FontCaps!=null)d._12="i"+e.FontCaps;if(e.FontBaseline!=null)d._13="i"+e.FontBaseline;if(e.Strikethrough!=null)d._15="i"+(e.Strikethrough?1:0);
if(e.Underline!=null)d._16="i"+(e.Underline?2:0);if(e.Ligatures!=null)d._18=e.Ligatures;if(e.DLigatures!=null)d._19=e.DLigatures;
if(e.BaselineDirection!=null)d._35="i"+e.BaselineDirection;if(e.Language!=null)d._38="i"+e.Language;
if(e.FillColor!=null)d._53=j1.jG(e.FillColor);if(e.StrokeColor!=null)d._54=j1.jG(e.StrokeColor);if(e.FillFlag!=null)d._56=e.FillFlag;
if(e.StrokeFlag!=null)d._57=e.StrokeFlag;if(e._LineWidth!=null)d._63="f"+e._LineWidth;if(e._FillBackgroundColor!=null)d._79=j1.jG(e._FillBackgroundColor);
if(e._FillBackgroundFlag!=null)d._80=e._FillBackgroundFlag};j1.jG=function(x){return{_99:"/SimplePaint",_0:{_0:"i1",_1:j1.AY("f",x.Values)}}};
j1.ajk=function(x,R,T,c){var g=x._6;if(g==null)return;var d=R.StyleSheetData;if(g._0){var U=parseInt(g._0.slice(1)),e=T[U]._0._0._0.slice(1);
bL.EF({Ba:d,uY:c},e)}if(g._1!=null)d.FontSize=parseFloat(g._1.slice(1));if(g._2!=null)d.FauxBold=g._2;
if(g._3!=null)d.FauxItalic=g._3;if(g._4!=null)d.AutoLeading=g._4;if(g._5!=null)d.Leading=parseFloat(g._5.slice(1));
if(g._6!=null)d.HorizontalScale=parseFloat(g._6.slice(1));if(g._7!=null)d.VerticalScale=parseFloat(g._7.slice(1));
if(g._8!=null)d.Tracking=parseFloat(g._8.slice(1));if(g._9!=null)d.BaselineShift=parseFloat(g._9.slice(1));
if(g._11!=null)d.AutoKerning=parseFloat(g._11.slice(1))==1;if(g._12!=null)d.FontCaps=parseFloat(g._12.slice(1));
if(g._13!=null)d.FontBaseline=parseFloat(g._13.slice(1));if(g._15!=null)d.Strikethrough=parseFloat(g._15.slice(1))==1;
if(g._16!=null)d.Underline=parseFloat(g._16.slice(1))==1;if(g._18!=null)d.Ligatures=g._18;if(g._19!=null)d.DLigatures=g._19;
if(g._35!=null)d.BaselineDirection=parseFloat(g._35.slice(1));if(g._38!=null)d.Language=parseFloat(g._38.slice(1));
if(g._53!=null)d.FillColor=j1.R$(g._53);if(g._54!=null)d.StrokeColor=j1.R$(g._54);if(g._56!=null)d.FillFlag=g._56;
if(g._57!=null)d.StrokeFlag=g._57;if(g._63!=null)d._LineWidth=parseFloat(g._63.slice(1));if(g._79!=null)d._FillBackgroundColor=j1.R$(g._79);
if(g._80!=null)d._FillBackgroundFlag=g._80};j1.R$=function(x){var R=x._0._0,T=x._0._1,c=[1,0,0,0],g=[];
for(var z=0;z<T.length;z++)g[z]=parseFloat(T[z].slice(1));if(R=="i0")c[1]=c[2]=c[3]=g[1];else if(R=="i1")c=g;
else if(R=="i2")c=[1].concat(UDOC.C.cmykToRgb(g.slice(1)));else console.log("unknown color type",R,g);
return{Type:1,Values:c}};j1.cG=function(x,R){x._0="s"+(R.Name?R.Name:"");var T=x._5,c=R.Properties;if(c.Justification!=null)T._0="i"+c.Justification;
if(c.FirstLineIndent!=null)T._1="f"+c.FirstLineIndent;if(c.StartIndent!=null)T._2="f"+c.StartIndent;
if(c.EndIndent!=null)T._3="f"+c.EndIndent;if(c.SpaceBefore!=null)T._4="f"+c.SpaceBefore;if(c.SpaceAfter!=null)T._5="f"+c.SpaceAfter;
if(c.AutoLeading!=null)T._7="f"+c.AutoLeading;if(c.AutoHyphenate!=null)T._9=c.AutoHyphenate;if(c._Direction!=null)T._33="i"+c._Direction;
if(c._ComposerEngine!=null)T._35="i"+c._ComposerEngine};j1.agG=function(x,R){var T=x._5;if(T==null)return;
var c=R.Properties;if(T._0)c.Justification=parseInt(T._0.slice(1))};j1.AY=function(x,R){var T=[];for(var z=0;
z<R.length;z++)T.push(x+R[z]);return T};j1.a23={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
j1.a16={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
j1.ag6={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
j1.RD={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
j1.aoL={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
j1.ai5={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var aK={};aK.al0=function(x){return aK.bO(x,aK.Jq,0)};aK.ar4=function(x){return aK._6(x,aK.Jq)};aK.bO=function(x,R,T){var c;
if(typeof x=="string")return x;if(x instanceof Array){c=[];for(var z=0;z<x.length;z++)c[z]=aK.bO(x[z],R,T+1)}else{c={};
var g={};for(var d in R){var U=R[d],e="_"+U[0];if(x[e]!=null){c[d]=U[1]?aK.bO(x[e],U[1],T+1):x[e];g[e]=!0}}for(var d in x){if(g[d]==null){if(d.length>3)continue;
console.log(R,g);console.log(d,x);throw"e"}}}return c};aK._6=function(x,R){var T;if(typeof x=="string")return x;
else if(x instanceof Array){T=[];for(var z=0;z<x.length;z++)T[z]=aK._6(x[z],R)}else{T={};var c={};for(var g in R){var d=R[g],U="_"+d[0];
if(x[g]!=null){T[U]=d[1]?aK._6(x[g],d[1]):x[g];c[g]=!0}}for(var g in x){if(c[g]==null){console.log(R,c);
console.log(g,x);throw"e"}}}return T};aK.jf={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
aK.Dm={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,aK.jf],_StrokeColor:[54,aK.jf],_Blend:[55,{_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,aK.jf],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
aK.az4={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,aK.Dm],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
aK.awf={_Name:[0],_Features:[5,aK.az4],_Parent:[6],_UUID:[97]};aK.akw={_Name:[0],_Parent:[5],_Features:[6,aK.Dm],_UUID:[97]};
aK.Jq={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,aK.akw]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,aK.awf]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,aK.awf]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,aK.akw]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,aK.Dm],_OriginalNormalParagraphFeatures:[3,aK.az4]}]};
j1.view={};j1.view.aB2=function(x,R,T,c){var g={},d=bL.hl(x);g._0=[{_0:"i"+T}];return g};function CSS(){}CSS.a7r=function(x,R){var T=x.add,c=T.vmsk,g=T.vstk,d=T.lmfx,U=T.TySh,e=[],N=CSS.a8K(d,T),l=x.opacity/255*(x.add.iOpa!=null?x.add.iOpa/255:1);
if(l!=1)e.push("opacity: "+l.toFixed(3));if(x.bT()&&c){var J=u.j.pP(c.$);if(!J.Y3()){e.push("width: "+Math.round(J.m)+"px");
e.push("height: "+Math.round(J.e)+"px")}var w=u.j.a7S(c.$);if(w>0)e.push("border-radius: "+Math.round(w)+"px")}else if(U){var s=U.pM;
if(bL.hl(s)==1){var J=bL.jJ(s);e.push("width: "+Math.round(J[2])+"px");e.push("height: "+Math.round(J[3])+"px")}CSS.am6(e,bL.ge(s,0,0),U.i,!1,!1,N[0])}CSS.aAB(R,d,e);
if(U==null)CSS.a5b(N,e);if(g==null||!g.strokeEnabled.v)g=e5.Mq(d);if(g&&g.strokeEnabled.v){var o=g.strokeStyleContent.v,V=o.classID,a=g.strokeStyleOpacity.v.val/100,O=g.strokeStyleLineWidth.v.val,S="";
if(V=="solidColorLayer")S=CSS.It(o.Clr.v,a);e.push("border: "+O+"px solid "+S)}return e};CSS.aAB=function(x,R,T){if(R==null||!R.masterFXSwitch.v)return;
var c=R.dropShadowMulti.v.concat(R.innerShadowMulti.v);for(var z=0;z<c.length;z++){var g=c[z].v;if(g.enab.v){var d=g.classID=="IrSh",U=g.Dstn.v.val,e=g.lagl.v.val*Math.PI/180;
if(g.uglg&&g.uglg.v)e=x.er()*Math.PI/180;var N=U*Math.cos(e),l=U*Math.sin(e),J=(N==0?"0 ":CSS.ahR(-N)+"px ")+(l==0?"0 ":CSS.ahR(l)+"px ")+g.blur.v.val/2+"px "+CSS.It(g.Clr.v,g.Opct.v.val/100);
if(d)T.push("box-shadow: inset "+J);else T.push("filter: drop-shadow("+J+")")}}};CSS.a8K=function(x,R){var T=e5.zg(x,R),c=T[0],g=T[1],d,U;
if(c){d=CSS.It(c.Clr.v,R.iOpa!=null?R.iOpa/255:1)}else if(g){U=CSS.a1K(g)}return[d,U]};CSS.a5b=function(x,R){if(x[0])R.push("background-color: "+x[0]);
if(x[1])R.push("background-image: "+x[1])};CSS.TE={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.ahR=function(cg){return""+parseFloat(cg.toFixed(3))};CSS.oT=function(x){if(x==null)return{o:0,A:0,J:0};
var R=x.indexOf("(");if(R!=-1){var T=x.slice(R+1,x.length-1).split(",");for(var z=0;z<T.length;z++){var c=T[z].trim();
T[z]=parseFloat(c)*(c.endsWith("%")?255/100:1)}return{o:T[0],A:T[1],J:T[2]}}if(x.charAt(0)!="#"){var g=CSS.TE;
if(g[x])x=g[x];else console.log("unknown color "+x)}x=x.slice(1);if(x.length==4)x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]+x[3]+x[3];
if(x.length==3)x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2];var d=-1;if(x.length==8){d=parseInt(x.slice(6),16);x=x.slice(0,6)}x=parseInt(x,16);
var U={o:x>>16&255,A:x>>8&255,J:x&255};if(d!=-1)U.Y=d;return U};CSS.It=function(x,R){return CSS.sm(u.I.ir(x),R)};
CSS.sm=function(x,R){if(R==null)R=1;var T=Math.round(x.o),c=Math.round(x.A),g=Math.round(x.J),d=T<<16|c<<8|g;
return R==1?"#"+u.TN(d):"rgba("+T+","+c+","+g+","+R+")"};CSS.a1K=function(x){var R=x.Grad.v;if(R.Clrs==null)return"";
var T=R.Clrs.v.slice(0),c=R.Trns.v.slice(0),g=x.Ofst.v,d=x.Type.v.GrdT=="Rdl"?1:0,U=(d==1?"radial":"linear")+"-gradient",e=d==0?Math.round(-x.Angl.v.val+90)+"deg":"circle at center",N=x.Rvrs.v,l=u.I.lN(R,N);
for(var z=0;z<l.length;z++){var J=l[z],w=J[1];e+=", "+CSS.sm({o:w[0]*255,A:w[1]*255,J:w[2]*255},J[2])+" "+Math.round(J[0]*100)+"%"}return U+"("+e+")"};
CSS.am6=function(x,R,T,c,g,d){var U=R.Ba,e=c?1:T.Rt(),N=Math.round(U.FontSize*e);x.push("font-size: "+N+"px");
var l=U.Tracking;if(!c&&l!=null&&l!=0)x.push("letter-spacing: "+Math.round(l*N/1e3)+"px");if(!U.AutoLeading)x.push("line-height: "+Math.round(U.Leading*e)+"px");
if(U.Strikethrough)x.push("text-decoration: line-through");if(U.Underline)x.push("text-decoration: underline");
if(U.FontCaps==2)x.push("text-transform: uppercase");var J=bL.ir(U.FillColor);J=[J.o,J.A,J.J].map(Math.round);
x.push((c?"fill: ":"color: ")+(d?d:"#"+u.TN(J[0]<<16|J[1]<<8|J[2])));var w=R.uY[U.Font].Name;if(w){var s=ed.V2.WG(w),o="",V=null,a=null;
if(s!=null&&w!=ed.Tm(s))s=null;if(g&&s)o+="\""+w+"\", ";var O=w.toLowerCase();if(s){V=ed.nr(s)[0];if(s["OS/2"])a=s["OS/2"].usWeightClass}else{V=CSS.a3L(w);
if(O.indexOf("light")!=-1)a=300;else if(O.indexOf("medium")!=-1)a=500;else if(O.indexOf("black")!=-1||O.indexOf("extrabold")!=-1)a=800;
else if(O.indexOf("bold")!=-1)a="bold"}if(V!=null)o+="\""+V+"\"";if(a!=null)x.push("font-weight: "+a);
if(O.indexOf("italic")!=-1||O.indexOf("oblique")!=-1)x.push("font-style: italic");if(o)x.push("font-family: "+o)}var S=R.qi.Justification;
if(S!=null&&S!=0)if(c){}else x.push("text-align: "+["left","right","center"][S%3])};CSS.a3L=function(x){x=x.split("-")[0];
while(x.endsWith("MT")||x.endsWith("PS"))x=x.slice(0,x.length-2);var R=!0;for(var z=0;z<x.length;z++){var T=x.charAt(z);
if(!R&&T.toLowerCase()!=T){x=x.slice(0,z)+" "+x.slice(z);z++;R=!0}else R=!1}return x};function cb(){}cb.rK={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
cb.bb=function(x,R){var T=Date.now(),c=x.split("\n"),g;if(c.length==1)c=x.split("\r");for(var z=0;z<c.length;
z++)if(c[z].trim()[0]=="#"){c[z]=""}x=c.join("\n");try{g=acorn.parse(x)}catch(i3){console.log(i3);return}var d=JSON.parse(JSON.stringify(cb.m3.Gp));
d.__return=!1;d.__continue=!1;d.__break=!1;d.__throw=!1;d.__fs={};d.__window={};cb.eval(g,R,d);var U=d.__fs;
if(Object.keys(U).length!=0){var e=UZIP.encode(U);hG.save(e,"output.zip")}};cb.eval=function(x,R,T){var c=x.type;
if(!1){}else if(c=="Program"||c=="BlockStatement"){var g=x.body;for(var z=0;z<g.length;z++){var d=g[z].type;
if(d=="FunctionDeclaration")T[g[z].id.name]=g[z]}for(var z=0;z<g.length;z++){var d=g[z].type,U=cb.eval(g[z],R,T);
if(T.__continue&&T.__pif==null){T.__continue=!1;return U}if(T.__return||T.__break||T.__throw)return U}}else if(c=="ReturnStatement"){T.__return=!0;
return x.argument?cb.Qb(x.argument,R,T):null}else if(c=="BreakStatement"){T.__break=!0}else if(c=="ContinueStatement"){T.__continue=!0}else if(c=="VariableDeclaration"){var e=x.declarations;
for(var z=0;z<e.length;z++)cb.eval(e[z],R,T)}else if(c=="VariableDeclarator"){T[x.id.name]=x.init?cb.Qb(x.init,R,T):null}else if(c=="FunctionDeclaration"){T[x.id.name]=x}else if(c=="MemberExpression"){var N=cb.Qb(x.object,R,T),l=x.computed?cb.Qb(x.property,R,T):cb.eval(x.property,R,T),U;
if(N.U!=null)U=cb.m3.n8(N,l,R,T);else if(N==window&&cb.rK[l]){}else U=N[l];return U}else if(c=="ArrayExpression"){var J=[],w=x.elements;
for(var z=0;z<w.length;z++)J.push(cb.Qb(w[z],R,T));return J}else if(c=="ObjectExpression"){var J={},w=x.properties;
for(var z=0;z<w.length;z++){var s=w[z],o=w[z].key.name?w[z].key.name:w[z].key.value;J[o]=cb.Qb(w[z].value,R,T)}return J}else if(c=="ExpressionStatement"){return cb.eval(x.expression,R,T)}else if(c=="NewExpression"){var V=x.arguments,a=x.callee,O=a.type,S=a.name,L=[],J=null;
for(var z=0;z<V.length;z++)L.push(cb.Qb(V[z],R,T));if(S=="Array")J=new window[S];else if(O=="Identifier")J=cb.m3.aBv(S,L,R,T);
else throw"e";if(J==null)throw"new "+S;return J}else if(c=="CallExpression"){var V=x.arguments,a=x.callee,O=a.type,Q={};
for(var b in T)Q[b]=T[b];var L=[];for(var z=0;z<V.length;z++)L.push(cb.Qb(V[z],R,T));if(O=="Identifier"){var Z=a.name,I=T[Z];
if(I&&I.U=="AppFunc"){Z=I.QP;I=null}if(I){if(I.params){var y=I.params;for(var z=0;z<y.length;z++)Q[y[z].name]=L[z];
return cb.eval(I.body,R,Q)}else{return I.apply(null,L)}}else if(cb.m3.aoa.indexOf(Z)!=-1)return cb.m3.iR({U:"Application"},Z,L,R,T);
else if(window[Z]==null)console.log("Unknown function "+Z);else if(cb.rK[Z])alert(Z+"() not available");
else{var r=window[Z].apply(window,L);return r}}else if(O=="MemberExpression"){var N=cb.Qb(a.object,R,T),l=a.computed?cb.Qb(a.property,R,T):cb.eval(a.property,R,T);
if(N==window&&cb.rK[l])return;if(N.U!=null)return cb.m3.iR(N,l,L,R,T);else if(l=="sort"&&N[0]&&N[0].U=="Layer"){return N.sort(function(j,P){return j.b.getName()>P.b.getName()?1:-1})}else if(l=="toSource")return JSON.stringify(N);
else return N[l].apply(N,L)}else if(O=="FunctionExpression"){return cb.eval(a.body,R,T)}else console.log(x)}else if(c=="AssignmentExpression"){var h=x.operator,k=x.left,K=k.type,H=cb.Qb(k,R,T),p=cb.Qb(x.right,R,T),U=null;
if(!1){}else if(h=="=")U=p;else if(h=="+=")U=H+p;else if(h=="-=")U=H-p;else if(h=="*=")U=H*p;else if(h=="/=")U=H/p;
else if(h=="%=")U=H%p;else if(h=="&=")U=H&p;else if(h=="|=")U=H|p;else if(h=="&&=")U=H&&p;else if(h=="||=")U=H||p;
else console.log(x);if(K=="Identifier"){var f=k.name;if(T.hasOwnProperty(f))T[f]=U;else T.__window[f]=U}else if(K=="MemberExpression"){var A=cb.eval(k.property,R,T),_=cb.Qb(k.object,R,T);
if(_.U!=null)cb.m3.apd(_,A,U,R,T);else _[A]=U}else console.log(x);return U}else if(c=="Identifier")return x.name;
else if(c=="Literal")return x.value;else if(c=="UpdateExpression"){var h=x.operator,W=x.argument.name,J=cb.Qb(x.argument,R,T),Y=T;
if(Y[W]==null)Y=T.__window;if(!1){}else if(h=="++"){Y[W]++;return x.prefix?Y[W]:Y[W]-1}else if(h=="--"){Y[W]--;
return x.prefix?Y[W]:Y[W]+1}else console.log(x)}else if(c=="UnaryExpression"){var h=x.operator,G=cb.Qb(x.argument,R,T);
if(G&&G.U=="UnitValue"){if(h=="-")return-G.b;else return cb.a6X(G.b,h)}else return cb.a6X(G,h)}else if(c=="BinaryExpression"||c=="LogicalExpression"){var h=x.operator,k=cb.Qb(x.left,R,T);
if(c=="LogicalExpression"&&h=="&&"&&!k)return k;var G=cb.Qb(x.right,R,T);if(k==null||G==null)return cb.DM(k,G,h);
else if(k.U=="UnitValue"&&G.U=="UnitValue")return cb.DM(k.b,G.b,h);else if(k.U=="UnitValue")return cb.DM(k.b,G,h);
else if(G.U=="UnitValue"){if(h=="-")return-(k-G.b);else return cb.DM(k,G.b,h)}else return cb.DM(k,G,h)}else if(c=="IfStatement"){var i=cb.Qb(x.test,R,T),E=T.__pif,U=null;
T.__pif=!0;if(i)U=cb.eval(x.consequent,R,T);else if(x.alternate)U=cb.eval(x.alternate,R,T);T.__pif=E;
return U}else if(c=="ConditionalExpression"){var i=cb.Qb(x.test,R,T);if(i)return cb.Qb(x.consequent,R,T);
else if(x.alternate)return cb.Qb(x.alternate,R,T)}else if(c=="ForInStatement"){cb.eval(x.left,R,T);var $=x.left.declarations[0].id.name,C=cb.Qb(x.right,R,T);
for(var b in C){T[$]=b;var B=cb.eval(x.body,R,T);if(T.__break)break;if(T.__return)return B}T.__break=!1}else if(c=="ForStatement"){cb.eval(x.init,R,T);
while(cb.eval(x.test,R,T)){var B=cb.eval(x.body,R,T);if(T.__break)break;if(T.__return)return B;cb.eval(x.update,R,T)}T.__break=!1}else if(c=="DoWhileStatement"){do{var B=cb.eval(x.body,R,T);
if(T.__break)break;if(T.__return)return B}while(cb.eval(x.test,R,T));T.__break=!1}else if(c=="TryStatement"){cb.eval(x.block,R,T);
if(T.__throw){var M=x.handler;T[M.param.name]=T.__throw;T.__throw=!1;cb.eval(M.body,R,T);delete T[M.param.name]}}else if(c=="EmptyStatement"){}else console.log(x)};
cb.DM=function(x,R,T){if(T=="+")return x+R;else if(T=="-")return x-R;else if(T=="*")return x*R;else if(T=="/")return x/R;
else if(T=="%")return x%R;else if(T=="^")return x^R;else if(T=="&")return x&R;else if(T=="&&")return x&&R;
else if(T=="|")return x|R;else if(T=="||")return x||R;else if(T=="<")return x<R;else if(T==">")return x>R;
else if(T=="=="){if(x!=null&&R!=null&&x.U&&R.U)return x.b==R.b;return x==R}else if(T=="===")return x===R;
else if(T=="<=")return x<=R;else if(T==">=")return x>=R;else if(T=="!=")return x!=R;else if(T=="!==")return x!==R;
else if(T=="<<")return x<<R;else if(T==">>")return x>>R;else console.log(T)};cb.a6X=function(x,R){if(R=="-")return-x;
else if(R=="!")return!x;else if(R=="~")return~x;else if(R=="+")return x;else if(R=="typeof")return typeof x;
else console.log(R,x)};cb.Qb=function(x,R,T){var c=x.type;if(c=="Identifier")return cb.aoC(x.name,R,T);
else return cb.eval(x,R,T)};cb.aoC=function(x,R,T){if(x=="undefined")return undefined;else if(T.hasOwnProperty(x))return T[x];
else if(x=="app")return{U:"Application"};else if(x=="Folder")return{U:"Folder"};else if(x=="File")return{U:"File"};
else if(x=="$")return{U:"$"};else if(cb.m3.aBx.indexOf(x)!=-1)return cb.m3.n8({U:"Application"},x,R,T);
else if(cb.m3.aoa.indexOf(x)!=-1)return{U:"AppFunc",QP:x};else if(T.__window.hasOwnProperty(x))return T.__window[x];
else if(window[x]&&!cb.rK[x])return window[x];else{T[x]=null;return null}};cb.m3={};cb.m3.aBv=function(x,R,T,c){var g;
if(x=="SolidColor")g={U:x,b:[1,0,0,0]};if(x=="RGBColor")g={U:x,b:[1,0,0,0]};if(x=="Window")g={U:x,b:new jd(R[0],R[1],R[2])};
if(x=="ExportOptionsSaveForWeb")g={U:x,b:{iw:"png",Ws:100}};if(x=="PhotoshopSaveOptions")g={U:x,b:{iw:"psd"}};
if(x=="PNGSaveOptions")g={U:x,b:{iw:"png",Ws:100}};if(x=="JPEGSaveOptions")g={U:x,b:{iw:"jpg",Ws:100}};
if(x=="PDFSaveOptions")g={U:x,b:{iw:"pdf",awY:""}};if(x=="File")g={U:x,b:R[0]};if(x=="ActionReference")g={U:x,b:[]};
if(x=="ActionDescriptor")g={U:x,b:{classID:"null"}};if(x=="ActionList")g={U:x,b:[]};if(x=="UnitValue")g={U:x,b:R.length==0?0:parseFloat(R[0])};
return g};cb.m3.aBx="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
cb.m3.aoa="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
cb.m3.n8=function(x,R,T,c){var g=T.oX,d=T.cC();if(!1){}else if(R=="typename"){if(x.U=="Layer")return x.b.NW()?"LayerSet":"ArtLayer";
else return x.U}else if(["Document","Layer"].indexOf(x.U)!=-1&&["layers","artLayers","layerSets"].indexOf(R)!=-1){var U=d;
if(x.U=="Document")U=x.b;else U=x.DL;var e=U.root,N={U:"Layers",aeS:R,b:[],DL:U};if(x.U=="Layer")e=U.root.ct(U.R.indexOf(x.b));
if(e.children==null)return null;for(var z=0;z<e.children.length;z++){var l=e.children[z].a,J=l.NW();
if(J&&R=="artLayers"||!J&&R=="layerSets")continue;N.b.push({U:"Layer",b:l,DL:U})}N.b.reverse();return N}else if(x.U=="Documents"||x.U=="Layers"||x.U=="HistoryStates"||x.U=="LayerComps"){if(!1){}else if(R=="length")return x.b.length;
else if(Number.isInteger(R))return x.b[R];else console.log(x.U+": unknown property ",R)}else if(x.U=="Application"){if(!1){}else if(R=="activeDocument")return{U:"Document",b:T.cC()};
else if(R=="documents"){var N={U:"Documents",b:[]};for(var z=0;z<T.JQ.length;z++)N.b.push({U:"Document",b:T.JQ[z]});
return N}else if(R=="fonts")return{U:"TextFonts"};else if(R=="preferences")return{U:"Preferences"};else if(R=="displayDialogs")return{U:"DialogModes"};
else if(R=="foregroundColor"||R=="backgroundColor"){var w=R[0]=="f"?g.gR:g.tn;return{U:"SolidColor",b:[1,(w>>>16&255)/255,(w>>>8&255)/255,(w>>>0&255)/255]}}else if(R=="UI")return{U:"UI"};
else if(R=="version")return 30;else console.log(x,R)}else if(x.U=="Document"){var d=x.b;if(!1){}else if(R=="activeLayer"){var l=d.R[d.g[0]];
return{U:"Layer",b:l,DL:d}}else if(R=="resolution")return d.De;else if(R=="width")return d.m;else if(R=="height")return d.e;
else if(R=="name")return d.name;else if(R=="saved")return!d.DK();else if(R=="selection")return{U:"Selection"};
else if(R=="activeHistoryState")return{U:"HistoryState",iY:d.md};else if(R=="source")return d.km;else if(R=="layerComps"){var s=d.bE.list.v,o=[];
for(var z=0;z<s.length;z++)o.push({U:"LayerComp",b:z});return{U:"LayerComps",b:o}}else if(R=="historyStates"){var V=[];
for(var z=0;z<d.history.length;z++)V.push({U:"HistoryState",iY:z});return{U:"HistoryStates",b:V}}else if(R=="mode")return 7;
else if(R=="colorSamplers"){var N={U:"ColorSamplers",aeS:R,b:d.nH.slice(0),DL:d};return N}else console.log(x,R)}else if(x.U=="LayerComp"){if(R=="name")return d.bE.list.v[x.b].v.Nm.v;
else throw R}else if(x.U=="ColorSamplers"){if(Number.isInteger(R))return{U:"ColorSampler",b:x.b[R]};
else if(R=="length")return d.nH.length}else if(x.U=="ColorSampler"){if(R=="color"){var w=D.Yf.Oa(d,d.Q.YP(x.b.x,x.b.y),1,2);
return{U:"SolidColor",b:[1,(w>>>16&255)/255,(w>>>8&255)/255,(w>>>0&255)/255]}}else if(R=="position")return[x.b.x,x.b.y]}else if(x.U=="Layer"){var a={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},l=x.b;
if(!1){}else if(R=="visible")return l.Pm();else if(R=="selected")return d.g.indexOf(d.R.indexOf(l))!=-1;
else if(R=="grouped")return l.UP;else if(a[R]!=null)return l.ad(a[R]);else if(R=="opacity")return l.opacity*100/255;
else if(R=="blendMode")return l.mh;else if(R=="name")return l.getName();else if(R=="textItem")return{U:"TextItem",b:l};
else if(R=="bounds"){var O=D.gW.zC(d,[d.R.indexOf(l)]);return cb.m3.afB(O,d)}else if(R=="parent"){var S=T.JQ,U;
for(var z=0;z<S.length;z++)if(S[z].R.indexOf(l)!=-1)U=S[z];var L=U.root.ct(U.R.indexOf(l)).parent;return L.depth==0?{U:"Document",b:U}:{U:"Layer",b:L.a,DL:U}}else if(R=="kind"){var Q=cb.m3.kX;
for(var z=0;z<Q.length;z++)if(l.add[Q[z]]!=null)return z;return 0}else if(R=="isBackgroundLayer")return l.add.lnsr="bgnd";
else console.log(x,R)}else if(x.U=="Selection"){if(!1){}else if(R=="bounds"){if(d.u==null)c.__throw={message:"no selection"};
else return cb.m3.afB(d.u.rect,d)}else console.log(x,R)}else if(x.U=="TextItem"){var b=x.b.add.TySh,Z=b.pM,I=bL.rl(Z),y=b.i.Rt(),r=bL.ge(Z,0,0);
if(R=="contents")return I.slice(0,I.length-1).replace(/\n/g,"\r");else if(R=="font")return r.Ba.Font!=null?r.uY[r.Ba.Font].Name:null;
else if(R=="size")return cb.m3.tX(r.Ba.FontSize*y,d);else if(R=="leading")return cb.m3.tX(r.Ba.Leading*y,d);
else if(R=="tracking")return cb.m3.tX(r.Ba.Tracking);else if(R=="baselineShift")return cb.m3.tX(r.Ba.BaselineShift);
else if(R=="fauxBold")return r.Ba.FauxBold;else if(R=="fauxItalic")return r.Ba.FauxItalic;else if(R=="kind")return 1-bL.hl(Z);
else if(R=="useAutoLeading")return r.qi.AutoLeading;else if(R=="hyphenation")return r.qi.AutoHyphenate;
else if(R=="justification")return cb.m3.tX(r.qi.Justification);else if(R=="color")return{U:"SolidColor",b:r.Ba.FillColor.Values.slice(0)};
else if(R=="width"||R=="height"){var h=bL.jJ(Z),k=(h[2]-h[0])*y,K=(h[3]-h[1])*y;return cb.m3.tX(R=="width"?k:K,d)}else if(R=="position"){var H=b.i;
return cb.m3.a1L([H.a4,H.rY],d)}else if(R=="horizontalScale"||R=="verticalScale"){var p=R[0].toUpperCase()+R.slice(1);
return Math.round(r.Ba[p]*100)}else if(R=="antiAliasMethod")bL.wK(b);else if(R=="totalTextStyle"){var N={};
for(var f=0;f<2;f++){var A=["Style","Paragraph"][f],_=Z.EngineDict[A+"Run"].RunLengthArray,W=[],Y=0;
for(var z=0;z<_.length;z++){var G=bL.ge(Z,Y,Math.min(Y+_[z],I.length-2));Y+=_[z];W.push(f==0?G.Ba:G.qi);
N.fontSet=G.uY}N[A]={runs:_,styles:W}}return JSON.stringify(N)}else if(R=="transform"){var H=b.i;return JSON.stringify([H.Y,H.J,H.zI,H.jR,H.a4,H.rY])}else console.log(x,R)}else if(x.U=="Preferences"){if(R=="rulerUnits")return g.j3.Zg;
else console.log(x,R)}else if(x.U=="SolidColor"){if(R=="rgb")return{U:"RGBColor",b:x.b};if(R=="cmyk")return{U:"CMYKColor",b:u.Sj(x.b.slice(1))};
else console.log(x,R)}else if(x.U=="RGBColor"){var O=Math.round(255*x.b[1]),i=Math.round(255*x.b[2]),E=Math.round(255*x.b[3]);
if(!1){}else if(R=="red")return O;else if(R=="green")return i;else if(R=="blue")return E;else if(R=="hexValue")return"#"+u.TN(O<<16|i<<8|E).toUpperCase();
else console.log(x,R)}else if(x.U=="CMYKColor"){var $=[];for(var z=0;z<4;z++)$.push(Math.round(x.b[z]*100));
var C=["cyan","magenta","yellow","black"].indexOf(R);if(C!=-1)return $[C];else console.log(x,R)}else if(x.U=="UnitValue"){if(R=="value")return x.b;
else throw"e"}else if(x.U=="ExportOptionsSaveForWeb"){if(R=="format")return x.b.iw;else if(R=="PNG8"||R=="interlaced")return!1;
else if(R=="quality")return x.b.Ws;else if(R=="transparency")return!0;else throw R}else if(x.U=="PNGSaveOptions"||x.U=="JPEGSaveOptions"||x.U=="PDFSaveOptions"){return 0}else if(x.U=="$"){if(R=="localize")return!1;
else if(R=="os")return"Windows";else throw R}else if(x.U=="ActionList"){if(R=="count")return x.b.v.length;
else throw R}else console.log(x,R)};cb.m3.afB=function(x,R){return cb.m3.a1L([x.x,x.y,x.x+x.m,x.y+x.e],R)};
cb.m3.a1L=function(x,R){var T=[];for(var z=0;z<x.length;z++)T.push(cb.m3.tX(x[z],R));return T};cb.m3.Ek=function(x){var R=[];
for(var z=0;z<x.length;z++)R.push(x[z].U?x[z].b:x[z]);return R};cb.m3.tX=function(x,R){return{U:"UnitValue",b:x}};
cb.m3.a3x=function(x,R){if(x.U=="UnitValue")return x.b;return x};cb.m3.apd=function(x,R,T,c,g){var d=new aA(v.E.v,!0),U=new aA(v.E.P,!0),e=c.cC(),N=c.oX;
if(!1){}else if(x.U=="Application"){if(!1){}else if(R=="activeDocument"){U.data={d:v.H.EO,V1:T.b};c.c(U)}else if(R=="displayDialogs"){}else if(R=="foregroundColor"||R=="backgroundColor"){var l=T.b,J=l[1]*255<<16|l[2]*255<<8|l[3]*255<<0;
U.data={d:v.H.pV,vr:hc.Js,J2:R=="foregroundColor"?0:1,b:J};c.c(U)}else console.log(x,R,T)}else if(x.U=="Document"){var w=x.b;
if(!1){}else if(R=="name"){d.f=D.d_;d.data={d:F.nk,b:T,aB0:!0,LH:w};e.Sg=!0}else if(R=="source")w.km=T;
else if(R=="activeLayer"){w.g=[w.R.indexOf(T.b)]}else if(R=="activeHistoryState"){d.f=D.hG;d.data={d:"h_itemchange",index:T.iY}}else console.log(x,R)}else if(x.U=="Layer"){d.f=D.d_;
var o={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},V=x.b,a=e.R.indexOf(V);
if(!1){}else if(R=="visible"){if(V.Pm()!=T)d.data={d:F.P1,a:a}}else if(R=="opacity"){d.data={d:F.sN,a:a,SN:Math.round(255*T/100)}}else if(R=="blendMode"){d.data={d:F.B0,a:a,SN:c_.h$.indexOf(T)}}else if(R=="name"){d.data={d:F.MF,a:a,name:T}}else if(o[R]!=null){d.data={d:F.FB,a:a,SN:[[T],[o[R]]]}}else if(R=="kind"){d.data={d:F.h6,a:a,RQ:cb.m3.kX[T]}}else if(R=="grouped"){d.data={d:F.q8,a:a,SN:T}}else console.log(x,R,T)}else if(x.U=="TextItem"){d.f=D.kY;
var V=x.b,O=V.add.TySh,S=JSON.parse(JSON.stringify(O.pM)),L=O.i.clone(),Q=O.i.Rt(),b=bL.rl(S),Z=bL.ge(S,0,b.length-2),I=!1;
if(!1){}else if(R=="contents"){bL.On(S,0,b.length-1);bL.nw(S,0,T.replace(/\r/g,"\n"))}else if(R=="size"){Z.Ba.FontSize=(T.b!=null?T.b:T)/Q;
I=!0}else if(R=="leading"){Z.Ba.Leading=(T.b!=null?T.b:T)/Q;I=!0}else if(R=="tracking"){Z.Ba.Tracking=T.b!=null?T.b:T;
I=!0}else if(R=="baselineShift"){Z.Ba.BaselineShift=T.b!=null?T.b:T;I=!0}else if(R=="fauxBold"){Z.Ba.FauxBold=T;
I=!0}else if(R=="fauxItalic"){Z.Ba.FauxItalic=T;I=!0}else if(R=="kind"){var y=bL.hl(S);if(y==1&&T==1){var r=new aU(S,c.oX.dA).qi[0],h=r._4[0].end,k=r.YJ[h-1].end;
bL.On(S,0,b.length-1);bL.nw(S,0,b.slice(0,k-1))}if(y==T)bL.vo(S,1-T)}else if(R=="useAutoLeading"){Z.qi.AutoLeading=T;
I=!0}else if(R=="hyphenation"){Z.qi.AutoHyphenate=T;I=!0}else if(R=="justification"){Z.qi.Justification=T;
I=!0}else if(R=="font"){bL.EF(Z,T);I=!0}else if(R=="color"){Z.Ba.FillColor.Values=T.b.slice(0);I=!0}else if(R=="width"||R=="height"){var K=bL.jJ(S).slice(0),H=cb.m3.a3x(T);
if(R=="width")K[2]=Math.round(K[0]+H/Q);else K[3]=Math.round(K[1]+H/Q);bL.RO(S,K)}else if(R=="position"){L.a4=T[0];
L.rY=T[1]}else if(R=="horizontalScale"||R=="verticalScale"){var p=R[0].toUpperCase()+R.slice(1);Z.Ba[p]=T/100;
I=!0}else if(R=="antiAliasMethod")bL.hv(O,T);else console.log(x,R,T);if(I)bL.T3(S,0,b.length-1,Z);d.data={d:"newED",Z_:e.R.indexOf(V),mN:S,i:L}}else if(x.U=="Preferences"){if(!1){}else if(R=="rulerUnits"){var f=JSON.parse(JSON.stringify(N.j3));
f.Zg=T;U.data={d:v.H.pV,vr:hc.WP,SN:f};c.c(U)}else console.log(x,R,T)}else if(x.U=="SolidColor"){if(R=="rgb")x.b=T.b;
else throw R}else if(x.U=="RGBColor"){if(!1){}else if(R=="red")x.b[1]=T/255;else if(R=="green")x.b[2]=T/255;
else if(R=="blue")x.b[3]=T/255;else if(R=="hexValue"){var A=u.xI(T.slice(1));x.b[1]=(A>>>16&255)/255;
x.b[2]=(A>>>8&255)/255;x.b[3]=(A>>>0&255)/255}else console.log(x,R)}else if(x.U=="ExportOptionsSaveForWeb"){if(R=="format")x.b.iw=T;
else if(R=="PNG8"||R=="transparency"||R=="interlaced"){}else if(R=="quality")x.b.Ws=T;else throw R}else if(x.U=="PNGSaveOptions"||x.U=="JPEGSaveOptions"){if(R=="quality")x.b.Ws=Math.round(100*T/12)}else if(x.U=="PDFSaveOptions"){if(R=="preset")x.b.awY=T}else if(x.U=="$"){if(R=="localize"){}}else console.log(x,R,T);
if(d.data!=null)c.c(d)};cb.m3.iR=function(x,R,T,c,g){var d=x.U,U=null,e=new aA(v.E.v,!0),N=new aA(v.E._M,!0),l=new aA(v.E.P,!0),J=c.cC(),w=c.JQ;
if(!1){}else if(d=="Application"){if(!1){}else if(R=="charIDToTypeID"){var o=T[0].trim(),V={slct:"select",Dlt:"delete",Mk:"make"};
return V[o]?V[o]:o}else if(R=="stringIDToTypeID"){var a=T[0].trim(),V={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr"},O=V[a];
return O==null?a:O}else if(R=="typeIDToStringID"){return T[0].trim()}else if(R=="executeAction"){console.log(T);
var S;if(T[1]){S=T[1].b;S.classID=T[0]}var L={setd:"set"},Q=L[T[0]];if(Q==null)Q=T[0];var b=hD.FP[T[0]];
if(b&&hD.wR[b])Q=hD.wR[b];N.data={Sm:Q,M1:S}}else if(R=="executeActionGet"){var Z=T[0].b,U={};console.log(Z);
if(Z.length==1){var I=U.classID=Z[0].v.classID;if(I=="Lyr"){var y=bf.Z9(J,Z[0]),r=J.R[y],h=r.add.SoLd;
U.smartObjectMore={t:"Objc",v:{transform:h.nonAffineTransform}}}return{U:"ActionDescriptor",b:{t:"null",v:U}}}if(Z.length==2){var I=U.classID=Z[1].v.classID,a=Z[0].v.keyID;
if(I=="Dcmn"){var k=J;if(a=="numberOfLayers")U[a]={t:"long",v:k.R.length};else throw a}else if(I=="Lyr"){var y=bf.Z9(J,Z[1]),r=J.R[y],K=r.add.TySh;
if(a=="textKey"){if(K){var H=K.pM.EngineDict.StyleRun.RunArray,p=K.pM.ResourceDict.FontSet,f=[];for(var z=0;
z<H.length;z++){var A=H[z].StyleSheet.StyleSheetData,_=p[A.Font].Name,W=c.oX.dA.WG(_);if(W&&W.name.postScriptName!=_)W=null;
f.push({t:"null",v:{textStyle:{t:"null",v:{fontAvailable:{t:"bool",v:W!=null},fontPostScriptName:{t:"TEXT",v:_}}}}})}U[a]={t:a,v:{textStyleRange:{t:"obj ",v:f}}}}}else throw a}else throw I;
return{U:"ActionDescriptor",b:{t:"null",v:U}}}}else if(R=="doAction"){l.data={d:v.H.LP,v2:[T[0],T[1]]}}else if(R=="bringToFront"){}else if(R=="open"){l.data={d:v.H.Iu,vr:{url:T[0]}};
if(T[2]&&w.length!=0)l.data.vr._i=w.indexOf(J)}else if(R=="echoToOE"){l.data={d:v.H.h1,vr:T[0]}}else if(R=="showWindow"){l.data={d:v.H.i$,$k:T[0]}}else if(R=="UnitValue"){return T[0]+" "+T[1]}else console.log(R)}else if(d=="LayerComp"){if(R=="apply"){e.f=D.X4;
e.data={d:"setLC",iY:J.bE.list.v[x.b].v.compID.v}}else throw R}else if(d=="Document"){var J=x.b;if(!1){}else if(R=="crop"){N.data=D._x.atY(T[0])}else if(R=="trim"){var Y=[];
for(var z=0;z<4;z++)Y.push(T[z+1]!=null?T[z+1]:!0);N.data=D._x.HY(T[0]!=null?T[0]:0,Y)}else if(R=="suspendHistory"){var G=acorn.parse(T[1]);
cb.eval(G,c,g)}else if(R=="save"){l.data={d:v.H._S}}else if(R=="saveToOE"){l.data={d:v.H._S,tY:T}}else if(R=="rotateCanvas"){N.data=D.gW.vE(!0,T[0])}else if(R=="resizeImage"||R=="resizeCanvas"){var i=T[0],E=T[1];
if(typeof i!="number"){i=J.m*parseFloat(i.slice(0,i.length-1))/100;E=J.e*parseFloat(E.slice(0,E.length-1))/100}if(R=="resizeCanvas")N.data=D._x.ayh(Math.round(i),Math.round(E),T[2]);
else N.data=D._x.a5z(Math.round(i),Math.round(E),null,1)}else if(R=="paste"){l.data={d:v.H.LK,tV:T.length!=0&&T[0],V5:!0}}else if(R=="close"){l.data={d:v.H.Ql,tE:J}}else if(R=="exportDocument"||R=="saveAs"){var $=g.__fs,C=R=="exportDocument"?T[2].b:T[1].b,B=T[0].b.replace(":","").replace("~/","");
if(!B.toLowerCase().endsWith("."+C.iw))B+="."+C.iw;var M=dp.KA(J,C.iw,null,null,C.iw=="pdf"?null:[C.Ws],c.oX);
$[B]=new Uint8Array(M)}else if(R=="flatten"){N.data={Sm:"flattenImage"}}else if(R=="clearHistory"){e.f=D.hG;
e.data={d:"h_clear",force:!0}}else console.log(x,R,T)}else if(d=="Layer"){var j=x.b,y=J.R.indexOf(j);
if(!1){}else if(R=="copy"){cb.m3.UJ(J,c,0);l.data={d:v.H.Vx,zS:T[0],p0:y,V5:!0};c.c(l);delete l.data;
cb.m3.UJ(J,c,1)}else if(R=="clear"){cb.m3.UJ(J,c,0);N.data={Sm:"delete"};c.c(N);delete N.data;cb.m3.UJ(J,c,1)}else if(R=="duplicate"){if(T.length==0){var P=J.g.slice(0);
e.data={d:F.S5,a:y};e.f=D.d_;c.c(e);e.data=null;U={U:"Layer",b:J.R[J.g[0]],DL:x.DL};J.g=P}else if(T[0].U=="Document"){e.data={d:F.Sx,R:J.c7(y),O$:J,tj:T[0].b};
e.f=D.d_}if(e.data){c.c(e);e.data=null;return{U:"Layer",b:J.R[J.g[0]],DL:J}}}else if(R=="merge"||R=="remove"){e.data={d:R=="merge"?F.$C:F.X2,a:y};
e.f=D.d_;if(R!="remove")U={U:"Layer",b:J.R[J.g[0]],DL:x.DL}}else if(R=="move"){e.data={d:F.tz,source:y,target:J.R.indexOf(T[0].b),zV:T[1]!=3?.6:.3};
e.f=D.d_}else if(R=="rasterize"){e.f=D.d_;e.data={d:F.Qm,a:y};c.c(e);e.data=null;x.b=J.R[y]}else if(R=="rotate"){e.data={d:"rot",hK:[2,5],b:-T[0]*Math.PI/180,tk:T[1],a:y};
e.f=D.lU}else if(R=="resize"){e.data={d:"scl",hK:[2,4],b:new cI(T[0]/100,T[1]/100),tk:T[2],a:y};e.f=D.lU}else if(R=="translate"){var t=cb.m3.Ek(T);
e.data={d:"trsl",a:y,iU:t[0],iG:t[1]};e.f=D.BA}else if(R=="link"){e.data={d:F.ol,auD:[y,J.R.indexOf(T[0].b)]};
e.f=D.d_}else if(R=="invert"){e.f=D.JG;e.data={d:"start",m$:"nvrt"}}else if(R=="desaturate"){N.data={Sm:"desaturate"}}else if(R.startsWith("apply")&&gm.th[R.slice(5)]||R.startsWith("adjust")&&gm.th[R.slice(6)]){var q=R.startsWith("apply"),t=cb.m3.Ek(T),m=gm.th[R.slice(q?5:6)];
if(m=="Dspl"){for(var z=0;z<J.R.length;z++)if(J.R[z].getName()==t[4]){t[4]=J.R[z].add.SoLd.Idnt.v;break}}N.data={Sm:q?gm.wR[m]:hD.wR[m]};
var S=gm.GI(m);if(S){J.g=[y];gm.n7["g"+m](S,t);N.data.M1=S}}else if(R=="applyStyle"){var iE=c.oX.YC,A=null;
for(var z=0;z<iE.length;z++)if(iE[z].DN.Nm.v.split("/").pop()==T[0])A=iE[z];if(A==null){alert("Style not found!");
return}e.f=D.Wi;e.data={d:"setstl",b:A.U1,a:y};c.c(e);e.data={d:"confirm",a:y}}else console.log(x,R,T)}else if(d=="Documents"){if(R=="getByName"){for(var z=0;
z<w.length;z++)if(w[z].name==T[0])return{U:"Document",b:w[z]};return null}else if(R=="add"){var hV=T[5];
if(hV==null)hV=1;N.data=c9.R2(T[0],T[1],T[2],T[3],["Wht","Trns","BckC"][hV],!1)}else throw"e"}else if(d=="Layers"){if(R=="getByName"){for(var z=0;
z<x.b.length;z++)if(x.b[z].b.getName()==T[0]){U=x.b[z];break}if(U==null)g.__throw={message:"No layer with a name "+T[0]}}else if(R=="add"){e.data={d:x.aeS=="layerSets"?F.oe:F.uU};
e.f=D.d_;c.c(e);e.data=null;U={U:"Layer",b:J.R[J.g[0]],DL:x.DL}}else console.log(x,R,T)}else if(x.U=="Selection"){if(R=="select"){var dD=T[0],bh=[];
for(var z=0;z<dD.length;z++)bh.push(dD[z][0],dD[z][1]);N.data=D.Fs.Xu(cb.m3.Ek(bh))}else if(R=="clear"){N.data={Sm:"delete"}}else if(R=="selectAll"){N.data=D.Fs.Vc(!0)}else if(R=="invert"){N.data={Sm:"inverse"}}else if(R=="copy"){l.data={d:v.H.Vx}}else if(R=="deselect"){N.data=D.Fs.Vc()}else if(R=="fill"){var ho=T[0].b;
ho=u.I.SE({o:ho[1]*255,A:ho[2]*255,J:ho[3]*255});N.data=D.AN.z9("Clr",T[1],T[2]==null?1:T[2]/100,ho)}else if(R=="grow"||R=="similar"){var S={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(T[0]!=null)S.Tlrn={t:"long",v:T[0]};N.data={Sm:R,M1:S}}else if(R=="expand"||R=="contract"||R=="feather"){N.data=D.Fs.yD(R,T[0],!0)}else if(R=="translate"){var S={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:T[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:T[1]}}}}};
N.data={Sm:"move",M1:S}}else if(R=="smooth"){N.data=D.Fs.yD("smoothness",T[0],!1)}else if(R=="stroke"){var A=JSON.parse(fJ.Ck[1]),aH=A.Clr.v,ho=T[0].b;
aH.Rd.v=ho[1]*255;aH.Grn.v=ho[2]*255;aH.Bl.v=ho[3]*255;A.Sz.v.val=T[1];A.Styl.v.FStl=fJ.stroke.types[T[2]];
console.log(A,T);e.f=D.Of;e.data={d:"stroke",ajj:A}}else console.log(x,R,T)}else if(x.U=="Window"){if(R=="show"){l.data={d:v.H.i$,$k:x.b}}else throw"e"}else if(x.U=="ActionReference"){if(R=="putProperty"){x.b.push({t:"prop",v:{classID:T[0],keyID:T[1]}})}else if(R=="putClass"){x.b.push({t:"Clss",v:{classID:T[0]}})}else if(R=="putEnumerated"){x.b.push({t:"Enmr",v:{classID:T[0],typeID:T[1],enum:T[2]}})}else if(R=="putName"){x.b.push({t:"name",v:{classID:T[0],val:T[1]}})}else if(R=="putIndex"){x.b.push({t:"indx",v:{classID:T[0],val:T[1]}})}else console.log(R,T)}else if(x.U=="ActionDescriptor"||x.U=="ActionList"){if(R=="putReference"){x.b[T[0]]={t:"obj ",v:T[1].b}}else if(R=="putDouble"){x.b[T[0]]={t:"doub",v:T[1]}}else if(R=="putUnitDouble"){x.b[T[0]]={t:"UntF",v:{type:T[1],val:T[2]}}}else if(R=="putObject"){if(x.U=="ActionList"){var f2=T[1].b;
f2.classID=T[0];x.b.push({t:"Objc",v:f2})}else{var f2=T[2].b;f2.classID=T[1];x.b[T[0]]={t:"Objc",v:f2}}}else if(R=="putList"){x.b[T[0]]={t:"VlLs",v:T[1].b}}else if(R=="putBoolean"){x.b[T[0]]={t:"bool",v:T[1]}}else if(R=="putInteger"){x.b[T[0]]={t:"long",v:T[1]}}else if(R=="putString"){x.b[T[0]]={t:"TEXT",v:T[1]}}else if(R=="putEnumerated"){var e9={};
e9[T[1]]=T[2];x.b[T[0]]={t:"enum",v:e9}}else if(R=="hasKey"){return x.b.v[T[0]]!=null}else if(R=="getEnumerationValue"){if(T[0]=="layerSection")U="layerSectionContent";
else console.log(T)}else if(R=="getBoolean"){U=x.b.v[T[0]].v}else if(R=="getString"){U=x.b.v[T[0]].v}else if(R=="getObjectValue"){var U=x.b.v[T[0]];
return{U:"ActionDescriptor",b:U}}else if(R=="getList"){var U=x.b.v[T[0]];return{U:"ActionList",b:U}}else if(R=="getInteger"||R=="getDouble"){return x.b.v[T[0]].v}else console.log(R,T)}else if(x.U=="$"){if(R=="writeln"){console.log(T[0])}else throw R}else if(x.U=="UI"){if(R=="scroll"||R=="scrollTo"){var kB=T[0],ct=T[1],jF=J.Q.O;
if(R=="scrollTo"){kB=(-J.m/2+kB)*jF+J.Q.w.x;ct=(-J.e/2+ct)*jF+J.Q.w.y}e.f=D.jw;e.data={d:"scroll",Ox:new cI(Math.round(kB),Math.round(ct))}}else{var fj;
if(R=="zoomIn"||R=="zoomOut"){fj={d:"zoom",S3:R=="zoomIn"}}else if(R=="fitTheArea"){fj={d:"adapt",b:"fitscr"}}else if(R=="pixelToPixel"){fj={d:"adapt",b:"pixel"}}e.f=D.p3;
e.data=fj;if(R=="switchFullscreen"){var ab=c.oX.Gb,iw=document.fullscreenElement!=null==(ab==2);l.data={d:v.H.gZ,b:ab==0?2:0,lk:iw}}}}else if(x.U=="ColorSamplers"){if(R=="removeAll")J.nH=[];
else if(R=="add"){var jD={x:T[0][0],y:T[0][1]};J.nH.push(jD);var U={U:"ColorSampler",b:jD}}}else if(x.U=="ColorSampler"){if(R=="move"){var a1=J.nH.indexOf(x.b);
jD=J.nH[a1];jD.x=T[0][0];jD.y=T[0][1]}else if(R=="remove"){var a1=J.nH.indexOf(x.b);J.nH.splice(a1,1)}}else if(x.U=="Folder"){if(R=="selectDialog")U="img";
else throw R}else if(x.U=="File"){if(R=="openDialog")alert("A website can not show the Open dialog from a script");
else throw R}else console.log(x,R,T);if(e.data)c.c(e);if(N.data)c.c(N);if(l.data)c.c(l);return U};cb.m3.UJ=function(x,R,T){var c=new aA(v.E.v,!0);
c.f=D.a$;var g=new aA(v.E._M,!0);if(T==0){cb.m3.axi=x.u;g.data=D.Fs.Vc(!0)}else{var d=cb.m3.axi;if(d)c.data={d:"setsel",hK:"Restore Selection",u:{rect:d.rect.clone(),channel:d.channel.slice(0)}};
else g.data=D.Fs.Vc()}R.c(c.data?c:g)};cb.m3.axi=null;cb.m3.Gp={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2}};
cb.m3.Gp.ColorBlendMode=cb.m3.Gp.BlendMode;cb.m3.kX="---- SoLd TySh SoCo GdFl PtFl".split(" ");function aZ(){}aZ.I8={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
aZ.FS={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
aZ.awM=function(x,R){if(R==null)R={};var T=aZ.FS,c=[],g=[],d="";for(var z=0;z<x.length;z++){var U=x[z],e=T[U[0]+""];
if(e&&R[e]==null)R[e]=U[1];else if(U[0]==12)g.push(U[1]);else if(U[0]==25)c.push(U[1]);else if(U[0]==55)d=U[1];
else if(U[0]==60)d+=";"+U[1]}if(d!=""&&R["exif:DateTimeOriginal"]==null)R["exif:DateTimeOriginal"]=d;
if(g.length!=0&&R["Iptc4xmpCore:SubjectCode"]==null)R["Iptc4xmpCore:SubjectCode"]=g.join(";");if(c.length!=0&&R["dc:Keywords"]==null)R["dc:Keywords"]=c.join(";");
return R};aZ.aCD=function(x){var R=aZ.FS,T=[];for(var c in R)if(x[R[c]])T.push([parseInt(c),x[R[c]]]);
if(x["Iptc4xmpCore:SubjectCode"]){var g=x["Iptc4xmpCore:SubjectCode"].split(";");for(var z=0;z<g.length;
z++)T.push([12,g[z].trim()])}if(x["dc:Keywords"]){var g=x["dc:Keywords"].split(";");for(var z=0;z<g.length;
z++)T.push([25,g[z].trim()])}T.sort(function(d,U){return d[0]-U[0]});return T};aZ.Ac=function(x,R){if(R==null)R={};
var T=new DOMParser,c=T.parseFromString(x,"image/svg+xml"),g=c.getElementsByTagName("rdf:Description")[0];
if(g==null)return R;var d=aZ.I8;for(var U in d){var e=d[U][2];if(e==null)continue;var N=g.getElementsByTagName(e)[0];
if(N==null)continue;var l=N.getElementsByTagName("rdf:li"),J=[];for(var z=0;z<l.length;z++)J.push(l[z].textContent);
R[U]=J.join("; ")}return R};aZ.ca=function(x){var R=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],T=aZ.I8;
for(var c in T){var g=x[c],d=T[c][2],U="Seq",e="";if(g==null||d==null)continue;if(d=="dc:title"||d=="dc:description"){U="Alt";
e=" xml:lang=\"x-default\""}if(d=="dc:subject")U="Bag";R.push("\t<"+d+"><rdf:"+U+">");var N=d=="dc:subject"?g.split(";").join(",").split(","):[g];
for(var z=0;z<N.length;z++)R.push("\t\t<rdf:li"+e+">"+N[z].trim()+"</rdf:li>");R.push("\t</rdf:"+U+"></"+d+">")}R.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return R.join("\n")};aZ.a3u=function(x){var R=[];for(var z=0;z<x.length;z++)R[z]=x[z][1]==0?0:x[z][0]/x[z][1];
return R};aZ.acP=function(x){var R=[];for(var z=0;z<x.length;z++){var T=x[z],c=1;if(T!=Math.round(T)){c=1e3;
T=Math.round(T*c)}R[z]=[T,c]}return R};aZ.rM=function(x,R){var T=aZ.I8;if(R==null)R={};for(var c in T){var g=T[c][1],d="t"+g;
if(g!=null&&x[d]!=null){var U=x[d];if(g==0)U=U.join(".");else if(g==2||g==4){var e=x["t"+(g-1)];if(e==null)e=[g==2?"N":"E"];
U=aZ.a3u(U).join(",")+e[0]}else if(g==42034)U=aZ.a3u(U).join(" ");else if(g==270||g==315){var N=U[0],l=new Uint8Array(N.length);
n.vW(l,0,N);U=n.KW(l)}else U=U[0];R[c]=U}}if(x.exifIFD)aZ.rM(x.exifIFD,R);if(x.gpsiIFD)aZ.rM(x.gpsiIFD,R);
return R};aZ.lM=function(x,R,T){var c=aZ.I8,d=0,e=0;if(R==null)R={};var g={},U={};for(var N in c){if(x[N]==null||c[N][1]==null)continue;
var l=c[N][1],J="t"+l,w=R;if(N.startsWith("exif:")){w=g;d++;if(N.startsWith("exif:GPS")){w=U;e++}}var s=x[N];
if(l==0)s=new Uint8Array(s.split(".").map(parseFloat));else if(l==2||l==4){var o=s.length;w["t"+(l-1)]=[s.slice(s.length-1)];
s=aZ.acP(s.split(",").map(parseFloat))}else if(l==42034)s=aZ.acP(s.split(" ").map(parseFloat));else if(l==270||l==315){var V=n.SF(s);
s=[n.zQ(V,0,V.length)]}else s=[s];w[J]=s}if(d!=0){R.exifIFD=g;R.t34665=[0]}if(e!=0){R.gpsiIFD=U;R.t34853=[0]}var a=new Date,O=[a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()];
for(var z=0;z<6;z++)O[z]=(O[z]+"").padStart(2,"0");R.t305=["Photopea Editor (www.photopea.com)"];if(T!=!0)R.t306=[O[0]+":"+O[1]+":"+O[2]+" "+O[3]+":"+O[4]+":"+O[5]];
return R};function b$(){}b$.eE=function(x){var R={a8i:",",ip:"\r\n",WT:"\""},T=[[""]],c,g,d,U,e;for(c=g=d=U=0;
d<x.length;d++){switch(e=x.charAt(d)){case R.WT:if(U&&x.charAt(d+1)==R.WT){T[c][g]+=R.WT;++d}else{U^=1}break;
case R.a8i:if(!U){T[c][++g]=""}else{T[c][g]+=e}break;case R.ip.charAt(0):if(!U&&(!R.ip.charAt(1)||R.ip.charAt(1)&&R.ip.charAt(1)==x.charAt(d+1))){T[++c]=[""];
T[c][g=0]="";if(R.ip.charAt(1)){++d}}else{T[c][g]+=e}break;default:T[c][g]+=e}}if(T[T.length-1].length<T[0].length)T.pop();
return T};var X={};X.a3N=0;X.Fz=function(){X.a3N++;return X.a3N};X.asR="uint8";X.fk=function(x){x.n.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
x.n.style.opacity="1";x.n.style.transform="scale(1)"};X.GX=function(x,R){x.n.style.opacity="0";x.n.style.transform="scale(0.95)";
if(R)setTimeout(function(){R.removeChild(x.n)},100)};X.a4Q=function(){var x=X.ar0();if(x=="")return 0;
if(x!=X.Dk("_TXZRPB;d7@;")){var R=X.zR[fl.es][fl.XE],T=R.indexOf(String.fromCharCode(35)),c;if(T==-1)return 0;
try{c=JSON.parse(X.zR[fl.a05](R.slice(T+1)))}catch(i3){return 0}var g=c[X.Dk("bQ[ODL<E<M")];if(g==null||g.length<<2!=64)return 0;
var d=fl.el(),U=parseInt(g.slice(3*4).split("").reverse().join(""),16)<<16;if(U<d||g!=fl.abJ(U,x))return 0;
return 2}return 1};X.ar0=function(){var x=X.zR[X.En("}$z{2*35")][X.Dk("W[\\ZQAJ?")],R=String.fromCharCode(46),T=x.split(R);
if(T.length<2)return"";var c=T.pop();c=T.pop()+R+c;return c};X.aiq=function(){if(X.zR[fl.aCC][fl.a8j]){var x=new X.zR[fl.AB];
x[fl.PD](fl.ag0,X.Dk("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+X.ar0());x[fl.HK]()}};X.Jm=function(){if(window.top!=window.self)return!1;
var x=navigator.userAgent.toLowerCase();if(x.indexOf("safari")!=-1&&x.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};X.dg=function(x){this.QB=x;this.X5=X._("img");this.BG=X._("canvas");
this.iJ=null;this.Uy="";this.rC=null;this.ls=new cI(0,0);this.b1=!0;X.ri(this.QB,this.Gy.bind(this))};
X.dg.prototype.Bq=function(x,R){this.iJ=x;if(R)this.Uy=R;this.Gy()};X.dg.prototype.Dd=function(x){this.b1=x;
this.Gy()};X.dg.prototype.Gy=function(x){if(x)this.ls=X.il(x,this.QB);var R=this.b1?this.iJ:"auto",T=typeof R=="string";
if(!T){var c=X.mM(),g=this.ls,d=R.v4.m,U=R.v4.e,e=typeof R.fR=="string",N=e?this.X5:this.BG;if(e)N.setAttribute("src",R.fR);
else{N.width=d;N.height=U;var l=N.getContext("2d"),J=new ImageData(new Uint8ClampedArray(R.fR.buffer),d,U);
l.putImageData(J,0,0)}N.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(g.y-R.FV.y/c)+"px; left:"+(g.x-R.FV.x/c)+"px; width:"+d/c+"px; height:"+U/c+"px");
var w=this.rC;if(w==null||w!=N){if(w)this.QB.removeChild(w);this.QB.appendChild(N);this.rC=N}}else if(this.rC){this.QB.removeChild(this.rC);
this.rC=null}this.QB.setAttribute("style","cursor:"+(T?R:"none")+"; "+this.Uy)};X.Xl=function(x){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
X.x5=function(x,R){x.W7(go.get([12,41]).charAt(0)+":");R.W7(go.get([12,42]).charAt(0)+":")};X._=function(x,R){var T=document.createElement(x);
if(R!=null)T.className=R;return T};X.Ra=function(x){while(x.firstChild)x.removeChild(x.firstChild)};
X.MQ=function(x,R){var c=x.className;c=c.split(" ");if(c.indexOf(R)==-1)c.push(R);x.className=c.join(" ")};
X.ia=function(x,R){var c=x.className;if(c=="")return;c=c.split(" ");if(c.indexOf(R)!=-1)c.splice(c.indexOf(R),1);
x.className=c.join(" ")};X._b=function(x){while(!0){if(x==document)return!0;if(x==null)return!1;x=x.parentNode}};
X.pz=function(x){x.appendChild(X._("br"))};X.nY=function(x){x.appendChild(X._("hr"))};X.vV=function(x,R,T){var c=new i_([1,12,1],T==null?!0:T,null,!0);
if(x)c.k("click",x.n4,x);if(R)R.appendChild(c.n);return c};X.zR=document;X.M$=function(x){var R=0;for(var z=0;
z<x;z++)R+=Math.random();return R/x<Math.PI/4};X.Dk=function(x){var R="";if(!X.M$(28))x+="-3";for(var z=0;
z<x.length;z++){var T=x.charCodeAt(z);if(T<32||126<T)throw"e";R+=String.fromCharCode(32+(T-32+17+3*z)%95)}return R};
X.En=function(x){var R="";if(!X.M$(28))x+="-1";for(var z=0;z<x.length;z++){var T=x.charCodeAt(z);T-=32;
T+=95e4;T-=17+3*z;T=T%95;R+=String.fromCharCode(32+T)}return R};X.Ci=function(x){var R=Math.random();
X.asR="uint"+(3+R);return new x};(function(){var x=window.PointerEvent,R=x?"pointer":"mouse",T=R+"down",c=R+"move",g=R+"up",d=!1;
X.Us=function(U,e){U.addEventListener(T,e,d);if(!x)U.addEventListener("touchstart",e,d)};X.ri=function(U,e){U.addEventListener(c,e,d);
if(!x)U.addEventListener("touchmove",e,d)};X.Xc=function(U,e){U.addEventListener(g,e,d);if(!x)U.addEventListener("touchend",e,d)};
X.agn=function(U,e){U.removeEventListener(T,e,d);if(!x)U.removeEventListener("touchstart",e,d)};X.Nx=function(U,e){U.removeEventListener(c,e,d);
if(!x)U.removeEventListener("touchmove",e,d)};X.YL=function(U,e){U.removeEventListener(g,e,d);if(!x)U.removeEventListener("touchend",e,d)}}());
X.Bd=function(x){x.addEventListener("touchstart",X.ME,!1);x.addEventListener("touchmove",X.ME,!1);x.addEventListener("touchend",X.ME,!1);
x.addEventListener("gesturestart",X.ME,!1);x.addEventListener("gesturechange",X.ME,!1);x.addEventListener("gestureend",X.ME,!1)};
X.axK=function(x){var R=x.sourceCapabilities;if(R)return R.firesTouchEvents;return!1};X.ja=function(x,R,T,c){var g=X.mM();
x.width=Math.floor(R*g);x.height=Math.floor(T*g);if(c)c.scale(g,g);X.$I(x)};X.$I=function(x){var R=X.mM();
x.style.width=x.width/R+"px";x.style.height=x.height/R+"px"};X.kk=function(x,R,c){x.setAttribute("style","width:"+R/X.mM()+"px; height:"+c/X.mM()+"px")};
X.il=function(x,R){if(R==null)R=x.currentTarget;var c=R.getBoundingClientRect();if(x.touches)x=x.touches.item(0);
return{x:x.clientX-c.left,y:x.clientY-c.top}};X.mM=function(){return window.devicePixelRatio||1};X.Sc=function(x){x.addEventListener("keydown",X.arG,!1)};
X.arG=function(x){x.stopPropagation()};X.ME=function(x){x.preventDefault()};X.Ri=function(x){x.stopPropagation();
x.preventDefault()};X.t6=function(x,R,T){T=T?T:"";if(PIMG["__"+x]==null)T+=" gsicon";return"<img src=\""+PIMG[x]+"\" alt=\""+(R?R:"")+"\" class=\""+T+"\" />"};
X.R4=function(x,R,T,c){var g=x.dataTransfer.getData("text/uri-list");if(g!=null&&g.startsWith("http")){var d=new aA(v.E.P,!0);
d.data={d:v.H.Iu,vr:{url:g,Ru:!0,_i:T,eo:c}};R.c(d)}if(x.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var U=[],e=x.dataTransfer.items.length,N=x.dataTransfer.files;
for(var J of x.dataTransfer.items)J.getAsFileSystemHandle().then(function(w){U.push(w);if(U.length==e){var d=new aA(v.E.P,!0);
d.data={d:v.H.XQ,data:N,_i:T,eo:c,a1Q:U};R.c(d)}})}else{var d=new aA(v.E.P,!0);d.data={d:v.H.XQ,data:x.dataTransfer.files,_i:T,eo:c};
R.c(d)}};if(X.M$(27))X.zR=window;else X.zR=X.aqf;X.zR._cwY=X.zR[X.En("t$&!'31")];var ah={};ah.afb=function(z){var x=ah.zF[z],R=document.documentElement.style,c=1;
R.setProperty("--base","#"+u.TN(x["--base"]));R.setProperty("--bg-panel","#"+u.TN(x["--bg-panel"]));
R.setProperty("--bg-canvas","#"+u.TN(x["--bg-canvas"]));R.setProperty("--bg-input","#"+u.TN(x["--bg-input"]));
R.setProperty("--bg-bbtn","#"+u.TN(x["--bg-bbtn"]));R.setProperty("--bg-bbtnOver","#"+u.TN(x["--bg-bbtnOver"]));
R.setProperty("--brdr","#"+u.TN(x["--brdr"]));R.setProperty("--text-color","#"+u.TN(x["--text-color"]));
R.setProperty("--brdrLgt","rgba(255,255,255,"+x["--brdrLgt"]+")");R.setProperty("--brdrDrk","rgba(  0,  0,  0,"+x["--brdrDrk"]+")");
R.setProperty("--alphaDark",""+x["--alphaDark"]);R.setProperty("--gs-invert",""+x["--gs-invert"]);R.setProperty("--accent","#"+u.TN(x["--accent"]));
var T=x["--sh-clr"];R.setProperty("--sh-clr","rgba("+(T>>16)+","+(T>>8&255)+","+(T&255)+", 0.45)");R.setProperty("--absc",""+x["--absc"]);
R.setProperty("--abs255",""+x["--abs255"]);if(1<X.mM()&&X.mM()<1.5)c=1/X.mM();R.setProperty("--img20",20*c+"px");
R.setProperty("--img18",18*c+"px");R.setProperty("--img15",15*c+"px");if(PIMG!=null){var g="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var z=0;z<g.length;z++){var d=g[z],U=d.split("/").pop(),e=PIMG["__"+d]==null?x["--gs-invert"]:"0";
R.setProperty("--icon_"+U,"url("+PIMG[d]+")");R.setProperty("--icon_"+U+"_invrt",e)}}var N=document.querySelector("meta[name=theme-color]");
if(N)N.setAttribute("content","#"+u.TN(x["--base"]))};(function(){var x=3441398,R=3441398;ah.zF=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":R},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":x},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":R}]}());
function iP(){this.Rz={};this.uO={}}iP.prototype.a5H=function(x){var R=this.Rz[x];if(R==null)return!1;
return R.length>0};iP.prototype.addEventListener=function(x,R){this.k(x,R,null)};iP.prototype.k=function(x,R,T){if(this.Rz[x]==null){this.Rz[x]=[];
this.uO[x]=[]}this.Rz[x].push(R);this.uO[x].push(T)};iP.prototype.removeEventListener=function(x,R){var T=this.Rz[x];
if(T==null)return;var c=T.indexOf(R);if(c<0)return;var g=this.uO[x];T.splice(c,1);g.splice(c,1)};iP.prototype.c=function(x){x.currentTarget=this;
if(x.target==null)x.target=this;var R=this.Rz[x.type];if(R==null)return;var T=this.uO[x.type];for(var z=0;
z<R.length;z++){if(T[z]==null)R[z](x);else R[z].call(T[z],x)}};var aA=function(x,R){if(!R)R=!1;this.type=x;
this.target=null;this.currentTarget=null;this.bubbles=R;this.f=null;this.ke=!1},v={E:{v:"0",P:"1",_M:"1.5",p:"2",dT:"3",a0E:"4"},H:{jt:"10",fu:"11",Qg:"12",za:"13",pm:"14",atV:"14.1",Iu:"15",au:"16",Lo:"17",Uj:"18",_S:"19",akZ:"19.5",apN:"20",ahn:"20.1",aeI:"20.5",anE:"20.6",Uf:"21",Vx:"22",LK:"23",Av:"24",i$:"25",_1:"26",EO:"27",cw:"28",anV:"28.5",a22:"29",XQ:"30",di:"31",GO:"32",SQ:"33",Pn:"34",pV:"35",aqi:"35.5",ub:"37",ayo:"38",b$:"39",v5:"40",DQ:"41",h1:"41.5",sJ:"42",Wt:"43",anu:"43.5",Ql:"44",acO:"45",ZJ:"46",m5:"47",tZ:"48",LP:"49",aCS:"50",gZ:"51"}};
function ky(){iP.call(this);this.parent=null;this.n=null;this.KQ=0;this.kh=0;this.a26=!1}ky.prototype=new iP;
ky.prototype.avu=function(x){var cg=this;while(cg!=null){if(cg==x)return!0;cg=cg.parent}return!1};ky.prototype.o4=function(){var x=this.n;
return x.offsetWidth+x.clientLeft};ky.prototype.a4v=function(){var x=this.n;return x.offsetHeight+x.clientTop};
ky.prototype.update=function(x){};ky.prototype.c=function(x){iP.prototype.c.call(this,x);if(x.bubbles&&this.parent!=null)this.parent.c(x)};
ky.prototype.t=function(){};ky.prototype.s7=function(x,R){};ky.prototype.tC=function(x){X.MQ(this.n,"disabled")};
ky.prototype.uL=function(x){X.ia(this.n,"disabled")};ky.prototype.Dd=function(x){if(x)this.uL();else this.tC()};
ky.prototype.Nl=function(){this.a26=!0};ky.prototype.jD=function(){var x=this.gO,R=this.a26,T=this.nz;
if(x){x=go.get(this.gO);if(!R)x+=":";T.textContent=x;if(R){T.style.display="block";T.style.lineHeight="1.6em";
T.style.marginLeft="3px";X.ia(T,"flabel")}}if(R){this.D8.style.fontSize="1.15em"}};function b2(x){ky.call(this);
this.Cr=[];this.oW=!1;this.aeb=0;this.Hj={x:0,y:0,Kk:!1};this.FZ=x;this.atW=this.LV.bind(this);this.B4=this.Dg.bind(this);
this.a5P=this.ho.bind(this);X.Us(x,this.atW);X.ri(x,this.B4);x.addEventListener("wheel",this.xi.bind(this),!1);
x.addEventListener("contextmenu",this.aug.bind(this),!1);var R=this.amb.bind(this);x.addEventListener("gesturestart",R,!1);
x.addEventListener("gesturechange",R,!1);x.addEventListener("gestureend",R,!1);X.Bd(x)}b2.prototype=new ky;
b2.prototype.amb=function(x){if(x.type=="gesturestart")this.us=x.scale;if(x.type=="gesturechange"){var R=new aA("mouse",!0);
R.action="scroll";R.Rg=!0;this.OE(x,R);var T=(this.us-x.scale)/this.us;R.Ox=new cI(0,100*T);this.us=x.scale;
this.c(R)}};b2.prototype.oq=function(x){var R=-1,T=this.Cr;for(var z=0;z<T.length;z++)if(T[z].pointerId==x.pointerId)R=z;
return R};b2.eW=function(x){var R=x.pointerType,T=window.__kb;return R=="touch"&&T.S(fZ.ac3)};b2.prototype.LV=function(x){if(b2.eW(x))return;
var R=this.oq(x);if(R!=-1)this.Cr[R]=x;else this.Cr.push(x);if(this.Cr.length==1){this.aeb=Date.now();
var T=x.button!=null&&x.button!=0?x.which==2?"idown":"rdown":"down",c=new aA("mouse",!0);c.action=T;
this.OE(x,c);this.c(c);X.Nx(this.FZ,this.B4);X.ri(window,this.B4);X.Xc(window,this.a5P)}if(this.Cr.length==2){if(Date.now()-this.aeb<100){var c=new aA("mouse",!0);
c.action="cancellast";this.OE(x,c);this.c(c)}this.oW=!0}if(this.Cr.length==2)this.a00("multidown")};
b2.prototype.Dg=function(x){if(b2.eW(x))return;var R=this.oq(x);if(R!=-1)this.Cr[R]=x;if(this.Cr.length>1){this.a00("multimove")}if(this.oW)return;
if(this.Cr.length==1&&R==-1)return;var T=new aA("mouse",!0);T.action="move";this.OE(x,T);this.c(T)};
b2.prototype.ho=function(x){if(b2.eW(x))return;var R=this.Cr;R=this.Cr=[];if(R.length==0){var T=x.button!=null&&x.button>0?x.which==2?"iup":"rup":"up",c=new aA("mouse",!0);
c.action=T;this.OE(x,c);this.c(c);X.Nx(window,this.B4);X.YL(window,this.a5P);X.ri(this.FZ,this.B4);this.oW=!1}};
b2.prototype.xi=function(x){x.preventDefault();if(x.deltaX==0&&x.deltaY==0)return;var R=new aA("mouse",!0);
R.action="scroll";R.Rg=x.ctrlKey;this.OE(x,R);this.c(R)};b2.prototype.aug=function(x){X.Ri(x);if(X.axK(x)){var R=new aA("mouse",!0);
this.OE(x,R);R.action="rdown";this.c(R);R.action="rup";this.c(R)}};b2.prototype.a00=function(x){var R=this.Cr,T=X.mM(),c=[];
for(var z=0;z<R.length;z++){var g=c[z]=X.il(R[z],this.FZ);g.x*=T;g.y*=T}var d=new aA("mouse",!0);d.action=x;
d.u8=c;if(R.length==2)this.c(d)};b2.prototype.OE=function(x,R,T){var c=this.Cr.length!=0;if(R.action!="up"){var g=X.mM();
if(T==null)T=X.il(x,this.FZ);this.Hj=R.WJ={x:g*T.x,y:g*T.y,Kk:c};var d=X.il(x,document.body);R.WJ.yq=d.x;
R.WJ.xa=d.y}else this.Hj=R.WJ={x:this.Hj.x,y:this.Hj.y,Kk:c};R.WJ.QD=.5;if(x.pressure!=null)R.WJ.QD=x.pressure;
if(x.pointerType=="mouse")R.WJ.QD*=2;R.WJ.abi=x.pointerType;if(x.deltaX!=null){var U=x.deltaMode==0?1:40;
R.Ox=new cI(x.deltaX*U,x.deltaY*U)}};function d$(x,R,T){ky.call(this);this.uu=null;this.adi=this.ho.bind(this);
this.a9f=this.qD.bind(this);this.a4f=this.avF.bind(this);this.a4x=this.a0r.bind(this);this.dM=[];this.l5=[];
this.fD=[];this.atR=[];this.a1z=T;this.n=X._("div","contextpanel "+(T?"cp_dark":"cp_light"));this.n.addEventListener("contextmenu",X.ME,!1);
this.hO=null;this.Zj=0;this.Z1=x;this.jl=R;this.yE=[];for(var z=0;z<x.length;z++){var c=X._("div","enab");
this.l5.push(c);this.n.appendChild(c);var g=x[z].Jf;if(g){if(g.startsWith("#")){var d=X._("span");d.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+g);
c.appendChild(d)}else c.innerHTML=X.t6(x[z].Jf,null,"thumb")}else{var U=X._("span","check");this.atR.push(U);
c.appendChild(U)}var e=X._("span","label");e.textContent=go.get(x[z].name);c.appendChild(e);this.fD.push(e);
if(x[z].NC)this.n.appendChild(X._("hr"));if(x[z].sZ||x[z].sub){var N=c.S$=X._("span","right");c.appendChild(N);
if(x[z].sZ)N.textContent=fZ.Z6(x[z].sZ);else if(x[z].sub)N.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}c.addEventListener(T?"mouseup":"click",this.adi,!1);
c.addEventListener("mouseover",this.a9f,!0);c.addEventListener("mouseout",this.a4f,!0);if(x[z].sub){var l=new d$(x[z].sub,R?R[z].sub:null);
l.parent=this;this.yE.push(l);l.k("select",this.aBV,this)}else this.yE.push(null)}}d$.prototype=new ky;
d$.prototype.a5U=function(x){X.Ra(this.n);for(var z=0;z<x.length;z++)if(x[z]!=0&&x[z]!=null){this.n.appendChild(this.l5[z]);
if(x[z]!=1&&this.yE[z])this.yE[z].a5U(x[z])}};d$.prototype.t=function(){var x=this.Z1;for(var z=0;z<x.length;
z++){if(x[z].title)this.l5[z].title=go.get(x[z].title);this.fD[z].textContent=go.get(x[z].name)+(x[z].J4?"...":"")}for(var z=0;
z<this.yE.length;z++)if(this.yE[z])this.yE[z].t()};d$.prototype.update=function(x,R){if(!this.a1z){this.n.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var T=this.Z1,c=window.innerWidth<450?"none":"inline";
for(var z=0;z<T.length;z++){var g=this.l5[z];if(g.S$&&!this.yE[z])g.S$.style.display=c;if(T[z].r){var d=T[z].r(x,R,z);
if(d.r!=null)this.l5[z].className=d.r?"enab":"disab";if(d.qV!=null)this.fD[z].textContent=d.qV;if(d.xw!=null)this.atR[z].innerHTML=d.xw?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(d.C!=null)this.jl[z]=d.C}}for(var z=0;z<this.yE.length;z++)if(this.yE[z])this.yE[z].update(x,R)};
d$.prototype.ty=function(){return this.dM};d$.prototype.ho=function(x){if(x.button!=0)return;var z=this.l5.indexOf(x.currentTarget);
if(this.yE[z]){this.Zj=z;this.a0r()}else{if(this.jl){var R=this.jl[z],T=new aA(R.K,!0);T.f=R.f;T.data=R.C;
this.c(T)}this.uu=null;this.dM=[z];this.c(new aA("select",!1));var T=new aA(v.E.P,!0);T.data={d:v.H.za};
this.c(T)}};d$.prototype.qD=function(x){var z=this.l5.indexOf(x.currentTarget);this.zs();this.Zj=z;this.hO=setTimeout(this.a4x,300)};
d$.prototype.avF=function(x){this.zs()};d$.prototype.zs=function(){if(this.hO){clearTimeout(this.hO);
this.hO=null}};d$.prototype.a0r=function(){this.zs();var z=this.Zj;if(this.uu)this.uu.aCn();if(this.yE[z]==null)return;
this.uu=this.yE[z];var x=this.l5[z].getBoundingClientRect(),R=new aA(v.E.P,!0);R.data={d:v.H.fu,YR:this.yE[z],x:x.left+x.width+2,y:x.top};
this.c(R)};d$.prototype.aCn=function(){for(var z=0;z<this.yE.length;z++)if(this.yE[z])this.yE[z].aCn();
var x=new aA(v.E.P,!0);x.data={d:v.H.Qg,YR:this};this.c(x)};d$.prototype.aBV=function(x){var z=this.yE.indexOf(x.target);
this.dM=[z].concat(x.target.ty());this.c(new aA("select",!1))};function kv(x,R,T){ky.call(this);this.n=X._("span","fitem cbox");
if(R==null)R=!0;if(T==null)T="flabel";var c="cb"+X.Fz();this.D8=X._("input","");this.D8.setAttribute("type","checkbox");
this.D8.setAttribute("id",c);this.n.appendChild(this.D8);this.gO=x;this.YS=X._("label",T);if(R)this.YS.setAttribute("for",c);
this.n.appendChild(this.YS);this.t();this.D8.addEventListener("change",this.dd.bind(this),!1)}kv.prototype=new ky;
kv.prototype.ajX=function(){return this.gO};kv.prototype.W7=function(x){this.YS.textContent=x};kv.prototype.t=function(){var x=this.gO;
if(typeof x=="string"&&x.startsWith("<"))this.YS.innerHTML=x;else this.YS.textContent=go.get(x)};kv.prototype.Kl=function(){this.D8.checked=!0};
kv.prototype.KF=function(){this.D8.checked=!1};kv.prototype.KT=function(){return this.D8.checked};kv.prototype.T=function(x){this.D8.checked=x};
kv.prototype.h=kv.prototype.KT;kv.prototype.dd=function(x){this.c(new aA(v.E.p,!1))};function kk(x,R){ky.call(this);
this.gO=x;this.n=X._("span","labelitem fitem"+(R?" spread":""));this.t()}kk.prototype=new ky;kk.prototype.T=function(x){this.n.textContent=x};
kk.prototype.h=function(){return this.n.textContent};kk.prototype.uL=function(){this.n.removeAttribute("disabled")};
kk.prototype.tC=function(){this.n.setAttribute("disabled","")};kk.prototype.W7=function(x){this.n.textContent=x};
kk.prototype.t=function(){this.n.textContent=go.get(this.gO)};kk.prototype.ajX=function(){return this.gO};
function i_(x,R,T,c,g){ky.call(this);this.rP=!1;this.n=X._("button","fitem"+(R?" spread":"")+(c?" bbtn":""));
this.gO=x;this.Fe=T;this.t();var d=g&&window.PointerEvent?"pointerup":"click";this.n.addEventListener(d,this.P6.bind(this),!1)}i_.prototype=new ky;
i_.prototype.t=function(){var x=this.n,R=this.gO,T=this.Fe;if(typeof R=="string"&&(R.startsWith("<img")||R.startsWith("<svg")||R.startsWith("<span"))){if(!this.rP){x.innerHTML=R;
x.setAttribute("style","padding:2px");this.rP=!0}}else x.textContent=go.get(R);if(T){x.setAttribute("title",go.get(T))}};
i_.prototype.atv=function(x){this.n.setAttribute("title",x)};i_.prototype.P6=function(x){this.c(new aA("click",!1))};
i_.prototype.Kl=function(){X.MQ(this.n,"bactive")};i_.prototype.KF=function(){X.ia(this.n,"bactive")};
i_.prototype.W7=function(x,R){if(x&&x!=this.gO){this.gO=x;this.rP=!1}if(R)this.Fe=R;this.t()};i_.prototype.T=function(x){if(x)this.Kl();
else this.KF()};i_.prototype.KT=function(){return this.n.getAttribute("class").indexOf("bactive")!=-1};
i_.prototype.h=function(){return this.KT()};function kD(x,R,T,c,g){ky.call(this);var d=X.Fz();this.n=X._("span","fitem tinput");
if(x){this.gO=x;this.nz=X._("label","flabel");this.n.appendChild(this.nz);this.nz.setAttribute("for",d);
this.t()}if(g){this.D8=X._("span")}else if(c==null){this.D8=X._("input");this.D8.setAttribute("type","text")}else this.D8=X._("textarea","scrollable");
this.D8.setAttribute("id",d);if(T)this.D8.setAttribute("style","width:"+T+"em;"+(g?" display:inline-block; margin-left:6px;":""));
if(c)this.D8.setAttribute("rows",c);this.n.appendChild(this.D8);if(R){this.ND=X._("span");this.ND.textContent=R;
this.ND.style.marginLeft="2px";this.n.appendChild(this.ND)}X.Sc(this.D8);this.D8.addEventListener("change",this.dd.bind(this),!1);
this.D8.addEventListener("input",this.a02.bind(this),!1);if(c==null)this.D8.addEventListener("keyup",this.z7.bind(this),!1)}kD.prototype=new ky;
kD.prototype.t=function(){this.jD()};kD.prototype.z7=function(x){var R=fZ.mf(x.code,fZ.jK),T=fZ.mf(x.code,fZ.AQ);
if(T||R)this.D8.blur()};kD.prototype.W7=function(x){this.nz.textContent=x};kD.prototype.T=function(x){var R=this.D8,T=x==null?"":x,c=R.tagName=="SPAN";
if(c){R.textContent=" "+T;if(this.ND)R.appendChild(this.ND)}else R.value=T};kD.prototype.asJ=function(x){this.ND.textContent=x};
kD.prototype.h=function(){return this.D8.value};kD.prototype.By=function(){this.D8.select();this.D8.focus()};
kD.prototype.dd=function(x){this.c(new aA(v.E.p,!1))};kD.prototype.a02=function(x){this.c(new aA("input",!1))};
function fs(x,R,T,c,g,d,U,e,N){ky.call(this);if(g==null)g=0;this.n=X._("span","fitem");var l=X.Fz();
this.gO=x;this.Fe=e;this.iJ=0;this.J_=N;this.wH=R;this.lE=T;this.T$=null;if(c instanceof Array){this.T$=c;
c=c[0]}this.h7=c;this.tv=g;this.akB=d;this.hL=U;this.Xo=0;this.nz=X._("label","flabel");this.nz.setAttribute("style","cursor:col-resize;");
this.xW=X._("input");this.xW.setAttribute("type","range");if(U){this.xW.min=0;this.xW.max=400}else{this.xW.min=R;
this.xW.max=T;if(g!=0)this.xW.step=(T-R)/200}this.D8=X._("input");this.D8.setAttribute("type","text");
this.D8.setAttribute("id",l);this.ND=X._("span");this.ND.textContent=c;X.Sc(this.D8);this.D8.addEventListener("change",this.dd.bind(this),!1);
this.D8.addEventListener("keydown",this.XH.bind(this),!1);this.D8.addEventListener("keyup",this.z7.bind(this),!1);
this.D8.addEventListener("wheel",this.xi.bind(this),!1);this.xW.addEventListener("input",this.dd.bind(this),!1);
if(N)this.xW.addEventListener("change",this.dd.bind(this),!1);this.xW.addEventListener("click",this.a60.bind(this),!1);
this.avx=this.amJ.bind(this);this.a2a=this.aqx.bind(this);this.axh=this.ac8.bind(this);this.MM=0;this.JT=0;
this.ae=!1;X.Us(this.nz,this.avx);X.Bd(this.nz)}fs.prototype=new ky;fs.prototype.bM=function(x){this.tv=x};
fs.prototype.W7=function(x){this.nz.style.display=x?"inherit":"none";if(x)this.nz.textContent=go.get(x)};
fs.prototype.t=function(){var cg=this.gO,x=this.Fe;if(cg){if(typeof cg=="string"&&cg.startsWith("<"))this.nz.innerHTML=cg;
else this.jD()}if(x){x=go.get(x);if(cg)this.nz.setAttribute("title",x);this.D8.setAttribute("title",x)}};
fs.prototype.T=function(x,R){var T=this.wH==this.lE,g;if(!T&&this.wH>=0)x=Math.max(this.wH,x);if(this.tv==0)x=Math.round(x);
var c=this.h7;this.iJ=x;this.D8.value=(this.tv!=0?x.toFixed(this.tv):x)+(this.akB&&c?(c.toLowerCase()==c.toUpperCase()?"":" ")+c:"");
if(-this.wH==this.lE)g=200+Math.sign(x)*200*Math.pow(Math.abs(x)/this.lE,1/2.7);else g=400*Math.pow((x-this.wH)/(this.lE-this.wH),1/2.7);
this.xW.value=this.hL?g:x;if(R)this.DV()};fs.prototype.h=function(){var x=this.iJ;if(isNaN(x))x=0;return x};
fs.prototype.Mp=function(){return this.h7};fs.prototype.dd=function(x){var R=0;if(x.currentTarget==this.D8){var T=x.target.value,c=0;
if(T=="")R=0;else if(this.h7){R=parseFloat(T)}else{try{R=eval(T)}catch(x){R=1}}if(isNaN(R))R=0;while(c<T.length&&(T.charAt(c)=="."||48<=T.charCodeAt(c)&&T.charCodeAt(c)<=57))c++;
var g=T.slice(c).trim();if(this.T$&&this.T$.indexOf(g)!=-1)this.h7=g}else{if(Date.now()-this.Xo<10)return;
R=parseFloat(x.target.value);if(this.hL){if(-this.wH==this.lE)R=Math.sign(R-200)*Math.pow(Math.abs(R-200)/200,2.7)*this.lE;
else R=this.wH+Math.pow(R/400,2.7)*(this.lE-this.wH);R=this.ayW(R)}}this.T(R);if(x.type=="input"&&this.J_)return;
this.DV()};fs.prototype.DV=function(){this.c(new aA(v.E.p))};fs.prototype.ayW=function(x){if(this.lE-this.wH>50&&x>10)x=Math.round(x);
return x};fs.prototype.XH=function(x){var R=0;if(fZ.mf(x.code,fZ.Vw))R=1;if(fZ.mf(x.code,fZ.xE))R=-1;
if(R!=0)this.a2D(R,x.shiftKey)};fs.prototype.z7=function(x){var R=fZ.mf(x.code,fZ.jK),T=fZ.mf(x.code,fZ.AQ);
if(R)this.T(this.h());if(T||R)this.D8.blur()};fs.prototype.xi=function(x){this.a2D(x.deltaY>0?-1:1,x.shiftKey)};
fs.prototype.a2D=function(x,R){var T=this.h(),c=this.tv,g=x*(c==null||c==0||T>5?1:.1);if(R)g*=10;var d=T+g;
if(!this.hL&&this.lE!=this.wH)d=Math.min(this.lE,d);this.T(d);this.DV()};fs.prototype.a60=function(x){var R=Date.now()-this.Xo;
this.Xo=Date.now();if(R>200)return;var T=this.wH,c=this.lE,g=(T+c)/2;if(T<1&&c>1&&c<10)g=1;else if(T<90&&c>110)g=100;
else if(T<0&&c>0)g=0;this.T(g);this.DV()};fs.prototype.amJ=function(x){X.ri(document,this.a2a);X.Xc(document,this.axh);
this.MM=X.il(x,document.body).x;this.JT=this.h()};fs.prototype.aqx=function(x){X.Ri(x);var R=this.wH==this.lE,T=X.il(x,document.body).x,c=(T-this.MM)*(R?1:1/120*(this.lE-this.wH)),g=this.JT+c;
if(R)g=Math.round(g);if(!R){if(!0){g=Math.max(this.wH,g);if(g==this.wH){this.MM=T;this.JT=this.wH}}if(!this.hL){g=Math.min(this.lE,g);
if(g==this.lE){this.MM=T;this.JT=this.lE}}g=this.ayW(g)}this.ae=!0;this.T(g);if(!this.J_)this.DV()};
fs.prototype.ac8=function(x){if(!this.ae)this.D8.focus();this.ae=!1;if(this.J_)this.DV();X.Nx(document,this.a2a);
X.YL(document,this.axh)};fs.prototype.By=function(){this.D8.select();this.D8.focus()};function i1(x,R,T,c,g,d,U,e,N,l){fs.call(this,x,R,T,c,g,!0,d,N,l);
X.MQ(this.n,"rangedropinput");this.n.appendChild(this.nz);this.D8.setAttribute("style","width:"+(e?e:3.3)+"em");
this.n.appendChild(this.D8);this.aAN=X._("span","rangecontFloat");this.aAN.appendChild(this.xW);this.eZ=X._("button");
this.eZ.textContent="\u25BC";X.Us(this.eZ,this.a21.bind(this));if(U!=!0)this.n.appendChild(this.eZ);
this.o1=new ky;this.o1.n=this.aAN}i1.prototype=new fs;i1.prototype.a21=function(x){if(X._b(this.o1.n))return;
x.stopPropagation();var R=this.n.getBoundingClientRect();this.xW.setAttribute("style","width:"+R.width+"px;");
var T=new aA(v.E.P,!0);T.data={d:v.H.fu,YR:this.o1,x:R.left-10,y:R.top+R.height};this.c(T)};function h4(x,R,T,c,g,d){fs.call(this,x,R,T,c,g,!1,d);
this.n.appendChild(this.nz);var U=X._("span");this.n.appendChild(U);U.appendChild(this.xW);this.n.appendChild(this.D8);
this.D8.setAttribute("style","width:3.3em");if(this.h7)this.n.appendChild(this.ND)}h4.prototype=new fs;
function aw(x,R,T,c,g,d,U,e){fs.call(this,x,R,T,c,g,!0,d,null,U);X.MQ(this.n,"trangeinput");this.n.appendChild(this.nz);
this.n.appendChild(this.D8);var N=X._("span");if(e!=!0)this.n.appendChild(N);N.appendChild(this.xW)}aw.prototype=new fs;
function ad(x,R,T){ky.call(this);if(!R)return;this.$h=0;this.gO=x;this.FS=null;this.adJ=T;this.Gt=[];
var c="dd"+X.Fz();this.n=X._("span","fitem ddmenu");if(x){this.nz=X._("label","flabel");this.n.appendChild(this.nz);
this.nz.setAttribute("for",c)}this.D8=X._("select");this.D8.setAttribute("id",c);this.n.appendChild(this.D8);
this.D8.addEventListener("change",this.dd.bind(this),!1);function g(d){var U=0;if(fZ.mf(d.code,fZ.Vw))U=1;
if(fZ.mf(d.code,fZ.xE))U=-1;if(U!=0)d.stopPropagation()}this.D8.addEventListener("keydown",g,!1);this.D8.addEventListener("keyup",g,!1);
this.LM=[];this.aM=null;this.GN(R,T);this.t()}ad.prototype=new ky;ad.prototype.W7=function(x){this.gO=x;
this.t()};ad.prototype.t=function(){this.jD();if(this.aM)this.GN(this.aM,this.adJ);this.T(this.$h)};
ad.prototype.h=function(){return this.$h};ad.prototype.GN=function(x,R){X.Ra(this.D8);var T=[],c=0;if(R){T.push(R[0]);
for(var z=1;z<R.length;z++)T.push(T[z-1]+R[z])}this.aM=x;this.FS=[];this.adJ=R;for(var z=0;z<x.length;
z++){var g=X._("option");if(this.Gt.indexOf(z)!=-1)g.setAttribute("disabled","");g.textContent=go.get(x[z]);
g.setAttribute("value",z);this.D8.appendChild(g);this.LM.push(g);this.FS.push(z+c);if(T.indexOf(z+1)!=-1&&z!=x.length-1){var d=X._("option");
d.setAttribute("disabled","");d.textContent="";this.D8.appendChild(d);c++}}};ad.prototype.axl=function(z){var x=this.Gt,R=x.indexOf(z);
if(R==-1)x.push(z);this.t()};ad.prototype.am_=function(z){var x=this.Gt,R=x.indexOf(z);if(R!=-1)x.splice(R,1);
this.t()};ad.prototype.T=function(x){this.$h=x;this.D8.selectedIndex=this.FS[x]};ad.prototype.dd=function(x){this.$h=this.FS.indexOf(this.D8.selectedIndex);
this.c(new aA(v.E.p,!1))};ad.prototype.By=function(){this.D8.focus()};function cZ(x,R,T,c,g){ky.call(this);
if(!R)return;this.$h=0;this.amx=c;this.aez=g;this.n=X._("span","fitem bbmenu");this.YS=X._("label","flabel");
if(x){this.gO=x;this.YS.textContent=x+":";this.n.appendChild(this.YS)}this.LM=[];this.ab=X._("span");
this.n.appendChild(this.ab);this.aM=null;this.GN(R,T);this.T(0)}cZ.prototype=new ky;cZ.prototype.W7=function(x){this.gO=x;
this.t()};cZ.prototype.t=function(){var x=this.YS.parentNode!=null,R=this.n;if(this.gO!=null){if(!x){R.appendChild(this.YS);
R.appendChild(this.ab)}this.YS.textContent=go.get(this.gO)+": "}else if(x)R.removeChild(this.YS);for(var z=0;
z<this.LM.length;z++)this.LM[z].t()};cZ.prototype.h=function(){return this.$h};cZ.prototype.GN=function(x,R){X.Ra(this.ab);
this.LM=[];this.aM=x;for(var z=0;z<x.length;z++){var T=new i_(x[z],!1,R?R[z]:null,this.amx);T.k("click",this.dd,this);
this.ab.appendChild(T.n);this.LM.push(T)}this.t()};cZ.prototype.T=function(x){this.$h=x;for(var z=0;
z<this.LM.length;z++)this.LM[z].KF();if(x!=-1)this.LM[x].Kl()};cZ.prototype.dd=function(x){var z=this.LM.indexOf(x.target);
this.T(this.aez&&z==this.$h?-1:z);this.c(new aA(v.E.p,!1))};cZ.vk=function(x,R,T){if(R==null)R=16;var c=cZ.BG,g=c.getContext("2d"),d=R>>>1;
c.width=c.height=R;var U=[];for(var z=0;z<x.length;z++){if(x[z][0]=="-")U.push(x[z].slice(1));else if(x[z]=="checker"||x[z].startsWith("#")){if(x[z]=="checker"){g.fillStyle="white";
g.fillRect(0,0,R,R);g.fillStyle="#bbbbbb";g.fillRect(d,0,d,d);g.fillRect(0,d,d,d)}else if(x[z].startsWith("#")){g.fillStyle=x[z];
g.fillRect(0,0,R,R)}U.push("<img src=\""+c.toDataURL()+"\" />")}else U.push(X.t6(x[z],null,T?T:"autoscale"))}return U};
cZ.BG=X._("canvas");function ii(x,R,T,c,g,d){ky.call(this);this.n=X._("span","fitem mbox");this.a0N=T;
this.am5=g;if(x){this.gO=x;this.YS=X._("label","flabel");this.n.appendChild(this.YS)}this.H6=R;this.lG=[];
for(var z=0;z<R.length;z++){var U=T?new i_(R[z],!1,c?c[z]:null,!1,d):new kv(R[z],!0,"");U.k(T?"click":v.E.p,this.dd,this);
this.lG.push(U);this.n.appendChild(U.n)}this.t()}ii.prototype=new ky;ii.prototype.T=function(x){for(var R=0;
R<this.H6.length;R++)this.lG[R].T(x[R])};ii.prototype.h=function(){var x=[];for(var R=0;R<this.H6.length;
R++)x[R]=this.lG[R].h();return x};ii.prototype.t=function(){if(this.gO)this.YS.innerHTML=go.get(this.gO)+": ";
var x=this.lG;for(var R=0;R<x.length;R++){x[R].t();if(R==x.length-1)x[R].n.style.marginRight="0px"}};
ii.prototype.dd=function(x){var z=this.lG.indexOf(x.currentTarget),R=this.lG[z];if(this.a0N)R.T(!R.h());
if(this.am5){var T=R.h();for(var z=0;z<this.lG.length;z++)this.lG[z].T(!1);R.T(T)}this.c(new aA(v.E.p,!1))};
function dY(x,R){ky.call(this);this.lo=[];this.g=[];this.acH=x;this.yI=R;this.k8=0;this.Cb=null;this.ls=new cI(0,0);
if(R!=null){this.kH=new d$([{name:[6,37]},{name:[5,4]}]);this.kH.parent=this;this.kH.k("select",this.Uo,this)}this.n=X._("div","imageset scrollable");
this.n.addEventListener("contextmenu",X.ME,!1)}dY.prototype=new ky;dY.prototype.t=function(){if(this.kH)this.kH.t()};
dY.prototype.Uo=function(x){var z=this.kH.ty()[0],R=new aA(v.E.P,!0),T={d:v.H.pV,vr:this.yI,Pg:this.g.slice(0)};
if(z==0){var c=this.Cb[1][this.g[0]],g=c.split("/");if(g.length==2){T.To=g[0]+"/";c=g[1]}T.Ly="rnm";
R.data={d:v.H.i$,$k:"namewindow",Ey:c,V8:{K:v.E.P,C:T}}}else{R.data=T;T.Ly="del"}this.c(R)};dY.prototype.aCr=function(){return this.k8};
dY.prototype.b3=function(x){this.k8=x;if(this.Cb)this.a5()};dY.prototype.j7=function(x,R,T,c){this.Cb=[x,R,T,c];
this.a5()};dY.prototype.a5=function(){var x=this.Cb,R=this.n,T=x[0],c=x[1],g=x[2],d=x[3];this.lo=[];
X.Ra(R);var U=this.P6.bind(this),e=this.k8;if(e==0)X.MQ(R,"imageset");else X.ia(R,"imageset");var N={};
for(var z=0;z<T.length;z++){var l=T[z],J=null,w=null;if(l==null){this.lo.push(null);continue}if(typeof l=="string"){J=X._("img","image");
J.setAttribute("src",l)}else J=l;if(g)X.kk(J,g,d);if(this.acH)X.MQ(J,"gsicon");if(c){var w=c[z],s=w.split("/");
if(s.length==2){var o=N[s[0]];w=s[1];if(o==null)o=N[s[0]]=[];o.push(z)}}if(e==0){}else{var V=X._("div","listitem");
V.appendChild(J);var a=X._("span");a.textContent=w?w:"Item "+(z+1);a.setAttribute("style","margin-left:4px;");
V.appendChild(a);J=V}if(w)J.setAttribute("title",w);J.addEventListener("mousedown",U,!1);this.lo.push(J);
R.appendChild(J)}if(Object.keys(N).length!=0){X.Ra(R);for(var O in N){var o=N[O],S=X._("div","listitem head");
S.setAttribute("style","clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var L=X._("div","headL");S.appendChild(L);L.appendChild(X._("div","folder"));var a=X._("span");a.textContent=O;
L.appendChild(a);R.appendChild(S);for(var z=0;z<o.length;z++)R.appendChild(this.lo[o[z]])}}};dY.prototype.P6=function(x){if(this.yI==null)x.preventDefault();
var R=this.lo.indexOf(x.currentTarget),T=window.__kb,c=this.g,g=c.length;if(T.S(fZ.xg)){var d=Math.min(c[0],c[c.length-1],R),U=Math.max(c[0],c[c.length-1],R);
c=[];for(var z=d;z<=U;z++)c.push(z)}else if(T.S(fZ.Gc)){var e=c.indexOf(R);if(e==-1)c.push(R);else c.splice(e,1)}else c=[R];
c.sort(function(w,o){return w-o});if(x.button==0||g==1)this.T(c);this.ls=X.il(x,x.currentTarget);if(x.button==0)this.c(new aA(v.E.p));
if(x.button==2&&this.kH){var N=this.kH;N.update(null);var l=X.il(x,document.body),J=new aA(v.E.P,!0);
J.data={d:v.H.fu,YR:N,x:l.x,y:l.y+2};this.c(J)}};dY.prototype.h=function(){return this.g.slice(0)};dY.prototype.ac4=function(){var x=this.ls;
return new cI(x.x,x.y)};dY.prototype.T=function(x){this.g=x.slice(0);for(var z=0;z<this.lo.length;z++){var R=this.lo[z];
if(R==null)continue;if(x.indexOf(z)!=-1)X.MQ(R,"selected");else X.ia(R,"selected")}};function gl(x,R,T,c,g,d,U){ky.call(this);
this.n=X._("span","fitem "+T);this.NG=new ky;this.NG.n=X._("div","floatcont");this.Aa=c;this.NG.parent=this;
this.a57=X._("div");this.NG.n.appendChild(this.a57);this.Sf=X._("div");this.NG.n.appendChild(this.Sf);
if(x){this.gO=x;this.YS=X._("label","flabel");this.n.appendChild(this.YS)}this.d=X._("button",U?"nopadding":"");
this.d.setAttribute("style","position:relative;");var e=this.y1.bind(this),N=this.IN.bind(this);X.Us(this.d,R?N:e);
this.n.appendChild(this.d);this.Rm=X._("img",U?"gsicon":"");this.d.appendChild(this.Rm);if(R){var l=X._("button");
l.textContent="\u25BC";X.Us(l,e);this.n.appendChild(l)}else{var J=X._("span");J.textContent="\u25BC";
J.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(J)}var w=this.alC=X._("span");
this.Sf.appendChild(w);w.setAttribute("style","display:inline-block;  vertical-align:top;");this.s3=new dY(U,d);
w.appendChild(this.s3.n);this.s3.parent=this.NG;this.s3.k(v.E.p,this.mU,this);this.s3.n.style.height=g+"px";
this.Ho=X._("button");this.Ho.textContent="\u25BC";this.Ho.setAttribute("style","padding:3px");X.Us(this.Ho,this.kB.bind(this));
this.Sf.appendChild(this.Ho);var s=this.hS(),o=this.a3C=d!=hc.dl&&d!=hc.my?d:null,V=this.ama=d==null?!1:hc.tf[d][4]!=0,a=d==null?"":hc.tf[d][0].toUpperCase(),O=[];
if(o)O.push({name:[12,87]});O.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],NC:!0});O.push({name:[[23,6],"."+(a=="ICC"?"icc .cube .look .3dl":a)]},{name:["VAR0 ."+a,[1,8]]},{name:[6,37]},{name:[5,4],NC:s.length!=0});
for(var z=0;z<s.length;z++)O.push({name:s[z].split("/").pop()});this.atT=O;this.yI=d;this.v$=null;this.D4=!0;
this.cf=null}gl.prototype=new ky;gl.prototype.hS=function(){return[]};gl.prototype.IN=function(){};gl.prototype.t=function(){this.s3.t();
var x=this.gO;if(x)this.YS.textContent=go.get(x)+":"};gl.prototype.W7=function(x){this.YS.textContent=x};
gl.prototype.zB=function(x){var R=this.yI,T=0;if(R==hc.R6){T=this.v$?this.v$.length:0;x=x.slice(0)}this.v$=x;
this.D4=!0;if(X._b(this.s3.n)||R==hc.vm)this._I();if(R==hc.R6&&x.length-T==1&&X._b(this.n)){this.T(x[T]);
this.D4=!0;this._I();this.s3.T([T]);this.c(new aA(v.E.p))}};gl.prototype.Uo=function(x){var R=x.target.ty()[0];
if(this.a3C==null)R++;var T=new aA(v.E.P,!0);if(R==0){var c=this.gP();if(this.yI==hc.R6&&c[0].profile==null)return;
T.data={d:v.H.pV,Ly:"add",vr:this.a3C,cs:c}}else if(R==1)this.s3.b3(1-this.s3.aCr());else if(R<=5)this.gb(R-2);
else{var g=this.hS();T.data={d:v.H.Iu,vr:{url:"rsrc/"+g[R-6]}}}if(T.data)this.c(T)};gl.prototype.gb=function(x){var R=new aA(v.E.P,!0),T=this.s3.h(),c={d:v.H.pV,vr:this.yI,Pg:T};
if(x>1&&T.length==0){alert("No items selected");return}if(x==0)R.data={d:v.H.au};else if(x==1)R.data={d:v.H.ZJ,aB9:this.yI,Pg:T.length==0?null:T};
else if(x==2){var g=this.s3.Cb[1][T[0]],d=g.split("/");if(d.length==2){c.To=d[0]+"/";g=d[1]}c.Ly="rnm";
R.data={d:v.H.i$,$k:"namewindow",Ey:g,V8:{K:v.E.P,C:c}}}else if(x==3){R.data=c;c.Ly="del"}this.c(R)};
gl.prototype.gP=function(){return[this.h()]};gl.prototype.kB=function(x){if(this.kH==null){this.kH=new d$(this.atT);
this.kH.parent=this.NG;this.kH.k("select",this.Uo,this)}if(X._b(this.kH.n))return;x.stopPropagation();
var R=this.kH;R.t();R.update(null);var T=x.currentTarget.getBoundingClientRect(),c=new aA(v.E.P,!0);
c.data={d:v.H.fu,YR:R,x:T.left,y:T.top+T.height};this.c(c)};gl.prototype.y1=function(x,R,T){if(X._b(this.NG.n))return;
if(x)x.stopPropagation();this._I();if(R==null){var c=this.d.getBoundingClientRect(),R=c.left,T=c.top+c.height}this.s7();
var g=new aA(v.E.P,!0);g.data={d:v.H.fu,YR:this.NG,x:R,y:T,eF:!0};this.c(g)};gl.prototype.s7=function(x,R){var x=Math.min(this.Aa,window.innerWidth-40);
this.alC.style.width=x+"px";this.NG.n.style.width=x+20+"px"};gl.prototype.aga=function(x,R){this.y1(null,x,R)};
function ff(){ky.call(this);this.n=X._("div");this.iJ=!1;this.Kw=[new ad([12,19,1],[[13,1,7]].concat(hD.Q7)),new a7([17,1]),new a7([12,46])];
for(var z=0;z<3;z++){var x=this.Kw[z];this.n.appendChild(x.n);x.k(v.E.p,this.S0,this)}this.t()}ff.prototype=new ky;
ff.prototype.t=function(){for(var z=0;z<3;z++)this.Kw[z].t()};ff.prototype.h=function(){return this.iJ.slice(0)};
ff.prototype.T=function(x){this.iJ=x.slice(0);var R=this.Kw,T=R[0].h();R[1].T(x.slice(T*8,T*8+4),T);
R[2].T(x.slice(T*8+4,T*8+8),T)};ff.prototype.S0=function(x){var R=this.Kw,T=R.indexOf(x.currentTarget);
if(T==0)this.T(this.iJ);else{var c=R[0].h()*8+(T==1?0:4),g=R[T].h();for(var z=0;z<4;z++)this.iJ[c+z]=g[z];
this.c(new aA(v.E.p,!1))}};function a7(x){ky.call(this);this.n=X._("div");this.V=X._("canvas");this.CV=x;
this.iJ=[0,20,200,255];this._X=0;this.VC=-1;this.a0F=[];for(var z=0;z<5;z++){var R=X._("span");R.setAttribute("style","display:inline-block;width:"+(z==0?8:z==2?7:2)+"em");
this.a0F.push(R);this.n.appendChild(R)}this.l3=this.LV.bind(this);this.nJ=this.Dg.bind(this);this.Mt=this.ho.bind(this);
X.Bd(this.V);X.Us(this.V,this.l3);this.n.appendChild(this.V);this.a5()}a7.prototype=new ky;a7.prototype.t=function(){this.a5()};
a7.prototype.T=function(x,R){this.iJ=x;this._X=R;this.a5()};a7.prototype.h=function(){return this.iJ.slice(0)};
a7.prototype.LV=function(x){var R=this.iJ,T=X.il(x,this.V),c=T.x-8,g=-1,d=1e9;for(var z=0;z<4;z++){var U=c-R[z],e=Math.abs(U);
if(e<8&&e<d&&((z&1)==0&&U<0||(z&1)==1&&U>0)){d=U;g=z}}if(g==-1)return;this.VC=g;this.Lr=window.__kb.S(fZ.ng)||R[(g>>>1)*2]!=R[(g>>>1)*2+1];
X.ri(window,this.nJ);X.Xc(window,this.Mt)};a7.prototype.Dg=function(x){var R=this.iJ,T=this.VC,c=(T>>>1)*2,g=c+1,d=X.il(x,this.V),U=Math.round(Math.max(0,Math.min(255,d.x-8)));
R[T]=U;if(this.Lr&&R[c]>=R[g])this.Lr=!1;if(!this.Lr)R[c]=R[g]=U;this.a5();this.c(new aA(v.E.p,!1))};
a7.prototype.ho=function(x){X.Nx(window,this.nJ);X.YL(window,this.Mt)};a7.prototype.a5=function(){var x=this.V;
X.ja(x,255+16,16);var R=x.getContext("2d"),T=x.width,c=x.height,g=Math.round(255*X.mM()),d=Math.round(8*X.mM());
R.translate(d,0);var U=R.createLinearGradient(0,0,g,0);U.addColorStop(0,"black");U.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this._X]);
R.fillStyle=U;R.fillRect(0,0,g,d);var e=this.a0F,N=go.get(this.CV)+":";e[0].textContent=N;for(var z=0;
z<4;z++){var l=this.iJ[z];e[1+z].textContent=l;var J=Math.round(l*X.mM());R.beginPath();R.moveTo(J,d);
R.lineTo(J,d+d);R.lineTo(J+((z&1)==0?-1:1)*d,d+d);R.closePath();R.fillStyle=z<2?"#666666":"#cccccc";
R.fill();R.strokeStyle="black";R.stroke()}};function cS(x,R,T){ky.call(this);if(T==null)T=!1;this.b=[0,0,1];
this.a8m=R;this.aec=T;this.rS=0;var c="ai"+X.Fz();this.n=X._("span","fitem angleinput");if(x){this.YS=X._("label","flabel");
this.gO=x;this.n.appendChild(this.YS);this.YS.setAttribute("for",c)}this.c_=T?44:20;this.V=X._("canvas","gsicon");
this.xv=this.V.getContext("2d");X.Bd(this.V);X.ja(this.V,this.c_*2+1,this.c_*2+1);this.xv.scale(X.mM(),X.mM());
this.n.appendChild(this.V);X.Us(this.V,this.M4.bind(this));this.NS=this.Ty.bind(this);this.HC=this.I7.bind(this);
var g=this.dd.bind(this),d=X._("div");d.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!T)this.n.appendChild(d);this.HO=[];for(var z=0;z<2;z++){var U=X._("input");this.HO.push(U);U.setAttribute("type","text");
X.Sc(U);if(z==0)U.setAttribute("id",c);U.addEventListener("change",g,!1);var e=X._("span");e.textContent="\xB0";
if(z==0||R){d.appendChild(U);d.appendChild(e);X.pz(d)}}this.T(this.b)}cS.prototype=new ky;cS.prototype.t=function(){if(this.gO)this.YS.textContent=go.get(this.gO)+":"};
cS.prototype.W7=function(x){this.YS.textContent=x};cS.prototype.h=function(){return this.b.slice(0)};
cS.prototype.T=function(x,R){var T=this.b;x=x.slice(0);if(x[0]==null)x[0]=T[0];if(x[1]==null)x[1]=T[1];
if(x[2]==null)x[2]=T[2];this.b=x;var c=x[0],g=x[1],d=x[2],U=this.a8m,e=this.aec,N=this.c_*.85;if(!U)g=0;
this.HO[0].value=c;this.HO[1].value=g;var l=this.xv;l.clearRect(0,0,100,100);c=Math.PI*c/180;g=N*(90-g)/90;
var J=this.c_+.5;l.save();l.translate(J,J);l.rotate(-c);l.strokeStyle="rgba(0,0,0,0.5)";l.beginPath();
l.ellipse(0,0,N,N*d,0,0,2*Math.PI);if(e){l.moveTo(0,-N*d);l.lineTo(0,N*d);l.moveTo(-g,0)}else l.moveTo(0,0);
l.lineTo(g,0);l.stroke();var w=this.c_*.15;l.fillStyle="black";l.beginPath();if(e){l.arc(0,-N*d,w*.66,0,2*Math.PI);
l.arc(0,N*d,w*.66,0,2*Math.PI)}if(U){l.arc(g,0,w*.4,0,2*Math.PI)}else{l.moveTo(J-w,-w*.66);l.lineTo(J,0);
l.lineTo(J-w,w*.66)}l.fill();l.restore();if(R)this.dd()};cS.prototype.dd=function(x){var R=parseInt(this.HO[0].value);
if(isNaN(R))R=0;var T=parseInt(this.HO[1].value);if(isNaN(T))T=0;R=R%360;T=T%360;this.T([R,T]);this.c(new aA(v.E.p,!1))};
cS.prototype.M4=function(x){X.ri(window,this.NS);X.Xc(window,this.HC);var R=X.il(x,this.V),J=0,w=1e9;
R.x-=this.c_;R.y-=this.c_;var T=this.b,c=T[0]*Math.PI/180,g=(90-T[1])/90,d=T[2],U=this.c_*.85,e=Math.sin(-c),N=Math.cos(-c),l=[new cI(N*U,e*U)];
if(this.aec)l.push(new cI(-e*U*d,N*U*d),new cI(e*U*d,-N*U*d));for(var z=0;z<l.length;z++){var s=cI.rE(R,l[z]);
if(s<w){w=s;J=z}}this.rS=J;if(J==0)this.Ty(x)};cS.prototype.Ty=function(x){var R=X.il(x,this.V),T=this.rS,c=[],g=R.x-this.c_,d=R.y-this.c_,U=this.c_*.85;
if(T==0){var e=180*Math.atan2(-d,g)/Math.PI,N=90-90*Math.min(1,Math.sqrt(g*g+d*d)/U);if(x.shiftKey)e=Math.round(e/15)*15;
c=[Math.round(e),Math.round(N)]}else c=[null,null,Math.max(.01,Math.min(1,Math.sqrt(g*g+d*d)/U))];this.T(c);
this.c(new aA(v.E.p,!1))};cS.prototype.I7=function(x){this.c(new aA(v.E.p,!1));X.Nx(window,this.NS);
X.YL(window,this.HC)};function bO(x,R){ky.call(this);this.iJ=0;this.wC=R;this.n=X._("span","fitem angleinput");
if(x){this.YS=X._("label","flabel");this.gO=x;this.n.appendChild(this.YS)}this.V=X._("canvas","gsicon");
this.xv=this.V.getContext("2d");X.ja(this.V,R,R);this.n.appendChild(this.V);X.Bd(this.V);X.Us(this.V,this.M4.bind(this));
this.NS=this.Ty.bind(this);this.HC=this.I7.bind(this);this.T(0)}bO.prototype=new ky;bO.prototype.t=function(){if(this.gO)this.YS.textContent=go.get(this.gO)+":"};
bO.prototype.W7=function(x){this.YS.textContent=x};bO.prototype.h=function(){return this.iJ};bO.prototype.abe=function(x){var R=this.iJ,T=Math.floor(R/3),c=R-T*3;
c=Math.max(0,Math.min(2,c+x.x));T=Math.max(0,Math.min(2,T+x.y));this.T(T*3+c)};bO.prototype.T=function(x){this.iJ=x;
var R=this.V.width,T=Math.floor(x/3),c=x-3*T,g=(c+.5)*R/3,d=(T+.5)*R/3,U=this.xv,e=[.5,Math.round(R/3)+.5,Math.round(2*R/3)+.5,R-.5];
U.clearRect(0,0,R,R);var N=this.wC<30;U.setLineDash([]);U.strokeStyle=N?"rgba(0,0,0,0.5)":"#000000";
U.beginPath();for(var z=0;z<4;z++){var l=e[z];U.moveTo(l,0);U.lineTo(l,R);U.moveTo(0,l);U.lineTo(R,l)}U.stroke();
if(x==9)return;if(!N){U.setLineDash([1,2]);var J=R*.53,w=Math.max(0,Math.min(R-J,g-J/2)),s=Math.max(0,Math.min(R-J,d-J/2));
U.strokeRect(Math.round(w)+.5,Math.round(s)+.5,Math.round(J),Math.round(J))}U.fillStyle="#000000";U.beginPath();
U.arc(g,d,R/8,0,Math.PI*2);U.fill()};bO.prototype.M4=function(x){X.ri(document.body,this.NS);X.Xc(document.body,this.HC);
this.Ty(x)};bO.prototype.Ty=function(x){var R=X.il(x,this.V),T=Math.max(0,Math.min(2,Math.floor(R.x/(this.wC/3)))),c=Math.max(0,Math.min(2,Math.floor(R.y/(this.wC/3))));
this.T(c*3+T)};bO.prototype.I7=function(x){this.c(new aA(v.E.p,!1));X.Nx(document.body,this.NS);X.YL(document.body,this.HC)};
function jl(cg){ky.call(this);this.n=X._("span","fitem cswatch");this.a7T=0;this.YX=[];this.ra=[];var x=this.a2l.bind(this);
for(var z=0;z<cg;z++){this.YX.push(0);var R=X._("span","colorsample");R.addEventListener("click",x,!1);
this.ra.push(R);this.n.appendChild(R)}var T=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],c=Math.min(cg,T.length);
for(var z=0;z<c;z++)this.YX[z]=T[z];this.OD()}jl.prototype=new ky;jl.prototype.a2l=function(x){this.a7T=this.ra.indexOf(x.currentTarget);
this.c(new aA(v.E.p))};jl.prototype.h=function(){return this.YX[this.a7T]};jl.prototype.T=function(x){var R=this.YX,T=R.indexOf(x);
if(T!=-1)R.splice(T,1);else R.pop();R.unshift(x);this.OD()};jl.prototype.OD=function(){for(var z=0;z<this.YX.length;
z++){this.ra[z].setAttribute("style","background-color:#"+u.TN(this.YX[z]))}};function dW(x){ky.call(this);
this.jf={o:0,A:0,J:0};this.Cp=x;this.n=X._("span","fitem colorsample");this.n.addEventListener("click",this.Mj.bind(this),!1)}dW.prototype=new ky;
dW.prototype.t=function(){};dW.prototype.Mj=function(x){var R=this.jf;this.c(new aA("click"));var T=new aA(v.E.P,!0);
T.data={d:v.H.i$,$k:"colorpicker",O7:R.o<<16|R.A<<8|R.J,FO:this.G_.bind(this),VG:this.Cp};this.c(T)};
dW.prototype.G_=function(x){this.M0(x);this.c(new aA(v.E.p))};dW.prototype.WE=function(){this.Mj(null)};
dW.prototype.bz=function(){var x=this.jf;return x.o<<16|x.A<<8|x.J};dW.prototype.h=function(){return u.I.SE(this.jf)};
dW.prototype.M0=function(x){this.jf={o:x>>16&255,A:x>>8&255,J:x&255};this.a0S()};dW.prototype.T=function(x){this.jf=u.I.ir(x);
this.a0S()};dW.prototype.a0S=function(){var x=this.jf,R=x.o,T=x.A,c=x.J,g=R<<16|T<<8|c;this.n.setAttribute("style","background-color:#"+u.TN(g))};
function bQ(){ky.call(this);this.TY=!1;this.AE=20;this.ahS=10;this.DJ=0;this.TY=!1;this.g6={o:255,A:0,J:0};
this.AP={o:0,A:0,J:0};this.Dn=null;this.n=X._("canvas");this.a5();X.Bd(this.n);X.Us(this.n,this.l3.bind(this))}bQ.prototype=new ky;
bQ.prototype.aif=function(x){if(this.TY==x)return;this.TY=x;this.a5()};bQ.prototype.t=function(){};bQ.prototype.aaD=function(x,R){function T(c){return{o:c>>16&255,A:c>>8&255,J:c&255}}if(x!=null)this.g6=T(x);
if(R!=null)this.AP=T(R);this.a5()};bQ.prototype.atE=function(x){this.Dn=x;this.a5()};bQ.prototype.l3=function(x){var R=X.il(x,this.n),T=R.x*X.mM(),c=R.y*X.mM(),g=this.AE,d=this.ahS,U=0;
if(T<d&&c<d){U=0}else if(T>g-d&&c>g-d){U=1}else if(T<d){U=2}else{U=3}this.WE(U)};bQ.prototype.WE=function(x){var R=this.Dn,T=new aA(v.E.P,!0);
if(x>1){if(b5==0)T.data={d:v.H.pV,vr:hc.Js,J2:x};else{var c={KI:1,TB:JSON.parse(JSON.stringify(R.ht[1]))},g=JSON.parse(JSON.stringify(R.Vz)),d={KI:1,TB:JSON.parse(JSON.stringify(R.pO[1]))};
if(x==2){c=fJ.c0(g);fJ.dn(g,R.VH)}else{c.TB.Clr.v=u.I.SE({o:255,A:255,J:255});d.TB.Clr.v=u.I.SE({o:0,A:0,J:0});
fJ.dn(g,d)}T.data={d:v.H.pV,vr:hc.GD,b:c};this.c(T);T.data={d:v.H.pV,vr:hc.Jt,b:g}}}else{this.DJ=x;var U=null;
if(b5==0)U=x==0?this.g6:this.AP;else{var e=x==0?R.ht:R.pO;U=u.I.ir(e[1].Clr.v)}T.data={d:v.H.i$,$k:"colorpicker",O7:U.o<<16|U.A<<8|U.J,FO:this.G_.bind(this)}}this.c(T)};
bQ.prototype.G_=function(x){var R=new aA(v.E.P,!0),T=this.DJ,c=this.Dn;if(b5==0)R.data={d:v.H.pV,vr:hc.Js,J2:T,b:x};
else{var g={KI:1,TB:JSON.parse(JSON.stringify(c.ht[1]))};g.TB.Clr.v=u.I.SE(u.m4(x));var d=JSON.parse(JSON.stringify(c.Vz));
fJ.dn(d,g);if(T==1)g=d;R.data={d:v.H.pV,vr:T==0?hc.GD:hc.Jt,b:g}}this.c(R)};bQ.prototype.a5=function(){var x=this.n,R=x.getContext("2d"),T=X.mM(),g="#aaaaaa",d=.62;
X.ja(x,34,34);x.setAttribute("style",x.getAttribute("style")+";cursor:pointer");var c=this.AE=x.width,U=this.ahS=Math.round(c*d);
function e(Q,b){var Z=Q.o,I=Q.A,y=Q.J;if(b)Z=I=y=Math.round(u.Et(Z,I,y));var r=Z<<16|I<<8|y;return"#"+u.TN(r)}function N(R,s,Q,b,Z,I){R.beginPath();
if(b>=I*2&&Z>=I*2){R.moveTo(s+I,Q);R.lineTo(s+b-I,Q);R.quadraticCurveTo(s+b,Q,s+b,Q+I);R.lineTo(s+b,Q+Z-I);
R.quadraticCurveTo(s+b,Q+Z,s+b-I,Q+Z);R.lineTo(s+I,Q+Z);R.quadraticCurveTo(s,Q+Z,s,Q+Z-I);R.lineTo(s,Q+I);
R.quadraticCurveTo(s,Q,s+I,Q)}R.closePath()}function l(s,Q,U,b,Z){R.strokeStyle=Z?Z:"black";R.fillStyle=b;
N(R,s+.5,Q+.5,U-1,U-1,U*.2);R.fill();R.stroke()}var J=this.Dn;if(J){R.beginPath();var w=fJ.c0(J.Vz),s=c-U,o=Math.floor(U*.28),V=U-2*o;
i2.S2(R,w,J,null,U,U,s,s);R.lineWidth=1;R.strokeStyle="white";R.clearRect(s+o,s+o,V,V);R.strokeRect(s+o+.5,s+o+.5,V-1,V-1);
R.strokeRect(s+.5,s+.5,U-1,U-1);i2.S2(R,J.VH,J,null,U,U);R.lineWidth=1;R.strokeStyle="white";R.strokeRect(.5,.5,U-1,U-1)}else{l(c-U,c-U,U,e(this.AP,this.TY));
l(0,0,U,e(this.g6,this.TY))}var a=c-U,O=Math.round(a*d);l(c-O,a-O,O,b5==0?"white":"black",g);l(c-a,0,O,b5==0?"black":"white",g);
R.save();R.fillStyle=g;R.translate(0,c);R.rotate(-Math.PI/2);a=c-U;var S=Math.round(a*.28),L=Math.round(a*.25);
for(var z=0;z<2;z++){R.fillRect(S,S,a-S,1);R.beginPath();R.moveTo(a-L,S+.5-L);R.lineTo(a,S+.5);R.lineTo(a-L,S+.5+L);
R.closePath();R.fill();R.transform(0,1,1,0,0,0)}R.restore()};function dH(x){gl.call(this,x,!1,"brushbutton nopadding",19*13,10*13,hc.fq,!0);
var R=this.a57;X.MQ(R,"flexrow");var T=X._("div");R.appendChild(T);var c=X._("div");R.appendChild(c);
c.setAttribute("style","margin-left:8px");this.X9=new cS(null,null,!0);this.X9.k(v.E.p,this.Hr,this);
T.appendChild(this.X9.n);this.BE=new aw([12,14,0],1,1e3," px",0,!0);this.BE.k(v.E.p,this.Hr,this);c.appendChild(this.BE.n);
this.Nn=new aw([12,17],0,100,"%");this.Nn.k(v.E.p,this.Hr,this);c.appendChild(this.Nn.n);this.dV=new ii(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.dV.k(v.E.p,this.Hr,this);c.appendChild(this.dV.n)}dH.prototype=new gl;dH.prototype.hS=function(){var x=["pencil","trees"];
for(var z=0;z<x.length;z++)x[z]="brushes/"+x[z]+".abr";return x};dH.prototype.T=function(x,R,T){this.cf=JSON.parse(JSON.stringify(x));
var c=Math.floor(20*X.mM()),g=Math.floor(36*X.mM()),d=Math.floor(24*X.mM()),U=fC.N4(x,R,T,c,d,g);this.Rm.setAttribute("src",U);
X.kk(this.Rm,g,d);var e=x.Brsh.v;this.BE.T(e.Dmtr.v.val);if(e.Hrdn!=null){this.Nn.uL();this.Nn.T(e.Hrdn.v.val)}else this.Nn.tC();
if(e.Angl!=null)this.X9.T([e.Angl.v.val]);if(e.Rndn!=null)this.X9.T([null,null,e.Rndn.v.val/100]);var N=[!1,!1];
if(x.opVr)N[0]=x.opVr.v.bVTy.v==2;if(x.szVr)N[1]=x.szVr.v.bVTy.v==2;this.dV.T(N)};dH.prototype.gP=function(){return{list:[{t:"Objc",v:this.h()}],DE:[],YF:[]}};
dH.prototype.h=function(){return this.cf};dH.prototype._I=function(){if(!this.D4)return;var x=[],R=[],T=this.v$,c=Math.floor(33*X.mM()),g=Math.floor(40*X.mM());
for(var z=0;z<T.list.length;z++){var d=T.list[z].v,U=fC.N4(d,T.DE,T.YF,c,g);x.push(U);R.push(d.Nm.v)}this.s3.j7(x,R,c,g);
this.D4=!1};dH.prototype.mU=function(x){var R=this.v$;this.T(R.list[this.s3.h()[0]].v,R.DE,R.YF);this.c(new aA(v.E.p))};
dH.prototype.t=function(){gl.prototype.t.call(this);this.X9.t();this.BE.t();this.Nn.t()};dH.prototype.Hr=function(x){var R=this.v$,T=this.cf,c=T.Brsh.v;
c.Dmtr.v.val=this.BE.h();if(c.Hrdn!=null)c.Hrdn.v.val=this.Nn.h();if(c.Angl!=null)c.Angl.v.val=this.X9.h()[0];
if(c.Rndn!=null)c.Rndn.v.val=Math.round(this.X9.h()[2]*100);if(x.target==this.dV)bE.amo(T,this.dV.h());
this.T(T,R.DE,R.YF);this.c(new aA(v.E.p))};function aS(x){gl.call(this,x,!0,"contourbutton",17*13,10.5*13,hc.fo)}aS.prototype=new gl;
aS.prototype.mU=function(x){this.T(this.v$[x.target.h()]);this.c(new aA(v.E.p))};aS.prototype.IN=function(x){var R=new aA(v.E.P,!0);
R.data={d:v.H.i$,$k:"contoureditor",dz:this.cf,response:this.a2S.bind(this)};this.c(R)};aS.prototype.a2S=function(x){this.T(x);
this.c(new aA(v.E.p))};aS.prototype._I=function(){if(!this.D4)return;var x=Math.floor(38*X.mM()),R=Math.floor(38*X.mM()),T=[],c=[],g=this.v$;
for(var z=0;z<g.length;z++){c.push(g[z].Nm?g[z].Nm.v:"");T.push(u.a1.N4(g[z].Crv.v,x,R))}this.s3.j7(T,c,x,R);
this.D4=!1};aS.prototype.T=function(x){this.cf=JSON.parse(JSON.stringify(x));var R=this.cf.Crv.v;for(var z=0;
z<R.length;z++)if(R[z].v.Cnty==null)R[z].v.Cnty={t:"bool",v:!0};this.Gi()};aS.prototype.Gi=function(){var x=Math.floor(30*X.mM()),R=Math.floor(30*X.mM()),T=u.a1.N4(this.cf.Crv.v,x,R);
this.Rm.setAttribute("src",T);X.kk(this.Rm,x,R)};aS.prototype.h=function(){return JSON.parse(JSON.stringify(this.cf))};
function i2(x){ky.call(this);this.jr=null;this.Dn=null;this.Ks=null;this.fs=null;this.asF=[];this.a6T=[];
this.n=X._("span","fitem fillbutton");this.NG=new ky;this.NG.n=X._("div","floatcont form");this.NG.n.setAttribute("style","width: 21em;");
this.NG.parent=this;this.jQ=x;this.YS=this.YS=X._("label","flabel");this.n.appendChild(this.YS);this.V=X._("canvas");
this.xv=this.V.getContext("2d");this.a17=null;this.n.appendChild(this.V);X.Us(this.V,this.y1.bind(this));
this.Rj=new cZ([12,66],["","Color","Grad","Patt"]);this.NG.n.appendChild(this.Rj.n);this.Rj.k(v.E.p,this.S0,this);
this.NG.n.appendChild(X._("hr"));this.a86=X._("span");this.gk=new dW(!1);this.gk.parent=this.NG;this.gk.k(v.E.p,this.S0,this);
this.Y5=new jl(10);this.Y5.k(v.E.p,this.S0,this);this.W1=X._("div","marged hiline");this.W1.appendChild(this.gk.n);
X.pz(this.W1);this.W1.appendChild(this.Y5.n);this.m2=new c3("GrFl",!0);this.m2.parent=this.NG;this.m2.k(v.E.p,this.S0,this);
this.jU=X._("div","marged hiline");var R="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var z=0;
z<R.length;z++){var T=this.m2.px[R[z]].n;this.jU.appendChild(T)}this.$M=new c3("patternFill",!0);this.$M.parent=this.NG;
this.$M.k(v.E.p,this.S0,this);this.fp=X._("div","marged hiline");var R=["Ptrn","Angl","Scl","Algn","phase"];
for(var z=0;z<R.length;z++){var T=this.$M.px[R[z]].n;this.fp.appendChild(T)}}i2.prototype=new ky;i2.prototype.L4=function(x,R){var T=iC.FL(x,R);
if(T!=null)this.Y5.T(T);if(R==hc.n6){this.asF=[];this.a6T=[];if(this.jr)this.T(this.Ks,this.h(),this.jr)}this.Dn=x;
this.m2.L4(x,R);this.$M.L4(x,R)};i2.prototype.t=function(){this.YS.textContent=go.get(this.jQ)+": ";
this.Rj.t();this.gk.t();this.m2.t();this.$M.t()};i2.prototype.S0=function(x){var R=x.currentTarget;if(R==this.Rj){var T=this.Rj.h(),c={KI:T,TB:this.jr[T]};
if(T>0&&c.TB==null)c.TB=JSON.parse(JSON.stringify(fJ.dB[T-1]));if(this.jr)this.T(this.Ks,c,this.jr)}if(R==this.Y5)this.gk.M0(R.h());
this.c(new aA(v.E.p,!1))};i2.prototype.y1=function(x){if(X._b(this.NG.n))return;x.stopPropagation();
var R=this.V.getBoundingClientRect(),T=new aA(v.E.P,!0);T.data={d:v.H.fu,YR:this.NG,x:R.left,y:R.top+R.height+4};
this.c(T)};i2.prototype.T=function(x,R,T){this.jr=T;this.Ks=x;var c=[[13,1,0],[13,0],[12,37],[12,62]],g=this.asF,d=this.a6T,U=!1,J;
for(var z=0;z<4;z++){var e={KI:z,TB:T[z]},N=i2.a56(e);if(d[z]==N)continue;U=!0;var l=i2.akF(null,e,this.Dn,this.Ks,22,22,!1);
g[z]="<img width=\"22\" height=\"22\" src=\""+l+"\" />";d[z]=N}if(U)this.Rj.GN(g,c);this.Rj.T(R.KI);
var N=i2.a56(R);if(N!=this.a17)i2.akF(this.xv,R,this.Dn,this.Ks,30,23,!0);this.a17=N;var w=R.KI;if(w==0){J=this.a86}if(w==1){this.gk.T(R.TB.Clr.v);
J=this.W1}if(w==2){this.m2.update(x,R.TB);J=this.jU}if(w==3){this.$M.update(x,R.TB);J=this.fp}if(J!=this.fs){if(this.fs!=null){this.NG.n.removeChild(this.fs)}this.NG.n.appendChild(J);
this.fs=J}};i2.prototype.h=function(){var x={KI:this.Rj.h()};if(x.KI==1){x.TB=JSON.parse(JSON.stringify(fJ.dB[0]));
x.TB.Clr.v=this.gk.h()}if(x.KI==2){x.TB=this.m2.h()}if(x.KI==3){x.TB=this.$M.h()}return x};i2.a56=function(x){var R=x.KI,T=x.TB,c="empty";
if(R==1){c=u.I.ir(T.Clr.v);c=c.o+","+c.A+","+c.J}if(R==2)c=JSON.stringify(T.Grad.v);if(R==3)c=T.Ptrn.v.Idnt.v;
return c};i2.akF=function(x,R,T,c,g,d,U){if(x==null)x=i2.xv;var e=Math.floor(g*X.mM()),N=Math.floor(d*X.mM()),l=x.canvas;
l.width=e;l.height=N;X.kk(l,e,N);i2.S2(x,R,T,c,e,N);if(U){x.beginPath();x.strokeStyle="#000000";x.fillStyle="#ffffff";
x.lineWidth=2;var J=e*.7,w=Math.floor(N*.7),s=7*X.mM();x.moveTo(J,w);x.lineTo(J+s,w);x.lineTo(J+s/2,w+s/2);
x.closePath();x.stroke();x.fill()}if(x==i2.xv)return l.toDataURL()};i2.xv=X._("canvas").getContext("2d");
i2.S2=function(x,R,T,c,g,d,U,e){if(U==null)U=0;if(e==null)e=0;var N=R.KI;if(N==0){x.fillStyle="#ffffff";
x.fillRect(U,e,g,d);x.strokeStyle="#ff0000";x.lineWidth=2;x.moveTo(U,e);x.lineTo(U+g,e+d);x.moveTo(U,e+d);
x.lineTo(U+g,e);x.stroke()}if(N==1){var l=R.TB.Clr.v;l=u.I.ir(l);x.fillStyle="#"+u.TN(l.o<<16|l.A<<8|l.J);
x.fillRect(U,e,g,d)}if(N==2){var J=D.Xg.N4(R.TB.Grad.v,g,d,0,T.gR,T.tn,!0);x.putImageData(J,U,e)}if(N==3){var w=R.TB.Ptrn.v,s;
if(c!=null)s=e5.s2(w,c.add.Patt);if(s==null)s=e5.s2(w,T.hP);h_.N4(s,g,d,x.canvas)}};function h_(x){gl.call(this,x,!1,"patternbutton",18*13,10*13,hc.n6);
this.mg=null}h_.prototype=new gl;h_.prototype.mU=function(x){var R=this.v$[this.s3.h()];this.cf={classID:"Ptrn",Nm:{t:"TEXT",v:R.name},Idnt:{t:"TEXT",v:R.id}};
this.c(new aA(v.E.p));this.Gi()};h_.prototype._I=function(){if(!this.D4)return;var x=this.v$,R=Math.floor(34*X.mM()),T=Math.floor(34*X.mM()),c=[],g=[];
for(var z=0;z<x.length;z++){c.push(h_.N4(x[z],R,T));g.push(x[z].name)}this.s3.j7(c,g,R,T);this.D4=!1};
h_.prototype.T=function(x,R){if(this.cf&&x.Idnt.v==this.cf.Idnt.v)return;this.cf=JSON.parse(JSON.stringify(x));
this.Gi(R)};h_.prototype.h=function(){return JSON.parse(JSON.stringify(this.cf))};h_.prototype.gP=function(){return this.mg?[this.mg]:[]};
h_.prototype.Gi=function(x){var R=Math.floor(50*X.mM()),T=Math.floor(50*X.mM()),c;if(x!=null)c=e5.s2(this.cf,x.add.Patt);
if(c==null)c=e5.s2(this.cf,this.v$);this.mg=c;var g=h_.N4(c,R,T);this.Rm.setAttribute("src",g);X.kk(this.Rm,R,T)};
h_.V=X._("canvas","");h_.N4=function(x,R,T,c){if(c==null)c=h_.V;var g=c.getContext("2d");c.width=R;c.height=T;
if(x){var d=x.NR[1],U=d.m,e=d.e,N=x.NR[0],l=Math.min(R/U,T/e),J=l;if(J*U<2)J=2/U;var w=l;if(w*e<2)w=2/e;
var s=D.gW.ug([N,d],new gP(J,0,0,w,0,0),J>2),o=s.rect.m,V=s.rect.e,a=g.createImageData(o,V);u.kS(s.buffer,a.data);
g.putImageData(a,Math.floor((R-o)/2),Math.floor((T-V)/2))}return c.toDataURL()};function em(x,R,T){if(R==null)R=24.2;
if(T==null)T=17;gl.call(this,x,!1,"patternbutton",R*13,T*13,hc.dl);this.Sh=""}em.prototype=new gl;em.prototype.mU=function(x){this.cf=JSON.parse(JSON.stringify(this.v$[0][this.s3.h()[0]]));
this.c(new aA(v.E.p))};em.prototype._I=function(){var x=this.v$;if(x==null||!this.D4)return;var R=Math.floor(50*X.mM()),T=Math.floor(50*X.mM()),c=[],g=[];
for(var z=0;z<x[0].length;z++){c.push(em.N4(this.v$[0][z].U1,R,T,this.v$[1]));g.push(x[0][z].DN.Nm.v.split("=").pop())}this.s3.j7(c,g,R,T);
this.D4=!1};em.prototype.T=function(x,R,T,c){var g=JSON.stringify(x.U1)+","+T+","+c;if(this.Sh!=g){this.Sh=g;
this.cf=JSON.parse(JSON.stringify(x));this.Gi(R,T,c)}};em.prototype.h=function(){return JSON.parse(JSON.stringify(this.cf))};
em.prototype.Gi=function(x,R,T){var c=Math.floor(68*X.mM()),g=Math.floor(68*X.mM()),d=em.N4(this.cf.U1,c,g,x?x:this.v$[1],R,T);
this.Rm.setAttribute("src",d);X.kk(this.Rm,c,g)};em.N4=function(x,R,T,c,g,d){var U=new c9;U.m=R;U.e=T;
U.buffer=u.B(R*T*4);U.add.Patt=c;U.Um(g==null?90:g);U.Hq(d==null?30:d);var e=new aP(0,0,Math.round(R*.5),Math.round(T*.5));
e.x=Math.round((R-e.m)/2);e.y=Math.round((T-e.e)/2);var N=U.CH();N.rect=e;N.buffer=u.B(e.Z()*4);u.Qu(N.buffer,4284045657);
e5.apw(x,N,.5*100);U.R.push(N);U.Cg();U.W();var l=fq.tc;fq.tc=!1;U.jB();var J=U.Yr();fq.tc=l;var w=dp.DZ(J.buffer,U.m,U.e);
return w};function bk(x){gl.call(this,null,!1,"tpresetbutton",18*13,24*13,hc.ON,!0);X.ia(this.n,"fitem");
this.s3.b3(1);this.id=x;this.Gi();this.d.style.overflow="hidden";this.$q=new kv([15,7,9]);this.$q.T(!0);
this.$q.k(v.E.p,this.adE,this);this.Sf.appendChild(this.$q.n)}bk.prototype=new gl;bk.prototype.a82=function(x){if(this.id==x)return;
this.id=x;this.zB(this.v$)};bk.prototype.mU=function(x){var R=this.v$[this.s3.h()],T=new aA(v.E.P,!0);
T.data={d:v.H.pV,Ly:"set",vr:hc.ON,cs:R};this.c(T)};bk.prototype.t=function(){gl.prototype.t.call(this);
this.$q.t()};bk.prototype.adE=function(){this.D4=!0;this._I()};bk.prototype._I=function(){if(!this.D4)return;
var x=Math.floor(16*X.mM()),R=Math.floor(16*X.mM()),T=[],c=[],g=this.v$,d=this.$q.h();for(var z=0;z<g.length;
z++){var U=D.wR[g[z][1].classID];if(!d||U==this.id){c.push(g[z][0]?g[z][0].split("=").pop():"");T.push(U==-1?"":PIMG[D.Fi[U]])}else{T.push(null);
c.push(null)}}this.s3.j7(T,c,x,R);this.D4=!1};bk.prototype.Gi=function(){var x=this.Rm;x.setAttribute("src",PIMG[D.Fi[this.id]]);
X.MQ(x,"toolicon")};bk.prototype.gP=function(){return null};bk.Jq={};bk.N4=function(x,R,T){var c=bk.xv,g=bk.Jq,d=u.TN(x.o<<16|x.A<<8|x.J);
if(g[d])return g[d];if(c==null){var U=X._("canvas");c=bk.xv=U.getContext("2d")}var U=c.canvas;U.width=R;
U.height=T;c.fillStyle="#"+d;c.fillRect(0,0,R,T);var e=g[d]=U.toDataURL();return e};function aC(x,R,T){ky.call(this);
this.n=X._("span","fitem curveeditor");this.rf=null;this.axF=0;this._X="";this.mode=0;this.SB=x;this.avX=R;
this.agP=T;this.Jr=null;this.f6=null;this.atg=0;this.ayR=0;this.KL=new cI;this.xl=this.Ty.bind(this);
this.Ux=this.I7.bind(this);this.wC=256;this.V=X._("canvas");this.xv=this.V.getContext("2d");X.Bd(this.V);
this.n.appendChild(this.V);this.s7(256,256);X.Us(this.V,this.M4.bind(this));this.coords=X._("div");this.coords.setAttribute("style","width:250px");
this.n.appendChild(this.coords);var c=this.lE=T?100:255,g=null;this.s5=new i1("X (in)",0,c,g,0,!1,!0);
this.Xa=new i1("Y (out)",0,c,g,0,!1,!0);this.ky=new kv([19,3,0]);this.s5.k(v.E.p,this.YO,this);this.Xa.k(v.E.p,this.YO,this);
this.ky.k(v.E.p,this.YO,this);this.coords.appendChild(this.s5.n);if(T)this.coords.appendChild(this.ky.n);
this.coords.appendChild(this.Xa.n)}aC.prototype=new ky;aC.prototype.t=function(){this.ky.t();this.s5.t();
this.Xa.t()};aC.prototype.s7=function(x,R){this.wC=Math.round(x);this.xv.resetTransform();X.ja(this.V,this.wC,this.wC,this.xv);
this.xv.scale(this.wC/256,this.wC/256);if(this.Jr)this.Hm()};aC.prototype.YO=function(x){var z=this.aeZ(),R=this.Jr[z],T=255/this.lE;
R.v.Hrzn.v=this.s5.h()*T;R.v.Vrtc.v=this.Xa.h()*T;if(this.agP)R.v.Cnty.v=this.ky.h();this.Jr.sort(function(c,g){return c.v.Hrzn.v-g.v.Hrzn.v});
this.Hm();this.c(new aA(v.E.p))};aC.prototype.T=function(x,z){var R=JSON.stringify(x);if(R==JSON.stringify(this.Jr))return;
this.mode=x.length==256?1:0;this.Jr=JSON.parse(R);if(z!=null)this.f6=this.Jr[z];this.Hm()};aC.prototype.dp=function(x,R,T){this.rf=x;
this.axF=R;this._X=T;this.Hm()};aC.prototype.h=function(){return JSON.parse(JSON.stringify(this.Jr))};
aC.prototype.aeZ=function(){return this.Jr.indexOf(this.f6)};aC.prototype.M4=function(x){var R=256/this.wC,T=X.il(x,this.V);
T.x*=R;T.y*=R;var c=T.x,g=256-T.y;if(this.SB){var d=c;c=256-g;g=d}this.KL.LR(c,g);if(this.mode==0){var U=0,e=1e9,s;
for(var z=0;z<this.Jr.length;z++){var N=this.Jr[z].v,l=N.Hrzn.v-c,J=N.Vrtc.v-g,w=Math.sqrt(l*l+J*J);
if(w<e){e=w;U=z}}if(e<15)s=this.Jr[U];else{s=u.a1.eB(c,g,!0);this.Jr.push(s);this.Jr.sort(function(o,V){return o.v.Hrzn.v-V.v.Hrzn.v})}this.f6=s;
this.ayR=this.Jr.slice(0)}X.ri(document.body,this.xl);X.Xc(document.body,this.Ux);this.Ty(x)};aC.prototype.Ty=function(x){var R=256/this.wC,T=X.il(x,this.V);
T.x*=R;T.y*=R;var c=T.x,g=256-T.y;if(this.SB){var d=c;c=256-g;g=d}if(this.mode==0){var U=this.Jr,e=this.f6,N=this.ayR,l=N.indexOf(e),J=U.indexOf(e)!=-1,w=N.length-1,s=c;
if(l==0){s=Math.max(0,Math.min(N[1].v.Hrzn.v-1,c))}else if(l==w){s=Math.min(255,Math.max(N[w-1].v.Hrzn.v+1,c))}else{var o=c<0||c>255||g<0||g>255;
if(c<=N[l-1].v.Hrzn.v||c>=N[l+1].v.Hrzn.v)o=!0;if(!o&&!J)U.splice(l,0,e);if(o&&J)U.splice(l,1)}if(this.avX&&(l==0||l==N.length-1)){}else e.v.Hrzn.v=Math.round(s);
e.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(g)))}else{c=Math.round(c);g=Math.round(g);c=Math.max(0,Math.min(255,c));
g=Math.max(0,Math.min(255,g));var V=this.KL.x,a=c,O=this.KL.y,S=g;if(c<this.KL.x){a=V;V=c;S=O;O=g}this.Jr[c]=g;
if(V!=a)for(var L=V;L<=a;L++)this.Jr[L]=Math.round(O+(L-V)*(S-O)/(a-V))}this.KL.LR(c,g);this.Hm();this.c(new aA(v.E.p))};
aC.prototype.I7=function(x){X.Nx(document.body,this.xl);X.YL(document.body,this.Ux);this.c(new aA(v.E.p))};
aC.prototype.Hm=function(){var x=this.xv,R=this.V;x.fillStyle="#ffffff";x.fillRect(0,0,256,256);var T=256/R.width;
if(this.rf){x.save();x.translate(0,256);x.scale(1,-1);jp.a6u(x,this.rf,5700/this.axF,this._X);x.restore()}x.strokeStyle="#aaaaaa";
x.lineWidth=1*T;x.beginPath();for(var z=1;z<4;z++){var c=(Math.floor(64*z/T)+.5)*T;x.moveTo(0,c);x.lineTo(255,c);
x.moveTo(c,0);x.lineTo(c,255)}x.stroke();if(this.SB){x.save();x.transform(0,1,-1,0,256,0)}if(this.mode==0){var g=this.Jr,d=u.a1.Ez(g,256);
x.strokeStyle="#000000";x.beginPath();x.moveTo(0,255.5-d[0]);for(var z=0;z<256;z++)x.lineTo(z,255.5-d[z]);
x.stroke();x.lineWidth=2*T;for(var z=0;z<g.length;z++){var U=g[z].v;x.fillStyle=this.f6==g[z]?"#333":"#fff";
x.beginPath();x.moveTo(U.Hrzn.v,255.5-U.Vrtc.v);x.arc(U.Hrzn.v,255.5-U.Vrtc.v,5*T,0,2*Math.PI);x.stroke();
x.fill()}}else{var d=this.Jr;x.strokeStyle="#000000";x.beginPath();x.moveTo(0,255.5-d[0]);for(var z=0;
z<256;z++)x.lineTo(z,255.5-d[z]);x.stroke()}if(this.SB)x.restore();var z=this.aeZ();this.coords.className=z==-1?"disabled":"";
if(z==-1)return;var U=this.Jr[z].v,e=255/this.lE;this.s5.T(Math.round(U.Hrzn.v/e));this.Xa.T(Math.round(U.Vrtc.v/e));
if(U.Cnty)this.ky.T(U.Cnty.v)};function jp(x,R){ky.call(this);this.n=X._("span","");this.zn=new ad([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.zn.k(v.E.p,this.a5,this);this.n.appendChild(this.zn.n);X.pz(this.n);var T=X._("div");this.n.appendChild(T);
T.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.V=X._("canvas");var c=this.V;
T.appendChild(c);c.width=Math.round(x*X.mM());c.height=Math.round(100*X.mM());X.kk(c,c.width,c.height);
c.style.display="block";this.xv=c.getContext("2d");this.rf=null;this.YB=0;this.aCq=null;this.aAY=[];
this.PX=[];var g=["Mean:","Pixels:"],d=this.n;if(R)for(var z=0;z<g.length;z++){var U=new kk(g[z]);this.aAY.push(U);
d.appendChild(U.n);var e=new kk("hi");this.PX.push(e);d.appendChild(e.n);X.pz(d)}}jp.prototype=new ky;
jp.prototype.t=function(){this.zn.t()};jp.prototype.b3=function(x){this.zn.T(x);this.a5()};jp.prototype.T=function(x,R){this.rf=x;
this.aCq=R;this.a5()};jp.prototype.M0=function(x){if(x==this.YB)return;this.YB=x;this.a5()};jp.prototype.a5=function(){if(this.rf==null)return;
var x=this.V,R=this.xv,T=this.rf,c=this.aCq,g=this.zn.h(),d=6e3/T[4],U="#"+u.TN(this.YB),e=jp.a6u;x.width=x.width;
R.setTransform(x.width/256,0,0,-x.height/100,0,x.height);R.globalCompositeOperation="lighter";if(g==0)e(R,T[0],d/3,U);
else if(g<4)e(R,T[g],d,U);else{e(R,T[1],d,"#ff0000");e(R,T[2],d,"#00ff00");e(R,T[3],d,"#0000ff")}R.setTransform(1,0,0,1,0,0);
if(c!=null){if(g==4)g=0;var N=0;for(var z=0;z<256;z++)N+=z*T[g][z];if(g==0)N/=3;this.PX[0].T((N/c).toFixed(1)+"");
this.PX[1].T(c+"")}};jp.a6u=function(x,R,T,c){x.beginPath();x.moveTo(0,0);for(var g=0;g<256;g++)x.lineTo(g,R[g]*T);
x.lineTo(256,0);x.closePath();x.fillStyle=c;x.fill()};function jf(x,R){ky.call(this);this.$l={o:0,A:0,J:0};
if(Math.abs(x-256/X.mM())<10)x=256/X.mM();var T=this.n=X._("div","flexrow");T.style.position="relative";
var c=this.ay0=X._("div");T.appendChild(c);this.bC=new cI;this.w$=new cI;this.NS=this.eg.bind(this);
this.HC=this.a9j.bind(this);this.V=X._("canvas","");this.xv=this.V.getContext("2d");this.V.width=this.V.height=256;
this.avM=this.xv.getImageData(0,0,256,256);this.axq=-1;this.and="";this.Ds=null;X.Bd(this.V);X.Us(this.V,this.aCd.bind(this));
c.appendChild(this.V);this.abo=this.a8_.bind(this);this.aCc=this.aqr.bind(this);this.TG=X._("canvas","");
this.MB=this.TG.getContext("2d");this.TG.width=20;this.TG.height=256;this.aeO=this.MB.getImageData(0,0,20,256);
jf.ae2(this.aeO.data,20,256);X.Bd(this.TG);X.Us(this.TG,this.aqM.bind(this));T.appendChild(this.TG);
this.V.setAttribute("style","width:"+x+"px; height:"+x+"px");this.TG.setAttribute("style","width:16px; height:"+x+"px");
this.Wc=new kv("Web Colors\u2001");this.Wc.k(v.E.p,this.update,this);this.oA=new kv("CMYK gamut");this.oA.k(v.E.p,this.update,this);
if(R){X.pz(c);c.appendChild(this.Wc.n);c.appendChild(this.oA.n)}var g=this.Td=document.createElementNS("http://www.w3.org/2000/svg","svg");
T.appendChild(g)}jf.prototype=new ky;jf.prototype.s7=function(x,R){this.V.style.width=this.ay0.style.width=x-16+"px"};
jf.prototype.T=function(x){if(this.Wc.h()){var R=JSON.parse(JSON.stringify(x));jf._W(R);var T=this.h();
if(R.o==T.o&&R.A==T.A&&R.J==T.J)x=this.$l}this.$l=x;this.update()};jf.prototype.h=function(){var x=JSON.parse(JSON.stringify(this.$l));
if(this.Wc.h())jf._W(x);return x};jf.prototype.update=function(){var x=this.$l,R=u.c3(x.o,x.A,x.J),e=18;
if(R.hu==0)R.Kt=this.bC.x/255;if(R.Kt==0||R.hu==0)R.kh=(255-this.vY(this.w$.y))/255;if(R.hu!=0)this.bC.x=R.Kt*255;
this.bC.y=(1-R.hu)*255;this.w$.y=(1-R.kh)*255;var T=this.avM,c=this.Wc.h(),g=this.oA.h(),d=c+","+g;if(Math.abs(R.kh-this.axq)>.002||this.and!=d){this.al4(T.data,256,256,R.kh,c,g);
this.avo();this.axq=R.kh;this.and=d}var U=this.xv;U.putImageData(T,0,0);T=this.aeO;U=this.MB;U.putImageData(T,0,0);
U.strokeStyle="#ffffff";U.beginPath();U.moveTo(0,this.w$.y);U.lineTo(20,this.w$.y);U.lineWidth=2;U.stroke();
var N=this.bC.y/255,l=parseFloat(this.V.style.width),J=parseFloat(this.V.style.height),w=this.Td;w.setAttribute("width",e);
w.setAttribute("height",e);var s=Math.round(x.o*255)<<16|Math.round(x.A*255)<<8|Math.round(x.J*255),o="<circle cx=\""+e/2+"\" cy=\""+e/2+"\" r=\""+e/2+"\" fill=\"#"+u.TN(s)+"\"></circle>";
o+="<circle cx=\""+e/2+"\" cy=\""+e/2+"\" r=\""+(-.5+e/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*N)+")\" stroke-width=\"1\"></circle>";
o+="<circle cx=\""+e/2+"\" cy=\""+e/2+"\" r=\""+(-1.2+e/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
w.innerHTML=o;w.style.pointerEvents="none";w.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
w.style.position="absolute";w.style.left=l*(this.bC.x/255)-e/2+"px";w.style.top=J*(this.bC.y/255)-e/2+"px"};
jf._W=function(x){x.o=~~(.5+x.o*5)*.2;x.A=~~(.5+x.A*5)*.2;x.J=~~(.5+x.J*5)*.2};jf.prototype.al4=function(x,R,T,c,g,d){var U=1/R,e=1/T;
for(var N=0;N<T;N++)for(var l=0;l<R;l++){var J=u.oC(c,l*U,(T-N-1)*e);if(g)jf._W(J);var z=N*R+l<<2;x[z+0]=~~(J.o*255);
x[z+1]=~~(J.A*255);x[z+2]=~~(J.J*255);x[z+3]=255}if(d){var w=x.slice(0),s=u.ZO("rgbToRgbC"),o=s[2],V=s[3];
ICC.U.applyLUT(V,o,w,w);this.Ds=u.B(R*T);for(var z=0;z<x.length;z+=4){var a=x[z]-w[z],O=x[z+1]-w[z+1],S=x[z+2]-w[z+2],L=a*a+O*O+S*S;
if(L>300){x[z]=x[z+1]=x[z+2]=200;this.Ds[z>>>2]=255}}}};jf.ae2=function(x,R,T,c,g){if(c==null)c=1;if(g==null)g=0;
var d=new Uint32Array(x.buffer);for(var U=0;U<T;U++){var e=u.oC((1+c*(1-U/T)+g)%1,1,1),N=255<<24|e.J*255<<16|e.A*255<<8|e.o*255;
for(var l=0;l<R;l++)d[U*R+l]=N}};jf.prototype.aCd=function(x){X.ri(window,this.NS);X.Xc(window,this.HC);
this.eg(x);this.Td.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.Td.style.transform="scale(2.4)"};
jf.prototype.a9j=function(x){X.Nx(window,this.NS);X.YL(window,this.HC);this.Td.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.Td.style.transform="scale(1)"};jf.prototype.eg=function(x){var R=X.il(x,this.V);R.x=R.x*(256/parseFloat(this.V.style.width));
R.y=R.y*(256/parseFloat(this.V.style.height));this.bC.LR(this.vY(R.x),this.vY(R.y));this.avo();this.DV()};
jf.prototype.avo=function(){if(!this.oA.h())return;var x=this.bC,R=0,T=0,c=1e9;for(var g=0;g<256;g++){for(var d=0;
d<256;d++){if(this.Ds[g*256+d]==255)continue;var U=d-x.x,e=g-x.y,N=U*U+e*e;if(N<c){R=d;T=g;c=N}}}x.x=R;
x.y=T};jf.prototype.DV=function(){this.$l=this.ahI();this.c(new aA(v.E.p))};jf.prototype.ahI=function(){var x=u.oC((255-this.vY(this.w$.y))/255,this.jL(this.bC.x/255),this.jL(1-this.bC.y/255));
return{o:x.o,A:x.A,J:x.J}};jf.prototype.aqM=function(x){X.ri(window,this.abo);X.Xc(window,this.aCc);
this.a8_(x)};jf.prototype.aqr=function(x){X.Nx(window,this.abo);X.YL(window,this.aCc)};jf.prototype.a8_=function(x){var R=X.il(x,this.TG);
R.y=R.y*(256/parseFloat(this.TG.style.height));this.w$.LR(this.vY(R.x),this.vY(R.y));this.DV()};jf.prototype.vY=function(x){return Math.max(0,Math.min(255,x))};
jf.prototype.jL=function(x){return Math.max(0,Math.min(1,x))};function kj(x,R,T,c){var g=cZ.vk(R,c);
cZ.call(this,x,g,T)}kj.prototype=new cZ;function iL(){ky.call(this);this.im=null;this.a8=new e1;this.a8.k(v.E.p,this.a9y,this);
this.a8.parent=this;this.QE=new i1([12,14,0],1,150,"px",0,!0);this.QE.k(v.E.p,this.EX,this);this.QE.parent=this;
this.H0=new i1([16,0],.01,100,"px",2,!0,null,5);this.H0.k(v.E.p,this.EX,this);this.H0.parent=this;this.E0=new kv("Auto");
this.E0.k(v.E.p,this.EX,this);this.Fp=new i1([16,1],-500,5e3,"%",0,!0);this.Fp.k(v.E.p,this.EX,this);
this.Fp.parent=this;this.eQ=new i1("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.eQ.k(v.E.p,this.EX,this);
this.eQ.parent=this;this.E_=new i1("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.E_.k(v.E.p,this.EX,this);
this.E_.parent=this;this.QR=new i1([16,2],-10,10,"px");this.QR.k(v.E.p,this.EX,this);this.QR.parent=this;
this.Q$=new dW(!0);this.Q$.k(v.E.p,this.Wx,this);this.Q$.parent=this;this.b9=new dW(!0);this.b9.k(v.E.p,this.Wx,this);
this.b9.parent=this;this.a7=new dW(!0);this.a7.k(v.E.p,this.Wx,this);this.a7.parent=this;this.Yd=new dW(!0);
this.Yd.k(v.E.p,this.Wx,this);this.Yd.parent=this;this.QA=new kv([2,3]);this.QA.k(v.E.p,this.EX,this);
this.$N=new kv([14,9]);this.$N.k(v.E.p,this.EX,this);this.I5=new kv([12,46]);this.I5.k(v.E.p,this.EX,this);
this.JY=new i_("...",null,null,!0);this.JY.n.style.marginLeft="-8px";X.Us(this.JY.n,this.agA.bind(this));
this.NG=new ky;var x=this.NG.n=X._("div","floatcont form"),g=100;this.NG.parent=this;this.YW=new i1([12,41],1,20,"px",0,!0,!0);
this.YW.n.style.marginLeft="16px";this.YW.k(v.E.p,this.EX,this);this.YW.parent=this.NG;x.appendChild(this.b9.n);
x.appendChild(this.QA.n);X.pz(this.NG.n);x.appendChild(this.a7.n);x.appendChild(this.$N.n);x.appendChild(this.YW.n);
X.pz(this.NG.n);x.appendChild(this.Yd.n);x.appendChild(this.I5.n);this.Di=new i_("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.Ep=new i_("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.Wr=new i_("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.mI=new i_("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.KE=new i_("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.fT=new i_("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.xT=new i_("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.EE=new i_("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var R=[this.Di,this.Ep,this.Wr,this.mI,this.KE,this.fT,this.xT,this.EE];
for(var z=0;z<R.length;z++)R[z].k("click",this.ayq,this);this.un=new i_("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.E4=new i_("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.BY=new i_("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.aiY=new i_("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.agC=new i_("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.azv=new i_("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.ahG=new i_("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.Y9=[this.un,this.E4,this.BY,this.aiY,this.agC,this.azv,this.ahG];for(var z=0;z<this.Y9.length;z++)this.Y9[z].k("click",this.EX,this);
var T=["lind","rind","flind","bind","aind"],c=[];for(var z=0;z<5;z++)c.push("<img src=\""+PIMG["par/"+T[z]]+"\" class=\"autoscale gsicon\" /> ");
this.ko=new i1(c[0],-g,g,"px");this.ln=new i1(c[1],-g,g,"px");this.k4=new i1(c[2],-g,g,"px");this.RR=new i1(c[3],-g,g,"px");
this.wQ=new i1(c[4],-g,g,"px");this.wi=new cZ([12,33],["Abc ...","... أي بي"]);this.w3=new i1(["Auto VAR0",[16,0]],0,500,"%");
this.HR=[this.ko,this.ln,this.k4,this.RR,this.wQ,this.wi,this.w3];for(var z=0;z<this.HR.length;z++){var d=this.HR[z];
d.k(v.E.p,this.EX,this);d.parent=this}}iL.prototype=new ky;iL.prototype.agA=function(x){if(X._b(this.NG.n))return;
x.stopPropagation();var R=this.JY.n.getBoundingClientRect(),T=new aA(v.E.P,!0);T.data={d:v.H.fu,YR:this.NG,x:R.left,y:R.top+R.height+4};
this.c(T)};iL.prototype.t=function(){this.a8.t();this.QE.t();this.H0.t();this.Fp.t();this.QR.t();this.eQ.t();
this.E_.t();this.QA.t();this.$N.t();this.I5.t();this.YW.t();for(var z=0;z<this.HR.length;z++)this.HR[z].t()};
iL.prototype.T=function(x,R,T){this.iT=JSON.parse(JSON.stringify(x));var c=this.iT,g=c.Ba,d=c.qi;this.Di.T(g.FauxBold!=null?g.FauxBold:!1);
this.Ep.T(g.FauxItalic!=null?g.FauxItalic:!1);this.Wr.T(g.FontCaps==2);this.mI.T(g.FontCaps==1);this.fT.T(g.FontBaseline==1);
this.KE.T(g.FontBaseline==2);this.xT.T(g.Underline);this.EE.T(g.Strikethrough);this.a8.T(g.Font==null?null:c.uY[g.Font].Name,R,T);
var U=g.FontSize==null?20:g.FontSize;this.QE.T(U);var e=g.Tracking;this.Fp.T(e==null?0:e);this.YW.T(g._LineWidth!=null?g._LineWidth:1);
this.H0.T(g.Leading!=null&&g.Leading!=0?g.Leading:U);this.E0.T(g.AutoLeading);this.eQ.T((g.VerticalScale!=null?g.VerticalScale:0)*100);
this.E_.T((g.HorizontalScale!=null?g.HorizontalScale:0)*100);this.QR.T(g.BaselineShift!=null?g.BaselineShift:0);
this.QA.T(g.FillFlag!=null?g.FillFlag:!1);this.$N.T(g.StrokeFlag!=null?g.StrokeFlag:!1);this.I5.T(g._FillBackgroundFlag!=null?g._FillBackgroundFlag:!1);
this.pB(g.FillColor,this.Q$);this.pB(g.FillColor,this.b9);this.pB(g.StrokeColor,this.a7);this.pB(g._FillBackgroundColor,this.Yd);
var N=d._Direction!=null?d._Direction:0,l=bL.hy(d);for(var z=0;z<this.Y9.length;z++)this.Y9[z].T(l==z);
this.wi.T(N);this.w3.T((d.AutoLeading!=null?d.AutoLeading:1.2)*100);this.ko.T(d.StartIndent!=null?d.StartIndent:0);
this.ln.T(d.EndIndent!=null?d.EndIndent:0);this.k4.T(d.FirstLineIndent!=null?d.FirstLineIndent:0);this.RR.T(d.SpaceBefore!=null?d.SpaceBefore:0);
this.wQ.T(d.SpaceAfter!=null?d.SpaceAfter:0)};iL.prototype.pB=function(x,R){if(x){var T=bL.ir(x);R.M0(Math.round(T.o)<<16|Math.round(T.A)<<8|Math.round(T.J))}else R.M0(0)};
iL.prototype.Oc=function(){var x=new aA(v.E.P,!0);x.data={d:v.H.pV,vr:hc.q3,iT:this.iT};this.c(x);var x=new aA(v.E.v,!0);
x.f=D.kY;x.data={d:"updateStyles"};this.c(x)};iL.prototype.ayq=function(x){var R=this.iT.Ba,T=x.target,c=!T.KT();
if(T==this.Di)R.FauxBold=c;if(T==this.Ep)R.FauxItalic=c;if(T==this.Wr)R.FontCaps=c?2:0;if(T==this.mI)R.FontCaps=c?1:0;
if(T==this.fT)R.FontBaseline=c?1:0;if(T==this.KE)R.FontBaseline=c?2:0;if(T==this.xT)R.Underline=c;if(T==this.EE)R.Strikethrough=c;
this.Oc()};iL.prototype.EX=function(x){var R=this.iT.Ba,T=this.iT.qi,c=x.target;if(c==this.Fp){var g=this.Fp.h();
R.Tracking=g}if(c==this.H0){R.AutoLeading=!1;R.Leading=this.H0.h()}if(c==this.E0){R.AutoLeading=this.E0.h()}if(c==this.YW)R._LineWidth=c.h();
if(c==this.QE)R.FontSize=c.h();if(c==this.eQ)R.VerticalScale=c.h()/100;if(c==this.E_)R.HorizontalScale=c.h()/100;
if(c==this.QR)R.BaselineShift=c.h();if(c==this.QA)R.FillFlag=c.h();if(c==this.$N)R.StrokeFlag=c.h();
if(c==this.I5)R._FillBackgroundFlag=c.h();if(this.Y9.indexOf(c)!=-1){T.Justification=bL.hy(T,this.Y9.indexOf(c))}if(c==this.ko)T.StartIndent=c.h();
if(c==this.ln)T.EndIndent=c.h();if(c==this.k4)T.FirstLineIndent=c.h();if(c==this.RR)T.SpaceBefore=c.h();
if(c==this.wQ)T.SpaceAfter=c.h();if(c==this.wi)T._Direction=c.h();if(c==this.w3)T.AutoLeading=c.h()/100;
this.Oc()};iL.prototype.a9y=function(x){var R=this.iT,T=this.a8.h(),c=-1;for(var z=0;z<R.uY.length;z++)if(R.uY[z].Name==T)c=z;
if(c==-1){c=R.uY.length;var g=JSON.parse(JSON.stringify(R.uY[0]));g.Name=T;R.uY.splice(c,0,g)}R.Ba.Font=c;
this.Oc()};iL.prototype.Wx=function(x){var R=x.target,T=R.bz(),c={Type:1,Values:[1,(T>>16&255)/255,(T>>8&255)/255,(T>>0&255)/255]};
for(var z=0;z<4;z++)c.Values[z]=Math.round(c.Values[z]*1e3)/1e3;var g=R==this.Q$||R==this.b9?0:R==this.a7?1:2;
this.iT.Ba[["FillColor","StrokeColor","_FillBackgroundColor"][g]]=c;this.Oc()};function e1(){ky.call(this);
this.n=X._("span","fontinput");this.X_=null;this.Nj=null;this.gS=null;this.V7="";this.lo={};this.O3=[];
this.ql={};this.a6c={};this.Hd=[];this.d6=!1;this.Ib=X._("button","fitem");this.Ib.setAttribute("style","width:9em;");
this.Ib.textContent="Family Name \u25BC";this.n.appendChild(this.Ib);X.Us(this.Ib,this.a9l.bind(this));
this.l9=new ky;this.l9.parent=this;var x=this.l9.n=X._("div","floatcont");x.style.padding="7px 7px 3px 7px";
var R=new kk("Recent");x.appendChild(R.n);var T=this.aBG=new i_([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
T.k("click",this.acL,this);T.n.style.float="right";x.appendChild(T.n);var c=this.hk=new kv("Local Fonts");
c.k(v.E.p,this.alZ,this);c.n.style.float="right";c.n.style.marginRight="10px";c.n.style.marginTop="3px";
x.appendChild(c.n);X.pz(x);this.Yk=X._("span","fitem imageset scrollable");this.Yk.style.maxHeight="8em";
x.appendChild(this.Yk);var g=X._("div","form");this.l9.n.appendChild(g);this.pk=new i_(X.t6("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.pk.k("click",this.auS,this);g.appendChild(this.pk.n);this.wO=new kD([12,86],null,7.5);this.wO.k("input",this.Sr,this);
g.appendChild(this.wO.n);this.Rl=new dQ(10,"\u2630");g.appendChild(this.Rl.n);this.Rl.parent=this.l9;
this.Rl.k(v.E.p,this.Bi,this);this.Rl.n.style.float="right";this.Rl.n.style.marginRight="0";this.Fj=X._("span","fitem imageset scrollable");
this.Fj.style.height="30em";this.l9.n.appendChild(this.Fj);this.Fj.addEventListener("scroll",this.a6C.bind(this),!1);
this.Rs=X._("button","fitem");this.Rs.setAttribute("style","width:7em;");this.Rs.textContent="SubFamily Name \u25BC";
this.n.appendChild(this.Rs);X.Us(this.Rs,this.a9l.bind(this));this.XP=new ky;this.XP.parent=this;this.XP.n=X._("div","floatcont");
this.q$=X._("span","fitem imageset scrollable");this.XP.n.appendChild(this.q$);this.atQ=this.aji.bind(this);
this.acp=this.ak3.bind(this)}e1.prototype=new ky;e1.prototype.alZ=function(x){ed.EL.Dd(x.target.h(),function(){this.T();
this.Bi()}.bind(this),function(){this.hk.T(!1)}.bind(this));this.Bi()};e1.prototype.a6C=function(x){var R=this.Fj.scrollTop,T=this.O3,c=Math.floor(R/27),g=Math.min(c+20,T.length);
for(var z=c;z<g;z++)this.aeh(T[z])};e1.prototype.acL=function(){var x=new aA(v.E.P,!0);x.data={d:v.H.au,a7E:".otf,.ttf,.ttc"};
this.c(x)};e1.prototype.t=function(){this.Rl.t();this.aBG.t();this.hk.T(ed.EL.KT());this.pk.W7(X.t6("tools/cshape",null,"autoscale"))};
e1.prototype.auS=function(x){this.pk.T(!this.pk.KT());this.Bi()};e1.prototype.Sr=function(x){this.V7=this.wO.h().toLowerCase();
this.Bi()};e1.prototype.a9l=function(x){X.Ri(x);var R=x.currentTarget,T=R.getBoundingClientRect(),c=R==this.Ib,g=c?this.l9:this.XP;
if(X._b(g.n)){this.a4S(g);return}if(!c&&this.X_.rO()[this.gS]==null)return;var d=new aA(v.E.P,!0);d.data={d:v.H.fu,YR:g,x:T.left,y:T.top+T.height};
this.c(d);if(c){this.Bi(null,!0)}};e1.prototype.aji=function(x){var R=x.currentTarget.firstChild.nextSibling.textContent;
if(x.target.tagName.toLowerCase()=="button"){var T=this.Nj.slice(0),c=T.indexOf(R);if(c==-1){T=T.slice(Math.max(0,T.length-29));
T.push(R)}else T.splice(c,1);var g=new aA(v.E.P,!0);g.data={d:v.H.pV,vr:hc.ce,SN:T};this.c(g);this.d6=!0;
this.Bi()}else{this.a7M(R,null)}};e1.prototype.ak3=function(x){this.a7M(null,x.currentTarget.firstChild.textContent)};
e1.prototype.a7M=function(x,R){var T=x==null?this.XP:this.l9,c=this.X_;if(x==null)x=c.rO()[this.gS][0];
else{var g=c.QZ(x),d=c.rO()[this.gS];R=ed._u(g,d?d[1]:"regular")}var U=c.OJ(x,R)[2];this.T(U,c);this.c(new aA(v.E.p,!1));
this.a4S(T);this.Bi()};e1.prototype.a4S=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.Qg,YR:x};this.c(R)};
e1.prototype.h=function(){return this.gS};e1.prototype.T=function(x,R,T){var c=this.X_;if(x!=null)this.gS=x;
else x=this.gS;if(R)this.X_=R;else R=this.X_;if(T)this.Nj=T;else T=this.Nj;if(x!=null){var g=R.rO()[x],d,U;
if(g==null){d="- "+x;U="-------"}else{d=g[0];U=g[1];var e=this.Hd;for(var z=0;z<e.length;z++)if(e[z][0][0]==d)e.splice(z,1);
e.push([g,Date.now()]);e.sort(function(w,s){return s[1]-w[1]});e=e.slice(0,10);X.Ra(this.Yk);for(var z=1;
z<e.length;z++){var N=e[z][0],l=this.HE(N,!0);this.GC(l,N,!0);this.Yk.appendChild(l)}var J=R.QZ(d);J.sort(ed.afk);
this.q$.textContent="";for(var z=0;z<J.length;z++){var g=R.OJ(d,J[z]);if(!this.Rl.gE(g))continue;var l=this.HE(g,!1);
this.q$.appendChild(l)}}this.Ib.textContent=d.substring(0,15)+" \u25BC";this.Ib.setAttribute("title",d+", \""+x+"\"");
this.Rs.textContent=U.substring(0,10)+" \u25BC";this.Rs.setAttribute("title",U)}};e1.prototype.Bi=function(x,R){var T=this.X_.rO()[this.gS],c=this.Nj,g=this.X_.HF();
this.O3=[];var d=this.hk.h();for(var U in g){var e=c.indexOf(U)!=-1,N=this.X_.QZ(U),l=!1;for(var z=0;
z<N.length;z++){var J=this.X_.OJ(U,N[z]),w=!0;if(this.V7.length>0&&J[0].toLowerCase().indexOf(this.V7)==-1)w=!1;
else if(!this.Rl.gE(J))w=!1;else if(this.pk.KT()&&!e)w=!1;else if(J[5]=="--loc"&&!d)w=!1;if(w)l=!0}var s=this.lo[U];
if(s==null){var o=ed._u(g[U],"regular"),V=this.X_.OJ(U,o),s=this.HE(V,!0);this.lo[U]=s;this.Fj.appendChild(s);
this.ql[U]="[true,false,false]"}if(l)this.O3.push(U);var a=T!=null&&T[0]==U;this.a6c[U]="["+l+","+a+","+e+"]";
if(!R)this.aeh(U)}if(T&&!this.d6){var O=this.lo[T[0]];this.Fj.scrollTop=O.offsetTop-210}this.a6C();this.d6=!1};
e1.prototype.aeh=function(x){var R=this.lo[x];if(R.firstChild==null){var T=this.X_.HF(),c=ed._u(T[x],"regular"),g=this.X_.OJ(x,c);
this.GC(R,g,!0)}var d=this.ql[x],U=this.a6c[x];if(d==U)return;var e=JSON.parse(d),N=JSON.parse(U);if(e[0]!=N[0]||e[1]!=N[1]){var l=N[0]?"":"display:none; ";
if(N[1])l+="background-color:rgba(0,0,0,0.13);";R.setAttribute("style",l)}if(e[2]!=N[2])R.firstChild.setAttribute("style","opacity: "+(N[2]?"1":"0.2"));
this.ql[x]=U};e1.prototype.HE=function(x,R){var T=X._("div","fontitem");if(!R)this.GC(T,x,R);return T};
e1.prototype.GC=function(x,R,T){var c=R[T?0:1],g=T?this.atQ:this.acp,N="";x.addEventListener("click",g,!1);
if(T)x.appendChild(X._("button","star"));var d=X._("span","label");d.setAttribute("title",c);d.textContent=c;
x.appendChild(d);var U=X.mM(),e=1/U,l=ed.Lk*e,J=ed.DI*e;if(1<U&&U<1.5)N="width:"+l+"px; height:"+J+"px;";
var w=X._("span","thumb gsicon");if(R.i3){N+="background: url("+R.i3+");";if(1<U&&U<1.5)N+="background-size: "+l+"px "+J+"px;"}else{var s=Math.ceil(FNTS.list.length/ed.cols),o=Math.floor(R.iY/ed.cols),V=R.iY-o*ed.cols,a=V*ed.Lk,O=o*ed.DI;
if(1<U&&U<1.5){N+="background-size: "+ed.cols*l+"px "+s*J+"px;";a*=e;O*=e}N+="background-position:-"+a+"px -"+O+"px;"}w.setAttribute("style",N);
x.appendChild(w)};function dQ(x,R){ky.call(this);this.n=X._("button","fitem bbtn");this.n.addEventListener("click",this.aoB.bind(this),!1);
this.NG=new ky;this.NG.n=X._("div","floatcont");this.NG.parent=this;this.mK=X._("div","flexrow");this.NG.n.appendChild(this.mK);
this.CV=R;this.cy=[];this.sr=[];var T=this.mK,c=X._("div",""),g=X._("div","");T.appendChild(c);T.appendChild(g);
this.fX=[];for(var z=0;z<FNTS.cats.length;z++)this.fX.push({name:FNTS.cats[z],index:z,F$:0});this.nW=new kv([7,0]);
this.nW.T(!0);this.nW.k(v.E.p,this.aj2,this);c.appendChild(this.nW.n);this.x9=X._("div","vlist marged scrollable");
this.x9.setAttribute("style","width:10.3em; height:"+x+"em; ");c.appendChild(this.x9);this.z0=[];for(var z=0;
z<this.fX.length;z++){var d=this.fX[z],U=new kv(d.name);this.z0.push(U);U.k(v.E.p,this.ah2,this);U.T(!0);
this.x9.appendChild(U.n);this.cy.push(1)}this.amq=new kv([7,0]);this.amq.k(v.E.p,this.a6h,this);this.iN=X._("div","vlist marged scrollable");
this.iN.setAttribute("style","width:8.6em; height:"+(x+1.5)+"em; ");g.appendChild(this.iN);this.Hz=[];
for(var z=0;z<FNTS.subsetNames.length;z++){var U=new kv(FNTS.subsetNames[z]);this.Hz.push(U);U.k(v.E.p,this.avd,this);
U.T(!1);this.iN.appendChild(U.n);this.sr.push(U.h()?1:0)}}dQ.prototype=new ky;dQ.prototype.au6=function(x){var R=this.Hz;
for(var z=0;z<R.length;z++){var T=(x>>>z&1)==1;this.sr[z]=T;R[z].T(T)}};dQ.prototype.aij=function(){return this.mK};
dQ.prototype.t=function(){this.n.textContent=this.CV?this.CV:go.get([25,1,0])+" \u25BC";this.nW.t();
this.amq.t()};dQ.prototype.aoB=function(x){var R=this.n.getBoundingClientRect(),T=new aA(v.E.P,!0);T.data={d:v.H.fu,YR:this.NG,x:R.left,y:R.top+R.height,eF:!1};
this.c(T)};dQ.prototype.gE=function(x){if(this.cy[x[4]]==0)return!1;else for(var R=0;R<this.sr.length;
R++)if(this.sr[R]==1&&(x[3]>>>R&1)==0)return!1;return!0};dQ.prototype.aj2=function(x){var R=x.target.h(),T=this.z0,c=this.cy;
for(var z=0;z<T.length;z++){T[z].T(R);c[z]=R?1:0}this.c(new aA(v.E.p,!1))};dQ.prototype.a6h=function(x){var R=x.target.h(),T=this.Hz,c=this.sr;
for(var z=0;z<T.length;z++){T[z].T(R);c[z]=R?1:0}this.c(new aA(v.E.p,!1))};dQ.prototype.ah2=function(x){var z=this.z0.indexOf(x.target),R=this.fX[z].index;
this.cy[R]=1-this.cy[R];this.c(new aA(v.E.p,!1));this.aw$(this.z0,this.nW)};dQ.prototype.avd=function(x){var z=this.Hz.indexOf(x.target);
this.sr[z]=1-this.sr[z];this.c(new aA(v.E.p,!1))};dQ.prototype.aw$=function(x,R){var c=!0;for(var z=0;
z<x.length;z++)c=c&&x[z].h();R.T(c)};function d5(x,R,T){gl.call(this,R,!0,"gradientbutton",18*13,10*13,hc.p2);
this.gR=-1;this.tn=-1;this.azc=null;this.at2=x;this.Cp=T}d5.prototype=new gl;d5.prototype.mU=function(x){var R=this.v$;
this.T(R[this.s3.h()]);this.c(new aA(v.E.p))};d5.prototype.IN=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.i$,$k:"gradienteditor",I:this.cf,FO:this.aer.bind(this),VG:this.Cp};
this.c(R)};d5.prototype.aer=function(x){this.T(x);this.c(new aA(v.E.p))};d5.prototype._I=function(){if(!this.D4)return;
var x=Math.floor(36*X.mM()),R=Math.floor(36*X.mM()),T=[],c=[],g=this.v$,d=Date.now();for(var z=0;z<g.length;
z++){var U=g[z];c.push(U.Nm?U.Nm.v:"");var e=D.Xg.N4(U,x,R,Math.PI/4,this.gR,this.tn);T.push(e)}this.s3.j7(T,c,x,R);
this.D4=!1};d5.prototype.dv=function(x,R){this.alL(this.cf,x,R)};d5.prototype.T=function(x){this.alL(x,this.gR,this.tn)};
d5.prototype.alL=function(x,R,T){this.gR=R;this.tn=T;if(x==null)return;var c=JSON.stringify(x),g=c+R+","+T;
if(g==this.azc)return;this.azc=g;this.cf=JSON.parse(c);var d=Math.floor(80*X.mM()),U=Math.floor(16*X.mM()),e=D.Xg.N4(this.cf,d,U,0,this.gR,this.tn);
this.Rm.setAttribute("src",e);X.kk(this.Rm,d,U)};d5.prototype.h=function(){var x;if(this.at2)x=D.Xg.a8J(this.cf,this.gR,this.tn);
else x=JSON.parse(JSON.stringify(this.cf));return x};function iq(x){gl.call(this,x,!1,"swatchbutton",16*13,8.75*13,hc.vm)}iq.prototype=new gl;
iq.prototype.mU=function(x){this.T(this.v$[x.target.h()]);this.c(new aA(v.E.p))};iq.prototype._I=function(){if(!this.D4)return;
var x=Date.now(),R=Math.floor(10*X.mM()),T=Math.floor(10*X.mM()),c=[],g=[],d=this.v$;for(var z=0;z<d.length;
z++){g.push(d[z].hB?d[z].hB.split("=").pop():"");c.push(iq.N4(d[z],R,T))}this.s3.j7(c,g,R,T);this.D4=!1};
iq.prototype.T=function(x){this.cf=JSON.parse(JSON.stringify(x));this.Gi()};iq.prototype.Gi=function(){var x=Math.floor(24*X.mM()),R=Math.floor(20*X.mM()),T=iq.N4(this.cf,x,R);
this.Rm.setAttribute("src",T);X.kk(this.Rm,x,R)};iq.prototype.h=function(){return JSON.parse(JSON.stringify(this.cf))};
iq.Jq={};iq.N4=function(x,R,T){var c=255<<24|u.o8(x),g=":"+c,d=iq.Jq;if(d[g])return d[g];var U=new Uint32Array(R*T);
U.fill(c);var e=UPNG.encode([U.buffer],R,T),N=d[g]="data:image/png;base64,"+dp.SU(e);return N};function bv(x,R,T){ky.call(this);
this.n=X._(T?"div":"span");var c=this.st=X._("input");this.st.setAttribute("type","file");if(R)c.setAttribute("multiple","");
this.st.addEventListener("change",this.a5s.bind(this),!1);this.alO=this.ar$.bind(this);this.ZZ={};this.q1=0;
this.nz=x;var g=this.a0X=new i_(go.get(x)+" (0)",null,null,!0);this.n.appendChild(g.n);g.addEventListener("click",function(d){c.click()});
if(T){this.aZ=X._("div","scrollable");this.aZ.setAttribute("style","height:120px; width:100%; line-height:1.5em;");
this.n.appendChild(this.aZ);this.a5()}}bv.prototype=new ky;bv.prototype.T=function(x){};bv.prototype.h=function(x){return this.ZZ};
bv.prototype.a5s=function(x){var R=x.target.files;this.q1=R.length;this.ZZ={};for(var z=0;z<R.length;
z++){var T=R[z],c=new FileReader;c.onload=this.alO;c.gO=T.name;c.readAsArrayBuffer(T)}this.a0X.W7(go.get(this.nz)+" ("+R.length+")")};
bv.prototype.ar$=function(x){var R=this.ZZ[x.target.gO]=new Uint8Array(x.target.result);this.q1--;if(this.q1==0){if(this.aZ)this.a5();
this.c(new aA(v.E.p));this.st.value=null}};bv.prototype.a5=function(){var x=this.aZ;X.Ra(x);var R=[];
for(var T in this.ZZ)R.push(T);R.sort();for(var z=0;z<R.length;z++){var c=X._("div");c.textContent=R[z];
x.appendChild(c)}};function aG(x,R,T,c,g){if(x==null)x=!1;if(R==null)R=!1;if(T==null)T=!1;ky.call(this);
this.mJ=new cI;this.ne=new cI;this.iX=72;this.XV=72;this.hX=!0;this.s0=!1;this.n=X._("span");this.G8=new i1([12,41],0,0,null,0,!1,!0,4);
this.n.appendChild(this.G8.n);this.G8.k(v.E.p,this.S0,this);var d=["px","%"];if(x)d=d.concat(["cm","mm","in"]);
if(g){d=[[12,76,2],[12,76,6]];if(x)d=d.concat([[12,76,4],[12,76,5],[12,76,3]])}this.HP=new ad(null,d);
this.n.appendChild(this.HP.n);X.pz(this.n);this.HP.k(v.E.p,this.S0,this);this.Uw=new i1([12,42],0,0,null,0,!1,!0,4);
this.n.appendChild(this.Uw.n);this.Uw.k(v.E.p,this.S0,this);var U=new i_("\u21F5",!1,null,!0);U.k("click",this._7,this);
this.Sl=new i_("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.Sl.k("click",this.S0,this);
this.gn=new kk("");this.gn.n.style.margin="0";this.gn.n.style.padding="0";if(R){this.n.appendChild(this.Sl.n);
this.n.appendChild(this.gn.n);this.Sl.Kl()}else this.n.appendChild(U.n);this.Jv=new i1("DPI",0,0,null,3,!1,!0,4);
this.G4=new ad(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(x&&!c){X.pz(this.n);this.n.appendChild(this.Jv.n);
this.n.appendChild(this.G4.n)}this.G4.k(v.E.p,this.S0,this);this.Jv.k(v.E.p,this.S0,this);this.ru=new kv([12,23,1]);
this.ru.k(v.E.p,this.S0,this);if(T){X.pz(this.n);this.n.appendChild(this.ru.n)}X.pz(this.n)}aG.prototype=new ky;
aG.prototype.s7=function(x,R){this.G8.D8.style.width=this.Uw.D8.style.width=(x-78-this.Sl.o4())/2+"px"};
aG.prototype.Nl=function(){this.G8.Nl();this.Uw.Nl();this.HP.Nl();var x=this.n;X.Ra(x);this.HP.n.style.marginRight="0";
x.appendChild(this.G8.n);x.appendChild(this.Sl.n);x.appendChild(this.Uw.n);x.appendChild(this.HP.n)};
aG.prototype.By=function(){this.G8.By()};aG.prototype.afT=function(x,R){this.hX=x;if(R!=null)this.s0=R;
if(!this.hX&&!this.s0&&this.HP.h()==0){this.HP.T(4);this.je()}};aG.prototype.aoW=function(x){this.Sl.T(x)};
aG.prototype.t=function(){this.G8.t();this.Uw.t();this.Jv.t();this.G4.t();this.Sl.t();this.ru.t();this.HP.t()};
aG.prototype._7=function(x){var R=this.ne.x;this.ne.x=this.ne.y;this.ne.y=R;this.je();this.c(new aA(v.E.p,!1))};
aG.prototype.S0=function(x){if(x.target==this.HP&&!this.hX&&!this.s0&&this.HP.h()==0)this.HP.T(4);if(x.target==this.HP||x.target==this.ru){this.je();
return}if(x.target==this.Sl)x.target.T(!x.target.h());var R=this.mJ,T=parseFloat(this.G8.h());if(isNaN(T))T=1;
var c=parseFloat(this.Uw.h());if(isNaN(c))c=1;var g=this.Jv.h()*[1,2.54][this.G4.h()],d=this.HP.h();
if(this.hX){var U=this.XV;if(d==1){T=this.mJ.x*(T/100);c=this.mJ.y*(c/100)}var e=[1,1,2.54/U,25.4/U,1/U][d];
T/=e;c/=e;if(this.ru.h()){T+=this.mJ.x;c+=this.mJ.y}if(x.target==this.Jv){var N=g;if(!this.s0){var l=N/U;
T*=l;c*=l}U=N}if(this.Sl.h()){if(x.target==this.G8)c=T*(R.y/R.x);else T=c*(R.x/R.y)}T=Math.max(Math.abs(T),1);
c=Math.max(Math.abs(c),1)}else{var U=this.iX;if(x.target==this.Jv)U=g;else{if(this.Sl.h()){if(x.target==this.G8)c=T*(R.y/R.x);
else T=c*(R.x/R.y)}var e=[1,1,2.54/U,25.4/U,1/U][d],J=T/(d==1?100:R.x*e);U=U/J}T=R.x;c=R.y}this.ne=new cI(Math.round(T),Math.round(c));
this.XV=U;this.je();this.c(new aA(v.E.p,!1))};aG.prototype.af3=function(z){this.HP.T(z);this.je()};aG.prototype.T=function(x,R,T){if(T!=!0)this.mJ=x.clone();
this.ne=x.clone();if(R!=null){this.iX=R;this.XV=R}this.je()};aG.prototype.je=function(){var x=this.ne.x,R=this.ne.y,T=this.XV,c=(x/R).toFixed(3);
while(c.charAt(c.length-1)=="0")c=c.substring(0,c.length-1);if(c.charAt(c.length-1)==".")c=c.substring(0,c.length-1);
var g="  "+c+" : 1",d=function(J,w){while(w!=0){var s=w;w=J%w;J=s}return J},U=d(x,R);if(Math.min(x,R)/U<10)g="  "+Math.round(x/U)+" : "+Math.round(R/U);
this.gn.T(g);if(this.ru.h()){x-=this.mJ.x;R-=this.mJ.y}var e=this.HP.h();if(e==1){if(this.hX){x=100*x/this.mJ.x;
R=100*R/this.mJ.y}else{x=R=100*this.iX/this.XV}}else{x=Math.round(x);R=Math.round(R)}var N=[1,1,2.54/T,25.4/T,1/T][e];
x*=N;R*=N;var l=e==1||e==2||e==4?2:0;this.G8.bM(l);this.Uw.bM(l);this.G8.T(x);this.Uw.T(R);this.Jv.T(T*[1,1/2.54][this.G4.h()])};
aG.prototype.h=function(){return this.ne.clone()};aG.prototype.TF=function(){return this.XV};function d6(x,R,T){ky.call(this);
var c=x==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.V6=x;this.apD=R;this.r1=1;this.Vo=[1,1,0];
var g=this.n=X._("div","numlist"),d=this.as=[];for(var z=0;z<4;z++){var U=new i1(c[z],0,0,null,2,!1,!0,4,null,T&&(z==0||z==2));
U.k(v.E.p,this.S0,this);g.appendChild(U.n);d[z]=U;if(z==1||z==3)X.pz(g)}d[4]=new kv(x==0?[12,51]:[12,91,2]);
d[4].T(!0);g.appendChild(d[4].n)}d6.prototype=new ky;d6.prototype.t=function(){var x=this.as;for(var z=0;
z<5;z++)x[z].t();if(this.V6==0)X.x5(x[0],x[2])};d6.prototype.T=function(x,R,T){if(R)this.Vo=R;R=this.Vo;
var c=T?x:this.V6==0?[x[2],x[0],x[3],x[1]]:[x[0],x[1],x[3],x[2]];this.r1=c[0]/c[2];for(var z=0;z<4;z++){var g=this.as[z];
g.bM(R[2]==0&&this.apD?0:2);g.T(u.A8.axw(c[z],R[0],R[1],R[2]))}};d6.prototype.h=function(x){var R=[],T=this.Vo;
for(var z=0;z<4;z++){var c=u.A8.B2(this.as[z].h(),T[0],T[1],T[2]);R[z]=this.apD?Math.round(c):c}return x?R:this.V6==0?[R[1],R[3],R[0],R[2]]:[R[0],R[1],R[3],R[2]]};
d6.prototype.S0=function(x){var R=this.V6,T=this.as.indexOf(x.currentTarget),c=this.h(!0),g=this.as[4].h();
if(R==0){c[0]=Math.max(1,c[0]);c[2]=Math.max(1,c[2]);if(g&&T==0)c[2]=c[0]/this.r1;if(g&&T==2)c[0]=c[2]*this.r1}if(R==1){c[T]=Math.max(0,c[T]);
if(g)for(var z=0;z<4;z++)c[z]=c[T]}this.T(c,null,!0);this.c(new aA(v.E.p,!1))};function jt(){ky.call(this);
this.jP=0;this.PX=[0,0,1,1,100,100];this.FY=[10,5,1,1,4,3,3,2,16,9];this.n=X._("span","fitem");this.mL=new ad(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this.n.appendChild(this.mL.n);this.mL.k(v.E.p,this.S0,this);this.G8=new i1("W",0,0,null,0,!1,!0);this.n.appendChild(this.G8.n);
this.G8.k(v.E.p,this.S0,this);var x=this.Yo=new i_("\u21C4",!1,null,!0);x.k("click",this._7,this);this.n.appendChild(x.n);
this.Uw=new i1("H",0,0,null,0,!1,!0);this.n.appendChild(this.Uw.n);this.Uw.k(v.E.p,this.S0,this);this.T({fU:0,x:0,y:0})}jt.prototype=new ky;
jt.prototype.ajG=function(x,R){this.FY[0]=x;this.FY[1]=R};jt.prototype.t=function(){X.x5(this.G8,this.Uw);
this.mL.t()};jt.prototype._7=function(x){var R=this.Uw.h();this.Uw.T(this.G8.h());this.G8.T(R);this.S0(x)};
jt.prototype.S0=function(x){if(x.target==this.mL){var z=this.mL.h(),R=this.PX;if(z>2){z-=3;var T=this.FY[2*z],c=this.FY[2*z+1];
R[2]=T;R[3]=c;this.G8.T(T);this.Uw.T(c);this.mL.T(1)}var g=this.h();R[this.jP*2]=g.x;R[this.jP*2+1]=g.y;
this.jP=g.fU;this.T({fU:g.fU,x:R[g.fU*2],y:R[g.fU*2+1]})}if(this.G8.h()<1)this.G8.T(1);if(this.Uw.h()<1)this.Uw.T(1);
this.c(new aA(v.E.p,!1))};jt.prototype.T=function(x){this.mL.T(x.fU);this.G8.T(x.x);this.Uw.T(x.y);if(x.fU==0){this.G8.tC();
this.Uw.tC();this.Yo.tC()}else{this.G8.uL();this.Uw.uL();this.Yo.uL()}};jt.prototype.h=function(){return{fU:this.mL.h(),x:this.G8.h(),y:this.Uw.h()}};
function e4(x){ky.call(this);this.n=X._("span","");this.abY=x;this.pS=new h4("Off X",-100,100,x?"%":"px",0,!1);
this.hV=new h4("Off Y",-100,100,x?"%":"px",0,!1);this.pS.k(v.E.p,this.S0,this);this.hV.k(v.E.p,this.S0,this);
this.n.appendChild(this.pS.n);this.n.appendChild(this.hV.n)}e4.prototype=new ky;e4.prototype.t=function(){this.pS.t();
this.hV.t()};e4.prototype.S0=function(x){this.c(new aA(v.E.p,!1))};e4.prototype.app=function(x){this.pS.T(x.x);
this.hV.T(x.y)};e4.prototype.a4m=function(){return new cI(this.pS.h(),this.hV.h())};e4.prototype.T=function(x,R){var T=x.Hrzn.v,c=x.Vrtc.v;
if(this.abY){T=T.val;c=c.val}this.pS.T(T);this.hV.T(c);if(R==!0)this.S0()};e4.prototype.h=function(){var x=this.pS.h(),R=this.hV.h();
if(this.abY)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:x}},Vrtc:{t:"UntF",v:{type:"#Prc",val:R}}};
else return{classID:"Pnt",Hrzn:{v:x,t:"doub"},Vrtc:{v:R,t:"doub"}}};function hn(){ky.call(this);this.n=X._("span","fitem strokebutton");
this.xK=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.Sk=fJ.SC.GI();this.qn=X._("button");
this.n.appendChild(this.qn);X.Us(this.n,this.y1.bind(this));var x=X._("canvas","gsicon");this.xv=x.getContext("2d");
this.qn.appendChild(x);var R=X._("span");R.textContent=" \u25BC";this.qn.appendChild(R);this.NG=new ky;
this.NG.parent=this;this.NG.n=X._("div","floatcont form");var T=this.NG.n;T.setAttribute("style","width: 16.7em;");
this.lo=[new ad([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new cZ([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new cZ([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new i1("Limit",0,50,null,null,null,!0,2.5),new kD([19,9,2])];
for(var z=0;z<this.lo.length;z++){var c=this.lo[z];T.appendChild(c.n);c.k(v.E.p,this.S0,this)}X.pz(T);
this.ra=[];var g=this.qT.bind(this);this.Sk.strokeStyleLineWidth.v.val=3;for(var z=0;z<this.xK.length;
z++){var d=X._("button","fitem");this.ra.push(d);T.appendChild(d);d.addEventListener("click",g,!1);var x=X._("canvas","gsicon"),U=x.getContext("2d");
d.appendChild(x);this.alh(U,40,20,this.xK[z])}this.Sk.strokeStyleLineWidth.v.val=1}hn.prototype=new ky;
hn.prototype.y1=function(x){if(X._b(this.NG.n))return;x.stopPropagation();var R=this.qn.getBoundingClientRect(),T=new aA(v.E.P,!0);
T.data={d:v.H.fu,YR:this.NG,x:R.left,y:R.top+R.height+4};this.c(T)};hn.prototype.S0=function(x){var R=this.lo,T=[];
for(var z=0;z<5;z++)T.push(R[z].h());this.Sk=this.atH(T);this.c(new aA(v.E.p,!1))};hn.prototype.qT=function(x){var R=this.ra.indexOf(x.currentTarget);
this.T(this.atH(this.xK[R]));this.c(new aA(v.E.p,!1))};hn.prototype.atH=function(x){var R=JSON.parse(JSON.stringify(this.Sk)),T=x[0],c=x[1],g=x[2],d=x[3],U=x[4];
if(T!=null)R.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fJ.SC.tm[T];if(c!=null)R.strokeStyleLineCapType.v.strokeStyleLineCapType=fJ.SC.e7[c];
if(g!=null)R.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fJ.SC.join[g];R.strokeStyleMiterLimit.v=d;
var e=R.strokeStyleLineDashSet.v=[];U=U.split(" ");while((U.length&1)!=0)U.pop();for(var z=0;z<U.length;
z++)e.push({t:"UntF",v:{type:"#Nne",val:parseInt(U[z])}});return R};hn.prototype.t=function(){for(var z=0;
z<this.lo.length;z++)this.lo[z].t()};hn.prototype.T=function(x){this.Sk=JSON.parse(JSON.stringify(x));
var R=fJ.SC.tm.indexOf(x.strokeStyleLineAlignment.v.strokeStyleLineAlignment),T=fJ.SC.e7.indexOf(x.strokeStyleLineCapType.v.strokeStyleLineCapType),c=fJ.SC.join.indexOf(x.strokeStyleLineJoinType.v.strokeStyleLineJoinType),g=x.strokeStyleMiterLimit.v,d=[],U=x.strokeStyleLineDashSet.v;
for(var e=0;e<U.length;e++)d.push(U[e].v.val);var N=this.lo;N[0].T(R);N[1].T(T);N[2].T(c);N[3].T(g);
N[3].Dd(c==0);N[4].T(d.join(" "));var l=[];for(var z=0;z<5;z++)l.push(N[z].h());this.alh(this.xv,40,16,l)};
hn.prototype.h=function(){return JSON.parse(JSON.stringify(this.Sk))};hn.prototype.alh=function(x,R,T,c){var g=c[0],d=c[1],U=c[2],e=c[3],N=c[4].split(" ").map(parseFloat);
X.ja(x.canvas,R,T);var l=Math.min(5,this.Sk.strokeStyleLineWidth.v.val);for(var z=0;z<N.length;z++)N[z]*=l;
x.clearRect(0,0,R,T);x.setLineDash(N);x.lineCap=["butt","round","square"][d];x.lineJoin=["miter","round","bevel"][U];
x.lineWidth=l;x.beginPath();x.moveTo(0,T/2);x.lineTo(R*2,T/2);x.stroke()};function g6(x){gl.call(this,x,!1,"contourbutton",34*13,16*13,hc.my,!0);
this.wO=new kD([12,86],null,16);this.wO.k("input",this.Sr,this);this.NG.n.appendChild(this.wO.n);this.Ko=null;
this.V7="";this.Sp=null;this.T(bD.GI())}g6.prototype=new gl;g6.prototype.t=function(){gl.prototype.t.call(this);
this.wO.t()};g6.prototype.mU=function(x){this.T(this.Ko[x.target.h()[0]]);this.c(new aA(v.E.p))};g6.prototype.Sr=function(x){this.V7=this.wO.h().toLowerCase();
this.auB()};g6.a5E=!1;g6.prototype._I=function(){if(!this.D4)return;var x=this.v$;if(x==null||!g6.a5E){var R=new aA(v.E.P,!0);
R.data={d:v.H.Iu,vr:{url:"rsrc/basic/Default.csh"}};this.c(R);g6.a5E=!0}else{var T=Math.floor(38*X.mM()),c=Math.floor(38*X.mM());
this.Sp=[];for(var z=0;z<x.length;z++)this.Sp.push(g6.aq5(x[z],T,c));this.auB();this.D4=!1}};g6.prototype.auB=function(){var x=Math.floor(38*X.mM()),R=Math.floor(38*X.mM());
this.Ko=[];var T=[],c=[],g=this.v$;for(var z=0;z<g.length;z++){if(g[z].R9.toLowerCase().indexOf(this.V7)==-1)continue;
this.Ko.push(g[z]);T.push(this.Sp[z]);c.push(g[z].R9)}this.s3.j7(T,c,x,R)};g6.prototype.T=function(x){this.cf=g6.clone(x);
this.Gi()};g6.prototype.Gi=function(){var x=Math.floor(23*X.mM()),R=Math.floor(23*X.mM()),T=g6.aq5(this.cf,x,R);
this.Rm.setAttribute("src",T);X.kk(this.Rm,x,R)};g6.prototype.h=function(){return g6.clone(this.cf)};
g6.clone=function(x){return{R9:x.R9,DN:x.DN,$:F.LS.Lz(x.$),Uc:x.Uc.clone()}};g6.V=null;g6.r3=null;g6.aq5=function(x,R,T){var c=F.LS.Lz(x.$),g=x.Uc,d=Math.min(R/g.m,T/g.e)*.9,U=new gP;
U.translate(-.5,-.5);U.scale(.95,.95);U.translate(.5,.5);U.scale(d*g.m,d*g.e);u.j.q0(c,U);var e=new F.LS;
e.$=c;var N=e.le();N.rect.x=Math.floor((R-N.rect.m)/2);N.rect.y=Math.floor((T-N.rect.e)/2);var l=u.B(N.rect.Z()*4);
u.rN(N.channel,l,3);var J=g6;if(J.V==null)J.V=X._("canvas");var w=J.V,s=w.getContext("2d");if(w.width!=R||w.height!=T||J.r3==null){w.width=R;
w.height=T;J.r3=s.createImageData(R,T)}var o=J.r3;o.data.fill(0);u.yU(l,N.rect,o.data,new aP(0,0,R,T));
s.putImageData(o,0,0);return w.toDataURL()};function cG(x){gl.call(this,x,!1,"ICCButton",16*13,12*13,hc.R6,!0);
this.s3.b3(1)}cG.prototype=new gl;cG.prototype.hS=function(){var x="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var z=0;z<x.length;z++)x[z]="luts/"+x[z]+".CUBE";return x};cG.prototype.mU=function(x){this.T(this.v$[x.target.h()]);
this.c(new aA(v.E.p))};cG.prototype._I=function(){if(!this.D4)return;var x=Math.floor(1*X.mM()),R=Math.floor(1*X.mM()),T=[],c=[],g=this.v$;
for(var z=0;z<g.length;z++){var d=g[z].Nm.v.split("\\").pop().split("/").pop();c.push(d);T.push(cG.N4(g[z],x,R))}this.s3.j7(T,c,x,R);
this.D4=!1};cG.prototype.T=function(x){this.cf=JSON.parse(JSON.stringify(x));this.Gi()};cG.N4=function(x,R,T){var c=X._("canvas"),U="ICC / 3DL / look / cube";
c.width=R;c.height=T;var g=c.getContext("2d"),d=Math.floor(14*X.mM());g.font=d+"px sans-serif";if(x.Nm)U=x.Nm.v.split("\\").pop().split("/").pop();
g.fillText(U,10,d);return c.toDataURL()};cG.prototype.Gi=function(){var x=Math.floor(120*X.mM()),R=Math.floor(20*X.mM());
this.Rm.setAttribute("src",cG.N4(this.cf,x,R));X.kk(this.Rm,x,R)};cG.prototype.h=function(){return JSON.parse(JSON.stringify(this.cf))};
function jA(){ky.call(this);this.$l=null;this.n=X._("span","fitem");this.yG=new i2([14,9]);this.OR=new i1(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.IG=new hn;this.Ol=[this.yG,this.OR,this.IG];for(var z=0;z<this.Ol.length;z++){var x=this.Ol[z];
this.n.appendChild(x.n);x.parent=this;x.k(v.E.p,this.S0,this)}}jA.prototype=new ky;jA.prototype.t=function(){for(var z=0;
z<this.Ol.length;z++)this.Ol[z].t()};jA.prototype.L4=function(x,R){this.yG.L4(x,R)};jA.prototype.S0=function(x){var R=this.$l,T=this.yG.h();
fJ.dn(R,T);R.strokeStyleLineWidth.v.val=this.OR.h();if(x.target==this.IG)R=this.IG.h();this.$l=R;this.c(new aA(v.E.p,!1))};
jA.prototype.T=function(x,R,T){this.$l=JSON.parse(JSON.stringify(R));var c=fJ.c0(R);this.yG.T(x,c,T);
this.OR.T(R.strokeStyleLineWidth.v.val);this.IG.T(R)};jA.prototype.h=function(){return JSON.parse(JSON.stringify(this.$l))};
function gv(x){var R=[[18,0],[18,1],[18,2],[18,3]],T=cZ.vk(["set/front","set/union","set/difference","set/intersection"]);
cZ.call(this,x?[12,36]:null,T,R)}gv.prototype=new cZ;function jk(){ky.call(this);this.n=X._("button","fitem bbtn");
X.Us(this.n,this.y1.bind(this));this.NG=new ky;this.NG.n=X._("div","floatcont form");this.NG.n.setAttribute("style","max-width: 200px;");
this.NG.parent=this;var x=aw;this.rx=[new kv("Start"),new kv("End"),new x([12,41],0,100,"px",null,!0,null,!0),new x([12,80,0],0,100,"px",null,!0,null,!0),new x("Concavity",-50,50,"%",null,null,null,!0)];
for(var z=0;z<this.rx.length;z++){var R=this.rx[z];R.parent=this;R.k(v.E.p,this.DV,this);this.NG.n.appendChild(R.n)}this.akz=X._("div");
this.NG.n.appendChild(this.akz)}jk.prototype=new ky;jk.prototype.T=function(x){for(var z=0;z<5;z++)this.rx[z].T(x[z]);
this.a5()};jk.prototype.h=function(x){var R=[];for(var z=0;z<5;z++)R[z]=this.rx[z].h();return R};jk.prototype.t=function(){this.n.textContent=go.get([12,93,4]);
for(var z=0;z<this.rx.length;z++)this.rx[z].t()};jk.prototype.DV=function(x){this.c(new aA(v.E.p,!1));
this.a5()};jk.prototype.a5=function(x){var R=this.h(),T=200,c=60;R[2]/=X.mM();R[3]/=X.mM();var g=u.j.u1.Xz(0,c/2,T,c/2,5,R),d=u.j.cK(g);
this.akz.innerHTML="<svg width=\""+T+"\" height=\""+c+"\" class=\"gsicon\">\t\t\t<path d=\""+d.wP+"\" />\t\t\t</svg>"};
jk.prototype.y1=function(x){if(X._b(this.NG.n))return;x.stopPropagation();var R=this.n.getBoundingClientRect(),T=new aA(v.E.P,!0);
T.data={d:v.H.fu,YR:this.NG,x:R.left,y:R.top+R.height,eF:!0};this.c(T)};function cM(){ky.call(this);
this.n=X._("div");this.as=[];this.aA3=[];var x=this.V2=X._("div"),R=X._("h2");R.textContent="Create Teams";
x.appendChild(R);R.style.margin="26px 0 16px 0";var T=new i_("More about Teams",!1,null,!0);R.appendChild(T.n);
T.n.style.float="right";T.k("click",this.ajF,this);this.lI=X._("div");x.appendChild(this.lI);this.aan=new kD("Team Name",null,10);
x.appendChild(this.aan.n);var c=this.a4F=new i_("Create Team",null,null,!0);x.appendChild(c.n);c.k("click",this.amR,this);
var R=X._("h2");R.textContent="Join Teams";x.appendChild(R);R.style.margin="26px 0 16px 0";this.ju=X._("div");
x.appendChild(this.ju);this.amI=new kD("Team ID",null,10);x.appendChild(this.amI.n);var c=new i_("Join Team",null,null,!0);
x.appendChild(c.n);c.k("click",this.amR,this);this.a7D;this.amz=this.Bq.bind(this);this.afx=this.aiv.bind(this);
this.Cy=!1;this.W$();this.W4=null;this.aqo=""}cM.prototype=new ky;cM.prototype.ajF=function(x){var R=new aA(v.E.P,!0);
R.data={d:v.H.ub,link:"https://www.photopea.com/api/accounts#teams"};this.c(R)};cM.prototype.W$=function(){clearTimeout(this.axV);
this.axV=setTimeout(this.afx,this.W4?10:3e3)};cM.prototype.aiv=function(){var x=i3.vc();if(document.hidden||!X._b(this.n)||x==null){this.W$();
return}var R=i3.ig();if(this.W4==null&&R==null)return;i3.k6(this.W4?this.W4:R,this.amz);this.Cy=!0;this.W4=null};
cM.prototype.aqS=function(x){x.acc.update=!0;this.n.style.pointerEvents="none";this.n.style.opacity="0.5";
if(this.Cy)this.W4=x;else{clearTimeout(this.axV);i3.k6(x,this.amz)}};cM.prototype.hM=function(x){var R=typeof x=="string"?this.a7D:this.as.indexOf(x.target),T=this.aA3[R],c=T[0],g=i3.ig();
if(g==null)g={};var d=g.acc,U=d.tjoin,e=d.tstart;if(c=="leave"){U.splice(U.indexOf(T[1]),1)}if(c=="add"||c=="remove"||c=="delTeam"||c=="showRename"||c=="rename"){var N=-1,l=0;
for(var z=0;z<e.length;z++){l+=e[z][1].length;if(e[z][2]==T[1])N=z}var J=e[N];if(c=="add"){var w=i3.T9();
if(w&&w[0]==0&&w[1][2]<=l){alert("You can have at most "+w[1][2]+" members in your Premium.");return}J[1].push(T[2])}if(c=="remove")J[1].splice(J[1].indexOf(T[2]),1);
if(c=="delTeam"){if(J[1].length!=0){alert("Remove members first.");return}e.splice(N,1)}if(c=="showRename"){var o=new aA(v.E.P,!0);
o.data={d:v.H.i$,$k:"namewindow",Ey:J[0],BJ:this.hM.bind(this)};this.c(o);this.a7D=R;T[0]="rename";return}if(c=="rename")J[0]=x}this.aqS(g)};
cM.prototype.amR=function(x){var R=this.a4F==x.target,T=(R?this.aan:this.amI).h().trim();if(T==""){alert("The Team "+(R?"Name":"ID")+" is empty.");
return}if(!R){T=parseInt(T);if(isNaN(T)){alert("The ID must be a number");return}}var c=i3.ig();if(c==null)c={};
var g=c.acc;if(g==null)g=c.acc={};var d=g.tstart,U=g.tjoin;if(R){if(d==null)d=g.tstart=[];if(d.length>5){alert("You can have at most 5 teams");
return}d.push([T,[]])}else{if(d)for(var z=0;z<d.length;z++)if(d[z][2]==T){alert("You are the owner of this team");
return}if(U==null)U=g.tjoin=[];if(U.indexOf(T)!=-1){alert("You already asked to join this team.");return}g.tjoin.push(T)}g.update=!0;
this.aqS(c)};cM.prototype.Bq=function(){this.Cy=!1;var x=i3.vc(),R=x!=null,T=this.V2.parentNode!=null;
if(R!=T){X.Ra(this.n);if(R)this.n.appendChild(this.V2);else this.n.textContent="Log In to access Team Settings."}if(!R)return;
var c=i3.ig();if(c==null)c={};var g=c.acc;if(g==null)g={};var d=JSON.stringify(g)+"===="+JSON.stringify(x);
if(d!=this.aqo){this.aqo=d;var U=this.lI,e=this.ju;X.Ra(U);X.Ra(e);var N=this.as=[],l=this.aA3=[],J=this.hM.bind(this);
function w(f,A){f.addEventListener("click",J);N.push(f);l.push(A)}function s(b,f){var y=X._("div"),A="rgba(255,255,255,0.15)";
y.appendChild(V("ID: "+b[2],54,A));y.appendChild(V(b[0],160,null,!0));if(f){y.appendChild(V(b[1].length+" members",80,null,!0))}else{y.appendChild(V(b[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<b[1]*1e3)y.appendChild(V("Premium",80,"rgba(0,140,0,1)"))}var _=V("",120);y.appendChild(_);
_.setAttribute("style","float:right;text-align:right");if(f){var W=new i_("Rename",null,null,!0);w(W,["showRename",b[2]]);
_.appendChild(W.n)}var W=new i_(f?"Delete":"Leave",null,null,!0);w(W,[f?"delTeam":"leave",b[2]]);_.appendChild(W.n);
return y}function o(f,A,p){var y=X._("div");y.style.paddingLeft="46px";y.appendChild(V(A?"\u2713":"...",8,A?"#229922":"#aa7700"));
y.appendChild(V(f[1],200));y.appendChild(V(f[2],240));var _=V("",120);y.appendChild(_);_.setAttribute("style","float:right;text-align:right");
var W=new i_(A?"Remove":"Add",null,null,!0);w(W,[A?"remove":"add",p,f[0]]);_.appendChild(W.n);return y}function V(f,A,_,W){var Y=X._("span");
Y.textContent=f;Y.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+A+"px;  "+(_!=null?"background-color:"+_+";":"")+(W?"font-weight:bold;":""));
return Y}var a=g.tstart,O=g.tjoin,S=x.wantToJoin,L=x.inTeams;if(a)for(var Q=0;Q<a.length;Q++){var b=a[Q],Z=S["t"+b[2]];
if(Z==null)Z=[];var I={};for(var z=0;z<Z.length;z++)I["u"+Z[z][0]]=Z[z];var y=s(b,!0);U.appendChild(y);
y.style.marginTop="10px";for(var z=0;z<b[1].length;z++){var r=b[1][z],h=I["u"+r];if(h==null)h=[r,"========","... user has left your team"];
delete I["u"+r];var k=o(h,!0,b[2]);U.appendChild(k)}for(var K in I){var h=I[K],k=o(h,!1,b[2]);U.appendChild(k)}}if(O){var H={};
for(var z=0;z<L.length;z++)H["t"+L[z][2]]=L[z];for(var Q=0;Q<O.length;Q++){var p=O[Q],b=H["t"+p],y=s(b?b:["==========",-1,p],!1);
e.appendChild(y)}}this.c(new aA(v.E.p))}if(this.W4==null){this.n.style.pointerEvents="auto";this.n.style.opacity="1"}this.W$()};
function hw(){ky.call(this);this.Cb=[16,!0,!0];this.n=X._("span","");this.Kw=[new i1([12,24],0,255),new kv([12,25,1]),new kv([12,25,0])];
for(var z=0;z<3;z++){var x=this.Kw[z];x.parent=this;x.T(this.Cb[z]);this.n.appendChild(x.n);x.k(v.E.p,this.S0,this)}}hw.prototype=new ky;
hw.prototype.S0=function(){for(var z=0;z<3;z++)this.Cb[z]=this.Kw[z].h();this.c(new aA(v.E.p,!1))};hw.prototype.T=function(x){this.Cb=x.slice(0);
for(var z=0;z<3;z++)this.Kw[z].T(x[z])};hw.prototype.h=function(){return this.Cb.slice(0)};hw.prototype.t=function(){for(var z=0;
z<3;z++)this.Kw[z].t()};function a4(x,R){ky.call(this);if(R==null)R=!1;this.Sp=[];this.vf=Math.floor(120*X.mM());
this.aa_=Math.floor(23*X.mM());this.IY=0;this.dx=[];this.PZ=[];for(var T in u.zb.type){if(T=="warpCustom"&&!R)continue;
this.dx.push(T);this.PZ.push(u.zb.type[T])}this.n=X._("span","fitem warpbutton");this.NG=new ky;this.NG.n=X._("div","floatcont");
if(x){this.nz=x;this.YS=X._("label","flabel");this.n.appendChild(this.YS)}this.d=X._("button");this.n.appendChild(this.d);
X.Us(this.d,this.y1.bind(this));this.pC=new dY(!0);this.NG.n.appendChild(this.pC.n);this.pC.k(v.E.p,this.aCp,this);
this.NG.n.setAttribute("style","width:"+Math.floor(8+this.vf/X.mM())+"px;");this.t()}a4.prototype=new ky;
a4.prototype.W7=function(x){this.YS.textContent=x};a4.prototype.t=function(){if(this.nz)this.YS.innerHTML=go.get(this.nz)+":";
this.Gi()};a4.atk={};a4.a2h=function(x,R,T){var c=go.get(u.zb.type[x]),g=c+"-"+x+"-"+R+"-"+T,d=a4.atk[g];
if(d)return d;var U=a4.xv;if(e==null){var e=X._("canvas");U=a4.xv=e.getContext("2d")}var e=U.canvas;
if(e.width!=R||e.height!=T){e.width=R;e.height=T}U.font=Math.floor(13*X.mM())+"px sans-serif";U.lineWidth=1;
U.strokeStyle="#000000";var N=Math.floor(16*X.mM()),l=new aP(0,0,N,N);U.clearRect(0,0,e.width,e.height);
var J=[4,4,[[0,1],[0,1]],u.zb.zb(l,x,!0,.3,0,0)],w=u.M.$x(l);w.G.push("M","L","M","L");w.z.push(0,N/2,N,N/2);
w.z.push(N/2,0,N/2,N);w=u.M.uS(w);w=u.M.RN(w,N/5);u.i1.i(J,w.z,l);u.M.i(w.z,new gP(1,0,0,1,Math.floor(8*X.mM())+.5,Math.floor(3*X.mM())+.5),w.z);
U.beginPath();Typr.U.pathToContext({cmds:w.G,crds:w.z},U);U.stroke();U.fillText(c,Math.floor(40*X.mM()),Math.floor(16*X.mM()));
d=a4.atk[g]=e.toDataURL();return d};a4.prototype.y1=function(x){if(X._b(this.NG.n))return;x.stopPropagation();
var R=this.vf,T=this.aa_;for(var z=0;z<this.dx.length;z++)this.Sp[z]=a4.a2h(this.dx[z],R,T);this.pC.j7(this.Sp,null,R,T);
var c=this.d.getBoundingClientRect(),g=new aA(v.E.P,!0);g.data={d:v.H.fu,YR:this.NG,x:c.left,y:c.top+c.height+4};
this.c(g)};a4.prototype.aCp=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.Qg,YR:this.NG};this.c(R);
this.IY=x.target.h()[0];this.Gi();this.c(new aA(v.E.p))};a4.prototype.Gi=function(){var x=this.vf,R=this.aa_;
this.pC.T([this.IY]);this.d.innerHTML="<img src=\""+a4.a2h(this.dx[this.IY],x,R)+"\" class=\"gsicon\" />";
X.kk(this.d.firstChild,x,R)};a4.prototype.h=function(){return this.dx[this.IY]};a4.prototype.T=function(x){this.IY=this.dx.indexOf(x);
this.Gi()};function gK(x,R,T){ky.call(this);if(x==null)x=!1;if(R==null)R=!1;if(T==null)T=!1;this.apf=R;
this.zb=null;this.aC=new a4([12,22],T);this.aC.parent=this;this.aC.k(v.E.p,this.Oc,this);this.NX=new ad([22,0],[[22,4,0],[22,4,1]]);
this.NX.k(v.E.p,this.Oc,this);var c=x?i1:aw;this.s_=new c([22,1],-100,100,"%");this.Cj=new c("Horizontal Distortion:",-100,100,"%");
this.Ad=new c("Vertical Distortion:",-100,100,"%");this.s_.parent=this.Cj.parent=this.Ad.parent=this;
this.s_.k(v.E.p,this.Oc,this);this.Cj.k(v.E.p,this.Oc,this);this.Ad.k(v.E.p,this.Oc,this)}gK.prototype=new ky;
gK.prototype.t=function(){this.aC.t();this.NX.t();this.s_.t();var x=this.apf?1:100;this.Cj.W7(go.get([22,2]).substring(0,x)+":");
this.Ad.W7(go.get([22,3]).substring(0,x)+":")};gK.prototype.Oc=function(){var x=this.zb,R=this.aC.h(),T=x.warpStyle.v.warpStyle;
if(R=="warpCustom")u.zb.s8(x,u.zb.xe(x));else delete x.customEnvelopeWarp;x.warpStyle.v.warpStyle=this.aC.h();
x.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.NX.h()];x.warpValue.v=this.s_.h();x.warpPerspective.v=this.Cj.h();
x.warpPerspectiveOther.v=this.Ad.h();if(R=="warpNone"||R=="warpCustom"){x.warpValue.v=0;x.warpPerspective.v=0;
x.warpPerspectiveOther.v=0}else if(T=="warpNone"||T=="warpCustom")x.warpValue.v=50;this.c(new aA(v.E.p,!1));
this.T(x)};gK.prototype.h=function(x){return JSON.parse(JSON.stringify(this.zb))};gK.prototype.T=function(x){this.zb=JSON.parse(JSON.stringify(x));
this.aC.T(x.warpStyle.v.warpStyle);this.NX.T(x.warpRotate.v.Ornt=="Hrzn"?0:1);this.s_.T(x.warpValue.v);
this.Cj.T(x.warpPerspective.v);this.Ad.T(x.warpPerspectiveOther.v);var R=x.warpStyle.v.warpStyle,T=R=="warpNone"||R=="warpCustom",c=[this.NX,this.s_,this.Cj,this.Ad];
for(var z=0;z<c.length;z++)if(T)c[z].tC();else c[z].uL()};function bx(x){ky.call(this);this.KC={};this.n=X._("div");
this.oN=x;this.bo=null;this.ls=new cI(0,0);this.Uy="position:relative;overflow:hidden;background-color:var(--bg-canvas);";
this.RT=null;this.wW=new X.dg(this.n);this.iz("grab");this.V=X._("canvas","canv");this.n.appendChild(this.V);
this.xv=this.V.getContext("2d",{willReadFrequently:!0});this.acg=null;this.ku=null;this.h9=null;this.Bl=0;
this.N$=0;this.WN=0;this.tW=0;this.agY=this.a7C.bind(this);this.alT=null;this.Q=new jO({m:1,e:1});this.PK=null;
this.jc=null;this.Cr=[];this.acj=0;this.jV=0;this.a9t=this.LV.bind(this);this.a3y=this.Dg.bind(this);
this.afR=this.ho.bind(this);this.a6G=this.xi.bind(this);this.a0s=0;this.T8=null;this.ac5(this.V);this.M9(this)}bx.prototype=new ky;
bx.prototype.acG=function(x){this.KC=x;this.Hm()};bx.oo=function(x){var R=new fZ(!0);if(x>=0)R.mp("Space");
if(x>=1){R.mp("ControlLeft");if(x==2)R.mp("AltLeft")}return R};bx.prototype.Rw=function(x){var R=this.RT,T=null;
if(x.S(fZ.Ed)){T="grab";if(x.S(fZ.Gc)){T="zoom-in";if(x.S(fZ.ng))T="zoom-out"}}this.bo=T;if(T)R=T;this.wW.Bq(R,this.Uy);
if(x.S(fZ.Gc)){var c=0;if(x.S(fZ.bW))c=1;if(x.S(fZ.d2))c=-1;if(c!=0){this.Al(new cI(this.V.width/2,this.V.height/2),c==1)}}};
bx.prototype.iz=function(x){this.RT=x;if(this.bo)return;this.wW.Bq(x,this.Uy)};bx.prototype.ac5=function(x){X.Us(x,this.a9t);
X.Bd(x);x.addEventListener("wheel",this.a6G,!1)};bx.prototype.M9=function(x){x.k("viewchange",this.azz,this)};
bx.prototype.azz=function(x){var R=this.Q.O,T=x.currentTarget.FW();this.Q.O=T.O;this.Q.w=T.w.clone();
if(R!=T.O)this.Yl();this.Hm()};bx.prototype.FW=function(){return{O:this.Q.O,w:this.Q.w}};bx.prototype.T=function(x,R,T,c){var g=x[0].d8;
if(this.ku!=null&&this.ku[0].d8.X$(g)){}else{this.Q.V1={m:g.m,e:g.e};this.Q.O=1;this.Q.w=new cI(0,0)}this.ku=x;
this.Yl(c);this.oc();this.Bl=0;this.N$=Date.now();this.WN=0;this.tW=R==null?0:R;if(T)this.KC=T;this.a7C()};
bx.prototype.xi=function(x){x.preventDefault();if(x.deltaY==0||Date.now()-this.a0s<100)return;var R=X.il(x);
R.x=X.mM()*R.x;R.y=X.mM()*R.y;this.a0s=Date.now();this.Al(R,x.deltaY<0)};bx.prototype.Al=function(x,R){D.m6.HW(this.Q,x,R);
this.afm()};bx.prototype.cB=function(x){var R=this.Q,T=R.V1;this.Q.O=D.m6.du(T.m,T.e,R.dz.m,R.dz.e);
if(x)this.Q.w=new cI(0,0);this.afm()};bx.prototype.afm=function(){this.Yl();this.c(new aA("viewchange"));
this.c(new aA("zoom"))};bx.prototype.Yl=function(x){var R=this.h9;this.h9=[];var T=this.Q.O;if(this.ku==null)return;
if(x){var c=u.gc(T),g=1;for(var d=0;d<c.length;d++)g*=c[d];var U=x.x,e=x.y,N=U+x.m,l=e+x.e;U=Math.floor(U/g)*g;
N=Math.ceil(N/g)*g;e=Math.floor(e/g)*g;l=Math.ceil(l/g)*g;x=new aP(U,e,N-U,l-e)}for(var z=0;z<this.ku.length;
z++){var J=this.ku[z],w=new Uint8Array(J.data),s;if(T>=1)s={z6:w,rect:J.d8};else{if(R&&R[z]&&x){var o=u.B(x.Z()*4);
u.yU(w,J.d8,o,x);var V=u.AA(o,x,T),a=V.rect;a.x=Math.floor(a.x*T);a.y=Math.floor(a.y*T);s=R[z];u.yU(V.z6,V.rect,s.z6,s.rect)}else s=u.AA(w,J.d8,T)}this.h9[z]=s}};
bx.prototype.oc=function(){clearTimeout(this.alT)};bx.prototype.Hm=function(){if(this.ku==null||!X._b(this.V))return;
var x=this.acg,R=this.V.width,T=this.V.height,V,a;if(x==null||x.width!=R||x.height!=T){x=this.acg=this.xv.createImageData(R,T);
console.log("creating image data")}var c=this.ku[this.Bl],g=this.h9[this.Bl],d=this.Q,U=d.V1,e=d.dz,N=e.m,l=e.e,J=U.m*d.O,w=U.e*d.O,s=Math.round((N-J)/2+d.w.x),o=Math.round((l-w)/2+d.w.y);
if(d.O<=1){a=g.rect.clone();a.x=s;a.y=o;J=a.m;w=a.e;V=g.z6}else{var O=1/d.O,S=new aP(Math.floor((e.x-s)*O),Math.floor((e.y-o)*O),Math.ceil(e.m*O)+1,Math.ceil(e.e*O)+1),L=new aP(0,0,S.m*d.O,S.e*d.O);
L.x=S.x*d.O+s;L.y=S.y*d.O+o;if(d.L6==null||d.L6.length!=S.Z()*4){d.L6=u.B(S.Z()*4)}if(d._m==null||d._m.length!=L.Z()*4){d._m=u.B(L.Z()*4)}u.Qu(d.L6,0);
u.yU(g.z6,g.rect,d.L6,S);u.scale.y9(d.L6,S.m,S.e,d._m,L.m,L.e,d.O);V=d._m;a=L}var Q=new Uint8Array(x.data.buffer);
u.P8(Q,N,l,8,-s,-o);u.l.Hy("norm",V,a,Q,e,e,1);var b=this.xv;b.setTransform(1,0,0,1,0,0);b.putImageData(x,0,0);
b.clearRect(s-4e3,o,4e3,w);b.clearRect(s+J,o,4e3,w);b.clearRect(s-4e3,o-4e3,J+8e3,4e3);b.clearRect(s-4e3,o+w,J+8e3,4e3);
var Z=bx.aBI(d.O,"#ffffff");b.putImageData(Z,0,d.dz.e-Z.height);var I=this.KC,d=this.Q;if(I){var y=jX.bX([.1,.5,1,1]),r=jX.bX([1,0,0,1]),h=jX.bX([1,1,1,1]),k=jX.bX([0,0,0,1]),K=d.ly(!1);
K.F0();b.save();b.setTransform(K.Y,K.J,K.zI,K.jR,K.a4,K.rY);b.strokeStyle=r;if(I.a5Z){jX.Xm(I.a5Z,null,b);
b.lineWidth=1/d.O;b.stroke()}b.strokeStyle=h;if(I.ayJ){jX.Xm(I.ayJ,null,b);b.lineWidth=1/d.O;b.stroke();
b.strokeStyle=k;b.setLineDash([4/d.O,4/d.O]);b.stroke();b.setLineDash([])}b.strokeStyle=y;b.fillStyle=jX.bX([1,1,1,1]);
if(I.Xp){jX.Xm(I.Xp,null,b);b.lineWidth=1/d.O;b.stroke()}if(I.rb){jX.rU(I.rb,b,d,.5);b.lineWidth=2/d.O;
b.stroke();b.fill()}if(I.fD){b.font=16/d.O+"px sans-serif";var H=1/d.O;for(var z=0;z<I.fD.length;z++){var p=I.fD[z],f=p[0],A=p[1]+6/d.O,_=p[2];
b.fillStyle="black";b.fillText(_,f-H,A);b.fillText(_,f+H,A);b.fillStyle="white";b.fillText(_,f,A)}}b.restore()}b.getImageData(0,0,1,1)};
bx.aiM="";bx.a7Y=null;bx.aBI=function(x,R,T,c){if(T==null){T=0;c=0}var g=T+" \xD7 "+c,d="z"+x+","+R+","+T+","+c;
if(d==bx.aiM)return bx.a7Y;var U=Math.round(50*X.mM()),e=Math.round(18*X.mM()),N=T==0?0:Math.round((g.length+2)*e*.35),l=X._("canvas"),J=l.getContext("2d");
l.width=U+N;l.height=e;J.fillStyle="rgba(1,1,1,1)";J.fillRect(0,0,U,e);if(T!=0)J.fillRect(U+2,0,N,e);
J.font=Math.round(11*X.mM())+"px monospace";J.fillStyle=R;var w=x*100;if(w<100)w=w.toFixed(2);else w=Math.round(w);
w=w+"%";var s=J.measureText(w).width;J.fillText(w,(U-s)/2,Math.round(e*.7));if(T!=0){var o=J.measureText(g).width;
J.fillText(g,U+(N-o)/2+1,Math.round(e*.7))}var a=J.getImageData(0,0,U+N,e);bx.aiM=d;bx.a7Y=a;return a};
bx.prototype.a7C=function(){var x=this.ku,R=x.length,T=this.Bl,c=this.ku[T],g=(T+1)%R;this.Hm();var d=Date.now();
if(R!=1&&x[g].d8.X$(c.d8)){var U=c.jF?parseInt(c.jF.split(",").pop()):30;if(U==0)U=16;U-=Math.floor((d-this.N$)*.4);
if(g==0)this.WN++;if(this.tW==0||this.WN<this.tW)this.alT=setTimeout(this.agY,U)}this.Bl=g;this.N$=d};
bx.prototype.s7=function(x,R){if(x<=0||R<=0)return;var T=Math.floor(x*X.mM()),c=Math.floor(R*X.mM());
this.Q.dz=new aP(0,0,T,c);this.V.width=T;this.V.height=c;this.V.setAttribute("style","width:"+T/X.mM()+"px; height:"+c/X.mM()+"px; display:block;");
this.Hm()};bx.prototype.oq=function(x){var R=-1,T=this.Cr;for(var z=0;z<T.length;z++)if(T[z].pointerId==x.pointerId)R=z;
return R};bx.prototype.LV=function(x){var R=this.oq(x),T=this.Cr;if(R!=-1)T[R]=x;else T.push(x);if(T.length==1){this.T8=x.target;
X.ri(window,this.a3y);X.Xc(window,this.afR);this.PK=X.il(x,this.V);this.PK.x*=X.mM();this.PK.y*=X.mM();
this.ls=this.PK;this.jc=this.Q.w.clone();if(this.oN&&this.T8==this.V&&!this.bo)this.c(new aA("mousedown"))}else this.acj=this.jV=cI.rE(X.il(T[0],this.V),X.il(T[1],this.V))};
bx.prototype.Dg=function(x){var R=this.oq(x),T=this.Cr;if(R!=-1)T[R]=x;var c=this.Q,g=this.bo,d=this.ku[this.Bl].d8.clone();
d.m*=c.O;d.e*=c.O;var U=X.il(x,this.V);U.x*=X.mM();U.y*=X.mM();this.ls=U;if(this.oN&&this.T8==this.V&&!g)this.c(new aA("mousemove"));
else if(g=="grab"||g==null){if(T.length>1){var e=X.il(T[0],this.V),N=X.il(T[1],this.V),l=new cI(X.mM()*(e.x+N.x)/2,X.mM()*(e.y+N.y)/2),J=cI.rE(e,N),w=null;
if(J>this.jV+50){this.jV+=50;w=!0}if(J<this.jV-50){this.jV-=50;w=!1}if(w!=null)this.Al(l,w);return}else{var s=U.x-this.PK.x,o=U.y-this.PK.y;
c.w.x=this.jc.x+Math.round(s);c.w.y=this.jc.y+Math.round(o)}this.c(new aA("viewchange"))}};bx.prototype.ho=function(x){var R=this.oq(x),T=this.Cr;
T.splice(R,1);if(T.length==0){X.Nx(window,this.a3y);X.YL(window,this.afR);var c=this.bo;if(x.detail>1){this.Q.O=1;
this.Q.w.LR(0,0);this.Hm()}if(this.oN&&this.T8==this.V&&!this.bo)this.c(new aA("mouseup"));else{if(c=="zoom-in"||c=="zoom-out")this.Al(this.ls,c=="zoom-in")}}else{var g=this.PK=X.il(T[0],this.V);
g.x*=X.mM();g.y*=X.mM()}};bx.prototype.IM=function(x){var R=this.ls;if(x){R=X.il(x,this.V);R.x*=X.mM();
R.y*=X.mM()}return this.Q.nU(R.x,R.y)};function es(){ky.call(this);this.G9=null;this.AE=null;this.Pf=null;
this.UB=null;this.ap8="";this.Yy=[];this.Ec=0;this.r6=[];this.yQ=0;this.Dn=null;var x=this.n=X._("div",""),R=this.acU=X._("div","form");
R.setAttribute("style","line-height:0; margin-bottom:0.5em;");x.appendChild(R);var T=this.nz=X._("span");
R.appendChild(T);T.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var c=this.ago=new kv([25,2,0]);
c.T(!0);R.appendChild(c.n);c.k(v.E.p,this.OD,this);var g=this.VT=new kv([25,2,1]);g.T(!0);R.appendChild(g.n);
g.k(v.E.p,this.OD,this);var d=new kk(" ");R.appendChild(d.n);var U=this.ov=new kD([25,1,1]);R.appendChild(U.n);
U.k(v.E.p,this.OD,this);this.Rl=new dQ(14);this.Rl.au6(3);R.appendChild(this.Rl.n);this.Rl.parent=this;
this.Rl.k(v.E.p,this.aqO,this);var e=this.ass=new i_([25,1,2],null,null,!0);R.appendChild(e.n);e.k("click",this.Zz,this);
var N=new i_("?",null,null,!0);R.appendChild(N.n);N.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.ad8=this.axJ.bind(this);this.Vj=X._("div","svggallery scrollable");x.appendChild(this.Vj);this.Vj.addEventListener("scroll",this.afG.bind(this))}es.prototype=new ky;
es.prototype.L4=function(x){this.ai$=x};es.prototype.t=function(){this.nz.textContent=go.get([25,0]);
this.Rl.t();this.ago.t();this.VT.t();this.ov.t();this.ass.t()};es.prototype.s7=function(x,R){this.G9=new cI(x,R);
this.acU.setAttribute("style","width:"+x+"px");var T=this.acU.getBoundingClientRect();R-=T.height;this.Vj.setAttribute("style","width:"+x+"px; height:"+R+"px");
if(X._b(this.n))this.OD()};es.prototype.T=function(x){this.AE=x;this.OD()};es.prototype.afG=function(x){var R=this.Vj;
if(R.scrollTop+R.clientHeight+10>=R.scrollHeight){this.OD(!0)}};es.prototype.aqO=function(x){this.Pf=null;
this.OD()};es.prototype.axJ=function(x){if(Date.now()-this.yQ<2e3)return;this.yQ=Date.now();this.Ec=this.r6.indexOf(x.currentTarget);
var R=this.XZ(this.AE.x,this.AE.y);if(R[1]){var T=R[1].largeImageURL,c=new XMLHttpRequest;c.responseType="arraybuffer";
c.open("GET",T,!0);c.onload=this.afW.bind(this);c.send();return}this.aj8(R)};es.prototype.afW=function(x){var R=x.target.response,T=dp.Xk(R),c=dp.Ix(T),g=c.x3(R),d=this.XZ(this.AE.x,this.AE.y,[R,g[0].d8.m,g[0].d8.e]);
this.aj8(d)};es.prototype.aj8=function(x){var R=x[0],T=dp.Xk(R),c=dp.Ix(T),g=new c9("template.psd");
c.x3(R,g);var d=new aA("tempready",!0);d.data={V1:g};this.c(d)};es.prototype.Zz=function(x){var R=x.target;
this.Yy=[];this.Pf=null;this.OD()};es.prototype.arE=function(x){var R=JSON.parse(x.target.response),T=this.UB=R.hits;
for(var z=0;z<T.length;z++)if(T[z].user_id==6314823)T.splice(z,1);this.OD()};es.prototype.OD=function(x){if(this.AE==null||this.G9==null||this.ai$==null)return;
if(this.G9.x<=0)return;var R=this.AE.x,T=this.AE.y;if(Math.min(R,T)<50)return;if(x!=!0){this.r6=[];X.Ra(this.Vj);
this.Vj.scrollTop=0}if(this.r6.length>300)return;var c=Math.min(1,300/Math.max(R,T)),g=this.G9.clone();
g.x-=20;var d=Math.max(1,Math.floor(g.x/(R*c))),U=Math.max(1,Math.ceil(g.y/(T*c)));c=g.x/d/R;var e=d*U;
if(this.Pf==null){var N=this.ai$.dA.rO(),l=[];for(var J in N){var w=N[J],s=w[3];if(!this.Rl.gE(w))continue;
if(w[5]==null||w[5].slice(0,2)=="gf")continue;l.push(w)}if(l.length==0)l.push(N.DejaVuSans);var o=l.length;
for(var z=0;z<o*10;z++){var V=Math.floor(Math.random()*o),a=Math.floor(Math.random()*o),O=l[V];l[V]=l[a];
l[a]=O}l=l.slice(0,10);this.Pf=l}var S=this.VT.h(),L=this.ov.h().trim();this.ov.Dd(S);if(S&&(this.UB==null||L!=this.ap8)){var Q=new XMLHttpRequest,b="https://pixabay.com/api/?image_type=photo"+(L==""?"":"&q="+encodeURIComponent(L))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(L=="")b="plugins/gallery.json";Q.open("GET",b,!0);Q.onload=this.arE.bind(this);Q.onerror=function(k){console.log(k.target.response)};
Q.send();this.ap8=L;return}c*=(R*c-5)/(R*c);var Z=this.r6.length;for(var z=0;z<e;z++){var I=this.Ec=Z+z;
if(this.Yy[I]==null)this.Yy[I]=Math.floor(Math.random()*4294967295);var y=this.XZ(Math.round(R*c),Math.round(T*c)),r=y[0];
r=n.KW(new Uint8Array(r));var h=X._("span");h.innerHTML=r;this.r6.push(h);this.Vj.appendChild(h);h.addEventListener("click",this.ad8,!1)}};
es.prototype.XZ=function(x,R,T){var c=this.VT.h(),g=this.ago.h(),d=c&&this.UB.length!=0?this.UB:null;
if(g&&!c)d=null;if(g&&c&&(this.Ec&1)==0)d=null;return aV.u1(x,R,this.Yy[this.Ec],this.Pf,T?T:d)};function gy(){ky.call(this);
this.n=X._("div");this.V2=null;this.a70=null;this.a9=-1;this.j1={JPG:[{Hl:new aw([12,52,0],0,100,"%",null,null,!0),UD:70},{Hl:new kv("attach metadata"),UD:!1}],TIFF:[{Hl:new kv("attach metadata"),UD:!1}],WEBP:[{Hl:new aw([12,52,0],0,100,"%",null,null,!0),UD:70},{Hl:new kv("attach metadata"),UD:!1}],GIF:[{Hl:new aw([12,52,0],0,100,"%",null,null,!0),UD:100},{Hl:new kv([12,23,3]),UD:!1}],PNG:[{Hl:new aw([12,52,0],0,100,"%",null,null,!0),UD:100},{Hl:new kv("don't use palettes"),UD:!1}],BMP:[{Hl:new kv("don't use palettes"),UD:!1}],PDF:[{Hl:new kD([12,52,1]),UD:""},{Hl:new aw([12,52,0],0,100,"%",null,null,!0),UD:100},{Hl:new kv("reverse pages"),UD:!1},{Hl:new kv("rasterize all"),UD:!1},{Hl:new kv("vectorize text"),UD:!1},{Hl:new aw("Add Margin",0,5,"in",2),UD:0},{Hl:new kv("add crop marks"),UD:!1}],EMF:[{Hl:new kD([12,52,1]),UD:""},{Hl:new aw([12,52,0],0,100,"%",null,null,!0),UD:100},{Hl:new kv("reverse pages"),UD:!1},{Hl:new kv("rasterize all"),UD:!1},{Hl:new kv("vectorize text"),UD:!1},{Hl:new aw("Add Margin",0,5,"in",2),UD:0}],SVG:[{Hl:new kv("add raster graphics"),UD:!0},{Hl:new kv("add hidden layers"),UD:!1},{Hl:new kv("vectorize text"),UD:!1},{Hl:new kv("rasterize text"),UD:!1},{Hl:new kv("minify"),UD:!1}],RAW:[{Hl:new cZ([12,72],["1","3","4"]),UD:2},{Hl:new cZ([12,34],["8 Bits","16 Bits"]),UD:0},{Hl:new cZ("Byte Order",["12-34","34-12"]),UD:0}],DDS:[{Hl:new ad("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),UD:0},{Hl:new kv("Add Mipmaps"),UD:!0}],MP4:[],anim:[{Hl:new aw("Speed",10,800,"%",null,!0,!0),UD:100},{Hl:new i1("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),UD:0},{Hl:new kv("reverse frames"),UD:!1},{Hl:new kv("boomerang"),UD:!1}],slcs:[{Hl:new kv([8,11,0]),UD:!0}],artb:[{Hl:new kv([1,16,1]),UD:!0}],hicc:[{Hl:new kv("convert to sRGB"),UD:!0}]};
for(var x in this.j1){var R=this.j1[x];for(var z=0;z<R.length;z++){R[z].Hl.T(R[z].UD);R[z].Hl.k(v.E.p,this.gv,this)}}}gy.prototype=new ky;
gy.prototype.ayI=function(){this.a9=-1};gy.prototype.t=function(){for(var x in this.j1)for(var z=0;z<this.j1[x].length;
z++)this.j1[x][z].Hl.t()};gy.prototype.gv=function(){this.OD();this.c(new aA(v.E.p,!1))};gy.prototype.OD=function(){var x=this.V2,R=x[0],T=x[1],c=x[2],g=x[3],d=x[4],U=this.j1[R];
if(U==null)U=[];else U=U.slice(0);if(T)U=U.concat(this.j1.anim);if(["GIF","PNG","JPG"].indexOf(R)!=-1&&c)U=U.concat(this.j1.slcs);
else if(["GIF","PNG","JPG","SVG"].indexOf(R)!=-1&&g)U=U.concat(this.j1.artb);if(d)U=U.concat(this.j1.hicc);
var e=x.join(",");if(e!=this.a9){this.a9=e;X.Ra(this.n);for(var z=0;z<U.length;z++){if(R=="PDF"&&!g&&(z==0||z==2))continue;
this.n.appendChild(U[z].Hl.n);X.pz(this.n)}}var N=this.a70=[];for(var z=0;z<U.length;z++)N.push(U[z].Hl.h())};
gy.prototype.V_=function(x,R,T,c,g){this.V2=[x,R,T,c,g];this.OD()};gy.prototype.h=function(){return this.a70.slice(0)};
gy.prototype.T=function(x,R){var T=this.V2,c=T[0],g=this.j1[c],d=Math.min(g.length,x.length);for(var z=0;
z<d;z++)g[z].Hl.T(x[z]);this.OD();if(R!=!0)this.gv()};function hI(){ky.call(this);this.n=X._("span","fitem");
this.iJ=!1;this.mn=new i_("No",!1,"Cancel");this.AH=new i_("Yes",!1,"Confirm");this.n.appendChild(this.mn.n);
this.n.appendChild(this.AH.n);this.mn.k("click",this.LU,this);this.AH.k("click",this.LU,this);this.t()}hI.prototype=new ky;
hI.prototype.t=function(){this.mn.W7(X.t6("cross",null,"autoscale"));this.AH.W7(X.t6("checkmark",null,"autoscale"))};
hI.prototype.LU=function(x){this.iJ=x.target==this.AH;this.c(new UIEvent("click"))};hI.prototype.h=function(){return this.iJ};
function eD(x){ky.call(this);this.n=X._("span","fitem");this.Vr=new i_("\u25BC",null,"Auto Options",!0);
X.Us(this.Vr.n,this.ayx.bind(this));this.n.appendChild(this.Vr.n);this.Vp=new i_("Auto",null,null,!0);
this.Vp.k("click",this.DV,this);this.n.appendChild(this.Vp.n);this.fW=new ii("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.fW.k(v.E.p,this.DV,this);this.fW.T([!1,!1,!1,!0]);this.NG=new ky;var R=this.NG.n=X._("div","floatcont form");
R.setAttribute("style","width: 250px;");this.NG.parent=this;R.appendChild(this.fW.n);this.R3=[];for(var z=0;
z<2;z++){var T=new i1((z==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);T.T(.1);T.k(v.E.p,this.DV,this);
this.R3.push(T);R.appendChild(T.n)}}eD.prototype=new ky;eD.prototype.DV=function(x){this.c(new aA(v.E.p,!1))};
eD.prototype.t=function(){};eD.prototype.h=function(){return[this.fW.h().indexOf(!0),this.R3[0].h(),this.R3[1].h()]};
eD.prototype.ayx=function(x){if(X._b(this.NG.n))return;x.stopPropagation();var R=this.Vr.n.getBoundingClientRect(),T=new aA(v.E.P,!0);
T.data={d:v.H.fu,YR:this.NG,x:R.left,y:R.top+R.height+4};this.c(T)};function fY(){ky.call(this);var x=this.n=X._("div","fitem");
this.Zo=new ad([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Zo.k(v.E.p,this.S0,this);x.appendChild(this.Zo.n);
this.$B=new dW(!1);this.$B.parent=this;this.$B.M0(16777215);this.$B.k(v.E.p,this.S0,this);x.appendChild(this.$B.n)}fY.prototype=new ky;
fY.prototype.t=function(){this.Zo.t();this.$B.t()};fY.prototype.aCG=function(x){var R=[x.artboardBackgroundType.v-1];
if(x.Clr)R.push(x.Clr.v);this.T(R)};fY.prototype.ajS=function(){var x=this.h();return{classID:"artboard",Clr:{t:"Objc",v:x[1]},artboardBackgroundType:{t:"long",v:x[0]+1}}};
fY.prototype.T=function(x){this.Zo.T(x[0]);if(x[1])this.$B.T(x[1])};fY.prototype.h=function(){return[this.Zo.h(),this.$B.h()]};
fY.prototype.S0=function(x){if(x.target==this.$B)this.Zo.T(3);this.c(new aA(v.E.p,!1))};function d9(x){ky.call(this);
this.OC=x;this.OG=0;this.a4g=!1;this.uv=x?new d9.tM:null;this.n=X._("div","flexrow storageset");this.n.style.background="var(--bg-panel)";
this.y_=X._("div");this.n.appendChild(this.y_);this.S$=X._("div");this.n.appendChild(this.S$);this.ra=[];
var R=Storage.list.length;if(x)R++;var T=this.p_.bind(this);for(var z=0;z<R;z++){var c=X._("div");this.ra.push(c);
this.y_.appendChild(c);c.addEventListener("click",T,!1)}this.p_(null,0)}d9.prototype=new ky;d9.aZ=[];
d9.X6=function(x){d9.aZ.push(x);x.a5()};d9.sP=function(){var x=d9.aZ;x.pop();x[x.length-1].a5()};d9.prototype.a5=function(){console.log(this.OG);
this.p_(null,this.OG)};d9.prototype.L4=function(x,R){if(!x.yB&&!this.a4g){var T=this.OC?2:1;for(var z=T;
z<this.ra.length;z++)this.y_.removeChild(this.ra[z]);this.a4g=!0;if(this.OC)this.uv.L4(x,R)}if(this.Qp)this.Qp.L4(x,R)};
d9.prototype.t=function(){if(this.OC)this.uv.t();if(this.Qp)this.Qp.t()};d9.prototype.p_=function(x,R){var T=this.ra,c;
if(R==null)R=T.indexOf(x.currentTarget);this.OG=R;for(var z=0;z<T.length;z++)X.ia(T[z],"active");X.MQ(T[R],"active");
if(this.OC)R--;X.Ra(this.S$);if(R==-1)c=this.uv;else c=Storage.qK(R);this.Qp=c;c.parent=this;this.S$.appendChild(c.n);
this.s7(this.KQ,this.kh);this.t()};d9.prototype.s7=function(x,R){this.KQ=x;this.kh=R;var T=x<850,c=T?50:200,g=Storage.list;
if(this.OC)g=[["Home",null,"strg/home"]].concat(g);for(var z=0;z<g.length;z++){var d=this.ra[z],U="padding: 8px "+(T?13:36)+"px; cursor:pointer;";
d.setAttribute("style",U);d.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[g[z][2]]+"\" /> "+(T?"":g[z][0])}this.n.style.width=x+"px";
this.n.style.height=R+"px";this.y_.style.width=c+"px";this.y_.style.paddingTop="32px";if(this.Qp)this.Qp.s7(x-c,R)};
d9.tM=function(){this.o3=null;var x=this.n=X._("div");x.style.background="var(--bg-canvas)";var R=this.B$=X._("div");
x.appendChild(R);var T=X._("style");x.appendChild(T);T.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var z=0;z<2;z++){var c=X._("div"),T="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";R.appendChild(c);
if(z==0)T+="padding: 12px 0px";if(z==1)T+="position:absolute;  bottom:0;";c.setAttribute("style",T);
var g=X._("img");c.appendChild(g);g.setAttribute("src",PIMG[z==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(z==0)this.pK=g;else this.a8s=g;if(z==0)this.aAc=c;else this.arA=c}this.ra=[];T="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var d=this.VQ.bind(this),U=X._("div");R.appendChild(U);U.setAttribute("style","width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var z=0;z<4;z++){var e=X._("span","bhover");this.ra.push(e);e.setAttribute("style",T+"cursor:pointer; padding:12px;");
e.addEventListener("click",d,!1);U.appendChild(e)}X.pz(R);var c=X._("div");c.setAttribute("style",T+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
c.textContent="Drop any files here";R.appendChild(c);this.V=X._("canvas");this.V.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.xv=this.V.getContext("2d");this.atS=u.B(4);x.appendChild(this.V);var N=new Date().getDate(),l=new Date().getMonth();
if(l==11&&N>20||l==0&&N<10){var J=Math.random()<.5,w={o:255,A:255,J:255};if(!J){w=u.oC(Math.random(),Math.random()*.7,1);
w.o*=255;w.A*=255;w.J*=255}this.UL=[Math.round(1048575*Math.random()),J?.05:.02,Math.round(4+Math.random()*8),1,J?3:15,w,0,!0,J,J?1:.2,3];
this.ahb=J?.1:.2;this.bm=this.Ul.bind(this);window.requestAnimationFrame(this.bm)}};d9.tM.prototype=new ky;
d9.tM.prototype.Ul=function(){window.requestAnimationFrame(this.bm);if(!X._b(this.n))return;var x=this.atS,R=this.V,T=this.xv,c=R.width,g=R.height;
this.UL[6]=Date.now()*.001*this.ahb;u.zx.$$(x,c,g,this.UL,!0);T.putImageData(new ImageData(new Uint8ClampedArray(x.buffer),c,g),0,0)};
d9.tM.prototype.VQ=function(x){var z=this.ra.indexOf(x.currentTarget),R=new aA(v.E.P,!0);if(z==0)R.data={d:v.H.i$,$k:"newproject"};
if(z==1)R.data={d:v.H.au};if(z==2)R.data={d:v.H.i$,$k:"res0"};if(z==3)R.data={d:v.H.sJ};this.c(R)};d9.tM.prototype.t=function(){var x=this.ra,R=[[11,7],[1,6],[25,0],[0,17,6]],T=["\u2605","\uD83E\uDC7F","\u25A3"],T=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var z=0;z<x.length;z++)x[z].innerHTML="<span style=\"vertical-align:middle\">"+X.t6(T[z],null,"autoscale")+"</span>\u2000"+go.get(R[z]);
var c="l"+"o"+"g"+"o_"+["pp","vp"][b5],g=new Date;if(g.getMonth()==3&&g.getDate()==1)c="lo"+"go_cuc"+"umber";
this.pK.setAttribute("src",PIMG[c]);this.a8s.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};d9.tM.prototype.s7=function(x,R){var T=Math.min(R*1.5,Math.min(x,600));
X.ja(this.V,x,T*.26);var c=this.V.width,g=this.V.height;this.atS=u.B(c*g*4);this.n.style.width=x+"px";
this.n.style.height=R+"px";this.arA.style.width=x+"px";this.B$.style.marginLeft=Math.max(0,Math.round((x+200-600)/2)-200)+"px";
this.pK.style.width=T+"px";this.a8s.style.width=T+"px"};d9.tM.prototype.L4=function(x,R){var T=x;if(x==null)x=this.Dn;
this.Dn=x;if(!x.yB&&this.ra[2].parent){this.B$.removeChild(this.ra[2]);this.B$.removeChild(this.ra[3])}this.ra[3].style.display=x.GJ?"inline-block":"none";
if(T)this.o3=setTimeout(this.L4.bind(this),100)};function Storage(x){ky.call(this);var R=this.n=X._("div","storage");
X.Sc(R);R.addEventListener("drop",this.a4u.bind(this),!1);var T=this.atr=X._("style");R.appendChild(T);
R.setAttribute("tabindex","0");R.style.outline="none";R.addEventListener("keydown",this.a61.bind(this),!1);
this.rw=this.a5J.bind(this);this.WK=0;this.Wm=0;var c=X._("div");R.appendChild(c);var g=this.a14.bind(this);
this.Z3=X._("div","bar");c.appendChild(this.Z3);this.Lp=X._("div","fls scrollable");c.appendChild(this.Lp);
this.Kr=X._("div");c.appendChild(this.Kr);this.Kr.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.NM=X._("div","bar");this.NM.textContent="Name: ";var d=this.yW=X._("input");d.setAttribute("type","text");
this.NM.appendChild(d);var U=this.vI=X._("div","btn");U.textContent="Save";this.NM.appendChild(U);X.Xc(U,g);
X.Us(this.Lp,this.rw);this.T6=0;this.Kd=x;var e=this.ajV.bind(this),N=this.avE=X._("div");N.setAttribute("style","text-align:center; font-size:1.6em");
var l=X._("img");N.appendChild(l);X.pz(N);l.setAttribute("src",PIMG[Storage.list[this.Kd][2]]);l.setAttribute("style","opacity:0.5;  width:25%; cursor:pointer;");
X.Xc(l,e);this.IF=X._("div","btn");N.appendChild(this.IF);X.Xc(this.IF,e);this.MC=new d$([{name:[6,20]},{name:[5,2],sZ:[fZ.Gc,fZ.Af],r:function(){return{r:Storage.QW!=null}}}]);
this.MC.parent=this;this.MC.k("select",this.sq,this);this.Lp.addEventListener("contextmenu",this.rw);
this.arX=X._("span");this.Nd=X._("span");this.Nd.setAttribute("style","position:absolute; right:0; top:5px;");
this.sc=[];this.fF=[];for(var z=0;z<3;z++){var J=X._("div","btn");this.sc.push(J);this.arX.appendChild(J);
X.Xc(J,g);J.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][z]}for(var z=0;z<5;z++){var J=X._("div","btn");
this.fF.push(J);this.Nd.appendChild(J);X.Xc(J,g)}window.addEventListener("message",this.apH.bind(this),!1);
this.aC9=!1;this.RK=0;setInterval(this.agp.bind(this),300);this.rP();var w=this.ar8=document.createElement("input");
w.setAttribute("type","file");w.addEventListener("change",this.a4u.bind(this),!1);document.body.appendChild(w);
w.setAttribute("style","display:none");w.setAttribute("multiple","")}Storage.prototype=new ky;Storage.yp=!1;
Storage.prototype.a4u=function(x){x.stopPropagation();x.preventDefault();var R=x.dataTransfer?x.dataTransfer.files:x.target.files;
this.azw=R.length;Storage.QW={};for(var z=0;z<R.length;z++){var T=R[z],c=new FileReader;c.ue=T;c.onload=this.aBA.bind(this);
c.readAsArrayBuffer(T)}};Storage.prototype.aBA=function(x){var R=Storage.QW;R[x.target.ue.name]=x.target.result;
this.azw--;if(this.azw==0)this.qs()};Storage.prototype.L4=function(x,R){var T=Storage.list[this.Kd][3],c=i3.vc();
if(T){if(this.RK==1&&X._b(this.n)&&c!=null){this.rP()}if(this.RK==2&&c==null){this.HK("forget","")}}};
Storage.prototype.agp=function(){var x=X._b(this.n),R=this.aC9;if(x&&!R){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!x&&R){window.onpopstate=function(){};history.go(-1)}this.aC9=x};
Storage.prototype.rP=function(){if(this._q)document.body.removeChild(this._q);this.nl=[[]];this.uK=0;
this.ar_={"/":[]};this.aaF="";this.jq=null;this.Kw=[];this.eC=[];this.azY=[];this.a2j=null;var x="code/storages/"+Storage.list[this.Kd][1],R=this._q=X._("iframe");
R.setAttribute("src",x);R.setAttribute("style","display:none");document.body.appendChild(R)};Storage.prototype.Bu=function(){return this.ar_[this.pn()]};
Storage.prototype.ID=function(x){this.ar_[this.pn()]=x};Storage.qK=function(z){var x=Storage.Bf[z];if(x==null)x=Storage.Bf[z]=new Storage(z);
return x};Storage.Bf=[];Storage.V6=0;Storage.a7w="";Storage.b3=function(x,R){Storage.V6=x;Storage.a7w=R;
var T=Storage.Bf;for(var z=0;z<T.length;z++)if(T[z])T[z].a5()};Storage.au8=[500*(1<<20),5e3*(1<<20)];
Storage.dm=0;Storage.uf=2;Storage.wD=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.aiW=function(x){for(var z=0;z<Storage.Bf.length;z++){if(Storage.Bf[z]&&Storage.Bf[z]._q.contentWindow==x)return!0}return!1};
Storage.prototype.a61=function(x){if(x.target.tagName=="INPUT")return;var R=fZ;if(R.mf(x.code,R.U5)&&this.pn().length!=0)this.ap2();
else if(x.ctrlKey){if(R.mf(x.code,R.H)){var T=[];this.ID(T);for(var z=0;z<this.jq.length;z++)T.push(z);
this.JC()}if(R.mf(x.code,R.Fa))this.DC(2);if(R.mf(x.code,R.Af))this.qs()}else if(R.mf(x.code,R.AQ)){var c=this.Bu();
if(c.length!=0)this.as_(c[0])}else if(R.mf(x.code,R.ve)){this.uK=Math.max(this.uK-1,0);this.jM()}else{var g=0;
for(var z=65;z<=90;z++)if(x.code=="Key"+String.fromCharCode(z))g=z;if(g!=0){var d=String.fromCharCode(g).toLowerCase(),U=[],e=this.jq,N;
for(var z=0;z<e.length;z++)if(e[z][0][0].toLowerCase()==d)U.push(z);if(U.length==0)return;var c=this.Bu();
if(c.length==0)N=U[0];else{var l=U.indexOf(c[0]);if(l==-1){N=U[0];for(var z=0;z<U.length;z++)if(U[z]>c[0]){N=U[z];
break}}else N=U[(l+1)%U.length]}this.ID([N]);this.JC(!0)}}};Storage.prototype.s7=function(x,R){this.KQ=x;
this.kh=R;this.n.style.width=x+"px";this.n.style.height=R+"px";var T=x-30,c=Math.floor(T/230),T=Math.floor(T/c)-70;
this.atr.textContent=".storage .tile .name {  width:"+T+"px;  }";this.yW.style.width=x-140+"px";this.Lp.style.width=this.Z3.style.width=x-20+"px";
this.Lp.style.height=R-70-(Storage.V6==0?0:45)+"px"};Storage.prototype.ajV=function(){this.jM()};Storage.prototype.jM=function(){this.Wm=1;
this.HK("show",this.pn())};Storage.prototype.pn=function(x){var R=this.nl[this.uK],T="/"+R.join("/");
if(x&&R.length!=0)T+="/";return T};Storage.prototype.a14=function(x){var R=x.currentTarget,T=this.uK,c=this.sc.indexOf(R),g=this.fF.indexOf(R);
if(c>=0&&!this.amn(c))return;if(c==0){this.uK=Math.max(T-1,0);this.jM()}if(c==1){this.uK=Math.min(T+1,this.nl.length-1);
this.jM()}if(c==2){var d=this.nl[T+1]=this.nl[T].slice(0);d.pop();this.uK++;this.nl=this.nl.slice(0,this.uK+1);
this.jM()}if(g==0){var U=document.createEvent("MouseEvents");U.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.ar8.dispatchEvent(U)}if(g==1){Storage.dm=(Storage.dm+1)%2;this.a5()}if(g==2){Storage.uf=(Storage.uf+1)%3;
this.a5()}if(g==3){Storage.wD=(Storage.wD+1)%3;this.a5()}if(g==4){this.HK("forget","")}if(R==this.vI){var e=this.yW.value.trim(),N=this.jq,l=-1;
if(!e.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");return}for(var z=0;
z<N.length;z++)if(N[z][0]==e)l=z;if(l!=-1){this.pd("Do you really want to replace \""+e+"\"?",this.arg.bind(this))}else this.arg()}};
Storage.prototype.arg=function(){var x=this.yW.value.trim(),R=[this.Kd,this.pn(!0)+x];this.Pa({d:v.H.anE,Xb:R});
this.c(new aA("canclose",!0))};Storage.prototype.qs=function(){if(Storage.QW==null)return;this.Pa({d:v.H.b$,zd:go.get("Uploading ...")});
this.WK=4;hE.qK(2,this._q,[this.pn(),Storage.QW,this.jq],null,this.aiI.bind(this))};Storage.prototype.aiI=function(x){this.WK=0;
this.Pa({d:v.H.v5,zd:go.get("Uploading ...")});this.jM()};Storage.prototype.sq=function(x){var R=x.target.ty();
if(x.target==this.MC){if(R[0]==0){var T=[go.get([6,20]),-1,0];this.jq.push(T);this.a5();var z=this.jq.indexOf(T),c=this.Kw[z].querySelector(".name");
console.log(c);var g=new dF.P$(c,function(w){this.Pa({d:v.H.b$,zd:go.get([1,2])+" ..."});var s=this.pn(!0)+w+"/";
console.log(s);this.HK("save",s)}.bind(this),!0)}else this.qs()}else{if(R[0]==0){this.DC(2)}else if(R[0]==1){var z=this.Bu()[0],d=this.jq[z],c=this.Kw[z].querySelector(".name");
console.log(c);c.innerHTML=d[0];var g=new dF.P$(c,function(w){w=w.trim();var s=this.jq;for(var z=0;z<s.length;
z++)if(s[z][0]==w){alert("Item with such name already exists.");this.a5();return}var o=this.pn(!0)+d[0]+":"+w;
console.log(o);this.HK("rename",o)}.bind(this))}else if(R[0]==2){this.DC(3)}else if(R[0]==3)this.ap2();
else if(R[0]==4){this.DC(1)}else{var U=this.jq[this.Bu()[0]],e=Storage.NO(U),N=e[R[1]],l=N[0],J=this.mV().pop()[1];
if(Storage.aw5(U,l)!=-1){this.HK("share",J+":"+l+":-1");alert("Unshared.")}else{this.HK("share",J+":"+l+":"+R[2]);
alert("Shared.")}}}};Storage.aw5=function(x,R){var T=x[4];if(T==null)return-1;if(T.indexOf(R+":0")!=-1)return 0;
if(T.indexOf(R+":1")!=-1)return 1;return-1};Storage.prototype.ap2=function(){var x=this.Bu();this.pd("Do you really want to delete "+(x.length==1?"\""+this.jq[x[0]][0]+"\"":"these files")+"?",this.XL.bind(this))};
Storage.prototype.pd=function(x,R){var T={d:v.H.i$,$k:"confirm",b:x,BJ:R};this.Pa(T)};Storage.prototype.DC=function(x){this.WK=x;
if(1<x)this.Pa({d:v.H.b$,zd:go.get("Downloading ...")});else this.Pa({d:v.H.b$,zd:go.get("Getting info ...")});
hE.qK(0,this._q,this.pn(),this.mV(!0),this.a11.bind(this))};Storage.prototype.a11=function(x){if(this.WK==1){var R=0,T=0;
for(var c in x){var g=x[c];R+=g[1];T++}this.pd(T+" files, "+dO.uE(R)+" in total.",function(){});this.Pa({d:v.H.v5,zd:go.get("Getting info ...")});
this.WK=0}if(1<this.WK)hE.qK(1,this._q,x,null,this.ax3.bind(this))};Storage.prototype.ax3=function(x){if(1<this.WK){if(1<this.WK)this.Pa({d:v.H.v5,zd:go.get("Downloading ...")});
var R={},T=this.pn(!0);for(var c in x)R[c.slice(T.length)]=x[c];if(this.WK==2){Storage.QW=R;alert("Copied to a clipboard")}if(this.WK==3){var g=Object.keys(x);
if(g.length==1)hG.save(x[g[0]].buffer,g[0].split("/").pop());else hG.save(UZIP.encode(R),T=="/"?"files.zip":this.pn().split("/").pop()+".zip")}}this.WK=0};
Storage.QW=null;Storage.prototype.XL=function(){this.Pa({d:v.H.b$,zd:go.get([5,4])+" ..."});this.eC=this.mV();
this.Lw()};Storage.prototype.Lw=function(){if(this.eC.length==0){this.Pa({d:v.H.v5,zd:go.get([5,4])+" ..."});
this.ID([]);this.jM()}else this.HK("delete",this.eC.pop()[1])};Storage.prototype.mV=function(x){var R=[],T=this.pn(!0),c=this.Bu();
for(var z=0;z<c.length;z++){var g=this.jq[c[z]];if(x)R.push(g[0]);else R.push([this.Kd,T+g[0]])}return R};
Storage.prototype.HK=function(x,R){X.MQ(this.n,"disabled");this.aaF=x;if(Storage.yp)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+x+"\", \"prm\": "+JSON.stringify(R)+"  }");
this._q.contentWindow.postMessage("{\"code\": \""+x+"\", \"prm\": "+JSON.stringify(R)+"  }","*")};Storage.prototype.apH=function(x){if(x.source!=this._q.contentWindow||this.WK!=0)return;
X.ia(this.n,"disabled");if(typeof x.data=="string"){if(Storage.yp)console.log("==",Math.floor(Date.now()/1e3),x.data);
var R=JSON.parse(x.data),T=R.code,c=R.prm,g=this.aaF,d=Storage.list[this.Kd][3];if(T=="ready"){if(d&&!c){var U=i3.vc();
console.log(U);var e=i3.ig(),N=e.acc;if(U==null){this.RK=1;alert("Log in to use this storage (press Account at the top).");
this.__();return}var l=[],J=U.wantToJoin;for(var w in J)l.push(parseInt(w.slice(1)));var s=[],o=U.inTeams;
for(var z=0;z<o.length;z++)s.push(o[z][2]);var V={uid:U.id,limit:Storage.au8[i3.T9()?1:0],inTeams:s,myTeams:l};
V.secret=N&&N.pds?N.pds:"";this.HK("login",V);return}if(d)this.RK=2;if(d&&R.secret){var e=i3.ig(),N=e.acc;
if(N==null)N=e.acc={};N.pds=R.secret;i3.k6(e)}if(c)this.jM();else this.__()}else if(T!="0"){if(g=="save")this.Pa({d:v.H.v5,zd:go.get([1,2])+" ..."});
if(g=="delete")this.Lw();alert(c);this.a5()}else if(g=="show"){this.Wm=0;this.jq=c;this.a5()}else if(g=="save"){this.Wm=0;
this.Pa({d:v.H.v5,zd:go.get([1,2])+" ..."});this.jM()}else if(g=="delete"){this.Lw()}else if(g=="forget"){if(d)this.__();
else this.rP()}else if(g=="rename"||g=="share"){this.jM()}else throw T}else{if(Storage.yp)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.Pa({d:v.H.aeI,Xb:this.mV()[0],Ik:x.data});this.Pa({d:v.H.v5,zd:"Opening ..."})}};Storage.prototype.__=function(){X.Ra(this.Z3);
X.Ra(this.Lp);X.Ra(this.Kr);this.Lp.appendChild(this.avE)};Storage.prototype.amn=function(z){if(z==0)return this.uK>0;
if(z==1)return this.uK<this.nl.length-1;if(z==2)return this.pn()!="/"};Storage.prototype.a5=function(){var x=Storage.list[this.Kd][3],R=this.jq,T=Storage.uf,c=Storage.dm,g=Storage.wD;
if(R==null)return;R.sort(function(p,f){var A=p[1]==-1?1:5,_=f[1]==-1?1:5,W=0;if(Math.min(A,_)==1&&A!=_)return A-_;
else if(A==1||T==0)W=p[0].toLowerCase()<f[0].toLowerCase()?-1:1;else if(T==1)W=p[1]-f[1];else if(T==2)W=p[2]-f[2];
if(c==1)W=-W;if(p[0]=="Shared")W=-1;if(f[0]=="Shared")W=1;return W});var d=this.Lp,U=this.Z3,e=this.nl[this.uK];
X.Ra(d);X.Ra(U);this.Kw=[];for(var z=0;z<3;z++)if(this.amn(z))X.ia(this.sc[z],"disabled");else X.MQ(this.sc[z],"disabled");
U.appendChild(this.arX);U.appendChild(this.Nd);var N=X._("span");N.textContent="/";U.appendChild(N);
for(var z=0;z<e.length;z++){var N=X._("span");N.textContent=e[z];U.appendChild(N);var N=X._("span");
N.textContent="/";U.appendChild(N)}var l=["tile","icon","litm"][g];for(var z=0;z<R.length;z++){var J=R[z],w=J[1]==-1,s=w?"":dO.uE(J[1]),o=X._("div","cont "+l),y=!1;
d.appendChild(o);this.Kw.push(o);o.setAttribute("title",J[0]+(w?"":"\nSize: "+s+"\nDate Modified: "+new Date(J[2]*1e3).toLocaleString().replaceAll(". ",".")));
var V=X._("img");V.setAttribute("src",w?Storage.akf:J[3]?J[3]:Storage.ue);if(!w&&J[3])V.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var a=X._("span","name"),O=J[0];if(l=="icon"&&O.length>30)O=O.slice(0,24)+".."+O.slice(O.length-5);if(x&&e.length==1&&e[0]=="Shared"){var S=Storage.NO(),L=parseInt(O.slice(5));
for(var Q=0;Q<S.length;Q++)if(S[Q][0]==L)O=S[Q][1]}a.textContent=O;o.appendChild(V);o.appendChild(a);
if(l!="icon"&&!w){if(l=="tile")X.pz(a);var b=X._("span");b.textContent=s;b.style.opacity="0.8";(l=="tile"?a:o).appendChild(b)}var Z=J[0].split("."),I=(Z.length==1?"":Z.pop()).toUpperCase();
if(x&&J[0]=="Shared"&&e.length==0){y=!0;I="\u21E7"}if(l!="litm"&&(!w&&J[3]==null||y)){var r=X._("span","ext");
r.textContent=I;var h=Storage.TE[I];r.style.backgroundColor=h?h:Storage.a3M(I);o.appendChild(r)}X.Us(o,this.rw);
o.addEventListener("contextmenu",this.rw)}this.JC();var k=this.NM.parentNode!=null,K=Storage.V6,H=this.n;
if(k&&K==0)H.removeChild(this.NM);if(!k&&K==1)H.appendChild(this.NM);this.s7(this.KQ,this.kh);this.t()};
Storage.prototype.JC=function(x){var R=this.Kw,T=this.jq,c=this.Bu(),g=!1,d=0;for(var z=0;z<R.length;
z++){var U=T[z],e=U[1]==-1,N=R[z];if(Storage.V6==1&&!e&&!U[0].toLowerCase().endsWith(".psd"))N.style.display="none";
else N.style.display="auto";if(c.indexOf(z)==-1)X.ia(N,"active");else{if(e)g=!0;else d+=U[1];X.MQ(N,"active");
if(x)N.scrollIntoView({block:"center",behavior:"smooth"})}}var l=g?"":dO.uE(d);this.Kr.textContent=c.length==0?"":c.length+" item"+(c.length==1?"":"s")+" selected\u2001"+l;
this.yW.value=c.length==1&&!g?T[c[0]][0]:Storage.a7w};Storage.prototype.as_=function(z){var x=this.jq[z];
if(x[1]==-1){var R=this.nl[this.uK].slice(0);R.push(x[0]);this.uK++;this.nl[this.uK]=R;this.nl=this.nl.slice(0,this.uK+1);
this.ID([]);this.jM()}else if(Storage.V6==0){this.Pa({d:v.H.b$,zd:"Opening ..."});this.c(new aA("canclose",!0));
var T=this.pn(!0)+x[0];this.HK("load",T)}};Storage.prototype.t=function(){var x=Storage.uf,R=Storage.dm,T=Storage.wD;
this.fF[0].textContent="Upload";this.fF[1].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][R];this.fF[2].textContent=go.get([[12,48],[12,14,0],"Date"][x]);
this.fF[3].textContent=go.get(["Tiles","Icons",[25,3,1]][T]);this.fF[4].textContent="\u2716";this.IF.innerHTML=go.get([[23,6],Storage.list[this.Kd][0]])+"<br/><small><small>"+Storage.list[this.Kd][4]+"</small></small>";
this.L4()};Storage.prototype.a5J=function(x){this.Pa({d:v.H.za});if(X._b(this.avE))return;if(x.button==3||x.button==4){if(Date.now()-this.anP>50){var R=this.uK;
if(x.button==3)this.uK=Math.max(R-1,0);else this.uK=Math.min(R+1,this.nl.length-1);this.jM()}this.anP=Date.now();
return}x.stopPropagation();var z=this.Kw.indexOf(x.currentTarget);if(x.type=="contextmenu"){if(this.jq==null)return;
x.preventDefault();var T=this.MC;if(z!=-1){var c=[{name:[5,1],sZ:[fZ.Gc,fZ.Fa]},{name:[6,37]},{name:"Download",NC:!0},{name:[5,4],sZ:[fZ.U5]},{name:[9,2]}];
if(Storage.list[this.Kd][3]){var g=this.jq[z],d=Storage.NO(g);if(d.length!=0){var U=[];for(var e=0;e<d.length;
e++){var N=[],l=d[e],J=Storage.aw5(g,l[0]);if(J!=-1)N.push({name:"Unshare"});else N.push({name:"Allow Read"},{name:"Allow Read & Write"});
U.push({name:l[1]+[""," (R)"," (R,W)"][J+1],sub:N})}c.push({name:"Share With",sub:U})}}T=new d$(c);T.parent=this;
T.k("select",this.sq,this)}T.parent=this;T.t();T.update();this.Pa({d:v.H.fu,YR:T,x:x.clientX+4,y:x.clientY});
return}var w=this.Bu(),s=w.indexOf(z);if(x.button!=0&&s!=-1)return;if(x.target==this.Lp)this.ID([]);
else{if(x.ctrlKey){if(s==-1)w.push(z);else w.splice(s,1)}else if(x.shiftKey&&w.length!=0){var e=w[0];
if(e<z){var o=z;z=e;e=o}w=[];this.ID(w);for(var V=z;V<=e;V++)w.push(V)}else{this.ID([z]);if(Date.now()-this.T6<300&&w.length!=0&&w[0]==z){this.as_(z);
this.T6=0}}}this.T6=Date.now();this.JC()};Storage.prototype.Pa=function(x){var R=new aA(v.E.P,!0);R.data=x;
this.c(R)};Storage.NO=function(x){var R=[],T=[],c=i3.ig(),g=c.acc.tstart;if(g)for(var z=0;z<g.length;
z++){R.push([g[z][2],g[z][0]]);T.push(g[z][2])}var d=i3.vc();g=d.inTeams;if(g)for(var z=0;z<g.length;
z++){R.push([g[z][2],g[z][0]]);T.push(g[z][2])}if(x&&x[4]){for(var z=0;z<x[4].length;z++){var U=parseInt(x[4][z].split(":")[0]);
if(T.indexOf(U)==-1)R.push([U,"Team "+U])}}return R};Storage.prototype.aq$=function(x,R){if(this.Wm!=0)return 1;
this.Wm=2;this.Pa({d:v.H.b$,zd:go.get([1,2])+" ..."});this.HK("save",x);if(Storage.yp)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this._q.contentWindow.postMessage(R,"*")};Storage.TE={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.a3M=function(x){x=x.toLowerCase();
var R=0;for(var z=0;z<x.length;z++)R+=x.charCodeAt(z)*613<<8*z;return"#"+u.TN(R&16777215)};Storage.akf="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.ue="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var hE=function(){var x,R,T,c,g,d,U,e;function N(o,V,a,O,S){R=V;c=O;U=S;x=o;d={};if(x==0){T=[a]}if(x==1){T=[];
for(var L in a)T.push(L)}if(x==2){var Q=a[0],b=a[1],Z=a[2],I={};for(var z=0;z<Z.length;z++)I[Z[z][0]]=!0;
var y={};for(var L in b){var r=L.split("/"),h=r[0],k=h.split("."),K="";if(k.length!=1){K="."+k.pop();
h=k.join(".")}while(I[h+K])h+=" - Copy";r[0]=h+K;y[r.join("/")]=b[L]}var H={};T=[];for(var L in y){var r=L.split("/");
for(var z=0;z<r.length-1;z++){var p=Q+r.slice(0,z+1).join("/")+"/";if(H[p]==null){H[p]=!0;T.push([p])}}var f=Q.endsWith("/")||L.startsWith("/")?"":"/";
T.push([Q+f+L,y[L]])}}window.addEventListener("message",J,!1);e=Date.now();l()}function l(){if(T.length==0){s();
return}g=T.shift();if(x==0)w("show",g);if(x==1)w("load",g);if(x==2){w("save",g[0]);if(g.length==2)R.contentWindow.postMessage(g[1],"*")}}function J(o){if(o.source!=R.contentWindow)return;
if(x==0){var V=JSON.parse(o.data),a=V.code,O=V.prm;for(var z=0;z<O.length;z++){var S=O[z];if(c&&c.indexOf(S[0])==-1)continue;
var L=g+(g=="/"?"":"/"),Q=L+S[0];if(S[1]==-1)T.push(Q);else d[Q]=S}c=null}else if(x==1){d[g]=new Uint8Array(o.data)}l()}function w(o,V){var a=o=="show"?", \"nothumbs\": true":"",O="{\"code\": \""+o+"\", \"prm\": "+JSON.stringify(V)+a+"  }";
R.contentWindow.postMessage(O,"*")}function s(){console.log(Date.now()-e);window.removeEventListener("message",J,!1);
U(d)}return{qK:N}}();function gY(x){ky.call(this);var R=this.n=X._("div","form scrollable padded label12");
this.sQ=x;this.ne=null;var T=[],c=gY.fX[x];this.oI=[];for(var g in c){var d=parseInt(g.slice(1)),U=d%10==0?"":"\u2800\u2800- ";
T.push(U+c[g]);this.oI.push(d)}this.Il=[new kD("Name",null,30),new kD("Description",null,30,4),x==0?new kD("File"," www.Photopea.com#i...",17):new bv("File",!1,!1),new kD("Thumbnail URL","* Use Imgur.com etc.",17),new ad("Category",T),new kv("Make Public"),new i_("<< Back",null,null,!0),new i_("Save",null,null,!0)];
if(x==0)this.Il.push(new kk("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new kk("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(x==1)this.Il.push(new kk("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(x!=0)this.Il.push(new kk("Do not load any file to preserve the old version."));for(var z=0;z<this.Il.length;
z++){var e=this.Il[z];R.appendChild(e.n);e.parent=this;if(z!=4&&z!=6)X.pz(R);if(e instanceof i_)e.k("click",this.aex,this)}}gY.prototype=new ky;
gY.prototype.aex=function(x){if(x.target==this.Il[6]){this.c(new aA("back"));return}var R=this.Il[3].h().trim(),T=R.startsWith("http")&&(R.endsWith(".jpeg")||R.endsWith(".jpg")||R.endsWith(".png")||R.endsWith(".gif"));
if(!T){alert("Thumbnail URL is incorrect.");return}var c=new XMLHttpRequest,g="mirror.php?url="+encodeURIComponent(R);
c.open("GET",g);c.responseType="arraybuffer";c.onload=this.are.bind(this);c.send()};gY.prototype.are=function(x){var R=x.target.response,T=R.byteLength;
if(T>2e5&&dp.Xk(R)!="gif"){alert("Thumbnail is too large ("+dO.uE(T)+"). Make it under 200 kB.");return}var c=this.Il[2].h(),g=Object.keys(c);
if(this.sQ!=0&&g.length!=0){console.log(c);hG.V2.at_(c[g[0]].buffer,g[0],this.aoU.bind(this),"pp-resources");
return}this.aoU()};gY.prototype.aoU=function(x){var R=this.sQ,T="name desc file thmb catg publ".split(" "),c=this.ne;
for(var z=0;z<6;z++){if(R!=0&&z==2)continue;var g=this.Il[z].h();if(z<=3){g=g.trim();if(g.length==0){alert("One of values is empty.");
return}}if(z==2){var d=g.split("#i");if(d.length!=2||d[1].length!=8){alert("File ID is incorrect.");
return}g=d.pop()}if(z==4)g=this.oI[g];c[T[z]]=g}if(R!=0){if(x)c.file=x;else if(c.file==null){alert("Select a file from your computer.");
return}}if(c.utme.length==0)c.utme=""+Math.round(Date.now()/1e3);c.type=R;this.c(new aA("save"))};gY.prototype.t=function(){};
gY.prototype.T=function(x){var R=this.ne=JSON.parse(JSON.stringify(x)),T="name desc file thmb catg publ".split(" ");
for(var z=0;z<6;z++){var c=R[T[z]];if(c!=""&&z==2)c="https://photopea.com#i"+c;if(z==4)c=this.oI.indexOf(c);
if(z==5&&c==null)c=!0;this.Il[z].T(c)}};gY.prototype.h=function(){return JSON.parse(JSON.stringify(this.ne))};
gY.fX=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function gE(x){ky.call(this);this.cD=x;this.n=X._("div","");this.ZH=[];this.j_=null;this.aoX=[]}gE.prototype=new ky;
gE.prototype.Df=function(x){};gE.prototype.ie=function(){return!1};gE.prototype.s7=function(x,R){};gE.prototype.L4=function(x,R){};
gE.prototype.dp=function(x){};gE.prototype.T=function(x,R,T,c,g,d){var U=[],e=this.ZH,N=0,l=gm.n7["s"+this.cD];
if(this.cD=="Dspl")this.n5(x,U,d);else l?l(x,U,d):this.n5(x,U,d);for(var z=0;z<e.length;z++)if(!(e[z]instanceof kk))e[z].T(U[N++]);
if(x.RndS)this.j_=x.RndS.v};gE.prototype.h=function(){var x=gm.GI(this.cD),R=[],T=this.ZH,c=0;for(var z=0;
z<T.length;z++)if(!(T[z]instanceof kk))R[c++]=T[z].h();var g=gm.n7["g"+this.cD];if(this.cD=="Dspl")this.sz(x,R);
else g?g(x,R):this.sz(x,R);if(x.RndS)x.RndS.v=this.j_;return x};gE.prototype.Rw=function(x){};gE.prototype.Oc=function(x){if(x&&x.target instanceof i_){this.j_=Math.floor(Math.random()*4294967295)}var R=this.aoX;
for(var z=0;z<R.length;z+=2){var T=this.ZH[R[z]],c=this.ZH[R[z+1]],g=T.h(),d=c.h();if(x.target==T)c.T(Math.max(g,d));
else T.T(Math.min(g,d))}this.c(new aA(v.E.p))};gE.prototype.t=function(){for(var z=0;z<this.ZH.length;
z++)this.ZH[z].t();var x=this.a9N;if(x)x.t()};gE.prototype.bF=function(x){X.MQ(this.n,"form");var R=this.ZH;
for(var z=0;z<R.length;z++){var T=R[z];T.parent=this;T.k(v.E.p,this.Oc,this);this.n.appendChild(T.n);
if(T instanceof kv&&R[z+1]instanceof dW)continue;if(x&&x.indexOf(z)!=-1)X.nY(this.n);else X.pz(this.n)}var c=gm.GI(this.cD);
if(c.RndS){var g=this.a9N=new i_([25,1,2],null,null,!0);this.n.appendChild(g.n);g.k("click",this.Oc,this)}};
gE.prototype.WX=function(x){return!1};gE.prototype.vi=function(){return!1};gE.prototype.fz=function(x,R,T,c,g){};
gE.prototype.gQ=function(x,R,T,c,g){};gE.prototype.rR=function(x,R,T,c,g){};gE.prototype.sz=function(x,R){};
gE.prototype.n5=function(x,R){};gE.prototype.Pz=function(x){var R=x.target.h().indexOf(!0)!=-1,T=new aA(v.E.P,!0);
T.ke=!0;T.data={d:R?v.H.di:v.H.GO,f:D.$r};this.c(T);T=new aA(v.E.v,!0);T.f=D.$r;T.ke=!0;T.data={d:"supertool",f:R?this:null};
this.c(T)};gE.a7x=function(x){x.vi=function(){return!0};x.fz=function(R,T,c,g,d){this.Ro=!0;this.awK(R,d)};
x.gQ=function(R,T,c,g,d){if(!this.Ro)return;this.awK(R,d)};x.rR=function(R,T,c,g,d){this.Ro=!1};x.awK=function(R,T){var c=new aP(0,0,R.m,R.e);
if(R.u)c=R.u.rect;var g=R.Q.nU(T.x,T.y);g.x-=c.x;g.y-=c.y;function d(U,e){return Math.round(Math.max(0,Math.min(100,100*U/e)))}this.ZH[2].T(d(g.x,c.m));
this.ZH[3].T(d(g.y,c.e));this.Oc()}};gE.Bokh=function(){gE.call(this,"Bokh");this.ZH=[new ad("Depth Map",["A","b"]),new aw("Focal Distance",0,255),new kv([4,11]),new ad([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new aw([12,56],0,100),new aw([12,15],0,360),new aw([12,2],0,100),new aw([4,13],0,255),new aw([24,6],0,100),new cZ([12,58],[[12,59,0],[12,59,1]]),new kv([12,60])];
this.bF([5,7])};gE.Bokh.prototype=new gE;gE.Bokh.prototype.n5=function(x,R,T){var c=[[22,5,0],[6,5,3],[6,2]],g=x.BkDi.v.BtDi,d=x.BkDc,U=0;
if(g=="BeIn")U=0;else if(g=="BeIt"&&d.v.BtDc=="BeCt")U=1;else if(g=="BeIt"&&d.v.BtDc=="BeCm")U=2;else U=3+d.v;
for(var z=0;z<T[1].length;z++)c.push(T[1][z].name);this.ZH[0].GN(c,[3]);R[0]=U;R[1]=x.BkDp.v;R[2]=x.BkDs.v;
R[3]=parseInt(x.BkIs.v.BtIs.slice(3))-3;R[4]=x.BkIb.v;R[5]=x.BkIr.v;R[6]=x.BkSb.v;R[7]=x.BkSt.v;R[8]=x.BkNa.v;
R[9]=x.BkNt.v.BtNt=="BeNu"?0:1;R[10]=x.BkNm.v};gE.Bokh.prototype.sz=function(x,R){var T;if(R[0]==0){T="BeIn";
delete x.BkDc}else if(R[0]<3){T="BeIt";x.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][R[0]-1]}}}else{T="BeIa";
x.BkDc={t:"long",v:R[0]-3}}x.BkDi.v.BtDi=T;x.BkDp.v=R[1];x.BkDs.v=R[2];x.BkIs.v.BtIs="BeS"+(3+R[3]);
x.BkIb.v=R[4];x.BkIr.v=R[5];x.BkSb.v=R[6];x.BkSt.v=R[7];x.BkNa.v=R[8];x.BkNt.v.BtNt=["BeNu","BeNg"][R[9]];
x.BkNm.v=R[10]};gE.oilPaint=function(){gE.call(this,"oilPaint");this.ZH=[new aw([12,56],.1,10,"px",!0),new aw("Cleanliness",0,10,"px",!0),new aw([12,38],.1,10,null,!0),new aw("Bristle Detail",0,10,null,!0),new kv("Lighting"),new aw("Shine",0,10,null,!0),new cS([12,15])];
this.bF()};gE.oilPaint.prototype=new gE;gE.oilPaint.prototype.n5=function(x,R){var T="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var z=0;z<T.length;z++)R[z]=x[T[z]].v;R[6]=[x.LghD.v]};gE.oilPaint.prototype.sz=function(x,R){var T="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var z=0;z<T.length;z++)x[T[z]].v=R[z];x.LghD.v=R[6][0]};gE.TrcC=function(){gE.call(this,"TrcC");
this.ZH=[new aw("Level",0,255),new cZ([12,69],[[19,4,1],[19,4,0]])];this.bF()};gE.TrcC.prototype=new gE;
gE.TrcC.prototype.n5=function(x,R){R[0]=x.Lvl.v;R[1]=["Lwr","Upr"].indexOf(x.Edg.v.CntE)};gE.TrcC.prototype.sz=function(x,R){x.Lvl.v=R[0];
x.Edg.v.CntE=["Lwr","Upr"][R[1]]};gE["Dfs "]=function(){gE.call(this,"Dfs ");this.ZH=[new cZ([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.bF()};gE["Dfs "].prototype=new gE;gE["Dfs "].prototype.n5=function(x,R){R[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(x.Md.v.DfsM)};
gE["Dfs "].prototype.sz=function(x,R){x.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][R[0]]};gE.Embs=function(){gE.call(this,"Embs");
this.ZH=[new cS([12,15]),new aw([12,42],1,100,"px"),new aw([12,57],1,500,"%")];this.bF()};gE.Embs.prototype=new gE;
gE.Embs.prototype.n5=function(x,R){R[0]=[x.Angl.v];R[1]=x.Hght.v;R[2]=x.Amnt.v};gE.Embs.prototype.sz=function(x,R){x.Angl.v=R[0][0];
x.Hght.v=R[1];x.Amnt.v=R[2]};gE["Wnd "]=function(){gE.call(this,"Wnd ");this.ZH=[new cZ([12,32],["Wind","Blast","Stagger"]),new cZ([12,33],["From the Right","From the Left"])];
this.bF()};gE["Wnd "].prototype=new gE;gE["Wnd "].prototype.n5=function(x,R){R[0]=["Wnd","Blst","Stgr"].indexOf(x.WndM.v.WndM);
R[1]=["Left","Rght"].indexOf(x.Drct.v.Drct)};gE["Wnd "].prototype.sz=function(x,R){x.WndM.v.WndM=["Wnd","Blst","Stgr"][R[0]];
x.Drct.v.Drct=["Left","Rght"][R[1]]};gE.denoise=function(){gE.call(this,"denoise");this.ZH=[new aw([12,64],0,10),new aw([12,65],0,100,"%")];
this.bF()};gE.denoise.prototype=new gE;gE.denoise.prototype.n5=function(x,R){var T=x.channelDenoise.v[0].v;
R[0]=T.Amnt.v;R[1]=T.EdgF.v};gE.denoise.prototype.sz=function(x,R){var T=x.channelDenoise.v[0].v;T.Amnt.v=R[0];
T.EdgF.v=R[1]};gE.lightFilterGradient=function(){gE.call(this,"lightFilterGradient");this.ZH=[new aw([24,3,1],0,100,"px",1,!0),new aw([12,38],0,200,"%"),new kv([4,11]),new aw("High",0,100,"%"),new aw("Medium",0,100,"%"),new aw("Low",0,100,"%")];
this.bF()};gE.lightFilterGradient.prototype=new gE;gE.lightFilterGradient.prototype.n5=function(x,R){R[0]=x.blur.v;
R[1]=x.textureScale.v*100;R[2]=x.Scl.v==-1;var T=x.Dtl.v;R[3]=T[0].v*100;R[4]=T[1].v*100;R[5]=T[2].v*100};
gE.lightFilterGradient.prototype.sz=function(x,R){x.blur.v=R[0];x.textureScale.v=R[1]/100;x.Scl.v=R[2]?-1:1;
var T=x.Dtl.v;T[0].v=R[3]/100;T[1].v=R[4]/100;T[2].v=R[5]/100};gE.Fbrs=function(){gE.call(this,"Fbrs");
this.ZH=[new aw("Variance",1,64),new aw([12,64],1,64)];this.bF()};gE.Fbrs.prototype=new gE;gE.Fbrs.prototype.n5=function(x,R){R[0]=x.Vrnc.v;
R[1]=x.Strg.v};gE.Fbrs.prototype.sz=function(x,R){x.Vrnc.v=R[0];x.Strg.v=R[1]};gE.LnsF=function(){gE.call(this,"LnsF");
this.ZH=[new aw([12,2],10,300,"%"),new cZ([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new aw("Position X",0,100,"%"),new aw("Position Y",0,100,"%")];
this.bF()};gE.LnsF.prototype=new gE;gE.LnsF.prototype.n5=function(x,R){R[0]=x.Brgh.v;R[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(x.Lns.v.Lns);
var T=x.FlrC.v;R[2]=Math.round(T.Hrzn.v*100);R[3]=Math.round(T.Vrtc.v*100)};gE.LnsF.prototype.sz=function(x,R){x.Brgh.v=R[0];
x.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][R[1]];var T=x.FlrC.v;T.Hrzn.v=R[2]/100;T.Vrtc.v=R[3]/100};gE.a7x(gE.LnsF.prototype);
gE.blendOptions=function(){gE.call(this,"blendOptions");this.ZH.push(new ad([12,19,0],c_.PZ,c_.zh));
this.ZH.push(new aw([12,0],0,100,"%"));this.bF()};gE.blendOptions.prototype=new gE;gE.blendOptions.prototype.n5=function(x,R){R[0]=c_.Dm.indexOf(x.Md.v.BlnM);
R[1]=x.Opct.v.val};gE.blendOptions.prototype.sz=function(x,R){x.Md.v.BlnM=c_.Dm[R[0]];x.Opct.v.val=R[1]};
gE.LnCr=function(){gE.call(this,"LnCr");this.ZH=[new aw([12,57],-100,100),new aw([12,38],10,150,"%")];
this.bF()};gE.LnCr.prototype=new gE;gE.LnCr.prototype.n5=function(x,R){R[0]=x.LnIa.v;R[1]=x.LnSi.v};
gE.LnCr.prototype.sz=function(x,R){x.LnIa.v=R[0];x.LnSi.v=R[1]};gE.adaptCorrect=function(){gE.call(this,"adaptCorrect");
var x=h4;this.ZH=[new kk([19,6,0]),new x([12,57],0,100,"%"),new x("Tone",0,100,"%"),new x([12,56],0,200,"px"),new kk([19,6,2]),new x([12,57],0,100,"%"),new x("Tone",0,100,"%"),new x([12,56],0,200,"px"),new kk([3]),new x([13,0],-100,100)];
this.bF([3,7])};gE.adaptCorrect.prototype=new gE;gE.adaptCorrect.prototype.n5=function(x,R){var T=x.sdwM.v;
R[0]=T.Amnt.v.val;R[1]=T.Wdth.v.val;R[2]=T.Rds.v;var T=x.hglM.v;R[3]=T.Amnt.v.val;R[4]=T.Wdth.v.val;
R[5]=T.Rds.v;R[6]=x.ClrC.v};gE.adaptCorrect.prototype.sz=function(x,R){var T=x.sdwM.v;T.Amnt.v.val=R[0];
T.Wdth.v.val=R[1];T.Rds.v=R[2];var T=x.hglM.v;T.Amnt.v.val=R[3];T.Wdth.v.val=R[4];T.Rds.v=R[5];x.ClrC.v=R[6]};
gE.Flam=function(){gE.call(this,"Flam");var x=this.ZH=[new ad([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new aw([12,80,0],20,1e3,"px"),new kv("Randomize Length"),new aw([12,41],5,600,"px"),new aw([12,15],0,360,"\xB0"),new aw("Interval",10,200,"px"),new kv("Adapt Interval for Loops"),new dW(!1),new ad([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new aw("Turbulent",0,100),new aw("Jag",0,100),new aw([12,0],0,100),new aw("Lines",2,30),new aw("Bottom",0,100),new ad([12,22],["Normal","Violent","Flat"]),new ad([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new kv("Randomize Shape"),new aw("Random Seed",0,100)];
this.bF();var R=this.n;X.Ra(R);var T=new cZ(null,["Basic","Advanced"]);T.k(v.E.p,this.avk,this);R.appendChild(T.n);
X.nY(R);var c=X._("div"),g=X._("div");this.aie=[c,g];R.appendChild(c);for(var z=0;z<x.length;z++){(z<9?c:g).appendChild(x[z].n);
if(z==6)X.pz(c)}x[0].k(v.E.p,this.a1Z,this);this.a1Z()};gE.Flam.prototype=new gE;gE.Flam.prototype.a1Z=function(x){var R=this.ZH,z=R[0].h();
R[1].Dd(z!=0&&z!=5);R[2].Dd(z!=0&&z!=5);R[4].Dd(z!=0&&z!=5&&z!=1);R[5].Dd(z!=0&&z!=5);R[6].Dd(z!=0&&z!=5)};
gE.Flam.prototype.avk=function(x){var z=x.target.h(),R=this.aie,T=this.n;T.removeChild(R[1-z]);T.appendChild(R[z])};
gE.boxblur=function(){gE.call(this,"boxblur");this.ZH=[new aw([12,56],1,200," px")];this.bF()};gE.boxblur.prototype=new gE;
gE.boxblur.prototype.n5=function(x,R){R[0]=x.Rds.v.val};gE.boxblur.prototype.sz=function(x,R){x.Rds.v.val=R[0]};
gE.GsnB=function(){gE.call(this,"GsnB");this.ZH=[new aw([12,56],.1,400,"px",1,!0)];this.bF()};gE.GsnB.prototype=new gE;
gE.Dila=function(){gE.call(this,"Dila");this.ZH=[new aw([11,12,1],0,20,"px",0),new aw([12,56],0,400,"px",0,!0)];
this.bF()};gE.Dila.prototype=new gE;gE.MtnB=function(){gE.call(this,"MtnB");this.ZH=[new cS([12,15]),new aw([12,28],1,100," px")];
this.bF()};gE.MtnB.prototype=new gE;gE.RdlB=function(){gE.call(this,"RdlB");this.ZH=[new aw([12,57],1,100),new cZ([12,36],["Spin","Zoom"]),new aw("Position X",0,100,"%"),new aw("Position Y",0,100,"%")];
this.bF()};gE.RdlB.prototype=new gE;gE.RdlB.prototype.n5=function(x,R){R[0]=x.Amnt.v;R[1]=["Spn","Zm"].indexOf(x.BlrM.v.BlrM);
R[2]=x.Cntr.v.Hrzn.v*100;R[3]=x.Cntr.v.Vrtc.v*100};gE.RdlB.prototype.sz=function(x,R){x.Amnt.v=R[0];
x.BlrM.v.BlrM=["Spn","Zm"][R[1]];x.Cntr.v.Hrzn.v=R[2]/100;x.Cntr.v.Vrtc.v=R[3]/100};gE.a7x(gE.RdlB.prototype);
gE.Dspl=function(){gE.call(this,"Dspl");this.ZH=[new ad([6,36,3],["a","b"]),new aw([22,4,0],-100,100,"px"),new aw([22,4,1],-100,100,"px"),new ad([24,18,0],[[24,18,3],[24,18,2]])];
this.bF()};gE.Dspl.prototype=new gE;gE.Dspl.prototype.n5=function(x,R,T){this.apm=[];this.c$=[];var c=-1,g=T?T[0]:null;
if(g==null)g=this.aqK;else this.aqK=g;if(g)for(var z=0;z<g.length;z++){var d=g[z];this.apm.push(d.H7.trim());
this.c$.push(d.E5);if(d.E5==x.DspF.v.pth)c=z}this.ZH[0].GN(this.apm);R[0]=c==-1?0:c;R[1]=x.HrzS.v;R[2]=x.VrtS.v;
R[3]=["WrpA","RptE"].indexOf(x.UndA.v.UndA)};gE.Dspl.prototype.sz=function(x,R){if(this.c$.length==0)return;
x.DspF.v.pth=this.c$[R[0]];x.HrzS.v=R[1];x.VrtS.v=R[2];x.UndA.v.UndA=["WrpA","RptE"][R[3]]};gE.Pnch=function(){gE.call(this,"Pnch");
this.ZH=[new aw([12,57],-100,100,"%")];this.bF()};gE.Pnch.prototype=new gE;gE["Plr "]=function(){gE.call(this,"Plr ");
this.ZH=[new cZ(null,["Rect to Polar","Polar to Rect"])];this.bF()};gE["Plr "].prototype=new gE;gE.Rple=function(){gE.call(this,"Rple");
this.ZH=[new aw([12,57],-999,999),new ad([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.bF()};gE.Rple.prototype=new gE;
gE["Shr "]=function(){gE.call(this,"Shr ");this.ZH=[new aC(!0,!0),new ad([24,18,0],[[24,18,3],[24,18,2]])];
this.bF()};gE["Shr "].prototype=new gE;gE["Shr "].prototype.n5=function(x,R){var T=new gP(0,255/127,255/127,0,-2,128),c=JSON.parse(JSON.stringify(x.ShrP.v));
u.a1.i(c,T);R[0]=c;R[1]=["WrpA","RptE"].indexOf(x.UndA.v.UndA)};gE["Shr "].prototype.sz=function(x,R){var T=new gP(0,255/127,255/127,0,-2,128);
T.F0();u.a1.i(R[0],T);x.ShrP.v=R[0];x.ShrE.v=R[0].length-1;x.UndA.v.UndA=["WrpA","RptE"][R[1]]};gE.Sphr=function(){gE.call(this,"Sphr");
this.ZH=[new aw([12,57],-100,100),new ad([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.bF()};gE.Sphr.prototype=new gE;
gE.Sphr.prototype.n5=function(x,R){R[0]=x.Amnt.v;R[1]=["Nrml","HrzO","VrtO"].indexOf(x.SphM.v.SphM)};
gE.Sphr.prototype.sz=function(x,R){x.Amnt.v=R[0];x.SphM.v.SphM=["Nrml","HrzO","VrtO"][R[1]]};gE.Dthr=function(){gE.call(this,"Dthr");
this.ZH=[new ad("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new cZ("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.bF()};gE.Dthr.prototype=new gE;gE.Dthr.prototype.n5=function(x,R){R[0]=x.Plte.v;R[1]=x.Mthd?x.Mthd.v:1};
gE.Dthr.prototype.sz=function(x,R){x.Plte.v=R[0];x.Mthd.v=R[1]};gE.Part=function(){gE.call(this,"Part");
this.ZH=[new aw([15,5,1],0,100,"%"),new aw([12,14,0],1,50,"px"),new aw([12,34],0,100,"%"),new aw([12,2],10,1e3,"%"),new dW(!0),new aw("Time",0,1,null,3),new aw("Turbulence",0,100,"%"),new kv("Blink"),new kv("Fall")];
this.bF([4])};gE.Part.prototype=new gE;gE.Part.prototype.n5=function(x,R){R[0]=x.Cont.v;R[1]=x.Size.v;
R[2]=x.Dpth.v;R[3]=x.Brgh.v;R[4]=x.Clr.v;R[5]=x.Time.v;R[6]=x.Turb.v;R[7]=x.Blnk.v;R[8]=x.Fall.v};gE.Part.prototype.sz=function(x,R){x.Cont.v=R[0];
x.Size.v=R[1];x.Dpth.v=R[2];x.Brgh.v=R[3];x.Clr.v=R[4];x.Time.v=R[5];x.Turb.v=R[6];x.Blnk.v=R[7];x.Fall.v=R[8]};
gE.Twrl=function(){gE.call(this,"Twrl");this.ZH=[new aw([12,15],-999,999)];this.bF()};gE.Twrl.prototype=new gE;
gE.Wave=function(){gE.call(this,"Wave");this.aoX=[1,2,3,4];this.ZH=[new aw("Number of Generators",1,100),new h4("Min Length",1,999),new h4("Max Length",1,999),new h4("Min Ampl.",1,999),new h4("Max Ampl.",1,999),new h4("Scale X",1,100,"%"),new h4("Scale Y",1,100,"%"),new cZ([12,44],["Sine","Triangle",[12,93,3]]),new ad([24,18,0],[[24,18,3],[24,18,2]])];
this.bF()};gE.Wave.prototype=new gE;gE.ZgZg=function(){gE.call(this,"ZgZg");this.ZH=[new aw([12,57],-100,100),new aw("Ridges",0,20),new ad([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.bF()};gE.ZgZg.prototype=new gE;gE.surfaceBlur=function(){gE.call(this,"surfaceBlur");this.ZH=[new aw([12,56],1,200," px"),new aw([4,13],1,255," px")];
this.bF()};gE.surfaceBlur.prototype=new gE;gE.surfaceBlur.prototype.n5=function(x,R){R[0]=x.Rds.v.val;
R[1]=x.Thsh.v};gE.surfaceBlur.prototype.sz=function(x,R){x.Rds.v.val=R[0];x.Thsh.v=R[1]};gE.AdNs=function(){gE.call(this,"AdNs");
this.ZH=[new aw([12,57],0,200," %"),new ad([12,58],[[12,59,1],[12,59,0]]),new kv([12,60])];this.bF()};
gE.AdNs.prototype=new gE;gE.DstS=function(){gE.call(this,"DstS");this.ZH=[new aw([12,56],1,200," px"),new aw([4,13],1,255," px")];
this.bF()};gE.DstS.prototype=new gE;gE["Mdn "]=function(){gE.call(this,"Mdn ");this.ZH=[new aw([12,56],1,200," px")];
this.bF()};gE["Mdn "].prototype=new gE;gE["Mdn "].prototype.n5=function(x,R){R[0]=x.Rds.v.val};gE["Mdn "].prototype.sz=function(x,R){x.Rds.v.val=R[0]};
gE.ClrH=function(){gE.call(this,"ClrH");this.ZH=[new aw([12,56],4,100," px")];for(var z=1;z<4;z++)this.ZH.push(new aw("Angle "+z,0,90," \xB0"));
this.bF()};gE.ClrH.prototype=new gE;gE.ClrH.prototype.n5=function(x,R){R[0]=x.Rds.v;for(var z=1;z<4;
z++)R[z]=x["Ang"+z].v};gE.ClrH.prototype.sz=function(x,R){x.Rds.v=R[0];for(var z=1;z<4;z++)x["Ang"+z].v=R[z]};
gE.ClrH.prototype.t=function(){var x=this.ZH;x[0].t();for(var z=1;z<4;z++)x[z].W7(go.get([12,15])+" "+z)};
gE.Crst=function(){gE.call(this,"Crst");this.ZH=[new aw([12,61],3,100," px")];this.bF()};gE.Crst.prototype=new gE;
gE.Crst.prototype.n5=function(x,R){R[0]=x.ClSz.v};gE.Crst.prototype.sz=function(x,R){x.ClSz.v=R[0]};
gE.Mztn=function(){gE.call(this,"Mztn");this.ZH.push(new ad([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.c$="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.bF()};gE.Mztn.prototype=new gE;
gE.Mztn.prototype.n5=function(x,R){R[0]=this.c$.indexOf(x.MztT.v.MztT)};gE.Mztn.prototype.sz=function(x,R){x.MztT.v.MztT=this.c$[R[0]]};
gE["Msc "]=function(){gE.call(this,"Msc ");this.ZH=[new aw([12,61],2,200," px")];this.bF()};gE["Msc "].prototype=new gE;
gE["Msc "].prototype.n5=function(x,R){R[0]=x.ClSz.v.val};gE["Msc "].prototype.sz=function(x,R){x.ClSz.v.val=R[0]};
gE.Pntl=function(){gE.call(this,"Pntl");this.ZH=[new aw([12,61],3,100," px")];this.bF()};gE.Pntl.prototype=new gE;
gE.Pntl.prototype.n5=function(x,R){R[0]=x.ClSz.v};gE.Pntl.prototype.sz=function(x,R){x.ClSz.v=R[0]};
gE.smartSharpen=function(){gE.call(this,"smartSharpen");this.ZH=[new aw([12,57],1,200,"%"),new aw([12,56],0,200,"px",1,!0)];
this.bF()};gE.smartSharpen.prototype=new gE;gE.smartSharpen.prototype.n5=function(x,R){R[0]=x.Amnt?x.Amnt.v.val:200;
R[1]=x.Rds?x.Rds.v.val:1};gE.smartSharpen.prototype.sz=function(x,R){x.Amnt.v.val=R[0];x.Rds.v.val=R[1]};
gE.UnsM=function(){gE.call(this,"UnsM");this.ZH=[new aw([12,57],1,200," %"),new aw([12,56],.1,400,"px",1,!0),new aw([4,13],0,255," ")];
this.bF()};gE.UnsM.prototype=new gE;gE.HghP=function(){gE.call(this,"HghP");this.ZH=[new aw([12,56],.1,400,"px",1,!0)];
this.bF()};gE.HghP.prototype=new gE;gE.HsbP=function(){gE.call(this,"HsbP");this.ZH=[new cZ("Input",["RGB","HSB","HSL"]),new cZ("Output",["RGB","HSB","HSL"])];
this.bF()};gE.HsbP.prototype=new gE;gE["Mxm "]=function(){gE.call(this,"Mxm ");this.ZH=[new aw([12,56],.1,200," px",1,!0),new ad([12,76,1],[[12,93,3],"Circle"])];
this.bF()};gE["Mxm "].prototype=new gE;gE["Mnm "]=function(){gE.call(this,"Mnm ");this.ZH=[new aw([12,56],.1,200," px",1,!0),new ad([12,76,1],[[12,93,3],"Circle"])];
this.bF()};gE["Mnm "].prototype=new gE;gE.Ofst=function(){gE.call(this,"Ofst");this.ZH=[new aw([22,4,0],-1024,1024," px"),new aw([22,4,1],-1024,1024," px"),new ad([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.bF()};gE.Ofst.prototype=new gE;gE.Kale=function(){gE.call(this,"Kale");this.ZH=[new h4("Mirrors",2,20),new h4([12,15],0,360,"\xB0")];
this.bF()};gE.Kale.prototype=new gE;gE.Kale.prototype.n5=function(x,R){R[0]=x.Mirr.v;R[1]=x.MRot.v};
gE.Kale.prototype.sz=function(x,R){x.Mirr.v=R[0];x.MRot.v=R[1]};gE.Rept=function(){gE.call(this,"Rept");
this.ZH=[new h4([12,38],1,300," %"),new h4("Row Shift",-50,50," %"),new h4("Space X",-99,200," %"),new h4("Space Y",-99,200," %"),new kv([4,16,2]),new cS([12,15])];
this.bF()};gE.Rept.prototype=new gE;gE.Rept.prototype.n5=function(x,R){R[0]=x.Scl.v.val;R[1]=x.Rsft.v.val;
R[2]=x.SpcX.v.val;R[3]=x.SpcY.v.val;R[4]=x.SpcC.v;R[5]=[x.Angl.v]};gE.Rept.prototype.sz=function(x,R){x.Scl.v.val=R[0];
x.Rsft.v.val=R[1];x.SpcX.v.val=R[2];x.SpcY.v.val=R[3];x.SpcC.v=R[4];x.Angl.v=R[5][0];return x};gE.Ctoa=function(){gE.call(this,"Ctoa");
this.ZH=[new kk([13,0]),new dW(!0),new aw(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new aw(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.bF()};gE.Ctoa.prototype=new gE;gE.Ctoa.prototype.n5=function(x,R){R[0]=x.Clr.v;R[1]=x.Trsp.v.val;
R[2]=x.Opct.v.val};gE.Ctoa.prototype.sz=function(x,R){x.Clr.v=R[0];x.Trsp.v.val=R[1];x.Opct.v.val=R[2]};
gE.LqFy=function(){gE.call(this,"LqFy");this.z8=!1;this.LT=!1;this.Hj=null;this.ad6=null;this.f=0;this.$A=-1;
this.q={ul:[[{f:{id:0,name:[24,1,0,1,0],az:"liq/smudge"}}],[{f:{id:1,name:[24,1,0,1,1],az:"liq/reconstruct"}}],[{f:{id:2,name:[24,1,0,1,2],az:"liq/smooth"}}],[{f:{id:3,name:[24,1,0,1,3],az:"liq/twirl"}}],[{f:{id:4,name:[24,1,0,1,4],az:"liq/shrink"}}],[{f:{id:5,name:[24,1,0,1,5],az:"liq/blow"}}],[{f:{id:6,name:[24,1,0,1,6],az:"liq/pleft"}}],[{f:{id:7,name:"Hand",az:"tools/hand"}}],[{f:{id:8,name:"Zoom In",az:"zoomIn"}}],[{f:{id:9,name:"Zoom Out",az:"zoomOut"}}]],keys:[]};
this.ow=new d_(this.q,!1);this.ow.Kc(0);this.ow.k(v.E.P,this.Kz,this);this.wJ=bE.hA();this.Jq=null;this.YN=[];
this.i_=-1;this.yw=null;this.auk=null;this.iO=null;this.kO=null;this.Pw=null;var x=X._("div","flexrow");
this.QB=x;this.n.appendChild(x);x.appendChild(this.ow.n);this.view=new bx(!0);this.view.s7(100,100);
this.view.k("mousedown",this.LV,this);this.view.k("mousemove",this.Dg,this);this.view.k("mouseup",this.ho,this);
this.view.k("zoom",this.Ny,this);x.appendChild(this.view.n);var R=X._("div","form");x.appendChild(R);
this.XT=R;R.style.width="230px";this.lG=[new aw([12,14,0],0,1e3,null,!1,!0),new aw([12,74],0,100,null,!1,!1),new aw([12,84],0,100,null,!1,!1),new kv([12,46]),new aw([12,0],0,100,null,!1,!1),new kv([24,18,5])];
var T=this.wJ.Brsh.v;T.Dmtr.v.val=100;var c=[100,50,100,!1,100,!0];for(var z=0;z<this.lG.length;z++){var g=this.lG[z];
g.T(c[z]);if(z==4)g.tC();g.k(v.E.p,this.a1V,this);R.appendChild(g.n)}var d=this.aBW=new i_([1,12,2],!0,null,!0);
d.k("click",this.Zz,this);R.appendChild(d.n);this.aoJ=this.PH.bind(this);this.Yp=new ky;this.Yp.n=X._("div","floatcont");
this.hJ=new i_("Menu",!1,null,!0);var U=this.hJ.n;U.setAttribute("style","position:absolute; right:13px; top:47px");
X.Us(U,this.ae8.bind(this))};gE.LqFy.prototype=new gE;gE.LqFy.prototype.ie=function(){return!0};gE.LqFy.prototype.Df=function(x){this.XT.appendChild(x)};
gE.LqFy.prototype.ae8=function(x){if(X._b(this.Yp.n))return;x.stopPropagation();var R=this.hJ.n.getBoundingClientRect();
this.Yp.n.appendChild(this.XT);var T=new aA(v.E.P,!0);T.data={d:v.H.fu,YR:this.Yp,x:R.right+R.width-290,y:R.top+R.height};
this.c(T)};gE.LqFy.prototype.Rw=function(x){this.z8=x.S(fZ.ng);var R=D.AN.$P(this.wJ,x);if(R!=null){this.wJ=R;
this.Ny();this.lG[0].T(R.Brsh.v.Dmtr.v.val)}else if(x.S(fZ.Gc)&&x.S(fZ.Y6)){var T=this.YN;if(x.S(fZ.xg)){if(this.i_+1<T.length)this.i_++}else if(this.i_>0)this.i_--;
this.Jq.map=T[this.i_].slice(0);this.a5(null)}else if(this.f<=6)this.view.Rw(x);var c=this.f,g=-1,d=x.S(fZ.ng);
if(d&&this.$A==-1){if(c==0)g=1;if(c==4)g=5;if(c==5)g=4;if(g!=-1)this.$A=c}if(!d&&this.$A!=-1){g=this.$A;
this.$A=-1}if(g!=-1){this.f=g;this.ow.Kc(this.f)}};gE.LqFy.prototype.Kz=function(x){if(x.data.d==v.H.di){var R=this.f=x.data.f;
this.ow.Kc(this.f);this.view.Rw(R>6?bx.oo(R-7):new fZ)}};gE.LqFy.prototype.a1V=function(x){var R=x.currentTarget,z=this.lG.indexOf(R),T=this.wJ.Brsh.v;
if(z==0){T.Dmtr.v.val=R.h();this.Ny()}this.lG[4].Dd(this.lG[3].h());if(z>2)this.a5(null)};gE.LqFy.prototype.b_=function(){var x=this.YN;
this.i_++;x[this.i_]=this.Jq.map.slice(0);while(x.length>this.i_+1)x.pop();while(x.length>50){x=x.slice(1);
this.i_--}};gE.LqFy.prototype.LV=function(x){this.Hj=this.view.IM();this.ad6=new cI(0,0);this.LT=!0;
window.requestAnimationFrame(this.aoJ)};gE.LqFy.prototype.Dg=function(x){var R=this.view.IM(),T=new cI(R.x-this.Hj.x,R.y-this.Hj.y);
if(this.f==0||this.f==6)this.ak5(T);this.Hj=R};gE.LqFy.prototype.ho=function(x){this.b_();this.LT=!1};
gE.LqFy.prototype.PH=function(x){if(this.f!=0&&this.f!=6)this.ak5(new cI(0,0));if(this.LT)window.requestAnimationFrame(this.aoJ)};
gE.LqFy.prototype.ak5=function(x){var R=this.Jq,T=R.KQ/this.yw.m,c=this.Hj,g=this.wJ.Brsh.v,d=g.Dmtr.v.val,U=Date.now(),e=R.KQ,N=R.kh,l=Math.sqrt(x.x*x.x+x.y*x.y),J=Math.max(1,Math.ceil(l/2)),w=x.x/J,s=x.y/J,o=c.clone(),V=this.f,a=this.lG[1].h()/100,O=this.lG[2].h()/100,S=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],L=S[V*2],Q=S[V*2+1],b=(1-a)*L+a*Q,Z=d*T/2;
for(var z=0;z<J;z++){var I=[];o.x+=w;o.y+=s;u.Ar.ajr(R.map,e,N,V,o.x*T,o.y*T,Z,a,O,w*T,s*T,I,this.z8);
u.Ar.a4j(e,N,R.map,I,2*b*O)}var y=new aP(0,0,e,N),r=new aP(c.x*T,c.y*T,0,0);r.t1(d*T*.5,d*T*.5);var h=r.clone();
h.offset(x.x*T,x.y*T);r=r.y8(h);var k=new aP(r.x/T,r.y/T,r.m/T,r.e/T);k=u.M.cJ(k).yx(this.yw);this.lG[5].T(!0);
this.a5(k)};gE.LqFy.prototype.Ny=function(){var x=fC.vO(this.wJ,null,this.view.FW().O);this.view.iz(x)};
gE.LqFy.prototype.T=function(x,R,T,c,g){T=T.clone();if(R==null)return;if(!c.X$(T)){var d=T.y8(c),U=u.B(d.Z()*4);
u.yU(R,T,U,d);R=U;T=d;var e=u.B(d.Z()*4);u.yU(g,c,e,d);g=e}T.x=T.y=0;this.iO=R;this.auk=g;this.Pw=R.slice(0);
this.kO=R.slice(0);this.yw=T;this.Jq=cD.eE(new Uint8Array(x.LqMe.v).buffer);var N=T.m,l=T.e;if(this.Jq.KQ/N<.22){this.Jq={KQ:Math.floor(N/4),kh:Math.floor(l/4)};
this.Jq.map=new Float32Array(this.Jq.KQ*this.Jq.kh*2)}this.YN=[];this.i_=-1;this.b_();this.a5(null);
this.view.cB(!0);this.Ny()};gE.LqFy.prototype.h=function(){var x=gm.GI("LqFy"),R=new Uint8Array(cD.Li(this.Jq)),T=[];
for(var z=0;z<R.length;z++)T.push(R[z]);x.LqMe.v=T;return x};gE.LqFy.prototype.s7=function(x,R){this.ow.s7(x,R);
var T=this.hJ.n,c=this.XT;this.QB.appendChild(c);this.QB.appendChild(T);if(x>450&&x-R>200){c.style.marginLeft="1em";
this.QB.removeChild(T);this.view.s7(x-238-45,R)}else{c.style.marginLeft="";this.QB.removeChild(c);this.view.s7(x-40,R)}};
gE.LqFy.prototype.t=function(){this.ow.t();this.aBW.t();for(var z=0;z<this.lG.length;z++)this.lG[z].t()};
gE.LqFy.prototype.Zz=function(){this.Jq.map.fill(0);this.b_();this.a5(null)};gE.LqFy.prototype.a5=function(x){var R=this.yw,T=this.iO,c=this.Pw,g=this.Jq;
if(this.lG[5].h())u.Ar.TQ(T,this.kO,R.m,R.e,x,g.map,g.KQ,g.kh,0);else this.kO.set(T);if(this.lG[3].KT()){u.yU(this.auk,R,c,R,x?x:R);
u.l.Hy("norm",this.kO,R,c,R,x?x:R,this.lG[4].h()/100)}else u.kS(this.kO,c);this.view.T([{d8:R,data:c.buffer}])};
gE.GEfc=function(){gE.call(this,"GEfc");this.Aa=0;this.Yh=0;this.iO=null;this.Pw=null;this.yw=null;this.Dn=null;
this.ne=null;this.wk=0;this.CZ=null;this.n9=null;var x=X._("div","flexrow");this.QB=x;this.n.appendChild(x);
this.view=new bx(null);this.view.s7(100,100);x.appendChild(this.view.n);this.gL="";this.b5=270;var R=this.WW=X._("div","form scrollable");
x.appendChild(R);R.setAttribute("style","width:"+this.b5+"px;");var T=this.Nd=X._("div","form");x.appendChild(T);
T.setAttribute("style","width:230px;  margin:0 10px");this.r5={};for(var c in c2.names){var g=new gE.GEfc.CQ(c);
g.parent=this;this.r5[c]=g;g.k(v.E.p,this.a3R,this)}this.mc=!0;this.hJ=new i_("Menu",null,null,!0);this.hJ.k("click",this.asv,this);
x.appendChild(this.hJ.n);this.ix=new i_(">>",null,null,!0);this.ix.k("click",this.amG,this);T.appendChild(this.ix.n);
this.Lq=X._("div");this.Lq.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
T.appendChild(this.Lq);this.fE=X._("div");this.fE.style.minHeight="14em";this.fE.style.marginBottom="1em";
T.appendChild(this.fE);this.pD=X._("div","lpbody scrollable");this.vB=X._("div","lpfoot");T.appendChild(this.pD);
T.appendChild(this.vB);this.k("click",this.avR,this);this.ax=[];cm.fK([[5,3],[5,4]],this.ax,this.vB,this.sR.bind(this))};
gE.GEfc.prototype=new gE;gE.GEfc.prototype.ie=function(){return!0};gE.GEfc.prototype.Df=function(x){this.Lq.appendChild(x)};
gE.GEfc.prototype.L4=function(x,R){this.Dn=x};gE.GEfc.prototype.amG=function(x){var R=this.WW.style.display!="none";
this.WW.style.display=R?"none":"";this.ix.W7(R?"<<":">>");this.s7()};gE.GEfc.prototype.asv=function(x){this.mc=!this.mc;
this.s7()};gE.GEfc.prototype.s7=function(x,R){var T=this.WW.style.display!="none";if(x!=null){this.Aa=x;
this.Yh=R;if(x<1e3&&T||x>=1e3&&!T){this.amG();T=!T}this.mc=x>600}else{x=this.Aa;R=this.Yh}var c=this.mc?250+(T?this.b5:0):0;
if(X._b(this.Nd)&&!this.mc){this.QB.removeChild(this.WW);this.QB.removeChild(this.Nd)}if(!X._b(this.Nd)&&this.mc){this.QB.appendChild(this.WW);
this.QB.appendChild(this.Nd)}this.WW.style.height=R+"px";this.view.s7(x-c,R);this.pD.style.height=R-Math.max(this.fE.getBoundingClientRect().height,186)-96+"px";
this.hJ.n.setAttribute("style","position:absolute; top:46px;  right:"+(c+16)+"px")};gE.GEfc.prototype.aaK=function(){var x=dp.wz.get("img/beach",!0)[0],R=x.d8,T=this.WW,c=Math.floor(X.mM()*(this.b5-40)/3),g=~~(c*.7),d=new aP(0,0,c,g),U=u.B(c*g*4),e=U.slice(0),N=Math.round(10*X.mM()),l=new ImageData(new Uint8ClampedArray(e.buffer),c,g);
u.yU(new Uint8Array(x.data),R,U,new aP(Math.round((R.m-c)/2),Math.round((R.e-g)/2),c,g));var J=X._("canvas"),w=J.getContext("2d");
J.width=c;J.height=g+Math.round(N*1.5);w.font=N+"px sans-serif";this.CZ={};X.Ra(T);var s=this.axv.bind(this);
for(var z=0;z<c2.fX.length;z++){var o=c2.fX[z],V=X._("div");T.appendChild(V);V.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
V.textContent=go.get(o);for(var a in c2.names){var O=c2.names[a];if(O[0]!=z)continue;c2.Yt(a,{rect:d,buffer:U},c2.GI(a),{o:0,A:0,J:0},{o:255,A:255,J:255},{rect:d,buffer:e},{});
w.fillStyle="black";w.fillRect(0,0,500,500);w.putImageData(l,0,0);var S=go.get(O[1]);w.fillStyle="white";
w.fillText(S,(c-w.measureText(S).width)/2,g+Math.round(N*1.1));var L=X._("div");T.appendChild(L);L.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
L.addEventListener("click",s,!1);var V=X._("img");L.appendChild(V);V.setAttribute("src",J.toDataURL());
V.setAttribute("style","width:"+c/X.mM()+"px; margin-bottom:0px;");this.CZ[a]=L}}};gE.GEfc.prototype.axv=function(x){var R;
for(var T in this.CZ)if(this.CZ[T]==x.currentTarget)this.gL=T;this.a3R()};gE.GEfc.prototype.sR=function(x){var R=cm.L2(this.ax,x),T=this.ne.GEfs.v,c=T[this.wk].v;
if(R==0){T.push(JSON.parse(JSON.stringify(T[this.wk])));this.wk=T.length-1}else if(T.length>1){T.splice(this.wk,1);
if(this.wk==T.length)this.wk--}this.Ug();this.a5()};gE.GEfc.prototype.a3R=function(x){var R=this.gL,T;
if(x==null)T=c2.GI(R);else T=this.r5[R].h();this.ne.GEfs.v[this.wk].v=T;this.Ug();this.a5()};gE.GEfc.prototype.T=function(x,R,T,c,g){var d=go.get([24,0]);
if(this.CZ==null||d!=this.n9)this.aaK();this.n9=d;x=this.ne=JSON.parse(JSON.stringify(x));if(x.GEfs==null)x=this.ne={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:x}]}};
var U=x.GEfs.v;for(var z=0;z<U.length;z++)if(U[z].v.GELv==null)U[z].v.GELv={t:"bool",v:!0};this.wk=U.length-1;
this.Ug();T=T.clone();if(R==null)return;if(!c.X$(T)&&c2.LB(x).x!=0){var e=T.y8(c),N=u.B(e.Z()*4);u.yU(R,T,N,e);
R=N;T=e}T.x=T.y=0;this.iO=R;this.Pw=R.slice(0);this.yw=T;this.a5();this.view.cB()};gE.GEfc.prototype.avR=function(x){var R=x.data,z=R.iY,T=this.ne.GEfs.v;
if(R.tO){T[z].v.GELv.v=!T[z].v.GELv.v;this.a5()}else this.wk=z;this.Ug()};gE.GEfc.prototype.Ug=function(){var x=this.ne.GEfs.v,R=x[this.wk].v,T=R.GEfk.v.GEft,c=this.fE;
if(c2.names[T]==null){alert("Unsupported gallery filter");X.Ra(c)}else{this.gL=T;for(var g in this.CZ)X.ia(this.CZ[g],"selected");
X.MQ(this.CZ[T],"selected");var d=this.r5[T];d.T(R);if(c.firstChild!=d.n){X.Ra(c);c.appendChild(d.n)}}var U=[];
for(var z=0;z<x.length;z++){var e=x[z].v,N=c2.names[e.GEfk.v.GEft],l=new eX(z,!0,!0,null,N?N[1]:"Filter",z==this.wk,e.GELv.v);
l.parent=this;U.push(l.n)}X.Ra(this.pD);U.reverse();for(var z=0;z<U.length;z++)this.pD.appendChild(U[z]);
this.s7()};gE.GEfc.prototype.h=function(){return JSON.parse(JSON.stringify(this.ne))};gE.GEfc.prototype.a5=function(x){var R=this.yw,T=this.iO,c=this.Pw,g=this.gL,d=this.ne,U=this.Dn;
function e(N){return{o:N>>>16,A:N>>>8&255,J:N&255}}gm.Yt("GEfc",{rect:this.yw,buffer:this.iO},d,e(U.gR),e(U.tn),{rect:this.yw,buffer:this.Pw},null);
this.view.T([{d8:R,data:c.buffer}])};gE.GEfc.prototype.t=function(){for(var x in this.r5)this.r5[x].t();
cm.bd(this.ax,["lrs/newlayer","lrs/bin"])};gE.GEfc.CQ=function(x){ky.call(this);this.af=x;this.n=X._("div");
this.Nt={};var R=c2.GI(x);for(var T in R){var c=null;if(T=="__name"||T=="classID"||T=="GEfk"||T=="GELv"||["FlRs"].indexOf(T)!=-1)continue;
else if(T=="EdgW")c=new aw("Edge Width",1,14);else if(T=="EdgB")c=new aw("Edge Brightness",0,x=="AccE"?50:20);
else if(T=="Smth")c=new aw([19,3,3],1,x=="Stmp"?50:15);else if(T=="ClSz")c=new aw([12,61],3,100);else if(T=="BrdT")c=new aw([7,9],1,20);
else if(T=="HghS")c=new aw([12,64],0,20);else if(T=="HlSz")c=new aw([12,14,0],1,15);else if(T=="Cntr")c=new aw([12,3,0],0,x=="WtrP"?100:50);
else if(T=="Shrp")c=new aw("Sharpness",0,40);else if(T=="SprR")c=new aw("Spray Radius",0,25);else if(T=="LgDr")c=new aw("Light/Dark Balance",0,x=="Stmp"?50:100);
else if(T=="Drkn")c=new aw("Darkness",1,50);else if(T=="Dstr")c=new aw("Distortion",0,20);else if(T=="Scln")c=new aw([12,38],50,200);
else if(T=="Rlf")c=new aw("Relief",0,x=="Ptch"||x=="NtPr"?25:50);else if(T=="ChAm")c=new aw("Thickness",1,7);
else if(T=="Pncl")c=new aw([19,2,5],1,30);else if(T=="StrP")c=new aw("Stroke Pressure",0,15);else if(T=="PprB")c=new aw("Paper Brightness",0,50);
else if(T=="BrsS")c=new aw("Brush Size",0,10);else if(T=="BrsD")c=new aw("Brush Detail",0,10);else if(T=="Txtr")c=new aw([12,67],1,3);
else if(T=="Grn")c=new aw("Grain",0,20);else if(T=="HghA")c=new aw("Highlight Area",0,20);else if(T=="Intn")c=new aw("Intensity",0,10);
else if(T=="Brgh")c=new aw("Glow Brightness",0,x=="WtrP"?100:50);else if(T=="StrS")c=new aw("Stroke Size",1,50);
else if(T=="StDt")c=new aw("Stroke Detail",1,3);else if(T=="Sftn")c=new aw("Softness",0,10);else if(T=="EdgT")c=new aw("Edge Thickness",0,10);
else if(T=="EdgI")c=new aw("Edge Intensity",0,10);else if(T=="Pstr")c=new aw("Posterization",0,6);else if(T=="Dfnt")c=new aw("Definition",0,25);
else if(T=="TxtC")c=new aw("Texture Coverage",0,50);else if(T=="ShdI")c=new aw("Shadow Intensity",0,10);
else if(T=="DrcB")c=new aw("Direction Balance",0,100);else if(T=="Strg")c=new aw([12,64],1,3);else if(T=="Blnc")c=new aw("Balance",0,10);
else if(T=="BlcI")c=new aw("Black Intensity",0,10);else if(T=="WhtI")c=new aw("White Intensity",0,10);
else if(T=="DrkI")c=new aw("Dark Intensity",0,50);else if(T=="LghI")c=new aw("Light Intensity",0,50);
else if(T=="StrW")c=new aw("Stroke Width",3,15);else if(T=="Grns")c=new aw("Graininess",0,x=="NtPr"?20:10);
else if(T=="GlwA")c=new aw("Glow Amount",0,20);else if(T=="ClrA")c=new aw("Clear Amount",0,20);else if(T=="ChrA")c=new aw("Charcoal Area",0,20);
else if(T=="ChlA")c=new aw("Chalk Area",0,20);else if(T=="FrgL")c=new aw("Foreground Level",1,15);else if(T=="BckL")c=new aw("Background Level",1,15);
else if(T=="WhtL")c=new aw("Background Level",0,50);else if(T=="BlcL")c=new aw("Foreground Level",0,50);
else if(T=="ImgB")c=new aw("Image Balance",0,50);else if(T=="Dnst")c=new aw([12,74],0,50);else if(T=="FbrL")c=new aw("Fiber Length",3,50);
else if(T=="CrcS")c=new aw("Crack Spacing",2,100);else if(T=="CrcD")c=new aw("Crack Depth",0,10);else if(T=="CrcB")c=new aw("Crack Brightness",0,10);
else if(T=="TlSz")c=new aw("Tile Size",2,100);else if(T=="GrtW")c=new aw("Grout Width",1,15);else if(T=="LghG")c=new aw("Lighten Grout",0,10);
else if(T=="SqrS")c=new aw("Square Size",0,10);else if(T=="RplS")c=new aw("Ripple Size",1,15);else if(T=="RplM")c=new aw("Ripple Magnitude",0,20);
else if(T=="NmbL")c=new aw("Number of Levels",2,8);else if(T=="EdgS")c=new aw("Edge Simplicity",0,10);
else if(T=="EdgF")c=new aw("Edge Fidelity",1,3);else if(T=="Sz")c=x=="NGlw"?new aw("Glow Size",-24,24):new aw("Brush Size",1,50);
else if(T=="Dtl")c=x=="Chrc"?new aw("Detail",0,5):new aw("Detail",1,15);else if(T=="StrL")c=x=="InkO"?new aw("Stroke Length",1,50):new aw("Stroke Length",0,20);
else if(T=="TxtT")c=new ad([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(T=="BrsT")c=new ad("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(T=="Grnt")c=new ad("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(T=="SDir")c=new ad([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(T=="ScrT")c=new ad([12,62],["Circle","Dot",[10,35]]);
else if(T=="LghD"||T=="LghP")c=new ad("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(T=="Clr")c=new dW("Glow Color");else if(T=="InvT")c=new kv([4,11]);else console.log(T);c.k(v.E.p,this.DV,this);
c.parent=this;this.Nt[T]=c;this.n.appendChild(c.n)}};gE.GEfc.CQ.prototype=new ky;gE.GEfc.CQ.prototype.DV=function(x){this.c(new aA(v.E.p,!1))};
gE.GEfc.apJ="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
gE.GEfc.CQ.prototype.T=function(x){for(var R in this.Nt){var T;if(gE.GEfc.apJ.indexOf(R)!=-1)T=x[R].v;
else if(R=="TxtT")T=c2.y6.indexOf(x[R].v[R]);else if(R=="BrsT")T=c2.auV.indexOf(x[R].v[R]);else if(R=="LghD")T=c2.et.indexOf(x[R].v[R]);
else if(R=="LghP")T=c2.aH.indexOf(x[R].v[R]);else if(R=="Grnt")T=c2.Lx.indexOf(x[R].v[R]);else if(R=="ScrT")T=c2.yF.indexOf(x[R].v[R]);
else if(R=="SDir")T=c2.XF.indexOf(x[R].v.StrD);this.Nt[R].T(T)}};gE.GEfc.CQ.prototype.h=function(){var x=c2.GI(this.af);
for(var R in this.Nt){var T=this.Nt[R].h();if(gE.GEfc.apJ.indexOf(R)!=-1)x[R].v=T;else if(R=="TxtT")x[R].v[R]=c2.y6[T];
else if(R=="BrsT")x[R].v[R]=c2.auV[T];else if(R=="LghD")x[R].v[R]=c2.et[T];else if(R=="LghP")x[R].v[R]=c2.aH[T];
else if(R=="Grnt")x[R].v[R]=c2.Lx[T];else if(R=="ScrT")x[R].v[R]=c2.yF[T];else if(R=="SDir")x[R].v.StrD=c2.XF[T]}return x};
gE.GEfc.CQ.prototype.t=function(){for(var x in this.Nt)this.Nt[x].t()};gE["Adobe Camera Raw Filter"]=function(x){gE.call(this,"Adobe Camera Raw Filter");
var R=this.n;this.a9_=x;this.kR=null;this.jb=null;this.RE=1e3;this.zi=null;this.pK=null;X.MQ(R,"flexrow");
var T=X._("div"),c=X._("div","padded");R.appendChild(T);R.appendChild(c);this.t_=new bx;this.t_.k("zoom",this.a5,this);
T.appendChild(this.t_.n);this.rf=new jp(225);this.rf.b3(4);c.appendChild(this.rf.n);this.GT=X._("div");
this.GT.setAttribute("style","width:18em;");c.appendChild(this.GT);this.a75=new kk("Hi",!0);this.GT.appendChild(this.a75.n);
this.mm=X._("div","scrollable");this.GT.appendChild(this.mm);this.Nt=[new aw("Temperature",-100,100),new aw("Tint",-100,100),new aw([4,3],-4,4,null,!0),new aw([12,3,0],-100,100),new aw([4,4],-100,100),new aw([12,9],-100,100)];
this.FS="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var z=0;z<this.Nt.length;z++){var g=this.Nt[z];
g.T(0);g.k(v.E.p,this.a5,this);this.mm.appendChild(g.n);if(z==1||z==3)this.mm.appendChild(X._("hr"))}};
gE["Adobe Camera Raw Filter"].prototype=new gE;gE["Adobe Camera Raw Filter"].prototype.ie=function(){return!0};
gE["Adobe Camera Raw Filter"].prototype.Df=function(x){this.GT.appendChild(x)};gE["Adobe Camera Raw Filter"].prototype.L4=function(x,R){this.rf.M0(ah.zF[x.GA]["--text-color"])};
gE["Adobe Camera Raw Filter"].prototype.T=function(x,R,T,c,g){this.ne=x;var d=T.m,U=T.e,e=d*U;this.a75.T(d+" x "+U+", "+(d*U/1e6).toFixed(1)+" MPx");
this.yw=T;this.zi=new Float32Array(d*U*3);this.pK=new Uint8Array(d*U*4);this.pK.fill(255);if(R instanceof Float32Array)this.kR=R;
else{var N=this.kR=new Float32Array(d*U*3);for(var z=0;z<e;z++){var l=z*3,J=z*4;N[l+0]=R[J+0]*(1/255);
N[l+1]=R[J+1]*(1/255);N[l+2]=R[J+2]*(1/255)}}this.jb=[{z6:this.kR,rect:T.clone()}];this.RE=1e3;var w=this.kR;
while(d>1&&U>1){var s=d,o=s*3;d=d>>>1;U=U>>>1;var V=w,w=new Float32Array(d*U*3);this.jb.push({z6:w,rect:new aP(0,0,d,U)});
for(var a=0;a<U;a++)for(var O=0;O<d;O++){var l=(a*d+O)*3,S=(a*2*s+O*2)*3,L=S+o;w[l]=.25*(V[S]+V[S+3]+V[S+o]+V[S+o+3]);
w[l+1]=.25*(V[S+1]+V[S+4]+V[S+o+1]+V[S+o+4]);w[l+2]=.25*(V[S+2]+V[S+5]+V[S+o+2]+V[S+o+5])}}var Q=this.FS;
for(var z=0;z<Q.length;z++){var b=Q[z];this.Nt[z].T(x[b]?x[b].v:0)}this.t_.T([{d8:T,data:this.pK.buffer}]);
this.t_.cB();this.a5(null)};gE["Adobe Camera Raw Filter"].prototype.h=function(x){if(x){this.a5(null,!0);
return this.pK}return JSON.parse(JSON.stringify(this.ne))};gE["Adobe Camera Raw Filter"].prototype.a76=function(){this.kR=null;
this.zi=null;this.jb=null;this.pK=null};gE["Adobe Camera Raw Filter"].prototype.a5=function(x,R){if(x&&this.Nt.indexOf(x.target)!=-1){this.RE=1e3;
var T=this.FS;for(var z=0;z<T.length;z++){var c=T[z];this.ne[c]={t:c=="Ex12"?"doub":"long",v:this.Nt[z].h()}}}var g=this.t_.FW().O,d=0;
while(g*2<=1&&!R){g*=2;d++}if(this.RE<=d)return;this.RE=d;var U=this.yw,e=this.as4(this.kR,U,this.zi,this.ne,this.a9_,this.pK,d);
this.rf.T(e);this.t_.T([{d8:U,data:this.pK.buffer}])};gE["Adobe Camera Raw Filter"].prototype.as4=function(x,R,T,c,g,d,U){var e=x,N=T,l=d,J=R.m,w=R.e,s=U!=0;
if(s){var o=this.jb[U];e=o.z6;J=o.rect.m;w=o.rect.e;N=new Float32Array(J*w*3);l=u.B(J*w*4)}by(e,J,w,N,c,g);
var V=Date.now(),a=J*w;for(var z=0;z<a;z++){var O=z*3,S=z*4;l[S+0]=~~(.5+N[O+0]*255);l[S+1]=~~(.5+N[O+1]*255);
l[S+2]=~~(.5+N[O+2]*255);l[S+3]=255}console.log(Date.now()-V,"integer conversion");V=Date.now();var L=u.wu(l,Math.max(1,Math.floor(a/2e5)));
console.log(Date.now()-V,"histogram done");V=Date.now();if(s){var Q=new Uint32Array(l.buffer),b=new Uint32Array(d.buffer),Z=R.m,I=R.e;
for(var y=0;y<I;y+=2)for(var r=0;r<Z;r+=2){var O=y*Z+r,h=Q[(y>>>U)*J+(r>>>U)];b[O]=h;b[O+1]=h;b[O+Z]=h;
b[O+Z+1]=h}console.log(Date.now()-V,"upscale");V=Date.now()}return L};gE["Adobe Camera Raw Filter"].prototype.s7=function(x,R){this.a7G=x-248;
this.a0m=R;this.t_.s7(this.a7G,this.a0m);this.mm.style.height=R-236+"px"};gE["Adobe Camera Raw Filter"].prototype.t=function(){for(var z=0;
z<this.Nt.length;z++)this.Nt[z].t()};gE.VaPo=function(){gE.call(this,"VaPo");this.f=-1;this.rS=null;
this.Ro=!1;this.mq=null;this.iW=null;this.H$=null;this.Pp=null;this.Kg=null;this.gX=null;this.Gn=null;
this.JO=null;this.X3=null;this.Wh=null;this.VM=null;this.YN=[];this.i_=-1;this.g=null;this.q={ul:[[{f:{id:0,name:"Move",az:"tools/move"}}],[{f:{id:1,name:"Create Plane",az:"tools/pcrop"}}],[{f:{id:2,name:"Marquee",az:"tools/rselect"}}],[{f:{id:3,name:"Stamp",az:"tools/clone"}}],[{f:{id:4,name:"Brush",az:"tools/brush"}}],[{f:{id:5,name:"Transform",az:"tools/transform"}}],[{f:{id:6,name:"Hand",az:"tools/hand"}}],[{f:{id:7,name:"Zoom In",az:"zoomIn"}}],[{f:{id:8,name:"Zoom Out",az:"zoomOut"}}]],keys:[fZ.Af,fZ.Fa,fZ.l2,fZ.wA,fZ.C9,fZ.um,fZ.$L,fZ.Y6]};
this.ow=new d_(this.q,!1);this.ow.k(v.E.P,this.Kz,this);this.K8=null;this.yw=null;this.iO=null;this.atF=null;
this.Pw=null;this.l8=null;var x=X._("div","flexrow"),c=0;this.QB=x;this.n.appendChild(x);x.appendChild(this.ow.n);
var R=X._("div");x.appendChild(R);var top=X._("div","form");R.appendChild(top);top.setAttribute("style","padding-left:8px; height:30px;");
this.g7=X._("span");top.appendChild(this.g7);this.cO=[[new i1([12,80,5],1,1e3)],[new i1([7,6],0,30)],[new i1([12,14],1,200),new i1([12,17],0,100),new i1([12,0],0,100),new kv([12,75])],[new i1([12,14],1,200),new i1([12,17],0,100),new i1([12,0],0,100),new dW],[new kv("Flip"),new kv("Flop")],[]];
var T=[100,0,100,100,100,!1,100,100,100,JSON.parse(fJ.hN.dQ.slice(6)).v];this.U8=[];for(var z=0;z<6;
z++){var g=X._("span"),d=this.cO[z];this.U8.push(g);for(var U=0;U<d.length;U++){var e=d[U];e.parent=this;
e.T(T[c++]);e.k(v.E.p,this.a39,this);g.appendChild(e.n)}}this.CK=X._("div");this.CK.setAttribute("style","display:inline-block;float:right; width:100px;");
top.appendChild(this.CK);this.view=new bx(!0);this.view.s7(100,100);this.view.iz("auto");this.view.k("mousedown",this.LV,this);
this.view.k("mousemove",this.Dg,this);this.view.k("mouseup",this.ho,this);X.ri(this.view.V,this.eg.bind(this));
R.appendChild(this.view.n)};gE.VaPo.prototype=new gE;gE.VaPo.prototype.ie=function(){return!0};gE.VaPo.prototype.Df=function(x){this.CK.appendChild(x)};
gE.VaPo.prototype.a39=function(x){if(x.target==this.cO[0][0]){var R=this.Dr(),T=x.target.h();for(var z=0;
z<this.g.length;z++)if(this.g[z].length!=0&&R[z])R[z][0]=T;this.WY(R)}if(this.f==5){this.K8=this.i4();
this.a5(!0)}this.a5()};gE.VaPo.prototype.Rw=function(x){var R=this.f,T=this.iW;if(R==3||R==4){var c=this.cO[R-1],g=bE.hA(),d=g.Brsh.v;
d.Dmtr.v.val=c[0].h();d.Hrdn.v.val=c[1].h();g=D.AN.$P(g,x);if(g){d=g.Brsh.v;c[0].T(d.Dmtr.v.val);c[1].T(d.Hrdn.v.val)}this.Ny()}if(R==1&&T&&(x.S(fZ.U5)||x.S(fZ.ve))){T.pop();
T.pop();if(T.length==0)T=this.iW=null;this.a5()}function U(J,z,V){u.yU(J[z],J[0],V.iO,V.yw);V.o_(J[0])}this.mq=x;
if(R<6)this.view.Rw(x);var e=x.S(fZ.Gc);if(e){var N=this.i_,l=0;if(x.S(fZ.Y6)){if(x.S(fZ.xg))l=1;else l=-1}else if(x.S(fZ.tq))l=1;
if(l!=0&&R!=5){console.log(this.i_,l,this.YN);var J=this.YN[this.i_],w=!1;if(J.length==3&&l==-1){U(J,1,this);
w=!0}N+=l;this.i_=Math.max(0,Math.min(this.YN.length-1,N));J=this.YN[this.i_];if(J.length==3&&l==1){U(J,2,this);
w=!0}this.a5(w)}if(x.S(fZ.Af)){if(X.Jm())hG.a4r(this.vX.bind(this))}if(x.S(fZ.uX)){this.Kg=null;this.a5()}}else{var s=this.q.keys;
for(var z=0;z<s.length;z++)if(x.S(s[z]))this.Kc(z)}if(x.S(fZ.ve)||x.S(fZ.U5)){var o=this.Dr();o=u.KJ.ag7(o,this.g);
this.g=[];for(var z=0;z<o.length;z++)this.g[z]=[];this.WY(o);this.a5()}};gE.VaPo.prototype.vX=function(x){if(x=="granted")hG.J$(this,this.dk.bind(this))};
gE.VaPo.prototype.dk=function(x,R){if(this.Pp==null)this.Pp=[0,0];if(this.f==5)this.Kc(0);this.Kc(5,{Ik:x,v4:R})};
gE.VaPo.prototype.Kz=function(x){if(x.data.d==v.H.di){this.Kc(x.data.f)}};gE.VaPo.prototype.aqc=function(x){var R=this.view.IM(x),T=u.KJ.Mu(this.Dr(),this.g),c=1e9,g=0;
for(var z=0;z<T.length;z++){var d=T[z][0],U=R.x-d[0],e=R.y-d[1],N=Math.sqrt(U*U+e*e);if(N<c){c=N;g=z}}if(c>4*X.mM()/this.view.FW().O)return null;
return T[g]};gE.VaPo.prototype.eg=function(x){var R=this.f,T=this.iW;if(R<2&&!this.Ro){var c=this.rS=this.aqc(x),g=this.Dr(),d="auto";
if(R==0&&u.KJ.sl(g,c)){var U=g[c[1]][1][c[2]],e=U[5+{1:0,5:1,7:2,3:3}[c[3]]],N=e[0],l=e[1];d=jS.aCK(N[1]-l[1],-N[0]+l[0])}if(u.KJ.avm(g,c))d="crosshair";
this.view.iz(d)}if(T){var J=this.view.IM(x),w=T.slice(0);T[T.length-2]=J.x;T[T.length-1]=J.y;this.a5()}this.Ny(x);
if(R==5&&!this.Ro&&this.yl){var J=this.view.IM(x),g=this.Dr(),s=u.KJ.TC(g,J.x,J.y,this.ez());if(s){var o=new cI(s[2][0],s[2][1]),V=u.KJ.wv(g,g[s[0]][1][s[1]],this.ez()),a=V[1],O=u.D.ok(V[0],a),S=[a.x+a.m/2,a.y+a.e/2];
u.D.i(O,S);var L=J.x-S[0],Q=J.y-S[1],b=this.yl.LG(o,this.view.FW().O,null,null,Math.atan2(-Q,-L));this.view.iz(b?b:"default")}}};
gE.VaPo.prototype.Ny=function(x){var R=this.f,T=this.mq;if((R==3||R==4)&&!this.Ro){var c=x?this.view.IM(x):this.mv,g=this.Dr();
this.mv=c;if(c==null)return;var d=u.KJ.TC(g,c.x,c.y,this.ez());if(d){if(R==3&&this.VM&&this.cO[2][3].h()){var U=new cI(d[2][0],d[2][1]);
this.Wh=U.KV(this.VM);this.a5()}if(R==3&&(this.Wh==null||T&&(T.S(fZ.ng)||T.S(fZ.kw)))){if(this.K8){this.l8=null;
this.o_(this.K8);this.a5(!0,this.K8)}return}this.a66(d,this.K8)}}};gE.VaPo.prototype.ez=function(){return[this.yw.m/2,this.yw.e/2]};
gE.VaPo.prototype.LV=function(x){this.Ro=!0;var R=this.f,T=this.iW,c=this.Dr(),g=this.mq,d=this.rS=this.aqc(null),U=this.view.IM(),e=u.KJ.TC(c,U.x,U.y,this.ez()),N=e?new cI(e[2][0],e[2][1]):null;
if(u.KJ.avm(c,d)){var l=c[d[1]][1][d[2]];c.splice(d[1],1);this.g.splice(d[1],1);T=u.KJ.a6e(l);var J=-1,U=d[0];
for(var z=0;z<8;z+=2){var w=T[z]-U[0],s=T[z+1]-U[1];if(w*w+s*s<1e-5)J=z}J=J+2&7;T=this.iW=T.slice(J).concat(T.slice(0,J));
this.WY(c)}else if(u.KJ.sl(c,d)){if(R==1||g&&g.S(fZ.Gc)){c=u.KJ.at4(c,d,this.ez());this.WY(c);d[2]=c[d[1]][1].length-1;
d[3]=8+(d[3]+4&7);this.g[d[1]].push(d[2]);this.WY(c,!0);this.Kc(0)}else this.WY(this.Dr(c))}else if(R==0){var o=[];
for(var z=0;z<c.length;z++)o.push([]);if(e){if(g&&g.S(fZ.xg))o=this.g;var V=o[e[0]].indexOf(e[1]);if(V==-1)o[e[0]].push(e[1]);
else o[e[0]].splice(V,1)}this.g=o;this.WY(c,!0);this.a5()}else if(R==2){if(e){var a=this.Kg;if(a&&a.mD(N)){if(g)if(g.S(fZ.ng)||g.S(fZ.Gc)){this.Kc(5);
this.LV(x);return}this.gX=new cI(N.x-a.x,N.y-a.y)}else{this.H$=e[2].concat(e[2]);this.Pp=e}}}else if(R==3||R==4){if(R==3){if(g&&(g.S(fZ.ng)||g.S(fZ.kw))){if(e){this.Wh=N;
this.JO=N.clone();this.VM=null;this.X3=e;this.a5()}else alert("You must click into a plane");this.Ro=!1;
return}else if(this.Wh==null){alert(go.get([15,7,0]));this.Ro=!1;return}else if(e){var O=this.VM=N.KV(this.Wh)}}if(e){this.a66(e)}}else if(R==5){if(e){var S=new cI(e[2][0],e[2][1]),L=this.yl.fz({Q:this.view.FW()},{},g,S)}}};
gE.VaPo.prototype.a66=function(x,R){var T=this.l8;if(T==null)this.l8=T=u.B(this.yw.Z()*4);else T.fill(0);
var c=this.f;this.Pp=x;var g=this.cO[c-1],d=u.aju.alH(g[0].h(),g[1].h()/100,1),U=u.B(d[1].Z()*4);u.rN(d[0],U,3);
if(c==4){var e=u.I.ir(g[3].h());u.Qu(U,Math.round(e.J)<<16|Math.round(e.A)<<8|Math.round(e.o)<<0,4278190080)}this.Gn={aqq:d[0],Ik:U,v4:d[1]};
var N=this.K8=this.Zw(x[2],x[2]),l=R?R.y8(N):N;this.o_(l);this.a5(!0,l)};gE.VaPo.prototype.Dg=function(x){var R=this.rS,T=this.f,c=this.Dr();
if(T==0&&u.KJ.sl(c,R)){c=u.KJ.a83(c,R,this.view.IM());this.WY(c,!0);this.a5()}var g=this.gX;if(T==2&&this.Ro&&(this.H$||g)){var d=this.view.IM(),U=u.KJ.TC(c,d.x,d.y,this.ez());
if(U){this.Pp=U;if(g){this.Kg.x=U[2][0]-g.x;this.Kg.y=U[2][1]-g.y}else{this.H$=this.H$.slice(0,2).concat(U[2]);
this.Kg=u.M.CC(this.H$)}this.a5()}}if((T==3||T==4)&&this.Ro){var d=this.view.IM(),U=u.KJ.TC(c,d.x,d.y,this.ez());
if(U){if(T==3){var e=this.VM;this.Wh=new cI(U[2][0]-e.x,U[2][1]-e.y)}var N=this.Zw(this.Pp[2],U[2]);
this.K8=this.K8.y8(N);this.Pp=U;this.o_(N);this.a5(!0,N)}}if(T==5&&this.Ro){var d=this.view.IM(),U=u.KJ.TC(c,d.x,d.y,this.ez(),this.Pp);
if(U){var l=new cI(U[2][0],U[2][1]);this.yl.gQ({Q:this.view.FW()},{},this.mq,l);this.Pp=U;var N=this.K8;
if(N)this.o_(N);else N=new aP;this.K8=this.i4(null,null,!0);this.a5(!0,N.y8(this.K8))}}};gE.VaPo.prototype.Zw=function(x,R){x=new cI(x[0],x[1]);
R=new cI(R[0],R[1]);var T=Math.max(1e-5,cI.rE(x,R)),c=this.Gn.v4.m*.2,g=new aP;for(var d=0;d<T;d+=c){var U=1-d/T,e=U*x.x+(1-U)*R.x,N=U*x.y+(1-U)*R.y,l=this.Gn.v4.clone();
l.x=Math.round(e-l.m/2);l.y=Math.round(N-l.e/2);if(this.f==3){var J=this.VM;if(J==null)J=new cI(e,N).KV(this.Wh);
var w=this.Kg=l.clone();w.x=Math.round(w.x-J.x);w.y=Math.round(w.y-J.y);var s=this.Gn.aqq;this.Gn=this.a9a(this.X3);
this.Kg=null;u.iv(s,this.Gn.Ik);this.Gn.aqq=s}var o=this.i4(this.l8,l);g=g.y8(o)}return g};gE.VaPo.prototype.ho=function(x){var R=this.rS;
if(R&&R[3]>=8){var T=u.KJ.av6(this.Dr(),R,this.ez());this.WY(T,!0);this.a5();alert("new plane added")}var c=this.f,g=this.iW;
if(g||c==1){var d=this.view.IM();if(g==null)g=this.iW=[d.x,d.y];if(g.length==8&&jS.r9(g)){var T=this.Dr();
T.push([100,[u.KJ.alj(g,this.ez())]]);this.g.push([0]);this.WY(T,!0);g=this.iW=null;this.Kc(0);this.a5()}else if(g.length<8){g.push(d.x,d.y);
if(g.length==8&&!jS.r9(g)){var U=g[0],e=g[1];g[0]=g[4];g[1]=g[5];g[4]=U;g[5]=e}}}var N=this.H$;if(c==2&&N&&N[0]==N[2]&&N[1]==N[3]){this.Kg=null;
this.a5()}if((c==3||c==4)&&this.Ro){if(c==3&&!this.cO[2][3].h()&&this.JO){this.Wh=this.JO.clone();this.a5()}this.WY();
this.l8=null}if(!this.cO[2][3].h())this.VM=null;this.Ro=!1;this.gX=null;this.H$=null};gE.VaPo.prototype.Kc=function(x,R){if(x==this.f)return;
var T=this.K8,g=6;if(this.f==5){this.WY();this.o_(T);this.yl=null;this.a5()}if(this.f==3||this.f==4){this.l8=null;
if(T)this.o_(T);this.a5(!0,T)}if(x==5){if(R==null&&this.Kg==null){alert("Select the area to be transformed");
return}this.aaN(R)}if(x>1){var c=this.Dr();this.sq();this.WY(c,!0);this.a5()}this.view.Rw(x>=g?bx.oo(x-g):new fZ);
if(x<g)this.view.iz("auto");this.f=x;this.ow.Kc(x);X.Ra(this.g7);var d={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[x];
this.g7.appendChild(this.U8[d])};gE.VaPo.prototype.Dr=function(){var z=this.i_,x=this.YN;while(x[z].length==3)z--;
var R=x[z];this.g=JSON.parse(R[1]);return JSON.parse(R[0])};gE.VaPo.prototype.WY=function(x,R){if(x==null&&this.K8==null)return;
var T=this.YN,c=this.i_,z=c;while(z>=0&&T[z].length==3)z--;if(R==null)this.i_=c=c+1;if(x!=null)T[R?z:c]=[JSON.stringify(x),JSON.stringify(this.g)];
else{var g=this.yw,d=this.K8,U=u.B(d.Z()*4),e=u.B(d.Z()*4);T[c]=[d,U,e];u.yU(this.iO,g,U,d);if(this.l8)u.l.Hy("norm",this.l8,g,this.iO,g,g,this.aul());
else this.i4(this.iO);u.yU(this.iO,g,e,d);this.K8=null}while(T.length!=c+1)T.pop()};gE.VaPo.prototype.aul=function(){return this.cO[this.f-1][2].h()/100};
gE.VaPo.prototype.sq=function(x,R){if(x==null)x=this.Dr();this.g=[];for(var z=0;z<x.length;z++){var T=[];
this.g.push(T);if(R)for(var c=0;c<x[z][1].length;c++)T.push(c)}};gE.VaPo.prototype.T=function(x,R,T,c,g,d){var U=JSON.parse(JSON.stringify(d[2].KJ));
this.i_=-1;this.sq(U);this.WY(U);var e=u.B(c.Z()*4);u.yU(R,T,e,c);this.ai_=new aP;this.yw=c;this.atF=g;
this.iO=e;this.Pw=g.slice(0);this.o_(c);this.a5(!0);this.view.cB();this.Kc(0)};gE.VaPo.prototype.aaN=function(x){this.Gn=x?x:this.a9a();
var R=u.M.$x(this.Gn.v4).z;if(x){var T=this.Dr(),c=u.KJ.wv(T,T[0][1][0],this.ez()),g=c[1],d=Math.min(g.m/x.v4.m,g.e/x.v4.e)*.9;
if(d<1)u.M.i(R,new gP(d,0,0,d,0,0),R)}this.yl=new jS(R,!0,!0);this.Kg=null;this.K8=this.i4();this.a5(!0)};
gE.VaPo.prototype.a9a=function(x){var R=this.yw,T=u.M.cJ(this.Kg),c=this.Dr(),g=u.B(T.Z()*4);if(x==null)x=this.Pp;
var d=c[x[0]][1],U=u.KJ.uD(c[x[0]][1],x[1],T,this.ez());for(var e=0;e<U.length;e++){var N=d[U[e]],l=u.KJ.wv(c,N,this.ez()),J=l[0],w=l[1],s=w.yx(T);
if(s.Y3())continue;s=u.M.cJ(s);var o=u.B(s.Z()*4),V=u.D.ok(J,w);V=u.D.Kq([1/R.m,0,0,0,1/R.e,0,0,0],V);
V=u.D.F0(V);u.D.drawImage(V,this.Pw,R.m,R.e,o,s);u.yU(o,s,g,T)}var a=this.cO[1][0].h(),O=Math.round(a*1.4),S=T.clone();
S.t1(-O,-O);var L=u.B(S.Z());L.fill(255);var Q=u.B(T.Z());u.gN(L,S,Q,T);var b=u.B(T.Z());u.kc.nu(Q,b,T,a);
u.TR(g,Q,3);u.jY.yx(Q,b,b);u.rN(b,g,3);return{Ik:g,v4:T}};gE.VaPo.prototype.o_=function(x,R){var T=this.yw;
u.yU(this.atF,T,this.Pw,T,x);u.l.Hy("norm",this.iO,T,this.Pw,T,x,1);if(this.l8)u.l.Hy("norm",this.l8,T,this.Pw,T,x,this.aul())};
gE.VaPo.prototype.i4=function(x,R,T){var c=this.Gn,g=c.v4,d=this.yw,U,e=R?u.M.$x(R).z:this.yl.Mu(),N=u.M.QK(e),U=u.D.ok(e,g),l=this.cO[4],J=new gP;
if(l[0].h()){J.Y=-1;J.a4=2*g.x+g.m}if(l[1].h()){J.jR=-1;J.rY=2*g.y+g.e}U=u.D.Kq(U,u.D.bY(J));function w(A,_){A.beginPath();
A.moveTo(_[0],_[1]);for(var z=1;z<4;z++)A.lineTo(_[z*2],_[z*2+1]);A.closePath()}var s=this.Dr(),o=u.KJ.uD(s[this.Pp[0]][1],this.Pp[1],N,this.ez()),V=s[this.Pp[0]][1],a=new aP;
for(var O=0;O<o.length;O++){var S=V[o[O]],L=u.KJ.wv(s,S,this.ez()),Q=L[0],b=L[1],Z=b.yx(N);if(this.Kg)Z=Z.yx(this.Kg);
if(Z.Y3())continue;var I=u.D.ok(Q,b),y=u.M.$x(Z).z;u.D.i(I,y);var r=e.slice(0);u.D.i(I,r);var h=u.M.CC(r).yx(u.M.CC(y)),k=h.m,K=h.e;
if(h.Y3())continue;I=u.D.Kq(u.D.Kq(I,U),[g.m,0,g.x,0,g.e,g.y,0,0]);var H=u.B(h.Z()*4);u.D.drawImage(I,c.Ik,g.m,g.e,H,h,T);
if(Z.Z()!=N.Z()){var p=u._e(k,K);p.save();p.clearRect(0,0,k,K);p.translate(-h.x,-h.y);w(p,y);p.clip();
w(p,r);p.fill();p.restore();var f=new Uint8Array(p.getImageData(0,0,k,K).data.buffer);for(var z=3;z<H.length;
z+=4)if(f[z]<H[z])H[z]=f[z]}u.l.Hy("norm",H,h,x?x:this.Pw,d,h,1);a=a.y8(h)}return a};gE.VaPo.prototype.h=function(){return JSON.parse(JSON.stringify(this.Dr()))};
gE.VaPo.prototype.a3$=function(){if(this.f==5)this.Kc(0);var x=new aP,R=this.YN;for(var z=0;z<=this.i_;
z++)if(R[z].length==3)x=x.y8(R[z][0]);var T=u.B(x.Z()*4);u.yU(this.iO,this.yw,T,x);return[T,x]};gE.VaPo.prototype.s7=function(x,R){this.ow.s7(x,R);
this.view.s7(x-40,R-30)};gE.VaPo.prototype.t=function(){this.ow.t();for(var z=0;z<this.cO.length;z++)for(var x=0;
x<this.cO[z].length;x++)this.cO[z][x].t()};gE.VaPo.prototype.a5=function(x,R){var T=this.yw,c=[],g=[],d=[],U=this.Dr(),e=u.KJ.Mu(U,this.g),N=0,l=null,O=null,S=null,L=null;
for(var z=0;z<e.length;z++)d.push(e[z][0][0],e[z][0][1]);for(var z=0;z<U.length;z++){var J=this.g[z].length;
N+=J;if(J!=0)l=[z,this.g[z][0]]}var w=this.cO[0][0];w.Dd(N!=0);if(N!=0)w.T(Math.round(U[l[0]][0]));if(N==1){var s=U[l[0]][1]}var o=[];
if(this.Kg&&U[this.Pp[0]])o=u.KJ.uD(U[this.Pp[0]][1],this.Pp[1],this.Kg,this.ez());var V=[];if(this.yl){V=this.yl.ae_();
V[4]=this.yl.U$()}var a=[];if(this.yl&&U[this.Pp[0]])a=u.KJ.uD(U[this.Pp[0]][1],this.Pp[1],u.M.CC(this.yl.Mu()),this.ez());
for(var Q=0;Q<U.length;Q++){var b=U[Q][0],s=U[Q][1],Z=this.g[Q];for(var I=0;I<s.length;I++){var l=s[I],y=u.KJ.wv(U,l,this.ez()),r=y[0],T=y[1],h=u.D.ok(r,T);
if(T.Y3()){if(S==null)S={G:[],z:[]};u.M.concat(S,{G:["M","L","L","L","Z"],z:r});continue}var k=u.M.$x(T),K=k.z,H=k.G,p=this.Wh;
if(p&&T.mD(p)&&this.X3&&this.X3[0]==Q){O=[p.x,p.y];u.D.i(h,O)}if(o.indexOf(I)!=-1){var f=this.Kg.yx(T);
if(Q==this.Pp[0]&&!f.Y3()){if(L==null)L={z:[],G:[]};var A=u.M.$x(f);u.D.i(h,A.z);u.M.concat(L,A)}}if(a.indexOf(I)!=-1&&Q==this.Pp[0]){var _=[];
for(var z=0;z<V.length;z++)if(T.mD(V[z]))_.push(V[z].x,V[z].y);if(_.length!=0){u.D.i(h,_);d=d.concat(_)}}if(Z&&Z.indexOf(I)!=-1){var W=Math.ceil(T.x/b)*b,Y=T.x+T.m,G=Math.ceil(T.y/b)*b,i=T.y+T.e;
for(var E=W;E<Y;E+=b){K.push(E,T.y,E,i);H.push("M","L")}for(var $=G;$<i;$+=b){K.push(T.x,$,Y,$);H.push("M","L")}}u.D.i(h,K);
c=c.concat(H);g=g.concat(K)}if(O&&this.f==3){var E=O[0],$=O[1],C=10/this.view.FW().O;g.push(E-C,$,E+C,$);
g.push(E,$-C,E,$+C);c.push("M","L","M","L")}}var r=this.iW,T=this.yw;if(r){var B=["M"];for(var z=0;z<r.length-2;
z+=2)B.push("L");B.push("Z");var M=D._x.rc(r,T.m/2,T.e/2);if(isNaN(M)||M==Infinity||M==-Infinity||!jS.r9(r)){if(S==null)S={G:[],z:[]};
u.M.concat(S,{G:B,z:r})}else{g=g.concat(r);c=c.concat(B)}}var j={Xp:{G:c,z:g},a5Z:S,ayJ:L,rb:d,fD:null};
if(x){this.view.T([{d8:T,data:this.Pw.buffer}],null,j,R)}else this.view.acG(j)};gE.blnc=function(){gE.call(this);
var x=this.n;this.iJ=null;this.UW=new ad([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.UW.k(v.E.p,this.a5,this);
x.appendChild(this.UW.n);this.lV=[];for(var z=0;z<3;z++){var R=new aw(["VAR0 - VAR1",hD.a31[z],hD.Q7[z]],-100,100);
R.k(v.E.p,this.Oc,this);this.lV.push(R);x.appendChild(R.n)}this.h0=new kv([13,4]);this.h0.k(v.E.p,this.Oc,this);
x.appendChild(this.h0.n)};gE.blnc.prototype=new gE;gE.blnc.prototype.t=function(){this.UW.t();for(var z=0;
z<3;z++)this.lV[z].t();this.h0.t()};gE.blnc.prototype.T=function(x){this.iJ=JSON.parse(JSON.stringify(x));
this.a5()};gE.blnc.prototype.h=function(x){var R=["ShdL","MdtL","HghL"],T=this.iJ[R[this.UW.h()]].v;
for(var z=0;z<3;z++)T[z].v=this.lV[z].h();this.iJ.PrsL.v=this.h0.h();return JSON.parse(JSON.stringify(this.iJ))};
gE.blnc.prototype.a5=function(x){var R=["ShdL","MdtL","HghL"],T=this.iJ[R[this.UW.h()]].v;for(var z=0;
z<3;z++)this.lV[z].T(T[z].v);this.h0.T(this.iJ.PrsL.v)};gE.brit=function(){gE.call(this,"brit");this.ZH.push(new aw([12,2],-150,150,""));
this.ZH.push(new aw([12,3,0],-100,100,""));this.ZH.push(new kv([12,3,1]));this.bF()};gE.brit.prototype=new gE;
gE.curv=function(){gE.call(this);this.value=null;this.P2=null;this.Dn=null;var x=this.n;this.a3=new ad("Preset",["basic","advanced"]);
this.a3.k(v.E.p,this.a2F,this);x.appendChild(this.a3.n);X.pz(x);this.Eq=new ad([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Eq.k(v.E.p,this.Hm,this);x.appendChild(this.Eq.n);this.mL=new ad(null,["Spline","Sketch"]);this.mL.k(v.E.p,this.a2F,this);
x.appendChild(this.mL.n);this.Vp=new eD;this.Vp.parent=this;this.Vp.k(v.E.p,this.dO,this);x.appendChild(this.Vp.n);
X.pz(x);this.rQ=new aC;this.rQ.k(v.E.p,this.zp,this);x.appendChild(this.rQ.n);this.Pb=null;this.apg=0;
this.RI=0;X.pz(x);this.EC=new ii("Sample from image",cZ.vk(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.EC.k(v.E.p,this.Pz,this);this.EC.n.style.marginRight="0";x.appendChild(this.EC.n)};gE.curv.prototype=new gE;
gE.curv.prototype.L4=function(x,R){if(R==hc.cp||R==hc.xO){var T=x.oK,c=["Default"];for(var z=0;z<T.length;
z++)c.push(T[z].presetFileName.v);c.push("Custom");this.a3.GN(c,[1,T.length,1]);this.Dn=x}};gE.curv.prototype.s7=function(x,R){this.rQ.s7(x,R)};
gE.curv.prototype.t=function(){this.Eq.t();this.rQ.t()};gE.curv.prototype.UF=function(){this.a3.T(this.Dn.oK.length+1)};
gE.curv.prototype.a2F=function(x){if(x.target==this.a3){var R=this.a3.h(),T=this.Dn.oK,c;if(R==0)c=gm.GI("curv");
else if(R-1<T.length)c=JSON.parse(JSON.stringify(T[R-1]));else return;this.T(c);this.Oc();return}this.UF();
var g=er.Eh(this.value,0),d=g.length==256?1:0,U=this.mL.h();if(d==U)return;var c=gm.GI("curv");if(U==1){var e=[];
for(var z=0;z<256;z++)e.push(z);er.v3(c,0,e)}this.T(c);this.Oc()};gE.curv.prototype.zp=function(){this.UF();
er.v3(this.value,this.Eq.h(),this.rQ.h());this.Oc()};gE.curv.prototype.Hm=function(){var x=this.Eq.h(),R=er.Eh(this.value,x),T=R.length==256?1:0;
this.mL.T(T);if(this.P2)this.rQ.dp(this.P2[x],this.P2[4]*[1,.33,.33,.33][x],["#ccc","#fcc","#cfc","#ccf"][x]);
this.rQ.T(R)};gE.curv.prototype.vi=function(){return!0};gE.curv.prototype.fz=function(x,R,T,c,g){var d=this.value;
this.value=gm.GI("curv");this.Oc();var U=D.Yf.Oa(x,g,1,null,!0),e=this.Pb=[U>>>16&255,U>>>8&255,U&255];
this.apg=g.y;var N=this.EC.h().indexOf(!0);if(N==0){var l=(e[0]+e[1]+e[2])/3,J=this.Eq.h(),w=er.Eh(d,J),s=J==0?l:e[J-1],o=-1;
for(var z=0;z<w.length;z++)if(w[z].v.Hrzn.v==s)o=z;if(o==-1){var V=JSON.parse(JSON.stringify(w[0]));
V.v.Hrzn.v=s;V.v.Vrtc.v=s;w.push(V);w.sort(function(a,O){return a.v.Hrzn.v-O.v.Hrzn.v});er.v3(d,J,w);
this.RI=w.indexOf(V)}else this.RI=o}this.T(d);this.Oc()};gE.curv.prototype.gQ=function(x,R,T,c,g){if(this.Pb==null)return;
if(this.EC.h().indexOf(!0)==0){var d=this.value,U=this.Eq.h(),e=er.Eh(d,U),N=e[this.RI];N.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(N.v.Hrzn.v+(this.apg-g.y))));
er.v3(d,U,e);this.T(d);this.Oc()}};gE.curv.prototype.rR=function(x,R,T,c,g){var d=this.value,U=this.Pb,e=(U[0]+U[1]+U[2])/3,N=this.EC.h().indexOf(!0)-1;
if(N<=-1){}else for(var z=0;z<3;z++){var l=er.Eh(d,1+z);if(N==0)l[0].v.Hrzn.v=U[z];if(N==1){var J=Math.log(U[z]/255)/Math.log(e/255),w=Math.min(999,Math.max(10,Math.round(100*J)));
if(l.length==2)l.splice(1,0,JSON.parse(JSON.stringify(l[0])));l[1].v.Hrzn.v=127-Math.log(w/100)*127;
l[1].v.Vrtc.v=127}if(N==2)l[l.length-1].v.Hrzn.v=U[z];er.v3(d,1+z,l)}this.T(d);this.Oc();this.UF();this.Pb=null};
gE.curv.prototype.T=function(x){this.value=x;this.Hm()};gE.curv.prototype.dp=function(x){this.P2=x;this.Hm()};
gE.curv.prototype.h=function(x){return JSON.parse(JSON.stringify(this.value))};gE.curv.prototype.dO=function(){var x=this.Vp.h(),R=this.P2,T=this.value,c=u.PF(x,R);
for(var z=0;z<4;z++){var g=c[z][0],d=c[z][1],U=c[z][2],e=[u.a1.eB(g,0,!0),u.a1.eB(d,255,!0)];if(U!=null)e.splice(1,0,u.a1.eB(128,U,!0));
er.v3(T,z,e)}this.Hm();this.Oc()};gE.expA=function(){gE.call(this,"expA");this.ZH.push(new aw([12,5],-20,20,null,2,!0));
this.ZH.push(new aw([12,6],-.5,.5,null,2));this.ZH.push(new aw([12,7],.01,9.99,null,2,!0));this.bF()};
gE.expA.prototype=new gE;gE.expA.prototype.n5=function(x,R){R[0]=x.Exps.v;R[1]=x.Ofst?x.Ofst.v:0;R[2]=x.gammaCorrection?x.gammaCorrection.v:1};
gE.expA.prototype.sz=function(x,R){x.Exps={t:"doub",v:R[0]};x.Ofst={t:"doub",v:R[1]};x.gammaCorrection={t:"doub",v:R[2]}};
gE.grdm=function(){gE.call(this,"grdm");this.ZH.push(new d5(!0,null,!0));this.ZH.push(new kv([12,23,0]));
this.bF()};gE.grdm.prototype=new gE;gE.grdm.prototype.n5=function(x,R){R[0]=x.Grad.v;R[1]=x.Rvrs?x.Rvrs.v:!1};
gE.grdm.prototype.sz=function(x,R){x.Grad.v=R[0];x.Rvrs={t:"bool",v:R[1]}};gE.grdm.prototype.L4=function(x,R){this.ZH[0].dv(x.gR,x.tn);
if(R==hc.cp||R==hc.Js||R==hc.p2)this.ZH[0].zB(x.sx)};gE.selc=function(){gE.call(this);var x=this.n;this._3=[];
this.eV=null;this.UW=new ad([12,82],hD.KX.concat([[13,1,8],[13,1,13],[13,1,10]]));this.UW.k(v.E.p,this.DV,this);
x.appendChild(this.UW.n);X.pz(x);for(var z=0;z<4;z++){var R=new aw(hD.a31[z],-100,100,"%");R.k(v.E.p,this.DV,this);
this._3.push(R);x.appendChild(R.n)}this.l0=new kv([13,3]);x.appendChild(this.l0.n);this.l0.k(v.E.p,this.DV,this)};
gE.selc.prototype=new gE;gE.selc.prototype.t=function(){this.UW.t();this.l0.t();for(var z=0;z<4;z++)this._3[z].t()};
gE.selc.prototype.T=function(x){this.eV=JSON.parse(JSON.stringify(x));this.a5()};gE.selc.prototype.h=function(x){return JSON.parse(JSON.stringify(this.eV))};
gE.selc.prototype.DV=function(x){if(x.target!=this.UW){var R=this.eV,T=[];for(var z=0;z<4;z++)T[z]=this._3[z].h();
ep.v3(R,this.UW.h(),T);R.Mthd={t:"enum",v:{CrcM:this.l0.h()?"Absl":"Rltv"}}}this.a5();this.Oc()};gE.selc.prototype.a5=function(){var x=this.eV,R=ep.Eh(x,this.UW.h());
for(var z=0;z<4;z++)this._3[z].T(R[z]);this.l0.T(x.Mthd?x.Mthd.v.CrcM=="Absl":!1)};gE.blwh=function(){gE.call(this,"blwh");
this.ZH.push(new kv([12,11]));this.ZH.push(new dW(!0));for(var z=0;z<6;z++)this.ZH.push(new aw(hD.KX[z],-200,300));
this.bF()};gE.blwh.prototype=new gE;gE.blwh.prototype.n5=function(x,R){R[0]=x.useTint.v;R[1]=x.tintColor.v;
var T="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var z=0;z<6;z++)R[2+z]=x[T[z]].v};gE.blwh.prototype.sz=function(x,R){x.useTint.v=R[0];
x.tintColor.v=R[1];var T="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var z=0;z<6;z++)x[T[z]].v=R[2+z]};
gE.hue2=function(){gE.call(this);this.value=null;this.pS=null;this.auA=null;this.Ka=[[0,0,0],[0,50,0]];
var x=this.n;this.EC=new ii(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.EC.k(v.E.p,this.azX,this);this.EC.k(v.E.p,this.Pz,this);x.appendChild(this.EC.n);var R=this.ZH=[new ad([12,12],["Master"].concat(hD.KX)),new aw([12,8],-180,180),new aw([12,9],-100,100),new aw([12,10],-100,100),new kv([12,11])];
for(var z=0;z<R.length;z++){var T=R[z];T.k(v.E.p,z==0?this.Hm:this.aCb,this);x.appendChild(T.n)}this.UW=R[0];
this.a0=R[1];this.Dw=R[2];this.hZ=R[3];this.rq=R[4];this.N_=new ii("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.N_.k(v.E.p,this.azX,this);this.N_.k(v.E.p,this.Pz,this);this.N_.n.style.marginLeft="20px";x.appendChild(this.N_.n);
this.u6=X._("div");x.appendChild(this.u6);this.xl=this.Ty.bind(this);this.Ux=this.I7.bind(this);this.V=X._("canvas");
this.xv=this.V.getContext("2d");this.VC=null;X.Bd(this.V);X.ja(this.V,282,18);x.appendChild(this.V);
X.Us(this.V,this.M4.bind(this))};gE.hue2.prototype=new gE;gE.hue2.prototype.s7=function(x,R){X.ja(this.V,Math.round(x),18);
if(this.value)this.Hm()};gE.hue2.prototype.azX=function(x){var R=x.target.h().indexOf(!0);if(R==-1)return;
if(x.target==this.EC)this.N_.T([!1,!1,!1]);else this.EC.T([!1,!1,!1])};gE.hue2.prototype.M4=function(x){if(this.UW.h()==0||this.rq.h())return;
var R=X.il(x,this.V).x/(this.V.width/X.mM()),d=1e6;function T(w,s,o){return w<s&&s<o||o<w&&(w<s||s<o)}var c=this.q7(),g=-1;
for(var z=0;z<4;z++){var U=Math.abs(R-(c[z]+z*1e-5));if(U<d){d=U;g=z}}if(d>.025){g=-1;var e=c[0],N=c[1],l=c[2],J=c[3];
if(T(e,R,N))g=4;if(T(N,R,l))g=5;if(T(l,R,J))g=6}if(g==-1)return;this.VC=g;X.ri(document.body,this.xl);
X.Xc(document.body,this.Ux)};gE.hue2.prototype.Ty=function(x){var R=X.il(x,this.V).x/(this.V.width/X.mM()),T=this.q7(),c=this.VC;
for(var z=1;z<4;z++)if(T[z]<T[z-1]){T[z]+=1}if(c<4){var g=1e6,d=0;for(var z=-20;z<20;z++){var U=Math.abs(T[c]-(R+z));
if(U<g){g=U;d=z}}R+=d;T[c]=R;for(var z=c+1;z<4;z++)if(T[z]<T[z-1]){T[z]=T[z-1]}for(var z=c-1;z>=0;z--)if(T[z]>T[z+1]){T[z]=T[z+1]}}else{var e=R-(T[c-4]+T[c-3])/2;
if(e<-.5)e+=1;if(c==4){T[0]+=e;T[1]+=e;T[2]=Math.max(T[1],T[2]);T[3]=Math.max(T[1],T[3])}if(c==5)for(var z=0;
z<4;z++)T[z]+=e;if(c==6){T[2]+=e;T[3]+=e;T[0]=Math.min(T[0],T[2]);T[1]=Math.min(T[1],T[2])}}for(var z=1;
z<4;z++)if(T[z]<T[z-1])throw"e";this.agN(T);this.Hm();this.Oc()};gE.hue2.prototype.I7=function(x){X.Nx(document.body,this.xl);
X.YL(document.body,this.Ux)};gE.hue2.prototype.t=function(){for(var z=0;z<this.ZH.length;z++)this.ZH[z].t()};
gE.hue2.prototype.aCb=function(x){var R=this.value.Clrz.v=this.rq.h();if(R)this.UW.T(0);if(x&&x.target==this.rq){var T=R?1:0;
this.Ka[1-T]=fu.Eh(this.value,0);var c=this.Ka[T];fu.v3(this.value,0,c);if(this.UW.h()==0){this.a0.T(c[0]);
this.Dw.T(c[1]);this.hZ.T(c[2])}}var g=this.UW.h(),d=fu.Eh(this.value,g),c=g==0?d:d.lV;c[0]=this.a0.h();
var U=this.Dw.h();c[1]=R?Math.max(0,U):U;c[2]=this.hZ.h();fu.v3(this.value,g,d);this.Hm();this.Oc()};
gE.hue2.prototype.Hm=function(){var x=this.UW.h(),R=this.value.Clrz?this.value.Clrz.v:!1;this.rq.T(R);
this.UW.Dd(!R);this.N_.Dd(!R&&x!=0);var T=fu.Eh(this.value,x),c=x==0?T:T.lV;this.a0.T(c[0]);this.Dw.T(c[1]);
this.hZ.T(c[2]);var g=this.V.width,d=this.V.height,U=this.xv;U.clearRect(0,0,g,d);if(R||x==0){this.u6.innerHTML="";
return}var e=T.wb;this.u6.innerHTML=e[0]+"\xB0 / "+e[1]+"\xB0<span style=\"float:right\">"+e[2]+"\xB0 \\ "+e[3]+"\xB0</span>";
var N=u.B(g*4);jf.ae2(N,1,g,-1,.5);var l=new ImageData(new Uint8ClampedArray(N.buffer),g,1),J=Math.round(d/4);
for(var z=0;z<J;z++)U.putImageData(l,0,z);function w(S,L,Q){U.fillStyle=Q;var b=J*2;if(S<=L)U.fillRect(S*g,b,(L-S)*g,J);
else{U.fillRect(0,b,L*g,J);U.fillRect(S*g,b,(1-S)*g,J)}}var s=this.q7();w(s[0],s[1],"#888888");w(s[1],s[2],"#cccccc");
w(s[2],s[3],"#888888");U.fillStyle="#ffffff";U.lineWidth=1;U.beginPath();var o=J+.5,V=4*J+.5;for(var z=0;
z<4;z++){var a=Math.floor(g*s[z])+.5,O=(z<2?-1:1)*J*(z==1||z==2?1:2);U.moveTo(a,o);U.lineTo(a,V);U.lineTo(a+O,V);
U.lineTo(a+O,J+J+.5);U.closePath()}U.fill();U.stroke()};gE.hue2.prototype.q7=function(){var x=this.UW.h(),R=fu.Eh(this.value,x).wb;
for(var z=0;z<4;z++)R[z]=(1000.5+R[z]/360)%1;return R};gE.hue2.prototype.agN=function(x){var R=this.UW.h(),T=fu.Eh(this.value,R);
for(var z=0;z<4;z++)T.wb[z]=Math.round(36e3+(x[z]-.5)*360)%360;fu.v3(this.value,R,T)};gE.hue2.prototype.vi=function(){return!0};
gE.hue2.prototype.aqj=function(){var x=this.EC.h().indexOf(!0),R=this.N_.h().indexOf(!0);return x!=-1?x:R!=-1?R+1:-1};
gE.hue2.prototype.fz=function(x,R,T,c,g){var d=this.aqj();if(d==-1)return;var U=this.value;this.value=gm.GI("hue2");
this.Oc();var e=D.Yf.Oa(x,g,1);this.T(U);var N=[e>>>16&255,e>>>8&255,e&255],l=u.c3(N[0]/255,N[1]/255,N[2]/255);
if(d==0){this.UW.T(1+Math.round(l.kh*6)%6)}else{var J=this.q7(),w=.5+l.kh,s=1/12,o=J[1],V=J[2];if(V<o){V++;
if(w<o&&w+1-V<o-w)w++}var a=o<=w&&w<=V;if(d==1){o=w-s/2;V=w+s/2}else if(d==2&&!a){o=Math.min(w,o);V=Math.max(w,V)}else if(d==3&&a){if(w-o<V-w)o=w;
else V=w}J=[o-s,o,V,V+s];this.agN(J)}this.Oc();this.pS=g.x;this.auA=this.Dw.h()};gE.hue2.prototype.gQ=function(x,R,T,c,g){var d=this.aqj();
if(d==-1)return;if(d==0){if(this.pS!=null){var U=g.x-this.pS;U=Math.max(-100,Math.min(100,this.auA+.5*U));
this.Dw.T(U);this.aCb()}}};gE.hue2.prototype.rR=function(x,R,T,c,g){this.pS=null};gE.hue2.prototype.T=function(x){this.value=JSON.parse(JSON.stringify(x));
var R=this.value.Clrz?this.value.Clrz.v:!1;this.Ka[R?1:0]=fu.Eh(this.value,0);this.Hm()};gE.hue2.prototype.h=function(x){return JSON.parse(JSON.stringify(this.value))};
gE.levl=function(){function x(){gE.call(this);this.value=null;this.P2=null;this.xY=[new cI(0,0),new cI(0,0),new cI(0,0),new cI(0,0),new cI(0,0)];
this.bq=-1;this.xl=this.Ty.bind(this);this.Ux=this.I7.bind(this);var R=this.n;this.Eq=new ad([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Eq.k(v.E.p,this.Hm,this);R.appendChild(this.Eq.n);this.Vp=new eD;this.Vp.parent=this;this.Vp.k(v.E.p,this.dO,this);
R.appendChild(this.Vp.n);var T=X._("div","");R.appendChild(T);var c=X._("div","");R.appendChild(c);this.V=X._("canvas");
T.appendChild(this.V);this.xv=this.V.getContext("2d");this.y7=new cI(256,120);this.V.setAttribute("style","display:block");
X.Bd(this.V);X.Us(this.V,this.M4.bind(this));this.TG=X._("canvas","");c.appendChild(this.TG);this.MB=this.TG.getContext("2d");
this.ZN=new cI(this.y7.x,40);this.TG.setAttribute("style","display:block");X.Bd(this.TG);X.Us(this.TG,this.arf.bind(this));
var g=this.FJ=[];for(var z=0;z<5;z++){var d=new kD(null,null,3);g.push(d);d.k(v.E.p,this.aCW,this);(z<2||z==4?T:c).appendChild(d.n)}T.appendChild(g[1].n);
this.EC=new ii("Sample from image",cZ.vk(["#000000","#888888","#ffffff"]),!0,null,!0);this.EC.k(v.E.p,this.Pz,this);
R.appendChild(this.EC.n);this.s7(250,100)}x.prototype=new gE;x.prototype.dO=function(){var R=this.Vp.h(),T=this.P2,c=this.value,g=u.PF(R,T);
for(var z=0;z<4;z++){var d=g[z][0],U=g[z][1],e=g[z][2],N=[u.a1.eB(d,0,!0),u.a1.eB(U,255,!0)];if(e!=null)N.splice(1,0,u.a1.eB(128,e,!0));
var l=[~~d,~~U,0,255,e==null?100:~~(100+.75*100*(e-128)/128)];b9.v3(c,z,l)}this.Hm();this.Oc()};x.prototype.s7=function(R,T){R+=6;
this.y7.x=this.ZN.x=R;X.ja(this.V,R,this.y7.y,this.xv);X.ja(this.TG,R,this.ZN.y,this.MB);var c=this.FJ;
c[3].n.setAttribute("style","margin-left: "+(R-104)+"px");c[4].n.setAttribute("style","margin: 0 "+(R/2-74)+"px");
if(this.value)this.Hm()};x.prototype.t=function(){this.Eq.t()};x.prototype.aCW=function(R){var T=[];
for(var z=0;z<5;z++){var c=255,g=1;if(z==4){c=999;g=100}var d=parseFloat(this.FJ[z].h());T[z]=Math.max(0,Math.min(c,d*g))}b9.v3(this.value,this.Eq.h(),T);
this.Hm();this.Oc()};x.prototype.Hm=function(R){var T=this.y7.x,c=this.y7.y,g=this.Eq.h(),d=this.xv;
d.clearRect(0,0,T,c);d.fillStyle="#cccccc";d.fillRect(8,8,T-16,c-16-8);if(this.P2){var U=this.P2[0].slice(0),V=0;
if(g==0){U.fill(0);var e=JSON.parse(JSON.stringify(this.value));b9.v3(e,0,[0,255,0,255,100]);var N=hD.V0("levl",e),l=[N.Ip,N.Ea,N.wN];
for(var J=0;J<3;J++){var w=this.P2[1+J],s=l[J];for(var z=0;z<256;z++)U[s[z]]+=w[z]}}var o=g==0?U:this.P2[g];
for(var z=0;z<o.length;z++)V+=o[z];d.fillStyle="#333333";d.beginPath();d.moveTo(8,c-16);for(var z=0;
z<256;z++){var a=55*o[z]/V;d.lineTo(8+z/256*(T-16),Math.max(8,c-16-c*a))}d.lineTo(T-8,c-16);d.closePath();
d.fill()}var O=b9.Eh(this.value,g);for(var z=0;z<5;z++)this.FJ[z].T(O[z]/(z==4?100:1));this.xY[0].LR(8+O[0]/255*(T-16),c-14);
this.xY[1].LR(8+O[1]/255*(T-16),c-14);var S=Math.log(O[4]/100)/Math.log(9.99);S=.5-S/2;this.xY[4].LR(this.xY[0].x+S*(this.xY[1].x-this.xY[0].x),c-14);
this.Ew(d,this.xY[0],"#000000");this.Ew(d,this.xY[1],"#ffffff");this.Ew(d,this.xY[4],"#777777");var T=this.ZN.x,c=this.ZN.y;
d=this.MB;d.clearRect(0,0,T,c);var L=d.createLinearGradient(0,0,T-16,0);L.addColorStop(0,"black");L.addColorStop(1,"white");
d.fillStyle=L;d.fillRect(8,8,T-16,16);this.xY[2].LR(8+O[2]/255*(T-16),c-14);this.xY[3].LR(8+O[3]/255*(T-16),c-14);
this.Ew(d,this.xY[2],"#000000");this.Ew(d,this.xY[3],"#ffffff")};x.prototype.Ew=function(R,T,c){R.fillStyle=c;
R.fillRect(T.x-5,T.y,10,10)};x.prototype.M4=function(R){var T=X.il(R,this.V),c=this.aeo([0,1,4],T);if(c!=-1)this.bq=c;
this.a7n()};x.prototype.arf=function(R){var T=X.il(R,this.TG),c=this.aeo([2,3],T);if(c!=-1)this.bq=c;
this.a7n()};x.prototype.aeo=function(R,T){var c=-1,g=1e9;for(var z=0;z<R.length;z++){var d=Math.abs(this.xY[R[z]].x-T.x);
if(d<g){g=d;c=R[z]}}return g<16?c:-1};x.prototype.a7n=function(R){if(this.bq==-1)return;X.ri(document.body,this.xl);
X.Xc(document.body,this.Ux)};x.prototype.Ty=function(R){var T=b9.Eh(this.value,this.Eq.h()),c=X.il(R,this.bq==2&&this.bq==3?this.TG:this.V),g=255*(c.x-8)/(this.y7.x-16);
g=Math.max(0,Math.min(255,g));if(this.bq==0)g=Math.min(g,T[1]-2);if(this.bq==1)g=Math.max(g,T[0]+2);
if(this.bq!=4)T[this.bq]=Math.round(g);else{var d=(g-T[0])/(T[1]-T[0]);d=1-2*d;d=Math.pow(9.99,d);T[4]=Math.min(999,Math.max(10,Math.round(d*100)))}b9.v3(this.value,this.Eq.h(),T);
this.Hm();this.Oc()};x.prototype.I7=function(R){X.Nx(document.body,this.xl);X.YL(document.body,this.Ux);
this.bq=-1};x.prototype.vi=function(){return!0};x.prototype.rR=function(R,T,c,g,d){var U=this.value,e=this.EC.h().indexOf(!0);
if(e==-1)return;this.value=gm.GI("levl");this.Oc();var N=D.Yf.Oa(R,d,1),l=[N>>>16&255,N>>>8&255,N&255];
for(var z=0;z<3;z++){var J=b9.Eh(U,1+z);if(e==0)J[0]=l[z];if(e==1){var w=Math.log(l[z]/255)/Math.log((l[0]+l[1]+l[2])*.333/255);
J[4]=Math.min(999,Math.max(10,Math.round(100*w)))}if(e==2)J[1]=l[z];b9.v3(U,1+z,J)}this.T(U);this.Oc()};
x.prototype.T=function(R){this.value=R;this.Hm()};x.prototype.dp=function(R){this.P2=R;this.Hm()};x.prototype.h=function(R){return JSON.parse(JSON.stringify(this.value))};
return x}();gE.phfl=function(){gE.call(this,"phfl");this.ZH.push(new dW);this.ZH.push(new aw([12,74],0,100,"%"));
this.ZH.push(new kv([13,4]));this.bF()};gE.phfl.prototype=new gE;gE.phfl.prototype.n5=function(x,R){R[0]=x.Clr.v;
R[1]=x.Dnst.v;R[2]=x.PrsL.v};gE.phfl.prototype.sz=function(x,R){var T=u.I.ir(R[0]),c=x.Clr.v,g=u.jX(T.o,T.A,T.J);
c.Lmnc.v=g.h8;c.A.v=g.Y;c.B.v=g.J;x.Dnst.v=R[1];x.PrsL.v=R[2]};gE.vibA=function(){gE.call(this,"vibA");
this.ZH.push(new aw([12,13],-100,100,null));this.ZH.push(new aw([12,9],-100,100,null));this.bF()};gE.vibA.prototype=new gE;
gE.vibA.prototype.n5=function(x,R){R[0]=x.vibrance?x.vibrance.v:0;R[1]=x.Strt?x.Strt.v:0};gE.vibA.prototype.sz=function(x,R){x.vibrance.v=R[0];
x.Strt.v=R[1]};gE.thrs=function(){gE.call(this,"thrs");this.ZH.push(new aw([4,13],1,255,null));this.bF()};
gE.thrs.prototype=new gE;gE.thrs.prototype.n5=function(x,R){R[0]=x.Lvl.v};gE.thrs.prototype.sz=function(x,R){x.Lvl.v=R[0]};
gE.mixr=function(){gE.call(this);var x=this.n;this._3=[];this.eV=null;this.UW=new ad([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.aCU=!1;this.UW.k(v.E.p,this.DV,this);x.appendChild(this.UW.n);X.pz(x);this.l$=new kv([12,60]);x.appendChild(this.l$.n);
this.l$.k(v.E.p,this.DV,this);for(var z=0;z<4;z++){var R=new aw([[13,1,1],[13,1,4],[13,1,5],[13,2]][z],-200,200,"%");
R.k(v.E.p,this.DV,this);this._3.push(R);x.appendChild(R.n)}};gE.mixr.prototype=new gE;gE.mixr.prototype.t=function(){this.UW.t();
this.l$.t();for(var z=0;z<4;z++)this._3[z].t()};gE.mixr.prototype.T=function(x){this.eV=JSON.parse(JSON.stringify(x));
this.a5()};gE.mixr.prototype.h=function(x){return JSON.parse(JSON.stringify(this.eV))};gE.mixr.prototype.DV=function(x){if(x.target!=this.UW){var R=hD.BR(this.eV);
if(x.target==this.l$){R.l$=this.l$.h();if(R.l$)R.b=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else R.b=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var T=(R.l$?0:this.UW.h())*5,z=this._3.indexOf(x.target);
R.b[T+(z<3?z:4)]=x.target.h()}this.eV=hD.apy(R)}this.a5();this.Oc()};gE.mixr.prototype.a5=function(){var x=hD.BR(this.eV);
if(x.l$!=this.aCU)this.UW.GN(x.l$?[[13,1,7]]:hD.Q7);this.aCU=x.l$;this.l$.T(x.l$);var R=(x.l$?0:this.UW.h())*5;
for(var z=0;z<4;z++)this._3[z].T(x.b[R+(z<3?z:4)])};gE.post=function(){gE.call(this,"post");this.ZH.push(new aw([4,1],2,255,null));
this.bF()};gE.post.prototype=new gE;gE.post.prototype.n5=function(x,R){R[0]=x.Lvls.v};gE.post.prototype.sz=function(x,R){x.Lvls.v=R[0]};
gE.clrL=function(){gE.call(this,"clrL");this.ZH.push(new cG("LUTs"));this.bF()};gE.clrL.prototype=new gE;
gE.clrL.prototype.n5=function(x,R){R[0]=x};gE.clrL.prototype.sz=function(x,R){var T=R[0];for(var c in T)x[c]=T[c]};
gE.clrL.prototype.L4=function(x,R){if(R==hc.cp||R==hc.R6)this.ZH[0].zB(x.awC)};gE.rplc=function(){gE.call(this,"rplc");
this.ZH.push(new aw([12,92],0,200));this.ZH.push(new dW);this.ZH.push(new aw([12,8],-180,180));this.ZH.push(new aw([12,9],-100,100));
this.ZH.push(new aw([12,10],-100,100));this.bF()};gE.rplc.prototype=new gE;gE.rplc.prototype.n5=function(x,R){R[0]=x.Fzns.v;
R[1]=x.Mxm.v;R[2]=x.H.v;R[3]=x.Strt.v;R[4]=x.Lght.v};gE.rplc.prototype.sz=function(x,R){function T(g,d){d.Lmnc.v=g.h8;
d.A.v=g.Y;d.B.v=g.J}x.Fzns.v=R[0];x.H.v=R[2];x.Strt.v=R[3];x.Lght.v=R[4];var c=u.I.ir(R[1]),g=u.jX(c.o,c.A,c.J);
T(g,x.Mnm.v);T(g,x.Mxm.v)};gE.fade=function(){gE.call(this,"fade");this.ZH.push(new aw([12,0],0,100,"%"));
this.ZH.push(new ad([12,19,0],c_.PZ,c_.zh));this.bF()};gE.fade.prototype=new gE;gE.fade.prototype.n5=function(x,R){R[0]=x.Opct.v.val;
R[1]=c_.Dm.indexOf(x.Md.v.BlnM)};gE.fade.prototype.sz=function(x,R){x.Opct.v.val=R[0];x.Md.v.BlnM=c_.Dm[R[1]]};
gE.aply=function(){var x=c_.Dm.concat(["Add","Sbtr"]);x.splice(21,1);var R=c_.PZ.concat([[15,10,28],[15,10,21]]);
R.splice(21,1);var T=c_.zh.slice(0);T[4]--;function c(){gE.call(this,"aply");this.ZH.push(new ad([0,3],[]));
this.ZH.push(new ad([12,4],["RGB"].concat(hD.Q7).concat(["Transparency"])));this.ZH.push(new kv([4,11]));
this.ZH.push(new ad([12,19,0],R,T));this.ZH.push(new aw([12,0],0,100,"%"));this.ZH.push(new i1([12,38],1,2,null,2));
this.ZH.push(new i1([12,6],-255,255));this.ZH.push(new kv([13,5]));this.bF([2]);this.$0=null}c.prototype=new gE;
c.prototype.n5=function(g,d,U){if(U){var e=U[2].R,N=this.$0=[];for(var z=0;z<e.length;z++){var l=e[z].getName();
N.push(l.length<30?l:l.slice(0,27)+"...")}N.reverse();this.ZH[0].GN([[5,7]].concat(N),[1,N.length])}else var N=this.$0;
g=g.With.v;var J=g.T.v;d[0]=J[1].t=="name"?1+N.indexOf(J[1].v.val):0;d[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(J[0].v.enum);
d[2]=g.Invr.v;var w=g.Clcl.v.Clcn;d[3]=x.indexOf(w);d[4]=g.Opct.v.val;d[5]=g.Scl.v;d[6]=g.Ofst.v;d[7]=g.PrsT.v};
c.prototype.sz=function(g,d){g=g.With.v;var U=g.T.v;if(d[0]==0)U[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else U[1]={t:"name",v:{classID:"Lyr",val:this.$0[d[0]-1]}};U[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][d[1]];
g.Invr.v=d[2];var e=g.Clcl.v.Clcn=x[d[3]];g.Opct.v.val=d[4];g.Scl.v=d[5];g.Ofst.v=d[6];g.PrsT.v=d[7];
var N=e=="Add"||e=="Sbtr";this.ZH[5].Dd(N);this.ZH[6].Dd(N)};return c}();gE.matc=function(){var x,R,T=0;
function c(){gE.call(this,"matc");this.ZH.push(new aw("Luminance",1,200));this.ZH.push(new aw("Color Intensity",1,200));
this.ZH.push(new aw([2,11],0,100,"%"));this.ZH.push(new kv("Neutralize"));this.ZH.push(new ad([12,70],[]));
this.ZH.push(new ad([0,3],[]));this.bF([2])}function g(d,U){d.ZH[5].GN([[5,7]].concat(U),[1,U.length])}c.prototype=new gE;
c.prototype.n5=function(d,U,e){T=0;U[0]=d.Lght.v;U[1]=d.ClrR.v;U[2]=d.Fade.v;U[3]=d.neutralizeColor?d.neutralizeColor.v:!1;
U[4]=U[5]=0;var N=d.Srce;if(N)N=N.v;if(e){x=[];R=[];var l=e[2],J=e[3];for(var z=0;z<J.length;z++){var w=J[z];
x.push(w.name);var s=w.R,o=[];R.push(o);for(var V=0;V<s.length;V++)o.push(s[V].getName());o.reverse()}this.ZH[4].GN([[13,1,0]].concat(x),[1,x.length]);
var a=J.indexOf(l);if(N)a=x.indexOf(N[1].v.val);g(this,R[a])}if(N){var O=x.indexOf(N[1].v.val);U[3]=T=1+O;
if(N[0].t=="name")U[4]=1+R[O].indexOf(N[0].v.val)}};c.prototype.sz=function(d,U){d.Lght.v=U[0];d.ClrR.v=U[1];
d.Fade.v=U[2];d.neutralizeColor.v=U[3];if(U[4]==0){d.noReference={t:"bool",v:!0};delete d.Srce}else{if(U[4]!=T){T=U[4];
g(this,R[U[4]-1])}delete d.noReference;var e={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},N=R[U[4]-1];
if(U[5]!=0)e={t:"name",v:{classID:"Lyr",val:N[U[5]-1]}};d.Srce={t:"obj ",v:[e,{t:"name",v:{classID:"Dcmn",val:x[U[4]-1]}}]}}};
return c}();function bg(x,R){ky.call(this);if(x==null)return;this.id=R;this.yN=x;this.fC=null;this.n=X._("div","window "+R);
this.a3_=null;this.dJ=X._("div","whead");this.aA$=X._("span","wname");this.dJ.appendChild(this.aA$);
this.arH=!1;this.n.appendChild(this.dJ);this.l3=this.aas.bind(this);this.nJ=this.aeD.bind(this);this.Mt=this.asg.bind(this);
X.Bd(this.dJ);X.Us(this.dJ,this.l3);this.aew=X._("span","cross gsicon");this.dJ.appendChild(this.aew);
bg.prototype.t.call(this);X.Xc(this.aew,this.awb.bind(this));this.body=X._("div","body");this.n.appendChild(this.body)}bg.prototype=new ky;
bg.prototype.Vd=function(){return!1};bg.prototype.vi=function(){return!1};bg.prototype.t=function(){if(this.yN==null)return;
this.aA$.textContent=go.get(this.yN)};bg.prototype.fz=function(x,R,T,c,g){};bg.prototype.zL=function(x,R,T,c,g){};
bg.prototype.gQ=function(x,R,T,c,g){};bg.prototype.rR=function(x,R,T,c,g){};bg.prototype.A4=function(x,R,T,c,g){};
bg.prototype.Rw=function(x,R,T,c){if(c.S(fZ.AQ)&&this.n4)this.n4();if(c.S(fZ.Gc)){var g=new aA(v.E.v);
g.ke=!0;D.m6.a36(c,g);if(g.data)R.c(g)}};bg.prototype.WX=function(x){return!1};bg.prototype.pg=function(x,R){return!0};
bg.prototype.Bq=function(x,R,T,c){};bg.prototype.L4=function(x,R){};bg.prototype.rH=function(x,R){return null};
bg.prototype.aro=function(x){return this.a3_};bg.prototype.s7=function(){};bg.prototype.close=function(){this.c(new aA(v.E.dT))};
bg.prototype.aas=function(x){this.fC=X.il(x,this.n);X.ri(window,this.nJ);X.Xc(window,this.Mt)};bg.prototype.aeD=function(x){var R=this.n.parentNode,T=X.il(x,R),c=Math.round(T.x-this.fC.x),g=R.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(T.y-this.fC.y)));
this.a3_=new cI(c,g);this.n.style.left=c+"px";this.n.style.top=g+"px"};bg.prototype.asg=function(x){X.Nx(window,this.nJ);
X.YL(window,this.Mt)};bg.prototype.awb=function(x){if(this.arH){this.n4();return}this.c(new aA("closebtn"));
this.close()};function iT(){bg.call(this,"About Photopea","aboutpp");var x=X._("div","flexrow");this.body.appendChild(x);
var R=this.a4L=X._("img");x.appendChild(R);this.body.setAttribute("style","margin:0; padding:0");var T=this.U8=X._("div");
T.innerHTML=iT.B$;x.appendChild(T);var c=this.CV=X._("span");c.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(c)}iT.prototype=new bg;iT.prototype.rH=function(x,R){return new cI(0,0)};iT.prototype.s7=function(x,R){var T=this.a4L,c=this.U8,g=this.CV,d=(x+R-42-42)/110;
d=Math.sqrt((x-42)*(R-42))/50;T.setAttribute("style","width:"+x/2+"px; height:"+R+"px; display:block; object-fit:cover;");
c.setAttribute("style","width:"+(x/2-42)+"px; height:"+(R-42)+"px; padding:20px; font-size:"+d+"px;");
g.setAttribute("style","position:absolute;  bottom:10px; right:"+(x/2+10)+"px")};iT.prototype.t=function(){};
iT.prototype.Bq=function(x,R,T,c){this.a4L.setAttribute("src","promo/ivan_pp.webp")};iT.B$="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function f5(){bg.call(this,[0,13,0],"account");this.GT=X._("div","form scrollable");this.body.appendChild(this.GT);
this.body.style.padding="0";this.Cv=[new f5.IO,new f5.vQ("::privacy.html"),new f5.vQ(f5.afC)];for(var z=0;
z<this.Cv.length;z++)this.Cv[z].parent=this;this.k("showpage",this.aBu,this)}f5.prototype=new bg;f5.prototype.pg=function(x,R){var T=navigator.onLine;
if(!T)alert("Go online first");return T};f5.prototype.s7=function(x,R){this.GT.setAttribute("style","width:"+Math.min(x-40,740)+"px;  height:"+(R-38)+"px;  padding:1.5em;");
this.Cv[0].s7(x,R)};f5.prototype.rH=function(x,R){return new cI(Math.max(0,Math.min(150,(x-740)/2)),Math.max(0,Math.min(100,(R-500)/2)))};
f5.prototype.aBu=function(x){X.Ra(this.GT);this.GT.scrollTop=0;this.GT.appendChild(this.Cv[x.data.iY].n)};
f5.prototype.t=function(){bg.prototype.t.call(this);for(var z=0;z<this.Cv.length;z++)this.Cv[z].t()};
f5.prototype.Bq=function(x,R,T){if(!navigator.onLine)return;X.Ra(this.GT);var c=this.Cv[0];this.GT.appendChild(c.n);
c.Bq();this.t()};f5.prototype.L4=function(x,R){this.Bq(null,null,null)};f5.IO=function(){ky.call(this);
this.n=X._("div");var x=this.n,e,N,J="font-size:1.25em;",w="text-align:center;",o="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",V="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",a="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",S=12;
this.z_=X._("div");x.appendChild(this.z_);this.If=new i_([0,11],!1,null,!0);this.If.n.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.If.k("click",this.CG,this);x.appendChild(this.If.n);this.Mv=new i_([0,13,1],!1,null,!0);this.Mv.k("click",this.ag5,this);
x.appendChild(this.Mv.n);this.vD=new i_("Business Terms",!1,null,!0);this.vD.k("click",this.alg,this);
x.appendChild(this.vD.n);var R=X._("div");R.style.margin="20px 0";x.appendChild(R);var T=["Account Types","Go Premium","Team Settings","Distributors"],c=this.l5=[],g=this.ajW=[],d=this.dz=X._("div");
x.appendChild(d);for(var z=0;z<T.length;z++){var U=X._("span");U.textContent=T[z];R.appendChild(U);c.push(U);
U.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
U.addEventListener("click",this.Co.bind(this));g.push(X._("div"))}this.Co(0);var l=this.a0_="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
x=g[0];var N=X._("table"),s="style=\" "+w+J+" padding-bottom:20px;\"";N.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+a+">\t\t\t\t\t<div "+s+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+a+">\t\t\t\t\t<div "+s+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+V+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+V+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
x.appendChild(N);var U=new i_("Go Premium");U.n.setAttribute("style",l+"padding:10px 0;");U.k("click",function(b){this.Co(1)},this);
N.children[0].children[1].children[1].appendChild(U.n);this.Zp=X._("div");x.appendChild(this.Zp);x=g[1];
var O=this.aih=[[10,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.Zm=[];for(var z=0;z<O.length;z++)this.Zm.push(new i_("Buy: $"+O[z][0],!1,null,!0));for(var z=0;
z<this.Zm.length;z++){this.Zm[z].k("click",this.apX,this)}this.z1=new i_("...",!0);this.z1.n.setAttribute("style",l);
x.appendChild(this.z1.n);N=this.a0K(4,["Single user",this.Zm[0],this.Zm[1],this.Zm[2],"Team of 5",this.Zm[3],this.Zm[4],this.Zm[5],"Team of 20",this.Zm[6],this.Zm[7],this.Zm[8],"Team of 50",this.Zm[9],this.Zm[10],this.Zm[11]]);
x.appendChild(N);this.avj=new kv("I accept",!0,"");x.appendChild(this.avj.n);this.Zd=new i_([0,13,1],!1,null,!0);
this.Zd.k("click",this.ag5,this);x.appendChild(this.Zd.n);this.pf=new i_("I have a key",!1,null,!0);
this.pf.n.setAttribute("style",l+" float:right; width:inherit;");this.pf.k("click",this.apX,this);x.appendChild(this.pf.n);
x=g[2];this.o3=new cM;this.o3.parent=this;this.o3.k(v.E.p,this.Xy,this);x.appendChild(this.o3.n);x=g[3];
this.b4=new i_("...",!0);this.b4.n.setAttribute("style",l);x.appendChild(this.b4.n);N=this.a0K(3,["1000 views/mo",this.Zm[S++],this.Zm[S++],this.Zm[S++],"5000 views/mo",this.Zm[S++],this.Zm[S++],this.Zm[S++],"20000 views/mo",this.Zm[S++],this.Zm[S++],this.Zm[S++]]);
x.appendChild(N);var L=X._("p");L.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
x.appendChild(L);this.Cf=new kD("Domain name (e.g. domain.com)",null,14);x.appendChild(this.Cf.n);var Q=new i_("Save Domain Settings",!1,null,!0);
Q.Kl();x.appendChild(Q.n);Q.k("click",this.ayl,this)};f5.IO.prototype=new ky;f5.IO.prototype.Co=function(x){var R=typeof x=="number"?x:this.l5.indexOf(x.target);
for(var z=0;z<4;z++)this.l5[z].style.opacity=.6;this.l5[R].style.opacity=1;X.Ra(this.dz);this.dz.appendChild(this.ajW[R])};
f5.IO.prototype.s7=function(x,R){var T=x<600?"d":" days",c=["30 days","90 days","365 days"];if(x<600)c=["30d","90d","365d"];
var g=this.aih;for(var z=0;z<g.length;z++){this.Zm[z].W7("<span>"+c[z%3]+": <sup>$</sup><big><b>"+g[z][0]+"</b></big>"+"</span>");
this.Zm[z].n.setAttribute("style",this.a0_)}};f5.IO.prototype.ag5=function(x){var R=new aA("showpage",!0);
R.data={iY:1};this.c(R)};f5.IO.prototype.alg=function(x){var R=new aA("showpage",!0);R.data={iY:2};this.c(R)};
f5.IO.prototype.t=function(){this.If.W7(i3.v6()?go.get([0,11]):go.get([0,10]));this.Zd.t();this.Mv.t();
this.vD.t()};f5.IO.prototype.ajF=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.ub,link:"https://www.photopea.com/api/accounts#"+(x.target==this.ats?"teams":"distributors")};
this.c(R)};f5.IO.prototype.amu=function(x){var R=x.currentTarget==this.ahV;this.ahV.T(R);this.au5.T(!R)};
f5.IO.prototype.acl=function(x){var R=this.ahV.h(),T=this.ajK.h().trim().toLowerCase(),c=this.aej.value.trim().toLowerCase();
if(T.length>60){alert("Too long email address");return}if(c.length>600){alert("Too many team members");
return}c=c.split(",").join(" ").trim();c=c.replace(/\s+/g," ");if(c=="")c=[];else c=c.split(" ");var g=i3.ig();
if(g==null)g={};if(g.acc==null)g.acc={};g.acc.team={jin:R,ldr:T,mmb:c};i3.k6(g,this.Xy.bind(this));alert("Saved!");
this.Bq()};f5.IO.prototype.ayl=function(x){var R=this.Cf.h().trim();if(!i3.v6()){alert("You have to log in first.");
return}if(i3.h2()==0){alert("Order a distributor account first.");return}var T=i3.ig();if(T==null)T={};
if(T.acc==null)T.acc={};if(R=="")delete T.acc.dname;else T.acc.dname=R;i3.k6(T,this.Xy.bind(this));alert("Saved!");
this.Bq()};f5.IO.prototype.aCZ=function(x){var R=i3.vc(),z=this._i,T=i3.ig();if(T==null)T={};if(T.acc==null)T.acc={};
T.acc.bto=x;i3.k6(T,function(){});var c=f5.a18(x.split("\n"),R.pmnts[z]);hG.save(c,"photopea_invoice.pdf")};
f5.IO.prototype.aoI=function(x){var R=i3.vc(),T=i3.ig(),c=T.acc?T.acc.bto:null;if(c==null)c=R.name+"\n"+R.email;
var z=-1,g=x.target.n.parentNode;while((g=g.previousSibling)!=null)z++;this._i=z;var d=new aA(v.E.P,!0);
d.data={d:v.H.i$,$k:"billto",Ey:c,BJ:this.aCZ.bind(this)};this.c(d)};f5.IO.prototype.Bq=function(){this.z_.innerHTML="";
X.Ra(this.Zp);if(i3.v6()){var x=i3.vc(),R=x.pmnts;if(x==null)return;this.z_.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+x.name+"</span> "+x.email+" <br/>";
if(R){var T="<h2>Payments</h2>";for(var z=0;z<R.length;z++){var c=R[z],g=new Date(c[0]*1e3);T+="<div style=\"font-size:1.2em\">"+g.getDate()+". "+(g.getMonth()+1)+". "+g.getFullYear()+" - "+f5.ab$(c)+"</div>"}this.Zp.innerHTML=T;
for(var z=0;z<R.length;z++){var d=new i_("Get Invoice",!1,null,!0);d.n.setAttribute("style","float:right");
d.k("click",this.aoI,this);this.Zp.children[z+1].appendChild(d.n)}}}else{}var U=i3.v6()&&i3.T9();this.z1.n.style.display=U?"block":"none";
if(U){var e,N,l=U;if(l[0]==0){e=i3.pa(l[1])-Date.now()*(1/1e3);N=l[1][2]==1?"Single User":"Team Of "+l[1][2]}else{e=l[1][1]-Date.now()*(1/1e3);
N="Member of \""+l[1][0]+"\""}this.z1.W7("Premium active for "+Math.round(e/(60*60*24))+" more days! ("+N+")")}var J=i3.v6()&&i3.h2()*1e3>Date.now();
this.b4.n.style.display=J?"block":"none";if(J){var e=i3.h2()-Date.now()/1e3;this.b4.W7("Distributor active for "+Math.round(e/(60*60*24))+" more days!")}var w=i3.ig();
this.o3.Bq();if(w&&w.acc&&w.acc.dname)this.Cf.T(w.acc.dname);else this.Cf.T("")};f5.IO.prototype.a0K=function(x,R){var T=X._("table");
if(!0){var c="<table><tr>";for(var z=0;z<x;z++)c+="<th>"+R[z*4]+"</th>";c+="</tr></table>";T.innerHTML=c;
for(var z=0;z<3;z++){var g=X._("tr"),d;T.appendChild(g);for(var U=0;U<x;U++){d=X._("td");d.style.width=Math.round(100/x)+"%";
g.appendChild(d);d.appendChild(R[U*4+1+z].n)}}}return T};f5.IO.prototype.apX=function(x){var R=this.Zm.indexOf(x.currentTarget),c=30,g=1;
if(!i3.v6()){this.CG();return}if(this.avj.h()==!1&&R<12){alert("You must accept Terms of Service");return}var T=i3.v6()&&i3.T9();
if(R!=-1){var d=this.aih[R];c=d[1];g=d[2]}if(T&&g<1e3){alert("You already have premium.");return}console.log(d,c,g);
if(R==-1){var U=prompt("Please enter your key");if(U!=null){i3.ah6(U,this.Xy.bind(this));this.DS()}return}if(c==30&&g==1){var e=confirm("You can have 90 days for $15. Do you still want a 30 days version for $10?");
if(!e)return}i3.order(c,g,this.Xy.bind(this));this.DS()};f5.IO.prototype.Xy=function(x){this.Bq();this.DS()};
f5.IO.prototype.CG=function(x){if(i3.v6()){i3.age();this.DS();this.Bq(null,null,null)}else i3.CG(this.azF.bind(this))};
f5.IO.prototype.azF=function(){var x=new aA(v.E.P,!0);x.data={d:v.H.avD};this.c(x)};f5.IO.prototype.DS=function(){var x=new aA(v.E.P,!0);
x.data={d:v.H.ayo};this.c(x)};f5.vQ=function(x){ky.call(this);this.n=X._("div");var R=this.n,T=this.av0=new i_([0,13,2],!1,null,!0),c;
T.k("click",this.a1d,this);R.appendChild(T.n);if(x.startsWith("::")){c=X._("iframe");c.setAttribute("style","width:100%;height:1700px; background-color:white;");
c.setAttribute("src",x.slice(2))}else{c=X._("div");c.innerHTML=x}R.appendChild(c)};f5.vQ.prototype=new ky;
f5.vQ.prototype.a1d=function(x){var R=new aA("showpage",!0);R.data={iY:0};this.c(R)};f5.vQ.prototype.t=function(){this.av0.t()};
f5.afC="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
f5.ab$=function(x){var R=x[1]+" days, ";if(x[2]<1e3)return"Photopea Premium ("+R+x[2]+" user"+(x[2]==1?"":"s")+")";
else return"Photopea Distributor ("+R+x[2]+" views/month)"};f5.a18=function(x,R){x=["Bill To:"].concat(x);
var T=new ToPDF,c=595,g=842,d=40,U=18,e=12,N=500,l=100,J=400,a=0;function w(k,K,H,p,f){o.font.Tf=f?"Helvetica-Bold":"Helvetica";
o.ctm=[1,0,0,1,K,H];o.font.Tfs=p?p:e;T.PutText(o,k,0)}function s(k,K,H,p){for(var z=0;z<k.length;z++){w(k[z],K,H-z*p,null,z==0)}}var o=UDOC.getState();
T.StartPage(0,0,c,g);w("INVOICE",c-d-140,g-d-30,30,!0);s(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],d,g-d-40,U);
var V=new Date(R[0]*1e3);s(["Date: "+V.getDate()+". "+(V.getMonth()+1)+". "+V.getFullYear(),"Transaction ID: "+R[4]],c-d-140,g-d-40-U*2,U);
var O=x.join("");for(var z=0;z<O.length;z++)a=Math.max(a,O.charCodeAt(z));if(a>256){var S=4,L=X._("canvas"),Q=L.getContext("2d"),b=0;
Q.font=e*S+"px sans-serif";for(var z=0;z<x.length;z++)b=Math.max(b,Q.measureText(x[z]).width);var Z=Math.round(b)+20,I=x.length*S*U+20;
L.width=Z;L.height=I;Q.font=e*S+"px sans-serif";for(var z=0;z<x.length;z++){Q.font=(z==0?"bold ":"")+e*S+"px sans-serif";
Q.fillText(x[z],10,(z+1)*S*U)}document.body.appendChild(L);var y=new Uint8Array(Q.getImageData(0,0,Z,I).data.buffer);
o.ctm=[Z/S,0,0,I/S,d-10/S,g-d-40-100-I/S];T.PutImage(o,y,Z,I);o.ctm=[1,0,0,1,0,0]}else s(x,d,g-d-40-100,U);
o.colr=[.8,.8,.8];o.pth={cmds:["M","L","L","L","Z"],crds:[d,N,c-d,N,c-d,N-U,d,N-U]};T.Fill(o);o.colr=[0,0,0];
var r=[d,N,c-d,N,d,N-U,c-d,N-U,d,N-l,c-d,N-l,d,N,d,N-l,c-d,N,c-d,N-l,J,N,J,N-l],h=[];for(var z=0;z<r.length;
z+=4)h.push("M","L");o.pth={cmds:h,crds:r};T.Stroke(o);w("Order details",d+4,N-14);w(f5.ab$(R),d+4,N-U-14);
w("TOTAL:",d+4,N-l-14,null,!0);w("Price",c-d-50,N-14);w(R[3]+" USD",c-d-60,N-U-14);w(R[3]+" USD",c-d-60,N-l-14,null,!0);
w("www.Photopea.com",d,d);w("support@photopea.com",c-d-130,d);T.ShowPage();T.Done();return T.buffer};
function bU(){bg.call(this,[11,14],"addguides");this._c;this.Dn={j3:{Zg:0}};this.gs=null;var x=X._("div","form");
this.body.appendChild(x);this.Au=[];this.HS=new cZ(null,["Hi"]);x.appendChild(this.HS.n);X.pz(x);this.HS.k(v.E.p,this.OD,this);
this.Uw=new kD([22,4,0],null,16);this.Uw.k(v.E.p,this.kG,this);this.N5=new kD([22,4,1],null,16);this.N5.k(v.E.p,this.kG,this);
this.PO=new ad(null,u.A8.zK);this.PO.k(v.E.p,this.kG,this);x.appendChild(this.Uw.n);x.appendChild(this.PO.n);
X.pz(x);x.appendChild(this.N5.n);this.AH=X.vV(this,x);this.k("closebtn",this.M5,this)}bU.prototype=new bg;
bU.prototype.pg=function(x,R){return x!=null};bU.prototype.Vd=function(){return!0};bU.prototype.t=function(){bg.prototype.t.call(this);
this.Uw.t();this.N5.t();this.PO.t();this.AH.t()};bU.prototype.L4=function(x,R){var T=x.j3.Zg;this.Dn.j3.Zg=T;
this.PO.T(T)};bU.prototype.Bq=function(x,R){this._c=x;this.gs=JSON.stringify(x.M3());this.Au=[-1];var T=["Global"],c=x.root.children,g=x.NY();
for(var z=0;z<c.length;z++){var d=c[z].a;if(d.add.artb){T.push(d.getName());this.Au.push(c[z].index)}}this.HS.GN(T);
this.HS.T(this.Au.indexOf(g));this.OD()};bU.prototype.OD=function(){var x=this._c,R=x.M3(),T=this.Au[this.HS.h()],c=[0,0];
if(T!=-1){var g=x.R[T].Ie();c=[g.x,g.y]}var d=function(U,e,x,N,l){var J=U[0],w=[];for(var z=0;z<J.length;
z++)if(U[1][z]==T&&J[z][0]==e)w.push(u.A8.tN(J[z][1]-c[e],x.De,N,l));w.sort(function(s,o){return s-o});
return w.join(", ")};this.Uw.T(d(R,1,x,this.Dn,x.e));this.N5.T(d(R,0,x,this.Dn,x.m))};bU.prototype.kG=function(x){if(x&&x.currentTarget==this.PO)this.Dn.j3.Zg=this.PO.h();
else{var R=this.a01(),T=this._c;T.bK(R);T.Sa=!0}this.OD()};bU.prototype.a01=function(){var x=this._c,R=x.M3(),T=this.Au[this.HS.h()],c=[0,0];
if(T!=-1){var g=x.R[T].Ie();c=[g.x,g.y]}var d=[];for(var U=0;U<2;U++){var e=U==0?this.N5:this.Uw,N=U==0?x.m:x.e,l=e.h().replace(/,/g," ").replace(/  +/g," ").trim(),J=l==""?[]:l.split(" ");
for(var z=0;z<J.length;z++)d.push([U,u.A8.aiC(J[z],x.De,this.Dn,N)+c[U]])}for(var z=0;z<R[0].length;
z++)if(R[1][z]==T){R[0].splice(z,1);R[1].splice(z,1);z--}for(var z=0;z<d.length;z++){R[0].push(d[z]);
R[1].push(T)}return R};bU.prototype.M5=function(x){var R=this._c;R.bK(JSON.parse(this.gs));R.Sa=!0;this._c=null};
bU.prototype.n4=function(x){this.kG(x);var R=new aA(v.E.v,!0);R.f=D.BA;R.data={d:"gids",VF:JSON.parse(this.gs),bI:this._c.M3()};
this._c=null;this.close();this.c(R)};function dk(x){bg.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch"}[x],x);
this.Dn=null;var R=X._("div","form");this.body.appendChild(R);R.setAttribute("style","width:300px");
this.st=new bv("Source Images",!0,!0);R.appendChild(this.st.n);this.to=new ad([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
this.Jd=new kv("Order images by name");this.Jd.T(!0);var T=this.a3i=dp.zG();for(var z=0;z<T.length;z++)if(dp.Ix(T[z]).y0){T.splice(z,1);
z--}T.push("SVG","PDF");this.yC=new ad([12,50],T);this.bi=new gy;this.yC.k(v.E.p,this.mj,this);this.OB=new ad("Action Set",[]);
this.OB.k(v.E.p,this.L4,this);this.hr=new ad("Action",[]);if(x=="pdfpres"){R.appendChild(this.to.n);
R.appendChild(this.Jd.n)}else{if(x=="batch"){R.appendChild(this.OB.n);X.pz(R);R.appendChild(this.hr.n);
X.nY(R)}R.appendChild(this.yC.n);R.appendChild(this.bi.n)}var c=["VAR0 PDF",[1,8]];if(x=="cformat")c="Convert Images";
if(x=="batch")c="Process Images";var g=new i_(c,!0,null,!0);g.k("click",this.rI,this);R.appendChild(g.n);
this.mj()}dk.prototype=new bg;dk.prototype.mj=function(x){var R=this.a3i[this.yC.h()];this.bi.V_(R)};
dk.prototype.rI=function(x){var R=this.st.h(),T=[],d=595,U=842;for(var c in R)T.push(c);if(T.length==0){alert("No images selected");
return}if(this.Jd.h())T.sort();var g=this.to.h(),e=new ToPDF,N=UDOC.getState(),l=this.a3i[this.yC.h()],J=dp.Ix(l),w=this.bi.h(),s={};
for(var o=0;o<T.length;o++){var c=T[o],V=R[c],a=V[0]==255,O=dp.Xk(V.buffer),S=dp.Ix(O),L=[{d8:new aP,data:new ArrayBuffer(0)}],Q=null;
if(O=="psd"&&!J.y0)L=da.ajM(V.buffer);else if(S.y0){Q=new c9("file.psd");S.x3(V.buffer,Q);Q.Cg();if(!J.y0){if(Q.cF)cQ.Fg(Q,this.Dn.dA,this);
Q.W();Q.jB();L=[{d8:new aP(0,0,Q.m,Q.e),data:Q.Yr().buffer}]}}else L=S.x3(V.buffer);if(this.id=="batch"){var b=new aA(v.E.P,!0),Z=this.Dn,I=Z.UU,y=I[this.OB.h()];
for(var z=0;z<L.length;z++){Q=dp.oD(c,[L[z]]);b.data={d:v.H.EO,V1:Q};this.c(b);if(Q.R.length==3)Q.g=[1];
bf.azm(Q,I,y.dz[this.hr.h()].hK,y.hK,this);Q.W();Q.jB();L[z].d8=new aP(0,0,Q.m,Q.e);L[z].data=Q.Yr().buffer;
b.data={d:v.H.Ql,tE:Q};this.c(b)}}var r=L[0].d8,h=new Uint8Array(L[0].data),k=r.m,K=r.e;if(this.id=="pdfpres"){var H=[[595,842],[842,595],[595,595],[595,0]][g];
if(g==3)H[1]=Math.round(H[0]*K/k);var d=H[0],U=H[1],p=Math.min(d/k,U/K);e.StartPage(0,0,d,U);N.ctm=[k*p,0,0,K*p,(d-k*p)/2,(U-K*p)/2];
e.PutImage(N,a?V:h,k,K);e.ShowPage()}else{var f=c.split("."),A;f.pop();f.push(l.toLowerCase());if(J.y0)A=J.LA(Q,Q.m,Q.e,w,this.Dn);
else{var _=[];for(var z=0;z<L.length;z++)_.push([L[z].data]);A=J.LA(_,k,K,w)}s[f.join(".")]=new Uint8Array(A)}}if(this.id=="pdfpres"){e.Done();
hG.save(e.buffer,"file.pdf")}else{hG.save(UZIP.encode(s),"images.zip")}};dk.prototype.L4=function(x,R){if(R!=null){this.Dn=x;
var T=x.UU,c=[];for(var z=0;z<T.length;z++)c.push(T[z].hK);this.OB.GN(c)}else x=this.Dn;var T=x.UU.length==0?[]:x.UU[this.OB.h()].dz,c=[];
for(var z=0;z<T.length;z++)c.push(T[z].hK);this.hr.GN(c)};dk.prototype.t=function(){bg.prototype.t.call(this);
this.st.t();this.to.t();this.Jd.t()};function id(x){var R=gm.names[x];if(R==null)R=hD.names[x];if(x=="aply")R=[2,12];
if(x=="fade")R=[2,11];if(x=="matc")R=[4,18];if(x=="blendOptions")R=[14,10];bg.call(this,R,"afw_"+x);
this.dq=x;this.wX=null;this.KH=null;this.rQ=new gE[x];this.rQ.k(v.E.p,this.Oc,this);this.rQ.parent=this;
this.body.appendChild(this.rQ.n);this.dL=new kv([24,18,5]);this.dL.T(!0);this.dL.k(v.E.p,this.Oc,this);
this.cM=new i_([1,12,2],!0,null,!0);this.cM.k("click",this.Zz,this);this.AH=X.vV(this);if(this.qd())this.rQ.Df(this.AH.n);
else{X.MQ(this.rQ.n,"form");X.MQ(this.body,"flexrow");this.rQ.n.setAttribute("style","width:312px");
var T=X._("div");this.body.appendChild(T);T.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
T.appendChild(this.AH.n);T.appendChild(this.cM.n);T.appendChild(this.dL.n)}this.k("closebtn",this.zs,this)}id.prototype=new bg;
id.prototype.Vd=function(){return!0};id.prototype.qd=function(){return this.rQ!=null&&this.rQ.ie()};
id.prototype.rH=function(){return this.qd()?new cI(0,0):bg.prototype.rH()};id.prototype.WX=function(x){return this.rQ.WX(x)};
id.prototype.vi=function(){return this.rQ.vi()};id.prototype.fz=function(x,R,T,c,g){this.rQ.fz(x,R,T,c,g)};
id.prototype.gQ=function(x,R,T,c,g){this.rQ.gQ(x,R,T,c,g)};id.prototype.rR=function(x,R,T,c,g){this.rQ.rR(x,R,T,c,g)};
id.prototype.pg=function(x,R){if(this.dq=="fade")return id.aax(x);return!0};id.prototype.Zz=function(x){this.rQ.T(gm.GI(this.dq));
this.Oc()};id.prototype.Oc=function(x){this.ar({d:"edit",hu:this.rQ.h(),Fk:!this.dL.h()})};id.prototype.zs=function(x){this.ar({d:"cancel"})};
id.prototype.n4=function(x){if(!this.dL.h()){this.dL.T(!0);this.Oc()}this.KH=this.rQ.h();if(this.qd())this.Oc();
this.ar({d:"confirm"});this.close()};id.prototype.t=function(){bg.prototype.t.call(this);this.dL.t();
if(this.rQ)this.rQ.t();this.AH.t()};id.prototype.L4=function(x,R){if(this.rQ)this.rQ.L4(x,R)};id.prototype.Rw=function(x,R,T,c){if(this.qd())this.rQ.Rw(c);
else bg.prototype.Rw.call(this,x,R,T,c)};id.prototype.Bq=function(x,R,T,c){this.wX=R.wX;var g=x.add.lnk2?x.add.lnk2:[],d,U,e=new aP(0,0,x.m,x.e),N=x.R[x.g[0]],l=null;
d=N.buffer;U=N.rect;if(this.qd())l=x.Yr(x.g[0]-1);var J=gm.GI(this.dq),w=[g,x.Hp,x,T];if(R.wX==null){this.rQ.T(J,d,U,e,l,w);
if(hD.names[this.dq]){if(c.S(fZ.ng)&&this.KH)this.rQ.T(this.KH);var s=D.MK.getData(x),o=u.wu(s[0].Ik);
this.rQ.dp(o)}}else{var V=!1,N=x.R[this.wX.a];if(N.Xn()){var a=N.Ct(x);d=a.buffer;U=a.rect;var O=N.add.SoLd.filterFX.v.filterFXList.v;
if(O[this.wX.index]){var S=O[this.wX.index].v;this.rQ.T(this.dq=="blendOptions"?S.blendOptions.v:S.Fltr.v,d,U,e,l,w);
this.rQ.dp(u.wu(d));V=!0}}if(!V){this.rQ.T(J,d,U,e,l,w);this.rQ.dp(u.wu(d))}}if(!this.qd()){this.Oc();
var L=this.rQ;if(L&&L.ZH&&L.ZH[0]&&L.ZH[0].By)L.ZH[0].By()}};id.prototype.ar=function(x){var R=new aA(v.E.v,!0);
x.dq=this.dq;x.wX=this.wX;if(this.dq=="VaPo"){x.b=this.rQ.h();x.fR=this.rQ.a3$()}R.data=x;R.f=gm.names[this.dq]||this.wX?D.zW:D.JG;
R.ke=!0;this.c(R)};id.prototype.s7=function(x,R){if(!this.rQ.ie()){}else{this.body.style.padding="0";
this.rQ.s7(x,R)}};id.aax=function(x){if(x==null)return!1;var R=x.SH();if(R==null||!(R.data instanceof Array)||R.data.length!=x.g.length)return!1;
for(var z=0;z<R.data.length;z++){var T=R.data[z];if(T.a<0&&x.Hp[-1-T.a])return!0;if(T.a==null||x.R[T.a]==null||x.R[T.a].s4!=T.ii)return!1;
if(x.g.indexOf(T.a)==-1)return!1}return!0};function dx(){bg.call(this,[11,0],"camera");this.data=null;
this.dY=new cI(1,1);this.adA=[];var x=X._("div","form hbar");this.body.appendChild(x);this.acD=new ad(null,[]);
this.AR=new ad([21,0],[[21,2],[21,1]]);x.appendChild(this.AR.n);this.PU=new ad(null,[]);this.PU.k(v.E.p,this.a4n,this);
x.appendChild(this.PU.n);this.eJ=new i_([11,0],!1,null,!0);this.eJ.k("click",this.aaz,this);x.appendChild(this.eJ.n);
this.g8=new kk("");x.appendChild(this.g8.n);this.stream=null;this.H5=X._("video","");this.H5.setAttribute("autoplay","true");
this.body.appendChild(this.H5);this.a9g=this.amL.bind(this);this.a1t=this.ajC.bind(this);this.ahB=this.aaQ.bind(this);
this.k("closebtn",this.a0p,this)}dx.prototype=new bg;dx.prototype.t=function(){bg.prototype.t.call(this);
this.AR.t();this.eJ.t();this.s7(this.KQ,this.kh)};dx.prototype.Yr=function(){var x=this.H5.videoWidth,R=this.H5.videoHeight,T=X._("canvas","");
T.width=x;T.height=R;var c=T.getContext("2d");c.drawImage(this.H5,0,0,x,R);var g=c.getImageData(0,0,x,R);
return{d8:new aP(0,0,x,R),data:g.data.buffer}};dx.prototype.aaz=function(x){if(this.AR.h()==0)this.an8();
else this.a6m()};dx.prototype.a6m=function(){var x=this.Yr(),R={buffer:new Uint8Array(x.data),rect:x.d8},T=new aA(v.E.v,!0);
T.ke=!0;T.f=D.d_;T.data={d:F.p$,V$:R};this.c(T);alert(go.get([21,4]))};dx.prototype.an8=function(){var x=this.Yr(),R=dp.oD("camera",[x]),T=new aA(v.E.P,!0);
T.data={d:v.H.EO,V1:R};this.c(T);alert(go.get([21,5]))};dx.prototype.Bq=function(x,R,T){navigator.mediaDevices.enumerateDevices().then(this.a5K.bind(this))};
dx.prototype.a5K=function(x){var R=this.adA=[],T=[];for(var z=0;z<x.length;z++)if(x[z].kind=="videoinput"){R.push(x[z]);
T.push("Camera "+R.length)}this.PU.GN(T);this.PU.T(0);this.a4n()};dx.prototype.a4n=function(x){this.a0p();
var R={video:{deviceId:this.adA[this.PU.h()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(R).then(this.a9g).catch(this.a1t);
else navigator.webkitGetUserMedia(R,this.a9g,this.a1t)};dx.prototype.amL=function(x){this.stream=x;this.H5.srcObject=x;
this.H5.addEventListener("loadedmetadata",this.ahB,!1)};dx.prototype.aaQ=function(x){this.H5.play();
this.s7(this.KQ,this.kh)};dx.prototype.rH=function(x,R){return new cI(0,0)};dx.prototype.s7=function(x,R){var T=this.H5.videoWidth,c=this.H5.videoHeight;
this.g8.T(T+" x "+c+" px");this.g8.n.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.dY.LR(T,c);this.KQ=x;this.kh=R;var g=x-28,d=R-28-30,U=this.dY.x/this.dY.y;if(g/d>U)g=d*U;else d=g/U;
this.H5.setAttribute("style","display: block; width: "+Math.round(g)+"px; height:"+Math.round(d)+"px;")};
dx.prototype.ajC=function(x){console.log("error",x);alert(go.get([21,6]));this.close()};dx.prototype.a0p=function(x){if(this.stream!=null){var R=this.stream.getTracks();
for(var z=0;z<R.length;z++)R[z].stop();this.stream=null}};function ig(){bg.call(this,[7,8],"crange");
this._c=null;this.Uz={h8:73,Y:4.45,J:4};this.N6={h8:73,Y:4.45,J:4};this.body.style.width="20em";this.V6=new ad([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.V6.k(v.E.p,this.ayr,this);this.body.appendChild(this.V6.n);this.B$=X._("div","form");this.body.appendChild(this.B$);
var x=this.al$=2,R=this.Kw=[new aw([12,92],0,200),new cZ([12,36],[[18,0],"\uFF0B","-"]),new aw([12,92],0,100,"%"),new i1("Min",0,255),new i1("Max",0,255)];
R[0].T(40);R[x].T(40);for(var z=0;z<R.length;z++){R[z].k(v.E.p,this.a5,this);R[z].parent=this}this.V=X._("canvas");
this.body.appendChild(this.V);this.AH=X.vV(this,this.body)}ig.prototype=new bg;ig.prototype.pg=function(x,R){return x!=null};
ig.prototype.vi=function(){return!0};ig.prototype.Vd=function(){return!0};ig.prototype.ayr=function(x){var R=this.V6.h(),T=this.Kw,c=this.B$,g=0,d=T.length,U=this.al$;
if(R==0)d=U;else{g=U;T[g+1].T([0,100,190][R-1]);T[g+1].Dd(R!=1);T[g+2].T([60,150,255][R-1]);T[g+2].Dd(R!=3)}X.Ra(c);
for(var z=g;z<d;z++){c.appendChild(T[z].n)}this.a5()};ig.prototype.t=function(){bg.prototype.t.call(this);
this.AH.t();this.V6.t();for(var z=0;z<this.Kw.length;z++)this.Kw[z].t()};ig.prototype.fz=function(x,R,T,c,g){var d=x.Q.nU(g.x,g.y);
this.ac_(d.x,d.y)};ig.prototype.ac_=function(x,R){var T=Math.min,c=Math.max,g=this._c,d=c(0,T(g.m-1,Math.floor(x))),U=c(0,T(g.e-1,Math.floor(R))),e=g.Yr(),N=(U*g.m+d)*4,l=e[N],J=e[N+1],w=e[N+2],s=u.jX(l,J,w),o=this.Kw[1].h(),V=this.Uz,a=this.N6;
if(o==0){this.Uz=JSON.parse(JSON.stringify(s));this.N6=s}else if(o==1){V.h8=T(V.h8,s.h8);V.Y=T(V.Y,s.Y);
V.J=T(V.J,s.J);a.h8=c(a.h8,s.h8);a.Y=c(a.Y,s.Y);a.J=c(a.J,s.J)}else if(o==2){var O=(V.h8+a.h8)/2,S=(V.Y+a.Y)/2,L=(V.J+a.J)/2;
if(s.h8<O)V.h8=c(V.h8,s.h8+10);else a.h8=T(a.h8,s.h8-10);if(s.Y<S)V.Y=c(V.Y,s.Y+1);else a.Y=T(a.Y,s.Y-1);
if(s.J<L)V.J=c(V.J,s.J+1);else a.J=T(a.J,s.J-1)}this.a5()};ig.prototype.n4=function(x){var R=this.V6.h(),T=this.Kw,c={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(R==0){var g=this.Uz,d=this.N6;c.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:g.h8},A:{t:"doub",v:g.Y},B:{t:"doub",v:g.J}}};
c.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:d.h8},A:{t:"doub",v:d.Y},B:{t:"doub",v:d.J}}};c.Fzns={t:"long",v:T[0].h()}}else{R--;
var U=["shadows","midtones","highlights"][R];c.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][R]}};if(0<R)c[U+"LowerLimit"]={t:"long",v:T[3].h()};
if(R<2)c[U+"UpperLimit"]={t:"long",v:T[4].h()};c[U+"Fuzziness"]={t:"long",v:T[2].h()}}this.close();var e=new aA(v.E._M,!0);
e.data={Sm:"colorRange",M1:c};this.c(e)};ig.prototype.Bq=function(x,R){this._c=x;this.ac_(0,0);this.ayr()};
ig.prototype.a5=function(){var x=this._c,R=this.V6.h(),T=this.Uz,c=this.N6,g=this.Kw,d=g[0].h()/200,U=!1;
if(R>0){T=g[3].h();c=g[4].h();if(T>=c)T=c-1;U=!0;d=g[2].h()/100}var e=D.Fs.II(x,T,c,d,U),N=e.rect,l=e.channel,J=this.V,w=J.getContext("2d"),s=Math.floor(230*X.mM()),o=Math.floor(s*(N.e/N.m));
J.width=s;J.height=o;X.kk(J,s,o);var V=u.B(l.length*4);u.Qu(V,4294967295);for(var z=0;z<3;z++)u.rN(l,V,z);
var a=D.gW.ug([V,N],new gP(s/N.m,0,0,o/N.e,0,0)),O=a.rect,S=new ImageData(new Uint8ClampedArray(a.buffer.buffer),O.m,O.e);
w.putImageData(S,0,0)};function aq(){bg.call(this,[12,76,1],"createshape");this.Cb=null;var x=X._("div","form");
x.setAttribute("style","width:20em");this.body.appendChild(x);this.ep=new aG(!0,!0,null,!0,!0);this.ep.T(new cI(100,100));
x.appendChild(this.ep.n);this.si=new kv([19,5,3]);x.appendChild(this.si.n);this.AH=X.vV(this,x)}aq.prototype=new bg;
aq.prototype.n4=function(x){var R=this.ep.h();this.Cb.azf(this.Cb.aA7,R.x,R.y,this.si.h());this.close()};
aq.prototype.t=function(){if(this.Cb)this.yN=go.get([5,3])+": "+go.get(this.Cb.a9S);bg.prototype.t.call(this);
this.AH.t();this.ep.t();this.si.t()};aq.prototype.Bq=function(x,R){this.Cb=R;this.t();this.ep.T(this.ep.h(),x.De)};
function i4(){bg.call(this,[11,1],"colorpicker");this.m_=null;this.$l=null;this.Bx=null;this.ye=!1;this.Cp=!1;
this.a9z=[.9642,1,.8249];var x=X._("div","flexrow"),U,e;this.body.appendChild(x);this.Ut=new jf(256,!0);
this.Ut.k(v.E.p,this.eT,this);x.appendChild(this.Ut.n);var R=X._("div","form");R.setAttribute("style","width:14.5em; margin-left:1em;");
x.appendChild(R);var T=X._("div","flexrow");R.appendChild(T);var c=X._("div");T.appendChild(c);c.style="width:95px; margin-right:14px";
this.a5u=X._("div","full");c.appendChild(this.a5u);this.afO=X._("div","full");c.appendChild(this.afO);
var c=X._("col");T.appendChild(c);c.style.width="80px";this.AH=X.vV(this,c);var T=X._("div","flexrow");
R.appendChild(T);var g=X._("div"),d=X._("div");T.appendChild(g);T.appendChild(d);g.style=d.style="margin-left:14px; max-width:80px;";
U=["H","S","B"];e=g;this.Xe=[];for(var z=0;z<3;z++){var N=0,l=360,J="\xB0";if(z!=0){l=100;J="%"}var w=new i1(U[z],N,l,J,0,!1,!0);
this.Xe.push(w);w.k(v.E.p,this.abx,this);e.appendChild(w.n);if(z==2)w.n.style.marginBottom="8px"}U=["R","G","B"];
e=g;this.X0=[];for(var z=0;z<3;z++){var w=new i1(U[z],0,255,null,0,!1,!0);this.X0.push(w);w.k(v.E.p,this.ap4,this);
e.appendChild(w.n)}U=["L","a","b"];e=d;this.Tk=[];for(var z=0;z<3;z++){var N=[0,-128,-128][z],l=[100,127,127][z],w=new i1(U[z],N,l,null,0,!1,!0);
w.T(0);this.Tk.push(w);w.k(v.E.p,this.anr,this);e.appendChild(w.n);if(z==2)w.n.style.marginBottom="8px"}U=["C","M","Y","K"];
e=d;this.kv=[];for(var z=0;z<4;z++){var w=new i1(U[z],0,100,"%",0,!1,!0);w.T(0);this.kv.push(w);w.k(v.E.p,this.a43,this);
e.appendChild(w.n);if(z==3)w.n.style.marginBottom="8px"}this.Uw=new kD("#",null,4.5);this.Uw.k(v.E.p,this.Uv,this);
g.appendChild(this.Uw.n);this.Uw.n.style.marginRight="0";this.ll=X._("input","fitem");this.ll.setAttribute("type","color");
this.ll.setAttribute("style","width:59px;  margin-left:19px;");this.ll.addEventListener("change",this.Uv.bind(this),!1);
this.BX=new jl(9);this.BX.k(v.E.p,this.Uv,this);R.appendChild(this.BX.n);this.k("closebtn",this.zs,this);
this.kA=!1}i4.prototype=new bg;i4.prototype.vi=function(){return!0};i4.prototype.rH=function(x,R){if(Math.min(x,R)>500)return null;
return new cI(Math.max(0,Math.min(150,(x-484)/2)),Math.max(0,Math.min(150,(R-316)/2)))};i4.prototype.s7=function(x,R){this.Ut.s7(Math.min(256,x-226),R)};
i4.prototype.t=function(x,R){bg.prototype.t.call(this);for(var z=0;z<3;z++){this.X0[z].t();this.Xe[z].t();
this.Tk[z].t()}for(var z=0;z<4;z++)this.kv[z].t();this.AH.t()};i4.prototype.eT=function(x){this.$l=this.Ut.h();
this.update()};i4.prototype.fz=function(x,R,T,c,g){this.kA=!0;this.arb(x,g)};i4.prototype.gQ=function(x,R,T,c,g){if(!this.kA)return;
this.arb(x,g)};i4.prototype.rR=function(x,R,T,c,g){this.kA=!1};i4.prototype.arb=function(x,R){var T=D.Yf.Oa(x,R,1),c=T&255,g=T>>8&255,d=T>>16&255;
this.$l={o:d/255,A:g/255,J:c/255};this.update()};i4.prototype.ap4=function(x){var R=this.X0,T=this.vY(parseInt(R[0].h())),c=this.vY(parseInt(R[1].h())),g=this.vY(parseInt(R[2].h()));
this.$l={o:T/255,A:c/255,J:g/255};this.update()};i4.prototype.abx=function(x){var R=this.Xe,T=this.jL(parseInt(R[0].h())/360),c=this.jL(parseInt(R[1].h())/100),g=this.jL(parseInt(R[2].h())/100);
this.$l=u.oC(T,c,g);this.update()};i4.prototype.a43=function(x){var R=this.kv,T=[];for(var z=0;z<4;z++){var c=this.aob(parseInt(R[z].h()));
R[z].T(c);T.push(c/100)}var g=u.qo(T);this.$l={o:g[0],A:g[1],J:g[2]};this.update(!0)};i4.prototype.anr=function(x){var R=this.Tk,T=parseInt(R[0].h()),c=parseInt(R[1].h()),g=parseInt(R[2].h()),d=u.hc(T,c,g);
this.$l={o:d.o/255,A:d.A/255,J:d.J/255};this.update()};i4.prototype.Uv=function(x){var R;if(x.currentTarget==this.BX)R=this.BX.h();
else{R=x.currentTarget==this.Uw?this.Uw.h():this.ll.value;if(R.charAt(0)=="#")R=R.slice(1);if(R.length==3)R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2];
R=u.xI(R)}this.$l={o:(R>>16&255)/255,A:(R>>8&255)/255,J:(R&255)/255};this.update()};i4.prototype.o8=function(x){var R=x.o,T=x.A,c=x.J;
return Math.round(R*255)<<16|Math.round(T*255)<<8|Math.round(c*255)};i4.prototype.n4=function(x){this.afq();
var R=this.o8(this.$l);this.Bx(R);this.close();this.Cp=!1;this.$l=null};i4.prototype.zs=function(x){this.afq();
if(this.ye)this.Bx(this.o8(this.m_));this.Cp=!1;this.$l=null};i4.prototype.afq=function(x){var R=new aA(v.E.P,!0);
R.data={d:v.H.atV};this.c(R)};i4.prototype.L4=function(x,R){var T=iC.FL(x,R);if(T!=null)this.BX.T(T);
if(R!=hc.Js)return;if(this.$l!=null){this.$l={o:(T>>16&255)/255,A:(T>>8&255)/255,J:(T>>0&255)/255};this.update()}};
i4.prototype.Bq=function(x,R){var T=R.O7,c={o:(T>>16&255)/255,A:(T>>8&255)/255,J:(T>>0&255)/255};if(this.$l==null){var g=new aA(v.E.P,!0);
g.data={d:v.H.pm,ze:"crosshair",push:!0};this.c(g);this.kA=!1;this.Bx=R.FO;this.ye=!1;this.Cp=R.VG;this.m_=JSON.parse(JSON.stringify(c));
this.afO.setAttribute("style","height:2.3em;background-color:#"+u.TN(T)+";")}this.$l=c;this.update()};
i4.prototype.update=function(x){var R=this.$l,T=this.o8(R);this.Uw.T(u.TN(T));this.ll.value="#"+u.TN(T);
this.a5u.setAttribute("style","height:2.3em;background-color:#"+u.TN(T)+";");var c=this.X0;c[0].T(Math.round(R.o*255));
c[1].T(Math.round(R.A*255));c[2].T(Math.round(R.J*255));var g=u.c3(R.o,R.A,R.J);c=this.Xe;c[0].T(Math.round(g.kh*360));
c[1].T(Math.round(g.Kt*100));c[2].T(Math.round(g.hu*100));var d=u.jX(R.o*255,R.A*255,R.J*255,this.a9z);
c=this.Tk;c[0].T(Math.round(d.h8));c[1].T(Math.round(d.Y));c[2].T(Math.round(d.J));if(x==null){var U=u.Sj([R.o,R.A,R.J]);
c=this.kv;c[0].T(Math.round(U[0]*100));c[1].T(Math.round(U[1]*100));c[2].T(Math.round(U[2]*100));c[3].T(Math.round(U[3]*100))}this.Ut.T(R);
if(this.Cp){this.Bx(this.o8(this.$l));this.ye=!0}};i4.prototype.aob=function(x){return Math.max(0,Math.min(100,x))};
i4.prototype.vY=function(x){return Math.max(0,Math.min(255,x))};i4.prototype.jL=function(x){return Math.max(0,Math.min(1,x))};
function eR(){bg.call(this,[11,2],"contoureditor");this.a4D=null;this.o6=null;this.response=null;this.$V=X._("div","cell");
this.body.appendChild(this.$V);this.HI=X._("div","cell padded");this.body.appendChild(this.HI);var x=X._("div","bordered padded vmargin");
this.$V.appendChild(x);this.rQ=new aC(null,null,!0);this.rQ.k(v.E.p,this.zp,this);x.appendChild(this.rQ.n);
this.AH=X.vV(this,this.HI);this.k("closebtn",this.Ri,this)}eR.prototype=new bg;eR.prototype.n4=function(){this.close()};
eR.prototype.t=function(){bg.prototype.t.call(this);this.AH.t();this.rQ.t()};eR.prototype.zp=function(x){this.o6.Crv.v=this.rQ.h();
this.response(this.o6)};eR.prototype.Ri=function(x){this.response(this.a4D)};eR.prototype.Bq=function(x,R){this.a4D=JSON.parse(JSON.stringify(R.dz));
this.o6=R.dz;this.response=R.response;this.rQ.T(this.o6.Crv.v)};function hg(){bg.call(this,[11,4],"duplinto");
this.tE=null;this.SD=null;this.Hw=null;var x=X._("div","form");x.setAttribute("style","max-width:26em");
this.body.appendChild(x);this.YT=new ad([12,43],["abc","def"]);this.YT.k(v.E.p,this.DV,this);x.appendChild(this.YT.n);
X.pz(x);this.CY=new ad([1,16,0],["abc","def"]);this.CY.k(v.E.p,this.DV,this);x.appendChild(this.CY.n);
X.pz(x);this.VI=new kD([12,48],null,14);x.appendChild(this.VI.n);this.AH=X.vV(this,x)}hg.prototype=new bg;
hg.prototype.Vd=function(){return!0};hg.prototype.t=function(){bg.prototype.t.call(this);this.AH.t();
this.YT.t();this.VI.t()};hg.prototype.DV=function(x){if(x&&x.target==this.CY)return;var R=this.YT.h(),T=this.SD[R],c=this.tE,g=T!=null&&T.add.artd!=null;
for(var z=0;z<c.g.length;z++)if(c.R[c.g[z]].add.artb)g=!1;this.VI.Dd(R==this.SD.length);this.CY.Dd(g);
if(g){var d=T.root.children,U=[],e=this.Hw=[];for(var z=0;z<d.length;z++){var N=d[z].a;if(N.add.artb)U.push(N.getName());
e.push(d[z].index)}this.CY.GN(U);this.CY.T(0)}else this.Hw=null};hg.prototype.Bq=function(x,R,T){this.tE=x;
this.SD=T;this.VI.T(x.g.length==0?"Layer":x.R[x.g[0]].getName());var c=[];for(var z=0;z<T.length;z++){var g=T[z].name;
c.push(g.length<30?g:g.slice(0,27)+"...")}c.push([11,7]);this.YT.GN(c);this.YT.T(T.indexOf(x));this.DV(null)};
hg.prototype.n4=function(x){var R=this.YT.h();if(R==this.SD.length){var T=new c9(this.VI.h()+".psd"),c=this.tE.m,g=this.tE.e,d=this.tE.NY();
if(d!=-1){var U=this.tE.R[d].Ie();c=U.m;g=U.e}T.m=c;T.e=g;T.buffer=u.B(T.m*T.e*4);var e=T.CH();e.Je("Background");
T.I2([e]);var N=new aA(v.E.P,!0);N.ke=!0;N.data={d:v.H.EO,V1:T};this.c(N)}var l=this.tE.c7(null,this.tE!=this.SD[R]),N=new aA(v.E.v,!0);
N.data={d:F.Sx,R:l,O$:this.tE,tj:this.SD[R]};if(this.Hw)N.data.wp=this.Hw[this.CY.h()];N.f=D.d_;N.ke=!0;
this.c(N);this.close()};function bm(){bg.call(this,[1,9],"eassets");this.Dn=null;this.Lh=null;var x=this.body;
X.MQ(x,"form");x.style.width="32em";this.V6=new cZ(null,["Layers","Combinations"]);this.V6.k(v.E.p,this.OD,this);
x.appendChild(this.V6.n);X.nY(x);this.zd=X._("span");x.appendChild(this.zd);this.Be=X._("div");x.appendChild(this.Be);
var R=X._("div"),T=X._("div","flexrow");this.a1b=[R,T];this.Eu=[new kv("Only layers / folders, whose name starts with \"-e-\""),new kv("Remove parts outside the canvas"),new kv("Trim transparent parts")];
for(var z=0;z<3;z++){var c=this.Eu[z];c.T(!0);c.k(v.E.p,this.OD,this);R.appendChild(c.n);X.pz(R)}this.oy=new ii([12,14,0],["1x","2x","3x","4x"]);
this.oy.T([!0,!1,!1,!1]);R.appendChild(this.oy.n);var g=X._("div");T.appendChild(g);var d=X._("img");
d.setAttribute("src","img/nft.png");d.style.width="150px";T.appendChild(d);var U=X._("span");U.textContent="File Names:";
g.appendChild(U);this.gO=new ii(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
g.appendChild(this.gO.n);this.gO.T([!0,!1,!1]);X.nY(x);this.dP=["PNG","JPG","SVG","TIFF","TGA"];this._r=new ad([12,50],this.dP);
this._r.k(v.E.p,this.mj,this);x.appendChild(this._r.n);this.bi=new gy;x.appendChild(this.bi.n);this.AH=new i_([1,9],!0,null,!0);
this.AH.k("click",this.n4,this);x.appendChild(this.AH.n);this.k("closebtn",this.wL,this)}bm.prototype=new bg;
bm.prototype.mj=function(x){this.bi.V_(this.dP[this._r.h()],!1,!1,!1,this.Lh.xA()!=null)};bm.prototype.wL=function(x){this.Lh=null};
bm.prototype.t=function(){bg.prototype.t.call(this);this._r.t();this.oy.t();this.AH.t();this.bi.t()};
bm.prototype.Bq=function(x,R,T){this.Lh=x;this.OD()};bm.prototype.OD=function(x){var R=this.V6.h(),T;
X.Ra(this.Be);this.Be.appendChild(this.a1b[R]);if(R==0){var c=this.alK();T=c.length+" exportable layers"}else{var c=this.aBQ();
T=c[1]+" combinations ("+c[0].join(" \xD7 ")+")"}this.zd.textContent="- - - "+T;this.mj(null)};bm.prototype.alK=function(){var x=this.Eu[0].h(),R=[],T=this.Lh;
for(var z=0;z<T.R.length;z++){var c=T.R[z],g=c.getName();if(!x&&!c.NW()&&!c.rect.Y3()||g.startsWith("-e"))R.push(z)}return R};
bm.prototype.aBQ=function(){var x=this.Lh,R=x.root.children,T=[],c=1,g=[];for(var z=0;z<R.length;z++){var d=R[z],U=d.a;
if(U.NW()){var e=d.children.length;T.push(e);c*=e;g.push(d.index)}U}return[T,c,g]};bm.prototype.L4=function(x,R){this.Dn=x};
bm.prototype.n4=function(x){var R=this.Lh,T=this.V6.h(),c=[this.dP[this._r.h()]],g=[this.bi.h()],d={};
if(T==0){var e=this.oy.h(),N={},l=this.alK();if(l.length==0){alert("No layers to export.");return}var J=[this.Eu[1].h(),this.Eu[2].h()];
for(var z=0;z<l.length;z++){var w=l[z],s=R.R[w],o=s.getName();if(N[o]!=null){N[o]++;o+=" "+N[o]}else N[o]=1;
var V=s.Pm();s.oE(!0);for(var a=0;a<e.length;a++){if(!e[a])continue;var O=a+1,S=D.K$.ajQ(R,c,O,this.Dn,w,g,J);
for(var L=0;L<c.length;L++){var Q=c[L],b=o.slice(o.startsWith("-e-")?3:0)+(O==1?"":"@"+O+"x")+"."+Q.toLowerCase();
if(S[L])d[b]=new Uint8Array(S[L])}}s.oE(V)}}else{var V=[];for(var z=0;z<R.R.length;z++)V.push(R.R[z].Pm());
var Z=this.aBQ(),I=Z[0],l=Z[2],y=[];function r(H,w,p,f){if(w==H.length){f.push(p.slice(0));return}var A=H[w];
for(var z=0;z<A;z++){p.push(z);r(H,w+1,p,f);p.pop(z)}}r(I,0,[],y);var h=this.gO.h().indexOf(!0);this.rx=[y,d,l,c,g,V,h,this.ai8.bind(this),0,0];
this.ai8();return}var k=UZIP.encode(d),K=new aA(v.E.P,!0);K.data={d:v.H._1,data:k,name:"assets.zip"};
this.c(K)};bm.prototype.ai8=function(){var x=this.rx,R=x[0],T=x[1],c=this.Lh,g=x[2],d=x[3],U=x[4],e=x[5],N=x[6],l=x[7],J=0;
while(R.length!=0&&J<1e3){var w=Date.now(),s=R.shift(),o=[];for(var z=0;z<s.length;z++){var V=c.root.ct(g[z]);
for(var a=0;a<V.children.length;a++)V.children[a].a.oE(!1);var O=V.children[s[z]].a;o.push(N==2?O.getName():V.a.getName()+s[z]);
O.oE(!0)}c.W();c.jB();var S=(N==0?s:o).join("-")+"."+d[0].toLowerCase();T[S]=new Uint8Array(dp.KA(c,d[0],c.m,c.e,U[0],this.Dn));
x[8]++;x[9]+=T[S].length;J+=Date.now()-w}if(R.length!=0){alert(x[8]+" done, "+dO.uE(x[9])+".",800);setTimeout(l,35);
return}for(var z=0;z<c.R.length;z++)c.R[z].oE(e[z]);c.W();var L=UZIP.encode(T),Q=new aA(v.E.P,!0);Q.data={d:v.H._1,data:L,name:"assets.zip"};
this.c(Q)};function fE(){bg.call(this,"Export Color Lookup Tables","exlut");this.Dn=null;this.Lh=null;
var x=X._("div","form");x.setAttribute("style","width:20em");this.body.appendChild(x);this.Eu=[new i1("Grid Points",1,256),new cZ([12,50],[".CUBE"])];
var R=[16,0];for(var z=0;z<this.Eu.length;z++){var T=this.Eu[z];T.T(R[z]);T.parent=this;T.k(v.E.p,this.OD,this);
x.appendChild(T.n);X.pz(x)}this.AH=X.vV(this,x);this.k("closebtn",this.wL,this)}fE.prototype=new bg;
fE.prototype.pg=function(x,R){if(Math.min(x.m,x.e)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(x.R.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};fE.prototype.wL=function(x){this.Lh=null};fE.prototype.L4=function(x,R){this.Dn=x};
fE.prototype.Bq=function(x,R,T){this.Lh=x};fE.prototype.n4=function(){var x=this.Lh,R=this.Eu[0].h(),T=[],c=new aP(0,0,x.m,x.e),g=u.B(R*R*4),d=g.slice(0),U=new aP(x.m-R>>>1,x.e-R>>>1,R,R),e=x.R[0],N=e.buffer,l=e.rect;
e.rect=U;e.buffer=g;for(var J=0;J<R;J++){this.ajI(R,J,g);e.W(U);x.W(U);var w=x.Yr();u.yU(w,c,d,U);for(var s=0;
s<R;s++)for(var o=0;o<R;o++){var V=s*R+o<<2;T.push(d[V]/255,d[V+1]/255,d[V+2]/255)}}var a=e3.arV(T,R,x.name);
hG.save(a,x.name.split(".")[0]+".CUBE");e.buffer=N;e.rect=l;e.W();x.W()};fE.prototype.ajI=function(x,R,T){var c=255/(x-1),g=Math.round(R*c);
for(var d=0;d<x;d++)for(var U=0;U<x;U++){var e=d*x+U<<2;T[e]=Math.round(U*c);T[e+1]=Math.round(d*c);
T[e+2]=g;T[e+3]=255}};fE.prototype.t=function(){bg.prototype.t.call(this);for(var z=0;z<this.Eu.length;
z++)this.Eu[z].t();this.AH.t()};function ee(){bg.call(this,[1,14],"finfo");this.Vq=null;this.Jq=null;
this.Vg=null;this.GT=X._("div","form scrollable label12");this.GT.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.GT);var x=X._("div","form");this.body.appendChild(x);this.W2=new ad(null,["Hello"]);
x.appendChild(this.W2.n);this.aC0=new i_("Add Parameter",!1,null,!0);x.appendChild(this.aC0.n);this.aC0.k("click",this.Zo,this);
this.vI=new i_("=== S A V E ===",!1,null,!0);x.appendChild(this.vI.n);this.vI.k("click",this.df,this);
this.avb=""}ee.prototype=new bg;ee.prototype.rH=function(x,R){return x<450||R<450?new cI(0,0):new cI(150,100)};
ee.prototype.Zo=function(x){if(this.Vg.length==0)return;var R=this.Vg[this.W2.h()],T=this.Dz();T[R]=aZ.I8[R][0];
this.W6(T);this.Jq[R].n.scrollIntoView();this.Jq[R].By()};ee.prototype.iu=function(x){var R=this.Dz();
delete R[x.currentTarget.arR];this.W6(R)};ee.prototype.df=function(x){var R=this.Dz(),T=this.Vq,c=!0;
for(var g in T)if(JSON.stringify(T[g])!=JSON.stringify(R[g]))c=!1;for(var g in R)if(JSON.stringify(T[g])!=JSON.stringify(R[g]))c=!1;
if(c)return;var d=new aA(v.E.v,!0);d.f=D.d_;d.data={d:F.JM,Dl:R};this.c(d);this.Vq=R;this.W6(R)};ee.a4C=function(x){function R(g){var d=g.toLowerCase();
return g==d}var T=x.split(":").pop();for(var c=1;c<T.length-1;c++){if(T[c]==T[c].toUpperCase()&&(R(T[c+1])||R(T[c-1]))){T=T.slice(0,c)+" "+T.slice(c);
c++}}return T};ee.prototype.Bq=function(x,R){this.Vq=x.zw;this.W6(x.zw)};ee.prototype.W6=function(x){var R=this.GT,g=0;
X.Ra(R);var T=this.Jq={},c=["tiff","exif","exif:GPS"],d=this.Vg=[],U=[];for(var e in aZ.I8){var N=ee.a4C(e),l=0,J=15,w=null;
if(x[e]==null){if(aZ.I8[e].length!=1||e=="photoshop:Credit"||e=="photoshop:Source"){d.push(e);U.push(N)}continue}for(var z=0;
z<c.length;z++)if(e.startsWith(c[z]))l=z;if(l!=g){X.nY(R);g=l}if(e=="tiff:ImageDescription"||e=="dc:Keywords"){J=18.5;
w=3}var s=new kD(N,null,J,w);T[e]=s;var o=x[e];if(o instanceof Array)o=o[1]==0?"---":o[0]+"/"+o[1];var V=new i_("\u2716",null,go.get([5,4]));
R.appendChild(V.n);V.k("click",this.iu,this);V.arR=e;s.T(o);R.appendChild(s.n);X.pz(R);if(e=="exif:GPSLongitude"&&x["exif:GPSLatitude"]){this.avb=ee.a9Q(x["exif:GPSLatitude"])+","+ee.a9Q(x["exif:GPSLongitude"]);
var a=new i_("Show on map",!1,null,!0);R.appendChild(a.n);X.pz(R);a.k("click",this.arB,this)}}this.W2.GN(U);
this.W2.T(0)};ee.prototype.Dz=function(){var x=this.Jq,R=aZ.I8,T={};for(var c in R){var g=R[c][0],d=typeof g;
if(g==null||x[c]==null)continue;var U=x[c].h(),e="The value of \""+ee.a4C(c)+"\" must ";if(d=="number"){U=parseFloat(U);
if(isNaN(U)){alert(e+"be a number.");U=g}}else if(g instanceof Array&&g.length==2){if(U.indexOf("/")==-1){alert(e+"be a fraction.");
U=g.slice(0)}else{U=U.split("/").map(parseFloat);if(isNaN(U[0])||isNaN(U[1])){U=g.slice(0)}}}T[c]=U}return T};
ee.a9Q=function(x){var R=x.length,T=x.slice(0,R-1).split(",").map(parseFloat),c=x.slice(R-1),g=T[0]+T[1]/60+T[2]/3600;
if(c!="N"&&c!="E")g=-g;return g};ee.prototype.arB=function(x){window.open("https://maps.google.com?q="+this.avb,"Map")};
function ha(){bg.call(this,[11,5],"gradienteditor");this.m_=null;this.$l=null;this.vA=null;this.Bx=null;
this.ye=!1;this.Cp=!1;this.MP=null;this.nG=null;this.J1=-1;this.o$=-1;this.Xo=0;this.xl=this.Ty.bind(this);
this.Ux=this.I7.bind(this);this.V=X._("canvas");this.xv=this.V.getContext("2d");this.V.setAttribute("style","display:block");
this.sY=null;X.Bd(this.V);X.Us(this.V,this.M4.bind(this));this.P4=X._("div","form");this.lI=X._("div");
this.eR=X._("div","form");this.ju=X._("div");this.sQ=new ad([12,44],[[15,10,0],[24,6]]);this.sQ.k(v.E.p,this.Db,this);
this.body.appendChild(this.sQ.n);X.nY(this.body);var x=this.P4;this.mQ=new i1([19,3,3],0,100,"%");this.mQ.k(v.E.p,this.Db,this);
this.mQ.parent=this;x.appendChild(this.mQ.n);X.pz(x);this.zH=new kk([12,0]);x.appendChild(this.zH.n);
this.JW=X._("div","bordered padded noalign");x.appendChild(this.JW);this._v=new i1([12,0],0,100,"%");
this._v.parent=this;this._v.k(v.E.p,this.Db,this);this.JW.appendChild(this._v.n);this.Gh=new i1([12,40],0,100,"%");
this.Gh.parent=this;this.Gh.k(v.E.p,this.Db,this);this.JW.appendChild(this.Gh.n);this.VS=new i_([5,4],!1,null,!0);
this.VS.k("click",this.a8g,this);this.JW.appendChild(this.VS.n);x.appendChild(this.lI);this.aes=new kk([13,0]);
x.appendChild(this.aes.n);this.g$=X._("div","bordered padded noalign");x.appendChild(this.g$);this.f9=new ad([12,44],[[12,45],[12,46],[12,47]]);
this.f9.k(v.E.p,this.Db,this);this.g$.appendChild(this.f9.n);this.UX=new dW(!0);this.UX.parent=this;
this.UX.k(v.E.p,this.Db,this);this.g$.appendChild(this.UX.n);this.SP=new i1([12,40],0,100,"%");this.SP.parent=this;
this.SP.k(v.E.p,this.Db,this);this.g$.appendChild(this.SP.n);this.cd=new i_([5,4],!1,null,!0);this.cd.k("click",this.alk,this);
this.g$.appendChild(this.cd.n);var x=this.eR;this.fL=new i1("Roughness",0,100,"%");this.fL.k(v.E.p,this.Db,this);
this.fL.parent=this;x.appendChild(this.fL.n);x.appendChild(this.ju);this.ji=new i_([25,1,2],!1,null,!0);
this.ji.k("click",this.Db,this);x.appendChild(this.ji.n);this.AH=X.vV(this);this.k("closebtn",this.zs,this)}ha.prototype=new bg;
ha.prototype.zs=function(x){if(this.ye)this.Bx(this.m_)};ha.prototype.t=function(){bg.prototype.t.call(this);
this.AH.t();this.mQ.t();this.zH.t();this.aes.t();this.VS.t();this.cd.t();this._v.t();this.Gh.t();this.f9.t();
this.SP.t();this.ji.t()};ha.prototype.L4=function(x,R){this.vA=x};ha.prototype.Bq=function(x,R){this.$l=JSON.parse(JSON.stringify(R.I));
this.m_=JSON.parse(JSON.stringify(R.I));this.MP=this.nG=null;this.Bx=R.FO;this.ye=!1;this.Cp=R.VG;this.Hm();
this.uM()};ha.prototype.n4=function(x){var R=this.$l;this.Bx(R);this.close()};ha.prototype.WX=function(x){return x==fZ.U5||x==fZ.ve};
ha.prototype.Rw=function(x,R,T,c){if(c.S(fZ.U5)||c.S(fZ.ve)){if(this.nG)this.a8g();if(this.MP)this.alk()}};
ha.prototype.a8g=function(x){var R=this.$l.Trns.v;if(this.nG==null||R.length==1)return;R.splice(R.indexOf(this.nG),1);
this.nG=null;this.Hm();this.uM()};ha.prototype.alk=function(x){var R=this.$l.Clrs.v;if(this.MP==null||R.length==1)return;
R.splice(R.indexOf(this.MP),1);this.MP=null;this.Hm();this.uM()};ha.prototype.Hm=function(){var x=this.V,R=this.xv,T=X.mM();
x.width=Math.floor(410*T);x.height=Math.floor(70*T);X.kk(x,x.width,x.height);x.style.marginTop="8px";
this.sY=new aP(0,0,Math.floor(380*T),Math.floor(32*T));this.sY.x=Math.floor((x.width-this.sY.m)/2);this.sY.y=Math.floor((x.height-this.sY.e)/2);
var c=this.sY,g=c.m,d=c.e,U=c.x,e=c.y,N=new aP(0,0,g,d),l=R.getImageData(0,0,g,d),J=new Uint8Array(l.data.buffer);
u.P8(J,g,d,8);var w=u.B(g*d*4);u.I.lq(this.$l,w,N,[1/g,0,0,1/d],g/2,d/2,!1,0,this.vA.gR,this.vA.tn);
u.l.Hy("norm",w,c,J,c,c,1);R.clearRect(0,0,x.width,x.height);R.putImageData(l,U,e);var s=this.$l;if(s.Clrs){var o=s.Trns.v,V=s.Clrs.v,a=u.I.eN(s,this.vA.gR,this.vA.tn),O=Math.round(6*X.mM()),S=Math.round(14*X.mM()),L=this.nG?this.nG.v:null,Q=this.MP?this.MP.v:null;
for(var z=0;z<o.length;z++){var b=o[z].v,Z=Math.round(255-255*b.Opct.v.val/100);if((b==L||o[z-1]&&o[z-1].v==L||z==this.o$)&&z!=0){R.fillStyle="#000000";
R.fillRect(U-3+g*(o[z-1].v.Lctn.v+(b.Lctn.v-o[z-1].v.Lctn.v)*b.Mdpn.v/100)/4096,e-6-2,6,6)}if(b==L){R.fillStyle="#ffffff";
R.fillRect(U-O+g*(b.Lctn.v/4096)-2,e-2-S-2,2*O+4,S+4)}R.fillStyle="rgb("+Z+","+Z+","+Z+")";R.fillRect(U-O+g*(b.Lctn.v/4096),e-2-S,2*O,S)}for(var z=0;
z<V.length;z++){var I=V[z].v,y=a[0][z][0];if((I==Q||V[z-1]&&V[z-1].v==Q||z==this.J1)&&z!=0){R.fillStyle="#000000";
R.fillRect(U-3+g*(V[z-1].v.Lctn.v+(I.Lctn.v-V[z-1].v.Lctn.v)*I.Mdpn.v/100)/4096,e+d+2,6,6)}if(I==Q){R.fillStyle="#ffffff";
R.fillRect(U-O+g*(I.Lctn.v/4096)-2,e+d+2-2,2*O+4,S+4)}R.fillStyle="rgb("+Math.round(y.o)+", "+Math.round(y.A)+","+Math.round(y.J)+")";
R.fillRect(U-O+g*(I.Lctn.v/4096),e+d+2,2*O,S)}}if(this.Cp){this.Bx(this.$l);this.ye=!0}};ha.prototype.uM=function(){var x=this.$l,R=x.Clrs?0:1;
this.sQ.T(R);if(X._b(this.P4))this.body.removeChild(this.P4);if(X._b(this.eR))this.body.removeChild(this.eR);
(R==0?this.lI:this.ju).appendChild(this.V);if(R==0){this.body.appendChild(this.P4);this.mQ.T(Math.round(100*x.Intr.v/4096));
var T=x.Trns.v,c=x.Clrs.v,g=this.nG!=null,d=this.o$!=-1;this._v.Dd(g);this.Gh.Dd(g||d);this.VS.Dd(g);
if(g){this.JW.setAttribute("style","");var U=this.nG.v;this.Gh.T(Math.round(100*U.Lctn.v/4096));this._v.T(U.Opct.v.val)}if(d)this.Gh.T(T[this.o$].v.Mdpn.v);
var g=this.MP!=null,d=this.J1!=-1;this.f9.Dd(g);this.UX.Dd(g);this.SP.Dd(g||d);this.cd.Dd(g);if(g){this.g$.setAttribute("style","");
var e=this.MP.v;this.SP.T(Math.round(100*e.Lctn.v/4096));var N=e.Type.v.Clry;this.f9.T(["FrgC","BckC","UsrS"].indexOf(N));
if(N=="FrgC")this.UX.M0(this.vA.gR);if(N=="BckC")this.UX.M0(this.vA.tn);if(N=="UsrS")this.UX.T(e.Clr.v)}if(d)this.SP.T(c[this.J1].v.Mdpn.v)}else{this.body.appendChild(this.eR);
this.fL.T(Math.round(100*x.Smth.v/4096))}this.body.appendChild(this.AH.n)};ha.prototype.Db=function(x){var R=this.$l,T=R.Clrs?0:1;
if(x.target==this.sQ){var c=T==0?JSON.parse(fJ.hN.adb).v:gm.GI("grdm").Grad.v;this.$l=c;this.uM();this.Hm();
return}if(T==0){R.Intr.v=Math.round(4096*this.mQ.h()/100);var g=R.Trns.v,d=R.Clrs.v;if(this.nG!=null){var U=this.nG.v;
U.Lctn.v=Math.round(4096*(this.Gh.h()/100));U.Opct.v.val=this._v.h()}if(this.MP!=null){var e=this.MP.v;
e.Lctn.v=Math.round(4096*(this.SP.h()/100));if(x.target==this.UX)this.f9.T(2);var N=this.f9.h();e.Type.v.Clry=["FrgC","BckC","UsrS"][N];
if(N==2)e.Clr={t:"Objc",v:this.UX.h()};else if(e.Clr)delete e.Clr}if(this.o$!=-1)g[this.o$].v.Mdpn.v=this.Gh.h();
if(this.J1!=-1)d[this.J1].v.Mdpn.v=this.SP.h()}else{R.Smth.v=Math.round(4096*this.fL.h()/100);if(x.target==this.ji)R.RndS.v=Math.floor(Math.random()*4294967295)}this.Hm()};
ha.prototype.M4=function(x){var R=X.il(x,this.V),T=this.sY,c=(R.x*X.mM()-T.x)/T.m,g=(R.y*X.mM()-T.y)/T.e,d=this.$l.Trns.v,U=this.$l.Clrs.v,e=null,N=null,l=-1,J=-1;
if(g<1)for(var z=0;z<d.length;z++){var w=d[z].v;if(Math.abs(w.Lctn.v/4096-c)<.02)e=d[z];if(z>0)if(Math.abs((d[z-1].v.Lctn.v+(w.Lctn.v-d[z-1].v.Lctn.v)*w.Mdpn.v/100)/4096-c)<.01)l=z}if(g>0)for(var z=0;
z<U.length;z++){var s=U[z].v;if(Math.abs(s.Lctn.v/4096-c)<.02)N=U[z];if(z>0)if(Math.abs((U[z-1].v.Lctn.v+(s.Lctn.v-U[z-1].v.Lctn.v)*s.Mdpn.v/100)/4096-c)<.01)J=z}if(N==null&&e==null&&l==-1&&J==-1){if(g<0){var w={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
w.v.Lctn.v=Math.round(c*4096);d.push(w);d.sort(this.pq);e=w}if(g>1){var U=this.$l.Clrs.v,o=u.I.eN(this.$l,this.vA.gR,this.vA.tn),V=u.I.Qb(this.$l,o,c),s={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:u.I.SE({o:V&255,A:V>>8&255,J:V>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
s.v.Lctn.v=Math.round(c*4096);U.push(s);U.sort(this.pq);N=s}}if(N!=null)J=-1;if(e!=null)l=-1;if(N!=null||e!=null||l>-1||J>-1){this.nG=e;
this.MP=N;this.o$=l;this.J1=J;this.uM();this.Hm();X.ri(window,this.xl);X.Xc(window,this.Ux)}};ha.prototype.Ty=function(x){var R=X.il(x,this.V),T=this.sY,c=(R.x*X.mM()-T.x)/T.m,g=(R.y*X.mM()-T.y)/T.e;
c=Math.max(0,Math.min(1,c));var d=this.$l.Trns.v,U=this.$l.Clrs.v;if(this.nG!=null){var e=this.nG.v;
e.Lctn.v=Math.round(4096*c);var N=d.indexOf(this.nG);if(N!=-1&&g<-1&&d.length>1)d.splice(N,1);if(N==-1&&g>-1)d.push(this.nG);
d.sort(this.pq)}if(this.MP!=null){var l=this.MP.v;l.Lctn.v=Math.round(4096*c);var J=U.indexOf(this.MP);
if(J!=-1&&g>2&&U.length>1)U.splice(J,1);if(J==-1&&g<2)U.push(this.MP);U.sort(this.pq)}if(this.o$>-1){var e=d[this.o$].v;
e.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(c*4096-d[this.o$-1].v.Lctn.v)/(e.Lctn.v-d[this.o$-1].v.Lctn.v))))}if(this.J1>-1){var l=U[this.J1].v;
l.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(c*4096-U[this.J1-1].v.Lctn.v)/(l.Lctn.v-U[this.J1-1].v.Lctn.v))))}if(this.nG!=null||this.MP!=null||this.o$>-1||this.J1>-1){this.uM();
this.Hm()}};ha.prototype.I7=function(x){X.Nx(window,this.xl);X.YL(window,this.Ux);if(Date.now()-this.Xo<300){if(this.J1!=-1||this.o$!=-1){var R=(this.J1!=-1?this.$l.Clrs.v[this.J1]:this.$l.Trns.v[this.o$]).v;
R.Mdpn.v=50;this.uM();this.Hm()}else if(this.MP!=null)this.UX.WE()}this.Xo=Date.now()};ha.prototype.pq=function(x,R){return x.v.Lctn.v-R.v.Lctn.v};
function h9(x){bg.call(this,x=="isize"?[11,10]:[11,3],x);this.apF=x;var R=X._("div","form");R.setAttribute("style","width:20em; margin-bottom:1em; margin-top:-1em;");
this.body.appendChild(R);var T=x=="csize";this.a7s=new kk("Hi");R.appendChild(this.a7s.n);X.pz(R);this.ep=new aG(!0,!0,T,T,!0);
if(T)this.ep.aoW(!1);R.appendChild(this.ep.n);this.SX=new kv([12,25,3]);this.SX.T(!0);this.SX.k(v.E.p,this.arK,this);
this.mL=new ad(null,[[12,14,2],[12,14,3],[12,14,4]]);this.mL.T(1);this.LX=new bO([12,23,2],41);this.LX.T(4);
if(x=="isize"){R.appendChild(this.SX.n);R.appendChild(this.mL.n)}else R.appendChild(this.LX.n);this.AH=X.vV(this,this.body)}h9.prototype=new bg;
h9.prototype.pg=function(x,R){return x!=null};h9.prototype.Vd=function(){return!0};h9.prototype.WX=function(x){return this.apF=="isize"?!1:[fZ.fS,fZ.t8,fZ.Vw,fZ.xE].indexOf(x)!=-1};
h9.prototype.Rw=function(x,R,T,c){if(c.S(fZ.AQ))this.n4();this.LX.abe(c.Gw())};h9.prototype.t=function(){bg.prototype.t.call(this);
this.ep.t();this.SX.t();this.mL.t();this.LX.t();this.AH.t()};h9.prototype.n4=function(x){var R=this.ep.h(),T=R.x,c=R.y,g=new aA(v.E._M,!0),d=this.ep.ru.h();
if(this.apF=="csize"){if(d){var U=this.ep.mJ,e=this.ep.ne;T=e.x-U.x;c=e.y-U.y}g.data=D._x.ayh(T,c,this.LX.h(),d)}else{var N=this.mL.h();
if(!this.SX.h())N=null;g.data=D._x.a5z(T,c,this.ep.TF(),N)}this.close();this.c(g)};h9.prototype.Bq=function(x,R){this.ep.T(new cI(x.m,x.e),x.De);
this.ep.By();this.a7s.T(go.get(this.yN)+": "+(x.m*x.e/1e6).toFixed(2)+" MPx")};h9.prototype.arK=function(x){var R=this.SX.h(),T=this.ep,c=this.mL;
if(R)c.uL();else c.tC();T.afT(R)};function kp(){bg.call(this,"Import RAW","importraw");var x=X._("div","flexrow"),R=X._("div");
R.setAttribute("style","margin-bottom: 1em");this.body.appendChild(x);this.body.appendChild(R);var T=X._("div","form");
T.setAttribute("style","width:18em");x.appendChild(T);var c=X._("div","form");c.setAttribute("style","width:15em");
x.appendChild(c);this.Cb=null;this.yW=null;this.Rm=null;this.mB=null;this.aaq=[];var g=[];for(var z=0;
z<kp.rt.length;z++)g.push(kp.rt[z]+" Bits");var d=this.rx=[new aG(!0,null,null,!0),new i1([12,72],1,8),new kv("Last one is Transparency"),new cZ([12,34],g),new cZ("Byte Order",["12-34","34-12"]),new ad("Guesses",[])];
for(var z=0;z<d.length;z++){var U=d[z];U.parent=this;U.k(v.E.p,z==5?this.a08:this.DV,this);var e=z==0?T:z==5?R:c;
e.appendChild(U.n)}this.V=X._("canvas");this.xv=this.V.getContext("2d");this.body.appendChild(this.V);
this.AH=X.vV(this,this.body)}kp.prototype=new bg;kp.prototype.t=function(){bg.prototype.t.call(this);
var x=this.rx;this.AH.t();for(var z=0;z<x.length;z++)x[z].t()};kp.prototype.n4=function(x){this.close();
var R=this.rx[0].h(),T=dp.oD(this.yW,[{data:this.Rm,d8:new aP(0,0,R.x,R.y)}]);if(this.mB)T.Hp=this.mB;
var c=new aA(v.E.P,!0);c.data={d:!0?v.H.EO:v.H.cw,V1:T};this.c(c)};kp.rt=[8,16];kp.prototype.Bq=function(x,R){this.Cb=new Uint8Array(R.$X);
this.yW=R.H7;var T=this.Cb.length,c=[1,3,4],g=0,d=0,U=1,e=1,N=this.aaq=[],l=Math.round(Math.sqrt(T)*2);
l=Math.max(l,4e3);for(var J=0;J<3;J++){for(var w=0;w<2;w++){var s=kp.rt[w],o=c[J],V=o*s,a=Math.round(T*8/V);
if(a!=T*8/V)continue;for(var O=0;O<=l;O++)for(var S=0;S<=l;S++)if(O*S==a){var L=0;if(O==S)L+=64;if(Math.round(O/100)==O/100&&Math.round(S/100)==S/100)L+=32;
if(Math.round(O/10)==O/10&&Math.round(S/10)==S/10)L+=16;if(Math.round(O/2)==O/2&&Math.round(S/2)==S/2)L+=8;
N.push([O,S,o,s,L])}}}var Q=function(y,r){if(r[4]!=y[4])return r[4]-y[4];var h=Math.max(y[0],y[1])/Math.min(y[0],y[1]),k=Math.max(r[0],r[1])/Math.min(r[0],r[1]);
if(h!=k)return h-k;return r[0]-y[0]};N.sort(Q);var b=this.rx,Z=[];for(var z=0;z<N.length;z++){var I=N[z];
Z.push(I[0]+" x "+I[1]+", "+I[2]+"ch, "+I[3]+"-bit")}b[5].GN(Z);b[5].T(0);this.a08(null)};kp.prototype.a08=function(x){var R=this.rx,T=this.aaq[this.rx[5].h()];
R[0].T(new cI(T[0],T[1]),72);R[1].T(T[2]);R[3].T(kp.rt.indexOf(T[3]));this.DV()};kp.prototype.DV=function(x){var R=this.rx,T=R[0].h(),c=T.x,g=T.y,d=kp.rt[R[3].h()],U=this.Cb;
if(d==16&&R[4].h()==1){U=U.slice(0);for(var z=0;z<U.length;z+=2){var e=U[z];U[z]=U[z+1];U[z+1]=e}}var N=this.Rm=this.x3(U,c,g,R[1].h(),d,R[2].h()),l=this.V,J=this.xv,w=[N,new aP(0,0,c,g)];
u.hj(w);for(var z=0;z<w.length;z+=2)if(w[z+1].e<300){N=w[z];c=w[z+1].m;g=w[z+1].e;break}l.width=c;l.height=g;
X.kk(l,c,g);var s=new ImageData(new Uint8ClampedArray(N.buffer),c,g);J.putImageData(s,0,0)};kp.prototype.x3=function(x,R,T,c,g,d){this.mB=null;
var U=[],e=R*T;for(var N=0;N<c;N++){var l=u.B(e);U.push(l);if(g==8)for(var z=0;z<e;z++)l[z]=x[z*c+N];
else if(g==16)for(var z=0;z<e;z++)l[z]=Math.round((x[(z*c+N)*2]<<8|x[(z*c+N)*2+1])*(255/65535))}var J=u.B(e*4);
new Uint32Array(J.buffer).fill(4278190080);if(d){u.rN(U.pop(),J,3);c--}if(c==0){}else if(c==1)u.Oj(U[0],J);
else{u.rN(U[0],J,0);u.rN(U[1],J,1);if(c>2){u.rN(U[2],J,2);if(c>3){this.mB=[];for(var z=3;z<c;z++){var w=new F.Wu;
w.name="Alpha "+(z-2);w.rect=new aP(0,0,R,T);w.channel=U[z];this.mB.push(w)}}}}return J};function c3(x,R,T){ky.call(this);
this.n=X._("div","");this.Dm=x;this.px=null;this.C5=R==null?!1:R;this.Tw=null;this.GU=T;this.pp=[];this.s9=[];
this.Ef=[];this.lo=[];this.ed=0;this.px=this.ajo(c3.lo[x]);this.bF();this.gV=null;this.acJ;this.akk}c3.prototype=new ky;
c3.prototype.fz=function(x,R,T,c,g){this.gV=g;this.acJ=JSON.parse(JSON.stringify(this.Tw));if(this.px.lagl)this.akk=this.px.lagl.h()[0]};
c3.prototype.gQ=function(x,R,T,c,g){var d=this.gV,U=this.Dm,e=this.acJ;if(d==null)return;var N=(g.x-d.x)/x.Q.O,l=(g.y-d.y)/x.Q.O;
if(U=="GrFl"){var J=JSON.parse(JSON.stringify(e.Ofst.v));J.Hrzn.v.val+=N*.5;J.Vrtc.v.val+=l*.5;this.px.Ofst.T(J,!0)}if(U=="patternFill"){var J=JSON.parse(JSON.stringify(e.phase.v));
J.Hrzn.v+=N;J.Vrtc.v+=l;this.px.phase.T(J,!0)}if(U=="DrSh"||U=="IrSh"||U=="ChFX"){var w=e.Dstn.v.val,s=this.akk*Math.PI/180,o=-Math.cos(s)*w+N,V=Math.sin(s)*w+l;
this.px.Dstn.T(Math.sqrt(o*o+V*V),!0);this.px.lagl.T([Math.atan2(V,-o)*180/Math.PI],!0)}};c3.prototype.rR=function(x,R,T,c,g){this.gV=null};
c3.prototype.aqH=function(){for(var z=0;z<this.lo.length;z++){X.ia(this.lo[z],"selected");if(this.Ef[z]instanceof kv)this.Ef[z].T(!1)}};
c3.prototype.a9T=function(x){var R=this.azM.bind(this);for(var z=0;z<this.Ef.length;z++){var T=X._("div","listitem");
this.lo.push(T);if(z>0)T.textContent="\u2003";T.appendChild(this.Ef[z].n);if(fJ.apY.indexOf(this.Dm)!=-1){var c=new i_("+");
c.Kl();c.n.style.float="right";T.appendChild(c.n);var g=new i_("\u2B0D");g.Kl();g.n.style.float="right";
g.n.style["margin-right"]="2px";T.appendChild(g.n)}T.addEventListener("click",R,!1);x.appendChild(T)}};
c3.da=function(x,R){var T=R.getBoundingClientRect();return(x.clientY-T.top)/T.height};c3.prototype.azM=function(x){var R=x.target.tagName.toLowerCase();
if(R=="input"){return}if(R=="button"){var T=new aA(v.E.v,!0),c=x.target.textContent=="+",g=c?0:c3.da(x,x.target)<.5?-1:1;
if(c)T.data={d:"st_dupsingle",a:this.parent.data.a,_8:this.GU};else T.data={d:"st_movsingle",a:this.parent.data.a,_8:this.GU,adu:g};
T.f=D.Wi;T.ke=!0;this.c(T);T=new aA("redrawall",!0);T.data={adu:g};this.c(T);return}X.Ri(x);this.qg();
this.ed=this.lo.indexOf(x.currentTarget);this.c(new aA("showme"))};c3.prototype.qg=function(){if(this.px.enab&&this.px.enab.h()==!1)this.ar({n8:"enab",b:!0})};
c3.prototype.aC3=function(){var x=this.lo[this.ed];if(x)X.MQ(x,"selected");return this.s9[this.ed]};
c3.prototype.ajo=function(x){var R={};for(var z=0;z<x.length;z++){var T=x[z],c=null;if(T=="----")c={n:X._("hr")};
if(T=="\n")c={n:X._("br")};if(T=="blOptions")c=new kk([14,10]);if(T=="brst")c=new ii([12,72],["R","G","B"]);
if(T=="knko")c=new ad("Knockout",[[13,1,0],"Shallow","Deep"]);if(T=="enab")c=new kv(fJ.names[fJ.order.indexOf(this.Dm)]);
if(T=="lrMd"||T=="Md")c=new ad([12,19,0],c_.PZ,c_.zh);if(T=="Opct")c=new h4([12,0],0,100,"%");if(T=="iOpa")c=new h4([12,26],0,100,"%");
if(T=="blIf")c=new ff;if(T=="ShdN")c=new h4([12,68],0,100,"%");var g=this.Dm=="St3D"&&T=="lagl";if(T=="lagl"||T=="Angl")c=new cS(g?"Light":[12,15],this.Dm=="ebbl"||g);
if(T=="uglg")c=new kv([12,27]);if(T=="Dstn")c=new h4([12,28],0,200,"px");if(T=="Ckmt")c=new h4([12,29],0,100,"%");
if(T=="Srnk")c=new h4("Shrink",0,100,"%");if(T=="Drkn")c=new h4("Darken",0,100,"%");if(T=="blur")c=new h4([12,14,0],0,200,"px");
if(T=="TrnS"||T=="MpgS")c=new aS([12,21]);if(T=="Nose")c=new h4([12,30],0,100,"%");if(T=="layerConceals")c=new kv([12,31]);
if(T=="Cntn")c=new kv([12,25,4]);if(T=="AntA"||T=="antialiasGloss")c=new kv([12,25,1]);if(T=="GlwT")c=new ad([12,32],fJ.Iq.names);
if(T=="glwS")c=new ad([12,70],fJ.Iq.aB6);if(T=="Inpr")c=new h4([12,12],1,100,"%");if(T=="bvlS")c=new ad([12,22],fJ.O6.style);
if(T=="bvlT")c=new ad([12,32],fJ.O6.amX);if(T=="bvlD")c=new ad(null,fJ.O6.dir);if(T=="srgR")c=new h4([12,34],0,1e3,"%");
if(T=="Sftn")c=new h4([12,35],0,20,"px");if(T=="Lald")c=R.lagl;if(T=="hglM"||T=="sdwM")c=new ad([12,36],c_.PZ,c_.zh);
if(T=="hglC"||T=="sdwC")c=new dW;if(T=="hglO"||T=="sdwO")c=new h4([12,0],0,100,"%");if(T=="Invr"||T=="InvT")c=new kv([4,11]);
if(T=="overprint")c=new kv("Overprint");if(T=="Sz")c=new h4([12,14,0],1,200,"px");if(T=="Styl")c=new ad([12,40],fJ.stroke.names);
if(T=="PntT")c=new ad([12,66],fJ.stroke.akj);if(T=="Clr")c=new dW(!0);if(T=="Grad"){c=new d5(!0,[12,37],!0);
c.T(JSON.parse(fJ.hN.a52).v)}if(T=="Rvrs")c=new kv([12,23,0]);if(T=="Dthr")c=new kv([12,23,3]);if(T=="Type")c=new ad([12,22],fJ.I.names.slice(0,this.Dm=="FrFX"?6:5));
if(T=="Ptrn")c=new h_([12,62]);if(T=="Scl")c=new h4([12,38],5,500,"%",0,!0);if(T=="Algn")c=new kv([12,39]);
if(T=="Ofst")c=new e4(!0);if(T=="phase")c=new e4(!1);if(T=="useShape")c=new kv([12,21]);if(T=="useTexture")c=new kv([12,67]);
if(T=="textureDepth")c=new h4([12,34],-300,300,"%");var d=T=="----"||T=="\n"?T+z:T;if(c!=null)R[d]=c}return R};
c3.prototype.a2$=function(x){var R=this.s9[this.ed];for(var z=0;z<x.length;z++){var T=this.px[x[z]];
if(T&&R.contains(T.n))R.removeChild(T.n)}};c3.prototype.aw0=function(x){var R=this.s9[this.ed];for(var z=0;
z<x.length;z++){var T=this.px[x[z]];if(T&&!R.contains(T.n))R.appendChild(T.n)}};c3.prototype.L4=function(x,R){if(this.px==null)return;
var T=R==hc.cp;if(this.px.Grad){this.px.Grad.dv(x.gR,x.tn);if(T||R==hc.Js||R==hc.p2)this.px.Grad.zB(x.sx)}if(this.px.Ptrn){if(T||R==hc.n6)this.px.Ptrn.zB(x.hP)}if(this.px.TrnS){if(T||R==hc.fo)this.px.TrnS.zB(x.J7)}if(this.px.MpgS){if(T||R==hc.fo)this.px.MpgS.zB(x.J7)}};
c3.prototype.t=function(){for(var z=0;z<this.pp.length;z++)this.pp[z].t();for(var x in this.px)if(this.px[x]instanceof ky)this.px[x].t()};
c3.prototype.bF=function(){for(var x in this.px){var R=this.px[x];R.parent=this;if(R instanceof ky)R.k(v.E.p,this.a8L,this);
if(this.s9.length==0||x=="useShape"||x=="useTexture"){var T=new kk(R.ajX()),c=X._("div","bordered padded");
if(this.C5==!1){c.appendChild(T.n);c.appendChild(X._("hr",""))}this.pp.push(T);this.s9.push(c);this.Ef.push(R)}else this.s9[this.s9.length-1].appendChild(R.n)}};
c3.prototype.update=function(x,R){if(this.px==null)return;this.Tw=JSON.parse(JSON.stringify(R));for(var T in R){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(T)!=-1)this.px[T].T(R[T].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(T)!=-1){this.px[T].T(R[T].v,x)}if(["Md","hglM","sdwM"].indexOf(T)!=-1)this.px[T].T(c_.Dm.indexOf(R[T].v.BlnM));
if(T=="lrMd"){var c=(R.NW?[[15,10,27]]:[]).concat(c_.PZ),g=(R.NW?[1]:[]).concat(c_.zh);this.px[T].GN(c,g);
this.px[T].T(R[T].v)}if(T=="Angl")this.px[T].T([R[T].v.val]);if(T=="lagl"){var d=R.uglg&&R.uglg.v?x.er():R.lagl.v.val;
this.px[T].T([d])}if(T=="Lald"){var d=R.uglg&&R.uglg.v?x.Oo():R.Lald.v.val;this.px[T].T([null,d])}if(T=="Type")this.px[T].T(fJ.I.types.indexOf(R.Type.v.GrdT));
if(T=="Styl")this.px[T].T(fJ.stroke.types.indexOf(R.Styl.v.FStl));if(T=="PntT"){var U=fJ.stroke.g5.indexOf(R.PntT.v.FrFl);
this.px[T].T(U);if(!this.C5){this.a2$(fJ.RV.concat(fJ.dc.concat(fJ.lK)));this.aw0([fJ.RV,fJ.dc,fJ.lK][U])}}if(T=="GlwT")this.px[T].T(fJ.Iq.types.indexOf(R.GlwT.v.BETE));
if(T=="glwS")this.px[T].T(fJ.Iq.aoo.indexOf(R.glwS.v.IGSr));if(T=="bvlS")this.px[T].T(fJ.O6.types.indexOf(R.bvlS.v.BESl));
if(T=="bvlT")this.px[T].T(fJ.O6.aqR.indexOf(R.bvlT.v.bvlT));if(T=="bvlD")this.px[T].T(["In","Out"].indexOf(R.bvlD.v.BESs))}};
c3.prototype.a8L=function(x){for(var R in this.px){if(this.px[R]!=x.target)continue;var T=null,c=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(R)!=-1)T={type:"#Prc",val:x.target.h()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(R)!=-1)T={type:"#Pxl",val:x.target.h()};if(["Angl","lagl"].indexOf(R)!=-1)T={type:"#Ang",val:x.target.h()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(R)!=-1)T=x.target.h();
if(["Md","hglM","sdwM"].indexOf(R)!=-1)T={BlnM:c_.Dm[x.target.h()]};if(R=="uglg"){T=x.target.h();c=!0}if(R=="PntT"){T={FrFl:fJ.stroke.g5[x.target.h()]};
c=!0}if(R=="Lald")T={type:"#Ang",val:x.target.h()[1]};if(R=="Type")T={GrdT:fJ.I.types[x.target.h()]};
if(R=="Styl")T={FStl:fJ.stroke.types[x.target.h()]};if(R=="GlwT")T={BETE:fJ.Iq.types[x.target.h()]};
if(R=="glwS")T={IGSr:fJ.Iq.aoo[x.target.h()]};if(R=="bvlS")T={BESl:fJ.O6.types[x.target.h()]};if(R=="bvlT")T={bvlT:fJ.O6.aqR[x.target.h()]};
if(R=="bvlD")T={BESs:["In","Out"][x.target.h()]};this.ar({n8:R,b:T});if(c){if(this.C5)this.update(null,this.Tw);
else{var g=this.parent,d=g.V1,U=this.GU,e=d.R[g.data.a].add.lmfx[fJ.YZ[U[0]]].v[U[1]].v;this.update(d,e)}}}};
c3.prototype.ar=function(x){if(this.Tw&&this.Tw[x.n8])this.Tw[x.n8].v=x.b;if(this.C5){this.c(new aA(v.E.p))}else{x.d="changeprop";
x.a=this.parent.data.a;x.iY=this.GU;var R=new aA(v.E.v,!0);R.data=x;R.f=D.Wi;R.ke=!0;this.c(R);this.c(new aA("afterchange",!0))}};
c3.prototype.h=function(){return JSON.parse(JSON.stringify(this.Tw))};c3.lo={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(fJ.RV),GrFl:["enab","Md","Opct"].concat(fJ.dc),patternFill:["enab","Md","Opct"].concat(fJ.lK),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(fJ.RV.concat(fJ.dc.concat(fJ.lK)))};
function bI(){bg.call(this,[11,6],"layerstyle");this.ap6=-1;this.data={};this.V1=null;this.Dn=null;this.Pr=[];
this.Hb=[];X.MQ(this.body,"flexrow");this.$V=X._("div","bordered");this.$V.setAttribute("style","min-width:13em;");
this.body.appendChild(this.$V);this.tR=X._("div","");this.tR.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.tR);this.HI=X._("div","form");this.HI.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.HI);this.AH=X.vV(this,this.HI);this.cg=new i_([12,87],!0,null,!0);this.cg.k("click",this.anw,this);
this.HI.appendChild(this.cg.n);this.Ta=new em;this.Ta.parent=this;this.Ta.k(v.E.p,this.ak_,this);this.HI.appendChild(this.Ta.n);
this.k("closebtn",this.zs,this);this.k("redrawall",this.ars,this)}bI.prototype=new bg;bI.prototype.Vd=function(){return!0};
bI.prototype.vi=function(){return!0};bI.prototype.fz=function(x,R,T,c,g){var d=this.po();if(d)d.fz(x,R,T,c,g)};
bI.prototype.gQ=function(x,R,T,c,g){var d=this.po();if(d)d.gQ(x,R,T,c,g)};bI.prototype.rR=function(x,R,T,c,g){var d=this.po();
if(d)d.rR(x,R,T,c,g)};bI.prototype.po=function(x){if(x==null)x=this.data.index;return x==null?null:x==0?this.Pr[0]:this.Hb[x[0]][x[1]]};
bI.prototype.ak_=function(x){var R=this.Ta.h();this.ar({d:"setstl",b:R.U1});this.ars(null)};bI.prototype.anw=function(x){var R=this.V1,T=this.data.a;
if(T==null)T=R.g[0];var c=this.V1.R[T],g=e5.az2(c),d=new aA(v.E.P,!0);d.data={d:v.H.pV,Ly:"add",vr:hc.dl,cs:[JSON.parse(JSON.stringify(g))]};
this.c(d)};bI.prototype.adM=function(x){this.data.index=x.currentTarget.GU;this.Kf(x.currentTarget.GU)};
bI.prototype.ars=function(x){this.Bq(this.V1,this.data)};bI.prototype.Kf=function(x,R){X.Ra(this.tR);
for(var z=0;z<this.Pr.length;z++)this.Pr[z].aqH();var T=this.po(x);this.tR.appendChild(T.aC3());if(R)T.qg();
var c=this.V1;if(c){var g=c.R[this.data.a];this.Pr[0].update(c,D.we.xG(c,g));var d=g.add.lmfx;if(d==null)return;
for(var z=0;z<fJ.order.length;z++){var U=d[fJ.YZ[z]].v;for(var e=0;e<U.length;e++)this.Hb[z][e].update(c,U[e].v)}}if(R)T.qg()};
bI.prototype.t=function(){bg.prototype.t.call(this);this.cg.t();this.Ta.t();this.AH.t();for(var z=0;
z<this.Pr.length;z++)this.Pr[z].t()};bI.prototype.Bq=function(x,R){var T=R.a==null;this.data.a=R.a;this.data.index=R.index;
R=this.data;this.V1=x;if(T)R.a=x.g.length==0?x.R.length-1:x.g[0];X.Ra(this.$V);var c=x.R[R.a].add.lmfx;
this.EB();this.Pr=[new c3("bops",!1,0)];this.Hb=[];for(var z=0;z<fJ.order.length;z++){this.Hb.push([]);
var g=c==null?[]:c[fJ.YZ[z]].v;for(var d=0;d<g.length;d++){var U=new c3(fJ.order[z],!1,[z,d]);this.Pr.push(U);
this.Hb[z].push(U)}if(g.length==0){var U=new c3(fJ.order[z],!1,[z,0]);this.Pr.push(U);this.Hb[z].push(U)}}this.t();
this.a4_(this.Dn,hc.cp);for(var z=0;z<this.Pr.length;z++){this.Pr[z].parent=this;this.Pr[z].a9T(this.$V);
this.Pr[z].k("showme",this.adM,this)}if(R.index==null||R.index==0||!T&&c[fJ.YZ[R.index[0]]].v.length==0){this.Kf(0)}else this.Kf(R.index,T);
this.k("afterchange",this.EB,this)};bI.prototype.EB=function(x){var R=this.V1,T=this.data.a;if(T==null)T=R.g[0];
var c=this.V1.R[T],g=e5.az2(c);this.Ta.T(g,R.add.Patt?R.add.Patt:[],R.er(),R.Oo())};bI.prototype.L4=function(x,R){this.Dn=x;
this.a4_(x,R);if(R==hc.dl||R==hc.cp){this.Ta.zB([x.YC,x.hP])}if(R==hc.my){}};bI.prototype.a4_=function(x,R){for(var z=0;
z<this.Pr.length;z++)this.Pr[z].L4(x,R)};bI.prototype.zs=function(x){this.ar({d:"cancel"})};bI.prototype.n4=function(x){this.ar({d:"confirm"});
this.close()};bI.prototype.ar=function(x){x.a=this.data.a;var R=new aA(v.E.v,!0);R.data=x;R.f=D.Wi;R.ke=!0;
this.c(R);this.EB()};bI.asH=function(){var x=function(R){if(R==null||R.g.length==0)return{r:!1};var T=R.R[R.g[0]];
return{r:T.add.lmfx!=null}};return{name:[11,6],NC:!0,sub:[{name:[5,1],r:x},{name:[5,2]},{name:[2,2],r:x}]}};
bI.anp=function(){return{sub:[{K:v.E.v,f:D.Wi,C:{d:"st_copy"}},{K:v.E.v,f:D.Wi,C:{d:"st_paste"}},{K:v.E.v,f:D.Wi,C:{d:"st_clear"}}]}};
bI.Vt=function(x){var R=[{name:[14,10],NC:!0}];for(var z=0;z<fJ.names.length;z++)R.push({name:fJ.names[z]});
if(x){R[R.length-1].NC=!0;R.push(bI.asH());R.push({name:[6,30,1],r:function(T){return{r:T!=null&&T.g.length!=0&&T.R[T.g[0]].fx()}}});
R.push({name:["VAR0 VAR1",[12,49],[9,1]],r:function(T){return{r:T!=null&&T.g.length!=0&&T.R[T.g[0]].add.lmfx!=null}}})}return R};
bI.Rh=function(x){var R=[{K:v.E.P,C:{d:v.H.i$,$k:"layerstyle"}}];for(var z=0;z<fJ.names.length;z++)R.push({K:v.E.P,C:{d:v.H.i$,$k:"layerstyle",index:[z,0]}});
if(x){R.push(bI.anp());R.push({K:v.E.P,C:{d:v.H.i$,$k:"scaleeffects",Ey:100,V8:{K:v.E.v,f:D.Wi,C:{d:"scaleeffects"}}}});
var T={classID:"Mk",null:bf.rX("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
R.push({K:v.E._M,C:{Sm:"make",M1:T}})}return R};bI.a3r=function(x){var R=[];if(x)R.push({name:[6,48,0,0],J4:!0},{name:[6,48,0,1],J4:!0},{name:[6,48,0,2],J4:!0,NC:!0});
for(var T in hD.names)R.push({name:hD.names[T],NC:hD.aAi.indexOf(T)!=-1,J4:gE[T]!=null});return R};bI.mi=function(x){var R=[];
if(x){R.push({K:v.E.v,f:D.HA,C:{d:"newfill",bh:0}});for(var z=1;z<3;z++)R.push({K:v.E._M,C:D._T.z9(z)})}for(var T in hD.names){var c=gm.GI(T);
if(c==null)c={};for(var g in hD.Zf)if(hD.Zf[g]==T)c.classID=g;var d={Sm:"make",M1:{classID:"Mk",null:bf.rX("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:c}}}}};
R.push({K:v.E._M,C:d})}return R};function fx(){bg.call(this,"Merge Channels","mergechannels");this.XN=null;
var x=X._("div","form");this.body.appendChild(x);this.rx=[];for(var z=0;z<3;z++){var R=new ad(hD.Q7[z],[]);
this.rx.push(R);x.appendChild(R.n);X.pz(x)}this.AH=X.vV(this,x)}fx.prototype=new bg;fx.prototype.t=function(){bg.prototype.t.call(this);
this.AH.t();for(var z=0;z<3;z++)this.rx[z].t()};fx.prototype.Bq=function(x,R,T,c){this.XN=T;var g=[];
for(var z=0;z<T.length;z++)g.push(T[z].name);for(var z=0;z<3;z++){var d=this.rx[z];d.GN(g);d.T(Math.min(z,T.length-1))}};
fx.prototype.n4=function(x){var R=this.XN,T=R[0],c=new aA(v.E._M,!0);c.data=c9.R2(T.m,T.e,T.De,"Merged Document","Wht",!1);
this.c(c);var g=[];for(var z=0;z<3;z++)g.push(R[this.rx[z].h()].Yr());var T=R[R.length-1],d=T.R[0],U=d.buffer;
for(var z=0;z<U.length;z+=4){U[z]=g[0][z];U[z+1]=g[1][z];U[z+2]=g[2][z]}d.W();T.W();this.close()};function jQ(){bg.call(this,[1,10],"script");
var x=X._("div","form");x.setAttribute("style","width:44em");this.body.appendChild(x);this.Dn=null;this.ra=[];
this.f_=[];this.ani;var R=this.vI=new i_([1,2],!1,null,!0);R.k("click",this.df,this);x.appendChild(R.n);
var T=new i_("JS Reference",!1,null,!0);T.k("click",this.arU,this);x.appendChild(T.n);x.appendChild(new kk("Demos:").n);
this.a4Z=[];var c=jQ.uj;for(var z=0;z<c.length;z++){var g=new i_(c[z].LC,!1,null,!0);this.a4Z.push(g);
x.appendChild(g.n);g.k("click",this.ab3,this)}this.BS=X._("textarea");X.Sc(this.BS);this.BS.setAttribute("rows",16);
this.BS.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");x.appendChild(this.BS);
var d=new i_("Run",!0,null,!0);d.k("click",this.n4,this);x.appendChild(d.n);this.zJ=X._("div");x.appendChild(this.zJ)}jQ.prototype=new bg;
jQ.prototype.t=function(){this.vI.t()};jQ.prototype.df=function(){var x=this.ani;if(x==null)x="script.jsx";
var R=new aA(v.E.P,!0);R.data={d:v.H.i$,$k:"namewindow",Ey:x.slice(0,x.length-4),BJ:this.aq_.bind(this)};
this.c(R)};jQ.prototype.aq_=function(x){var R=this.BS.value,T=n.SF(R),c=new aA(v.E.P,!0);c.data={d:v.H.m5,$X:T.buffer,QP:x+".jsx",aAe:!0};
this.c(c)};jQ.prototype.ajJ=function(x){var z=this.ra.indexOf(x.target),R=this.ani=this.f_[z],T=this.Dn.k3.Bv[R],c=new Uint8Array(T),g=n.KW(c,0,c.length);
this.BS.value=g};jQ.prototype.Bq=function(x,R,T){this.BS.value=jQ.uj[0].ZT;this.a3F()};jQ.prototype.a3F=function(){var x=this.Dn.k3,R=this.zJ;
X.Ra(R);this.ra=[];this.f_=[];R.textContent="Saved scripts: ";for(var T in x.Bv){if(T.endsWith(".jsx")){var c=new i_(T,!1,null,!0);
this.ra.push(c);this.f_.push(T);c.k("click",this.ajJ,this);R.appendChild(c.n)}}};jQ.prototype.L4=function(x,R){this.Dn=x;
if(R==hc.Ii)this.a3F()};jQ.prototype.arU=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.ub,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.c(R)};jQ.prototype.n4=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.DQ,FC:this.BS.value};this.c(R)};
jQ.prototype.ab3=function(x){var R=this.a4Z.indexOf(x.currentTarget);this.BS.value=jQ.uj[R].ZT};jQ.uj=[{LC:"Hello",ZT:"\nalert(\"Hello Photopea!\");\n"},{LC:"Process Layers",ZT:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{LC:"Clone Layers",ZT:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function fn(){bg.call(this,[11,7],"newproject");this.data=null;this.XN=null;this.rB=0;var x=X._("div","flexrow");
this.B$=x;this.body.appendChild(x);var R=X._("div","form");this.GT=R;x.appendChild(R);this.VI=new kD([12,48],null,10);
R.appendChild(this.VI.n);X.pz(R);this.ep=new aG(!0,null,null,null,!0);this.ep.T(new cI(1280,720),72);
this.ep.afT(!0,!0);this.ep.k(v.E.p,this.iI,this);R.appendChild(this.ep.n);this.cN=new fY;this.cN.parent=this;
R.appendChild(this.cN.n);this.c1=new i_("\u02C5",null,[0,14],!0);this.c1.k("click",this.kB,this);R.appendChild(this.c1.n);
var T=this.a58=X._("span");R.appendChild(T);T.style.display="none";this.ab6=new ad([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
T.appendChild(this.ab6.n);this.Nv=new kv([1,16,1]);T.appendChild(this.Nv.n);this.AH=new i_([12,49],!0,null,!0);
this.AH.k("click",this.n4,this);R.appendChild(this.AH.n);var c=fn.Cb,g=[];for(var z=0;z<c.length;z++)g.push(c[z].name);
this.Mm=new cZ(null,g);this.Mm.k(v.E.p,this.a37,this);R.appendChild(this.Mm.n);this.Mm.n.style["margin-top"]="1em";
this.TA=new dY(!0);this.TA.k(v.E.p,this.ay2,this);R.appendChild(this.TA.n);this.a37();this._E=new es;
this._E.parent=this;this._E.n.setAttribute("style","margin-left:1em");this._E.k("tempready",this.ad$,this)}fn.prototype=new bg;
fn.prototype.kB=function(x){var R=this.a58,T=R.style.display!="none";R.style.display=T?"none":"";this.c1.W7(T?"\u02C5":"\u02C4");
this.s7(this.KQ,this.kh)};fn.prototype.L4=function(x,R){this._E.L4(x)};fn.prototype.rH=function(x,R){return new cI(Math.max(0,Math.min(70,(x-690)/2)),x>R?Math.max(0,Math.min(50,(R-400)/2)):0)};
fn.prototype.s7=function(x,R){this.KQ=x;this.kh=R;this.GT.setAttribute("style","width:"+Math.min(x-24,338)+"px");
this.TA.n.style.height=R-248-(this.a58.style.display=="none"?0:28)+"px";var T=this._E.n,c=T.parentNode;
if(x<500){if(c!=null)this.B$.removeChild(T)}else{if(c==null)this.B$.appendChild(T);this._E.s7(x-378,R-28)}};
fn.prototype.iI=function(){this._E.T(this.ep.h())};fn.prototype.ay2=function(x){var R=this.TA.h()[0],T=fn.Cb[this.Mm.h()].lV[R],c=T[4];
if(c==0)c=72;var g=T[1],d=T[2],U=["px","%","mm","in"].indexOf(T[3]),e=[1,1,25.4/c,1/c][U];g/=e;d/=e;
this.ep.T(new cI(Math.round(g),Math.round(d)),c);this.ep.af3(U);this.iI();if(Date.now()-this.rB<300)this.n4();
this.rB=Date.now()};fn.prototype.a37=function(x){var R=fn.Cb[this.Mm.h()].lV,T=[],c=[],g=Math.round(106*X.mM()),d=Math.round(106*X.mM()),U=0;
for(var z=0;z<R.length;z++)U=Math.max(U,R[z][1],R[z][2]);for(var z=0;z<R.length;z++){var e=R[z],N=e[1]+" x "+e[2]+" "+e[3];
if(e[3]=="in")N=(e[1]*25.4).toFixed(0)+" x "+(e[2]*25.4).toFixed(0)+" mm";if(e[3]=="mm")N=(e[1]/25.4).toFixed(1)+" x "+(e[2]/25.4).toFixed(1)+" in";
if(e[4])N=N+" @ "+e[4]+" ppi";c.push(N);T.push(fn.N4(e,g,d,U))}this.TA.j7(T,c,g,d)};fn.N4=function(x,R,T,c){var g=X._("canvas",""),d=g.getContext("2d");
g.width=R;g.height=T;var U=Math.round(R/8),e=Math.floor(11*X.mM()),N=x[1],l=x[2];d.fillStyle="#000000";
d.font=Math.round(e*.9)+"px \"Open Sans\", Sans-Serif";var J=N+" x "+l+" "+x[3],w=d.measureText(J);d.fillText(J,Math.round((R-w.width)/2),T-Math.round(U/2));
if(x[0]!=null){d.font="bold "+e+"px \"Open Sans\", Sans-Serif";var J=x[0],w=d.measureText(J);d.fillText(J,Math.round((R-w.width)/2),T-Math.round(U/2)-Math.round(e*1.3))}T-=Math.round(2.5*e);
var s=Math.min((R-U)/N,(T-U)/l);s*=.5+.5*(Math.max(N,l)/c);var o=(R-N*s)/2,V=(T-l*s)/2;d.strokeRect(Math.round(o)+.5,Math.round(V)+.5,Math.round(N*s),Math.round(l*s));
return g.toDataURL()};fn.prototype.t=function(){bg.prototype.t.call(this);this.ep.t();this.VI.t();this.cN.t();
this.AH.t();this.VI.T(go.get([11,7]));this.Mm.t();this.Nv.t();this.c1.t();this._E.t()};fn.prototype.n4=function(x){var R=this.ep.h(),T=R.x,c=R.y;
this.close();var g=this.cN.h(),d=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.ab6.h()],U=new aA(v.E._M,!0);
U.data=c9.R2(T,c,this.ep.TF(),this.VI.h(),["Wht","Blck","Trns","Clr"][g[0]],this.Nv.h(),g[1],d);this.c(U);
this.aq4()};fn.prototype.ad$=function(x){var R=x.data.V1;R.De=this.ep.TF();var T=new aA(v.E.P,!0);T.data={d:v.H.EO,V1:R};
this.c(T);this.close();this.aq4()};fn.prototype.aq4=function(){var x=this.XN[this.XN.length-1],R=this.data.a5_;
if(R)fG.Px(function(){var T=new XMLHttpRequest,c="https://www.googleapis.com/drive/v3/files?"+fG.tP();
T.open("POST",c,!0);T.setRequestHeader("Content-Type","application/json");T.addEventListener("load",function(g){var d=JSON.parse(g.target.response);
x.Y7={file:d,cb:"psd"};alert(x.name+" created in Google Drive")});T.send(JSON.stringify({name:x.name,a3z:[R]}))})};
fn.prototype.Bq=function(x,R,T,c){this.XN=T;if(x!=null&&x.u!=null){var g=new aP(0,0,x.m,x.e).yx(x.u.rect);
this.ep.T(new cI(g.m,g.e))}this.data=R;this.iI();if(X.Jm())hG.a4r(this.vX.bind(this))};fn.prototype.vX=function(x){if(x=="granted")hG.J$(this,this.dk.bind(this))};
fn.prototype.dk=function(x,R){this.ep.T(new cI(R.m,R.e))};fn.Cb=[{name:"Social",lV:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],lV:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],lV:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],lV:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],lV:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],lV:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",lV:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function fd(x,R,T){bg.call(this,R,"sel_"+x);this.d=x;var c=X._("div","form");this.body.appendChild(c);
this.VI=new i1(R,0,255,null,0,!1,!0);c.appendChild(this.VI.n);this.VI.T(1);var g=X._("span");g.textContent=T;
c.appendChild(g);X.pz(c);this.a5o=new kv("Apply at canvas bounds");if(x!="border")c.appendChild(this.a5o.n);
this.AH=X.vV(this,c)}fd.prototype=new bg;fd.prototype.pg=function(x,R){if(x==null)return;if(x.u==null)alert("No selection!");
return x.u!=null};fd.prototype.n4=function(x){var R=new aA(v.E._M,!0);R.data=D.Fs.yD(this.d,this.VI.h(),this.a5o.h());
R.ke=!0;this.c(R);this.close()};fd.prototype.t=function(){bg.prototype.t.call(this);this.AH.t();if(this.VI)this.VI.t()};
fd.prototype.Bq=function(x,R){this.VI.By()};function iU(x,R,T,c,g,d){bg.call(this,T,R);this.agj=d;this.Cp=g;
this.Cb=null;this.GT=X._("div","form");this.body.appendChild(this.GT);this.a0Q=X._("div");this.GT.appendChild(this.a0Q);
var U=500;if(c){var e=c.split(",");c=e[0];if(e[1])U=parseFloat(e[1])}this.VI=x==0?new kD(T,null,10):x==1?new h4(T,0,U,c,1):new kD(T,null,24,5);
this.VI.k(v.E.p,this.gv,this);this.GT.appendChild(this.VI.n);this.AH=X.vV(this,this.GT);this.k("closebtn",this.zs,this)}iU.prototype=new bg;
iU.prototype.rH=function(x,R){return new cI(Math.max(0,Math.min(150,(x-250)/2)),Math.max(0,Math.min(150,(R-120)/2)))};
iU.prototype.Vd=function(){return this.agj};iU.prototype.gv=function(x){var R=this.VI.h();if(this.Cp)this.nC(R)};
iU.prototype.zs=function(x){if(this.Cp)this.nC("cancel")};iU.prototype.n4=function(x){if(this.Cp)this.nC("confirm");
else this.nC(this.VI.h());this.close()};iU.prototype.nC=function(x){if(this.Cb.BJ)this.Cb.BJ(x);else if(this.Cb.V8){var R=this.Cb.V8,T=new aA(R.K,!0);
T.f=R.f;T.data=R.C;T.data.b=x;T.ke=!0;this.c(T)}};iU.prototype.t=function(){bg.prototype.t.call(this);
this.AH.t();if(this.VI)this.VI.t()};iU.prototype.Bq=function(x,R){this.Cb=R;this.VI.T(R.Ey);this.VI.By();
this.a0Q.innerHTML=R.aA0?R.aA0:"";this.gv(null)};function fB(){bg.call(this,[1,5],"open_from_url");this._i=null;
var x=X._("div","form");this.body.appendChild(x);this.vu=new kD("URL",null,22);x.appendChild(this.vu.n);
X.pz(x);this.HD=new cZ([21,0],[[21,2],[21,1]]);x.appendChild(this.HD.n);this.AH=X.vV(this,x)}fB.prototype=new bg;
fB.prototype.t=function(){bg.prototype.t.call(this);this.AH.t();this.HD.t()};fB.prototype.Bq=function(x,R,T){this.vu.By();
this._i=null;if(x&&T.indexOf(x)!=-1)this._i=T.indexOf(x)};fB.prototype.n4=function(x){var R=new aA(v.E.P,!0),T=this.vu.h();
R.data={d:v.H.Iu,vr:{url:T,Ru:!0,_i:this.HD.h()==1?this._i:null}};this.c(R);this.close()};function gF(){bg.call(this,[12,79],"preferences");
this.Dn=null;var x=X._("div","form");this.body.appendChild(x);this.lo=[new kv([8,2]),new dW,new kv([8,4]),new dW,new ad([12,80,3],[[12,93,3],[12,80,4]]),new h4([12,80,5],.02,100,null,2),new ad(null,u.A8.zK),new ad([12,80,6],u.A8.zK),new kv("Remind me to save"),new kv("Glass Menus"),new h4("Cursor Offset",0,200)];
for(var z=0;z<this.lo.length;z++){var R=this.lo[z];R.parent=this;R.k(v.E.p,this.kG,this);if(z==8)continue;
x.appendChild(R.n);if(z!=0&&z!=2&&z!=3&&z!=5)X.pz(x)}}gF.prototype=new bg;gF.prototype.t=function(){bg.prototype.t.call(this);
for(var z=0;z<this.lo.length;z++)this.lo[z].t()};gF.prototype.Bq=function(x,R,T){};gF.prototype.L4=function(x,R){this.Dn=x;
var T=x.j3;this.lo[0].T(T.CR);this.lo[1].M0(T.TM);this.lo[2].T(T.Fw);this.lo[3].M0(T.$T);this.lo[4].T(T.DX);
this.lo[5].T(T.xD);this.lo[6].T(T.GL);this.lo[7].T(T.Zg);this.lo[8].T(x.Om==1);var c=window.locStor.getItem("__glm");
this.lo[9].T(c=="1");this.lo[10].T(x.SL)};gF.prototype.kG=function(x){var R=this.lo;if(x.target==R[8])this.Dn.Om=1-this.Dn.Om;
var T=JSON.parse(JSON.stringify(this.Dn.j3));T.CR=R[0].h();T.TM=R[1].bz();T.Fw=R[2].h();T.$T=R[3].bz();
T.DX=R[4].h();T.xD=R[5].h();T.GL=R[6].h();T.Zg=R[7].h();window.locStor.setItem("__glm",R[9].h()?"1":"0");
this.Dn.SL=R[10].h();var c=new aA(v.E.P,!0);c.data={d:v.H.pV,vr:hc.WP,SN:T};this.c(c)};function dO(){bg.call(this,[11,8],"saveforweb");
this.a7m="";this.k("closebtn",function(){this.vs.oc()},this);this.V1=null;this.oV=null;this.aAp=null;
this.Dn=null;X.MQ(this.body,"flexrow");this.body.style.padding="0";var x=X._("div");x.setAttribute("style","position:relative;");
var R=X._("div");this.body.appendChild(x);this.body.appendChild(R);this.g$=X._("div","imgcont");x.appendChild(this.g$);
this.vs=new bx;this.vs.s7(512,512);var T=this.bx=X._("video");T.setAttribute("controls","");T.setAttribute("preload","auto");
T.setAttribute("loop","");this.aO=X._("div");this.aO.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
x.appendChild(this.aO);var c=this.GT=X._("div","form cell");c.setAttribute("style","width:195px; padding:9px 13px;");
R.appendChild(c);this.gO=new kD([12,48],null,7.6);this.gO.Nl();c.appendChild(this.gO.n);var g=dp.zG();
g[g.indexOf("WEBP")]="webP";this._n=new ad([12,50],g);this._n.n.style.marginRight="0";this._n.Nl();c.appendChild(this._n.n);
this._n.k(v.E.p,this.OD,this);X.pz(c);this.ep=new aG(!0,!0,!1,!0);this.ep.Nl();this.ep.k(v.E.p,this.OD,this);
this.ep.G8.n.style.paddingBottom="8px";c.appendChild(this.ep.n);this.bi=new gy;this.bi.k(v.E.p,this.OD,this);
c.appendChild(this.bi.n);this.sh=new i_([1,2],!0,null,!0);this.sh.k("click",this.n4,this);c.appendChild(this.sh.n)}dO.prototype=new bg;
dO.prototype.pg=function(x,R){return x!=null};dO.prototype.t=function(){bg.prototype.t.call(this);this.ep.t();
this.gO.t();this._n.t();this.bi.t();this.sh.t()};dO.prototype.n4=function(x){var R=this.gO.h().trim(),T=dp.zG()[this._n.h()],c=T=="JPG"||T=="PNG"||T=="GIF"||T=="SVG",g=dp.Ix(T),d="."+T.toLowerCase(),U=this.oV,e=R+d,N=this.V1,l=N.co,J=this.bi.h();
if(N.xA())J.pop();if(l.length!=0&&c&&J.pop()){var w="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",s=[],o={},V=new aP(0,0,N.m,N.e),a=N.Yr();
for(var z=0;z<l.length;z++)s.push(D.D3.ha(l,z));s.reverse();var O=u.rect.a6N([0,0,N.m,N.e],s);for(var z=0;
z<O.length;z++){var S=O[z],L=new aP(S[0],S[1],S[2]-S[0],S[3]-S[1]),Q=S.length==5?l[S[4]].v:null,b=u.B(L.Z()*4);
u.yU(a,V,b,L);var Z="img/img"+(z+1)+d;o[Z]=new Uint8Array(g.LA([[b.buffer,0,N.De,N.zw]],L.m,L.e,J));
w+="<div style=\"background-image:url('"+Z+"'); left:"+L.x+"px; top:"+L.y+"px; width:"+L.m+"px; height:"+L.e+"px\">";
if(Q&&Q.url.v!="")w+="\n\t<a href=\""+Q.url.v+"\" target=\""+Q.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
w+="</div>\n"}w+="</body>\n</html>\n";var I=u.B(Math.round(w.length*1.5)),y=n.$D(w,I,0);o["index.html"]=I.slice(0,y);
U=UZIP.encode(o);e=R+".zip"}else if(N.add.artd&&N.add.artd.Cnt.v>1&&c&&J.pop()){var o={},V=new aP(0,0,N.m,N.e),a=N.Yr(),r=N.root.children;
for(var z=0;z<r.length;z++){var h=r[z].a,K;if(h.add.artb==null||!h.Pm())continue;var k=h.Ie();if(T=="SVG")K=new Uint8Array(g.LA(N,k.m,k.e,J,this.Dn,z));
else{var H=u.B(k.Z()*4);u.yU(a,V,H,k);K=new Uint8Array(g.LA([[H.buffer,0,N.De,N.zw]],k.m,k.e,J))}o[h.getName()+d]=K}U=UZIP.encode(o);
e=R+".zip"}var p=function(){if(N.Z0)hG.Or("act=1&id="+N.Z0);this.vs.oc();this.close();var A=new aA(v.E.P,!0);
A.data={d:v.H._1,data:U,name:e};this.c(A)}.bind(this);if(!this.Dn.yB||i3.T9()){p();return}if(gi.$d==0&&Math.random()<.5){gi.atd(p);
return}var f=gi.Qr()!=0;p();var A=new aA(v.E.P,!0),_=fl.Dk("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),W=fl.Dk(";QJXQ_*II9"),Y=function(){A.data={d:v.H.i$,$k:"account"};
this.c(A)}.bind(this);if(f){_=fl.Dk("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
Y=function(){};W=null}A.data={d:v.H.i$,$k:fl.q5,b:_,BJ:Y,aoO:W};if(Math.random()<.1||f)this.c(A)};dO.prototype.Bq=function(x,R){if(R.iw!=null)this._n.T(R.iw);
this.V1=x;var T=this.V1.name,c=T.lastIndexOf("."),T=c==-1?T:T.slice(0,c);this.gO.T(T);var g=x.m+","+x.e;
if(g!=this.a7m){this.a7m=g;this.ep.T(new cI(x.m,x.e),x.De)}this.bi.ayI();if(R.aks){this.ep.af3(3);this.bi.j1.PDF[2].Hl.T(!0)}this.OD(null,!0)};
dO.prototype.aau=function(x,R){return x<R&&x<660};dO.prototype.rH=function(x,R){return this.aau(x,R)?new cI(0,0):new cI(Math.max(0,Math.min(150,(x-770)/2)),Math.max(0,Math.min(150,(R-590)/2)))};
dO.prototype.s7=function(x,R,T){this.KQ=x;this.kh=R;if(this.V1==null)return;var c=this.sh.n,g=this.aau(x,R),d,U,s="<span style=\"width:",o="display:inline-block; text-align:right;\">";
if(g){var e=this.GT.getBoundingClientRect().height;d=x;U=R-Math.max(e,252);X.ia(this.body,"flexrow")}else{d=Math.min(512,x-195-2*13);
U=Math.min(512,R-24);X.MQ(this.body,"flexrow")}var N=g?x-2*13:195;this.GT.style.width=N+"px";this.gO.D8.style.width=N-77+"px";
this.ep.s7(N);var l=dp.zG()[this._n.h()],J=dp.Ix(l);if(J.y0||J.Fk)this.g$.firstChild.setAttribute("style","display:block; width:"+d+"px; height:"+U+"px;");
else{this.vs.s7(d,U);this.bx.width=d;this.bx.height=U}var w=this.oV.byteLength,V=s+64+"px;"+o+dO.uE(w)+"</span>";
if(d>400)V+=s+90+"px; opacity:"+.5+";"+o+w.toLocaleString()+" B</span>";this.aO.innerHTML=V;if(T)setTimeout(function(){this.s7(this.KQ,this.kh)}.bind(this),20)};
dO.uE=function(x){var R=x.toString(2),T=0;while(T+10<R.length)T+=10;var c=(x/Math.pow(2,T)).toFixed(1);
if(c.endsWith(".0"))c=c.slice(0,-2);var g="B KB MB GB TB PB".split(" ")[Math.floor(T/10)];return c+" "+g};
dO.prototype.L4=function(x,R){this.Dn=x};dO.prototype.OD=async function(x,R){var T=this.V1,c=this.ep.h(),g=c.x,d=c.y,U=this._n.h(),e=dp.zG()[U],N=dp.oQ(T)[0].length,l=["GIF","PNG","WEBP","MP4"].indexOf(e)!=-1&&N>1,S="";
if(l&&e!="MP4"&&R&&(N>4&&g*d>1024*1024||g*d*N>800*800*50)){var J=1;while(Math.max(g>>>J,d>>>J)>800)J++;
var w=window.confirm("Your animation is large ("+g+" x "+d+" px). Press \"OK\" to scale it to "+(100>>>J)+"%. Press \"Cancel\" to keep the size.");
if(w){this.ep.T(new cI(g>>>J,d>>>J),null,!0);g=g>>>J;d=d>>>J}}var s=T.add.artd,o=s!=null&&s.Cnt.v>1,V=T.xA();
this.bi.V_(e,l,T.co.length!=0,o,V!=null);var a=window.locStor.getItem("sfwPrms");if(a==null)a={};else a=JSON.parse(a);
var O=this.bi.h();if(x&&x.target==this.bi){a[e]=O;window.locStor.setItem("sfwPrms",JSON.stringify(a))}else if(a[e]){this.bi.T(a[e],!0);
O=this.bi.h()}this.oV=await dp.KA(T,e,g,d,O,this.Dn);if(this.oV==null){this.V1=null;return}X.Ra(this.g$);
this.vs.oc();var L=dp.Ix(e);if(L.Fk){this.g$.innerHTML="<div></div>"}else if(L.y0){var Q=g,b=d,Z;if(e=="PDF"||e=="AI"){Z=URL.createObjectURL(new Blob([this.oV],{type:"application/pdf"}))}else{Z=URL.createObjectURL(new Blob([this.oV],{type:"image/svg+xml"}))}this.g$.innerHTML="<iframe src=\""+Z+"\"></iframe>"}else if(e=="MP4"){var Z=URL.createObjectURL(new Blob([this.oV]));
this.bx.setAttribute("src",Z);this.g$.appendChild(this.bx)}else{var I=this.aAp=L.x3(this.oV),y=I[0],r=y.d8,Q=r.m,b=r.e;
if(y.Ni){var h=ICC.R(y.Ni.buffer),k=17,K=ICC.U.sampleLUT(h,k);for(var z=0;z<I.length;z++){var H=new Uint8Array(I[z].data);
ICC.U.applyLUT(K,k,H,H)}}this.vs.T(I,I.length>1?O[O.length-3]:0);this.g$.appendChild(this.vs.n);S="background: rgba(0,0,0,0);"}this.g$.setAttribute("style","display:block; "+(L.Fk?"background:rgba(0,0,0,0);":"background-size:"+16/X.mM()+"px;")+S);
this.s7(this.KQ,this.kh,R)};function dI(){bg.call(this,[11,13],"shortcuts");this.Dn=null;var x=this.B$=X._("div","scrollable");
x.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(x);
this.ik()}dI.prototype=new bg;dI.prototype.t=function(){bg.prototype.t.call(this);this.ik()};dI.prototype.L4=function(x,R){this.Dn=x};
dI.prototype.Bq=function(x,R,T,c){if(X._b(this.n))this.ik()};dI.prototype.ik=function(){var x="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",R="",T=fZ,c=T.Gc,g=T.xg,d=T.ng;
R+="<h2 style=\"margin-top:0;\">Main Menu</h2>";R+=x;R+=this.TP([[0,0],"---",[1,0],[c,T.hw],[1,2],[c,T.wA],[1,3],[g,c,T.wA],[1,8],[d,g,c,T.wA],[0,1],"---",[2,0],[g,c,T.Y6],[2,1],[c,T.Y6],[5,0],[c,T.DB],[5,1],[c,T.Fa],[5,2],[c,T.Af],[2,2],"Delete",[2,3],[d,T.ve],[10,16],[d,c,T.um],[12,79],[c,T.kw],[3],"---",[4,1],[c,T.h8],[4,2],[c,T.l2],[4,5],[c,T.Vi],[4,11],[c,T.Nk],[0,3],"---",[6,13],[g,c,T.BL],[6,49,0],[c,T._t],[6,6,0],[d,c,T.D5],[6,9],[c,T.D5],[6,10],[c,T.E],[0,5],"---",[7,0],[c,T.H],[7,1],[c,T.uX],[7,2],[g,c,T.Nk],[0,7],"---",[8,0],[c,T.bW],[8,1],[c,T.d2],[8,3],[c,T.sK],[8,2],[c,T.YV],[8,4],[c,T.Ej],[11,13],"?"]);
R+="</div>";R+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";R+=x;R+=this.TP(["Vertical scroll","Wheel","Horizontal scroll",[c,"Wheel"],"Zooming",[d,"Wheel"]]);
R+="</div>";R+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
R+=x;R+=this.TP([[10,11],[c],[10,7],"Space",[10,17],[c,T.Ed]]);R+="</div>";R+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
R+=x;var U=[],e=this.Dn;if(e==null)return;var N=e.q;for(var z=0;z<N.ul.length;z++){var l=N.ul[z],J=N.keys[z];
for(var w=0;w<l.length;w++)U.push(l[w].f.name,J?J.LC:null)}U=U.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[c,T.JP]]);
R+=this.TP(U);R+="</div>";this.B$.innerHTML=R};dI.prototype.TP=function(x){var R="",T=!0;for(var z=0;
z<x.length;z+=2){var c=x[z],g=fZ.Z6(x[z+1]);if(g==null){T=!1;continue}var d=X.Xl(go.get(c));if(g=="---"){if(!T)R+="<br/>";
R+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+d+"</div>"}else R+="<div>"+d+" <span style=\"float:right; font-weight:bold;\">"+g+"</span> </div>";
T=!1}return R};function g3(){bg.call(this,[8,11,1],"soptions");this.ne=null;var x=X._("div","form");
x.style.width="20em";this.body.appendChild(x);this.lc={Nm:[12,48],url:"URL",null:[12,71]};this.lo={};
for(var R in this.lc){var T=new kD(this.lc[R],null,15);this.lo[R]=T;x.appendChild(T.n)}this.akM=new kk([12,14,0]);
x.appendChild(this.akM.n);this.VB=new d6(0,!0);x.appendChild(this.VB.n);this.AH=X.vV(this,x)}g3.prototype=new bg;
g3.prototype.Bq=function(x,R,T){var c=R.b;this.ne=JSON.stringify(c);for(var g in this.lc){if(c[g])this.lo[g].T(c[g].v)}var d=c.bounds.v,U=d.Left.v,e=d.Top.v;
this.VB.T([U,e,d.Rght.v-U,d.Btom.v-e])};g3.prototype.n4=function(x){var R=JSON.parse(this.ne);for(var T in this.lc){var c=this.lo[T].h();
R[T]={t:"TEXT",v:c}}var g=this.VB.h();console.log(g);var d=R.bounds.v,U=g[0],e=g[1];d.Left.v=U;d.Top.v=e;
d.Rght.v=U+g[2];d.Btom.v=e+g[3];var N=new aA(v.E.v,!0);N.f=D.T4;N.data=R;N.ke=!0;this.c(N);this.close()};
g3.prototype.t=function(){bg.prototype.t.call(this);this.AH.t();this.akM.t();this.VB.t()};function b3(){bg.call(this,[2,3],"fill");
this.Dn=null;this._c=null;var x=X._("div","form padded");x.style.width="22em";this.body.appendChild(x);
this.Rd="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.Rj=new ad([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.Rj.k(v.E.p,this.aCf,this);x.appendChild(this.Rj.n);this.g$=X._("span");x.appendChild(this.g$);this.dQ=new dW;
this.dQ.parent=this;this.dQ.M0(0);this.YF=new h_;this.YF.parent=this;this.Bo=new ad([12,19,0],c_.PZ,c_.zh);
x.appendChild(this.Bo.n);this.R5=new h4([12,0],0,100,"%",0,!1);this.R5.T(100);x.appendChild(this.R5.n);
this.iH=new kv([13,5]);this.iH.T(!1);x.appendChild(this.iH.n);this.AH=X.vV(this,this.body)}b3.prototype=new bg;
b3.prototype.pg=function(x,R){return x!=null};b3.prototype.Vd=function(){return!0};b3.prototype.aCf=function(){var x=this.Rj.h(),R=this.dQ.n,T=this.YF.n,c=this.g$;
if(x==2)c.appendChild(R);else if(c.contains(R))c.removeChild(R);if(x==7)c.appendChild(T);else if(c.contains(T))c.removeChild(T)};
b3.prototype.t=function(){bg.prototype.t.call(this);this.Rj.t();this.Bo.t();this.R5.t();this.iH.t();
this.AH.t()};b3.prototype.n4=function(x){if(!this._c.nD())return;var R=new aA(v.E._M,!0),T=this.Rj.h();
R.data=D.AN.z9(this.Rd[T],c_.h$[this.Bo.h()],this.R5.h()/100,this.dQ.h(),this.iH.h(),this.YF.h());this.close();
this.c(R)};b3.prototype.Bq=function(x,R){this._c=x};b3.prototype.L4=function(x,R){this.Dn=x;if(R==hc.cp||R==hc.n6){this.YF.zB(x.hP);
this.YF.T({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function fX(){bg.call(this,[14,9],"stroke");this.Dn=null;this.GT=X._("div","form");this.GT.setAttribute("style","width:24em");
this.body.appendChild(this.GT);this.IG=new c3("FrFX",!0);this.IG.parent=this;var x=["Sz","Styl","Md","Opct"].concat(fJ.RV);
for(var z=0;z<x.length;z++){var R=this.IG.px[x[z]].n;this.GT.appendChild(R)}this.Nb=!1;this.AH=X.vV(this,this.body)}fX.prototype=new bg;
fX.prototype.pg=function(x,R){return x!=null};fX.prototype.Vd=function(){return!0};fX.prototype.t=function(){bg.prototype.t.call(this);
this.AH.t();this.IG.t()};fX.prototype.n4=function(x){var R=new aA(v.E.v,!0);R.f=D.Of;R.data={d:"stroke",ajj:this.IG.h()};
this.close();this.c(R)};fX.prototype.Bq=function(x,R){if(!this.Nb){var T=fJ.Ck[fJ.order.indexOf("FrFX")];
T=JSON.parse(T);this.IG.update(x,T);this.Nb=!0}var T=this.IG.h(),c=this.Dn.gR;T.Clr.v=u.I.SE({o:c>>16&255,A:c>>8&255,J:c&255});
this.IG.update(x,T)};fX.prototype.L4=function(x,R){this.Dn=x};function eu(){bg.call(this,[11,9],"textwarp");
this.lo=new gK;this.lo.k(v.E.p,this.Oc,this);this.lo.parent=this;this.GT=X._("div","form");this.GT.setAttribute("style","width:20em");
this.body.appendChild(this.GT);this.GT.appendChild(this.lo.aC.n);this.GT.appendChild(this.lo.NX.n);this.GT.appendChild(this.lo.s_.n);
this.GT.appendChild(this.lo.Cj.n);this.GT.appendChild(this.lo.Ad.n);this.AH=X.vV(this,this.GT);this.k("closebtn",this.zs,this)}eu.prototype=new bg;
eu.prototype.Vd=function(){return!0};eu.prototype.t=function(){bg.prototype.t.call(this);this.AH.t();
this.lo.t()};eu.prototype.Oc=function(x){var R=this.lo.h();this.nC({d:"warp",zb:R})};eu.prototype.nC=function(x){var R=new aA(v.E.v,!0);
R.f=D.kY;R.data=x;R.ke=!0;this.c(R)};eu.prototype.zs=function(x){this.nC({d:"warpCancel"})};eu.prototype.n4=function(x){this.nC({d:"warpConfirm"});
this.close()};eu.prototype.Bq=function(x,R){var T=x.R[x.g[0]];this.lo.T(T.add.TySh.aS)};function f$(){bg.call(this,[11,12,0],"trim");
var x=this.GT=X._("div","form");this.GT.setAttribute("style","width:22em");this.body.appendChild(this.GT);
var R=new kk("Color To Trim:");x.appendChild(R.n);this.V6=new ii(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.V6.T([!0]);this.GT.appendChild(this.V6.n);var R=new kk("Sides:");x.appendChild(R.n);this.lT=new ii(null,["Top","Left","Bottom","Right"]);
this.lT.T([!0,!0,!0,!0]);this.GT.appendChild(this.lT.n);this.AH=X.vV(this,this.body)}f$.prototype=new bg;
f$.prototype.pg=function(x,R){return x!=null};f$.prototype.Vd=function(){return!0};f$.prototype.t=function(){bg.prototype.t.call(this);
this.V6.t();this.lT.t();this.AH.t()};f$.prototype.n4=function(x){var R=this.V6.h().indexOf(!0),T=this.lT.h(),c=new aA(v.E._M,!0);
c.data=D._x.HY(R,T);this.close();this.c(c)};function hB(){bg.call(this,"Raw Photopea","rawpea");this.Rm=null;
this.cW=null;this.body.style.padding="0";var x=this.qA=new gE["Adobe Camera Raw Filter"](!0),R="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(x.n);this.AH=new i_([1,0],!0,null,!0);this.AH.k("click",this.n4,this);this.Yo=new i_(R+" JPG",!0,null,!0);
this.Yo.k("click",this.aaB,this);this.Yo.n.style.marginTop="6px";x.Df(this.AH.n);x.Df(this.Yo.n)}hB.prototype=new bg;
hB.prototype.rH=function(){return new cI(0,0)};hB.prototype.s7=function(x,R){this.qA.s7(x,R)};hB.prototype.t=function(){bg.prototype.t.call(this);
this.qA.t()};hB.prototype.aaB=function(x){var R=this.Rm,T=this.cW,c=dp.Ix("JPG").LA([[this.qA.h(!0).buffer]],T.S1,T.rD,[85]),g=new aA(v.E.P,!0);
g.data={d:v.H._1,data:c,name:"photo.jpg"};this.c(g)};hB.prototype.n4=function(x){var R=this.Rm,T=this.cW,c=aZ.rM(R),R={d8:new aP(0,0,T.S1,T.rD),data:this.qA.h(!0).buffer,zw:c},g=dp.oD("Raw Photo",[R]),d=new aA(v.E.P,!0);
d.data={d:v.H.EO,V1:g};this.c(d);this.KR();this.close()};hB.prototype.KR=function(){this.Rm=null;this.cW=null;
this.qA.a76()};hB.prototype.Bq=function(x,R,T,c){this.Rm=R.fR;var g=this.cW=u.raw.apR(this.Rm),d=u.raw.aBH(R.fR),U=co.a9o(d);
u.raw.Cw(g.z6,g.z6,R.fR,[U.Ic,U.kg]);var e=gm.GI("Adobe Camera Raw Filter");this.qA.T(e,g.z6,new aP(0,0,g.S1,g.rD))};
function hY(x){bg.call(this,x?[11,11,0]:[11,11,1],x?"vbitmap":"rcolors");this.Cb=null;this.Rx=null;this.H4=null;
this.vG=null;this.TT=null;this.a8t=null;this.Lh=null;this.rx="";this.FU=x;this.hx=this.Hm.bind(this);
this.tw=!1;this.body.style.padding="0";this.GT=X._("div","form hbar padded");this.body.appendChild(this.GT);
var R=this.HO={cnum:new i1([12,82],2,50,null),nois:new kv([12,81]),mode:new ad(null,["Cartoon","Photo"]),segm:new kv("Segmentize"),poly:new kv("Polygon"),merg:new kv("Merge colors"),polE:new i1("Roughness",2,30,null),dthr:new kv([12,23,3]),ok:X.vV(this,null,!1)},d=16;
for(var T in R){var c=R[T];c.parent=this;if(T!="ok")c.k(v.E.p,this.Hm,this)}var g=this.Vh=X._("div","flexrow");
this.body.appendChild(g);g.setAttribute("style","background-color:var(--bg-canvas)");this.xP=new bx;
this.xP.k("viewchange",this.iD,this);this._C=new bx;this.V=X._("canvas");this.V.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.xv=this.V.getContext("2d");var U=u.B(16*16*4);u.P8(U,d,d,8);this.vN=u.scale.Ms(U,d,d);this.xP.ac5(this.V);
this.xP.M9(this._C);this._C.M9(this.xP);g.appendChild(this.xP.n);if(x)g.appendChild(this.V);else g.appendChild(this._C.n)}hY.prototype=new bg;
hY.prototype.rH=function(){return new cI(0,0)};hY.prototype.Vd=function(){return!0};hY.prototype.s7=function(x,R){this.KQ=x;
this.kh=R;R=R-44;if(x<600)R-=29;if(this.Cb==null)return;var T=this.Cb.d8,c=g9.ahW(x,R,T.m,T.e);if(c==1)R-=3;
if(c==0){x=Math.floor(x/2);X.MQ(this.Vh,"flexrow")}else{R=Math.floor(R/2);X.ia(this.Vh,"flexrow")}X.ja(this.V,x,R);
this.xP.s7(x,R);if(this.FU)this.iD();else this._C.s7(x,R)};hY.prototype.Rw=function(x,R,T,c){this.xP.Rw(c)};
hY.prototype.t=function(){bg.prototype.t.call(this);for(var x in this.HO)this.HO[x].t()};hY.prototype.Bq=function(x,R){this.Lh=x;
this.TT=null;var T=x.R[x.g[0]],c=u.kV.a77(T.buffer.buffer,T.rect.m,T.rect.e).aCM,g=c/((T.rect.m-2)*(T.rect.e-2)),d=this.HO;
d.cnum.T(20);d.nois.T(g<.75);d.mode.T(g<.75?1:0);d.segm.T(!1);d.poly.T(!1);d.merg.T(!0);d.polE.T(1);
d.dthr.T(!1);var U=T.rect.clone();U.x=U.y=0;this.Cb={d8:U,data:T.buffer.buffer.slice(0)};this.Rx=null;
this.s7(this.KQ,this.kh);this.xP.T([this.Cb]);this.xP.cB();this.tw=!0;setTimeout(this.hx,20)};hY.prototype.Hm=function(){var x=!0,R=Date.now(),T=this.Cb,c=this.HO,g=c.cnum.h(),d=c.nois.h(),U=c.mode.h(),e=c.segm.h(),N=c.poly.h(),l=c.merg.h(),J=c.polE.h(),h=null;
if(U==0)e=N=!1;var w=c.dthr.h(),s=["cnum","nois","mode"];if(U==1){s.push("segm");if(this.FU){s.push("poly");
if(N)s.push("polE")}}if(this.FU)s.push("merg");else s.push("dthr");s.push("ok");X.Ra(this.GT);for(var z=0;
z<s.length;z++)this.GT.appendChild(c[s[z]].n);if(x)console.log("---------------------------------------");
var o=d||e,V=d+","+e;if(o&&(this.Rx==null||this.rx!=V)){this.rx=V;var a=new Uint8Array(T.data),O=T.d8.m,S=T.d8.e;
if(d){if(this.TT==null){this.TT=a.slice(0);u.np.l6=35;u.np.Is(this.TT,this.TT,O,S,15,1);if(x){console.log("denoise",Date.now()-R);
R=Date.now()}}a=this.TT.slice(0)}else a=a.slice(0);if(e){var L=u.kV.SV(a,O,S,40,10),Q=L.kw,b=new Uint8Array(Q*4);
for(var z=0;z<Q;z++){var Z=z*4,I=z*6,y=1/L.tp[I+5];b[Z]=L.tp[I]*y;b[Z+1]=L.tp[I+1]*y;b[Z+2]=L.tp[I+2]*y}for(var z=0;
z<a.length;z+=4){var r=L.Pg[z>>>2]*4;a[z]=b[r];a[z+1]=b[r+1];a[z+2]=b[r+2]}if(x){console.log("segm",Date.now()-R);
R=Date.now()}}this.Rx={d8:T.d8.clone(),data:a.buffer}}if(o)T=this.Rx;var a=new Uint8Array(T.data),O=T.d8.m,S=T.d8.e;
for(var z=0;z<a.length;z+=4){if(a[z+3]<10)a[z]=a[z+1]=a[z+2]=a[z+3]=0}if(U==0){h=u.kV.alp(a,O,S,g,o?.1:2e-4);
if(x){console.log("quantize",Date.now()-R);R=Date.now()}}if(U!=0||h&&h.Q0.length<2){h=c2.abq(a.buffer,g,O,S)}if(this.FU){var k=h.Pg.slice(0);
for(var z=0;z<k.length;z++)k[z]++;var K=new Uint8Array((O+2)*(S+2));u.gN(k,new aP(1,1,O,S),K,new aP(0,0,O+2,S+2));
if(!N){var H=Math.round((O+2)*(S+2)/1e4),p=bd.WU(K.slice(0),O+2,S+2,Math.min(12,H)),f=bd.JR(p);if(x){console.log("trace smooth",Date.now()-R);
R=Date.now()}}else{var f=u.M.arI(K,O+2,S+2,J,x)}var A=f.length,_=new gP(1,0,0,1,-1,-1);for(var z=0;z<A;
z++)u.M.i(f[z].path.z,_,f[z].path.z);this.vG=f;this.H4=h;for(var z=0;z<A;z++){var W=f[z];for(var Y=z+1;
Y<A;Y++){var G=f[Y];if(G.parent==z&&h.Q0[G.color-1].est.q[3]<.05){var i=G.path.G.slice(1),E=i.pop();
if(E!="Z")i.push(E);i.reverse();i=["M"].concat(i);if(E=="Z")i.push("Z");var $=[],p=G.path.z.length;for(var C=0;
C<p;C+=2){$[C]=G.path.z[p-2-C];$[C+1]=G.path.z[p-2-C+1]}u.M.concat(W.path,{z:$,G:i})}}}if(x){console.log("finding holes",Date.now()-R);
R=Date.now()}for(var z=0;z<f.length;z++){var B=f[z];if(B.parent!=-1){var M=f[B.parent];B.parent=M;if(M._F==null)M._F=[];
M._F.push(B)}B.depth=B.parent==-1?0:B.parent.depth+1}if(l){function j(ab,q){var iw={},jD=0,a1=0;for(var z=0;
z<ab.length;z++){var iE=ab[z].color,C="c"+iE;if(iE==q)throw iE;if(iw[C]==null)iw[C]=0;iw[C]++;if(iw[C]>jD){jD=iw[C];
a1=iE}}return a1}var P=[],t=[],q=-1,m=!0;for(var z=0;z<f.length;z++)if(f[z].parent==-1)t.push(f[z]);
while(t.length!=0){var iE=j(t,q);q=iE;for(var z=0;z<t.length;z++)if(t[z].color==iE){var hV=t[z];P.push(hV);
t.splice(z,1);z--;if(hV._F)for(var Y=0;Y<hV._F.length;Y++){t.push(hV._F[Y]);if(hV._F[Y].color!=iE)m=!1}}}if(m)f=P;
else{var dD=[];for(var bh=0;bh<500;bh++){var ho=[],p=dD[bh-1];dD.push(ho);for(var z=0;z<f.length;z++){var B=f[z],M=B.parent;
if(bh==0&&M==-1||bh!=0&&p.indexOf(M)!=-1){ho.push(B);f.splice(z,1);z--}}ho.sort(function(ab,iw){return ab.color-iw.color});
if(f.length==0)break}for(var z=0;z<dD.length;z++)f=f.concat(dD[z])}}else{var P=[],aH=[];while(f.length!=0){aH.push(f.shift());
while(aH.length!=0){var f2=aH.pop();P.push(f2);if(f2._F)for(var z=0;z<f2._F.length;z++){var B=f2._F[z];
f.splice(f.indexOf(B),1);aH.push(B)}}}f=P}this.vG=f;for(var z=0;z<f.length;z++){var W=f[z],e9=h.Q0[W.color-1].est.q;
if(e9[3]<=.05){f.splice(z,1);z--;continue}}for(var z=1;z<f.length;z++){var kB=f[z-1],W=f[z];if(kB.color==W.color&&(l||kB.parent==W.parent&&kB.depth>=2)){u.M.concat(kB.path,W.path);
f.splice(z,1);z--;continue}}if(x){console.log("reordering layers",Date.now()-R,A,f.length);R=Date.now()}this.iD()}else{var ct=new Uint32Array(O*S),jF=O*S;
if(w){var fj=[];for(var z=0;z<h.Q0.length;z++)fj.push(h.Q0[z].est.rgba);var r=u.B(O*S);UPNG.encode.dither(new Uint8Array(T.data),O,S,fj,new Uint8Array(ct.buffer),r)}else{for(var z=0;
z<jF;z++){var iE=h.Q0[h.Pg[z]];ct[z]=iE.est.rgba}}this.a8t=new Uint8Array(ct.buffer);this._C.T([{d8:T.d8,data:ct.buffer}]);
if(this.tw){this._C.cB();this.tw=!1}}};hY.prototype.iD=function(x){if(this.vG==null)return;var R=this.Cb.d8.m,T=this.Cb.d8.e,c=this.vG,g=this.H4.Q0,d=this.V,U=this.xv,e=this.xP.FW();
U.setTransform(1,0,0,1,0,0);U.clearRect(0,0,d.width,d.height);U.translate(d.width/2,d.height/2);U.scale(e.O,e.O);
U.translate(e.w.x/e.O-R/2,e.w.y/e.O-T/2);U.scale(1/e.O,1/e.O);U.fillStyle=this.vN;U.fillRect(0,0,R*e.O,T*e.O);
U.scale(e.O,e.O);var N=[];for(var z=0;z<g.length;z++){var l=g[z].est.q;N.push({o:Math.round(255*l[0]),A:Math.round(255*l[1]),J:Math.round(255*l[2]),Y:Math.round(255*l[3])})}for(var z=0;
z<c.length;z++){var J=c[z],l=N[J.color-1];if(l.Y==0)continue;U.fillStyle="rgba("+l.o+","+l.A+","+l.J+","+l.Y/255+")";
U.beginPath();Typr.U.pathToContext({crds:J.path.z,cmds:J.path.G},U);U.fill()}};hY.prototype.n4=function(x){var R=this.Lh,T=R.g[0],c=R.R[T],g=new aA(v.E.v,!0);
g.ke=!0;g.f=D.d_;if(this.FU){var d=this.vG,U=d.length==1,e=R.R.slice(0,T);if(!U)e.push(R.Sw());for(var z=0;
z<d.length;z++){var N=d[z],l=this.H4.Q0[N.color-1].est.q;u.M.i(N.path.z,new gP(1,0,0,1,c.rect.x,c.rect.y),N.path.z);
var J=R.CH();J.Je("Path "+z);e.push(J);J.opacity=Math.round(l[3]*255);J.Yn|=16;J.add.SoCo={classID:"null",Clr:{t:"Objc",v:u.I.SE({o:255*l[0],A:255*l[1],J:255*l[2]})}};
J.add.vmsk=new F.LS;J.add.vstk=fJ.SC.GI(!0);J.add.vmsk.$=u.M.gj(N.path,!1);J.add.vogk=[];J.h5();J.sG(R)}var w=e[e.length-1];
if(!U){var J=R.CH();J.Je(c.getName());J.add.lsct=ew.bZ;J.mh="pass";J.Yn=24;e.push(J);w=J}var o=c.add.lmfx;
if(o)w.add.lmfx=JSON.parse(JSON.stringify(o));for(var z=T+1;z<R.R.length;z++)e.push(R.R[z]);g.data={d:F.MI,jI:e,SG:[T+d.length+(U?-1:1)],hK:[11,11,0]}}else{var e=R.R.slice(0),J=R.CH();
J.Je(c.getName());e.splice(R.g[0]+1,0,J);J.rect=c.rect.clone();J.buffer=this.a8t;J.W();g.data={d:F.MI,jI:e,SG:[R.g[0]+1],hK:[11,11,1]}}this.c(g);
this.close()};function g9(x){bg.call(this,[[7,11],[7,13]][x],["redge","magiccut"][x]);this.V6=x;this.Cb={};
this.pi=null;this.im=null;this.Lh=null;this.mq=null;this.aL=null;this.body.style.padding="0";this.YN=[];
this.i_=-1;this.GT=X._("div","form hbar padded");this.body.appendChild(this.GT);this.HS=new dH;this.HS.parent=this;
this.HS.k(v.E.p,this.Ny,this);this.GT.appendChild(this.HS.n);var R=x==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
R=R.concat("tools/hand","zoomIn","zoomOut");var T=x==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.YQ=new kj(null,R,T,28);this.YQ.k(v.E.p,this.Rw,this);this.GT.appendChild(this.YQ.n);this.yR=new i1([7,9],0,50,null);
this.yR.parent=this;this.yR.k(v.E.p,[this.axR,this.Hm][x],this);this.GT.appendChild(this.yR.n);var c=this.awn=new i_([2,2],!1,null,!0);
c.k("click",this.KR,this);this.GT.appendChild(c.n);var g=this.S$=X._("span","form");this.GT.appendChild(g);
var d=this.a0w=new i_([12,90],!1,null,!0);d.k("click",function(N){alert(x==0?go.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
g.appendChild(d.n);var U=new i_("Tutorial",!1,null,!0);U.k("click",this.aaI,this);g.appendChild(U.n);
this.Xh=new kj([12,46],["checker","#ffffff","#000000"]);this.Xh.k(v.E.p,this.asp,this);g.appendChild(this.Xh.n);
this.vS=new ad(null,[[6,13],[6,2],[17,2]]);g.appendChild(this.vS.n);this.AH=X.vV(this,g,!1);var e=this.Vh=X._("div","flexrow");
this.body.appendChild(e);this.wo=new bx(!0);this.TJ=new bx;this.wo.M9(this.TJ);this.TJ.M9(this.wo);this.wo.k("mousedown",this.LV,this);
this.wo.k("mousemove",this.Dg,this);this.wo.k("mouseup",this.ho,this);this.wo.k("zoom",this.Ny,this);
this.TJ.k("zoom",this.Ny,this);e.appendChild(this.wo.n);e.appendChild(this.TJ.n)}g9.prototype=new bg;
g9.prototype.pg=function(x,R){var T=x!=null&&!x.R[x.g[0]].rect.Y3();if(!T)alert("The layer is empty.");
return T};g9.prototype.rH=function(){return new cI(0,0)};g9.prototype.Vd=function(){return!0};g9.prototype.s7=function(x,R){this.KQ=x;
this.kh=R;R=R-12-33;if(x<900){this.S$.setAttribute("style","display:block;  text-align:right;");R-=29}else{this.S$.setAttribute("style","position:absolute;  right:0px")}this.Xh.W7(x<440?null:[12,46]);
this.yR.W7(x<470?null:[7,9]);var T=this.Cb.rect;if(T){var c=g9.ahW(x,R,T.m,T.e);if(c==0){x=Math.floor(x/2);
X.MQ(this.Vh,"flexrow")}else{R=Math.floor(R/2);X.ia(this.Vh,"flexrow")}this.wo.s7(x,R);this.TJ.s7(x,R)}};
g9.ahW=function(x,R,T,c){var g=x/2,d=R/2,U=Math.min(g/T,R/c),e=Math.min(x/T,d/c);return U>e?0:1};g9.prototype.t=function(){bg.prototype.t.call(this);
this.HS.t();this.yR.t();this.AH.t();this.Xh.t();this.vS.t();this.awn.t();this.a0w.t()};g9.prototype.aaI=function(x){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.V6],"_blank")};
g9.prototype.L4=function(x,R){this.im=x;if(R==hc.fq||R==hc.cp){this.HS.zB(x.UK);this.HS.T(bE.hA(),x.UK.DE,x.UK.YF)}};
g9.prototype.Rw=function(x,R,T,c){var g=this.YQ.h();if(c==null){this.wo.Rw(bx.oo(g-3));return}this.mq=c;
var d=D.AN.$P(this.HS.h(),c);if(d!=null){this.HS.T(d);this.Ny()}else if(c.S(fZ.Gc)&&c.S(fZ.Y6)){var U=this.YN,e=0;
if(c.S(fZ.xg)){if(this.i_+1<U.length)e=1}else if(this.i_>0)e=-1;if(e!=0){this.i_+=e;var N=this.i_,l=this.Cb;
if(e==1)u.yU(U[N][2],U[N][0],l.Qf,l.rect);else u.yU(U[N+1][1],U[N+1][0],l.Qf,l.rect);l.K3=l.rect;this.Hm()}}else if(g<3)this.wo.Rw(c)};
g9.prototype.b_=function(x){var R=this.Cb,T=this.YN,c=u.B(x.Z()*4);u.yU(R.XW,R.rect,c,x);R.XW=null;var g=u.B(x.Z()*4);
u.yU(R.Qf,R.rect,g,x);this.i_++;T[this.i_]=[x.clone(),c,g];while(T.length>this.i_+1)T.pop();while(T.length>50){T=T.slice(1);
this.i_--}};g9.prototype.Ny=function(){var x=this.im,R=fC.vO(this.HS.h(),x.UK.DE,this.wo.FW().O);this.wo.iz(R)};
g9.prototype.LV=function(x){var R=this.im,T=this.Cb,c=this.mq,g=this.HS.h(),d=this.wo.IM(),U=[16777215,8421504,0][this.YQ.h()];
this.pi=new fC(g,R.UK.DE,R.UK.YF,{_v:1,Ku:!0},U,R.tn,T.rect);T.XW=T.Qf.slice(0);if(c!=null&&c.S(fZ.xg)&&this.aL){this.pi.moveTo(this.aL.x,this.aL.y);
this.pi.lineTo(d.x,d.y)}else this.pi.moveTo(d.x,d.y);this.a4T()};g9.prototype.Dg=function(x){var R=this.Cb,T=this.wo.IM();
this.pi.lineTo(T.x,T.y);this.a4T()};g9.prototype.ho=function(x){this.aL=this.wo.IM();this.b_(this.pi.F_());
this.Hm()};g9.prototype.a4T=function(){var x=this.Cb,R=this.pi,T=R.ei();if(T.Y3())return;x.K3=T;u.l.Hy("norm",R.Gr(),R.zC(),x.Qf,x.rect,T,1);
this.ah0()};g9.prototype.KR=function(x){var R=this.Cb;R.XW=R.Qf.slice(0);R.K3=R.rect;u.Qu(R.Qf,[4278190080,4292730333][this.V6]);
this.b_(R.rect);this.Hm()};g9.prototype.Bq=function(x,R){this.Lh=x;var T=x.R[x.g[0]],c=T.rect.clone(),g=c.m,d=c.e;
this.yR.T(this.V6==0?3:g*d<3e6?3:0);this.YQ.T(x.u==null?0:1);this.yR.tC();if(this.V6==0&&x.u!=null||this.V6==1)this.yR.uL();
var U=this.V6,e=u.B(c.Z()),N=new Float32Array(c.Z());if(U==0&&x.u){u.gN(x.u.channel,x.u.rect,e,c);var l=u.B(c.Z());
for(var J=0;J<d;J++)for(var w=0;w<g;w++){var z=J*g+w,s=e[z];if(w>0&&e[z-1]!=s||w<g-1&&e[z+1]!=s||J>0&&e[z-g]!=s||J<d-1&&e[z+g]!=s)l[z]=255}u.style.C6(l,N,g,d)}else N.fill(1e9);
c.x=c.y=0;this.Cb={rect:c,z6:T.buffer,ua:e,As:N,w1:u.B(c.Z()*4),lj:u.B(c.Z()*4),Qf:u.B(c.Z()*4),XW:null,Gs:null,K3:c,aC4:{}};
if(U==0)this.axR();else{this.Cb.aC4=D.x1.aCv(x);var o=this.Cb.Qf;u.Qu(o,4287137928);var V=u.DF.getSelection(T.buffer,g,d),a=Math.round(g/60),O=Math.round(.7*d);
for(var J=0;J<d;J++)for(var w=0;w<g;w++){var S=(J*g+w)*4,L=V[S>>>2];L=L>128?255:128;if(J<a||J<O&&(w<a||w>g-1-a))L=0;
o[S]=o[S+1]=o[S+2]=L}this.Hm()}this.YN=[1];this.i_=0;var Q=this.HS.h();Q.Brsh.v.Dmtr.v.val=Math.round(c.m/(U==0?10:20));
this.HS.T(Q);this.Ny();this.s7(this.KQ,this.kh);this.wo.cB()};g9.prototype.axR=function(){var x=this.Cb,R=x.rect.Z(),T=this.yR.h(),c=x.ua.slice(0);
for(var z=0;z<R;z++)if(x.As[z]<T)c[z]=128;u.Qu(x.Qf,4294967295);u.rN(c,x.Qf,0);u.rN(c,x.Qf,1);u.rN(c,x.Qf,2);
x.K3=x.rect;this.Hm()};g9.prototype.Hm=function(){var x=this.Cb,g,e,N=0,l=0,J=0;this.ah0();var R=x.rect,T=R.m,c=R.e,d=u.B(R.Z()),U=x.z6;
u.TR(x.Qf,d,0);for(var z=0;z<d.length;z++){if(U[(z<<2)+3]!=255)continue;var w=d[z];if(w==0)N++;else if(w==255)l++;
else J++}if(N*l*J!=0){if(this.V6==0)e=u.bD.bD(R,U,d);else{var s=this.YQ.h();for(var o=1;o<c;o++)for(var V=1;
V<T;V++){var z=o*T+V,a=d[z],O=d[z-1];if(a==0&&O==255||a==255&&O==0){g="The Red and Green should never touch! Erase it with Grey.";
break}}var S=Date.now(),L=this.Cb.aC4;u.kS(d,L.Bk);D.x1.Fd(L,!0,this.Lh);var Q=Math.ceil(this.yR.h()/2);
if(Q==0){e=U.slice(0);u.rN(L.u,e,3)}else{var b=L.u.slice(0),Z=L.u.slice(0);for(var I=0;I<Q;I++){for(var o=1;
o<c-1;o++)for(var V=1;V<T-1;V++){var z=o*R.m+V,y=b[z];if(b[z-T]!=y||b[z-1]!=y||b[z+1]!=y||b[z+T]!=y)Z[z]=128;
else Z[z]=y}var r=b;b=Z;Z=r}for(var o=0;o<c;o++)for(var V=0;V<T;V++){var z=o*T+V;if(d[z]==0||d[z]==255)b[z]=d[z]}e=u.bD.bD(R,U,b,20,!1)}}}else{e=U.slice(0);
u.rN(d,e,3)}for(var z=3;z<e.length;z+=4)if(e[z]>U[z])e[z]=U[z];if(R.X$(x.rect))x.Gs=e;else u.yU(e,R,x.Gs,x.rect);
this.asp();if(g)alert(g,4e3)};g9.prototype.ah0=function(x){var R=this.Cb,T=R.K3;u.yU(R.z6,R.rect,R.w1,R.rect,T,!0);
var c=R.Qf,g=R.rect,d=Date.now();if(this.V6==1){var U=new Uint32Array(256);U[0]=4278190335;U[255]=4278255360;
var e=u.B(T.Z()*4),N=T.Z();u.yU(c,g,e,T);c=e;g=T;var l=new Uint32Array(c.buffer);for(var z=0;z<N;z++)l[z]=U[l[z]&255]}console.log(Date.now()-d);
u.l.Hy("norm",c,g,R.w1,R.rect,T,.3);this.wo.T([{d8:R.rect,data:R.w1.buffer}],null,null,T)};g9.prototype.asp=function(x){var R=this.Cb;
u.Qu(R.lj,[0,4294967295,4278190080][this.Xh.h()]);u.l.Hy("norm",R.Gs,R.rect,R.lj,R.rect,R.rect,1);this.TJ.T([{d8:R.rect,data:R.lj.buffer}])};
g9.prototype.n4=function(x){var R=this.Lh,T=this.Cb,c=this.vS.h(),g=R.R[R.g[0]],d=new aA(v.E.v,!0);d.ke=!0;
var U=g.rect.clone();if(c==0&&g.Pm()||c!=0&&!g.Pm()){d.f=D.d_;d.data={d:F.P1,a:R.g[0]};this.c(d)}if(R.u!=null){d.f=D.a$;
d.data={d:"fromAction",J9:D.Fs.Vc()};this.c(d)}if(c==0){var e=R.R.slice(0),N=R.CH();N.Je(g.getName());
e.splice(R.g[0]+1,0,N);N.rect=U;N.buffer=T.Gs;N.W();d.f=D.d_;d.data={d:F.MI,jI:e,SG:[R.g[0]+1],hK:[7,11]};
this.c(d)}if(c==1){var l=g.le();d.f=D.d_;d.data={d:F.Rk,a6M:!0};this.c(d);var J=g.le();J.channel=u.B(U.Z());
J.rect=U;J.color=0;J.IP=!0;u.TR(T.Gs,J.channel,3);if(l){var w=J.Kq(l);J.rect=w.rect;J.channel=w.channel;
J.color=w.color}J.mu();g.sG()}if(c==2){var o={rect:U,channel:u.B(U.Z())};u.TR(T.Gs,o.channel,3);d.f=D.a$;
d.data={d:"setsel",u:o,hK:this.yN};this.c(d)}this.close()};function jx(){bg.call(this,[1,13],"locstor");
this.Dn=null;this.dx=[];var x=this.body,R=X._("p");R.textContent="These files are loaded every time you start Photopea.";
x.appendChild(R);this.azN=0;this.tu=X._("span");x.appendChild(this.tu);this.tu.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var T=X._("span","form");x.appendChild(T);this.iu=new i_([5,4],!1,null,!0);this.iu.k("click",this.XL,this);
T.appendChild(this.iu.n);this.hD=new i_("Get all as ZIP",!1,null,!0);this.hD.k("click",this.df,this);
T.appendChild(this.hD.n);this.yg=new dY(!0);this.yg.parent=this;this.yg.b3(1);x.appendChild(this.yg.n);
this.yg.n.setAttribute("style","width: 40em; height: 25em")}jx.prototype=new bg;jx.prototype.t=function(){bg.prototype.t.call(this);
this.tu.textContent=go.get([13,2])+": "+dO.uE(this.azN);this.iu.t()};jx.prototype.L4=function(x,R){this.Dn=x;
if(R==hc.Ii)this.Bq()};jx.prototype.Bq=function(x,R){var T=this.Dn.k3.Bv,N=0;this.dx=[];for(var c in T)this.dx.push(c);
this.dx.sort(function(J,w){J=J.split(".");w=w.split(".");return J[1]==w[1]?J[0]<w[0]?-1:1:J[1]<w[1]?-1:1});
var g=Math.floor(100*X.mM()),d=Math.floor(16*X.mM()),U=[],e=[];for(var z=0;z<this.dx.length;z++){var c=this.dx[z],l=jx.N4(c,T[c],g,d);
U.push(l);e.push(c);N+=T[c].byteLength}this.yg.j7(U,e,g,d);this.azN=N;this.t()};jx.prototype.XL=function(x){var R=this.yg.h();
if(R.length==0){alert("Select a file first.");return}this.yg.T([]);var T=this.Dn.k3.Bv;for(var z=0;z<R.length;
z++)delete T[this.dx[R[z]]];var c=new aA(v.E.P,!0);c.data={d:v.H.pV,vr:hc.Ii};this.c(c)};jx.prototype.df=function(x){var R=this.Dn.k3.Bv,T={};
for(var c in R)T[c]=new Uint8Array(R[c]);var g=UZIP.encode(T);hG.save(g,"resources.zip")};jx.N4=function(x,R,T,c){var g=X._("canvas"),e=0;
g.width=T;g.height=c;var d=g.getContext("2d"),U=x.split(".").pop().toLowerCase();for(var z=0;z<U.length;
z++)e+=U.charCodeAt(z)*613<<8*z;d.fillStyle="#"+u.TN(e&16777215);d.fillRect(0,0,20,c);var N=Math.floor(14*X.mM());
d.fillStyle="#000000";d.font="bold "+N+"px sans-serif";var l=(c-N)/2,J=dO.uE(R.byteLength),w=d.measureText(J);
d.fillText(J,T-12-w.width,c-l);return g.toDataURL()};function k9(){bg.call(this,[1,15],"pmanager");this.Dn=null;
this.zn=new ad([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.zn.k(v.E.p,this.Bq,this);
this.body.appendChild(this.zn.n);var x=X._("div","flexrow");this.body.appendChild(x);var R=this.a8d=X._("div");
x.appendChild(R);var T=X._("div","form");x.appendChild(T);T.setAttribute("style","width:140px; margin-left:12px");
this.abT=[hc.fq,hc.p2,hc.n6,hc.dl,hc.my,hc.fo];this.ra=[new dH,new d5,new h_,new em,new g6,new aS];for(var z=0;
z<this.ra.length;z++)this.ra[z].parent=this;this.y_=[];for(var z=0;z<4;z++){var c=new i_("Hello",!0,null,!0);
c.k("click",this.hM,this);this.y_.push(c);T.appendChild(c.n)}this.Bq()}k9.prototype=new bg;k9.prototype.WX=function(x){return x==fZ.U5||x==fZ.ve};
k9.prototype.hM=function(x){var z=this.y_.indexOf(x.target);this.ra[this.zn.h()].gb(z)};k9.prototype.t=function(){bg.prototype.t.call(this);
this.zn.t();for(var z=0;z<this.ra.length;z++)this.ra[z].t();var x=this.y_,R=this.zn.h(),T=hc.tf[this.abT[R]],c=T[0].toUpperCase();
x[0].W7([[23,6],"."+c]);x[1].W7(["VAR0 ."+c,[1,8]]);x[2].W7([6,37]);x[3].W7([5,4])};k9.prototype.L4=function(x,R){this.Dn=x;
this.Bq()};k9.prototype.Bq=function(x,R){if(!X._b(this.n))return;this.t();X.Ra(this.a8d);this.a8d.appendChild(this.ra[this.zn.h()].Sf);
var T=this.ra,c=this.Dn;if(c==null)return;T[0].zB(c.UK);T[1].dv(c.gR,c.tn);T[1].zB(c.sx);T[2].zB(c.hP);
T[3].zB([c.YC,c.hP]);T[4].zB(c.e_);T[5].zB(c.J7)};function jd(x,R,T){bg.call(this,R,"cwindow");this.aum=new cI(T[0],T[1]-33);
this.GT=X._("div","form");this.GT.setAttribute("style","width:"+(T[2]-T[0])+"px; height:"+(T[3]-T[1])+"px");
this.body.appendChild(this.GT)}jd.prototype=new bg;jd.prototype.rH=function(x,R){return this.aum.clone()};
function fF(x){var R=fF.a9R(x);bg.call(this,R,"res"+x);var T=this.a8A.bind(this);window.addEventListener("message",function(g){if(typeof g.data=="string"&&g.data.startsWith("--et ")){console.log(g.data);
var d=this.avB=g.data.slice(5).split(",");d[0]=parseFloat(d[0]);i3.uk(d[0],d[1],T)}}.bind(this));this.gO=R;
this.sQ=x;this.amv=null;this.Vj=null;this.yH=0;this.RL=null;this.OK=null;this.avB=null;this.Dn=null;
this.body.setAttribute("style","padding:0");this.gf=new i_("",null,null,!0);this.body.appendChild(this.gf.n);
this.gf.k("click",this.q9,this);this.gf.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.Ro=new i_("\u25BC",null,null,!0);this.Ro.n.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:270px");
this.Ro.k("click",this.aAo,this);this.body.appendChild(this.Ro.n);this.V3=X._("span","form");this.body.appendChild(this.V3);
this.y_=[];for(var z=0;z<9;z++){var c=new i_(fF.a9R(z));this.y_.push(c);if(z==x)c.T(!0);this.V3.appendChild(c.n);
c.k("click",this.apa,this)}this.C3=new i_([5,3],null,null,!0);this.C3.k("click",this.adN,this);this.alw=new i_("Upload Current Document as a Template",null,null,!0);
this.alw.k("click",this.at6,this);this.sw=new kD("Creator / Brand name");this.sh=new i_([1,2],null,null,!0);
this.sh.k("click",this.df,this);this.SI=X._("iframe","scrollable");this.SI.setAttribute("style","border:none; margin:0; padding:0;");
this.G2=X._("div","form scrollable padded");this.rQ=new gY(x);this.rQ.k("back",this.KR,this);this.rQ.k("save",this.a6a,this);
this.body.appendChild(this.SI)}fF.prototype=new bg;fF.a9R=function(x){var R;if(x==0)R=[25,0];else if(x==1)R="Plugins";
else for(var T in hc.tf)if(hc.tf[T][4]==x)R=hc.tf[T][3];return R};fF.prototype.aAo=function(x){this.V3.style.display=this.V3.style.display=="none"?"":"none"};
fF.prototype.apa=function(x){var z=this.y_.indexOf(x.target);if(z==this.sQ)return;this.close();var R=new aA(v.E.P,!0);
R.data={d:v.H.i$,$k:"res"+z};this.c(R)};fF.prototype.a8A=function(x){this.q9();this.OK=JSON.parse(x.target.response);
this.cI()};fF.prototype.rH=function(x,R){return new cI(0,0)};fF.prototype.s7=function(x,R){this.KQ=x;
this.kh=R;this._c=null;R=R-4;x=x;var T=x>820,c="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",g="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
this.V3.setAttribute("style",T?c:g);this.V3.style.marginTop=(T?-31:0)+"px";this.Ro.n.style.display=T?"none":"";
var d=this.G2;d.style.width=x-12+"px";d.style.height=R-12+"px";var d=this.rQ.n;d.style.width=x-12+"px";
d.style.height=R-12+"px";var d=this.SI;d.style.width=x+"px";d.style.height=R+"px";this.rz()};fF.prototype.L4=function(x,R){this.Dn=x};
fF.prototype.t=function(){bg.prototype.t.call(this);for(var z=0;z<this.y_.length;z++)this.y_[z].t();
this.C3.t()};fF.prototype.Bq=function(x,R,T,c){this._c=x;this.q9(null,!1)};fF.prototype.q9=function(x,R){var T=R!=null?R:X._b(this.SI);
if(T){if(!i3.v6()){alert("You need to log in first!");return}var c=i3.ig();this.Vj=c.tpl?c.tpl.list:[];
this.sw.T(c.tpl&&c.tpl.brnd?c.tpl.brnd:"");this.rz()}else{this.SI.setAttribute("src","");this.SI.setAttribute("src","templates/?type="+this.sQ+"&rsrc="+this.Dn.cs.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(T?this.G2:this.SI);var g=go.get(this.gO);this.gf.W7(T?"All "+g:"Add "+g)};fF.prototype.rz=function(){var x=go.get(this.gO),R=this.Vj,T=this.sQ,e=450;
if(R==null)return;var c=this.G2;X.Ra(c);var g=X._("h1");c.appendChild(g);g.textContent="Share your "+x+" with the world!";
var d=X._("ul");c.appendChild(d);var U=X._("li");d.appendChild(U);U.textContent="By publishing your "+x+", you agree to let others use them for all kinds of purposes, even commercially.";
c.appendChild(this.C3.n);if(T==0)c.appendChild(this.alw.n);X.pz(c);c.appendChild(this.sw.n);c.appendChild(this.sh.n);
X.pz(c);e=(this.KQ-20)/Math.max(1,Math.floor(this.KQ/e))-42;var N="display:inline-block; width:"+e+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var z=R.length-1;z>=0;z--){var l=R[z];if(l.type==null)l.type=0;if(l.type!=T)continue;var J=X._("div");
c.appendChild(J);J.setAttribute("style",N);var w=X._("img");J.appendChild(w);w.setAttribute("src",l.thmb);
w.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var s=X._("h3");J.appendChild(s);s.textContent=l.name;s.setAttribute("style","margin:0 0 10px 0");var o=X._("p");
J.appendChild(o);o.textContent=l.desc;o.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var V=0;V<2;V++){var a=new i_(V==0?"Edit":"Delete",null,null,!0);a.amm=z;a.cI=V==0;a.k("click",this.akt,this);
J.appendChild(a.n)}}};fF.prototype.at6=function(x){if(this._c==null){alert("No document opened.");return}var R=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!R)return;var T=new aA(v.E.P,!0);T.data={d:v.H.Uj,iw:"psd",qG:this.auu.bind(this)};this.c(T)};fF.prototype.auu=function(x){this.adq=x;
var R=new aA(v.E.P,!0);R.data={d:v.H.Uj,iw:"jpg",qG:this.aph.bind(this),abO:1400};this.c(R)};fF.prototype.aph=function(x){this.RL={type:0,catg:0,desc:"",file:this.adq,name:this._c.name.split(".")[0],thmb:x,publ:!0,utme:""};
this.cI()};fF.prototype.adN=function(x){this.RL={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.cI()};fF.prototype.akt=function(x){this.yH=x.target.amm;if(!x.target.cI){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.Vj.splice(this.yH,1);this.df();this.rz();return}this.cI()};fF.prototype.cI=function(){if(X._b(this.G2))this.body.removeChild(this.G2);
this.body.appendChild(this.rQ.n);var x=this.RL?this.RL:this.OK?this.OK:this.Vj[this.yH];if(x.type==null)x.type=0;
this.rQ.T(x)};fF.prototype.a6a=function(x){var R=this.rQ.h();if(this.RL)this.Vj.push(R);else if(this.OK){var T=this.avB;
i3.uk(T[0],T[1],this.KR.bind(this),JSON.stringify(R));return}else this.Vj[this.yH]=R;this.df();this.KR()};
fF.prototype.KR=function(){var x=this.OK;this.RL=null;this.OK=null;this.body.removeChild(this.rQ.n);
this.body.appendChild(this.G2);this.rz();if(x)this.q9()};fF.prototype.df=function(){var x=i3.ig();if(this.Vj.length==0)delete x.tpl;
else{x.tpl={list:JSON.parse(JSON.stringify(this.Vj))};var R=this.sw.h().trim();if(R!="")x.tpl.brnd=R}i3.k6(x,function(){alert("Saved.")})};
function hW(){bg.call(this,"Make Selection","makesel");this.Dn=null;var x=X._("div","form");this.body.appendChild(x);
this.FE=new kv([12,25,1]);this.FE.T(!0);x.appendChild(this.FE.n);X.pz(x);this.rL=new gv(!0);x.appendChild(this.rL.n);
this.AH=X.vV(this,this.body)}hW.prototype=new bg;hW.prototype.t=function(){bg.prototype.t.call(this);
this.rL.t();this.FE.t();this.AH.t()};hW.prototype.n4=function(x){var R=new aA(v.E.v,!0);R.f=D.a$;R.data={d:"frompath",v2:[null,0,this.rL.h(),this.FE.h()]};
this.close();this.c(R)};function dq(){bg.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this._c=null;this.hN=null;
this.oS=null;var x=this.afw=X._("div","form");x.setAttribute("style","width:20em");this.body.appendChild(x);
this.yC=new cZ([12,50],["PSD","PSB"]);this.yC.k(v.E.p,this.OD,this);x.appendChild(this.yC.n);X.nY(x);
var R=new kk("Minify the file");x.appendChild(R.n);X.pz(x);var T=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.on=[];for(var z=0;z<T.length;z++){var c=new kv(T[z]);this.on.push(c);x.appendChild(c.n);c.k(v.E.p,this.OD,this)}X.nY(x);
this.Ye=new kk("aa.psd");this.BU=new kk("10 kB");x.appendChild(this.BU.n);this.alA=new kk("1000 B");
x.appendChild(this.alA.n);this.AH=new i_([1,2],!0,null,!0);this.AH.k("click",this.n4,this);x.appendChild(this.AH.n);
this.ff=new i_(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.ff.k("click",this.n4,this);x.appendChild(this.ff.n);
this.k("closebtn",this.zs,this)}dq.prototype=new bg;dq.prototype.Bq=function(x,R,T,c){var g=X._b(this.ff.n),d=x.Y7!=null&&x.Y7.cb=="psd";
if(d&&!g)this.afw.appendChild(this.ff.n);if(!d&&g)this.afw.removeChild(this.ff.n);for(var z=0;z<this.on.length;
z++)this.on[z].T(!1);this._c=x;this.OD()};dq.prototype.n4=function(x){if(x.target==this.AH)hG.save(this.hN,this.oS);
else{if(this.on[3].h()){alert("You should not save a ZIP as a PSD to Google Drive.");return}gC.ape(this._c,this.hN)}};
dq.prototype.zs=function(){this._c=null;this.hN=null};dq.prototype.OD=function(){var x=this._c,R=[!1,!1,!1,!1];
for(var z=0;z<3;z++)R[z]=this.on[z].h();var T=this.on[3].h(),c=R[3]=this.yC.h()==1,g=x.name.slice(0,x.name.length-3),d=this.hN=dp.Ix("PSD").LA(x,0,0,R),cg=this.oS=g+"ps"+(c?"b":"d");
if(T){var U={};U[cg]=new Uint8Array(d);d=this.hN=UZIP.encode(U);cg=this.oS=g+"zip"}this.Ye.T(cg);this.BU.T(dO.uE(d.byteLength));
this.BU.n.style["font-size"]="2em";this.alA.T(" \u2001 "+d.byteLength+" B");this.AH.W7(go.get([1,2])+" \""+cg+"\"")};
dq.prototype.t=function(){bg.prototype.t.call(this);this.yC.t();this.AH.t();this.ff.t()};function bl(){bg.call(this,"Confirm","confirm");
this.BJ=null;var x=X._("div");x.setAttribute("style","margin-bottom:1em");this.body.appendChild(x);this.VI=X._("div");
this.VI.textContent="Hello";x.appendChild(this.VI);this.AH=X.vV(this,this.body)}bl.prototype=new bg;
bl.prototype.n4=function(x){if(this.BJ==null)return;console.log("okconfirm");this.close();this.BJ();
this.BJ=null};bl.prototype.t=function(){bg.prototype.t.call(this);this.AH.t()};bl.prototype.Bq=function(x,R){if(R.ao2)this.VI.innerHTML=R.b;
else this.VI.textContent=R.b;if(R.aoO)this.AH.W7(R.aoO);this.BJ=R.BJ;this.AH.n.focus();if(R.ao2!=null)this.n.style.top=Math.random()*(window.innerHeight-150)+"px";
this.arH=R.ao2!=null};bl.prototype.rH=function(x,R){return new cI(Math.max(0,(x-500)/2),Math.max(0,Math.min(60,(R-100)/2)))};
bl.prototype.s7=function(x,R){this.VI.style.width=x-30+"px"};function dP(){bg.call(this,[1,16,2],"newartb");
this.V6=0;this.LF=null;var x=X._("div","form");x.style.width="260px";this.body.appendChild(x);this.yg=new aG;
x.appendChild(this.yg.n);this.AH=X.vV(this,x)}dP.prototype=new bg;dP.prototype.pg=function(x,R){return x!=null};
dP.prototype.n4=function(x){var R=this.yg.h();this.LF.m=R.x;this.LF.e=R.y;var T=new aA(v.E.v,!0);T.f=D.Wy;
T.data={ahx:this.LF,or:this.V6};this.c(T);this.close()};dP.prototype.t=function(){bg.prototype.t.call(this);
this.yg.t();this.AH.t()};dP.prototype.Bq=function(x,R){this.V6=R.or;var T=new aP(0,0,x.m,x.e);if(x.g.length!=0){var c=x.R[x.g[0]];
if(c.add.artb){T=c.Ie();T.x+=T.m+100}if(R.or==1)T=D.gW.zC(x)}this.LF=T;this.yg.T(new cI(T.m,T.e))};function f3(){bg.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.RE=null;this.k("closebtn",this.M5,this);this.k("canclose",this.M5,this)}f3.prototype=new bg;
f3.prototype.L4=function(x,R){if(this.RE)this.RE.L4(x,R)};f3.prototype.rH=function(x,R){return new cI(Math.max(0,Math.min(150,(x-980)/2)),Math.max(0,Math.min(150,(R-590)/2)))};
f3.prototype.s7=function(x,R){this.KQ=x;this.kh=R;x=Math.min(x,980);R=Math.min(R,590);if(this.RE)this.RE.s7(x,R)};
f3.prototype.t=function(){bg.prototype.t.call(this);if(this.RE)this.RE.t()};f3.prototype.Bq=function(x,R,T,c){this.yN=R.or==0?"Open from Storage":"Save to Storage";
this.t();if(this.RE==null){this.RE=new d9;this.RE.parent=this;this.body.appendChild(this.RE.n);this.t();
this.s7(this.KQ,this.kh)}Storage.b3(R.or,x?x.name:"");d9.X6(this.RE)};f3.prototype.M5=function(x){Storage.b3(0);
d9.sP();if(x.type=="canclose")this.close()};function iA(){bg.call(this,[2,14],"varsdats");var x=this.GT=X._("div","form");
x.setAttribute("style","width:300px");this.body.appendChild(x);this._c=null;this.RJ=0;this.Dn=null;this.bf=new cZ(null,[[2,14],"Data Sets",[1,8]]);
this.bf.k(v.E.p,this.a7W,this);this.UI=new iA.vM;this.Ym=new iA.k1;this.hF=new iA.IU;this.Ym.k("activate",this.Y2,this);
this.hF.k("export",this.rI,this);this.AH=X.vV(this)}iA.prototype=new bg;iA.prototype.a7W=function(x){var R=this.bf.h(),T=this.GT;
X.Ra(T);T.appendChild(this.bf.n);X.nY(T);T.appendChild([this.UI,this.Ym,this.hF][R].n);T.appendChild(this.AH.n)};
iA.prototype.n4=function(x){var R=new aA(v.E.v,!0);R.f=D.d_;R.data={d:F.Ei,b:JSON.stringify([this.UI.h(),this.Ym.h()])};
this.c(R);this.close()};iA.prototype.t=function(){bg.prototype.t.call(this);this.AH.t();this.hF.t()};
iA.prototype.Bq=function(x,R){this._c=x;if(x==null)return;this.UI.Bq(x,R);this.Ym.Bq(x,R);this.bf.T(0);
this.a7W();this.RJ=0};iA.prototype.L4=function(x,R){this.Dn=x};iA.prototype.rI=function(x){var R=this.UI.h(),T=this.Ym.h(),c=this.hF.h();
if(R.length==0){alert("There are no variables.");return}if(T.length==0){alert("There are no data sets.");
return}var g=dp.ad1(this._c,R,T,this.Ym.asC(),c[0],c[1],c[2],this.Dn,this);if(g!=null)hG.save(g,"images.zip")};
iA.prototype.Y2=function(x){var R=this.Ym.g,T=this.UI.h(),c=this.Ym.h();if(T.length==0){alert("There are no variables.");
return}if(c.length==0){alert("There are no data sets.");return}this.K6();this.RJ+=dp.B8(this._c,this,T,c,this.Ym.asC(),R)};
iA.prototype.K6=function(){var x=new aA(v.E.v,!0);x.f=D.hG;x.data={d:"h_stepbck"};while(this.RJ>0){this.c(x);
this.RJ--}};iA.IU=function(){ky.call(this);var x=this.n=X._("div");this.Ak=new kD("Variable for file names");
x.appendChild(this.Ak.n);X.nY(x);this._r=["JPG","PNG","PDF"];this.yC=new cZ([12,50],this._r);this.yC.k(v.E.p,this.a5t,this);
x.appendChild(this.yC.n);this.bi=new gy;x.appendChild(this.bi.n);this.a5t();this.hD=new i_("Export all items",!0,null,!0);
this.hD.k("click",this.rI,this);x.appendChild(this.hD.n)};iA.IU.prototype=new ky;iA.IU.prototype.t=function(x){this.Ak.t();
this.yC.t();this.hD.t();this.bi.t()};iA.IU.prototype.a5t=function(x){var R=this._r[this.yC.h()];this.bi.V_(R)};
iA.IU.prototype.rI=function(x){this.c(new aA("export"))};iA.IU.prototype.h=function(){var x=this._r[this.yC.h()];
return[x,this.bi.h(),this.Ak.h().trim()]};iA.k1=function(){ky.call(this);this.Os=null;this.tJ=[];this.g=0;
var x=this.n=X._("div","form");this._Q=new bv("Import a CSV file");x.appendChild(this._Q.n);this._Q.k(v.E.p,this.aCJ,this);
this.zJ=X._("div","scrollable");this.zJ.setAttribute("style","overflow:scroll;  height:234px;");x.appendChild(this.zJ);
this.aw1=new bv("Source Images",!0);x.appendChild(this.aw1.n)};iA.k1.prototype=new ky;iA.k1.prototype.aCJ=function(x){var R=this._Q.h();
for(var T in R){R=R[T];break}this.Os=b$.eE(n.KW(R));this.a5()};iA.k1.prototype.asC=function(){return this.aw1.h()};
iA.k1.prototype.Bq=function(x,R){var T=this.Os=JSON.parse(JSON.stringify(x.sb));this.a5()};iA.k1.prototype.h=function(){return this.Os};
iA.k1.prototype.a5=function(){var x=this.qT.bind(this),R=this.Os,c="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.tJ=[];var T=X._("table");T.setAttribute("style","border-collapse: collapse;");for(var z=0;z<R.length;
z++){var g=X._("tr"),d=R[z],U=z==0?"th":"td";T.appendChild(g);var e=X._(U);g.appendChild(e);e.setAttribute("style",c+"cursor:pointer;");
if(z!=0)e.textContent="\u2713";this.tJ.push(e);e.addEventListener("click",x,!1);for(var N=0;N<d.length;
N++){var e=X._(U);e.textContent=d[N];g.appendChild(e);e.setAttribute("style",c);e.setAttribute("title",d[N])}}X.Ra(this.zJ);
this.zJ.appendChild(T)};iA.k1.prototype.qT=function(x){this.g=this.tJ.indexOf(x.currentTarget);this.c(new aA("activate"))};
iA.vM=function(){ky.call(this);var x=this.n=X._("div","form marged");this.EJ=null;this.XX=[];this.f_=[];
this.kr=null;this.Jc=new ad([0,3],[]);this.Jc.k(v.E.p,this.aAQ,this);x.appendChild(this.Jc.n);this.u5=[];
var R=["Visibility","Text Content","Pixel Content"];for(var z=0;z<R.length;z++){X.nY(x);var T=new kv(R[z]);
T.k(v.E.p,this.DV,this);x.appendChild(T.n);X.pz(x);var c=new kD("Variable Name");c.k(v.E.p,this.DV,this);
x.appendChild(c.n);this.u5.push(T,c)}};iA.vM.prototype=new ky;iA.vM.prototype.DV=function(x){var R=this.Jc.h(),T=this.kr[R],c=this.XX[R],g=this.EJ["l"+T],d=this.u5;
if(g==null)this.EJ["l"+T]=g=[];while(g.length!=0)g.pop();for(var z=0;z<3;z++){var U=d[2*z+1].h();if(!d[2*z].h())continue;
var e={varName:U,trait:["visibility","textcontent","fileref"][z]};g.push(e);if(z==2){e.align="center";
e.clip="false";e.placementMethod="fit";e.valign="middle"}}if(g.length==0)delete this.EJ["l"+T];this.Bq()};
iA.vM.prototype.aAQ=function(x){var R=this.Jc.h(),T=this.kr[R],c=this.XX[R],g=this.EJ["l"+T],d=this.u5;
if(g==null)g=[];for(var z=0;z<3;z++){var U=z==0||z==1&&c==0||z==2&&c==1;d[2*z].Dd(U);d[2*z].T(!1);d[2*z+1].Dd(U);
d[2*z+1].T("")}for(var z=0;z<g.length;z++){var e=g[z],N=e.trait,l=["visibility","textcontent","fileref"].indexOf(N);
d[l*2].T(!0);d[l*2+1].T(e.varName)}};iA.vM.prototype.Bq=function(x,R){if(x){var T=JSON.parse(JSON.stringify(x.gq)),c=this.EJ={};
for(var z=0;z<T.length;z++){var g=T[z],d=g.docRef;d="l"+d.slice(4,d.length-2);if(c[d]==null)c[d]=[];
c[d].push(g)}this.kr=[];this.XX=[];this.f_=[];for(var z=x.R.length-1;z>=0;z--){var U=x.R[z],d=U.add.lyid;
if(U.getName()=="</Layer group>")continue;this.kr.push(d);this.XX.push(U.add.TySh?0:1);this.f_.push(U.getName())}}var e=[],N=this.f_;
for(var z=0;z<N.length;z++){e.push(N[z]+(this.EJ["l"+this.kr[z]]?" *":""))}var l=this.Jc.h();this.Jc.GN(e);
this.Jc.T(l);this.aAQ()};iA.vM.prototype.h=function(){var x=this.EJ,R=[];for(var T in x){var c=x[T];
for(var g=0;g<c.length;g++){c[g].docRef="id('"+T.slice(1)+"')";R.push(c[g])}}return R};function bs(){bg.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.OV=!1;var x=this.bA=[],R=X._("div","form");R.setAttribute("style","width:20em");this.body.appendChild(R);
for(var z=0;z<2;z++){var T=new kv([22,4,2+z]);R.appendChild(T.n);X.pz(R);var c=new cZ(null,[["N equal parts"],["N pixels per part"]]);
R.appendChild(c.n);X.pz(R);var g=new i1("N",0,1e3);g.T(4);g.parent=this;R.appendChild(g.n);X.pz(R);if(z==0)X.nY(R);
x.push(T,c,g)}for(var z=0;z<x.length;z++)x[z].k(v.E.p,this.S0,this);x.push(X.vV(this,R));this.k("closebtn",this.K6,this)}bs.prototype=new bg;
bs.prototype.K6=function(){if(this.OV){var x=new aA(v.E.v,!0);x.f=D.hG;x.data={d:"h_stepbck"};this.c(x)}};
bs.prototype.S0=function(x){this.K6();this.OV=!0;var R=[];for(var z=0;z<6;z++)R.push(this.bA[z].h());
var T={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var c=0;c<2;c++){if(!R[c*3])continue;var g=R[c*3+1],d=R[c*3+2];T[["slices","pixels"][g]+["Across","Down"][c]]={t:"long",v:d}}var U=new aA(v.E._M,!0);
U.data={Sm:"divide",M1:T};this.c(U)};bs.prototype.n4=function(x){this.close()};bs.prototype.t=function(){bg.prototype.t.call(this);
var x=this.bA;for(var z=0;z<x.length;z++)x[z].t()};bs.prototype.Bq=function(x,R){this.OV=!1};function cw(){bg.call(this,"Stroke Path","strokepath");
this.Dn=null;this.x7=null;this.xq=null;this.AH=null;this._B=[D.Oz,D.fq,D.Of,D.dy,D.K_,D.T0,D.t0,D.R7,D.Es,D.de,D.hC,D.zz,D.w0,D.LJ,D.gg]}cw.prototype=new bg;
cw.prototype.t=function(){bg.prototype.t.call(this);if(this.AH){this.x7.t();this.AH.t()}};cw.prototype.n4=function(x){var R=this._B[this.x7.h()],T=null;
for(var c in D.wR)if(D.wR[c]==R)T=c;var g=new aA(v.E._M,!0);g.data=D.h3.Ll(T,this.xq.h());this.close();
this.c(g)};cw.prototype.L4=function(x,R){if(this.Dn==null){var T=[];for(var z=0;z<this._B.length;++z){T.push(x.q.map[this._B[z]].f.name)}var c=X._("div","form");
this.body.appendChild(c);this.x7=new ad("Tool",T);this.x7.T(1);c.appendChild(this.x7.n);this.xq=new kv("Simulate Pressure");
X.pz(c);c.appendChild(this.xq.n);this.AH=X.vV(this,this.body)}this.Dn=x};function d8(){bg.call(this,[1,18],"linkview");
X.MQ(this.body,"form");var x=this.HO=[new kD(null,null,17),new i_([5,1],!1,null,!0),new i_([1,0],!1,null,!0)];
for(var z=0;z<3;z++){var R=x[z];this.body.appendChild(R.n);if(z!=0)R.k("click",this.a8P,this);if(z==0)X.pz(this.body)}}d8.prototype=new bg;
d8.prototype.Bq=function(x,R){var T=R.aCk;if(T.startsWith("https://"))T=T.slice(8);this.HO[0].T(T)};
d8.prototype.a8P=function(x){var R=this.HO,T=R[0].h(),c=x.target==this.HO[1];if(c){navigator.clipboard.writeText(T);
alert("Copied to a clipboard!")}else window.open("https://"+T,"Shared")};function dF(x,R,T,c){ky.call(this);
this.name=x;this.adY=T;this.BC=c;this.mH=X._("div","");this.mH.setAttribute("draggable","true");this.bp=X._("div","pbody");
this.gw=new i_("",!1,"");this.gw.parent=this;this.a1W=X._("span","cross gsicon");this.jQ=X._("span","label");
var g=this.aaW.bind(this);this.mH.addEventListener("mousedown",this.a1m.bind(this),!1);this.mH.addEventListener("contextmenu",g,!1);
this.gw.n.addEventListener("contextmenu",g,!1);this.a1W.addEventListener("mousedown",this.wL.bind(this),!1);
this.mH.appendChild(this.jQ);if(R)this.mH.appendChild(this.a1W);this.$h=!1;this.jQ.textContent=x}dF.prototype=new ky;
dF.prototype.w_=function(){return null};dF.prototype.t=function(){var x=go.get(this.name),R=!1,T=this.KQ==0?22:Math.round(2+this.KQ/50);
if(x.endsWith(" *")){R=!0;x=x.slice(0,x.length-2);T-=2}var c=x.length>T;this.jQ.textContent=c?x.slice(0,T-2):x;
if(c)for(var g=0;g<2;g++){var d=X._("span");d.textContent=x.charAt(T-2+g);d.setAttribute("style","opacity:"+(.6-g*.4));
this.jQ.appendChild(d)}if(R){var d=X._("span");d.textContent=" *";this.jQ.appendChild(d)}var U=x.split(" "),e=U.length==2?U[0].substring(0,2)+U[1][0]:x.substring(0,3);
if(e.charCodeAt(0)>=11776)e=e.substring(0,1);var N=this.adY;if(N==null)this.gw.W7(e,x);else{var l;if(N.startsWith("---"))l="<img src=\""+PIMG[N.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(N.startsWith("==="))l="<img src=\""+N.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(N.indexOf("\"")==-1)l="<img src=\""+N+"\" alt=\""+X.Xl(x).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.gw.W7(l,x)}};dF.prototype.enable=function(){this.bp.className="pbody"};dF.prototype.disable=function(){this.bp.className="pbody disabled"};
dF.prototype.L4=function(x,R){};dF.prototype.Bq=function(x,R,T){};dF.prototype.Ag=function(x){};dF.prototype.s7=function(x,R){};
dF.prototype.kb=function(x){this.name=x;this.t()};dF.prototype.WC=function(){};dF.prototype.a1m=function(x){if(x.button==0)this.c(new aA("select",!1));
if(x.button==1)this.Vs()};dF.prototype.aaW=function(x){X.Ri(x);if(this.BC!=null&&isNaN(this.BC))return;
var R=X.il(x,document.body),T=this.Eb;if(T==null){T=this.Eb=new d$([{name:[1,12,0]}]);this.Eb.k("select",this.wL,this)}T.update(null);
T.t();T.parent=this;var c=new aA(v.E.P,!0);c.data={d:v.H.fu,YR:T,x:R.x+1,y:R.y+1};this.c(c)};dF.prototype.Vs=function(){this.wL({})};
dF.prototype.wL=function(x){if(x.stopPropagation)x.stopPropagation();if(this.BC!=null&&!isNaN(this.BC)){var R=new aA(v.E.P,!0);
R.data={d:v.H.Qg,YR:this.Eb};this.c(R);R.data={d:v.H.pV,vr:hc.Pv,b:parseFloat(this.BC),Ly:"del"};this.c(R)}else if(this.a6O())this.c(new aA(v.E.dT,!1))};
dF.prototype.a6O=function(x){return!0};dF.prototype.fz=function(x,R,T,c,g){};dF.prototype.gQ=function(x,R,T,c,g){};
dF.prototype.rR=function(x,R,T,c,g){};dF.P$=function(x,R,T){if(x.childElementCount!=0)return;var c=x.textContent;
this.z7=this.amY.bind(this);this.aCV=this.auY.bind(this);this.U4=R;this.acE=T;this.FZ=x;this.ags=c;var g=X._("input","");
g.setAttribute("type","text");g.setAttribute("size","10");g.setAttribute("value",c);X.Ra(x);x.appendChild(g);
g.select();g.focus();X.Sc(x);x.addEventListener("keyup",this.z7,!1);document.body.addEventListener("mousedown",this.aCV,!1)};
dF.P$.prototype.amY=function(x){var R=fZ.mf,T=R(x.code,fZ.AQ);if(R(x.code,fZ.jK)||T)this.a5C(T)};dF.P$.prototype.auY=function(x){var R=x.target;
if(R.tagName&&R.tagName.toLowerCase()=="input")return;this.a5C(!0)};dF.P$.prototype.a5C=function(x){var R=this.FZ,T=R.firstChild.value;
R.removeEventListener("keyup",this.z7);document.body.removeEventListener("mousedown",this.aCV);if(this.acE||x&&T!=""&&T!=this.ags){this.U4(T)}else{X.Ra(R);
R.textContent=this.ags}};dF.sK={hG:"0",anD:"1",d_:"2",aqu:"3",aeN:"4",xS:"5",CSS:"6",fq:"7",a5m:"8",avq:"9",aCh:"10",akd:"11",avi:"12",Js:"13",ON:"14",a5Q:"15",aek:"16",$g:"17",ahp:"18",a9C:"19",aaL:"20",dl:"21",afh:"22",aiB:"23"};
function dd(){dF.call(this,[9,9],!1,"---panels/actions",dF.sK.akd);this.Dn=null;this.zr=[0,0]}dd.prototype=new dF("");
dd.prototype.rP=function(){if(!X._b(this.bp)||this.V2)return;this.V2=X._("div","padded scrollable");
this.V2.setAttribute("style","width:260px;  height:260px");this.bp.appendChild(this.V2);this.k(v.E.p,this.gv,this);
this.vB=X._("div","lpfoot");this.bp.appendChild(this.vB);this.ra=[];var x="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",R="</svg>",T=x+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+R,c=x+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+R;
this.ai1=x+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+R;this.avl=x+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+R;
var g=[this.ai1,c,"lrs/folder","lrs/newlayer","lrs/bin",T],d=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var z=0;z<g.length;z++){var U=g[z];if(1<z&&z!=g.length-1)U="<img src=\""+PIMG[g[z]]+"\" class=\"miniscale gsicon\" />";
var e=new i_(U,!1,d[z]);e.k("click",this.aqh,this);this.vB.appendChild(e.n);this.ra.push(e)}this.a5()};
dd.prototype.t=function(){dF.prototype.t.call(this);if(this.V2==null)return;for(var z=0;z<this.ra.length;
z++)this.ra[z].t()};dd.prototype.aqh=function(x){var z=this.ra.indexOf(x.currentTarget),R=this.zr,T=this.Dn,c=T.UU;
if(z==0){var g,d=T.e9;if(c.length==0){alert("Create an Action Set first.");return}if(R.length<2){alert("Select a target action first.");
return}if(d==null){g=this.avl;d=this.zr}else{g=this.ai1;d=null}this.ra[0].W7(g);T.e9=d}else if(z==1)this.ahq();
else if(z==2||z==3){var U={hK:"Action Set "+c.length,dz:[],exp:!0};if(z==2||c.length==0){R=[c.length];
c.push(U)}if(z==3){var e=c[R[0]].dz;R=[R[0],e.length];e.push({hK:"Action "+e.length,color:0,dz:[],ax5:!1,shift:!1,exp:!0,iY:e.length})}this.zr=R;
this.a5()}else if(z==4){var N;if(R.length==1)N=c;else if(R.length==2)N=c[R[0]].dz;else N=c[R[0]].dz[R[1]].dz;
var l=R.length-1;N.splice(R[l],1);if(N.length==0)R.pop();else while(R[l]>=N.length)R[l]--;if(R.length==0)R.push(0);
this.a5()}else if(z==5){if(c.length==0){alert("No Actions Present.");return}var J=new aA(v.E.P,!0);J.data={d:v.H.ZJ,aB9:hc.v,_8:R[0]};
this.c(J)}};dd.prototype.gv=function(x){var R=this.Dn.UU,T=x.data.d,c=x.data.$s;if(T=="sel")this.zr=c;
if(T=="fold"){if(c.length==1)R[c[0]].exp=!R[c[0]].exp;else R[c[0]].dz[c[1]].exp=!R[c[0]].dz[c[1]].exp}if(T=="enab"){var g=R[c[0]].dz[c[1]].dz[c[2]];
g.r=!g.r}if(T=="nchange"){if(c.length==1)R[c[0]].hK=x.data.aW;else R[c[0]].dz[c[1]].hK=x.data.aW}this.a5()};
dd.prototype.Bq=dd.prototype.WC=function(){this.rP()};dd.prototype.L4=function(x,R){this.Dn=x;if(this.V2==null)return;
if(R==hc.v||R==hc.cp)this.a5()};dd.prototype.a5=function(){if(this.Dn==null)return;X.Ra(this.V2);var x=this.Dn.UU;
if(x.length==0)return;var R=JSON.stringify(this.zr);for(var z=0;z<x.length;z++){var T=x[z],c=new dd.zu([z],R,T.exp,T.hK.split("=").pop());
c.parent=this;this.V2.appendChild(c.n);if(!T.exp)continue;for(var g=0;g<T.dz.length;g++){var d=T.dz[g],c=new dd.zu([z,g],R,d.exp,d.hK.split("=").pop());
c.parent=this;this.V2.appendChild(c.n);if(!d.exp)continue;for(var U=0;U<d.dz.length;U++){var e=d.dz[U],c=new dd.zu([z,g,U],R,null,go.get(bf.a4X(e)),e.r);
c.parent=this;this.V2.appendChild(c.n)}}}};dd.prototype.ahq=function(){var x=this.Dn.UU,R=this.zr;if(x.length==0){alert("No Actions Present");
return}if(R.length==1){alert("Select an Action first");return}if(this.Dn.e9!=null){alert("You can not apply actions while recording actions");
return}if(R.length==1)R.push(0);var T=x[R[0]],c=T.dz[R[1]],g=new aA(v.E.P,!0);g.data={d:v.H.LP,v2:[c.hK,T.hK]};
this.c(g)};dd.zu=function(x,R,T,c,g){ky.call(this);this.$s=x;var d=this.$s.length-1;this.n=X._("div","layeritem"+(JSON.stringify(x)==R?" selected":""));
this.dJ=X._("div","head");this.n.appendChild(this.dJ);this.dJ.setAttribute("style","height:24px");this.kZ=X._("div","headL");
this.dJ.appendChild(this.kZ);if(d!=0){var U=X._("div");U.style.width=d*20+"px";this.kZ.appendChild(U)}if(T!=null){var e=this.afZ=X._("div",T?"open":"closed");
this.kZ.appendChild(e)}else{var N=this.akI=X._("div","cmark");N.setAttribute("style","background-size:12px 12px; opacity:"+(g?1:.3));
this.kZ.appendChild(N)}if(d==0){var l=X._("div","folder");this.kZ.appendChild(l)}var J=this.jQ=X._("div","label");
J.textContent=c;this.kZ.appendChild(J);this.n.addEventListener("mouseup",this.Y2.bind(this),!1)};dd.zu.prototype=new ky;
dd.zu.prototype.Y2=function(x){if(x.detail==1&&x.target.tagName.toLowerCase()!="input"){var R="sel";
if(x.target==this.afZ)R="fold";if(x.target==this.akI)R="enab";var T=new aA(v.E.p,!0);T.data={d:R,$s:this.$s};
this.c(T)}else if(this.$s.length<3)var c=new dF.P$(this.jQ,this.U4.bind(this))};dd.zu.prototype.U4=function(x){var R=new aA(v.E.p,!0);
R.data={d:"nchange",aW:x,$s:this.$s};this.c(R)};function j5(){dF.call(this,[3],!1,"---lrs/adj",dF.sK.ahp)}j5.prototype=new dF("");
j5.prototype.rP=function(){if(!X._b(this.bp)||this.ra)return;this.bp.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.ra=[];var z=0;for(var x in hD.names){var R=new i_("<img src=\""+PIMG["adj/"+x]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,hD.names[x]);
R.k("click",this.axp,this);this.ra.push(R);this.bp.appendChild(R.n);if(z==4||z==10)X.pz(this.bp);z++}this.t()};
j5.prototype.Bq=function(){this.rP()};j5.prototype.WC=function(){this.rP()};j5.prototype.t=function(){dF.prototype.t.call(this);
if(this.ra==null)return;for(var z=0;z<this.ra.length;z++)this.ra[z].t()};j5.prototype.axp=function(x){var R=this.ra.indexOf(x.target),T=bI.mi()[R],c=new aA(T.K,!0);
c.data=T.C;this.c(c)};function dR(){dF.call(this,[12,22],!1,null,dF.sK.dl);this.V2=X._("div","padded");
this.Dn=null;this.bp.appendChild(this.V2);this.Ta=new em(null,17.7,10);this.Ta.parent=this;this.Ta.k(v.E.p,this.S0,this);
this.V2.appendChild(this.Ta.Sf)}dR.prototype=new dF("");dR.prototype.S0=function(x){var R=this.Ta.h(),T=new aA(v.E.v,!0);
T.data={d:"setstl",b:R.U1};T.f=D.Wi;this.c(T);T.data={d:"confirm"};this.c(T)};dR.prototype.L4=function(x,R){this.Dn=x;
this.a5()};dR.prototype.a5=function(){var x=this.Dn;if(x==null)return;this.Ta.zB([x.YC,x.hP]);this.Ta.s7()};
dR.prototype.Bq=function(){this.a5()};dR.prototype.WC=function(){this.a5()};var gq=function(){function x(){dF.call(this,[9,3],!1,"---panels/brush",dF.sK.fq);
this.n0=null;this.Dn=null}x.prototype=new dF("");x.prototype.rP=function(){var g=X._("div","");this.bp.appendChild(g);
this.$V=X._("div","bordered cell");this.$V.setAttribute("style","width:10em; height:28.5em;");g.appendChild(this.$V);
this.lo=[];this.RP=null;this.OU=[];var d=this.at8.bind(this);this.Pr=[new T("basic"),new T("useTipDynamics"),new T("useScatter"),new T("useColorDynamics"),new T("usePaintDynamics")];
for(var z=0;z<this.Pr.length;z++){var U=X._("div","listitem"),e=this.Pr[z],l=null;e.parent=this;e.k("brushchange",this.apI,this);
var N=e.sC;if(z==0){this.RP=new kk(N);U.appendChild(this.RP.n)}else{l=new kv(N,!1);l.k(v.E.p,this.aya,this);
U.appendChild(l.n)}this.OU.push(l);this.$V.appendChild(U);this.lo.push(U);U.addEventListener("click",d,!1)}this.tR=X._("div","cell padded");
g.appendChild(this.tR);this.setItem(0);this.V=X._("canvas");this.V.height=10;g.appendChild(this.V);this.xv=this.V.getContext("2d");
this.Hm()};x.prototype.s7=function(g,d){if(this.KQ==g)return;this.KQ=g;this.kh=d;this.Hm()};x.prototype.WC=function(){if(!X._b(this.bp))return;
if(this.$V){this.Hm();return}this.rP();this.t();this.L4(this.Dn,hc.cp)};x.prototype.t=function(){dF.prototype.t.call(this);
if(this.$V==null)return;this.RP.t();for(var z=1;z<this.OU.length;z++)this.OU[z].t();for(var z=0;z<this.Pr.length;
z++)this.Pr[z].t()};x.prototype.apI=function(g){var d=this.Pr.indexOf(g.currentTarget),U=JSON.parse(JSON.stringify(this.Pr[d].n0)),e=new aA(v.E.P,!0);
e.data={d:v.H.pV,vr:hc.nI,n0:U};this.c(e)};x.prototype.aya=function(g){this.a7U(this.OU.indexOf(g.currentTarget),g.currentTarget.KT())};
x.prototype.at8=function(g){var z=this.lo.indexOf(g.currentTarget);if(g.target.tagName.toLowerCase()=="input")return;
if(this.OU[z]&&!this.OU[z].KT()){this.OU[z].Kl();this.a7U(z,!0)}this.setItem(z)};x.prototype.a7U=function(g,d){this.Pr[g].abd(d)};
x.prototype.setItem=function(g){for(var z=0;z<this.Pr.length;z++)this.lo[z].className="listitem";if(this.tR.firstChild)this.tR.removeChild(this.tR.firstChild);
this.lo[g].className="listitem selected";this.tR.appendChild(this.Pr[g].n)};x.prototype.L4=function(g,d){this.Dn=g;
if(this.$V==null)return;for(var z=0;z<this.Pr.length;z++)this.Pr[z].L4(g,d);if(d==hc.nI||d==hc.cp){this.n0=g.UK.qa;
this.Hm()}if(d==hc.Js)this.Hm()};x.prototype.Hm=function(){if(this.n0)this.enable();else{this.disable();
return}if(!X._b(this.bp))return;var g=this.Dn;for(var z=0;z<this.Pr.length;z++){this.Pr[z].T(this.n0);
if(this.OU[z])this.OU[z].T(this.Pr[z].KT())}var d=JSON.parse(JSON.stringify(this.n0));d.Brsh.v.Dmtr.v.val=Math.min(d.Brsh.v.Dmtr.v.val,50);
X.ja(this.V,this.KQ,80);var U=new aP(0,0,this.V.width,this.V.height),e=this.Dn.UK,N=new fC(d,e?e.DE:null,e?e.YF:null,{_v:1},g.gR,g.tn,U,null,0),l=U.e/2,J=U.m-l*2;
N.moveTo(l,l);for(var z=0;z<=J;z+=10)N.lineTo(l+z,l+20*Math.sin(2*Math.PI*z/J));N.finish();var w=this.xv.createImageData(U.m,U.e);
u.yU(N.Gr(),N.zC(),w.data,U);this.xv.putImageData(w,0,0)};function R(g){ky.call(this);g=g.split(".")[0];
this.yZ=g;var d=this.n=X._("span"),U=["Off","Fade"];U.push(g=="angleDynamics"?"Direction":"Pen Pressure");
var e=this.zn=new ad("Control",U);e.k(v.E.p,this.DV,this);d.appendChild(e.n);var N=this.ac7=new i1(null,0,100,null,null,null,!0);
N.T(50);N.k(v.E.p,this.DV,this)}R.prototype=new ky;R.prototype.T=function(g){g=g<2?g:2;this.zn.T(g);
this.a5()};R.prototype.h=function(){var g=this.zn.h(),d=this.yZ;g=g<=1?g:d=="angleDynamics"?6:2;return g};
R.prototype.DV=function(g){this.a5();g.target=g.currentTarget=this;this.c(g)};R.prototype.a5=function(g){this.ac7.Dd(this.zn.h()==1)};
function T(g){ky.call(this);this.n=X._("div");this.n0=null;var d=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(g);
this.sC=[[15,0],[15,1],[15,2],[15,3],"Transfer"][d];this.V6=g;this.px={};this.a4c=null;var U=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][d];
for(var z=0;z<U.length;z++){var e=U[z],N;if(e=="--br"){N=new dH;this.n.appendChild(N.Sf.firstChild)}else if(e=="Brsh.Dmtr")N=new aw([12,14,0],1,1e3," px",0,!0);
else if(e=="Brsh.Angl")N=new aw([12,15],0,359," \xB0");else if(e=="Brsh.Rndn")N=new aw([12,16],0,100," %");
else if(e=="Brsh.Hrdn")N=new aw([12,17],0,100," %");else if(e=="Brsh.Spcn")N=new aw([12,18],1,300," %");
else if(e=="szVr.jitter")N=new aw([15,4,0],0,100,"%");else if(e=="minimumDiameter")N=new aw([15,4,1],0,100,"%");
else if(e=="angleDynamics.jitter")N=new aw([15,4,2],0,100,"%");else if(e.endsWith("bVTy"))N=new R(e);
else if(e.endsWith("fStp"))N=new i1(null,0,100,null,null,null,!0);else if(e=="roundnessDynamics.jitter")N=new aw([15,4,3],0,100,"%");
else if(e=="minimumRoundness")N=new aw([15,4,4],1,100,"%");else if(e=="scatterDynamics.jitter")N=new aw([15,5,0],0,1e3," %");
else if(e=="Cnt")N=new aw([15,5,1],1,20);else if(e=="countDynamics.jitter")N=new aw([15,5,2],0,100," %");
else if(e=="clVr.jitter")N=new aw([15,6,0],0,100," %");else if(e=="H")N=new aw([15,6,1],0,100," %");
else if(e=="Strt")N=new aw([15,6,2],0,100," %");else if(e=="Brgh")N=new aw([15,6,3],0,100," %");else if(e=="opVr.jitter")N=new aw("Opacity Jitter",0,100," %");
else if(e=="prVr.jitter")N=new aw("Flow Jitter",0,100," %");else throw e;this.px[e]=N;N.parent=this;
N.k(v.E.p,this.DV,this)}}T.prototype=new ky;T.prototype.agk=function(){this.c(new aA("brushchange"))};
T.prototype.T=function(g){this.n0=JSON.parse(JSON.stringify(g));this.n.className=this.KT()?"":"disabled";
this.Hm()};T.prototype.t=function(){for(var g in this.px)this.px[g].t()};T.prototype.KT=function(){return!0};
T.prototype.L4=function(g,d){if(d==hc.fq||d==hc.cp){var U=this.px["--br"];if(U)U.zB(g.UK)}};T.prototype.DV=function(g){var d=g.target,U=this.px,e;
for(var N in U)if(U[N]==d)e=N;if(e=="--br"){var l=new aA(v.E.P,!0);l.data={d:v.H.pV,vr:hc.nI,n0:d.h()};
this.c(l)}else{var J=c(this.n0,e),w=d.h();if(J){if(e.endsWith("bVTy")||e.endsWith("fStp")||e=="Cnt")J.v=w;
else J.v.val=w;this.agk()}}};T.prototype.Hm=function(){var g=this.n0,d=g.Brsh.v.classID,U=this.px,e=d!=this.a4c;
this.a4c=d;if(e){X.Ra(this.n);for(var N in U){if(d!="computedBrush"&&d!="sampledBrush"&&N=="Brsh.Rndn")continue;
if(d!="computedBrush"&&N=="Brsh.Hrdn")continue;var l=U[N],J=l.n;if(N=="--br"){J=l.s3.n;J.style.width="auto"}this.n.appendChild(J)}}for(var N in U){if(N=="--br")continue;
var w=c(g,N),s;if(w){if(N.endsWith("bVTy")||N.endsWith("fStp")||N=="Cnt")s=w.v;else s=w.v.val;U[N].T(s);
if(N.endsWith("fStp"))U[N].Dd(c(g,N.split(".")[0]+".bVTy").v==1)}}};T.prototype.KT=function(){var g=this.V6;
return g=="basic"?!0:this.n0[g].v};T.prototype.abd=function(g){var d=this.V6;if(d=="basic")return;this.n0[d].v=g;
bE.vY.aow(this.n0);this.agk()};function c(g,d){var U=d.split(".");g=g[U[0]];for(var z=1;z<U.length;z++){if(g==null)return g;
g=g.v[U[z]]}return g}return x}();function jB(){dF.call(this,[9,0],!1,"---panels/history",dF.sK.hG);this.bp.setAttribute("style","min-width:200px;");
this.QB=X._("div","hpbody scrollable");this.QB.style.height="160px";this.bp.appendChild(this.QB);this.arq=-1;
this.uP=[];this.xr="";this.t4=new d$([{name:"Clear History"}],[{K:v.E.v,f:D.hG,C:{d:"h_clear"}}])}jB.prototype=new dF("");
jB.prototype.w_=function(){return this.t4};jB.prototype.s7=function(x,R){this.WC()};jB.prototype.Bq=function(x){if(x==null){X.Ra(this.QB);
this.xr="";return}X.Ra(this.QB);var R=0;for(var z=0;z<x.history.length;z++)if(z<=x.md&&!x.history[z].Jy)R=z;
for(var z=0;z<x.history.length;z++){var T=x.history[z];if(T.Jy)continue;var c=new gs(T,z,R);c.parent=this;
this.QB.appendChild(c.n);this.uP.push(c)}if(x.md==x.history.length-1)this.WC()};jB.prototype.WC=function(){this.QB.scrollTop=this.QB.scrollHeight};
jB.prototype.t=function(){dF.prototype.t.call(this);for(var z=0;z<this.uP.length;z++)this.uP[z].t()};
function gs(x,z,R){ky.call(this);this.index=z;this.n=X._("div",z==R?"listitem selected":"listitem");
this.gO=x.name;this.t();if(z>R)this.n.style.opacity=.4;this.n.addEventListener("click",this.fz.bind(this),!1)}gs.prototype=new ky;
gs.prototype.t=function(){this.n.textContent=go.get(this.gO)};gs.prototype.fz=function(x){if(this.index==this.parent.arq)return;
this.ar({d:"h_itemchange",index:this.index})};gs.prototype.ar=function(x){var R=new aA(v.E.v,!0);R.data=x;
R.f=D.hG;this.c(R)};function fL(){dF.call(this,[9,10],!1,"---panels/histogram",dF.sK.aeN);var x=X._("div","padded");
this.bp.appendChild(x);this.rf=new jp(256,!0);x.appendChild(this.rf.n);this._c=null}fL.prototype=new dF("");
fL.prototype.Bq=function(x){this._c=x;this.a5()};fL.prototype.a5=function(){var x=this._c;if(!X._b(this.bp))return;
if(x==null||x.g.length==0){this.rf.T(u.wu(u.B(4)));return}var R=x.Yr(),T=new aP(0,0,x.m,x.e),c=T.Z();
if(x.u){var g=x.u.rect,d=u.B(g.Z()*4);u.yU(R,T,d,g);u.iv(x.u.channel,d);R=d;T=g;var U=x.u.channel;c=0;
for(var z=0;z<U.length;z++)c+=U[z];c=Math.round(c/255)}var e=u.wu(R);e[0][255]+=3*(c-e[5]);for(var z=1;
z<4;z++)e[z][255]+=c-e[5];this.rf.T(e,c)};fL.prototype.L4=function(x,R){this.rf.M0(ah.zF[x.GA]["--text-color"])};
fL.prototype.t=function(){dF.prototype.t.call(this);this.rf.t()};fL.prototype.WC=function(){this.a5()};
function iC(){dF.call(this,[9,8],!1,"---adj/clrL",dF.sK.anD);this.V2=X._("div","padded");this.bp.appendChild(this.V2);
this.Hd=new jl(10);this.V2.appendChild(this.Hd.n);this.HH=new iq;this.HH.parent=this;this.V2.appendChild(this.HH.Sf);
this.HH.Sf.style.marginTop="6px";this.Hd.k(v.E.p,this.aiH,this);this.HH.k(v.E.p,this.aiH,this)}iC.prototype=new dF("");
iC.prototype.aiH=function(x){var R;if(x.target==this.Hd)R=this.Hd.h();else{var T=this.HH.h();R=Math.round(T.o)<<16|Math.round(T.A)<<8|Math.round(T.J)}var c=new aA(v.E.P,!0);
c.data={d:v.H.pV,vr:hc.Js,J2:0,b:R};this.c(c)};iC.FL=function(x,R){var T=R==hc.cp,c=x.VH,g=x.Vz,d=g.strokeStyleContent.v,U=null;
if((R==hc.GD||T)&&c.KI==1){U=u.I.ir(c.TB.Clr.v);U=U.o<<16|U.A<<8|U.J}if((R==hc.Jt||T)&&g.strokeEnabled.v&&d.classID=="solidColorLayer"){U=u.I.ir(d.Clr.v);
U=U.o<<16|U.A<<8|U.J}if(R==hc.Js||T)U=x.gR;return U};iC.prototype.L4=function(x,R){var T=x.gR,c=R==hc.cp,g=iC.FL(x,R);
if(g!=null){this.Hd.T(g);this.HH.T({o:g>>>16&255,A:g>>>8&255,J:g>>>0&255,hB:"Color #"+u.TN(g)})}if(R==hc.vm||c){var d=x.abf;
this.HH.zB(d)}};function cm(){dF.call(this,[12,72],!1,"---adj/mixr",dF.sK.aek);this.WR=null;this.Ks=null;
this.QB=X._("div","lpbody scrollable");this.QB.style.marginTop="4px";this.vB=X._("div","lpfoot");this.bp.appendChild(this.QB);
this.bp.appendChild(this.vB);this.QI=[];this.k("click",this.Pq,this);this.ax=[];cm.fK([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.ax,this.vB,this.sR.bind(this),this.VR.bind(this));
this.t4=new d$([{name:"Merge Channels",J4:!0}],[{K:v.E.P,C:{d:v.H.i$,$k:"mergechannels"}}])}cm.prototype=new dF("");
cm.prototype.w_=function(){return this.t4};cm.fK=function(x,R,T,c,g){for(var z=0;z<x.length;z++){var d=new i_("W",!1,x[z]);
R.push(d);X.Us(d.n,c);T.appendChild(d.n);var U=d.n;U.addEventListener("drop",g,!1);U.addEventListener("dragover",function(e){e.preventDefault()},!1);
U.addEventListener("dragenter",X.Ri,!1)}};cm.L2=function(x,R){for(var z=0;z<x.length;z++)if(x[z].n==R.currentTarget)return z};
cm.prototype.sR=function(x){var R=cm.L2(this.ax,x);if(R==0)this.c(eX.m1(!0,null,x));else{R--;var T=new aA(v.E._M,!0),c={classID:"null"};
if(R==0)c.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(R==1)c.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else c.null=bf.rX("Chnl",!0);T.data={Sm:["duplicate","make","delete"][R],M1:c};this.c(T)}};cm.prototype.VR=function(x){var R=cm.L2(this.ax,x);
if(R==2){var T=new aA(v.E._M,!0),c={classID:"null"};c.null=bf.rX("Chnl",!0);T.data={Sm:"duplicate",M1:c};
this.c(T)}else this.sR(x)};cm.prototype.$S=function(z){var x=this.QI,R=x[z];if(R==null){var T=X._("canvas");
R=T.getContext("2d");x.push(R)}return R};cm.prototype.Pq=function(x){var R=this.WR.slice(0),T=x.data.iY,c=R[0]+R[1]+R[2],g=this.Ks;
if(-5<T&&T<0){var d=-T-1;if(x.data.tO){if(d==0)R=c==3?[0,0,0]:[1,1,1];else{if(R[d-1]==0)R[d-1]=1;else if(!0)R[d-1]=0}}else{if(d==0)R=[1,1,1];
else{R=[0,0,0];R[d-1]=1}for(var z=0;z<g.Hp.length;z++)g.Hp[z].PW=!1;g.nE=[]}var U=new aA(v.E.v,!0);U.f=D.jw;
U.data={d:"setcls",U:R};this.c(U);return}if(-1<T){var e=g.R[T],N=e.s4==1?e.le():e.Ct(g).F;if(x.data.tO)N.PW=!N.PW;
else{for(var z=0;z<g.Hp.length;z++)g.Hp[z].PW=!1;g.nE=[]}}else{var l=-T-5,N=g.Hp[l];if(x.data.tO)N.PW=!N.PW;
else{for(var z=0;z<g.Hp.length;z++)g.Hp[z].PW=!1;N.PW=!0;g.nE=[l];if(c!=0){var U=new aA(v.E.v,!0);U.f=D.jw;
U.data={d:"setcls",U:[0,0,0]};this.c(U)}}}g.Sa=g.Sg=!0};cm.prototype.WC=function(){this.OD()};cm.prototype.Bq=function(x){this.Ks=x;
this.OD()};cm.prototype.OD=function(){var x=this.Ks,R=this.QB,o=4;X.Ra(R);if(x==null||!X._b(R))return;
var T=x.m,c=x.e,g=new aP(0,0,T,c),d=this.WR=x.Q.U.slice(0),U=d[0]+d[1]+d[2],e=Math.round(34*X.mM()),N=e;
if(T>c)N=Math.round(N*c/T);else e=Math.round(e*T/c);var l=["RGB"].concat(hD.Q7);for(var z=0;z<4;z++){var J=this.$S(z);
u.Jf.G3(J,e,N,g,x.Yr(),g,!1,z==0?null:z-1);var w=z==0?U==3:d[z-1]==1,s=new eX(-1-z,!0,!0,J,l[z],w,w);
s.parent=this;R.appendChild(s.n);X.$I(J.canvas)}for(var z=0;z<x.g.length;z++){var V=x.R[x.g[z]],a=V.s4;
if(a!=1&&a!=3)continue;var O=a==1?V.le():V.Ct(x).F,J=this.$S(o+z);o++;u.Jf.RB(J,e,N,g,O);var s=new eX(x.g[z],!0,!0,J,V.getName()+(a==1?"":" Filter")+" Mask",!0,O.PW);
s.parent=this;R.appendChild(s.n);X.$I(J.canvas)}for(var z=0;z<x.Hp.length;z++){var O=x.Hp[z],J=this.$S(o+z);
u.Jf.RB(J,e,N,g,O);var s=new eX(-5-z,!0,O.name=="Quick Mask",J,O.name,x.nE.indexOf(z)!=-1,O.PW,D.d_,{d:F.Nq,J2:"rnm",iY:z});
s.parent=this;R.appendChild(s.n);X.$I(J.canvas)}};cm.prototype.s7=function(x,R){this.QB.style.height=R-30-4+"px";
this.QB.style.width=x+"px"};cm.prototype.t=function(){dF.prototype.t.call(this);this.OD();cm.bd(this.ax,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
cm.bd=function(x,R,T){var R=cZ.vk(R,null,"miniscale");for(var z=0;z<x.length;z++)x[z].W7(R[z],T?T[z]:null)};
function eX(x,R,T,c,g,d,U,e,N){ky.call(this);this.n=X._("div");this.awT=x;this.aly=R;this.xv=c;this.ads=e;
this.awj=N;this.dJ=X._("div",d?"head selected":"head");this.dJ.setAttribute("style","height: "+40+"px");
var l=X._("div","headL"),J=X._("div","headR"),w=15;this.n.appendChild(this.dJ);this.dJ.appendChild(l);
this.dJ.appendChild(J);this.Uk=X._("div","eye");if(1<X.mM()&&X.mM()<1.5)w=w/X.mM();this.Uk.setAttribute("style","background-size: "+w+"px "+w+"px;");
this.Uk.style.opacity=U?1:.2;if(R)l.appendChild(this.Uk);this.O4=X._("div","thumb");if(c)this.O4.appendChild(c.canvas);
l.appendChild(this.O4);this.Cz=X._("div","label");if(T)this.Cz.style.fontStyle="italic";this.Cz.textContent=go.get(g);
l.appendChild(this.Cz);var s=this.dJ;s.setAttribute("draggable","true");s.addEventListener("dragstart",function(o){o.stopPropagation();
o.dataTransfer.setData("Text","hello")},!1);s.addEventListener("drop",X.Ri,!1);X.Us(this.dJ,this.auU.bind(this));
if(!T)this.dJ.addEventListener("mouseup",this.amy.bind(this),!1)}eX.prototype=new ky;eX.prototype.U4=function(x){var R=new aA(v.E.v,!0);
R.f=this.ads;R.data=this.awj;R.data.name=x;this.c(R)};eX.prototype.auU=function(x){var R=x.ctrlKey||x.metaKey,T=this.awT;
if(R&&x.target==this.xv.canvas){this.c(eX.m1(this.aly,T,x))}else{var c=new aA("click",!0);c.data={iY:T,tO:x.target==this.Uk,Rg:R};
this.c(c)}};eX.prototype.amy=function(x){if(x.detail==2&&x.target==this.Cz){var R=new dF.P$(this.Cz,this.U4.bind(this))}};
eX.m1=function(x,R,T){var c=0;if(T.shiftKey)c++;if(T.altKey)c+=2;var g=new aA(v.E.v,!0);g.f=D.a$;if(x){if(-5<R&&R<0){g=new aA(v.E._M,!0);
g.data=D.Fs.aoR(c,["RGB","Rd","Grn","Bl"][-1-R])}else g.data={d:"fromchannel",v2:[R,0,c]}}else g.data={d:"frompath",v2:[R,0,c]};
return g};function cV(){dF.call(this,[8,9],!1,"---panels/paths",dF.sK.$g);this.WR=null;this.Ks=null;
this.QB=X._("div","lpbody scrollable");this.QB.style.marginTop="4px";this.vB=X._("div","lpfoot");this.bp.appendChild(this.QB);
this.bp.appendChild(this.vB);this.bp.addEventListener("click",this.a3l.bind(this),!1);this.QI=[];this.k("click",this.Pq,this);
this.ax=[];cm.fK(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.ax,this.vB,this.sR.bind(this),this.VR.bind(this))}cV.prototype=new dF("");
cV.prototype.sR=function(x,R){var T=cm.L2(this.ax,x),c;if(T<2){if(T==1&&x.altKey){c=new aA(v.E.P,!0);
c.data={d:v.H.i$,$k:"strokepath"}}else{c=new aA(v.E._M,!0);c.data=D.h3.Ll(T==0?null:"PbTl")}}else if(T==2)c=eX.m1(!1,null,x);
else if(T==3){c=new aA(v.E._M,!0);c.data={Sm:"make",M1:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(T>3){var c=new aA(v.E.v,!0);
c.f=D.OZ;c.data={d:"pathedit",J2:["new","del"][T-4],aAG:R}}this.c(c)};cV.prototype.VR=function(x){this.sR(x,!0)};
cV.prototype.$S=function(z){var x=this.QI,R=x[z];if(R==null){var T=X._("canvas");R=T.getContext("2d");
x.push(R)}return R};cV.prototype.a3l=function(x){if(x.target==this.QB){var R=this.Ks;R.pT=[];R.Kx=[];
R.Sg=!0;R.Sa=!0}};cV.prototype.Pq=function(x){var R=x.data.iY,T=this.Ks,c=x.data.Rg,g=R,d=T.Kx,U=T.pT;
if(R<0){g=-1-R;d=T.pT;U=T.Kx}if(c){var e=d.indexOf(g);if(e==-1)d.push(g);else d.splice(e,1)}else{while(d.length!=0)d.pop();
while(U.length!=0)U.pop();d.push(g)}T.Sg=!0;T.Sa=!0};cV.prototype.WC=function(){this.OD()};cV.prototype.Bq=function(x){this.Ks=x;
this.OD()};cV.prototype.OD=function(){var x=this.Ks,R=this.QB;X.Ra(R);if(x==null||!X._b(R))return;var T=x.m,c=x.e,g=new aP(0,0,T,c),d=this.WR=x.Q.U.slice(0),U=d[0]+d[1]+d[2],e=Math.round(34*X.mM()),N=e;
if(T>c)N=Math.round(N*c/T);else e=Math.round(e*T/c);var l=x.JR(),J=l[0];for(var z=0;z<J.length;z++){var w=J[z],s=this.$S(z);
u.Jf.ab8(s,e,N,g,w.add.vmsk);var o=new eX(w.iY,!1,w.iY>=0,s,w.name,l[1].indexOf(z)!=-1,!1,D.OZ,{d:"pathedit",J2:"rnm",iY:w.iY});
o.parent=this;R.appendChild(o.n);X.$I(s.canvas)}};cV.prototype.s7=function(x,R){this.QB.style.height=R-30-4+"px";
this.QB.style.width=x+"px"};cV.prototype.t=function(){dF.prototype.t.call(this);this.OD();cm.bd(this.ax,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function kz(x){dF.call(this,[9,x?4:5],!1,"---panels/"+(x?"character":"paragraph"),x?dF.sK.avq:dF.sK.aCh);
this.bp.setAttribute("style","min-width:240px;");this.ayt=x;this.L7=null;this.Dn=null}kz.prototype=new dF("");
kz.prototype.rP=function(){this.L7=new iL;var x=this.L7,R=this.bp;x.parent=this;if(this.ayt){var T=X._("div","marged");
R.appendChild(T);T.appendChild(x.a8.n);R.appendChild(X._("hr"));var c=X._("div","marged");R.appendChild(c);
c.appendChild(x.QE.n);c.appendChild(x.Fp.n);var g=X._("div","marged");R.appendChild(g);g.appendChild(x.H0.n);
g.appendChild(x.E0.n);R.appendChild(X._("hr"));var d=X._("div","marged");R.appendChild(d);d.appendChild(x.eQ.n);
d.appendChild(x.E_.n);var U=X._("div","marged");R.appendChild(U);U.appendChild(x.QR.n);U.appendChild(x.Q$.n);
U.appendChild(x.JY.n);R.appendChild(X._("hr"));var e=X._("div","marged");R.appendChild(e);e.appendChild(x.Di.n);
e.appendChild(x.Ep.n);e.appendChild(x.Wr.n);e.appendChild(x.mI.n);e.appendChild(x.fT.n);e.appendChild(x.KE.n);
e.appendChild(x.xT.n);e.appendChild(x.EE.n)}else{var T=X._("div","marged");R.appendChild(T);T.appendChild(x.un.n);
T.appendChild(x.BY.n);T.appendChild(x.E4.n);T.appendChild(x.aiY.n);T.appendChild(x.azv.n);T.appendChild(x.agC.n);
T.appendChild(x.ahG.n);R.appendChild(X._("hr"));var c=X._("div","marged");R.appendChild(c);c.appendChild(x.ko.n);
c.appendChild(x.ln.n);c.appendChild(x.k4.n);R.appendChild(X._("hr"));var g=X._("div","marged");R.appendChild(g);
g.appendChild(x.RR.n);g.appendChild(x.wQ.n);g.appendChild(x.w3.n);g.appendChild(x.wi.n)}};kz.prototype.WC=function(){if(!X._b(this.bp))return;
if(this.L7==null){this.rP();var x=this.Dn;if(x)this.L7.T(x.iT,x.dA,x.NU);this.L7.t()}};kz.prototype.t=function(){dF.prototype.t.call(this);
if(this.L7)this.L7.t()};kz.prototype.L4=function(x,R){this.Dn=x;if(R!=hc.cp&&R!=hc.q3&&R!=hc.OH&&R!=hc.ce)return;
if(this.L7)this.L7.T(x.iT,x.dA,x.NU)};function eU(){dF.call(this,[9,13],!1,"---panels/glyphs",dF.sK.a9C);
this.Dn=null}eU.prototype=new dF("");eU.prototype.rP=function(){this.L7=new iL;this.L7.parent=this;this.aat=null;
this.apb=null;this.fV=null;this.a1X=null;this.GV=Math.round(290*X.mM());this.BM=45;this.atl=4;this.a3k=this.a5.bind(this);
this.acy=0;this.Qi=new ad(null,["Hi","Hello"]);this.Qi.k(v.E.p,this.a5,this);var x=this.wH=new i_("-",null,null,!0);
x.k("click",this.avh,this);var R=this.a5B=new i_("+",null,null,!0);R.k("click",this.avh,this);this.s3=new dY(!1);
this.s3.k(v.E.p,this.Mj,this);this.s3.n.style.height=250+"px";var T=this.e8=X._("div","form padded");
this.bp.appendChild(T);T.appendChild(this.L7.a8.n);X.pz(T);T.appendChild(this.Qi.n);T.appendChild(x.n);
T.appendChild(R.n);this.bp.appendChild(this.s3.n)};eU.prototype.s7=function(x,R){if(this.KQ==x||this.L7==null)return;
this.KQ=x;this.GV=Math.floor((x-13)*X.mM());this.e8.setAttribute("style","width:"+this.GV/X.mM()+"px;");
this.s3.n.style.height=R-73+"px";this.a5()};eU.prototype.Mj=function(x){var R=this.arv(),T=Math.round(this.GV/R);
R/=X.mM();var c=this.s3.h()[0]*T*this.atl,g=this.s3.ac4();c+=Math.floor(g.y/R)*T;c+=Math.floor(g.x/R);
var d=this.fV[this.Qi.h()];if(c>=d.length)return;var U=d[c],e=this.a1X[U],N=new aA(v.E.v,!0);N.f=D.kY;
if(e.u9.length==0)N.data={d:"insertGlyph",b:c+1};else N.data={d:"insertText",b:String.fromCodePoint(e.u9[0])};
this.c(N)};eU.prototype.avh=function(x){var R=1.2;if(x.target==this.wH){if(this.BM>20)this.BM/=R}else{if(this.BM<100)this.BM*=R}this.a5()};
eU.prototype.WC=function(){this.L4(this.Dn)};eU.prototype.L4=function(x,R){this.Dn=x;if(!X._b(this.bp))return;
if(this.L7==null)this.rP();this.L7.T(x.iT,x.dA,x.NU);var T=x.iT,c=T.Ba.Font,N=0;if(c==null)return;var g=T.uY[c].Name;
if(this.aat==g)return;var c=x.dA.WG(g);if(c==null)return;var d=c.maxp.numGlyphs,U=this.a1X=new Array(d);
for(var z=0;z<d;z++)U[z]={u9:[]};var e=Date.now(),l=new Uint8Array(1048575);for(var z=0;z<1048575;z++){var J=Typr.U.codeToGlyph(c,z);
if(J!=0&&J<d){l[z]=1;if(U[J].u9.length==0)N++;U[J].u9.push(z)}}var w=eU.fX,s=[];for(var z=0;z<w.length;
z++)s.push([]);for(var J=1;J<d;J++){s[0].push(J);var o=U[J].u9[0];if(o==null){continue}for(var V=1;V<w.length;
V++){var a=w[V].uh;for(var z=0;z<a.length;z+=2)if(a[z]<=o&&o<=a[z+1]){s[V].push(J);break}}}this.fV=s;
var O=[];for(var z=0;z<w.length;z++)O.push(w[z].LC+" ("+s[z].length+")");var S=this.Qi.h();this.Qi.GN(O);
this.Qi.T(S);this.aat=g;this.apb=c;this.a5()};eU.prototype.arv=function(x){var R=Math.floor(this.GV/this.BM);
return Math.floor(this.GV/R)};eU.prototype.a5=function(x){if(!X._b(this.bp)||this.fV==null)return;var R=this.fV[this.Qi.h()],T=R.length,c=this.apb,g=Typr.U,d=this.arv(),U=d,e=U*.8,N=U*.8/c.head.unitsPerEm,l=[],J=Math.floor(this.GV/d),w=Math.ceil(T/J),s=this.atl,o=Date.now();
for(var V=0;V<w;V+=s){var a=X._("canvas"),O=a.getContext("2d");a.width=d*J;a.height=U*s;O.fillStyle="white";
O.fillRect(0,0,J*d,U*s);for(var S=0;S<s;S++){for(var L=0;L<J;L++){var z=R[(V+S)*J+L];if(z==null)break;
var Q=g.glyphToPath(c,z),b=u.M.QK(Q.crds);O.fillStyle="#252525";if(b.Y3()){var Z=c.hmtx,I=[],K=170;for(var y in Z)I.push(y);
var r=Z[I[0]][z],h=Z[I[1]][z],k=Math.max(r,h);Q={cmds:"M L M L M L".split(" "),crds:[0,0,k,0,0,-K,0,K,k,-K,k,K]};
b.m=k;b.x=0;O.strokeStyle="rgba(0,255,0,1)"}O.beginPath();var H=L*d+(d-b.m*N)*.5-b.x*N,p=S*U+e;O.translate(H,p);
O.scale(N,-N);g.pathToContext(Q,O);O.scale(1/N,-1/N);O.translate(-H,-p);b.Y3()?O.stroke():O.fill()}}O.beginPath();
for(var L=0;L<J;L++){var f=L*d+d+.5;O.moveTo(f,0);O.lineTo(f,U*s)}for(var S=0;S<s;S++){var A=S*U+U+.5;
O.moveTo(0,A);O.lineTo(J*d,A)}O.strokeStyle="rgba(0,0,0,0.3)";O.stroke();l.push(a)}this.s3.j7(l,null,d*J,U*s)};
eU.fX=[{LC:"All Glyphs"},{LC:"Basic Latin, Latin 1",uh:[0,127,128,143]},{LC:"Latin Extended-A",uh:[256,383]},{LC:"Latin Extended-B",uh:[384,591]},{LC:"Punctuations",uh:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{LC:"Greek",uh:[880,1023]},{LC:"Cyrillic",uh:[1024,1279]},{LC:"Hebrew",uh:[1424,1535]},{LC:"Arabic",uh:[1536,1791]},{LC:"Emoji",uh:[9728,10095,127744,129535]}];
function ci(){dF.call(this,[13,0],!1,null,dF.sK.Js);this.M8=0;this.au9=0;this.Dn=null}ci.prototype=new dF("");
ci.prototype.rP=function(){if(!X._b(this.bp)||this.Yc)return;var x=X._("div","flexrow padded");this.bp.appendChild(x);
var R=X._("div");x.appendChild(R);this.Yc=[];for(var z=0;z<2;z++){var T=new dW;this.Yc.push(T);T.k("click",this.a5l,this);
R.appendChild(T.n)}this.Ut=new jf(192);console.log("hsb picker");this.Ut.k(v.E.p,this.eT,this);this.Uh=new bQ;
this.Uh.parent=this;x.appendChild(this.Ut.n);this.L4(this.Dn,hc.cp)};ci.prototype.a5l=function(x){var R=x.currentTarget,T=this.Yc.indexOf(R);
if(T==this.M8){this.Uh.WE(T)}else{this.M8=T;this.a5()}};ci.prototype.eT=function(x){var R=this.Ut.h();
this.Ut.T(R);var T=Math.round(R.o*255)<<16|Math.round(R.A*255)<<8|Math.round(R.J*255),c=new aA(v.E.P,!0);
c.data={d:v.H.pV,vr:hc.Js,J2:this.M8,b:T};this.c(c);this.au9=Date.now()};ci.prototype.a5=function(){if(this.Uh==null)return;
var x=this.Dn,R=this.M8,T=[x.gR,x.tn];for(var z=0;z<2;z++){var c=this.Yc[z],g=c.n.style;c.M0(T[z]);if(z==R)g.filter="drop-shadow(0 0 1px #000000)"}var d=T[R];
if(Date.now()-this.au9>100)this.Ut.T({o:(d>>>16)/255,A:(d>>>8&255)/255,J:(d&255)/255})};ci.prototype.L4=function(x,R){this.Dn=x;
if(this.Uh==null)return;if(R==hc.cp||R==hc.Js){this.Uh.aaD(x.gR,x.tn);this.a5()}};ci.prototype.Bq=function(){this.rP()};
ci.prototype.WC=function(){this.rP();this.a5()};function a$(){dF.call(this,"CSS",!1,"---panels/css",dF.sK.CSS);
this._c=null;var x=X._("div","padded");this.bp.appendChild(x);this.BS=X._("textarea");X.Sc(this.BS);
x.appendChild(this.BS)}a$.prototype=new dF("");a$.prototype.s7=function(x,R){if(this.KQ==x)return;this.KQ=x;
this.BS.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(x-10)+"px; height:"+(R-10)+"px")};
a$.prototype.Bq=function(x){this._c=x;this.a5()};a$.prototype.L4=function(x,R){if(R==hc.OH)this.a5()};
a$.prototype.a5=function(){var x=this._c;if(x==null||x.g.length==0)return;if(!X._b(this.bp))return;var R=x.R[x.g[0]],T=CSS.a7r(R,x);
if(T.length!=0)this.BS.value=T.join(";\n")+";";else this.BS.value=""};a$.prototype.WC=function(){this.a5()};
function cL(){dF.call(this,"Text to Image",!1,null,dF.sK.aiB);this._c=null;var x=this.ayf=X._("div","form padded labfxd");
this.bp.appendChild(x);this.I6=["512x512","1024x1024"];this._i=0;this.Hd=0;this.uZ={};this.cr=[];this.S_=[];
this.X5=null;var R=["API Key","Generate"],T=this.bA=[[new kk("DALL\xB7E"),new cZ(null,["Our key","Your own key"]),new kD,new kk("Stable Diffusion"),new cZ(null,["Our key","Your own key"]),new kD],[new cZ("Model",["DALL\xB7E","Stable Diffusion"]),new kD("Prompt",null,null,4),new ad([12,14,0],this.I6),new kv("Inpaint the masked area of a layer"),new i_([12,49],!0,null,!0)]];
T[1][0].T(1);T[1][1].T("goat riding a bike");T[1][2].T(1);T[1][3].T(!1);for(var z=0;z<2;z++){var c=new i_(R[z]);
this.cr.push(c);x.appendChild(c.n);c.k("click",this.a6Z,this);var g=X._("div");this.S_.push(g);var d=T[z];
for(var U=0;U<d.length;U++){d[U].parent=this;g.appendChild(d[U].n);if(!(z==0&&(U==1||U==4)))X.pz(g);
if(z==0&&U==2)X.nY(g);if(z==0)d[U].k(v.E.p,this.a1f,this);if(z==1&&U==4)d[U].k("click",this.al1,this)}}X.nY(x);
this.B$=X._("div");x.appendChild(this.B$);this.rf=X._("div","scrollable");this.S_[1].appendChild(this.rf);
var e=window.locStor.getItem("sd_api_key");if(e){e=e.split(",");if(e.length==2)e.push("0","your_api_key");
for(var z=0;z<2;z++){T[0][z*3+1].T(parseInt(e[z*2+0]));T[0][z*3+2].T(e[z*2+1])}}else{T[0][2].T("your_api_key");
T[0][5].T("your_api_key")}this.a1f();this.a6Z(null,1)}cL.prototype=new dF("");cL.prototype.al1=function(){if(!navigator.onLine){alert("Get online to use this feature.");
return}var x=this.bA,R=x[0],T=x[1],c=T[0].h(),g=R[c*3+1].h()==0,d=!T[3].h(),J,w,s;if(c==0&&g){alert("Enter your own API Key to use DALL-E.",5e3);
return}if(g&&!i3.T9()){var U=Math.round((Date.now()-this.Hd)/1e3),e=60;if(U<e){window.confirm("Wait "+(e-U)+" seconds or get a Premium account for the unlimited access. Or enter your own API Key.");
return}}var N=T[1].h().trim(),l=this.I6[T[2].h()],o=R[c*3+2].h().trim();if(c==0){J="https://api.openai.com/v1/images/"+(d?"generations":"edits");
var V=fl.En("% D5Nfn1>!}>$;#AVxId1:DK-?leqOVcf*\\qj;~\"o5#j/P )]\\~");w={Authorization:"Bearer "+(g?V:o)};
s={model:"image-alpha-001",prompt:N,num_images:1,size:l,response_format:"b64_json"}}else{J="https://dezgo.p.rapidapi.com/"+(d?"text2image":"inpainting");
var V=fl.En("sx| !WZ\\0a=F>js@zFNQRV-'\\/dfv:oHDMK&20+\\a`26l<@xFL");w={"X-RapidAPI-Key":g?V:o,"X-RapidAPI-Host":"dezgo.p.rapidapi.com"};
s={prompt:N,upscale:l=="512x512"?1:2,model:d?"stablediffusion_2_1_512px":"stablediffusion_inpaint_1"}}var a=new XMLHttpRequest;
a.open("POST",J,!0);for(var O in w)a.setRequestHeader(O,w[O]);a.onload=cL.prototype.aj5.bind(this);if(c==1)a.responseType="arraybuffer";
if(d){if(c==0){a.setRequestHeader("Content-type","application/json");a.send(JSON.stringify(s))}else{a.setRequestHeader("content-type","application/x-www-form-urlencoded");
var S=[];for(var L in s)S.push(encodeURIComponent(L)+"="+encodeURIComponent(s[L]));a.send(S.join("&"))}}else{var Q=this._c,b=Q.R[Q.g[0]],Z=b.le(),r=0;
if(Z==null){alert("There is no raster mask");return}var I=[b.buffer,b.rect];u.hj(I);var y=[Z.dN(b.rect),b.rect];
u.jE(y);while(c==1&&I[r+1].Z()>600*600)r+=2;var h=I[r+1].clone();if(c==0)h.m=h.e=Math.max(h.m,h.e);var k=u.B(h.Z()*4);
u.yU(I[r],I[r+1],k,h);var K=UPNG.encode([k.buffer],h.m,h.e),H=u.B(h.Z());u.gN(y[r],y[r+1],H,h);u.round(H);
k.fill(255);if(c==0){u.rN(H,k,3)}else{u.F0(H);u.Oj(H,k)}var p=UPNG.encode([k.buffer],h.m,h.e,null,null,null,!0),f=new FormData;
f.append(["image","init_image"][c],new Blob([K],{type:"image/png"}));f.append(["mask","mask_image"][c],new Blob([p],{type:"image/png"}));
for(var L in s)f.append(L,s[L]);a.send(f)}X.MQ(this.bp,"disabled");this.Hd=Date.now()};cL.prototype.aj5=function(x){var R=this.bA,T=R[1][0].h(),c;
X.ia(this.bp,"disabled");if(T==0){c=JSON.parse(x.target.response);var g=c.error;if(g){alert(g.message,5e3);
return}}else{c={created:Math.round(Date.now()/1e3),data:[{b64_json:dp.SU(x.target.response)}]}}var d=this.uZ,U=R[1][1].h().trim()+":"+R[1][2].h();
if(d[U]==null)d[U]=[];d[U].push(c);var e=R[0][T*3+1].h()==0;for(var z=0;z<c.data.length;z++)i3.event("dalle_DALL-E "+(!e?"Users":i3.T9()?"Premium":"Free"));
this.a5()};cL.prototype.a1f=function(x){var R=this.bA,T=[];for(var z=0;z<2;z++)T.push(R[0][z*3+1].h(),R[0][z*3+2].h().trim());
window.locStor.setItem("sd_api_key",T.join(","));R[0][2].Dd(T[0]==1);R[0][5].Dd(T[2]==1)};cL.prototype.a6Z=function(x,z){X.Ra(this.B$);
if(z==null)z=this.cr.indexOf(x.target);for(var R=0;R<2;R++)this.cr[R].T(R==z);this.B$.appendChild(this.S_[z])};
cL.prototype.s7=function(x,R){if(this.KQ==x)return;this.KQ=x;this.ayf.style.width=x-16+"px";this.rf.style.height=R-190+"px"};
cL.prototype.Bq=function(x,R){this._c=x;if(x)this._i=R.indexOf(x);this.a5()};cL.prototype.L4=function(x,R){};
cL.prototype.t=function(x,R){dF.prototype.t.call(this);var T=this.bA,g=" target=\"_blank\" style=\"color:inherit;\">";
for(var z=0;z<2;z++){this.cr[z].t();for(var c=0;c<T[z].length;c++)this.bA[z][c].t()}T[0][0].n.innerHTML="DALL\xB7E - <a href=\"//beta.openai.com\" "+g+"beta.openai.com</a>";
T[0][3].n.innerHTML="Stable Diffusion - <a href=\"//rapidapi.com/dezgo/api/dezgo\" "+g+"rapidapi.com/dezgo</a>"};
cL.prototype.a5=function(){var x=this.rf,R=this.uZ;X.Ra(x);var T=[];for(var c in R){R[c].sort(function(a,O){return O.created-a.created});
T.push([c,R[c]])}T.sort(function(a,O){return O[1][0].created-a[1][0].created});var g=this.a0W.bind(this),d=this.X5=[[],[]];
for(var z=0;z<T.length;z++){var c=T[z][0].split(":"),U=T[z][1],e=this.I6[c[1]],N=parseInt(e.split("x")[0]),l=X._("div");
l.textContent=c[0]+", "+N+" x "+N;x.appendChild(l);for(var J=0;J<U.length;J++){var w=U[J].data;for(var s=0;
s<w.length;s++){var o=w[s].b64_json,V=X._("img");V.setAttribute("src","data:image/png;base64,"+o);V.onclick=g;
V.style.width=128/X.mM()+"px";V.style.marginRight="4px";V.style.cursor="pointer";x.appendChild(V);d[0].push(V);
d[1].push(w[s])}}}};cL.prototype.a0W=function(x){var z=this.X5[0].indexOf(x.target),R=this.X5[1][z].b64_json,T=dp.D9(R);
hG.iq({url:"file",_i:this._i},T,this)};cL.prototype.WC=function(){this.a5()};function iX(){dF.call(this,[9,6],!1,"---panels/info",dF.sK.aqu);
this.bp.setAttribute("style","min-width:240px;");this._c=null;this.Dn=null;this.Hx=null;var x=this.lG=[];
for(var R=0;R<3;R++){var T=X._("div","marged row");this.bp.appendChild(T);var c=X._("div","cell");c.setAttribute("style","width:10em");
T.appendChild(c);var g=X._("div","cell");g.setAttribute("style","width:10em");T.appendChild(g);var d=[8,4,3][R];
for(var z=0;z<d;z++){var U=new kk("");x.push(U);U.T(0);U.n.style.padding="0";var e=z<(R==1?2:4)?c:g;
e.appendChild(U.n);X.pz(e)}if(R<2)X.nY(this.bp)}this.s5=x[8];this.Xa=x[9];this.G8=x[10];this.Uw=x[11];
X.nY(this.bp);this.Hx=X._("div");this.Hx.setAttribute("style","min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");
this.bp.appendChild(this.Hx)}iX.prototype=new dF("");iX.prototype.gQ=function(x,R,T,c,g){if(!X._b(this.bp)||x==null)return;
var d=x.Q.nU(g.x,g.y),U=new cI(Math.floor(d.x),Math.floor(d.y));if(!g.Kk){var e=0,N=0,l=0,J=0,w=this.lG;
if(!g.Kk&&!x.a4o()&&new aP(0,0,x.m-1,x.e-1).mD(U)){var s=x.Yr(),z=x.m*U.y+U.x<<2;e=s[z+0];N=s[z+1];l=s[z+2];
J=s[z+3]}var o=u.Sj([e/255,N/255,l/255]);w[0].T("R: "+e);w[1].T("G: "+N);w[2].T("B: "+l);w[3].T("A: "+J);
w[4].T("C: "+Math.round(o[0]*100)+"%");w[5].T("M: "+Math.round(o[1]*100)+"%");w[6].T("Y: "+Math.round(o[2]*100)+"%");
w[7].T("K: "+Math.round(o[3]*100)+"%");var V=u.c5(e,N,l);w[12].T("H: "+Math.round(V.kh*360)+"\xB0");
w[13].T("S: "+Math.round(V.Kt*100)+"%");w[14].T("B: "+Math.round(V.J*100/255)+"%")}var a=x.Q.O>1?new cI(d.x,d.y):U;
this.s5.T("X: "+u.A8.tN(a.x,x.De,T,x.m));this.Xa.T("Y: "+u.A8.tN(a.y,x.De,T,x.e));this.qH()};iX.prototype.qH=function(){var x=this._c,R=this.Dn,T=0,c=0;
if(x&&R){if(x.Q.OL){T=x.Q.OL.m;c=x.Q.OL.e}else if(x.u){T=x.u.rect.m;c=x.u.rect.e}T=u.A8.tN(Math.abs(T),x.De,R,x.m);
c=u.A8.tN(Math.abs(c),x.De,R,x.e)}this.G8.T(go.get([12,41]).charAt(0)+": "+T);this.Uw.T(go.get([12,42]).charAt(0)+": "+c)};
iX.prototype.t=function(){dF.prototype.t.call(this);this.qH()};iX.prototype.WC=function(){this.Bq(this._c,null,this.Dn)};
iX.prototype.Bq=function(x,R,T){this._c=x;this.Dn=T;if(!X._b(this.bp))return;console.log("update");this.qH();
if(x&&x.g.length!=0){var c=x.g[0],g=x.R[c],d=hD.get(g.add)!=null,U=d&&x.g[0]>0;this.Hx.innerHTML="";
for(var z=0;z<x.nH.length;z++){var e=x.nH[z],g=x.Q.YP(e.x,e.y),N=D.Yf.Oa(x,g,1,U?1:2),l={o:N>>>16&255,A:N>>>8&255,J:N&255},a="<span style=\"display:inline-block; width:25px; text-align:right\">",O="</span>";
if(U){var J=x.g[0];x.g[0]=c-1;var w=D.Yf.Oa(x,g,1,1),s={o:w>>>16&255,A:w>>>8&255,J:w&255};x.g[0]=J}var o=X._("div");
o.setAttribute("style","padding: 0.5em 0.5em; width: 40%");var V="<b>#"+(z+1)+"</b>",S=[l.o,l.A,l.J],L=U?[s.o,s.A,s.J]:null,Q=["R","G","B"];
for(var b=0;b<3;b++)V+="<br/>"+a+Q[b]+O+": "+(U?a+L[b]+O+" /":"")+a+S[b]+O;o.innerHTML=V;this.Hx.appendChild(o)}}};
function hK(){dF.call(this,[9,1],!1,"---panels/layers",dF.sK.d_);this.EI=null;this.d5=[];this.V1=null;
this.SD=null;this.dJ=X._("div","lphead");this.QB=X._("div","lpbody scrollable");this.QB.addEventListener("scroll",this.a8W.bind(this),!1);
this.vB=X._("div","lpfoot");var x=this.afp=X._("span");x.setAttribute("style","display:inline-block; height:26px");
this.dJ.appendChild(x);this.N1=new ad(null,c_.PZ,c_.zh);this.N1.k(v.E.p,this.ajf,this);this.dJ.appendChild(this.N1.n);
this.vx=new i1([12,0],0,100,"%",0);this.vx.k(v.E.p,this.ayc,this);this.vx.parent=this;this.dJ.appendChild(this.vx.n);
this.Vm=new ii([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.Vm.k(v.E.p,this.anF,this);this.dJ.appendChild(this.Vm.n);this.JN=new i1([12,26],0,100,"%",0);this.JN.k(v.E.p,this.aqE,this);
this.JN.parent=this;this.dJ.appendChild(this.JN.n);this.ax=[];this.fK();this.bp.appendChild(this.dJ);
this.bp.appendChild(this.QB);this.QB.addEventListener("dragover",function(g){g.preventDefault()},!1);
this.QB.addEventListener("dragenter",X.Ri,!1);this.QB.addEventListener("drop",this.aiP.bind(this),!1);
this.bp.appendChild(this.vB);this.bp.addEventListener("contextmenu",X.Ri,!1);this.k("rclick",this.ayp,this);
var R=function(g,d,z){return{xw:this.u0[z]==1}}.bind(this);this.aCt=new d$([{name:[0,6],r:R},{name:[14,10],r:R},{name:[6,57,2],r:R,NC:!0},{name:"Long-tap as a right click",r:R,NC:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",r:function(){return{xw:gg.tL==0,r:!0}}},{name:"Thumbnails by Document",r:function(){return{xw:gg.tL==1,r:!0}}}]);
this.aCt.k("select",this.ar5,this);this.u0=[0,1,1,0];var T=window.locStor;if(T){var c=T.getItem("lpOpt");
if(c){c=JSON.parse(c);this.u0=c[0];gg.ap=c[1];gg.tL=c[2]}}this.ar5()}hK.prototype=new dF("");hK.prototype.x$=function(){if(this.a89)return;
var x=bI.Vt(!0),R=bI.Rh(!0);this.a89=new d$(x,R);var x=[{name:[14,10]},{name:[14,11],NC:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],NC:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",r:function(T){return{r:T.R[T.g[0]].add.SoLd!=null}},NC:!0},{name:[6,8],r:hK.a1P},{name:[6,34],r:function(T){var c=T.R[T.g[0]];
return{r:c.add.lmfx!=null&&!c.NW()}}},{name:[6,40],NC:!0,r:function(T){var c=T.R[T.g[0]];return{r:c.add.TySh!=null}}},{name:"",NC:!0,r:function(T){var c=T.R[T.g[0]],g=c.add.TySh,d=g?g.pM:null;
return{r:g!=null&&d.Curve==null,qV:go.get(g&&bL.hl(d)==0?[16,3,1]:[16,3,0])}}},hK.afA(!1),bI.asH(),{name:[6,12,0],r:function(T){var c=T==null?0:T.g.length;
return{r:c!=0&&(c!=1||T.g[0]!=0),qV:go.get(c>1||c==1&&T.R[T.g[0]].NW()?[6,12,0]:[6,10])}}},{name:[6,12,1],NC:!0},{name:[13,0],sub:function(){var T=[];
for(var z=0;z<eb.Dq.length;z++)T.push({name:[13,1,z],Jf:"#"+u.TN(eb.Dq[z])});return T}()}],R=[{K:v.E.P,C:{d:v.H.i$,$k:"layerstyle"}},{K:v.E.v,f:D.a$,C:{d:"fromlayer",v2:[null,0,0]}},{K:v.E.v,f:D.d_,C:{d:F.S5}},{K:v.E.P,C:{d:v.H.i$,$k:"duplinto"}},{K:v.E.v,f:D.d_,C:{d:F.X2}},{K:v.E._M,C:{Sm:"newPlacedLayer"}},{K:v.E.v,f:D.d_,C:{d:F.tI}},{K:v.E._M,C:{Sm:"rasterizeLayer",M1:{classID:"rasterizeLayer",null:bf.rX("Lyr",!0)}}},{K:v.E.v,f:D.d_,C:{d:F.v8}},{K:v.E.v,f:D.d_,C:{d:F.arp}},{K:v.E.v,f:D.kY,C:{d:"switchPntPrgr"}},{K:v.E.v,f:D.d_,C:{d:F.q8}},bI.anp(),{K:v.E._M,C:{Sm:"mergeLayersNew",M1:{__name:"Merge Layers",classID:"Mrg2"}}},{K:v.E._M,C:{Sm:"flattenImage"}},{sub:function(){var T=[];
for(var z=0;z<8;z++)T.push({K:v.E.v,f:D.d_,C:{d:F.o2,avw:z}});return T}()}];this.tR=new d$(x,R);var x=[{name:[6,45],r:function(T){var c=T.R[T.g[0]];
return{r:c.Ct(T).F==null}}},{name:[6,47]}],R=[{K:v.E.v,f:D.d_,C:{d:F.Iv}},{K:v.E.v,f:D.d_,C:{d:F.B3}}];
this.ard=new d$(x,R);var x=[{name:"enab/disab",r:function(T){return{qV:go.get(T.R[T.g[0]].le().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],r:function(T){return{r:T.nD(!1,!0)}}}],R=[{K:v.E.v,f:D.d_,C:{d:F.fJ}},{K:v.E.v,f:D.d_,C:{d:F.UQ}},{K:v.E.v,f:D.d_,C:{d:F.DD}}];
this.axA=new d$(x,R);var x=[{name:"enab/disab",r:function(T){return{qV:go.get(T.R[T.g[0]].Ct(T).F.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],R=[{K:v.E.v,f:D.d_,C:{d:F.Uq}},{K:v.E.v,f:D.d_,C:{d:F.TO}}];
this.a9M=new d$(x,R);var x=[{name:"enab/disab",r:function(T){return{qV:go.get(T.R[T.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],R=[{K:v.E.v,f:D.d_,C:{d:F.ud}},{K:v.E.v,f:D.d_,C:{d:F._5}},{K:v.E.v,f:D.d_,C:{d:F.av}}];
this.aeq=new d$(x,R);this.av2=new d$(bI.a3r(!0),bI.mi(!0));this.aik=new d$(bI.Vt(),bI.Rh())};hK.prototype.a8W=function(x){var R=this.QB.scrollTop-600;
for(var z=0;z<this.d5.length;z++){var T=this.d5[z],c=T.hV;if(R<T.hV)T.a7k();if(T.hV>R+this.kh+600)break}};
hK.prototype.w_=function(){return this.aCt};hK.prototype.ar5=function(x){var R=this.u0;if(x){var T=x.target.ty(),z=T[0];
if(z<4)R[z]=1-R[z];else if(z<6){if(z==4&&gg.ap-10>=10)gg.ap-=10;if(z==5&&gg.ap+10<=200)gg.ap+=10;if(this.V1)this.V1.kn=!0}else{if(z==6)gg.tL=0;
if(z==7)gg.tL=1;if(this.V1)this.V1.kn=!0}var c=window.locStor;if(c)c.setItem("lpOpt",JSON.stringify([R,gg.ap,gg.tL]))}if(R[0]==1)this.akc();
var g=[[{n:this.afp}],[this.N1,this.vx],[this.Vm,this.JN]];for(var z=0;z<3;z++)for(var d=0;d<g[z].length;
d++)g[z][d].n.style.display=R[z]==1?"inline-block":"none";this.s7(this.KQ,this.kh)};hK.prototype.aA1=function(){var x=this.m7;
if(x==null)return!1;if(x.h()){var R=this._2.h(),T=this.nV[R].h();if(R==0)return T.indexOf(!0)!=-1;if(R==1)return T!=""}return!1};
hK.afA=function(x){var R=function(c){var g=c!=null&&c.g.length!=0&&c.R[c.g[0]].UP;return{xw:g,r:c!=null&&c.N7(c.g[0]),C:{K:v.E._M,C:{Sm:g?"ungroup":"groupEvent",M1:{classID:g?"Ungr":"GrpL",null:bf.rX("Lyr",!0)}}}}},T={name:[6,6,0],NC:!0,r:R};
if(x)T.sZ=[fZ.ng,fZ.Gc,fZ.D5];return T};hK.a1P=function(x,R){if(x)for(var z=0;z<x.g.length;z++){var T=x.R[x.g[z]];
if(T.add.TySh||T.add.SoLd||T.add.SoCo||T.add.GdFl||T.add.PtFl)return{r:!0}}return{r:!1}};hK.prototype.aiP=function(x){X.Ri(x);
var R=x.dataTransfer.getData("Text"),T=1,c=0;if(R==""){X.R4(x,this,this.SD.indexOf(this.V1),c+(T>.5?0:1))}else if(R!="--panel"){var R=JSON.parse(R),g=R.bh;
if(g=="l")this.ar({d:F.tz,source:R._8,target:c,zV:T})}};hK.prototype.ayp=function(x){var R=this.V1,T=x.data,g;
if(R.g.indexOf(T.a)==-1){var c={d:F.OF,a:x.target.FZ.index,yO:T.s4};this.ar(c)}if(R.g.indexOf(T.a)==-1)return;
this.x$();if(T.s4==1){g=this.axA}else if(T.s4==2){g=this.aeq}else if(T.s4==3){g=this.a9M}else if(T.s4==4){g=this.ard}else if(T.s4==5){g=this.a89}else{g=this.tR}g.t();
g.update(R);g.parent=this;var d=new aA(v.E.P,!0);d.data={d:v.H.fu,YR:g,x:T.wx.x+1,y:T.wx.y+1};this.c(d)};
hK.prototype.t=function(){dF.prototype.t.call(this);this.N1.t();this.vx.t();this.Vm.t();this.JN.t();
if(this.m7){this.m7.t();this.nV[0].t()}if(this.V1)this.Bq(this.V1);var x="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var z=0;z<this.ax.length;z++){var R=this.ax[z];R.W7(X.t6(x[z],null,"miniscale"));if(z==1||z==3){R.n.style.position="relative";
var T=X._("img","gsicon");T.setAttribute("src",PIMG["tools/corner"]);T.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
R.n.appendChild(T)}}};hK.prototype.Bq=function(x,R){if(x&&!x.kn)return;if(x==null)X.MQ(this.bp,"disabled");
else X.ia(this.bp,"disabled");this.V1=x;this.SD=R;if(this.EI!=null){X.Ra(this.QB);this.EI=null;this.d5=[]}if(x==null)return;
var T=!1;for(var z=0;z<x.Hp.length;z++)if(x.Hp[z].PW)T=!0;this.EI=new eb(x.root,this,x,{O7:0,EQ:!1},{a6F:T,az6:this.aA1()},this.d5,0,new aP(0,0,x.m,x.e));
if(x.g.length==0||x.R[x.g[0]]==null)X.MQ(this.dJ,"disabled");else{X.ia(this.dJ,"disabled");if(x.g.length==1&&x.OW){var c=x.g[0];
for(var z=0;z<this.d5.length;z++){var g=this.d5[z];if(g.FZ.index==c&&g.dJ.scrollIntoView)g.dJ.scrollIntoView({block:"nearest"})}}var d=x.R[x.g[0]];
if(d.NW()){this.N1.GN([[15,10,27]].concat(c_.PZ),[1].concat(c_.zh));var U=c_.h$.indexOf(d.mh);this.N1.T(U+1)}else{this.N1.GN(c_.PZ,c_.zh);
var U=c_.h$.indexOf(d.mh);this.N1.T(U)}this.vx.T(Math.round(100*d.opacity/255));this.Vm.T([d.ad(0),d.ad(1),d.ad(2),d.ad(31)]);
var e=x.na();this.N1.Dd(!e);this.JN.Dd(!e);this.vx.Dd(!e);this.Vm.Dd(!(e&&!d.ad(31)));this.JN.T(Math.round(100*(d.add.iOpa!=null?d.add.iOpa/255:1)));
this.ax[2].atv(go.get(d.le()?[6,23]:[6,21]))}this.a8W(null)};hK.prototype.s7=function(x,R){this.KQ=x;
this.kh=R;var T=this.dJ.getBoundingClientRect().height;if(55<T&&T<56)T=60.2;var c=this.vB.getBoundingClientRect().height,g=R-(T+c+3);
this.QB.style.height=g+"px";this.QB.style.width=x+"px"};hK.prototype.ajf=function(x){this.ar({d:F.B0,SN:this.N1.h()})};
hK.prototype.ayc=function(x){this.ar({d:F.sN,SN:Math.round(255*this.vx.h()/100)})};hK.prototype.anF=function(x){this.ar({d:F.FB,SN:[this.Vm.h(),[0,1,2,31]]})};
hK.prototype.aqE=function(x){this.ar({d:F.oH,SN:Math.round(255*this.JN.h()/100)})};hK.prototype.sB=function(x){if(x.target==this._2)this.akc();
var R=this.m7.h();if(R)X.ia(this.ea,"disabled");else X.MQ(this.ea,"disabled");this.t();this.V1.kn=!0;
this.Bq(this.V1);this.V1.kn=!1};hK.prototype.akc=function(){var x=this.ea;if(x==null){var R=this.afp,T=this.m7=new kv([0,6]);
T.k(v.E.p,this.sB,this);R.appendChild(T.n);x=this.ea=X._("span","disabled");R.appendChild(x);this._2=new ad(null,["Kind",[12,48]],[]);
this._2.k(v.E.p,this.sB,this);var c=this.nV=[new ii(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new kD(null,null,8)];
c[0].k(v.E.p,this.sB,this);c[1].k("input",this.sB,this)}X.Ra(x);x.appendChild(this._2.n);x.appendChild(this.nV[this._2.h()].n)};
hK.prototype.avs=function(x){this.x$();this.aCz(x,this.av2)};hK.prototype.aCj=function(x){this.x$();
this.aCz(x,this.aik)};hK.prototype.aCz=function(x,R){var T=x.currentTarget;if(X._b(R.n))return;x.stopPropagation();
var c=T.getBoundingClientRect();R.t();R.update(this.V1);R.parent=this;var g=new aA(v.E.P,!0);g.data={d:v.H.fu,YR:R,x:c.left,y:c.top,ahF:!0};
this.c(g)};hK.prototype.anx=function(x){this.ar({d:F.abN})};hK.prototype.azy=function(x){this.ar({d:this.V1.g.length>1?F.NA:F.oe})};
hK.prototype.ahk=function(x){this.ar({d:F.uU})};hK.prototype.ahJ=function(x){var R=this.V1;if(R.g.length==0)return;
var T=R.R[R.g[0]],c=T.s4;this.ar({d:c<=0?T.yn?F._5:F.X2:c==3?F.TO:F.UQ})};hK.prototype.anH=function(x){this.ar({d:F.ol})};
hK.prototype.ar=function(x){var R=new aA(v.E.v,!0);R.data=x;R.f=D.d_;this.c(R)};hK.prototype.fK=function(){var x=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],R=[this.anH,this.aCj,this.anx,this.avs,this.azy,this.ahk,this.ahJ],T=this.a8Q.bind(this);
for(var z=0;z<x.length;z++){var c=new i_("W",!1,x[z]);this.ax.push(c);X.Us(c.n,R[z].bind(this));this.vB.appendChild(c.n);
if(z>=x.length-3){var g=c.n;g.addEventListener("drop",T,!1);g.addEventListener("dragover",function(d){d.preventDefault()},!1);
g.addEventListener("dragenter",X.Ri,!1)}}};hK.prototype.a8Q=function(x){X.Ri(x);var R=0,T=this.ax;while(T[R].n!=x.currentTarget)R++;
T[R].KF();var c=x.dataTransfer.getData("Text");if(c=="")return;var c=JSON.parse(c);if(c.bh=="l"){var g={d:[F.NA,F.S5,F.X2][R-4]};
if(this.V1.g.indexOf(c._8)==-1)g.a=c._8;this.ar(g)}if(R!=6)return;if(c.bh=="sm"||c.bh=="s"){var d=new aA(v.E.v,!0);
d.f=D.Wi;d.data={d:c.bh=="sm"?"st_clear":"st_delsingle",a:c._8,_8:c.kQ};this.c(d)}if(c.bh=="fm"||c.bh=="f"){this.ar({d:c.bh=="fm"?F.B3:F.ph,src:c._8,kQ:c.kQ})}if(c.bh=="m"||c.bh=="vm"){this.ar({d:c.bh=="m"?F.UQ:F._5,a:c._8})}};
function eb(x,R,T,c,g,d,U,e){ky.call(this);this.parent=R;this.hV=U;this.FZ=x;d.push(this);this.Lh=T;
this.e3=c;var N=R.QB,l=x.a,J=T.g.indexOf(x.index)!=-1,V=null;this.dJ=X._("div",J?"head selected":"head");
if(l.add.artb!=null){X.MQ(this.dJ,"artb");e=l.Ie()}var w=this.arD=Math.floor(10+l.abV/X.mM()),s="height: "+w+"px;";
if(J&&g.a6F)s+="background-color:rgba(255,50,50,0.4);";this.dJ.setAttribute("style",s);this.t_=e;var o=this.ajz=this.asW.bind(this),a=g.az6&&!this.a5$();
if(!a){if(x.depth!=0){N.appendChild(this.dJ);U+=w}if(l.fx()||l.Xn())if(l.eU()){V=this.ay9=X._("div","lpineck");
N.appendChild(V);if(l.fx()){V.addEventListener("contextmenu",o,!1);var O=new hK.qB(go.get([12,1]),"sm","layerstyle",x.depth,0,null);
U+=21;O.parent=this;V.appendChild(O.n);var S=l.add.lmfx,L=S.masterFXSwitch.v;O.oE(L);for(var z=0;z<fJ.order.length;
z++){var Q=S[fJ.YZ[z]].v;if(Q.length==0)continue;for(var b=0;b<Q.length;b++){var O=new hK.qB(go.get(fJ.names[z]),"s","layerstyle",x.depth,1,[z,b]);
U+=21;O.oE(L&&Q[b].v.enab.v);O.parent=this;V.appendChild(O.n)}}}if(l.Xn()){var Z=l.Ct(T).F;if(Z)this.sH=X._("div","thumb");
var O=new hK.qB(go.get([12,55]),"fm",null,x.depth,0,-1,Z?this.sH:null);U+=Z?w:21;O.parent=this;V.appendChild(O.n);
this.ae1=O.n;this.ae1.addEventListener("contextmenu",o,!1);var S=l.add.SoLd.filterFX.v,I=S.filterFXList.v,L=S.enab.v;
O.oE(L);for(var z=I.length-1;z>=0;z--){var y=I[z].v,r=gm.Fz(y);if(hD.FP[r])r=hD.FP[r];var h=y.Nm.v;if(gm.names[r])h=go.get(gm.names[r]);
if(hD.names[r])h=go.get(hD.names[r]);var k="afw_"+r,O=new hK.qB(h,"f",k,x.depth,1,z);U+=21;O.oE(L&&y.enab.v);
O.parent=this;V.appendChild(O.n)}}}}var K=l.add.lclr;if(K==null)K=0;K=K==0?c.O7:eb.Dq[K];this.ao9=K;
if(l.NW()&&(l.add.lsct==ew.bZ||g.az6)){var H={O7:K,EQ:c.EQ||l.ad(31)};for(var z=x.children.length-1;
z>=0;z--){var p=new eb(x.children[z],R,T,H,g,d,U,e);U=p.aky}}this.aky=U}eb.prototype=new ky;eb.Dq=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
eb.prototype.a7k=function(){if(this.nF)return;var x=this.FZ,R=x.a,T=this.Lh,c=this.e3,w=!0,H=!1;x.N4(T,this.t_,!0);
var g=X._("div","headL"),d=X._("div","headR");this.dJ.appendChild(g);this.dJ.appendChild(d);var U=this.dJ;
U.setAttribute("draggable","true");U.addEventListener("dragstart",this.jA.bind(this),!1);U.addEventListener("drop",this.o1.bind(this),!1);
U.addEventListener("dragover",this.uA.bind(this),!1);U.addEventListener("dragenter",X.Ri,!1);U.addEventListener("dragleave",this.L0.bind(this),!1);
var e=[],N=[null,null,null,null],l=R.Pm(),J=x;while(J.parent){J=J.parent;l=l&&J.a.Pm()}if(R.UP){for(var z=x.index-1;
z>=0;z--){var s=T.R[z];if(!s.UP){w=s.Pm();break}}}var o=R.Pm()?l&&w?2:1:0;this.nF=X._("div");var V=X._("div",o==0?"sqr":"eye");
this.nF.appendChild(V);V.style.opacity=[.12,.33,1][o];var a=X._("div","space");this.Cz=X._("div","label");
this.Cz.setAttribute("style","max-width:calc(100% - "+(96+x.depth*20)+"px); margin-top:"+(this.arD-19)/2+"px;"+(R.rh?"text-decoration:underline;":""));
this.Cz.textContent=R.getName();this.ux=X._("div","lock");this.awa=X._("div","lrfx");this.Ui=X._("div","arfx");
var O=this.ajz,S=this.alR.bind(this);this.dJ.addEventListener("click",S,!1);this.dJ.addEventListener("contextmenu",O,!1);
var L=this.ao9;if(L!=0){var Q=[L>>16,L>>8&255,L&255];for(var z=0;z<3;z++){Q[z]="calc("+Q[z]+"*0.7 + (var(--absc)) * 255 * 0.3)"}this.nF.setAttribute("style","background-color:rgba("+Q.join(",")+",1);")}var b=this.alv.bind(this);
this.nF.addEventListener("mousedown",b,!1);this.nF.addEventListener("mouseover",b,!1);this.Ui.addEventListener("click",this.aty.bind(this),!1);
e[0]=this.nF;e[1]=a;e[10]=this.Cz;if(R.NW()){var Z=X._("div","arrow"),I=X._("div","folder");this.yv(I);
Z.addEventListener("click",this.a30.bind(this),!1);e[2]=Z;e[3]=I;Z.className=R.add.lsct==ew.bZ?"open":"closed"}else{this.O4=X._("div","thumb");
e[5]=this.O4;eb.Fy(this.O4,R._$);this.yv(this.O4);if(hD.get(R.add))X.MQ(R._$.canvas,"gsicon")}var y=R.le();
if(y){this.xz=X._("div","chain");this.OY=X._("div","thumb");eb.Fy(this.OY,R.Jl,!0);this.xz.style.opacity=y.fh?1:0;
this.xz.addEventListener("click",this.a4s.bind(this),!1)}var r=R.bT()&&R.add.vmsk;if(R.add.vmsk&&!r){this.ah=X._("div","chain");
this.wF=X._("div","thumb");eb.Fy(this.wF,R.Nc,!0);this.ah.style.opacity=R.add.vmsk.fh?1:0;this.ah.addEventListener("click",this.aAd.bind(this),!1)}if(R.Xn()&&R.eU()&&R.Ct(T).F){eb.Fy(this.sH,R.fm,!1);
this.yv(this.sH);this.sH.addEventListener("click",S,!1);this.sH.addEventListener("contextmenu",O,!1)}if(x.index==T.g[0]){var h=R.s4,k;
if(h<=0)k=this.O4;else if(h==1)k=this.OY;else if(h==3)k=this.sH;if(k)k.className="thumb active";if(R.yn&&this.wF)this.wF.className="thumb active"}a.setAttribute("style","width:"+Math.max(0,x.depth-1)*18+"px");
var K=R.add.lspf!=null&&R.add.lspf!=0||c.EQ;this.ux.style.opacity=R.ad(31)?1:.5;e[4]=R.UP?X._("div","clipp"):null;
e[6]=y?this.xz:null;e[7]=y?this.OY:null;e[8]=R.add.vmsk&&!r?this.ah:null;e[9]=R.add.vmsk&&!r?this.wF:null;
var p=R.jn,f=T.g;if(p!=0)for(var z=0;z<f.length;z++)if(T.R[f[z]].jn==p){H=!0;break}if(H){N[0]=X._("div",R.wm?"link":"linkX");
N[0].addEventListener("click",this.ack.bind(this),!1)}N[1]=K?this.ux:null;N[2]=R.fx()?this.awa:null;
N[3]=R.fx()||R.Xn()?this.Ui:null;this.Ui.className=R.eU()?"arfx open  gsicon":"arfx closed  gsicon";
var A=e;for(var z=0;z<A.length;z++)if(A[z])g.appendChild(A[z]);A=N;for(var z=0;z<A.length;z++)if(A[z])d.appendChild(A[z])};
eb.Fy=function(x,R,T){var c=R.canvas;X.$I(c);if(T)x.setAttribute("draggable","true");x.appendChild(c);
c.setAttribute("style",c.getAttribute("style")+"; pointer-events:none")};eb.prototype.yv=function(x){X.Us(x,function(R){if(this.parent.u0[3]==0)return;
X.ME(R);X.Xc(document.body,function(){clearTimeout(this.a8u)}.bind(this));this.a8u=setTimeout(function(){var T=new aA("rclick",!0);
T.data={a:this.FZ.index,s4:this.s4(R),wx:X.il(R,document.body)};this.c(T)}.bind(this),600)}.bind(this))};
eb.da=function(x,R){var T=R.getBoundingClientRect();return(x.clientY-T.top)/T.height};eb.prototype.jA=function(x){x.stopPropagation();
var R=x.target==this.OY?"m":x.target==this.wF?"vm":"l";x.dataTransfer.setData("Text",JSON.stringify({bh:R,_8:this.FZ.index}))};
eb.prototype.L0=function(x){X.Ri(x);this.G5()};eb.prototype.o1=function(x){X.Ri(x);this.G5();var R=x.dataTransfer.getData("Text"),T=this.parent.V1,c=eb.da(x,this.dJ),g=this.FZ.index;
if(c>.8){var d=!0,U=T.root.ct(g);while(U.parent!=null){var e=U.parent,N=e.children;if(N.indexOf(U)!=0)d=!1;
U=U.parent}if(d){g=0;c=1}}if(R==""){X.R4(x,this,this.parent.SD.indexOf(T),g+(c>.5?0:1))}else if(R!="--panel"){var R=JSON.parse(R),l=R.bh;
if(l=="l")this.ar({d:F.tz,source:R._8,target:g,zV:c});else if(l=="m"||l=="vm")this.ar({d:l=="m"?F.aC1:F.c2,src:R._8,LH:g});
else eb.a15(x,R,this)}};eb.a15=function(x,R,T,c){var g=R.bh,d=T.FZ.index,U=R._8;if(g=="s"||g=="sm")T.ar({d:F.jy,src:U,LH:d,kQ:R.kQ});
if(g=="f"||g=="fm")T.ar({d:F.azk,src:U,LH:d,kQ:R.kQ,Gl:c==null?0:c})};eb.prototype.uA=function(x){X.Ri(x);
var R=eb.da(x,this.dJ),T=this.FZ.a.NW()&&.5<R&&R<.8;this.G5();var c="inset 0 "+(T?0:R>.5?-3:3)+"px "+(T?"5px black":"0 rgba(0,0,0,0.5)");
this.dJ.style.boxShadow=c};eb.prototype.G5=function(x){this.dJ.style.boxShadow=""};eb.a72=-1;eb.Jn=!1;
eb.awt=function(x){eb.Jn=!1;document.body.removeEventListener("mouseup",eb.awt)};eb.prototype.alv=function(x){if(x.button!=0)return;
if(x.type=="mousedown"){eb.Jn=!0;document.body.addEventListener("mouseup",eb.awt,!1)}if(x.type=="mouseover"&&(!eb.Jn||eb.a72==this.FZ.index))return;
X.Ri(x);this.ar({d:F.P1,a:this.FZ.index});eb.a72=this.FZ.index};eb.prototype.a30=function(x){X.Ri(x);
this.ar({d:F.auh,a:this.FZ.index})};eb.prototype.a4s=function(x){this.ar({d:F.lS,a:this.FZ.index})};
eb.prototype.aAd=function(x){this.ar({d:F.kD,a:this.FZ.index})};eb.yQ=0;eb.prototype.U4=function(x){this.ar({d:F.MF,a:this.FZ.index,name:x})};
eb.prototype.aty=function(x){this.ar({d:F.a27,a:this.FZ.index})};eb.prototype.ack=function(x){this.ar({d:F.bu,a:this.FZ.index})};
eb.prototype.asW=function(x){if(x.button!=2&&!X.axK(x))return;var R=this.s4(x);if(R!=3&&x.currentTarget==this.ae1)R=4;
if(x.target==this.awa||x.currentTarget==this.ay9)R=5;var T=new aA("rclick",!0);T.data={a:this.FZ.index,s4:R,wx:X.il(x,document.body)};
this.c(T)};eb.prototype.s4=function(x){var R=x.target,T=R;return T==this.wF?2:T==this.OY?1:T==this.O4?0:T==this.sH?3:-1};
eb.prototype.alR=function(x){var R=x.target,o;if(R==this.nF.firstChild||R==this.Ui||R==this.xz||R==this.ah||R.tagName&&R.tagName.toLowerCase()=="input")return;
var T=this.s4(x),c=this.parent.V1,g=this.FZ.index,d=c.R[g];if(R==this.ux){this.ar({d:F.FB,a:g,SN:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var U=eb.yQ,e=Date.now()-U<300;eb.yQ=Date.now();if(R==this.Cz){if(e){this.dJ.setAttribute("draggable","false");
var N=new dF.P$(this.Cz,this.U4.bind(this))}else this.ar({d:F.OF,a:g,yO:T,pH:!0});return}if(x.button==0&&e){if(R==this.Cz)return;
var l=new aA(v.E.v,!0),J=new aA(v.E.P,!0),w=new aA(v.E._M,!0);if(T==0&&d.add.SoCo){var s=u.I.ir(d.add.SoCo.Clr.v);
J.data={d:v.H.i$,$k:"colorpicker",O7:s.o<<16|s.A<<8|s.J,FO:function(O){var S=u.I.SE({J:O&255,A:O>>>8&255,o:O>>16&255});
S={classID:"null",Clr:{t:"Objc",v:S}};var L=new aA(v.E.v,!0);L.f=D.d_;L.data={d:F.Ok,eb:[g],nn:!0,b:{KI:1,TB:S}};
this.c(L)}.bind(this),VG:!0}}else if(T==0&&(hD.get(d.add)||d.add.SoCo||d.add.GdFl||d.add.PtFl))J.data={d:v.H.Av,$k:dF.sK.xS};
else if(T!=0&&T!=-1)J.data={d:v.H.Av,$k:dF.sK.xS};else if(T==0&&d.add.SoLd)w.data={Sm:"placedLayerEditContents",M1:{classID:"placedLayerEditContents"}};
else if(T==0&&d.add.TySh){l.f=D.kY;l.data={d:"editCurr",_J:g}}else J.data={d:v.H.i$,$k:"layerstyle",a:g};
this.c(w.data?w:J.data?J:l);return}if(x.button!=0)return;if(T==1||T==3){var V=T==3?d.Ct(c).F:d.le();
o=V.PW?c.Q.U.join("")=="111"?1:2:0}var a={d:F.OF,a:g,yO:T,a1E:o,pH:!0};this.ar(a)};eb.prototype.ar=function(x){var R=new aA(v.E.v,!0);
R.data=x;R.f=D.d_;this.c(R)};eb.prototype.a5$=function(){var x=this.FZ.a,R=x.add,T=this.parent._2.h(),c=this.parent.nV[T].h();
if(T==0){if(c[0]&&R.SoLd==null&&R.TySh==null&&x.iZ())return!0;if(c[1]&&hD.get(R)!=null)return!0;if(c[2]&&R.TySh!=null)return!0;
if(c[3]&&R.vstk!=null)return!0;if(c[4]&&R.SoLd!=null)return!0;return!1}if(T==1)return x.getName().toLowerCase().indexOf(c.toLowerCase())!=-1};
hK.qB=function(x,R,T,c,g,d,U){ky.call(this);this.awy=R;this.n9=T;this.index=d;this.n=X._("div","styleitem");
this.dJ=X._("div","head");this.ahl=null;if(R=="f"){var e=this.ahl=X._("div","headR");e.textContent="\u2699";
this.dJ.appendChild(e)}this.nF=X._("div","eye gsicon");this.Cz=X._("div","label");this.n.appendChild(this.dJ);
this.dJ.appendChild(this.nF);if(U){this.OY=U;this.dJ.appendChild(U);this.dJ.setAttribute("style","height: "+(26/X.mM()+10)+"px")}this.Cz.innerHTML=x;
this.n.setAttribute("style","margin-left: "+(24+c*16+g*22)+"px");this.dJ.appendChild(this.Cz);this.nF.addEventListener("click",this.a2J.bind(this),!1);
var N=this.n;N.setAttribute("draggable","true");N.addEventListener("dragstart",this.jA.bind(this),!1);
if(!0){N.addEventListener("drop",this.o1.bind(this),!1);N.addEventListener("dragover",this.uA.bind(this),!1);
N.addEventListener("dragenter",X.Ri,!1);N.addEventListener("dragleave",this.L0.bind(this),!1)}this.n.addEventListener("click",this.rR.bind(this),!1)};
hK.qB.prototype=new ky;hK.qB.prototype.jA=function(x){x.stopPropagation();x.dataTransfer.setData("Text",JSON.stringify({bh:this.awy,_8:this.parent.FZ.index,kQ:this.index}))};
hK.qB.prototype.L0=function(x){X.Ri(x);this.G5()};hK.qB.prototype.o1=function(x){X.Ri(x);this.G5();var R=x.dataTransfer.getData("Text");
if(R=="")return;var R=JSON.parse(R);eb.a15(x,R,this.parent,this.index+(eb.da(x,this.dJ)>.5?0:1))};hK.qB.prototype.uA=function(x){X.Ri(x);
var R=eb.da(x,this.dJ)>.5;this.G5();var T="border-"+(R?"bottom":"top");this.dJ.style[T]="0.2em solid rgba(0,0,0,0.5)"};
hK.qB.prototype.G5=function(x){this.dJ.style.border="none"};hK.qB.prototype.oE=function(x){this.nF.style.opacity=x?1:.2};
hK.qB.prototype.rR=function(x){var R=eb.yQ,T=Date.now()-R<300;eb.yQ=Date.now();if(x.target==this.nF)return;
var c=this.parent.FZ.index;if(T&&this.n9!=null){var c=this.parent.FZ.index,g=new aA(v.E.P,!0);if(this.n9.indexOf("afw_")==0){var d=this.n9.slice(4),U=gE[d]||gm.q[d],e=x.target==this.ahl;
if(!e&&!U)return;g.data=D.W3.arN(e?"blendOptions":d,{a:c,index:this.index})}else g.data={d:v.H.i$,$k:this.n9,a:c,index:this.index};
this.c(g)}else{if(x.target.className!="thumb")this.parent.ar({d:F.OF,a:c,yO:0})}};hK.qB.prototype.a2J=function(x){var R={fm:F.Nh,f:F.p4,sm:F.IB,s:F.eH}[this.awy];
this.parent.ar({d:R,a:this.parent.FZ.index,index:this.index})};function bB(){dF.call(this,"Guide Guy",!1,"---panels/guideguy",dF.sK.a5Q);
this._c=null;this.zn=new ad(null,u.A8.zK)}bB.prototype=new dF("");bB.prototype.rP=function(){this.lG=[];
var x=X._("div","form padded");this.bp.appendChild(x);x.setAttribute("style","width:200px");this.bp.appendChild(x);
var R=X._("canvas"),T=R.getContext("2d");R.width=R.height=160;var c=[32,0,16,160,0,32,160,16,0,112,160,16],g="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),d=[0,0,0,0,0,0,0,0,0,0];
x.appendChild(this.zn.n);for(var z=0;z<10;z++){T.clearRect(0,0,160,160);T.setTransform(1,0,0,1,80,80);
T.rotate((z&3)*Math.PI/2);T.translate(-80,-80);T.fillStyle="rgba(0,0,0,0.3)";if(z<4){for(var U=0;U<12;
U+=4){T.fillStyle=U==0?"#000000":"rgba(0,0,0,0.3)";T.fillRect(c[U],c[U+1],c[U+2],c[U+3])}}else if(z<6){var e=8*6;
T.fillRect(0,0,e,160);T.fillRect(8*7,0,e,160);T.fillStyle="#000000";T.fillRect(8*14,0,e,160)}else if(z<8){T.fillRect(0,0,16,160);
T.fillRect(160-16,0,16,160);T.fillRect(32,0,160-64,160);T.fillStyle="#000000";T.fillRect(32,80-8,160-64,8*1)}else{T.fillRect(0,0,8*7,160);
T.fillRect(8*13,0,160,160);T.fillStyle="#000000";T.fillRect(8*7,80-8,8*6,8*1)}var N="<img src=\""+R.toDataURL()+"\" class=\"autoscale gsicon\" /> ",l=new i1(N,0,200,null,z==4||z==5?0:2,null,null,4,g[z]);
l.parent=this;l.k(v.E.p,this.a1j,this);l.T(d[z]);l.t();this.lG.push(l);x.appendChild(l.n)}var J=[[11,14],[11,15,0]];
this.ra=[];for(var z=0;z<J.length;z++){var w=new i_(J[z],!0,null,!0);this.ra.push(w);w.k("click",this.hM,this);
x.appendChild(w.n)}for(var z=0;z<6;z++){T.setTransform(1,0,0,1,80,80);T.rotate(Math.floor(z/3)*Math.PI/2);
T.translate(-80,-80);T.clearRect(0,0,160,160);T.fillStyle="rgba(0,0,0,0.3)";T.fillRect(0,0,160,160);
T.clearRect(16,16,128,128);T.fillStyle="#000000";var s=z%3;T.fillRect([0,9,18][s]*8,0,16,160);var N="<img src=\""+R.toDataURL()+"\" class=\"autoscale gsicon\" /> ",w=new i_(N,!1,null,!1);
this.ra.push(w);w.k("click",this.hM,this);x.appendChild(w.n)}};bB.prototype.t=function(){dF.prototype.t.call(this);
this.zn.t();if(this.lG==null)return;for(var z=0;z<this.ra.length;z++)this.ra[z].t()};bB.prototype.a1j=function(x){var R=this.lG,T=R.indexOf(x.target),c=Math.floor(T/2),g=T&1,d=[];
for(var z=0;z<4;z++)d.push(R[2*z+g].h());var U=-1;if(c==2&&d[2]!=0&&d[3]!=0&&d[4]!=0)U=4;if(c==3&&d[3]!=0&&d[2]!=0&&d[4]!=0)U=4;
if(c==4&&d[4]!=0&&d[2]!=0&&d[3]!=0)U=3;if(U!=-1)R[2*U+g].T(0)};bB.prototype.hM=function(x){var R=this._c,T=this.ra.indexOf(x.target),c=[[],[]];
if(R==null)return;var g=R.u?R.u.rect:new aP(0,0,R.m,R.e),d=g.m,U=g.e;if(T==0){var e=[[],[]],N=this.zn.h();
for(var z=0;z<this.lG.length;z++){var l=this.lG[z].h();l=u.A8.B2(l,R.De,R.m,N);e[z&1].push(l)}var J=[bB.aoh(e[0],g.x,g.x+d),bB.aoh(e[1],g.y,g.y+U)];
c=bB.SK(J);D.K$.yY(c,R.M3())}else if(T==1){}else{T-=2;var w=Math.floor(T/3),J=[[],[]];J[w].push([g.x,g.x+d/2,g.x+d,g.y,g.y+U/2,g.y+U][T]);
c=bB.SK(J);D.K$.yY(c,R.M3())}this.aki(c)};bB.SK=function(x){var R=[],T=[];for(var c=0;c<2;c++)for(var z=0;
z<x[c].length;z++){R.push([c,x[c][z]]);T.push(-1)}return[R,T]};bB.prototype.al5=function(x){var R=this.ax1.indexOf(x.target)};
bB.prototype.aki=function(x){var R=new aA(v.E.v,!0);R.f=D.BA;R.data={d:"gids",bI:x};this.c(R)};bB.aoh=function(x,R,T){var c=[],g=x[2],d=x[3],U=x[4],e=0;
if(g==0)e++;if(d==0)e++;if(U==0)e++;if(e>1&&g==0&&d==0){if(x[0]!=0)c.push(R+x[0]);if(x[1]!=0)c.push(T-x[1]);
return c}var N=T-R-x[0]-x[1];if(g==0){if(U==0){g=Math.floor(N/d);U=(N-g*d)/(g-1)}else{g=1;while(d*g+U*(g-1)+d+U<=N)g++}}else if(g!=0&&d!=0){if(g*d>N)g=Math.floor(N/d);
U=(N-g*d)/(g-1)}c.push(R+x[0],T-x[1]);var d=(N-U*(g-1))/g;for(var z=1;z<g;z++){if(U==0)c.push(R+x[0]+z*d);
else c.push(R+x[0]+z*d+(z-1)*U,R+x[0]+z*d+z*U)}return c};bB.prototype.Bq=function(x,R,T){this._c=x};
bB.prototype.WC=function(){if(X._b(this.bp)&&this.lG==null)this.rP();this.t()};bB.prototype.L4=function(x){this.zn.T(x.j3.Zg)};
function cJ(){dF.call(this,[9,2],!1,"---panels/properties",dF.sK.xS);this.alo=null;this.Lh=null;this.Dn=null;
this.a7o=-1;this.V2=null}cJ.prototype=new dF("");cJ.prototype.s7=function(x,R){this.KQ=x;this.kh=R;x=x-16;
R=R-30;var T=this.V2;if(T){T.style.width=x+"px";T.style.height=R+"px";for(var z=0;z<3;z++)this.c4[z].s7(x-12,R)}};
cJ.prototype.rP=function(){this.V2=X._("div","padded scrollable");this.bp.appendChild(this.V2);var x=X._("span");
this.V2.appendChild(x);this.Wq=[new i_([0,3]),new i_([12,73]),new i_([12,91,0])];for(var z=0;z<this.Wq.length;
z++){var R=this.Wq[z];R.k("click",this.a29,this);x.appendChild(R.n);if(z==2)R.n.style.marginRight="0"}this.V2.appendChild(X._("hr"));
this.Qw=new cJ.kt;this.Qw.parent=this;this.hd=new cJ.oP;this.hd.parent=this;this.jm=new cJ.gx;this.jm.parent=this;
this.c4=[this.Qw,this.hd,this.jm];this.V2.appendChild(this.Qw.n);this.vB=X._("div","lpfoot");this.bp.appendChild(this.vB);
this.ax=[];for(var z=0;z<3;z++){var R=new i_("W");R.k("click",this.sR,this);this.ax.push(R);this.vB.appendChild(R.n)}this.s7(this.KQ,this.kh)};
cJ.prototype.sR=function(x){var z=this.ax.indexOf(x.target),R=new aA(v.E.v,!0);R.f=D.d_;if(z==0)R.data={d:F.q8};
if(z==1)R.data={d:F.P1};if(z==2)R.data={d:F.X2};this.c(R)};cJ.prototype.a29=function(x){var z=this.Wq.indexOf(x.currentTarget);
this.cH(z);this.a5Y(z==1?this.hd.q2:-1)};cJ.prototype.cH=function(x){for(var z=0;z<3;z++){this.Wq[z].KF();
var R=this.c4[z].n;if(R.parentNode==this.V2&&z!=x)this.V2.removeChild(R);if(R.parentNode!=this.V2&&z==x)this.V2.appendChild(R)}this.Wq[x].Kl()};
cJ.prototype.a5Y=function(x){var R=this.Lh.g[0],T=this.Lh.R[R],c=x+1;if(x==1&&T.yn)return;var g=new aA(v.E.v,!0);
g.f=D.d_;if(x!=1&&T.yn){g.data={d:F.OF,a:R,yO:2};this.c(g)}g.data={d:F.OF,a:R,yO:c};this.c(g)};cJ.prototype.t=function(){dF.prototype.t.call(this);
if(this.V2==null)return;this.Bq(this.Lh);for(var z=0;z<3;z++){this.Wq[z].t();this.c4[z].t()}cm.bd(this.ax,["lrs/clipping","lrs/eye","lrs/bin"],[[6,6,0],[5,5],[6,31]])};
cJ.prototype.WC=function(){if(!X._b(this.bp))return;if(this.V2==null){this.rP();this.L4(this.Dn,hc.cp);
this.Bq(this.alo);this.t()}};cJ.prototype.Bq=function(x){this.alo=x;if(this.V2==null)return;this.Qw.Bq(x);
this.hd.Bq(x);this.jm.Bq(x);if(x==null||x.g.length==0||x.R[x.g[0]]==null){X.MQ(this.bp,"disabled");this.Lh=null;
return}else X.ia(this.bp,"disabled");var R=x.g[0],T=x.R[R];this.ax[0].T(T.UP);this.ax[1].T(T.Pm());var c=x.JR(),g=c[0],d=c[1];
if(d.length!=0){var U=g[d[0]],e=U.add.vogk,N=!1;if(e)for(var z=0;z<e.length;z++){var l=e[z].v;if(!u.oZ.ZM(l))continue;
N=!0;R=U.iY}}R+=","+N;if(x!=this.Lh||this.a7o!=R){this.Lh=x;this.a7o=R;if(N)this.cH(2);else if(T.s4<1&&!T.yn||hD.get(T.add))this.cH(0);
else this.cH(1)}this.Wq[1].Dd(this.hd.q2!=-1);this.Wq[2].Dd(N)};cJ.prototype.L4=function(x,R){this.Dn=x;
if(this.Qw)this.Qw.L4(x,R);if(this.jm)this.jm.L4(x,R)};cJ.kt=function(){ky.call(this);this.n=X._("div","form");
this.azZ=new kk("Hello");this.cM=new i_([1,12,2],null,null,!0);this.cM.n.style.asL="right";this.cM.k("click",this.Zz,this);
this.n.appendChild(this.azZ.n);this.n.appendChild(this.cM.n);this.QQ=null;this.f3=null;this.Lh=null;
this.Dn=null;this.a9D=-1;this.a3Z=null;this.OO=null;this.HS=new d6(0,!0,!0);this.HS.parent=this;this.HS.k(v.E.p,this.ahM,this);
this.n.appendChild(this.HS.n);this.gk=new dW(!0);this.gk.parent=this;this.gk.k(v.E.p,this.at9,this);
this.W1=X._("div","marged hiline");this.W1.appendChild(this.gk.n);this.m2=new c3("GrFl",!0);this.m2.parent=this;
this.m2.k(v.E.p,this.awV,this);this.jU=X._("div","marged hiline");var x="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var z=0;z<x.length;z++){var R=this.m2.px[x[z]].n;this.jU.appendChild(R)}this.$M=new c3("patternFill",!0);
this.$M.parent=this;this.$M.k(v.E.p,this.a5O,this);this.fp=X._("div","marged hiline");var x=["Ptrn","Angl","Scl","Algn","phase"];
for(var z=0;z<x.length;z++){var R=this.$M.px[x[z]].n;this.fp.appendChild(R)}this.uy={};for(var T in hD.names){if(gE[T]==null)continue;
this.uy[T]=new gE[T];this.uy[T].k(v.E.p,this.agK,this);this.uy[T].parent=this}var c=this.afd=X._("div","marged hiline");
this.zj=new d6(0,!0);c.appendChild(this.zj.n);this.zj.k(v.E.p,this.Zt,this);this.a5I=null;this.$B=new fY;
this.$B.parent=this;this.$B.k(v.E.p,this.Zt,this);c.appendChild(this.$B.n)};cJ.kt.prototype=new ky;cJ.kt.prototype.ahM=function(x){var R=this.HS.h(),T=this.OO,c=new aP(R[0],R[1],R[2],R[3]);
if(c.X$(T))return;this.OO=c;var g=new aA(v.E.v,!0);if(T.m==c.m&&T.e==c.e){g.f=D.BA;g.data={d:"trsl",iU:c.x-T.x,iG:c.y-T.y}}else{g.f=D.lU;
g.data={d:"scl",hK:[2,4],b:new cI(c.m/T.m,c.e/T.e),tk:0}}this.c(g)};cJ.kt.prototype.s7=function(x,R){var T=this.uy;
for(var c in T)T[c].s7(x,R)};cJ.kt.prototype.Zz=function(x){var R=this.Lh,T=R.R[R.g[0]],c=hD.get(T.add);
this.f3.T(gm.GI(c));this.agK()};cJ.kt.prototype.t=function(){for(var x in this.uy)this.uy[x].t();this.m2.t();
this.$M.t();this.$B.t();this.zj.t();this.cM.t();this.HS.t()};cJ.kt.prototype.Zt=function(x){var R=new aA(v.E.v,!0),T=this.zj.h(),c=this.a5I;
if(x.target==this.zj&&T[2]==c[2]&&T[3]==c[3]){R.f=D.BA;R.data={d:"trsl",iU:T[0]-c[0],iG:T[1]-c[1]}}else{var g=F.vR(new aP(T[0],T[1],T[2],T[3])),d=this.$B.ajS();
d.artboardRect={t:"Objc",v:g};var U=this.Lh,e=U.R[U.g[0]],N=e.add.artb.guideIndeces;if(N)d.guideIndeces=JSON.parse(JSON.stringify(N));
R.f=D.d_;R.data={d:F.RW,TD:d}}this.c(R)};cJ.kt.prototype.at9=function(x){var R=this.Lh,T=R.g[0];if(R.R[T].add.SoCo==null)return;
var c=JSON.parse(JSON.stringify(R.R[T].add.SoCo));c.Clr.v=this.gk.h();this.fO({KI:1,TB:c})};cJ.kt.prototype.awV=function(x){var R=this.Lh,T=R.g[0];
if(R.R[T].add.GdFl==null)return;this.fO({KI:2,TB:this.m2.h()})};cJ.kt.prototype.a5O=function(x){this.fO({KI:3,TB:this.$M.h()})};
cJ.kt.prototype.fO=function(x){this.aA8(D.d_,{d:F.Ok,eb:[this.Lh.g[0]],nn:!0,b:x})};cJ.kt.prototype.agK=function(x){this.aA8(D.JG,{d:"edit_layer",b:this.f3.h()})};
cJ.kt.prototype.aA8=function(x,R){var T=new aA(v.E.v,!0);T.f=x;T.data=R;this.c(T)};cJ.kt.prototype.Bq=function(x,R){var T=go.get([0,3]),c=!1,g=!1,d=null;
this.Lh=x;if(x&&x.R.length>0&&x.g.length!=0&&x.R[x.g[0]]){var U=x.R[x.g[0]],e=hD.get(U.add);if(e!=null&&this.uy[e]!=null){d=this.uy[e].n;
this.f3=this.uy[e];this.uy[e].T(JSON.parse(JSON.stringify(U.add[e])));if(x.g[0]!=this.a9D){var N=x.Yr(x.g[0]-1);
this.a3Z=u.wu(N)}this.uy[e].dp(this.a3Z);T=go.get(hD.names[e]);c=!0}if(e==null&&U.add.artb==null){var l=this.OO=u.M.cJ(D.gW.zC(x));
g=!l.Y3();this.HS.T([l.x,l.y,l.m,l.e],[x.De,x.m,this.Dn.j3.Zg])}if(U.add.SoCo){d=this.W1;this.gk.T(U.add.SoCo.Clr.v);
T=go.get([6,48,0,0])}if(U.add.GdFl){d=this.jU;this.m2.update(x,U.add.GdFl);T=go.get([6,48,0,1])}if(U.add.PtFl){d=this.fp;
this.$M.update(x,U.add.PtFl);T=go.get([6,48,0,2])}if(U.add.artb){var J=U.add.artb,w=U.Ie();d=this.afd;
this.$B.aCG(J);var s=this.a5I=[w.x,w.y,w.m,w.e];this.zj.T(s,[x.De,x.m,this.Dn.j3.Zg]);T=go.get([1,16,0])}this.a9D=x.g[0]}if(d!=this.QQ){if(this.QQ)this.n.removeChild(this.QQ);
if(d!=null)this.n.appendChild(d);this.QQ=d}this.azZ.T(T);this.cM.n.style.display=c?"":"none";this.HS.n.style.display=g?"":"none"};
cJ.kt.prototype.L4=function(x,R){this.Dn=x;this.m2.L4(x,R);this.$M.L4(x,R);if(R==hc.WP)this.Bq(this.Lh,x);
for(var T in this.uy)this.uy[T].L4(x,R)};cJ.oP=function(){ky.call(this);this.n=X._("div","form");this.Lh=null;
this.q2=0;var x=X._("span","fitem");this.n.appendChild(x);this.Wq=[new i_([6,2]),new i_([6,3]),new i_([6,50])];
for(var z=0;z<this.Wq.length;z++){var R=this.Wq[z];R.k("click",this.auI,this);x.appendChild(R.n)}this.eL=new aw([12,74],0,255);
this.eL.k(v.E.p,this.DV,this);this.n.appendChild(this.eL.n);this.Ou=new aw([7,6],0,500,"px",2,!0);this.Ou.k(v.E.p,this.DV,this);
this.n.appendChild(this.Ou.n);this.AK=new i_([4,11],null,null,!0);this.AK.k("click",this.asS,this)};
cJ.oP.prototype=new ky;cJ.oP.prototype.asS=function(){var x=new aA(v.E.v,!0);x.f=D.JG;x.data={d:"start",m$:"nvrt"};
this.c(x)};cJ.oP.prototype.DV=function(x){var R=this.eL.h(),T=this.Ou.h(),c=new aA(v.E.v,!0);c.f=D.d_;
c.data={d:F.gU,A9:this.Lh.g[0],ne:{Ds:this.q2,eL:R,Ou:T}};this.c(c)};cJ.oP.prototype.t=function(){for(var z=0;
z<this.Wq.length;z++)this.Wq[z].t();this.eL.t();this.Ou.t();this.AK.t()};cJ.oP.prototype.Bq=function(x){this.Lh=x;
this.OD()};cJ.oP.prototype.auI=function(x){this.OD(this.Wq.indexOf(x.currentTarget));this.parent.a5Y(this.q2)};
cJ.oP.prototype.OD=function(x){var R=this.Lh,T=this.Wq;for(var z=0;z<3;z++){var c=T[z];c.KF();c.tC()}if(R==null||R.R.length==0||R.g.length==0||R.R[R.g[0]]==null)return;
var g=-1,d=R.R[R.g[0]];if(d.Xn()&&d.Ct(R).F!=null){T[2].uL();g=2}if(d.add.vmsk){T[1].uL();g=1}if(d.le()){T[0].uL();
g=0}if(x!=null)g=x;else if(d.yn)g=1;else if(d.s4==3)g=2;else if(d.s4==1)g=0;this.q2=g;if(g==-1){this.eL.tC();
this.Ou.tC();return}var U=d.PG(g);this.eL.uL();this.Ou.uL();this.eL.T(U.eL);this.Ou.T(U.Ou);T[g].Kl();
var e=this.AK.n;if(g==0)this.n.appendChild(e);else if(e.parentNode==this.n)this.n.removeChild(e)};cJ.gx=function(){ky.call(this);
this.n=X._("div","form");this._c=null;this.Dn=null;this.Hd=-1;this.HS=new d6(0,!1);this.Tn=new aw([12,15],-180,180,"\xB0",2);
this.cx=new d6(1,!0);this.JD=new aw([12,94,0],0,100,null,2);this.T7=new aw([12,78],3,30);this.hz=new i_(["\u279C  ",[12,76,0]],null,null,!0);
this.HS.k(v.E.p,this.Lc,this);this.Tn.k(v.E.p,this.Lc,this);this.cx.k(v.E.p,this.Lc,this);this.JD.k(v.E.p,this.Lc,this);
this.T7.k(v.E.p,this.Lc,this);this.hz.k("click",this.Lc,this)};cJ.gx.prototype=new ky;cJ.gx.prototype.t=function(){this.HS.t();
this.Tn.t();this.cx.t();this.JD.t();this.T7.t()};cJ.gx.prototype.Lc=function(x){var R=this._c,T=u.oZ.ok(R),c=x.target.h(),g=[this.HS,this.Tn,this.cx,this.JD,this.T7,this.hz].indexOf(x.target);
if(g==0){var d=[];d[0]=c[0];d[1]=c[1];d[2]=d[0]+c[2];d[3]=d[1]+c[3];c=d}if(g==1)c=c*Math.PI/180;var U={0:1,1:2,2:3,3:3,4:4}[g];
T[U]=c;var e=new aA(v.E.v,!0);e.f=D.d_;e.data={d:F.eK,b:T,azB:g==5};this.c(e)};cJ.gx.prototype.Bq=function(x){var R=this.n;
this._c=x;if(x==null)return;var T=this.Dn,c=[x.De,x.m,T.j3.Zg],g=u.oZ.ok(x),d=g[0],U=g[1];if(U==null)return;
var e=d!=this.Hd;this.Hd=d;if(e)X.Ra(R);if(e)R.appendChild(this.HS.n);if(e)R.appendChild(this.Tn.n);
this.HS.T([U[0],U[1],U[2]-U[0],U[3]-U[1]],c);this.Tn.T(g[2]*180/Math.PI);if(d==2){if(e)R.appendChild(this.cx.n);
var N=g[3];this.cx.T(N,c)}if(d==7||d==8){if(e)R.appendChild(this.JD.n);this.JD.T(g[3])}if(d==8){if(e)R.appendChild(this.T7.n);
this.T7.T(g[4])}R.appendChild(this.hz.n)};cJ.gx.prototype.L4=function(x,R){this.Dn=x;this.Bq(this._c)};
function jX(x){dF.call(this,x.name,!0);this.V1=x;this.im=null;this.xJ=new b2(this.bp);this.xJ.parent=this}jX.prototype=new dF;
jX.mC=function(){var x=document.createElement("canvas"),R=document.createElement("canvas"),T=16,c=u.B(16*16*4);
u.P8(c,T,T,8);var g=u.scale.Ms(c,T,T);return{D0:x,bc:R,dz:x.getContext("2d",{willReadFrequently:!0}),xC:R.getContext("2d"),vN:g}}();
jX.prototype.a6O=function(){if(this.V1.DK())return window.confirm(go.get([22,6,3])+" "+this.V1.name+". "+go.get([22,6,4]));
return!0};jX.prototype.L4=function(x,R){this.im=x};jX.prototype.Bq=function(x){this.WC();this.a5()};
jX.prototype.s7=function(x,R){if(x<=0||R<=0)return;this.KQ=x;this.kh=R;var T=this.V1,c=jX.mC,g=X.mM();
T.Q.dz.m=Math.floor(x*g);T.Q.dz.e=Math.floor(R*g);X.ja(c.D0,x,R);X.ja(c.bc,x,R);X.ja(fq._e(),x,R);if(T.Q.O==0)T.Q.O=D.m6.du(T.m,T.e,x*g,R*g);
this.a5()};jX.prototype.WC=function(){var x=this.bp.firstChild,R=jX.mC,T=fq.tc&&b5==0;if(!T&&x==fq._e()||T&&x==R.D0)this.bp.removeChild(x);
var c=T?fq._e():R.D0;if(!X._b(c))this.bp.appendChild(c)};jX.prototype.a5=function(){if(this.im==null)return;
var x=this.V1,R=fq.tc&&b5==0;if(R)this.ayZ();else this.hx()};jX.prototype.ayZ=function(){if(fq.tc&&jX.eX==null){var x=jX.eX=[],R=[0,2,8,32,128];
for(var z=0;z<5;z++)x[z]=[new jX.Dj(!1,R[z],!1),new jX.Dj(!0,R[z],!1)];x.push([new jX.Dj(!1,0,!0),new jX.Dj(!0,0,!0)])}var T=this.V1,c=jX.mC,w,V=0,Z,I;
if(T.U0==null)return;var g=T.Q,d=g.dz.m,U=g.dz.e,e=fq.xv;c.dz.clearRect(0,0,d,U);var N=this.a6_(T);if(g.sd==null||g.sd.m!=d||g.sd.e!=U)g.sd=new fq.IV(d,U);
if(N){var l=new Uint8Array(c.dz.getImageData(0,0,d,U).data.buffer);g.sd.set(l)}else{fq.WM(g.sd);fq.IC(1)}var J=g.YP(0,0);
if(jX.aiU==null)jX.aiU=new Float32Array(4*1024);var s=[0,0,0,0],o=jX.aiU;if(T.add.artd){o.fill(0);s=jX.Pc(T);
var a=T.m,O=T.e,b=0;for(var z=0;z<T.R.length;z++){var S=T.R[z],L=S.add.artb;if(L==null||!S.Pm())continue;
var Q=S.Ie();o[V]=Q.x/a;o[V+1]=Q.y/O;o[V+2]=Q.m/a;o[V+3]=Q.e/O;V+=4;if(V==o.length)break}if(V>2*4)b++;
if(V>8*4)b++;if(V>32*4)b++;w=jX.eX[b+1];o=new Float32Array(o.buffer,0,[2,8,32,128][b]*4)}else w=jX.eX[T.fr?5:0];
var y=T.Cl();if(y==null)w=w[0];else{w=w[1];I=y[T.add.fcmy==1?6:4];Z=y[2]}fq.ZK(d,U);fq.IC(0);fq.ZK(d,U);
w.YK();var r=new gP;r.scale(d,U);r.concat(g.ly(!0));r.scale(1/T.m,1/T.e);var h=[r.Y,r.J,0,r.zI,r.jR,0,r.a4,r.rY,1];
w.jo(g.sd.G1,T.U0.G1,new Float32Array(h),new Float32Array([d/8,U/8,J.x/d,J.y/U]),T.m,T.e,1/T.Q.O,d,U,new Float32Array(s),o,new Float32Array(u.Id.xZ(u.Id.apT(g.U))),I,Z);
e.drawArrays(e.TRIANGLES,0,6)};jX.Pc=function(x){return[0,0,0,0]};jX.avV=function(x){var R=u.I.ir(x.v),T=[R.o/255,R.A/255,R.J/255,1];
for(var z=0;z<4;z++)T[z]=Math.min(1,T[z]);return T};jX.bX=function(x,R){var T=x[2]*255;if(fq.tc)T=R?0:Math.max(2,T);
return"rgba("+x[0]*255+","+x[1]*255+","+T+","+x[3]+")"};jX.mb=function(x){var R=x.length;if(fq.tc)for(var z=0;
z<R;z+=4){if(x[z+2]==0)x[z+2]=3}};jX.prototype.hx=function(){var x=this.V1,R=jX.mC;if(b5==0&&x.buffer==null)return;
var T=x.Q,c=T.dz,g=c.m,d=c.e,U=new aP(0,0,x.m,x.e);R.xC.clearRect(0,0,g,d);R.dz.clearRect(0,0,g,d);var e=T.ly(!0),N=e.clone();
N.F0();if(x.add.artd==null){R.dz.save();var l=N.Wk(new cI(0,0));N.translate(-l.x,-l.y);R.dz.translate(Math.round(l.x),Math.round(l.y));
R.dz.fillStyle=b5==0?R.vN:"#ffffff";if(x.fr)R.dz.fillRect(-5e3,-5e3,2e4,2e4);else{var J=x.add.arts;if(b5==1)for(var z=0;
z<J.length;z++){var w=u.M.QK(J[z].Uc);this.AV(u.M.$x(w),N,R.dz);R.dz.fill()}else{this.AV(u.M.$x(U),N,R.dz);
R.dz.fill()}}R.dz.restore()}else{R.dz.fillStyle=jX.bX(jX.Pc(x));R.dz.fillRect(0,0,g,d);R.dz.save();R.dz.setTransform(N.Y,N.J,N.zI,N.jR,N.a4,N.rY);
var s=x.root.children;for(var z=0;z<s.length;z++){var o=s[z].a;if(o.add.artb==null||!o.Pm())continue;
var V=o.Ie(),a=o.Ji();if(a!=0)continue;R.dz.fillStyle=R.vN;R.dz.save();R.dz.scale(1/T.O,1/T.O);R.dz.fillRect(T.O*V.x,T.O*V.y,V.m*T.O,V.e*T.O);
R.dz.restore()}R.dz.restore()}if(T.Mk.length!=c.Z()){T.Mk=u.B(c.Z());T.OX=u.B(c.Z()*4)}T.OX.fill(0);
if(b5==1){var N=T.ly(!0);N.F0();R.dz.save();var O=u.M.$x(T.dz);u.M.i(O.z,T.ly(!0),O.z);var w=u.M.CC(O.z);
R.dz.setTransform(N.Y,N.J,N.zI,N.jR,N.a4,N.rY);x.root.a4h(x,R.dz,this.im,w);R.dz.restore()}else{u.scale.amO(x.buffer,U,e,T.OX,c,x.fr);
var S=x.Cl();if(S)ICC.U.applyLUT(S[x.add.fcmy==1?5:3],S[2],T.OX,T.OX);if(T.U[0]+T.U[1]+T.U[2]!=3)u.Id.ap7(T.OX,T.OX,u.Id.apT(T.U));
R.xC.putImageData(new ImageData(new Uint8ClampedArray(T.OX.buffer),c.m,c.e),0,0);R.dz.drawImage(R.bc,0,0);
R.dz.getImageData(0,0,1,1)}this.a6_(x)};jX.prototype.a6_=function(x){var R=x.Q,T=R.U[0]+R.U[1]+R.U[2],c=jX.mC,g=!1,d=[];
for(var z=0;z<x.g.length;z++){var U=x.R[x.g[z]];if(U==null)continue;var e=U.s4;if(e!=1&&e!=3)continue;
var N=e==1?U.le():U.Ct(x).F;if(N.PW)d.push(N)}for(var z=0;z<x.Hp.length;z++)if(x.Hp[z].PW)d.push(x.Hp[z]);
for(var z=0;z<d.length;z++){var N=d[z];this.atO(N,R,d.length==1&&T==0?2:1,N.color,N.O7);g=!0}var l=this.im;
g=this.a2C(x,c.dz,R,d.length!=0)||g;if(x.u&&l.St&&l.j3.js){this.atO(x.u,R,0,0,null);g=!0}return g};jX.prototype.atO=function(x,R,T,c,g){var d=0;
if(g)d=Math.round(g.J)<<16|Math.round(g.A)<<8|Math.round(g.o);var U=R.ly(!0),e=R.dz,N=new aP(0,0,R.V1.m,R.V1.e),l=jX.mC;
if(R.OX==null||R.OX.length!=e.Z()*4){R.Mk=u.B(e.Z());R.OX=u.B(e.Z()*4)}R.Mk.fill(c);R.OX.fill(0);var J=x.channel,w=x.rect;
u.scale.i(J,w,U,R.Mk,e);if(T==0){var s=new Uint32Array([4278190080,4294967295]);jX.mb(new Uint8Array(s.buffer));
u.u.aCo(R.Mk,R.OX,e,s,X.mM()>1.9)}else{var o=Date.now();u.u.axO(R.Mk,R.OX,e,T,d);jX.mb(R.OX)}var V=new ImageData(new Uint8ClampedArray(R.OX.buffer),e.m,e.e);
l.xC.putImageData(V,0,0);l.dz.save();if(T!=0){var a=new aP(0,0,N.m,N.e),O=U.clone();O.F0();this.AV(u.M.$x(a),O,l.dz);
l.dz.clip()}l.dz.drawImage(l.bc,0,0);l.dz.restore()};jX.prototype.a2C=function(x,R,T,c){var g=x.N.ny!=null||x.N.Xp!=null||x.N.NQ!=null||x.N.ay!=null||x.N.VL.length!=0||x.N.gp.length!=0,d=this.im,U=d.j3,e=ah.zF[d.GA],N=Math.round(12*X.mM()),l=N/x.Q.O,J=T.ly(!0);
J.F0();R.save();R.setTransform(J.Y,J.J,J.zI,J.jR,J.a4,J.rY);var w=jX.Pc(x)[0];w=w<.5?w+.5:w-.5;w=""+Math.round(w*255).toString(16);
while(w.length<2)w="0"+w;R.font=l+"px sans-serif";if(x.add.artd){R.fillStyle="#"+w+w+w;for(var z=0;z<x.R.length;
z++){var s=x.R[z];if(s.add.artb==null||!s.Pm())continue;var o=s.Ie();R.save();R.beginPath();R.rect(o.x,o.y-2*l,o.m,2*l);
R.clip();R.fillText(s.getName(),o.x+2,o.y-l*.7);R.beginPath();R.restore();g=!0}}if(x.add.arts&&d.lf==D.ahu){var V=x.add.arts;
for(var z=0;z<V.length;z++){var o=V[z],a=u.M.QK(o.Uc),O=(z+1+"").padStart(2,"0");O+=" - "+o.QP;R.save();
R.beginPath();R.fillStyle=o.g?"#cce6ff":"#dddddd";R.rect(a.x,a.y,R.measureText(O).width+l,l*1.5);R.fill();
R.fillStyle="black";R.fillText(O,a.x+l/2,a.y+l*1.1);R.restore()}g=!0}function S(gQ){return gQ==1||gQ==2||gQ==4||gQ==5}var L=jX.bX([.3,.5,1,1]),Q=jX.bX([1,1,1,1]);
if(d.St&&U.OQ){R.fillStyle=R.strokeStyle=L;R.lineWidth=1.5/T.O;var b=x.JR(),Z=b[0],I=b[1];for(var y=0;
y<I.length;y++){var s=Z[I[y]],r=s.add.vmsk,h=r.$,k=u.M.td(h);this.AV(k,null,R);R.stroke();g=!0;var K=3*X.mM()/T.O;
for(var z=0;z<r.no.length;z++){var H=u.j.auX(h,r.no[z]);if(H==null)continue;var p=H.x,f=H.y;R.beginPath();
var A=z==0;if(r.U6)A=!A;if(A){R.moveTo(p-K,f-K);R.lineTo(p+K,f+K);R.moveTo(p-K,f+K);R.lineTo(p+K,f-K);
R.stroke()}else{R.arc(p,f,K*1,0,2*Math.PI);R.fill()}g=!0}if(x.g.length!=1)continue;var _=-1;for(var z=0;
z<h.length;z++){if(h[z].type>5)continue;if(h[z].type==0||h[z].type==3){if(h[z].AC!=-1)_++;continue}if(r.g.indexOf(_)!=-1){var p=h[z].L.x,f=h[z].L.y;
R.fillRect(p-K*.8,f-K*.8,2*K*.8,2*K*.8)}if(r.fH.indexOf(z)!=-1){var W=h[z],Y=[W.L];R.beginPath();R.moveTo(W.YA.x,W.YA.y);
R.lineTo(W.L.x,W.L.y);R.lineTo(W.VV.x,W.VV.y);var G=h[z-1],i=h[z+1];if(G&&S(G.type)&&r.fH.indexOf(z-1)==-1){R.moveTo(G.L.x,G.L.y);
R.lineTo(G.VV.x,G.VV.y);Y.push(G.VV)}if(i&&S(i.type)&&r.fH.indexOf(z+1)==-1){R.moveTo(i.L.x,i.L.y);R.lineTo(i.YA.x,i.YA.y);
Y.push(i.YA)}R.stroke();if(!W.L.X$(W.YA))Y.push(W.YA);if(!W.L.X$(W.VV))Y.push(W.VV);for(var E=0;E<Y.length;
E++){var H=Y[E],p=H.x,f=H.y;if(E==0&&(W.type==2||W.type==5))R.fillRect(p-1.2*K,f-1.2*K,2.4*K,2.4*K);
else{R.beginPath();R.arc(p,f,K*1.2,0,2*Math.PI);R.fill();if(E!=0)R.fillStyle=Q;R.beginPath();R.arc(p,f,K*.8,0,2*Math.PI);
R.fill();R.fillStyle=L}}}g=!0}}}R.lineWidth=1/T.O;if(x.N.Bz){R.fillStyle=R.strokeStyle=L;var i={z:[],G:[]},$=jX.a9Y;
if($==null){$=jX.a9Y={z:[1,0],G:["M"]};for(var z=1;z<30;z++){var C=Math.PI*2*z/30;$.z.push(Math.cos(C),Math.sin(C));
$.G.push("L")}$.G.push("Z","M","L","M","L");$.z.push(-.5,0,.5,0,0,-.5,0,.5)}for(var z=0;z<x.N.Bz.length;
z++){var G=D.Ge.a7L(x.N.Bz[z],T),B=new gP(G[0],0,0,G[0],G[1],G[2]);u.M.concat(i,$,B)}this.AV(i,null,R);
R.stroke();g=!0}var M=new gP(1,0,0,1,.5/T.O,.5/T.O);if(x.fr){R.fillStyle=R.strokeStyle=L;var i={z:[0,0,x.m,0,x.m,x.e,0,x.e],G:["M","L","L","L","Z"]};
this.AV(i,M,R);R.stroke();g=!0}if(x.N.dM){R.fillStyle=R.strokeStyle=jX.bX([0,0,0,.5]);this.AV(x.N.dM,null,R,!0);
R.fill("evenodd")}R.strokeStyle=L;R.fillStyle=Q;if(x.N.NQ){this.AV(x.N.NQ,M,R);R.stroke()}var j=jX.rU(x.N.Uu,R,T);
R.fill();R.stroke();g=g||j;R.fillStyle=R.strokeStyle=jX.bX([0,0,0,fq.tc&&b5==0?1:.5],!0);if(x.N.ny){this.AV(x.N.ny,null,R);
R.fill()}if(x.N.Xp){this.AV(x.N.Xp,M,R);R.stroke()}for(var P in x.N.Br)if(x.N.Br[P].Xp){this.AV(x.N.Br[P].Xp,null,R);
R.stroke();g=!0}var j=jX.rU(x.N.rb,R,T);R.stroke();g=g||j;if(x.N.M2.length+x.N._H.length+x.N.EY.length!=0){g=!0;
R.fillStyle=Q;jX.$i(x.N.M2,R,T,6);R.fill();jX.$i(x.N._H,R,T,6);R.fill();R.fillStyle=L;jX.$i(x.N.M2,R,T,4);
R.fill();jX.$i(x.N.EY,R,T,4);R.fill();R.fillStyle=jX.bX([.7,.7,.7,1]);jX.$i(x.N._H,R,T,4);R.fill()}if(x.N.VL.length!=0){for(var z=0;
z<x.N.VL.length;z++){var t=x.N.VL[z],q=t[1],m;if(c){m=R.getImageData(q.x,q.y,q.m,q.e);u.l.Hy("norm",t[0],q,new Uint8Array(m.data.buffer),q,q,1)}else m=new ImageData(new Uint8ClampedArray(t[0].buffer),q.m,q.e);
R.putImageData(m,q.x,q.y)}}var iE=.5/T.O;R.lineWidth=1/T.O;if(x.N.As){g=!0;var hV=x.N.As,dD=hV.ym,k={G:[],z:[]};
for(var z=0;z<hV.QH.length;z++)u.M.concat(k,u.M.$x(hV.QH[z]));k.z=k.z.concat(dD);for(var z=0;z<dD.length;
z+=4){k.G.push("M","L")}for(var z=0;z<k.z.length;z++){k.z[z]+=iE}R.strokeStyle=jX.bX([.9,.2,.2,1]);this.AV(k,null,R);
R.stroke();var bh=X.mM(),ho=2/T.O;R.font=l*.9+"px sans-serif";for(var z=0;z<dD.length;z+=4){var p=dD[z],f=dD[z+1],aH=dD[z+2],f2=dD[z+3],e9=Math.sqrt((f2-f)*(f2-f)+(aH-p)*(aH-p));
e9=u.A8.tN(e9,x.De,d,f==f2?x.m:x.e);var kB=new cI((p+aH)/2,(f+f2)/2);R.fillStyle=jX.bX([.9,.2,.2,1]);
var ct=R.measureText(e9).width;R.fillRect(kB.x-ct/2-ho*bh,kB.y-3.5*ho*bh,ct+2*ho*bh,7*ho*bh);R.fillStyle=jX.bX([1,1,1,1]);
R.save();R.translate(kB.x-ct/2,kB.y+2*ho*bh);R.scale(.1,.1);R.font=l*9+"px sans-serif";R.fillText(e9,0,0);
R.restore()}}if(d.St){if(U.Ch&&x.Q.O>10&&b5==0){this.P8(x,R,1,1,.25,U.DX,16777215);g=!0}if(U.Fw){var jF=u.A8.B2(U.xD,x.De,x.m,U.GL),fj=jF;
if(U.GL==4)fj*=x.e/x.m;this.P8(x,R,jF,fj,1,U.DX,U.$T);g=!0}if(U.CR){var ab=x.M3(),iw=x.NY(),jD=Math.max(x.Q.dz.m,x.Q.dz.e)/x.Q.O;
jD=Math.max(Math.max(x.m,x.e)*2,jD);for(var z=0;z<ab[0].length;z++){var a1=ab[0][z],gd=ab[1][z];if(gd!=-1&&gd!=iw)continue;
var i6=T.YP(a1[1],a1[1]),hv=T.nU(Math.floor(i6.x)+.5,Math.floor(i6.y)+.5),hO=u.m4(U.TM);hO=[hO.o/255,hO.A/255,hO.J/255,1];
if(gd!=-1)hO=[0,.5,1,1];R.beginPath();R.strokeStyle=jX.bX(hO);if(a1[0]==0){var jh=hv.x;R.moveTo(jh,-jD);
R.lineTo(jh,jD)}else{var aJ=hv.x;R.moveTo(-jD,aJ);R.lineTo(jD,aJ)}R.stroke();g=!0}}var hS=x.nH;if(hS.length>0&&d.lf==D.asf){var q=7/x.Q.O,iO=q/3,g$=q*4;
R.strokeStyle=R.fillStyle="black";for(var z=0;z<hS.length;z++){var bF=hS[z];R.fillRect(bF.x-.5*iO,bF.y-.5*g$,iO,g$);
R.fillRect(bF.x-.5*g$,bF.y-.5*iO,g$,iO);R.lineWidth=2.5/x.Q.O;R.beginPath();R.arc(bF.x,bF.y,q,0,2*Math.PI);
R.stroke();R.font=1.9*q+"px serif";R.lineWidth=1.25/x.Q.O;R.strokeText(""+(z+1),bF.x+.75*q,bF.y+2.5*q)}g=!0}var hy=x.co;
if(U.co&&hy.length!=0){R.font=l*.8+"px sans-serif";var fg=[],hL=[];for(var z=0;z<hy.length;z++){var dn=D.D3.ha(hy,z);
fg.push(dn);if(x.ci.indexOf(z)!=-1)hL.push(dn)}fg.reverse();var c5=Date.now();fg=u.rect.a6N([0,0,x.m,x.e],fg);
for(var E=0;E<2;E++)for(var z=0;z<fg.length;z++){var at=fg[z],_=at[4],gt=_!=null?hy[_]:null;if(gt&&E==0||gt==null&&E==1)continue;
var p=Math.round(at[0]),f=Math.round(at[1]),aH=Math.round(at[2]),f2=Math.round(at[3]);R.strokeStyle=R.fillStyle=jX.bX(gt?[0,.7,.7,1]:[.8,.8,.8,1]);
R.strokeRect(p+iE,f+iE,aH-p,f2-f);var iK=z+1,iz=R.measureText(iK),ct=iz.width;R.fillRect(p,f,ct+l/2,l);
R.fillStyle=jX.bX([1,1,1,1]);R.fillText(iK,p+l/4,f+l*.8)}var ho=2/x.Q.O,gI=2*ho;for(var z=0;z<hL.length;
z++){var at=hL[z],p=Math.round(at[0]),f=Math.round(at[1]),aH=Math.round(at[2]),f2=Math.round(at[3]);
R.strokeStyle=R.fillStyle=jX.bX([1,.6,0,1]);R.strokeRect(p+iE,f+iE,aH-p,f2-f);var ce=[p,f,aH,f,aH,f2,p,f2];
for(var b7=0;b7<ce.length;b7+=2){var jh=ce[b7],aJ=ce[b7+1],br=ce[b7+2&7],kg=ce[b7+3&7];R.fillRect(jh-ho,aJ-ho,gI,gI);
R.fillRect(Math.round((jh+br)/2)-ho,Math.round((aJ+kg)/2)-ho,gI,gI)}}g=!0}var bM=x.add.Anno;if(bM&&bM.length!=0)for(var z=0;
z<bM.length;z++){var eQ=bM[z],hO=eQ[2],jh=eQ[0]-iE,aJ=eQ[1]-iE,gI=30/T.ef,eT=.4*gI,b6=.6*gI;R.beginPath();
R.moveTo(jh,aJ+b6);R.lineTo(jh,aJ);R.lineTo(jh+gI,aJ);R.lineTo(jh+gI,aJ+gI);R.lineTo(jh+eT,aJ+gI);R.closePath();
R.lineTo(jh+eT,aJ+b6);R.lineTo(jh+eT,aJ+gI);if(z==x.Q.S7){R.lineWidth*=5;R.strokeStyle=jX.bX([0,0,0,.5]);
R.stroke();R.lineWidth/=5}R.fillStyle=jX.bX([hO.o/255,hO.A/255,hO.J/255,1]);R.fill();R.strokeStyle=jX.bX([0,0,0,1]);
R.stroke()}}R.strokeStyle=jX.bX([1,0,0,1]);if(x.N.ay){this.AV(x.N.ay,M,R);R.stroke()}R.restore();if(d.Tg){if(x.Q.te==null||x.Q.te.width!=x.Q.dz.m||x.Q.LN.height!=x.Q.dz.e){x.Q.te=R.createImageData(x.Q.dz.m,u.A8.Tb);
x.Q.LN=R.createImageData(u.A8.Tb,x.Q.dz.e)}var e=ah.zF[d.GA],hx=0,io=0,jm=x.m,bq=x.e;if(x.NY()!=-1){var o=x.R[x.NY()].Ie();
hx=o.x;io=o.y;jm=o.m;bq=o.e}hx*=T.O;io*=T.O;var T=x.Q,gO=[1,x.De,x.De/2.54,x.De/25.4,jm/100][U.Zg],ae=T.O*x.m/2,dl=T.O*x.e/2,eF=[T.O*gO,new cI(T.w.x+(hx+ae*gO-ae),T.w.y+(io+dl*gO-dl))];
if(U.Zg==4)gO*=bq/jm;var e6=[T.O*gO,new cI(T.w.x+(hx+ae*gO-ae),T.w.y+(io+dl*gO-dl))],dJ=this.xJ.Hj;u.A8.aj7(T,e["--text-color"],e["--bg-input"],Math.floor(dJ.x),Math.floor(dJ.y),eF,e6);
var d2=bx.aBI(T.O,jX.bX([1,1,1,1]),x.m,x.e);jX.mb(x.Q.LN.data);jX.mb(x.Q.te.data);R.putImageData(x.Q.LN,0,0);
R.putImageData(x.Q.te,0,0);R.putImageData(d2,0,x.Q.dz.e-d2.height)}if(x.N.gp.length!=0){for(var z=0;
z<x.N.gp.length;z++){var t=x.N.gp[z],q=t[1];R.putImageData(new ImageData(new Uint8ClampedArray(t[0].buffer),q.m,q.e),q.x,q.y)}}return g||d.Tg};
jX.prototype.P8=function(x,R,T,c,g,d,U){while(T*x.Q.O<4){T*=2;c*=2}var e=x.m,N=x.e,l=.5/x.Q.O;U=u.m4(U);
R.strokeStyle=jX.bX([U.o/255,U.A/255,U.J/255,g],!1);R.save();R.rect(0,0,e,N);R.clip();R.beginPath();
for(var J=0;J<=e;J+=T){R.moveTo(J+l,0);R.lineTo(J+l,N)}if(d==0){for(var w=0;w<=N;w+=c){R.moveTo(0,w+l);
R.lineTo(e,w+l)}}else{c*=Math.sqrt(4/3);var s=c*Math.floor(e/c),o=e*(c/(2*T));for(var w=-s;w<=N+s;w+=c){R.moveTo(0,w);
R.lineTo(e,w-o);R.moveTo(0,w);R.lineTo(e,w+o)}}R.stroke();R.restore()};jX.$i=function(x,R,T,c){R.beginPath();
var g=c*X.mM()/T.O,d=!1;for(var z=0;z<x.length;z+=2){d=!0;var U=x[z],e=x[z+1];R.moveTo(U+g,e);R.arc(U,e,g,0,2*Math.PI)}return d};
jX.rU=function(x,R,T,c){R.beginPath();var g=(c?c:1)*(4*X.mM()+.5)/T.O,d=!1;for(var z=0;z<x.length;z+=2){d=!0;
var U=x[z],e=x[z+1];R.rect(U-g,e-g,2*g,2*g)}return d};jX.Xm=function(x,R,T,c){T.beginPath();if(c)T.rect(-1e5,-1e5,1e6,1e6);
var g=x;if(R){g=u.M.clone(x);u.M.i(g.z,R,g.z)}Typr.U.pathToContext({cmds:g.G,crds:g.z},T)};jX.prototype.AV=jX.Xm;
jX.Dj=function(x,R,T){fq.aa.call(this);var c=R!=0,g=T?"true":"in01(sCoord)",d="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(x?"uniform sampler2D lut;  uniform float N;  "+fq.ai.UM:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(c?"uniform vec4 bgClr;  uniform vec4 ars["+R+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+fq.ai.iA+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(T?"-floor(sCoord)":"")+"); \t\t\t\t"+(x?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(c?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+R+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+g+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+g+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",U="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.bF(d,U)};jX.Dj.prototype=new fq.aa;jX.Dj.prototype.jo=function(x,R,T,c,g,d,U,e,N,l,J,w,s,o){this.me("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var V=fq.xv,a=this.Vi;V.uniformMatrix3fv(a.tmat,!1,T);V.uniform4fv(a.gsize,c);V.uniform3f(a.contSizeZoom,g,d,U);
V.uniform2f(a.cnvSize,e,N);V.uniformMatrix4fv(a.ctrn,!1,w);if(this.a48){V.uniform4fv(a.ars,J);V.uniform4fv(a.bgClr,l)}V.uniform1i(a.source,0);
V.uniform1i(a.target,1);V.activeTexture(V.TEXTURE0);V.bindTexture(V.TEXTURE_2D,x);V.activeTexture(V.TEXTURE1);
V.bindTexture(V.TEXTURE_2D,R);if(s){V.uniform1f(a.N,o);V.uniform1i(a.lut,2);V.activeTexture(V.TEXTURE2);
V.bindTexture(V.TEXTURE_2D,s.G1);var O=V.LINEAR;V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MIN_FILTER,O);
V.texParameteri(V.TEXTURE_2D,V.TEXTURE_MAG_FILTER,O)}V.activeTexture(V.TEXTURE0)};function f_(){dF.call(this,[9,7],!1,"---panels/layercomps",dF.sK.a5m);
this.bp.setAttribute("style","min-width:240px;");this.Lh=null;this.QY=-1;this.d5=[];this.QB=X._("div","scrollable");
this.QB.style.height="160px";this.bp.appendChild(this.QB);this.vB=X._("div","lpfoot");this.bp.appendChild(this.vB);
this.ra=[];var x=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],R=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var z=0;z<x.length;z++){var T=x[z];if(z>0)T="<img src=\""+PIMG[x[z]]+"\" class=\"miniscale gsicon\" />";
var c=new i_(T,!1,R[z]);c.k("click",this.ayO,this);this.vB.appendChild(c.n);this.ra.push(c)}}f_.prototype=new dF("");
f_.prototype.s7=function(x,R){this.bp.setAttribute("style","width:"+(x-2)+"px;");this.QB.style.height=R-28+"px"};
f_.prototype.ar=function(x){var R=new aA(v.E.v,!0);R.data=x;R.f=D.X4;this.c(R)};f_.ax8="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
f_.prototype.ayO=function(x){var z=this.ra.indexOf(x.currentTarget)-1;if(z==-1){var R=new aA(v.E.P,!0);
R.data={d:v.H.DQ,FC:f_.ax8};this.c(R);return}if(z!=1)if(this.QY==-1)return;this.ar({d:["updLC","addLC","delLC"][z],iY:this.QY});
if(z==2)this.QY=-1};f_.prototype.t=function(){dF.prototype.t.call(this);for(var z=0;z<this.ra.length;
z++)this.ra[z].t()};f_.prototype.Bq=function(x){if(x==null)X.MQ(this.bp,"disabled");else X.ia(this.bp,"disabled");
this.Lh=x;X.Ra(this.QB);if(x==null)return;var R=x.bE.lastAppliedComp?x.bE.lastAppliedComp.v:0,T=x.bE.list.v.slice(0);
T.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var z=0;z<T.length;
z++){var c=T[z].v,g=new eq(c.Nm.v,c.compID.v,c.capturedInfo.v,R,this.QY);g.k("activate",this.Y2,this);
g.parent=this;this.QB.appendChild(g.n);this.d5.push(g)}};f_.prototype.Y2=function(x){this.QY=x.currentTarget.iY;
this.Bq(this.Lh)};function eq(x,z,R,T,c){ky.call(this);this.iY=z;this.n=X._("div","head listitem"+(z==c?" selected":""));
var g=z==T,d=new i_(g?"\u2713":"\u2014");if(g)d.Kl();this.n.appendChild(d.n);d.k("click",this.i5,this);
var U=this.jQ=X._("span");U.textContent=x;this.n.appendChild(U);this.ra=[];if(z!=0){this.n.addEventListener("mouseup",this.Y2.bind(this),!1);
this.a2z=X._("span","headR");this.n.appendChild(this.a2z);var e=["lrs/eye","pos","lrs/fx"],N=["Visibility","Position","Appearance"];
for(var l=0;l<e.length;l++){var J=new i_("<img src=\""+PIMG[e[l]]+"\" class=\"autoscale gsicon\" />",!1,N[l]);
if((R>>l&1)==0)J.n.setAttribute("style","opacity:0.3");J.k("click",this.aak,this);this.a2z.appendChild(J.n);
this.ra.push(J)}}}eq.prototype=new ky;eq.prototype.Y2=function(x){if(x.target!=this.jQ&&x.target!=this.n)return;
if(x.detail==1)this.c(new aA("activate",!1));else{var R=new dF.P$(this.jQ,this.U4.bind(this))}};eq.prototype.aak=function(x){var z=this.ra.indexOf(x.currentTarget);
this.ar({d:"editLC",a64:z,iY:this.iY})};eq.prototype.U4=function(x){this.ar({d:"editLC",aW:x,iY:this.iY})};
eq.prototype.i5=function(x){this.ar({d:"setLC",iY:this.iY})};eq.prototype.ar=function(x){var R=new aA(v.E.v,!0);
R.data=x;R.f=D.X4;this.c(R)};function hp(){dF.call(this,[9,11],!1,"---panels/navigator",dF.sK.avi);var x=this.bp;
X.MQ(x,"padded");x.setAttribute("style","cursor:grab;");this.V=X._("canvas");x.appendChild(this.V);X.pz(x);
X.Bd(this.V);X.Us(this.V,this.l3.bind(this));this.RY=new h4(null,2,6400,"%",null,!0);this.RY.k(v.E.p,this.agZ,this);
x.appendChild(this.RY.n);this.atC=this.nJ.bind(this);this.a80=this.Mt.bind(this);this._c=null;this.jb=null;
this.Ro=!1}hp.prototype=new dF("");hp.prototype.s7=function(x,R){this.KQ=x*1.2;this.kh=R*1.2;this.a5()};
hp.prototype.agZ=function(x){var R=this.RY.h(),T=this._c,c=R/100;if(.8<c&&c<1.2)c=1;else if(1.8<c)c=Math.round(c);
var g=new aA(v.E.v,!0);g.f=D.p3;g.data={d:"zoom",O:c};this.c(g)};hp.prototype.l3=function(x){var R=this._c;
if(R==null)return;this.Ro=!0;X.ri(window,this.atC);X.Xc(window,this.a80)};hp.prototype.nJ=function(x){var R=X.il(x,this.V),T=this._c,c=this.V.width,g=this.V.height,d=(R.x*X.mM()-c/2)/c,U=(R.y*X.mM()-g/2)/g,e=X.mM()*T.Q.O,N=Math.round(-T.Q.O*T.m*d),l=Math.round(-T.Q.O*T.e*U);
D.G7.QV(T,N,l)};hp.prototype.Mt=function(x){X.Nx(window,this.atC);X.YL(window,this.a80);this.Ro=!1};
hp.prototype.Bq=function(x){if(x==null&&this._c!=null)this.V.width=100;this._c=x;this.a5()};hp.prototype.aeG=function(){var x=this._c,R=X.mM(),T=D.m6.du(x.m,x.e,R*(this.KQ-10),R*(this.kh-36)),c=u.AA(x.Yr(),new aP(0,0,x.m,x.e),T);
this.jb=[c.z6,c.rect]};hp.prototype.a5=function(){var x=this._c;if(x==null||x.Q.O==0)return;var R=x.Q;
if(!X._b(this.bp))return;this.RY.T(R.O*100);if(!this.Ro)this.aeG();var T=this.jb[0],c=this.jb[1],g=c.m,d=c.e,U=this.V;
U.width=g;U.height=d;X.kk(U,g,d);var e=this.bp;e.style.width=this.V.style.width+12+"px";var N=U.getContext("2d"),l=N.createImageData(g,d);
u.kS(T,l.data);N.putImageData(l,0,0);N.getImageData(0,0,1,1);var J=R.dz,w=R.nU(J.x,J.y),s=R.nU(J.x+J.m,J.y+J.e),o=g/x.m;
N.scale(o,o);N.lineWidth=4/o;N.strokeStyle="#ff0000";N.strokeRect(w.x,w.y,s.x-w.x,s.y-w.y)};hp.prototype.L4=function(x,R){};
hp.prototype.WC=function(){this.a5()};function aT(x,R){dF.call(this,x.name,!1,x.icon,R);this.a55=x}aT.prototype=new dF("");
aT.prototype.rP=function(){var x=this.bp,R=this.a55;if(!X._b(x)||this.ZR)return;var T=this.ZR=X._("iframe");
T.setAttribute("src",R.url);this.bp.appendChild(T)};aT.prototype.WC=aT.prototype.Bq=function(){this.rP()};
aT.prototype.Ag=function(x){if(X._b(this.ZR))this.ZR.contentWindow.postMessage(x,"*")};aT.prototype.s7=function(x,R){if(this.ZR==null)return;
this.ZR.setAttribute("style","width:"+x+"px; height:"+R+"px")};function dc(){dF.call(this,[9,12],!1,"---panels/tpreset",dF.sK.ON);
this.Dn=null;this.RS=new bk(D.fq);this.RS.parent=this;var x=X._("div","padded");x.setAttribute("style","width:20em");
this.bp.appendChild(x);x.appendChild(this.RS.Sf)}dc.prototype=new dF("");dc.prototype.WC=function(){this.RS.zB(this.Dn.yb)};
dc.prototype.L4=function(x,R){this.Dn=x;if(R==hc.cp||R==hc.ON)this.RS.zB(x.yb)};dc.prototype.s7=function(x,R){this.RS.a82(this.Dn.lf)};
dc.prototype.t=function(){dF.prototype.t.call(this);this.RS.t()};var gh=function(){var x=[],R=null,T=null,c=null,g=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function d(){dF.call(this,"Memory",!1,null,dF.sK.aaL);var s=X._("div","padded");this.bp.appendChild(s);
T=new i_(["<< VAR0",[0,13,2]],!1,null,!0);T.addEventListener("click",function(o){x.pop();e()});s.appendChild(T.n);
R=X._("div","scrollable");R.setAttribute("style","width:20em;  height:26em; margin-top:8px;");s.appendChild(R)}d.prototype=new dF("");
d.prototype.Bq=function(s,o,V){c=o;this.WC()};d.prototype.WC=function(){T.Dd(!1);if(!X._b(R))return;
var s={QP:"Total:",sX:[]};for(var z=0;z<c.length;z++)s.sX.push(l(c[z]));w(s);x=[s];e()};d.prototype.t=function(){dF.prototype.t.call(this);
T.t()};function U(s){var o=s.currentTarget,z=0;while((o=o.previousSibling)!=null)z++;x.push(x[x.length-1].sX[z-1]);
e()}function e(){T.Dd(x.length>1);var s=x[x.length-1];X.Ra(R);N(s,R,0);s.sX.sort(function(o,V){return V.Pl[0]-o.Pl[0]});
for(var z=0;z<s.sX.length;z++)N(s.sX[z],R,1)}function N(s,o,V){var a=dO.uE,O=V!=0&&s.sX,S="margin-left:"+V*10+"px; margin-bottom:8px; padding:3px 5px;";
if(O)S+="cursor:pointer;";if(s.bh!=null)S+="background-color:rgba("+g[s.bh].join(",")+",0.2);";var L=X._("div");
o.appendChild(L);L.setAttribute("style",S);L.innerHTML=X.Xl(s.QP)+"<br />"+"RAM: <b>"+a(s.Pl[0])+"</b>\u2001GPU: <b>"+a(s.Pl[1])+"</b>";
if(O)L.addEventListener("click",U,!1)}function l(s){var o={QP:s.name,sX:[],bh:0},V=fq.tc?1:0,a=1-V,O={QP:"History",sX:[],bh:5};
o.sX.push(O);for(var z=1;z<s.history.length;z++){var S=s.history[z];O.sX.push({QP:go.get(S.name),bh:5,Pl:[S.Wo(),0]})}w(O);
var O={QP:"Final Image",Pl:[s.m*s.e*4,V*s.m*s.e*4],bh:2};o.sX.push(O);for(var z=0;z<s.R.length;z++){var L=J(s.R[z]);
if(L.sX.length!=0)o.sX.push(L)}var Q=s.add.lnk2;if(Q)for(var z=0;z<Q.length;z++){var L=Q[z],b={QP:L.H7,sX:[],bh:4},Z=0;
b.sX.push({QP:"Raw file",Pl:[L.raw.length,0]});if(L.Zn)for(var I=0;I<L.Zn.length;I+=2)Z+=L.Zn[I].length;
if(Z!=0)b.sX.push({QP:"Decoded pixels",Pl:[Z,0]});w(b);o.sX.push(b)}w(o);return o}function J(s){var o={QP:s.getName(),sX:[],bh:1},V=fq.tc?1:0,a=1-V,O=s.rect.Z();
if(O!=0)o.sX.push({QP:"Layer pixels",Pl:[O*4,V*O*4]});if(s.add.lmfx&&s.um.YC.type){var S=s.um.YC.type,Z=0;
for(var L in S){var Q=0;for(var b=0;b<S[L].length;b++)if(L=="ebbl"){if(S[L][b]._N)Q+=S[L][b]._N.$F.Z();
if(S[L][b].JI)Q+=S[L][b].JI.$F.Z();if(S[L][b].oa)Q+=S[L][b].oa.$F.Z();if(S[L][b].Ue)Q+=S[L][b].Ue.$F.Z()}else Q+=S[L][b].$F.Z();
if(Q!=0)o.sX.push({QP:go.get(fJ.names[fJ.order.indexOf(L)]),Pl:[a*Q*4,V*Q*4],bh:3})}if(s.um.w1)Z+=O;
if(s.um.lj)Z+=O;if(s.um.Ry)Z+=O;if(s.um.Ry)Z+=O;if(s.um.z$)Z+=O;if(s.um.Ha)Z+=O;var I=s.um.lv?s.um.lv.length:0;
if(Z+I!=0)o.sX.push({QP:"Additional Blending Data",Pl:[a*Z*4+I,V*Z*4]})}var y=s.le(),r=y?y.rect.Z():0;
if(r!=0){o.sX.push({QP:"Raster Mask",Pl:[r,0]})}var y=s.add.vmsk,r=y&&y.MJ?y.MJ.rect.Z():0;if(r!=0){o.sX.push({QP:"Vector Mask",Pl:[r,0]})}w(o);
return o}function w(s){s.Pl=[0,0];for(var z=0;z<s.sX.length;z++){s.Pl[0]+=s.sX[z].Pl[0];s.Pl[1]+=s.sX[z].Pl[1]}}return d}();
function bX(){dF.call(this,[9,14],!1,"---panels/notes",dF.sK.afh);this.bp.setAttribute("style","min-width:240px;");
var x=X._("div","padded");this.bp.appendChild(x);this.cv=new kD("Author");x.appendChild(this.cv.n);this.BS=X._("textarea");
X.Sc(this.BS);x.appendChild(this.BS);var R=new i_("<<",null,null,!0);x.appendChild(R.n);this.a7a=R;var T=new i_(">>",null,null,!0);
x.appendChild(T.n);R.k("click",this.qU,this);T.k("click",this.qU,this);var c=this.azP=new kk("");x.appendChild(c.n)}bX.prototype=new dF("");
bX.prototype.qU=function(x){var R=x.target==this.a7a?-1:1,T=this._c,c=T.add.Anno;if(c==null)return;var g=c.length,d=T.Q.S7;
T.Q.S7=(d+R+g)%g;T.Sg=!0;this.a5()};bX.prototype.a5=function(){var x=this._c;if(x==null)return;var R=x.add.Anno;
if(R==null||R.length==0)return;var T=x.Q.S7,c=R[T];this.BS.value=c[4];this.azP.T(T+1+" / "+R.length);
this.cv.T(c[3])};bX.prototype.s7=function(x,R){if(this.KQ==x)return;this.KQ=x;R=Math.min(R,200);this.BS.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(x-10)+"px; height:"+(R-66)+"px")};
bX.prototype.Bq=function(x,R,T){this._c=x;this.a5()};function a8(){ky.call(this);this.f=0;this.az=null;
this.n=X._("div","toolconf");this.RS=null;this.GG=null;this.body=new X._("div","body")}a8.prototype=new ky;
a8.prototype.acA=function(x,R){this.f=x;this.az=R;if(D.Fi[x]){var T=this.RS=new bk(x);this.n.appendChild(T.n);
T.parent=this}else{this.GG=X._("div");this.n.appendChild(this.GG)}this.n.appendChild(this.body);this.t()};
a8.prototype.a9F=function(x,R){};a8.prototype.a2u=function(x){};a8.prototype.L4=function(x,R){if(R==hc.cp||R==hc.ON)if(this.RS)this.RS.zB(x.yb)};
a8.prototype.US=function(x){};a8.prototype.t=function(){if(this.RS)this.RS.t();else this.GG.innerHTML=X.t6(this.az,null,"toolicon");
this.Qk()};a8.prototype.Qk=function(){};function be(){a8.call(this);this.$B=new fY;this.$B.k(v.E.p,this.Zt,this);
this.body.appendChild(this.$B.n)}be.prototype=new a8;be.prototype.Qk=function(){this.$B.t()};be.prototype.Zt=function(x){var R=new aA(v.E.P,!0);
R.data={d:v.H.SQ,f:this.f,vr:this.$B.ajS()};this.c(R)};be.prototype.US=function(x){this.$B.aCG(x.in)};
function je(x){a8.call(this);if(x==null)return;this.Dn=null;this.lG={};if(x.indexOf("brush")!=-1&&x.indexOf("prsr")==-1)x.push("prsr");
for(var z=0;z<x.length;z++){var R=x[z],T=null;if(R=="brush"){T=new dH}if(R=="bmode"){T=new ad([12,19,0],c_.PZ,c_.zh)}if(R=="bmode0"){T=new ad([12,19,0],c_.PZ.slice(23))}if(R=="emode"){T=new ad([12,36],[[9,3],[10,38]])}if(R=="opacity"){T=new i1([12,0],0,100,"%");
T.T(100)}if(R=="flow"){T=new i1([12,63],0,100,"%");T.T(100)}if(R=="smth"){T=new i1([19,3,0],0,100,"%");
T.T(0)}if(R=="samp"){T=new ad([12,36],[[12,25,4],[12,25,5],[12,46]])}if(R=="wconf"){T=new hw;T.T([40,!0,!0])}if(R=="sall"){T=new kv([12,25,2])}if(R=="strn"){T=new i1([12,64],1,100,"%");
T.T(50)}if(R=="smode"){T=new ad([12,36],[[19,7,0],[19,7,1]]);T.T(1)}if(R=="pdetail"){T=new kv([12,65]);
T.Kl()}if(R=="rng"){T=new ad([12,12],[[19,6,0],[19,6,1],[19,6,2]]);T.T(1)}if(R=="expo"){T=new i1([12,5],0,100,"%");
T.T(50)}if(R=="algnd"){T=new kv([12,75]);T.T(!1)}if(R=="sfrom"){T=new ad([12,70],[[17,1],[17,3],[17,0]])}if(R=="alt"){T=new ii(null,["Alt"],!0,["Select Source"])}if(R=="qsmode"){T=new cZ([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(R=="redge"){T=new i_([7,11],!1,null,!0)}if(R=="sesu"){T=new i_("Select Subject",!1,null,!0)}if(R=="setop"){T=new gv}if(R=="patch"){T=new cZ(null,[[12,70],[12,71]])}if(R=="prsr"){T=this.lG.brush.dV}this.body.appendChild(T.n);
if(R=="prsr")continue;T.parent=this;this.lG[R]=T;if(R=="brush")T.k(v.E.p,this.a3Q,this);else if(R=="redge"||R=="sesu")T.k("click",c6.a6R,this);
else T.k(v.E.p,this.j8,this)}}je.prototype=new a8;je.prototype.a9F=function(x,R){x=x[1];var T=this.lG;
if(x.Md)T.bmode.T(c_.Dm.indexOf(x.Md.v.BlnM));if(x.Opct)T.opacity.T(x.Opct.v);if(x.flow)T.flow.T(x.flow.v);
if(x.Brsh)T.brush.T(x,R.UK.DE,R.UK.YF);if(x.FrgC){var c=u.I.ir(x.FrgC.v),g=new aA(v.E.P,!0);g.data={d:v.H.pV,vr:hc.Js,J2:0,b:c.o<<16|c.A<<8|c.J};
this.c(g)}this.a3Q();this.j8()};je.prototype.a2u=function(){if(D.Fi[this.f]==null)return null;var x=this.lG,R;
for(var T in D.wR)if(D.wR[T]==this.f)R=T;var c=JSON.parse(JSON.stringify(x.brush.h()));c.classID=R;if(x.bmode)c.Md={t:"enum",v:{BlnM:c_.Dm[x.bmode.h()]}};
if(x.opacity)c.Opct={t:"long",v:x.opacity.h()};if(x.flow)c.flow={t:"long",v:x.flow.h()};var g=this.Dn.gR;
g={o:g>>>16,A:g>>>8&255,J:g&255};c.FrgC={t:"Objc",v:u.I.SE(g)};return["Brush Preset "+c.Brsh.v.Dmtr.v.val,c]};
je.prototype.Qk=function(){for(var x in this.lG)this.lG[x].t()};je.prototype.US=function(x){if(x.arl=="showBrushOpts"){this.lG.brush.aga(x.wx.x,x.wx.y)}for(var R in x.pj){var T=x.pj[R];
if(R!="qsmode")T*=100;if(this.lG[R])this.lG[R].T(T)}};je.prototype.L4=function(x,R){a8.prototype.L4.call(this,x,R);
this.Dn=x;var T=this.lG.brush;if(T==null)return;if(R==hc.cp||R==hc.fq)T.zB(x.UK);if(R==hc.nI){T.T(x.UK.qa,x.UK.DE,x.UK.YF)}};
je.prototype.a3Q=function(){var x=new aA(v.E.P,!0);x.data={d:v.H.pV,vr:hc.nI,n0:this.lG.brush.h()};this.c(x)};
je.prototype.j8=function(){var x=new aA(v.E.P,!0);x.data={d:v.H.SQ,f:this.f};for(var R in this.lG){if(R=="brush"||R=="redge")continue;
var T=this.lG[R].h();if(["opacity","flow","smth","strn","expo"].indexOf(R)!=-1)x.data[R]=T/100;else if(R=="bmode")x.data.bmode=c_.h$[T];
else if(R=="bmode0")x.data.bmode=c_.h$[23+T];else x.data[R]=T}this.c(x)};function c6(x,R){a8.call(this);
if(x)return;this.lG={};for(var z=0;z<R.length;z++){var T=R[z],c=null;if(T=="binop")c=new gv;if(T=="feat"){c=new i1([7,6],0,100,"px");
c.T(0)}if(T=="redge")c=new i_([7,11],!1,null,!0);if(T=="sesu")c=new i_("Select Subject",!1,null,!0);
if(T=="wconf")c=new hw;if(T=="cstr")c=new jt;if(T=="anta"){c=new kv([12,25,1]);c.T(!0)}if(T=="sall")c=new kv([12,25,2]);
if(T=="redge"||T=="sesu")c.k("click",c6.a6R,this);else c.k(v.E.p,this.j8,this);c.parent=this;this.body.appendChild(c.n);
this.lG[T]=c}}c6.prototype=new a8;c6.prototype.US=function(x){if(x.mT!=null)this.lG.binop.T(x.mT);else if(x.Ss){for(var R in x.Ss)if(this.lG[R])this.lG[R].T(x.Ss[R])}else{var T=c6.zD;
if(T==null){var c=ht.aqI(!0);T=c6.zD=new d$(c.items,c.RC)}T.t();T.parent=this;T.update(x.Hv,x.im);var g=new aA(v.E.P,!0);
g.data={d:v.H.fu,YR:T,x:x.kW.yq+2,y:x.kW.xa+1};this.c(g)}};c6.prototype.Qk=function(){for(var x in this.lG)this.lG[x].t()};
c6.a6R=function(x){var R=x.target==this.lG.sesu,T=new aA(R?v.E.v:v.E.P,!0);if(R){T.f=D.a$;T.data={d:"bgrm",b:2}}else T.data={d:v.H.i$,$k:"redge"};
this.c(T)};c6.prototype.j8=function(){var x=new aA(v.E.P,!0);x.data={d:v.H.SQ,f:this.f,Ss:{}};for(var R in this.lG)x.data.Ss[R]=this.lG[R].h();
this.c(x)};function ey(){je.call(this,["brush","strn"])}ey.prototype=new je;function ch(){je.call(this,"brush bmode opacity flow smth prsr".split(" "))}ch.prototype=new je;
function aE(){je.call(this,["brush","bmode0","samp","wconf"])}aE.prototype=new je;function f6(){je.call(this,["brush"])}f6.prototype=new je;
function ca(){je.call(this,["brush","bmode","opacity","smth","prsr"])}ca.prototype=new je;function iS(){je.call(this,["brush","rng","expo"])}iS.prototype=new je;
function jH(){je.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}jH.prototype=new je;function cp(x){a8.call(this);
if(x==null)return;this.Wq=[];this.La=new jt;this.La.k(v.E.p,this.cV,this);if(!x)this.body.appendChild(this.La.n);
this._l=new i_([15,7,6],!1,null,!0);this._l.k("click",this.aqA,this);if(!x)this.body.appendChild(this._l.n);
this.d7=new kv([15,7,10]);this.d7.k(v.E.p,this.cV,this);if(!x)this.body.appendChild(this.d7.n);this.u_=new kv("Content-Aware");
this.u_.k(v.E.p,this.cV,this);if(!x)this.body.appendChild(this.u_.n);this.qS=new hI;this.qS.k("click",this.LU,this)}cp.prototype=new a8;
cp.prototype.Qk=function(){this.qS.t();for(var z=0;z<this.Wq.length;z++)this.Wq[z].t();this.La.t();this.d7.t();
this._l.t()};cp.prototype.US=function(x){if(x.Wl){this.La.ajG(x.Wl[0],x.Wl[1]);return}var R=this.qS.n;
if(x.N3)this.body.appendChild(R);else if(this.body.contains(R))this.body.removeChild(R);if(x.La)this.La.T(x.La)};
cp.prototype.LU=function(x){var R={d:v.H.SQ,f:this.f,Mr:this.qS.h()?"commit":"cancel"},T=new aA(v.E.P,!0);
T.data=R;this.c(T)};cp.prototype.aqA=function(x){x.target.n.blur();var R={d:v.H.SQ,f:this.f,Mr:"cropby",ayv:this.Wq.indexOf(x.target)};
if(x.target==this._l)R.Mr="straighten";var T=new aA(v.E.P,!0);T.data=R;this.c(T)};cp.prototype.cV=function(x){var R={d:v.H.SQ,f:this.f,Mr:"config",Cn:{Sh:this.La.h(),oU:this.d7.h(),x_:this.u_.h()},ait:x.target==this.La},T=new aA(v.E.P,!0);
T.data=R;this.c(T)};function dX(){cp.call(this,!1)}dX.prototype=new cp;function ds(){cp.call(this,!0)}ds.prototype=new cp;
function jG(){je.call(this,["brush","rng","expo"])}jG.prototype=new je;function hm(){je.call(this,"brush emode opacity flow smth prsr".split(" "))}hm.prototype=new je;
function iG(){je.call(this,["brush","samp","wconf"])}iG.prototype=new je;function ez(){c6.call(this,!1,["binop","feat","anta","redge","cstr"])}ez.prototype=new c6(!0);
function ia(){a8.call(this);var x=this.lG=[new ad([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new ad([12,70],[[17,1],[17,3],[17,0]]),new kv([12,20,1]),new kv([8,0])];
x[1].T(2);x[2].T(!0);for(var z=0;z<x.length;z++){var R=x[z];R.k(v.E.p,this.j8,this);this.body.appendChild(R.n)}}ia.prototype=new a8;
ia.prototype.j8=function(x){var R=this.lG,T=[];for(var z=0;z<R.length;z++)T[z]=R[z].h();var c=new aA(v.E.P,!0);
c.data={d:v.H.SQ,f:this.f,Ss:T};this.c(c)};ia.prototype.Qk=function(){for(var z=0;z<this.lG.length;z++)this.lG[z].t()};
function kw(){a8.call(this);this.o7=new d5(!1);this.o7.parent=this;this.o7.k(v.E.p,this.DV,this);this.body.appendChild(this.o7.n);
this.o7.T(JSON.parse(fJ.hN.aC5).v);this.kj=new ad(null,fJ.I.names.slice(0,5));this.kj.k(v.E.p,this.DV,this);
this.body.appendChild(this.kj.n);this.nM=new ad([12,19,0],c_.PZ,c_.zh);this.nM.k(v.E.p,this.DV,this);
this.body.appendChild(this.nM.n);this.zH=new i1([12,0],0,100,"%");this.zH.parent=this;this.zH.k(v.E.p,this.DV,this);
this.body.appendChild(this.zH.n);this.zH.T(100);this.CX=new kv([12,23,0]);this.CX.k(v.E.p,this.DV,this);
this.body.appendChild(this.CX.n);this.ut=new kv([12,23,3]);this.ut.k(v.E.p,this.DV,this);this.body.appendChild(this.ut.n)}kw.prototype=new a8;
kw.prototype.Qk=function(){this.kj.t();this.nM.t();this.zH.t();this.CX.t();this.ut.t()};kw.prototype.L4=function(x,R){a8.prototype.L4.call(this,x,R);
var T=R==hc.Js;this.o7.dv(x.gR,x.tn);if(T||R==hc.p2||R==hc.cp)this.o7.zB(x.sx)};kw.prototype.DV=function(){var x=new aA(v.E.P,!0);
x.data={d:v.H.SQ,f:this.f};x.data.vr={I:this.o7.h(),U1:fJ.I.types[this.kj.h()],U6:this.CX.KT(),Hg:this.ut.KT(),a1v:c_.h$[this.nM.h()],_v:this.zH.h()/100};
this.c(x)};function ex(){a8.call(this);this.Oq=new kv([8,7,1]);this.body.appendChild(this.Oq.n);this.Oq.k(v.E.p,this.j8,this)}ex.prototype=new a8;
ex.prototype.j8=function(){var x={d:v.H.SQ,f:this.f,Ns:this.Oq.h()},R=new aA(v.E.P,!0);R.data=x;this.c(R)};
function jV(){a8.call(this);var x=X._("span","fitem");this.body.appendChild(x);this.Tz=[new i1([12,15],-180,180,"\xB0"),new i_([1,12,2],null,null,!0)];
for(var z=0;z<this.Tz.length;z++){var R=this.Tz[z];R.parent=this;x.appendChild(R.n);R.k(z==1?"click":v.E.p,this.gv,this)}}jV.prototype=new a8;
jV.prototype.Qk=function(){for(var z=0;z<this.Tz.length;z++)this.Tz[z].t()};jV.prototype.US=function(x){this.Tz[0].T(x.nv*180/Math.PI)};
jV.prototype.gv=function(x){var R=this.Tz.indexOf(x.target),T=new aA(v.E.P,!0);T.data={d:v.H.SQ,f:this.f,nv:R==1?0:x.target.h()*Math.PI/180};
this.c(T)};function iD(){je.call(this,["brush","algnd","sfrom","alt"])}iD.prototype=new je;function dN(){a8.call(this);
this.vn=new iL;this.vn.parent=this;this.body.appendChild(this.vn.a8.n);this.body.appendChild(this.vn.QE.n);
this.body.appendChild(this.vn.Q$.n);this.body.appendChild(this.vn.JY.n);var x=X._("span","fitem");this.body.appendChild(x);
x.appendChild(this.vn.un.n);x.appendChild(this.vn.BY.n);x.appendChild(this.vn.E4.n);this.go=new ad("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.go.k(v.E.p,this.LU,this);this.body.appendChild(this.go.n);this.mS=new i_([11,9],!1,null,!0);this.mS.k("click",this.apq,this);
this.body.appendChild(this.mS.n);this.qS=new hI;this.qS.k("click",this.LU,this)}dN.prototype=new a8;
dN.prototype.Qk=function(){this.qS.t();this.vn.t();this.mS.t()};dN.prototype.apq=function(x){var R={d:v.H.SQ,f:this.f,Mr:"showwarp"},T=new aA(v.E.P,!0);
T.data=R;this.c(T)};dN.prototype.US=function(x){if(x.Mr=="showactive")this.body.appendChild(this.qS.n);
if(x.Mr=="hideactive")this.body.removeChild(this.qS.n);if(x.Mr=="changeAA")this.go.T(x.SN);if(x.Mr=="showpan"){var R=[{name:[0,1],NC:!0}],T=[{K:v.E.v,f:D.kY,C:{d:"editCurr",_J:x._J}}],c=x.kW;
if(x.arC){R=[{name:["VAR0: VAR1",[0,5],[7,0]],NC:!0}];T=[{K:v.E._M,C:D.Fs.Vc(!0)}];var g=ht.aus();R=R.concat(g[0]);
T=T.concat(g[1])}R.push({name:[11,9]});T.push({K:v.E.P,C:{d:v.H.SQ,f:this.f,Mr:"showwarp"}});var d=new d$(R,T);
d.parent=this;d.t();d.update(x.Hv,x.im);var U=new aA(v.E.P,!0);U.data={d:v.H.fu,YR:d,x:c.yq+2,y:c.xa+1};
this.c(U)}};dN.prototype.L4=function(x,R){a8.prototype.L4.call(this,x,R);if(R!=hc.cp&&R!=hc.q3&&R!=hc.OH&&R!=hc.ce)return;
this.vn.T(x.iT,x.dA,x.NU)};dN.prototype.LU=function(x){var R={d:v.H.SQ,f:this.f,Mr:this.qS.h()?"commit":"cancel"};
if(x.target==this.go){R.Mr="changeAA";R.SN=this.go.h()}var T=new aA(v.E.P,!0);T.data=R;this.c(T)};function kl(){c6.call(this,!1,["binop","feat","anta","redge"])}kl.prototype=new c6(!0);
function cO(){a8.call(this);var x=[],T="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.z5=new kv([12,85]);this.z5.T(!0);this.z5.k(v.E.p,this.j8,this);x.push(this.z5.n);this.BF=new ad(null,[[0,4],[0,3]]);
this.BF.k(v.E.p,this.j8,this);this.BF.T(1);x.push(this.BF.n);this.Sd=new kv([20,1]);this.Sd.k(v.E.p,this.j8,this);
x.push(this.Sd.n);this.Iw=new kv([12,83]);this.Iw.k(v.E.p,this.j8,this);x.push(this.Iw.n);this.NG=new ky;
this.NG.n=X._("div","floatcont form");this.NG.n.setAttribute("style","max-width: 200px;");this.NG.parent=this;
var R=this.NG.n;this.ady=new ad("Scale for exported files",["1x","2x","3x","4x"]);R.appendChild(this.ady.n);
this.ry=new i_(T+" PNG",!1,"Save selected layers as PNG",!0);R.appendChild(this.ry.n);this.ry.k("click",this.U9,this);
this.afi=new i_(T+" SVG",!1,"Save selected layers as SVG",!0);R.appendChild(this.afi.n);this.afi.k("click",this.U9,this);
var c=new i_(T,!1,"Save selected layers",!0);x.push(c.n);c.k("click",function(N){if(X._b(this.NG.n))return;
var l=c.n.getBoundingClientRect(),J=new aA(v.E.P,!0);J.data={d:v.H.fu,YR:this.NG,x:l.left,y:l.top+l.height,eF:!0};
this.c(J)},this);var g=X._("span","fitem");x.push(g);var d=X._("span","fitem");x.push(d);this.ra=[];
for(var z=0;z<8;z++){var U=z==3||z==7?[20,4,6]:[20,4,z<3?z:z-1],e=new i_("Hi",!1,U);(z<4?g:d).appendChild(e.n);
e.k("click",this.U9,this);this.ra.push(e)}for(var z=0;z<x.length;z++)this.body.appendChild(x[z]);this.ayN=x}cO.prototype=new a8;
cO.prototype.US=function(x){var R=x.in,T=x.ac0;this.z5.T(R.HU);this.Sd.T(R.o0);this.Iw.T(R.As);if(T){X.Ra(this.body);
for(var z=0;z<T.length;z++)if(T[z]==1&&this.ayN[z])this.body.appendChild(this.ayN[z])}};cO.prototype.U9=function(x){var R=this.ra.indexOf(x.target),T;
if(R==-1){T=new aA(v.E.P,!0);T.data={d:v.H.SQ,f:this.f,J2:x.target==this.ry?"getPNG":"getSVG",SR:this.ady.h()+1}}else{T=new aA(v.E.v,!0);
T.f=D.BA;T.data={d:"algn",b:R}}this.c(T)};cO.prototype.j8=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.SQ,f:this.f,J2:"prms",HU:this.z5.KT(),ar7:this.BF.h(),o0:this.Sd.KT(),As:this.Iw.KT()};
this.c(R)};cO.prototype.Qk=function(){this.z5.t();this.BF.t();this.Sd.t();this.Iw.t();var x="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var z=0;z<8;z++){this.ra[z].W7(X.t6("align/"+x[z],null,"autoscale"))}};function iv(){c6.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}iv.prototype=new c6(!0);
function fo(){je.call(this,["setop","patch"])}fo.prototype=new je;function kq(){je.call(this,["setop"])}kq.prototype=new je;
function fT(x){var R=x==D.a8B?[]:["bmode"];je.call(this,R.concat(["opacity","wconf","sall"]))}fT.prototype=new je;
function fy(){c6.call(this,!1,["binop","feat","anta","redge"])}fy.prototype=new c6(!0);function iy(){c6.call(this,!1,["binop","feat","anta","redge"])}iy.prototype=new c6(!0);
function hf(){c6.call(this,!1,["binop","feat","redge","cstr"])}hf.prototype=new c6(!0);function hr(){a8.call(this);
this.Dn=null;this.e3=null;this.H6=[new kD("X",null,3.2,null,!0),new kD("Y",null,3.2,null,!0),new kD("W",null,3.2,null,!0),new kD("H",null,3.2,null,!0),new kD([12,15],"\xB0",3.7,null,!0),new kD(["VAR0 1",[12,80,0]],null,3.5,null,!0),new kD(["VAR0 2",[12,80,0]],null,3.5,null,!0),new i_([15,7,6],!1,null,!0),new i_([2,2],!1,null,!0)];
for(var z=0;z<this.H6.length;z++){var x=this.H6[z];this.body.appendChild(x.n);if(z>6)x.k("click",this.e$,this)}this.ft=0}hr.prototype=new a8;
hr.prototype.e$=function(x){var R=this.H6.indexOf(x.target)==7,T=new aA(v.E.v,!0);if(R){if(this.ft==0)return;
T.f=D.lU;T.data={d:"rot",hK:[2,5],b:-this.ft}}else{T.f=D.mx;for(var z=0;z<6;z++)this.H6[z].T(null)}this.c(T)};
hr.prototype.US=function(x){function R(e,N,l){var J=Math.sqrt(Math.pow(N.x-e.x,2)+Math.pow(N.y-e.y,2)),w=Math.sqrt(Math.pow(N.x-l.x,2)+Math.pow(N.y-l.y,2)),s=Math.sqrt(Math.pow(l.x-e.x,2)+Math.pow(l.y-e.y,2));
return Math.acos((w*w+J*J-s*s)/(2*w*J))}if(x==null)return;this.e3=x;var T=x.a1R,c=x.Pj,g=c.x-T.x,d=c.y-T.y;
this.ft=-Math.atan2(d,g);if(x.MS)this.ft=R(c,T,x.MS);var U=this.H6;U[0].T(this.ds(x,T.x));U[1].T(this.ds(x,T.y));
U[2].T(this.ds(x,g));U[3].T(this.ds(x,d));U[4].T((this.ft*180/Math.PI).toFixed(2));U[5].T(this.ds(x,cI.rE(T,c)));
if(x.MS){U[6].T(this.ds(x,cI.rE(T,x.MS)))}else U[6].T("")};hr.prototype.ds=function(x,R){var T=u.A8.tN(R,x.De,this.Dn,x.a0B,!1);
return parseFloat(T).toFixed(2)};hr.prototype.L4=function(x,R){this.Dn=x;this.US(this.e3)};hr.prototype.Qk=function(){var x=this.H6;
for(var z=0;z<x.length;z++)x[z].t();X.x5(x[2],x[3])};function ju(){je.call(this,["brush","strn","pdetail"])}ju.prototype=new je;
function dy(){je.call(this,["brush","sfrom"]);this.a5v=[];var x=[[7,12]];for(var z=0;z<x.length;z++){var R=new i_(x[z],!1,null,!0);
this.a5v.push(R);R.parent=this;this.body.appendChild(R.n);R.k("click",this.adv,this)}}dy.prototype=new je;
dy.prototype.adv=function(x){var R=this.a5v.indexOf(x.currentTarget),T=new aA(v.E._M,!0);T.data=D.AN.z9("contentAware");
this.c(T)};function hb(){je.call(this,["brush","strn"])}hb.prototype=new je;function ao(){je.call(this,["brush","flow","smode"])}ao.prototype=new je;
function cF(){a8.call(this);this.F0=!1;var x=X._("span","fitem");this.body.appendChild(x);this.HV=new cZ(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
x.appendChild(this.HV.n);this.HV.k(v.E.p,this.j8,this);this.qI=new i_([20,2]);this.body.appendChild(this.qI.n);
this.qI.k("click",this.a5p,this);this.PJ=new i_([20,3]);this.body.appendChild(this.PJ.n);this.PJ.k("click",this.a5p,this);
this.Oq=new kv([8,7,1]);this.body.appendChild(this.Oq.n);this.Oq.k(v.E.p,this.j8,this)}cF.prototype=new a8;
cF.prototype.Qk=function(){this.qI.t();this.PJ.t()};cF.prototype.j8=function(){var x={d:v.H.SQ,f:this.f,S3:this.HV.h()==0,Ns:this.Oq.h()},R=new aA(v.E.P,!0);
R.data=x;this.c(R)};cF.prototype.US=function(x){if(this.F0!=x.F0)this.HV.T(1-this.HV.h());this.F0=x.F0};
cF.prototype.a5p=function(x){var R=new aA(v.E.v,!0);R.f=D.p3;R.data={d:"adapt",b:x.target==this.qI?"pixel":"fitscr"};
this.c(R)};function kd(x,R){a8.call(this);if(x==null)return;this.rx=x;this.HO={};this.a0j=R;for(var z=0;
z<x.length;z++){var T=x[z],c=null;if(T=="tmode"){c=new ad(null,[[12,76,1],[12,76,0],[12,76,2]]);c.T(0);
if(R)c.axl(2)}if(T=="make"){c=new cZ("Make",[[17,2],[12,76,1]],null,!0)}if(T=="anta"){c=new kv([12,25,1]);
c.T(!0)}if(T=="binop"){c=new ad(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(T=="pshape")c=new ad(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(T=="shape")c=new g6([12,76,1]);if(T=="crad"){c=new i1([12,94,0],0,50,"px");c.T(0)}if(T=="cstr"){c=new jt}if(T=="irad"){c=new i1([12,94,1],0,100,"%");
c.T(40)}if(T=="length"){c=new i1([12,80,0],4,40);c.T(4)}if(T=="sides"){c=new i1([12,78],3,30);c.T(5)}if(T=="width"){c=new i1([12,41],1,100,"px");
c.T(5)}if(T=="tolr"){c=new i1([12,24],0,100);c.T(5)}if(T=="fstyle"){c=new i2([12,26])}if(T=="sstyle"){c=new jA}if(T=="psnap"){c=new kv([8,10])}if(T=="crnr"){c=new i_("\u2312",!1,[12,94,0],!0)}if(T=="aopts"){c=new jk;
c.T([!1,!1,50,60,0])}if(T=="smplp"){c=new i_([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}c.parent=this;
this.body.appendChild(c.n);this.HO[T]=c;c.k(T=="crnr"||T=="smplp"?"click":v.E.p,this.j8,this)}}kd.prototype=new a8;
kd.prototype.US=function(x){if(x.mT!=null)this.HO.binop.T(x.mT);else if(x.J2=="vals")for(var R in x.avp)this.HO[R].T(x.avp[R]);
else{var T=kd.zD;if(T==null)T=kd.zD=new d$([{name:"Remove Anchor Point",r:function(g){var d=g?g.JR():null;
return{r:g&&d[1].length!=0&&d[0][d[1][0]].add.vmsk.fH.length!=0}}},{name:"Remove Path",r:function(g){var d=g?g.JR():null;
return{r:g&&d[1].length!=0&&d[0][d[1][0]].add.vmsk.g.length!=0}},NC:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{K:v.E.v,f:D._R,C:{d:"remove",P9:!0}},{K:v.E.v,f:D.OZ,C:{d:"remove"}},{K:v.E.P,C:{d:v.H.i$,$k:"makesel"}},{K:v.E._M,C:D.h3.Ll(null)},{K:v.E._M,C:D.h3.Ll("PbTl")}]);
T.parent=this;T.update(x.Hv,x.im);var c=new aA(v.E.P,!0);c.data={d:v.H.fu,YR:T,x:x.kW.yq+2,y:x.kW.xa+1};
this.c(c)}};kd.prototype.ajE=function(z){return null};kd.prototype.Qk=function(){for(var x in this.HO){this.HO[x].t()}};
kd.prototype.j8=function(x){var R=new aA(v.E.P,!0),T=this.HO;if(x.target==T.crnr){R=new aA(v.E.v,!0);
R.f=D._R;R.data={d:"crnr"}}else if(x.target==T.smplp){R=new aA(v.E.v,!0);R.f=D.OZ;R.data={d:"smplp"}}else if(x.target==T.make){var z=x.target.h();
console.log(z);if(z==0)R.data={d:v.H.i$,$k:"makesel"};else{R=new aA(v.E.v,!0);R.f=D.HA;R.data={d:"newfill",bh:0}}}else if(x.target==T.fstyle){R.data={d:v.H.pV,vr:hc.GD,b:T.fstyle.h()}}else if(x.target==T.sstyle){R.data={d:v.H.pV,vr:hc.Jt,b:T.sstyle.h()}}else if(x.target==T.tmode){R.data={d:v.H.pV,vr:hc.VU,b:T.tmode.h()}}else{if(T.pshape)this.AS();
R.data={d:v.H.SQ,f:this.f};for(var c in T)R.data[c]=T[c].h()}this.c(R)};kd.prototype.AS=function(){var x=this.HO,R=x.tmode.h(),T=x.pshape?this.ajE(x.pshape.h()):this.rx,c;
if(R==0)c=["anta","make"];if(R==1)c=["anta","fstyle","sstyle"];if(R==2)c=["make","binop","fstyle","sstyle"];
var g=x.binop;if(g){var d=g.h();if(R==0){g.am_(0)}else{g.axl(0);if(d==0){g.T(1);this.j8({target:g})}}}X.Ra(this.body);
for(var z=0;z<T.length;z++){var U=T[z];if(c.indexOf(U)!=-1)continue;this.body.appendChild(x[U].n)}};
kd.prototype.L4=function(x,R){a8.prototype.L4.call(this,x,R);var T=this.HO.fstyle,c=this.HO.sstyle,g=this.HO.tmode;
if(T)T.L4(x,R);if(c)c.L4(x,R);if(R==hc.cp||R==hc.my)if(x.e_.length!=0&&this.HO.shape){this.HO.shape.zB(x.e_)}if(R==hc.cp||R==hc.GD)if(T)T.T(null,x.VH,x.ht);
if(R==hc.cp||R==hc.Jt)if(c)c.T(null,x.Vz,x.pO);if(R==hc.cp||R==hc.VU){var d=x.gT;if(this.a0j&&d==2)d=0;
if(g){g.T(d);this.AS()}}};function jY(){kd.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}jY.prototype=new kd;
function bt(){kd.call(this,"tmode make anta fstyle sstyle binop".split(" "))}bt.prototype=new kd;function ai(){kd.call(this,["fstyle","sstyle","smplp"]);
this.ah7=null;this.a8M=null;this.aaC=null;this.mA=new ad([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.Ro=new i_("\u25BC");this.Ro.Kl();this.lF=new i_("\u25B2");this.lF.Kl();this._k=[this.mA,this.Ro,this.lF];
for(var z=0;z<this._k.length;z++){var x=this._k[z];this.body.appendChild(x.n);x.parent=this;x.k(z==0?v.E.p:"click",this.S0,this)}}ai.prototype=new kd;
ai.prototype.US=function(x){if(x.Mr=="main"){var R=this._k,T=x._V;if(T){this.a8M=T.clone();this.aaC=JSON.stringify(x.oZ);
var c=T.g.slice(0),g=c.length;for(var z=0;z<c.length;z++)c[z]++;c.sort(function(N,l){return N-l});R[0].uL();
R[1].Dd(g!=0);R[2].Dd(g!=0);R[0].W7(g==0?"No Paths":g==1?"Path "+c[0]:"Paths "+c.slice(0,3).join(",")+(g>3?"..":""));
if(g!=0){var d=T.g[0],U=u.j.wn(T.$,d),e=T.$[U];this.mA.T([3,0,1,2][e.AC])}}else for(var z=0;z<R.length;
z++)R[z].tC()}else kd.prototype.US.call(this,x)};ai.prototype.Qk=function(){kd.prototype.Qk.call(this);
this.mA.t()};ai.prototype.S0=function(x){if(x.target==this.mA||x.target==this.Ro||x.target==this.lF){var R={},T=this.a8M,c=T.$,g=T.g,d=u.j.fc(c),U=JSON.parse(this.aaC);
g.sort(function(L,Q){return L-Q});if(x.target==this.mA){var e=this.mA.h();if(e<4)for(var z=0;z<g.length;
z++)c[u.j.wn(c,g[z])].AC=[1,2,3,0][e];else{if(d<=1)return;T.$=u.j.yJ(c);T.g=T.$.length==2?[]:[0];T.fH=[];
U=[u.oZ.uz()]}}else{var N=x.target==this.Ro?-1:1,l=[];for(var z=0;z<d;z++){var J=u.j.wn(c,z),w=J+1+c[J].length;
l.push(c.slice(J,w))}var s=g.slice(0);for(var z=0;z<g.length;z++)s[z]=Math.max(z,Math.min(d-1-(g.length-1-z),s[z]+N));
if(g.join(",")==s.join(","))return;var o=JSON.parse(JSON.stringify(U));for(var z=0;z<g.length;z++){var V=N==-1?z:g.length-1-z,J=g[V],w=s[V];
if(J!=w){var a=l[J];l[J]=l[w];l[w]=a;a=o[J];o[J]=o[w];o[w]=a}}var O=c.slice(0,2);for(var z=0;z<l.length;
z++)O=O.concat(l[z]);T.$=O;T.g=s;U=o}R._V=T;R.oZ=U;var S=new aA(v.E.P,!0);S.data={d:v.H.SQ,f:this.f,v2:R};
this.c(S)}};function dK(){kd.call(this,["fstyle","sstyle","crnr","psnap"])}dK.prototype=new kd;function a0(){kd.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}a0.prototype=new kd;
function gp(){kd.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}gp.prototype=new kd;
function g_(){kd.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.HO.aopts.T([!1,!0,50,60,0])}g_.prototype=new kd;g_.prototype.ajE=function(z){var x=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(x[z])};function gW(){kd.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}gW.prototype=new kd;
function ja(){kd.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}ja.prototype=new kd;
function jg(){c6.call(this,!1,["binop","feat","redge","sesu"])}jg.prototype=new c6(!0);function hA(){je.call(this,["brush","qsmode","redge","sesu"])}hA.prototype=new je;
function aN(){a8.call(this);this.Kw=[];for(var z=0;z<2;z++){var x=new i_(z==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.Kw.push(x);x.k("click",this.S0,this);this.body.appendChild(x.n)}}aN.prototype=new a8;aN.prototype.S0=function(x){var R;
if(this.Kw.indexOf(x.target)==0){R=new aA(v.E._M,!0);R.data={Sm:"make",M1:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{R=new aA(v.E.P,!0);
R.data={d:v.H.i$,$k:"divslice"}}this.c(R)};aN.prototype.Qk=function(x){for(var z=0;z<this.Kw.length;
z++)this.Kw[z].t()};function ek(){a8.call(this);var x=this.bA=[new i_("\u25BC",null,null,!0),new i_("\u25B2",null,null,!0),new i_([5,4],null,null,!0),new i_(["VAR0...",[15,10,22]],null,null,!0)];
for(var z=0;z<4;z++){var R=x[z];this.body.appendChild(R.n);R.k("click",this.S0,this)}}ek.prototype=new a8;
ek.prototype.S0=function(x){var R=this.bA.indexOf(x.target),T;if(R==3){T=new aA(v.E.P,!0);T.data={d:v.H.i$,$k:"divslice"}}else{T=new aA(v.E.v,!0);
T.f=D.T4;T.data={d:R==2?"delete":"reorder",dir:R==0?-1:1}}this.c(T)};ek.prototype.t=function(){a8.prototype.t.call(this);
for(var z=0;z<4;z++)this.bA[z].t()};function kh(x,R){a8.call(this);if(window.Typr==null||x)return;this.amk=R;
this.Gv=null;this.aig=X._("span","");this.adf=X._("span","");var T=1,c=this.Na={tk:new bO(null,24),s5:new i1("X",0,0,"px",0,!1,!0,4),Xa:new i1("Y",0,0,"px",0,!1,!0,4),G8:new i1("W",0,0,["%","px"],2,!1,!0,5),Xr:new i_("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),Uw:new i1("H",0,0,["%","px"],2,!1,!0,5),ald:new i1("\u2221",0,0,"\xB0",T,!1,!0),azu:new i1("\u25B1 H",-85,85,"\xB0",T,!1,!0),as5:new i1("\u25B1 V",-85,85,"\xB0",T,!1,!0),mL:new ad(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),Gq:new ad("Protect",[])};
c.mL.T(1);c.Xr.T(!0);for(var g in c){var d=c[g],U=!0;if(R&&(d==c.ald||d==c.azu||d==c.as5||d==c.mL))U=!1;
if(!R&&d==c.Gq)U=!1;if(U)this.aig.appendChild(d.n);var e=d==c.Xr?"click":v.E.p;d.k(e,this.aa1,this)}this.u4=new cZ("Split",cZ.vk(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.u4.T(-1);this.u4.k(v.E.p,this.akE,this);this.iK=new gK(!0,!0,!0);this.iK.k(v.E.p,this.akE,this);
this.iK.parent=this;var N=this.adf,l=this.iK;N.appendChild(this.u4.n);N.appendChild(l.aC.n);N.appendChild(l.NX.n);
N.appendChild(l.s_.n);N.appendChild(l.Cj.n);N.appendChild(l.Ad.n);this.mS=new i_([11,9]);this.mS.k("click",this.apV,this);
this.qS=new hI;this.qS.k("click",this.LU,this)}kh.prototype=new a8;kh.prototype.US=function(x){if(x.kW){var R=kh,T=this.zD;
if(T==null)T=this.zD=new d$(R.adt(),R.ai9(this.f));T.t();T.parent=this;T.update(x.Hv,x.im);var c=new aA(v.E.P,!0);
c.data={d:v.H.fu,YR:T,x:x.kW.yq+2,y:x.kW.xa+1};this.c(c);return}X.Ra(this.body);this.Gv=x;if(x.Na){var g=x.Na.v4,d=x.Na.Zv.clone(),U=Math.atan2(-d.J,d.Y),e=new gP;
e.rotate(-U);d.concat(e);var N=this.Na;N.tk.T(x.Na.GE);N.s5.T(x.Na.FV.x);N.Xa.T(x.Na.FV.y);N.G8.T(d.Y*(N.G8.Mp()=="%"?100:g.m));
N.Uw.T(d.jR*(N.Uw.Mp()=="%"?100:g.e));N.ald.T(-U*180/Math.PI);N.azu.T(Math.atan(d.zI/d.jR)*180/Math.PI);
N.as5.T(0*180/Math.PI);this.body.appendChild(this.aig);this.mS.KF();if(x.Na.Tj!=null)N.Xr.T(x.Na.Tj)}if(x.vy){if(x.anq)this.u4.T(-1);
this.iK.T(x.vy);this.body.appendChild(this.adf);this.mS.Kl()}if(x.Hp)N.Gq.GN(x.Hp);this.body.appendChild(this.qS.n);
if(x.aBB&&!this.amk)this.body.appendChild(this.mS.n)};kh.prototype.aa1=function(x){var R=this.Na,T=this.Gv.Na.v4;
if(x.target==R.Xr)R.Xr.T(!R.Xr.h());else if(R.Xr.KT()){var c=R.Uw,g=R.G8,d=T.e,U=T.m;if(x.target==R.G8){c=R.G8;
g=R.Uw;d=T.m;U=T.e}var e=c.h()/(c.Mp()=="%"?100:d);e*=g.Mp()=="%"?100:U;g.T(e)}var N=[];for(var l in R)if(R[l]!=R.Xr&&R[l]!=R.tk){var e=R[l].h();
if((R[l]==R.G8||R[l]==R.Uw)&&e==0){e=.1;R[l].T(e)}if(R[l]==R.G8&&R[l].Mp()=="px")e/=T.m/100;if(R[l]==R.Uw&&R[l].Mp()=="px")e/=T.e/100;
N.push(e)}var J=new cI(N[0],N[1]);if(x.target==R.tk){this.cu({Mr:"ctyp",GE:R.tk.h()})}else if(x.target==R.s5||x.target==R.Xa){this.cu({Mr:"cen",FV:J})}else{var w=this.Gv.Na.Zv.clone(),s=w.clone(),o=Math.atan2(-w.J,w.Y);
s.translate(-J.x,-J.y);s.rotate(-o);var V=new gP(s.Y,s.J,s.zI,s.jR,0,0);V.F0();s.concat(V);var a=N[2]/100,O=N[3]/100;
s.concat(new gP(a,a*Math.tan(N[6]*Math.PI/180),O*Math.tan(N[5]*Math.PI/180),O,0,0));s.rotate(-N[4]*Math.PI/180);
s.translate(J.x,J.y);this.Gv.Na.Zv=s;this.cu({Mr:"trn",Na:s,oM:R.mL.h(),uT:R.Gq.h(),Tj:R.Xr.h()})}};
kh.prototype.akE=function(x){var R=this.u4;this.cu(x.target==R?{Mr:"splt",b:R.h()}:{Mr:"wrp",vy:this.iK.h()})};
kh.prototype.apV=function(x){this.cu({Mr:"switchWarp"})};kh.prototype.LU=function(x){this.cu({Mr:this.qS.h()?"commit":"cancel"})};
kh.prototype.cu=function(x){x.d=v.H.SQ;x.f=this.f;var R=new aA(v.E.P,!0);R.data=x;this.c(R)};kh.prototype.Qk=function(){var x=this.Na;
for(var R in x)x[R].t();X.x5(x.G8,x.Uw);this.qS.t();this.u4.t();this.iK.t();this.mS.t()};kh.adt=function(){var x=function(R){var T=!0;
if(R==null||R.g.length==0)T=!1;else{var c=R.g;for(var z=0;z<c.length;z++){if(R.R[c[z]].add.TySh)T=!1}}return{r:T}};
return[{name:[5,9],sZ:"Shift+Alt+Ctrl + T",NC:!0},{name:[12,38]},{name:[2,5]},{name:[24,4],r:x},{name:[2,9],r:x},{name:[11,9],r:function(R){if(R==null||R.g.length!=1)return{r:!1};
var T=R.R[R.g[0]];return{r:T.add.TySh==null&&!T.NW()}},NC:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
kh.ai9=function(x){if(x==null)x=D.lU;return[{K:v.E.v,f:x,C:{d:"again"}},{K:v.E.P,C:{d:v.H.di,f:x,in:{or:3}}},{K:v.E.P,C:{d:v.H.di,f:x,in:{or:4}}},{K:v.E.P,C:{d:v.H.di,f:x,in:{or:2}}},{K:v.E.P,C:{d:v.H.di,f:x,in:{or:1}}},{K:v.E.P,C:{d:v.H.di,f:x,in:{or:-1}}},{K:v.E._M,C:D.gW.vE(!0,90,!0)},{K:v.E._M,C:D.gW.vE(!0,-90,!0)},{K:v.E._M,C:D.gW.vE(!0,-180,!0)},{K:v.E._M,C:D.gW.vE(!1,"Hrzn",!0)},{K:v.E._M,C:D.gW.vE(!1,"Vrtc",!0)}]};
function bA(){kh.call(this)}bA.prototype=new kh(!0);function h7(){kh.call(this)}h7.prototype=new kh(!0);
function cx(){kh.call(this,!1,!0)}cx.prototype=new kh(!0);function hs(){a8.call(this);var x=this.rx=[new ad([12,36],["Rigid",[15,10,0],[24,4]]),new ad([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new i1([7,4],0,100,"px"),new kv("Show Mesh"),new i_("\u25BC",null,null,!0),new i_("\u25B2",null,null,!0)];
for(var z=0;z<x.length;z++){var R=x[z];R.parent=this;this.body.appendChild(R.n);R.k(z<4?v.E.p:"click",this.a9i,this)}this.qS=new hI;
this.qS.k("click",this.LU,this);this.body.appendChild(this.qS.n)}hs.prototype=new a8;hs.prototype.Qk=function(){var x=this.rx;
for(var z=0;z<4;z++)x[z].t();this.qS.t()};hs.prototype.US=function(x){var x=x.vr;for(var z=0;z<4;z++)this.rx[z].T(x[z])};
hs.prototype.a9i=function(x){var R=[];for(var z=0;z<4;z++)R[z]=this.rx[z].h();var T=this.rx.indexOf(x.target);
if(T<4)this.cu({Mr:"prm",vr:R});else this.cu({Mr:"moveDepth",a84:T==5})};hs.prototype.LU=function(x){this.cu({Mr:this.qS.h()?"commit":"cancel"})};
hs.prototype.cu=function(x){x.d=v.H.SQ;x.f=this.f;var R=new aA(v.E.P,!0);R.data=x;this.c(R)};function gT(){a8.call(this);
var x=this.lG=[new ad([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var z=0;z<x.length;z++){var R=x[z];
R.k(v.E.p,this.j8,this);this.body.appendChild(R.n)}}gT.prototype=new a8;gT.prototype.j8=function(x){var R=this.lG,T=[];
for(var z=0;z<R.length;z++)T[z]=R[z].h();var c=new aA(v.E.P,!0);c.data={d:v.H.SQ,f:this.f,Ss:T};this.c(c)};
gT.prototype.Qk=function(){for(var z=0;z<this.lG.length;z++)this.lG[z].t()};function dj(){ky.call(this);
this.n=X._("div","cmanager");window.alert=function(g,d){this.a1U(g,d);console.log("Alert: "+g)}.bind(this);
window.onblur=function(g){var d=this;d.NJ()}.bind(this);this.KQ=0;this.kh=0;this.li=[];this.w8={};this.sv=X._("div","alertcont");
this.n.appendChild(this.sv);this.avC=X._("div","alertcont");this.n.appendChild(this.avC);this.nK=X._("div","alertcont");
this.az0=0;this.eA=-1;this.a5M=null;this.Kw=null;var x=this.ag2=X._("div","alertpanel");x.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.nK.appendChild(x);var R=this.D8=X._("input");R.setAttribute("type","text");X.Sc(R);R.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
R.addEventListener("input",this.a0f.bind(this),!1);R.addEventListener("keydown",this.ahQ.bind(this),!1);
x.appendChild(R);var c=this.aCs=X._("div","contextpanel scrollable");c.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
c.addEventListener("click",this.aCB.bind(this),!1);x.appendChild(c);X.Us(document.body,this.as$.bind(this))}dj.prototype=new ky;
dj.prototype.v9=function(){if(X._b(this.nK))this.n.removeChild(this.nK)};dj.prototype.aue=function(x,R){var T=this.a5M=[],c=R.a6s;
for(var z=0;z<ht.data.length;z++){var g=ht.data[z],d=[go.get(g.name)],U=[z];dj.O9(g.items,d,U,T,x,R,c==null?null:c[z]==null?0:c[z])}var e=R.q;
for(var z=0;z<e.ul.length;z++){var N=e.ul[z],l=e.keys[z];for(var J=0;J<N.length;J++)T.push([["Tools",go.get(N[J].f.name)],[-1,N[J].f.id],l?l.LC:null])}this.n.appendChild(this.nK);
var w=this.D8;w.focus();w.select();this.a5()};dj.prototype.a0f=function(x){this.eA=-1;this.a5()};dj.prototype.a5=function(){var x=this.D8.value.toLowerCase().trim().replace(/  +/g," "),R=this.a5M,T=[],c=[],g=x.split(" ");
if(x!="")for(var z=0;z<R.length;z++){var d=R[z][0],U=[],e=0;for(var N=0;N<d.length;N++)U[N]=-1;for(var l=0;
l<g.length;l++)for(var N=0;N<d.length;N++){var J=d[N].toLowerCase().indexOf(g[l]);if(J!=-1){U[N]=[J,J+g[l].length];
e++;break}}if(e==g.length){T.push(R[z]);c.push(U)}}var w=[],s=this.aCs;X.Ra(s);for(var z=0;z<T.length;
z++){var o=T[z],V=o[0],J=c[z],a="enab",S="";if(z==this.eA)a+=" active";var O=X._("div",a);w.push(O);
s.appendChild(O);for(var N=0;N<V.length;N++){var L=J[N],Q=g[N],b=V[N];if(L!=-1)b=b.slice(0,L[0])+"<span style=\"color:black\">"+b.slice(L[0],L[1])+"</span>"+b.slice(L[1]);
S+=b;if(N<V.length-1)S+=" \uFE65 "}if(o[2]&&(typeof o[2]!="string"||o[2].length==1))S+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+fZ.Z6(o[2])+"</span>";
O.innerHTML=S}this.Kw=[T,w]};dj.prototype.ahQ=function(x){var R=fZ.mf,T=x.code;if(R(T,fZ.jK))this.v9();
var c=R(T,fZ.Vw),g=R(T,fZ.xE),d=R(T,fZ.AQ);if(c||g){this.eA=Math.max(0,Math.min(this.Kw[0].length-1,this.eA+(c?-1:1)));
this.a5()}if(d&&this.eA!=-1)this.akS(this.eA)};dj.O9=function(x,R,T,c,g,d,U){if(typeof U=="number"){if(U==0)return;
if(U==1)U=null}for(var z=0;z<x.length;z++){if(U!=null&&(U[z]==0||U[z]==null))continue;var e=x[z],N=R.slice(0),l=T.slice(0),J=go.get(e.name);
if(e.r){var w=e.r(g,d,z);if(w.qV)J=w.qV;if(w.r==!1)continue}N.push(J);l.push(z);if(e.sub)dj.O9(e.sub,N,l,c,g,d,U?U[z]:null);
else c.push([N,l,e.sZ])}};dj.prototype.aCB=function(x){var R=x.target;if(R.tagName.toLowerCase()=="span")R=R.parentNode;
var T=this.Kw[1].indexOf(R);if(T!=-1)this.akS(T)};dj.prototype.akS=function(x){var R=this.Kw[0][x][1];
if(R[0]==-1){var T=new aA(v.E.P,!0);T.data={d:v.H.di,f:R[1]};this.c(T)}else{var c=ht.data[R[0]].RC[R[1]];
for(var z=2;z<R.length;z++)c=c.sub[R[z]];var g=new aA(c.K,!0);g.f=c.f;g.data=c.C;this.c(g)}this.v9()};
dj.prototype.s7=function(x,R){this.KQ=x;this.kh=R;this.aCs.style["max-height"]=R-120+"px"};dj.prototype.amE=function(x){var R=X._("div","alertpanel");
R.textContent=go.get(x);this.sv.appendChild(R);this.w8[JSON.stringify(x)]=R};dj.prototype.agb=function(x){var R=this.w8[JSON.stringify(x)];
this.sv.removeChild(R);delete this.w8[JSON.stringify(x)]};dj.prototype.a1U=function(x,R){var T=this.avC;
for(var z=0;z<T.children.length;z++)if(T.children[z].textContent==x)return;var c=X._("div","alertpanel tpanel");
c.textContent=x;c.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");T.appendChild(c);if(R==null)R=1500;
var g=R,d=Math.max(Date.now()+g,this.az0+g);setTimeout(function(){c.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){T.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},d-Date.now()-30);
setTimeout(function(){T.removeChild(T.firstChild);T.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},d-Date.now());
this.az0=d};dj.prototype.as$=function(x){var R=this.li;for(var z=R.length-1;z>=0;z--){var T=R[z],c=x.target;
while(c!=null){if(c==T.n){this.NJ(T);return}c=c.parentNode}}this.NJ();var g=x.target;while(g!=this.nK&&g!=document.body)g=g.parentNode;
if(g!=this.nK)this.v9()};dj.prototype.NJ=function(x){var R=this.li;for(var z=0;z<R.length;z++){if(x&&x.avu(R[z]))continue;
var T=R[z].n;if(!(R[z]instanceof d$))X.GX(R[z],this.n);else this.n.removeChild(T);T.style.height="auto";
X.ia(T,"scrollable");R.splice(z,1);z--}};dj.prototype.aAu=function(x){this.NJ(x.YR);var R=x.YR,T=R.n;
if(this.li.indexOf(R)!=-1)return;this.li.push(R);this.n.appendChild(T);var c=this.KQ,g=this.kh,d=x.x,U=x.y,e=this.n.getBoundingClientRect(),N=R instanceof d$,l=-1,J=g-2;
if(N||x.eF){var w=R.o4(),s=R.a4v();if(N)w=Math.min(w,200);var o=c-w-2,V=g-s-2;if(U<V)l=2;else if(d<o)l=1;
else if(0<U-s-2)l=0;else l=3;if(x.ahF)l=0;if(x.avz)l=2;if(l==2){d=Math.min(d,o)}else if(l==1){U=Math.min(U,V)}else if(l==0){U=U-s-2;
d=Math.min(d,o);J=x.y}else if(l==3){d=d-w-2;U=Math.min(U,V)}}U=Math.max(2,U);var top=Math.round(U-e.y+this.n.offsetTop);
T.style.position="absolute";T.style["z-index"]=10;if(U+R.a4v()>J){T.style.height=J-U+"px";X.MQ(T,"scrollable");
if(l==3)d-=10}T.style.left=Math.round(d)+"px";T.style.top=top+"px";if(!(R instanceof d$))X.fk(R)};dj.prototype.a51=function(x){var R=x.YR,T=this.li.indexOf(R);
if(T==-1)return;this.li.splice(T,1);var c=R.n;if(!(R instanceof d$))X.GX(R,this.n);else this.n.removeChild(R.n)};
dj.prototype.nX=function(){var x=this.li;return x.length==0?null:x[x.length-1]};dj.prototype.aav=function(){this.a51({YR:this.nX()})};
function hi(){ky.call(this);this.n=X._("div","confbar")}hi.prototype=new ky;hi.prototype.acW=function(x){x.parent=this;
X.Ra(this.n);this.n.appendChild(x.n)};function hG(x){ky.call(this);hG.V2=this;hG.iq=x;this.Dn=null;this.pE=X._("input","");
this.pE.setAttribute("type","file");this.pE.setAttribute("multiple","");this.pE.addEventListener("change",function(R){this._D(R.target.files,null,this.X8,null);
this.X8=null}.bind(this),!1);document.body.appendChild(this.pE);this.pE.setAttribute("style","display:none");
this.aBc=[];this.xb=!1;this.atU=[];this.Aw=!1;this.a9L={};this.X8=null}hG.prototype=new ky;hG.iq=null;
hG.wZ=function(x){try{var R={};R[x.type]=x;navigator.clipboard.write([new ClipboardItem(R)])}catch(i3){console.error(i3,i3.message)}};
hG.J$=function(x,R){navigator.clipboard.read().then(function(T){for(var z=0;z<T.length;z++){try{var c=T[z],g={},d=0,U=0;
for(var e=0;e<c.types.length;e++){var N=c.types[e];d++;c.getType(N).then(function(l){var J=N;new Response(l).arrayBuffer().then(function(w){g[this.bh]=w;
U++;if(U==d)hG.any(g,x,R)}.bind({bh:this.bh}))}.bind({bh:N}))}}catch(i3){console.error(i3,i3.message)}}}).catch(function(T){})};
hG.a4r=function(x){navigator.permissions.query({name:"clipboard-read"}).then(function(R){x(R.state)})};
hG.any=function(x,R,T){var c=["text/plain","image/png","text/html","text/plain"];for(var g in x)console.log(g,g.startsWith("text")?n.KW(new Uint8Array(x[g])).slice(0,100)+"...":x[g]);
for(var d=0;d<c.length;d++){var U=c[d],e=x[U];if(e==null)continue;if(U=="image/png"){hG.iq({name:"image.png"},e,R,T);
return}if(U=="text/plain"){var N=n.KW(new Uint8Array(e));if(d==0)if(!N.startsWith("<!--")&&!N.startsWith("<svg"))continue;
if(T&&N.startsWith("<svg"))continue;var l=new aA(v.E.P,!0);l.data={d:v.H.aCS,b:N};R.c(l);return}if(U=="text/html"){var N=n.KW(new Uint8Array(e)),J=N.indexOf("src=\"");
if(J!=-1&&N.slice(J+5,J+9)!="http"){var w=J+10;while(N[w]!="\"")w++;var o=N.slice(J+5,w);hG.iq({name:"chart.png"},dp.bR(o).buffer,R,T);
return}}}};hG.prototype.Fm=function(x){if(x==null)x=[23,5];var R=JSON.stringify(x),T=this.a9L;if(T[R]==null)T[R]=0;
if(T[R]==0){var c=new aA(v.E.P,!0);c.data={d:v.H.b$,zd:x};this.c(c)}T[R]++};hG.prototype.Ls=function(x){if(x==null)x=[23,5];
var R=JSON.stringify(x),T=this.a9L;if(T[R]==null)T[R]=0;T[R]--;if(T[R]==0){var c=new aA(v.E.P,!0);c.data={d:v.H.v5,zd:x};
this.c(c)}};hG.prototype.arm=function(x,R){this.X8=x;var T=window.showOpenFilePicker;if(T&&window.self==window.top){var c=this;
T({multiple:!0}).then(function(U){var e=[];function N(l){e.push(l);if(e.length==U.length){c._D(e,null,c.X8,null,U);
c.X8=null}else U[e.length].getFile().then(N)}U[e.length].getFile().then(N)});return}var g=this.pE;if(R)g.setAttribute("accept",R);
else g.removeAttribute("accept");var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
g.dispatchEvent(d)};hG.prototype.Hf=function(x){if(x.url.indexOf("photopea.com#i")!=-1||x.url.indexOf("photopea.com/#i")!=-1){this.Qd(x.url.split("#i").pop());
return}this.aBc.push(x);this.a1F()};hG.prototype.a1F=function(){var x=this.aBc;if(x.length==0||this.xb)return;
this.xb=!0;var R=x.shift();this.Fm();if(R.Ly==null)R.Ly={};var T=new XMLHttpRequest;T.ue=R;var c=R.url;
if(R.Ru&&!c.startsWith("data:image"))c="mirror.php?url="+encodeURIComponent(c);T.open("GET",c);if(R.YE)for(var g in R.YE)T.setRequestHeader(g,R.YE[g]);
T.responseType="arraybuffer";T.onload=this.ak8.bind(this);T.send()};hG.prototype._D=function(x,R,T,c,g){for(var z=0;
z<x.length;z++){this.Fm();var d=x[z],U=new FileReader;U.ue=d;U.ue._i=T;U.ue.eo=c;U.auz=R;if(g)U.ue.ck=g[z];
U.onload=this.ak8.bind(this);U.onerror=function(e){this.Ls()}.bind(this);this.atU.push([U,d])}this.pE.value=null;
this.aoY()};hG.prototype.aoY=function(){var x=this.atU;if(x.length==0||this.Aw)return;this.Aw=!0;var R=x.shift();
R[0].readAsArrayBuffer(R[1])};hG.prototype.aha=function(x,R,T){this.Fm("Saving ...");this.Dn=R;setTimeout(T.bind({tE:x,caller:this}),50)};
hG.w9=function(x){var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=new Uint8Array(x),c=T.length,g=c%3,d=c-g,U=[],e=0,N=0,l=0;
for(var z=0;z<d;z+=3){e=T[z];N=T[z+1];l=T[z+2];U.push(R[e>>2]+R[(e&3)<<4|N>>4]+R[(N&15)<<2|l>>6]+R[l&63])}if(g==1){e=T[d];
U.push(R[e>>2]+R[(e&3)<<4]+"==")}if(g==2){e=T[d];N=T[d+1];U.push(R[e>>2]+R[(e&3)<<4|N>>4]+R[(N&15)<<2]+"=")}var J=U.join("");
return J};hG.aAj=function(x,R){var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=new Uint8Array(64),e=0,N=0,l=0,w=0;
for(var z=0;z<64;z++)c[z]=T.charCodeAt(z);var g=new Uint8Array(x),d=R%3,U=R-d,J=new Uint8Array(Math.floor(R/3)*4+(d==0?0:4));
for(var z=0;z<U;z+=3){e=g[z];N=g[z+1];l=g[z+2];J[w]=c[e>>>2];J[w+1]=c[(e&3)<<4|N>>>4];J[w+2]=c[(N&15)<<2|l>>>6];
J[w+3]=c[l&63];w+=4}if(d==1){e=g[U];J[w]=c[e>>2];J[w+1]=c[(e&3)<<4];J[w+2]=61;J[w+3]=61}if(d==2){e=g[U];
N=g[U+1];J[w]=c[e>>2];J[w+1]=c[(e&3)<<4|N>>4];J[w+2]=c[(N&15)<<2];J[w+3]=61}return J};hG.prototype.ak8=function(x){var R,T=x.target.ue;
if(x.target instanceof XMLHttpRequest)R=x.target.response;else R=x.target.result;hG.iq(T,R,this,x.target.auz);
this.Ls();if(x.target instanceof XMLHttpRequest){this.xb=!1;this.a1F()}else{this.Aw=!1;this.aoY()}};
hG.amg=function(x,R){var T=new XMLHttpRequest;T.open("POST","https://api.imgur.com/3/image",!0);T.qG=R;
T.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");T.setRequestHeader("Content-type","application/x-www-form-urlencoded");
T.setRequestHeader("Accept","application/json");T.addEventListener("load",hG.akp);T.send("type=base64&image="+encodeURIComponent(hG.w9(x)));
alert("Saving to Imgur ...",4e3)};hG.akp=function(x){var R=JSON.parse(x.target.response);if(R.success){if(x.target.qG)x.target.qG(R.data.link);
else window.open(R.data.link,"Imgur")}};hG.prototype.Qd=function(x,R,T){this.Fm();var c=new XMLHttpRequest;
c.responseType="arraybuffer";c.open("GET","https://f000.backblazeb2.com/file/"+(T?"pp-resources":"psdshared")+"/"+x);
c.onload=this.a8U.bind(this);c.send();c.e3=[Date.now(),x,R?x:null,T]};hG.prototype.a8U=function(x){var R=x.target.e3,T=new Uint8Array(x.target.response);
console.log(T.length+" B,",Date.now()-R[0]+" ms");for(var z=0;z<T.length;z++)T[z]=255-T[z];T=pako.inflateRaw(T);
var c=JSON.parse(n.KW(T,0,2e3));hG.iq({name:c.name,Z0:R[2]},T.slice(2e3).buffer,this);this.Ls();if(!R[3])hG.Or("act=0&id="+R[1])};
hG.prototype.at_=function(x,R,T,c){if(!(x instanceof ArrayBuffer))throw"e";x=new Uint8Array(x);var g=new Uint8Array(x.length+2e3),s="";
for(var z=0;z<2e3;z++)g[z]=32;n.$D(JSON.stringify({name:R}),g,0);g.set(x,2e3);x=g;x=pako.deflateRaw(x);
for(var z=0;z<x.length;z++)x[z]=255-x[z];x=x.buffer;var d=x.byteLength,U=dO.uE(d),e=~~(609e5/2),N=~~(209e5/2);
if(d>e){confirm("Your file is "+U+". Our limit is "+dO.uE(e)+". Delete some layers and try again.");
return}if(d>N){var l=confirm("Your file is quite large ("+U+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!l)return}var J=sha1(x),w=[];for(var z=0;z<20;z++){var o=parseInt(J.slice(z*2,z*2+2),16);w.push(o);
s+=String.fromCharCode(o)}var V=btoa(s).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(hG.ada(V,c)){console.log("file already exists");
if(T)T(V);else window.open("https://www.photopea.com#i"+V+".psd");return}this.Fm("Publishing ...");var a=new XMLHttpRequest;
a.e3=[x,J,V,T,c];a.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+V+"&size="+d+"&bname="+c);
a.onload=this.a2v.bind(this);a.send()};hG.ada=function(x,R){try{var T=new XMLHttpRequest;T.open("HEAD","https://f000.backblazeb2.com/file/"+R+"/"+x,!1);
T.send();if(T.status==200)return!0}catch(i3){return!1}return!1};hG.prototype.a2v=function(x){console.log(x.target.response);
var R=JSON.parse(x.target.response),T=x.target.e3,c=new XMLHttpRequest;c.open("POST",R.uploadUrl);c.setRequestHeader("Authorization",R.authorizationToken);
c.setRequestHeader("X-Bz-File-Name",T[2]);c.setRequestHeader("Content-Type","b2/x-auto");c.setRequestHeader("X-Bz-Content-Sha1",T[1]);
c.send(new Blob([T[0]]));c.onload=this.au4.bind({RA:this,e3:T})};hG.prototype.au4=function(x){this.RA.Ls("Publishing ...");
if(this.e3[3])this.e3[3](this.e3[2]);else window.open("https://www.photopea.com#i"+this.e3[2]+".psd");
if(this.e3[4]=="psdshared")hG.Or("act=2&id="+this.e3[2]+"&fileId="+JSON.parse(x.target.response).fileId)};
hG.Or=function(x){var R=new XMLHttpRequest;R.open("GET","/papi/img/update.php?"+x+"&rnd="+Math.random());
R.send()};hG.save=function(x,R){var T=new Uint8Array(x),c=document.createElement("a");if(typeof c.download=="string"){var g=new Blob([T]),d=window.URL.createObjectURL(g);
c.href=d;c.download=R;document.body.appendChild(c);c.click();document.body.removeChild(c)}else{var U="data:application/octet-stream;base64,"+hG.w9(x);
window.open(U)}};function kE(){this.size=16;this.data=u.B(16)}kE.prototype.sL=function(x,R){if(x+R<=this.size)return;
var T=this.size;while(x+R>this.size)this.size*=2;var c=u.B(this.size);for(var z=0;z<T;z++)c[z]=this.data[z];
this.data=c};var gC={};gC.Ax=function(x,R,T,c){var g=R.split(":"),d=g[0];if(g.length==2){if(d=="jpg")c=[Math.round(100*parseFloat(g[1]))];
if(d=="webp")c=[Math.round(100*parseFloat(g[1])),100,0,!1,!1];if(d=="psd")c=[!0,!0,!1,!1,!1];if(d=="svg")c=g[1].split(",").map(function(e){return e=="true"})}var U=dp.KA(x,d.toUpperCase(),null,null,c,T);
return U};gC.azL=function(x,R,T){var c=x.Yr(),g=R[0];return gC.Ax(x,g,T)};gC.a1o=function(){var x=this.tE,R=this.caller,T=x.Ly.qJ,c=T.formats,g,d;
x.Yr();var U=Date.now();if(T.version==1){var e=[],N=0,J=0;for(var z=0;z<c.length;z++){var l=gC.Ax(x,c[z],R.Dn);
e.push(l);N+=l.byteLength}g=new Uint8Array(2e3+N);var w="{ \"source\": "+JSON.stringify(x.km)+", \"versions\": [\n";
for(var z=0;z<c.length;z++){var s=new Uint8Array(e[z]);w+="\t{\"format\": \""+c[z].split(":")[0]+"\", \"start\": "+J+", \"size\": "+s.length+" }"+(z+1<c.length?", ":"")+"\n";
g.set(s,2e3+J);J+=e[z].byteLength}w+="] }";var o=n.$D(w,g,0);for(var z=o;z<2e3;z++)g[z]=32;d="application/octet-stream"}else{var V=new kE,a=0,O="",S=encodeURIComponent;
O="p="+S("{ \"source\": "+JSON.stringify(x.km)+", \"versions\": [");n._a(V,a,O);a+=O.length;for(var z=0;
z<c.length;z++){O=S(" {\"format\": \""+c[z].split(":")[0]+"\", \"data\": \"");n._a(V,a,O);a+=O.length;
var l=gC.Ax(x,c[z],R.Dn),L=hG.aAj(l,l.byteLength),o=L.length;V.sL(a,o);for(var Q=0;Q<o;Q++){V.sL(a,3);
var b=L[Q];if(b==43){V.data[a]=37;V.data[a+1]=50;V.data[a+2]=66;a+=3}else if(b==47){V.data[a]=37;V.data[a+1]=50;
V.data[a+2]=70;a+=3}else if(b==61){V.data[a]=37;V.data[a+1]=51;V.data[a+2]=68;a+=3}else{V.data[a]=b;
a++}}O=S("\" }"+(z+1<c.length?", ":""));n._a(V,a,O);a+=O.length}O=S("] }");n._a(V,a,O);a+=O.length;g=V.data.slice(0,a);
d="application/x-www-form-urlencoded"}var Z=new XMLHttpRequest;Z.open("POST",T.url,!0);if(d)Z.setRequestHeader("Content-Type",d);
Z.addEventListener("load",gC.axs.bind(this));Z.send(new Blob([g.buffer]))};gC.axs=function(x){this.caller.Ls("Saving ...");
var R=x.target.response;if(R.charAt(0)=="{"){R=JSON.parse(R);if(R.newSource)this.tE.km=R.newSource;if(R.message)alert(R.message,2e3);
if(R.script){var T=new aA(v.E.P,!0);T.data={d:v.H.DQ,FC:R.script};this.caller.c(T)}}else alert("Saved. Response: "+R,1500)};
gC.aBa=function(x){var R=x.Xb,T=R[1].split(".").pop(),c=gC.Ax(x,T,null,T=="psd"&&R[0]==1?[!0,!1,!0,!1]:null),g=Storage.qK(R[0]);
return g.aq$(R[1],c)};gC.ape=function(x,R){var T=x.Y7.cb;if(R==null)R=gC.Ax(x,T);fG.Px(function(){var c=new XMLHttpRequest,g="https://www.googleapis.com/upload/drive/v3/files/"+x.Y7.file.id+"?uploadType=media"+"&"+fG.tP();
c.open("PATCH",g,!0);c.addEventListener("load",function(d){var U=JSON.parse(d.target.response);alert(U.name+" updated")});
c.send(R);alert("Saving \""+x.Y7.file.name+"\" to Google Drive ...")})};gC.iq=function(x,R,T,c){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)gC.adR(x,R,T,c);
else{try{gC.adR(x,R,T,c)}catch(i3){if(i3=="low_ram"){}else{var g="Error. Please, send your file to support@photopea.com and we will solve it.";
if(dp.Xk(R)=="eps")g="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(g,1e4)}}}};gC.adR=function(x,R,T,c){var g;if(x.name){var d=x.name.lastIndexOf(".");g=d==-1?x.name:x.name.slice(0,d)}else{if(x.url.substring(0,5)=="data:"||x.url.indexOf("googleapis")!=-1)g="image";
else g=x.url.substring(x.url.lastIndexOf("/")+1).split(".")[0];g=g.slice(0,50)}var U=x.name?x.name:x.url,e=new Uint8Array(R),N=dp.Xk(R),l=window.gtag;
if(Math.random()<.25&&l&&N!=null&&dp.Ix(N))l("event",N,{event_category:"Formats"});if(N==null)N=n.zQ(e,0,4);
if(U&&U.toLowerCase().endsWith(".raw")){var J=new aA(v.E.P,!0);J.data={d:v.H.i$,$k:"importraw",$X:R,H7:U.split("/").pop()};
T.c(J);return}else if(N=="json"){var w="";for(var z=0;z<e.length;z++)w+=String.fromCharCode(e[z]);w=decodeURIComponent(escape(w));
var o=JSON.parse(w);if(o.name&&o.url){var J=new aA(v.E.P,!0);J.data={d:v.H.anV,b:o};T.c(J)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(o)}return}if(N=="html"){var w=n.KW(e,0,e.length),V=new DOMParser,a=V.parseFromString(w,"text/html"),O=a.getElementsByTagName("meta");
for(var z=0;z<O.length;z++){var S=O[z],L=S.getAttribute("property"),Q=S.getAttribute("content"),b=null;
if(L=="og:image")b=Q;if(L==null&&Q&&Q.startsWith("0;url=/imgres?")){var Z=Q.slice(14).split("&");for(var I=0;
I<Z.length;I++)if(Z[I].startsWith("imgurl"))b=decodeURIComponent(Z[I].slice(7))}if(b==null)continue;
var J=new aA(v.E.P,!0);J.data={d:v.H.Iu,vr:{url:b,Ru:!0,_i:x._i}};T.c(J)}return}if(dp.Ix(N)){var y,r,h=dp.Ix(N);
if(x._i!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(N)!=-1){var J=new aA(v.E.P,!0);if(0<=x._i)J.data={d:v.H.cw,target:x._i,_J:x.eo,V1:R,sC:g};
else{J=new aA(v.E.v,!0);J.data={d:F.SM,data:new Uint8Array(R),H7:g+"."+N};J.f=D.d_}T.c(J);return}var k=[g,h,N,x,T,c,R];
if(h.y0){var K=b5==0?"psd":"ai";y=new c9(g+(N==K?"":"-"+N)+"."+K);h.x3(R,y,gC.g0,k)}else{r=h.x3(R,null,gC.g0,k,T)}if(h.GZ!=!0)gC.g0(y,r,k);
else T.Fm();return}var H=new aA(v.E.P,!0);H.data={d:v.H.m5,$X:R,QP:x.name};var p=x instanceof File&&x.NT!=!0,J=new aA(v.E.P,!0);
J.data={d:v.H.pV,Ly:"add",vr:null,cs:null,aBm:x.NT};if(N=="zip"){var f=Date.now(),A=UZIP.parse(R),_="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var W in A){var Y=!1;for(var z=0;z<_.length;z++)if(W.toLowerCase().endsWith("."+_[z]))Y=!0;if(W.startsWith("__MACOSX/")||A[W].length==0)Y=!0;
if(Y)continue;var G=W.split("/").pop();gC.iq({name:G},A[W].buffer,T,c)}}else if(N=="jsx"||U&&U.toLowerCase().endsWith(".jsx")){var w=n.KW(new Uint8Array(R));
J.data={d:v.H.DQ,FC:w};T.c(J)}else if(N=="otf"){if(p)T.c(H);var i=Typr.parse(R);J.data.vr=hc.OH;for(var z=0;
z<i.length;z++){J.data.cs=i[z];T.c(J)}}else if(N=="asl"){if(p)T.c(H);var i=gj.eE(R,U);J.data.vr=hc.n6;
J.data.cs=i.Xx;T.c(J);J.data.vr=hc.dl;J.data.cs=i.rj;T.c(J)}else if(N=="tpl"){if(p)T.c(H);var i=aa.eE(R);
J.data.vr=hc.fq;J.data.cs={DE:i.DE,YF:i.YF,list:[]};T.c(J);if(i.a0d.length!=0){J.data.vr=hc.my;J.data.cs=i.a0d;
T.c(J)}if(i.rj.length!=0){J.data.vr=hc.dl;J.data.cs=i.rj;T.c(J)}J.data.vr=hc.ON;J.data.cs=i.list;T.c(J)}else{var E="";
for(var $ in hc.tf)if(hc.tf[$][0]==N)E=$;if(E!=""){if(p)T.c(H);J.data.cs=hc.tf[E][2].eE(R,U);J.data.vr=E;
T.c(J)}else if(R.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(N))}};
gC.g0=function(x,R,T){var c=T[0],g=T[1],d=T[2],U=T[3],e=T[4],N=T[5],l=T[6];if(g.GZ)e.Ls();if(!g.y0){if(R.length==0)return;
if(R[0].t33421||R[0].t50706){u.raw.normalize(R[0],l);console.log(R[0]);var J=new aA(v.E.P,!0);J.data={d:v.H.i$,$k:"rawpea",fR:R[0]};
e.c(J);return}if(N){N(new Uint8Array(R[0].data),R[0].d8);return}x=dp.oD(c,R)}x.Z0=U.Z0;x.xt=d;x.Ly=U.Ly;
x.km=U.url;x.ZB=U.ZB;x.Y7=U.Y7;x.ck=U.ck;x.Xb=U.Xb;if(x.Y7)x.Y7.cb=d;if(x.R.length!=0){var J=new aA(v.E.P,!0);
J.data={d:U._i==null?v.H.EO:v.H.cw,target:U._i,_J:U.eo,V1:x};e.c(J)}};function i$(x){ky.call(this);this.Qj=i$.Qj++;
this.zO=x;this.agJ=this.akO.bind(this);this.anX=this.ak6.bind(this);this.axa=this.Yp.bind(this);this.apM=this.ap_.bind(this);
this.ay8=this.ate.bind(this);this.a0x=this.ahO.bind(this);this.rT=0;this.aag=0;this.aeH=0;this.n=X._("div","panelblock");
this.zt=X._("div","block");this.r8=X._("div","collapsed");this.n.appendChild(this.zt);this.$h=-1;this.wB=!0;
this.Cc=X._("div","panelhead");this.zt.appendChild(this.Cc);this.Wp(this.Cc);this.bg=new i_("\u2261");
this.bg.n.setAttribute("style","position:absolute; right:0;");this.bg.k("click",this.a6K,this);this.QB=X._("div","body");
this.zt.appendChild(this.QB);this.lo=[];this.XU=null;this.Q6=null}i$.Qj=0;i$.prototype=new ky;i$.u3=26.1;
i$.prototype.a6K=function(x){var R=this.lo[this.$h].w_(),T=x.currentTarget.n.getBoundingClientRect();
R.t();R.update();R.parent=this;var c=new aA(v.E.P,!0);c.data={d:v.H.fu,YR:R,x:T.left,y:T.top+T.height+2};
this.c(c)};i$.prototype.mz=function(x){var R=this.zt,T=this.Cc,c=this.QB;if(X._b(T))R.removeChild(T);
if(X._b(c))R.removeChild(c);if(x==0)R.appendChild(T);R.appendChild(c);this.aeH=x};i$.Ri=function(x){x.stopPropagation();
x.preventDefault()};i$.prototype.akO=function(x){var R=x.dataTransfer.types;if(R[1]!=null&&R[1]!=this.Qj+"")return;
i$.Ri(x);var cg=x.currentTarget;if(x.target==cg)X.MQ(cg,"highlight")};i$.prototype.ak6=function(x){i$.Ri(x);
var cg=x.currentTarget;if(x.target==cg)X.ia(cg,"highlight")};i$.prototype.Wp=function(x){x.addEventListener("dragenter",this.agJ,!1);
x.addEventListener("dragleave",this.anX,!1);x.addEventListener("dragover",i$.Ri,!1);x.addEventListener("drop",this.axa,!1);
x.addEventListener("dragstart",function(R){R.dataTransfer.setData("Text","--panel");R.dataTransfer.setData(this.Qj+"","")}.bind(this),!1)};
i$.prototype.Yp=function(x){this.anX(x);var R=null,cg=x.currentTarget,T=this.ahD(cg);if(cg==this.QB&&this.$h!=-1)R=this.$h;
else if(cg==this.Cc)R=null;else if(T!=-1)R=T;var c=x.dataTransfer.getData("Text");if(c==""||c.startsWith("http"))X.R4(x,this,R);
else if(c=="--panel"){var g=X.il(x,cg),d=this.lo,U=d.slice(0),z=this.$h,e=T==-1?d.length:g.x<cg.getBoundingClientRect().width/2?T:T+1;
if(z==e||z+1==e||cg==this.QB)return;var N=z<e?e-1:e,l=d[z];d.splice(z,1);d.splice(N,0,l);X.Ra(this.Cc);
for(var J=0;J<d.length;J++)this.Cc.appendChild(d[J].mH);this.a2(N);var w=[];for(var z=0;z<d.length;z++)w[z]=U.indexOf(d[z]);
var s=new aA("shuffleItems",!1);s.data={ar2:w};this.c(s)}else if(R!=null&&this instanceof c0){var s=new aA(v.E.P,!0);
s.data={d:v.H.acO,a9V:R};this.c(s)}};i$.prototype.dr=function(){return null};i$.prototype.a63=function(){if(this.dr()){this.Cc.style.padding="0px";
this.Q6=this.dr();this.QB.appendChild(this.Q6);this.wW.Dd(!1);var x=new aA(v.E.P,!0);x.data={d:v.H.gZ,b:1};
this.c(x)}};i$.prototype.a1i=function(){if(this.Q6){this.Cc.style.padding="";this.QB.removeChild(this.Q6);
this.Q6=null;this.wW.Dd(!0);var x=new aA(v.E.P,!0);x.data={d:v.H.gZ,b:0};this.c(x)}};i$.prototype.ahD=function(x){var R=this.lo;
for(var z=0;z<R.length;z++)if(R[z].mH==x)return z;return-1};i$.prototype.Yq=function(){for(var z=0;z<this.lo.length;
z++)this.lo[z].gw.KF()};i$.prototype.Z2=function(){return this.$h};i$.prototype.wU=function(){if(this.wB)return;
this.wB=!0;this.n.removeChild(this.r8);this.n.appendChild(this.zt)};i$.prototype.collapse=function(){if(!this.wB)return;
this.wB=!1;this.n.appendChild(this.r8);this.n.removeChild(this.zt)};i$.prototype.u3=function(){var x=0;
if(this.aeH==0){x=this.Cc.getBoundingClientRect().height+1;x=Math.max(x,i$.u3)}return x};i$.prototype.acr=function(){return this.u3()+this.QB.getBoundingClientRect().height};
i$.prototype.s7=function(x,R){this.Cc.style.maxWidth=x+"px";var T=this.u3();if(this.$h!=-1)this.lo[this.$h].s7(x,R-T);
return R-T};i$.prototype.L4=function(x,R){if(this.$h!=-1)this.lo[this.$h].L4(x,R)};i$.prototype.Bq=function(x,R,T){this.lo[this.$h].Bq(x,R,T)};
i$.prototype.bP=function(x){this.a1i();if(this.lo.indexOf(x)!=-1){this.a2(this.lo.indexOf(x));return}x.parent=this;
this.lo.push(x);this.Cc.appendChild(x.mH);x.mH.addEventListener("mouseover",this.apM,!1);this.Wp(x.mH);
this.r8.appendChild(x.gw.n);x.gw.k("click",this.aoG,this);x.k("select",this.aAq,this);x.k(v.E.dT,this.a1s,this);
this.a2(this.lo.length-1)};i$.prototype.ap_=function(x){if(x.buttons==0)return;var R=x.currentTarget,T=R,z=0;
while((T=T.previousSibling)!=null)z++;this.aag=z;R.addEventListener("mouseout",this.ay8,!1);this.rT=setTimeout(this.a0x,700)};
i$.prototype.ate=function(x){var R=x.currentTarget,T=R,z=0;while((T=T.previousSibling)!=null)z++;R.removeEventListener("mouseout",this.ay8);
clearTimeout(this.rT)};i$.prototype.ahO=function(x){this.c(new aA(v.E.a0E,!1))};i$.prototype.afJ=function(x){return this.aag};
i$.prototype.KN=function(z){var x=new aA(v.E.dT,!1);x.data={dC:z};this.c(x);var R=this.lo[z];this.lo.splice(z,1);
this.Cc.removeChild(R.mH);this.r8.removeChild(R.gw.n);R.mH.className="";R.gw.removeEventListener("click",this.aoG,this);
R.gw.KF();R.removeEventListener("activate",this.aAq);R.removeEventListener(v.E.dT,this.a1s);var T=this.$h;
if(z<T)T--;else if(z==T&&z==this.lo.length)T--;this.a2(T);if(this.lo.length==0)this.a63()};i$.prototype.ai7=function(){return this.lo.length};
i$.prototype.Vs=function(){if(this.lo.length!=0)this.lo[this.$h].Vs()};i$.prototype.a2=function(x,R){if(R==null)R=!0;
for(var z=0;z<this.lo.length;z++)this.lo[z].mH.className="";if(this.XU)this.QB.removeChild(this.XU);
this.XU=null;this.$h=x;if(x==-1)return;var T=this.lo[this.$h];this.XU=T.bp;this.QB.appendChild(T.bp);
T.mH.className="active";if(!this.wB){this.c(new aA("showFloat"));this.lo[x].gw.Kl()}if(R)this.c(new aA(v.E.p,!1));
T.WC();var c=this.bg.n;if(c.parentNode)this.Cc.removeChild(c);if(T.w_())this.Cc.appendChild(c);var g=new aA(v.E.P,!0);
g.data={d:v.H.jt};this.c(g)};i$.prototype.aAq=function(x){if(this.zO&&!this.zO.ark())return;var z=this.lo.indexOf(x.currentTarget);
this.a2(z)};i$.prototype.a1s=function(x){if(this.zO&&!this.zO.ark())return;var z=this.lo.indexOf(x.currentTarget);
this.KN(z)};i$.prototype.aoG=function(x){var R=this.lo.indexOf(x.currentTarget.parent);if(this.lo[R].gw.KT())this.c(new aA("hideFloat"));
else this.a2(R)};i$.prototype.att=function(x){this.c(x)};function c0(x){i$.call(this,x);this.KQ=0;this.kh=0;
X.Xc(this.Cc,this.at5.bind(this));this.c9=0;this.akX=this.adB.bind(this);this.Wp(this.QB);this.PV=["default;"];
this.wW=new X.dg(this.QB);this.Ow=new d9(!0);this.Ow.parent=this;this.x8=this.Ow.n;d9.X6(this.Ow)}c0.prototype=new i$;
c0.prototype.at5=function(x){if(x.target!=this.Cc)return;var R=this.c9;this.c9=Date.now();if(Date.now()-R>300)return;
var T=new aA(v.E.P,!0);T.data={d:v.H.i$,$k:"newproject"};this.c(T)};c0.prototype.iz=function(x,R){if(R)this.PV.push(x);
else{var T=this.PV.length-1;if(this.PV[T]==x)return;this.PV[T]=x}this.Gy()};c0.prototype.awB=function(){this.PV.pop();
this.Gy()};c0.prototype.Gy=function(){var x=this.PV[this.PV.length-1];this.wW.Bq(x,this.Uy)};c0.prototype.L4=function(x,R){i$.prototype.L4.call(this,x,R);
this.Ow.L4(x,R);if(!x.yB){}};c0.prototype.t=function(){i$.prototype.t.call(this);this.Ow.t()};c0.prototype.Bq=function(x,R){for(var z=0;
z<R.length;z++){var T=R[z];this.lo[z].kb(T.name+(T.DK()?" *":""))}i$.prototype.Bq.call(this,x,R)};c0.prototype.dr=function(){return this.x8};
c0.prototype.s7=function(x,R){if(this.lo.length==0)R+=i$.u3-1;this.KQ=x;this.kh=R;R=i$.prototype.s7.call(this,x,R);
this.Uy="height:"+R+"px; width:"+x+"px; overflow:hidden; position:relative;";this.Gy();this.Ow.s7(x,R)};
c0.prototype.bP=function(x){i$.prototype.bP.call(this,x);x.mH.addEventListener("click",this.akX,!1)};
c0.prototype.KN=function(z){var x=this.lo[z];X.YL(x.mH,this.akX);i$.prototype.KN.call(this,z)};c0.prototype.adB=function(x){var R=this.c9;
this.c9=Date.now();if(Date.now()-R>300)return;var T=this.ahD(x.currentTarget),c=this.lo[T].V1.name,g=new aA(v.E.P,!0),d={K:v.E.v,f:D.d_,C:{d:F.nk}};
g.data={d:v.H.i$,$k:"namewindow",Ey:c.slice(0,c.length-4),V8:d};this.c(g)};function aF(x){ky.call(this);
if(x)return;ah.afb(1);this.n=X._("div","flexrow app");this._z=X._("div");this.n.appendChild(this._z);
setTimeout(function(){var T=window.hideCap;if(T)T()},25e3);this.cE=new fZ;window.addEventListener("blur",function(T){this.cE.reset()}.bind(this),!1);
window.addEventListener("resize",this.mE.bind(this),!1);var R=this._z;this.W0=new e_;this.W0.parent=this;
R.appendChild(this.W0.n);this.xL=new dj;this.xL.parent=this;R.appendChild(this.xL.n);this.Y$=new gG(!0);
this.Y$.parent=this;R.appendChild(this.Y$.n);this.k(v.E.P,this.Tt,this);this.bm=this.Ul.bind(this);window.requestAnimationFrame(this.bm)}aF.prototype=new ky;
aF.prototype.Ul=function(x){this.PH();window.requestAnimationFrame(this.bm)};aF.prototype.t=function(){};
aF.prototype.mE=function(x){var R=window.innerWidth,T=window.innerHeight;this.s7(R,T)};aF.prototype.s7=function(x,R){this.xL.s7(x,R);
this.W0.s7(x,R)};aF.prototype.Tt=function(x){var R=x.data.d;if(R==v.H.fu)this.xL.aAu(x.data);if(R==v.H.Qg)this.xL.a51(x.data);
if(R==v.H.b$)this.xL.amE(x.data.zd);if(R==v.H.v5)this.xL.agb(x.data.zd);if(R==v.H.za)this.xL.NJ()};function i0(){aF.call(this);
this.Hj={x:0,y:0,Kk:!1};this.Gz=!1;this.zT=!1;this.Gg=null;this.agB=0;this.apA=!1;this.rB=0;window.onmessage=function(J){if(Storage.aiW(J.source))return;
if(J.data instanceof ArrayBuffer){var w=dp.Xk(J.data),s=dp.Ix(w);hG.iq({url:"file"},J.data,this);if(s==null)this.pN()}else if(J.data instanceof Object||J.data.startsWith("{")||J.data.startsWith("amp-")||J.data.startsWith("0=goog")||J.data.startsWith("3PCoo")){}else if(J.data.startsWith("--ur ")){var o=J.data.split(" ").pop(),Q=null;
o=o.length==0?[]:o.split(",");console.log(o);var V=this.oX.cs,a=new aA(v.E.P,!0);a.data={d:v.H.pV,vr:hc.V4,SN:o};
this.c(a);var O=o,S=V;if(S.length>O.length){var L=S;S=O;O=L}for(var z=0;z<O.length;z++)if(S.indexOf(O[z])==-1)Q=O[z];
hG.Or("act=3&id="+Q+"&dif="+(O==o?1:-1));alert((O==o?"Resource added.":"Resource removed.")+" "+Q)}else if(J.data.startsWith("--ot ")){this.W0.nX().close();
this.vZ.Qd(J.data.split(" ").pop(),!0)}else if(J.data.startsWith("--et ")){}else{var a=new aA(v.E.P,!0);
a.data={d:v.H.DQ,FC:J.data};this.c(a);this.pN()}}.bind(this);window.onbeforeunload=function(J){this.a4I();
for(var z=0;z<this.JQ.length;z++)if(this.JQ[z].DK())return this.JQ[z].name}.bind(this);window.setInterval(this.aiZ.bind(this),5*60*1e3);
var x=this;if(window.indexedDB&&(!gi.qz()||document.hasStorageAccess==null)){var R={sL:window.indexedDB.open("pp",1)};
R.sL.onupgradeneeded=function(J){var w=J.target.result,s=w.createObjectStore("rsrc",{keyPath:"k"})};
R.sL.onsuccess=function(J){var w=x.oX.k3.pu=J.target.result,s=w.transaction(["rsrc"],"readwrite").objectStore("rsrc"),o=s.get("fs0");
o.onsuccess=function(J){if(J.target.result){var O=x.oX.k3.Bv=J.target.result.fset;for(var S in O){if(!S.endsWith(".jsx")&&!S.endsWith(".psd"))hG.iq({url:S,NT:!0},O[S],x)}}};
var V=new BroadcastChannel("pp-tabs"),a=[];V.onmessage=function(J){if(J.data=="id")V.postMessage(x.oX.k3.id);
else a.push(J.data)};V.postMessage("id");setTimeout(function(){var s=w.transaction(["rsrc"],"readwrite").objectStore("rsrc"),O=s.getAllKeys();
O.onsuccess=function(){var S=O.result,L=[],Q=0;for(var z=0;z<S.length;z++){if(S[z]=="fs0")continue;if(a.indexOf(S[z])!=-1)continue;
L.push(S[z])}for(var z=0;z<L.length;z++){var o=s.get(L[z]);o.onsuccess=function(J){if(J.target.result){var b=J.target.result.fset;
for(var Z in b){hG.iq({url:Z,NT:!0},b[Z],x);var I=x.cC();I.lb=I.gH=-1}Q++;if(Q==L.length)for(var z=0;
z<L.length;z++){var o=s.delete(L[z])}}}}}},200)}}var T=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],c=X.zR[fl.d$][fl.z2];
for(var z=0;z<T.length;z++){var g=X.En(T[z]);if(c.indexOf(g)!=-1){var d=X.zR[fl.d$][fl.QB],U=X.En("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
X.Ra(d);d[fl.agg]=U;return}}this.q=i0.az9();this.oX={q:this.q,amp:!1,lf:null,Gb:0,UK:{YF:[],DE:[],list:[],qa:null},yb:[],awC:[],sx:[],J7:[],oK:[],hP:[],abf:[],amM:[],oK:[],e_:[bD.GI()],YC:[],UU:[],e9:null,gT:0,VH:{KI:1,TB:JSON.parse(JSON.stringify(fJ.dB[0]))},Vz:fJ.SC.GI(),ht:[null].concat(fJ.dB),pO:[null].concat(fJ.dB),dA:new ed(function(J){var w=new aA(v.E.P,!0);
w.data={d:v.H.Iu,vr:{url:"rsrc/fonts/"+J}};this.c(w)}.bind(this)),iT:{uY:[],Ba:null,qi:null},font:null,NU:[],cs:[],abu:{},gR:0,tn:16777215,Tg:!1,St:!0,j3:{CR:!0,Fw:!1,js:!0,OQ:!0,Ch:!0,co:!0,xD:20,GL:0,DX:0,Zg:0,$T:8421504,TM:65535},Ai:!0,b0:[!0,!0,!1,!0,!0],Pr:[0,1,2,3,5,6,7,9,10,16,17,100],GA:1,ba:!0,ST:{},yB:!0,a5y:!1,compact:!1,Om:1,SL:0,x8:!0,GJ:null,k3:{id:"ts"+Math.round(Math.random()*16777215),ah_:!1,apS:!1,Bv:{},bw:{},pu:null},a5R:0,aeK:null,V$:null,aB$:null,zq:null};
ed.EL.bF(this);this.ak9={v4:new aP,Fu:new cI};this.oX.iT=bL.at1();this.cY=new ht;this.Mb=new hi;this.ow=new d_(this.q,!0);
this.TW=new cy;this.$E=new c0(this);this.CD=X._("div");this.N0=!1;this.O8=this.awA.bind(this);X.MQ(this.$E.n,"mainblock");
this.Y$.parent=this.cY.parent=this.Mb.parent=this.ow.parent=this.TW.parent=this.$E.parent=this;this.$E.k(v.E.p,this.DU,this);
this.$E.k(v.E.dT,this.aub,this);this.$E.k("shuffleItems",this.auf,this);this.$E.k(v.E.a0E,this.ap0,this);
this.k("mouse",this.awv,this);this.k(v.E.v,this.gb,this);this.k(v.E._M,this.aBl,this);document.body.addEventListener("keydown",this.XH.bind(this),!1);
window.addEventListener("keyup",this.z7.bind(this),!1);window.addEventListener("paste",this.aou.bind(this),!1);
window.addEventListener("copy",this.aot.bind(this),!1);window.addEventListener("wheel",function(J){if(J.ctrlKey)J.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(J){if(window.innerWidth>400)J.preventDefault();
this.oX.GJ=J}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(J){if(J.ahm){console.log("Service worker installing")}else if(J.ajB){console.log("Service worker installed")}else if(J.active){console.log("Service worker active")}}).catch(function(J){console.log("Registration failed with "+J)})}this.D_=0;
this.JQ=[];this.vZ=new hG(gC.iq);this.vZ.parent=this;var e=this._z,N=this.z_=X._("div");N.appendChild(this.cY.n);
N.appendChild(this.Mb.n);this.Y$.a6U(N);var l=this.asd=X._("div","flexrow");e.appendChild(l);l.appendChild(this.ow.n);
l.appendChild(this.$E.n);l.appendChild(this.TW.n);this.vZ.Hf({url:"rsrc/basic/basic.zip"});this.Kc(D.BA);
i3.bF(this.ap$.bind(this))}i0.prototype=new aF(!0);i0.prototype.pN=function(x){var R=new aA(v.E.P);R.data={d:v.H.h1,vr:x?x:"done"};
this.c(R)};i0.prototype.aiZ=function(){var x=this.oX.k3,T=!1;if(x.pu==null)return;var R=this.JQ;for(var z=0;
z<R.length;z++){var c=R[z];if(c.gH!=c.md){var g=Date.now(),d=dp.KA(c,"psd",0,0,[!0,!1,!0,!1,!0]);c.gH=c.md;
x.bw[c.name]=d;T=!0;console.log(Date.now()-g,"saving "+c.name,d.byteLength)}}if(T){var U=new aA(v.E.P);
U.data={d:v.H.pV,vr:hc.Ii,aur:!0};this.c(U)}};i0.prototype.ap$=function(){X.zR[fl.jH](this.afr.bind(this),Math.pow(Math.PI,8)+X.zR[fl.a2O][fl.ax9]()*1e4);
var x=i3.ig();if(x!=null&&x.globals!=null)this.Du(x.globals);else{this.apA=!0;var R=navigator.languages;
if(R&&R.length!=0){var T=R[0];go.A2(T,this.O8)}}if(!this.CU()){var c=X.a4Q();if(c==0)this.a5y=!0;if(c==2)this.oX.yB=!1;
if(c!=1&&Math.random()<.002)X.aiq()}if(!gi.qz()||!this.oX.yB){this.atc();this.en()}else{var g=X.Ci(X.zR[fl.AB]);
g[fl.Ng](fl.vz,this.ag3.bind(this));g[fl.PD](X.Dk("61="),X.Dk("_MYOqDLGJa;A:6"));g[fl.HK]()}this.Gz=!0;
this.pN()};i0.prototype.ag3=function(x){var R=JSON.parse(x.target[fl.Bx]),T=X.zR[fl.Nz][fl.ac1]()/1e3,c=X.zR[fl.d$][fl.z2],g=!1;
for(var d in R)if(d.indexOf(".")!=-1&&c.indexOf(d)!=-1&&parseInt(R[d])>T)g=!0;if(g)this.oX.yB=!1;this.atc();
this.en()};i0.prototype.en=function(x){this.zT=!0;if(!this.oX.x8)this.$E.x8=null;else if(this.JQ.length==0)this.$E.a63();
this.Op(hc.cp);this.t();this.mE();this.TW.Bq(this.cC(),this.JQ,this.oX)};i0.prototype.Du=function(x){var R=this.oX;
if(x.fcolor!=null)R.gR=x.fcolor;if(x.bcolor!=null)R.tn=x.bcolor;if(x.rulers!=null)R.Tg=x.rulers;if(x.extras!=null)R.St=x.extras;
if(x.favFam!=null)R.NU=x.favFam;if(x.rsrc!=null)R.cs=x.rsrc;if(x.font!=null)R.iT.uY[0].Name=x.font;if(x.panels!=null)R.Pr=x.panels;
if(x.as!=null)R.Om=x.as;if(x.co!=null)R.SL=x.co;if(x.eparams){var T=x.eparams,c=R.j3;if(T.guides!=null)c.CR=T.guides;
if(T.grid!=null)c.Fw=T.grid;if(T.gsize!=null)c.xD=T.gsize;if(T.gunits!=null)c.GL=T.gunits;if(T.gtype!=null)c.DX=T.gtype;
if(T.runits!=null)c.Zg=T.runits;if(T.gcol!=null)c.$T=T.gcol;if(T.gucol!=null)c.TM=T.gucol;if(T.sels!=null)c.js=T.sels;
if(T.paths!=null)c.OQ=T.paths;if(T.pgrid!=null)c.Ch=T.pgrid;if(T.slices!=null)c.co=T.slices}if(x.lang!=null)go.A2(x.lang,this.O8);
if(x.theme!=null)R.GA=x.theme;if(x.topt||R.Pi){var g=x.topt?x.topt:{},d=R.Pi?R.Pi:{};for(var U in this.q.map){if(U>=103)continue;
var e="t"+U;if(g[e]||d[e])this.q.map[U].f.zX(g[e],d[e],this)}}};i0.prototype.atc=function(){if(this.oX.amp)return;
this.oX.amp=!0;var x=null,R=window.location.href,T=R.indexOf("="),c=R.indexOf("#");if(T!=-1)x=R.substring(R.indexOf("?")+1,T);
if(c!=-1&&c!=R.length-1){x="p";T=c}if(c!=-1&&R[c+1]=="i"){this.vZ.Qd(R.slice(c+2,c+10))}else if(R.slice(c+1).startsWith("goog_rewarded")){}else if(c!=-1&&R[c+1]=="t"){this.vZ.Qd(R.slice(c+2,c+10).split("").reverse().join(""),!0)}else if(x=="p"||x=="state"){var g=R.substring(T+1,R.length);
g=JSON.parse(decodeURI(g));if(x=="p"){if(g.script=="alert(73)")this.oX.yB=!1;if(g.script)aU.amT(this);
if(g.server)this.Gg=g.server;if(g.resources)for(var z=0;z<g.resources.length;z++)this.vZ.Hf({url:g.resources[z]});
if(g.files)for(var z=0;z<g.files.length;z++)this.vZ.Hf({url:g.files[z],Ly:{qJ:g.server,a8F:g.script}});
var d=g.environment;if(d==null)d={};if(d.plugins!=null)this.TW.a2B(d.plugins);if(d.localsave!=null)this.oX.ba=d.localsave;
if(d.customIO!=null)this.oX.ST=d.customIO;if(d.vmode!=null){var U=d.vmode;if(U==1)this.oX.compact=!0;
if(U==2)this.mz(1)}if(d.intro!=null)this.oX.x8=d.intro;if(d.menus!=null)this.oX.a6s=d.menus;if(d.tmnu!=null)this.oX.Pi=d.tmnu;
if(d.panels!=null)this.oX.Pr=d.panels;if(d.showtools!=null){var e=d.showtools,N=e.indexOf(this.oX.lf);
this.oX.jg=e;if(N==-1)this.Kc(e[0])}if(d.phrases!=null)go.aj_(d.phrases);if(d.autosave!=null){this.oX.Om=0;
window.setInterval(function(){var w=new aA(v.E.P);w.data={d:v.H._S};this.c(w)}.bind(this),d.autosave*1e3)}if(d.icons!=null){for(var l in d.icons)if(d.icons[l].indexOf("\"")==-1){if((l==fl.ah9||l==fl.aok)&&this.oX.yB)continue;
PIMG[l]=d.icons[l];PIMG["__"+l]=!0}}this.Du(d);if(g.files==null&&g.script){cb.bb(g.script,this);this.pN()}}else if(x=="state"){var J=this.vZ;
if(g.action=="create"){var w=new aA(v.E.P);w.data={d:v.H.i$,$k:"newproject",a5_:g.folderId};this.c(w)}if(g.action=="open"){for(var z=0;
z<g.ids.length;z++)fG.Px(function(){var o="https://www.googleapis.com/drive/v3/files/"+this.axI,V=new XMLHttpRequest;
V.open("GET",o);V.setRequestHeader("Authorization",fG.gK());V.send();V.onload=function(a){var O=JSON.parse(a.target.response);
J.Hf({url:o+"?alt=media",name:O.name,Y7:{file:O,cb:""},YE:{Authorization:fG.gK()}})}}.bind({axI:g.ids[z]}));
alert("Loading files from Google Drive ...")}}}else{var s=window.launchQueue;if(s){var J=this.vZ;s.setConsumer(function(o){var V=o.files;
console.log(V);for(var z=0;z<V.length;z++){var a=V[z];a.getFile().then(function(O){J._D([O],null,null,null,[a])})}})}}};
i0.prototype.t=function(){var x=document.getElementById("cap");if(x){var R=!1,T=x.getElementsByTagName("h1")[0],d=0,e=0,N=0;
T.textContent=R?"Photopea":go.get([0,17,0]);var c=x.getElementsByTagName("p"),g=X.Xl(go.get([0,17,1])),U=["PSD","XCF","Sketch","XD","CDR"];
for(var z=0;z<U.length;z++)g=g.replace(U[z],"<b>"+U[z]+"</b>");if(!R)g+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
c[0].innerHTML=g;g=go.get([0,17,2])+" "+go.get([0,17,3]);for(var z=0;z<g.length;z++){var l=g[z];if(l=="<")e++;
if(l==">")N++}if(!R&&e*N==9){var J=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var z=0;z<3;z++){var w=g.indexOf("<",d),s=g.indexOf(">",d),o=g.slice(0,w)+"<a href=\""+J[z]+"\" target=\"_blank\">"+g.slice(w+1,s)+"</a>";
d=o.length;g=o+g.slice(s+1)}c[1].innerHTML=g}else c[1].innerHTML=go.get([0,17,2])}var V=document.getElementById("sponsors");
if(V)V.textContent=go.get([0,17,4]);this.Y$.t();this.cY.t();this.TW.t();this.ow.t();this.W0.t();this.$E.t();
for(var a in this.q.map)if(this.q.map[a].vA)this.q.map[a].vA.t()};i0.prototype.CU=function(){var x=X.zR[fl.es][fl.a5e];
if(x&&x[1]){if(x[1].endsWith(fl.Dk("UUPSDm@ID")))return!0}return 4<X.zR[fl.es][fl.XE][fl.aqz](fl.Dk("'$!|"))};
i0.prototype.s7=function(x,R){x=Math.floor(x);R=Math.floor(R);var T=X.Dk("WUMK&AM"),c=fl.Dm,g=X.zR[fl.d$],d=Math.max(x,window.screen.width),U=Math.max(R,window.screen.height),w=0;
if(gi.$d==null)gi.$d=Math.min(d,U)<500||d<750?0:d<1500?1:2;var e=gi.$d,N=!this.zT||this.CU()||!this.oX.yB||i3.T9()||e==0;
if(!N&&gi.qz()){if(this.aqw==null)this.aqw=Math.random()<.5;N=this.aqw}if(N){if(e!=0&&X.zR[T]&&this.zT)X.zR[T]()}else{if(e==0)R-=60;
else x-=e==1?180:320}aF.prototype.s7.call(this,x,R);if(N&&this.N0){this.n[fl.qx](this.CD);X.Ra(this.CD);
this.N0=!1}if(!N&&!this.N0){var l=function(V){if(Math.random()<.002){i3.event(gi.Qr()?"gota_0":"gota_1")}this.abE(x,R);
var a=e==0?g[fl.QB]:this.n;a.appendChild(this.CD);this.CD[fl.lD](c,X.Dk("_MMJLNDfKCAg")+(e==0?10:10)+X.Dk("_d$ebOS?I:==Ba-+# }$M"));
this.CD[c][X.Dk("_MMJLND&<:E")]=(e==0?0:19)+X.Dk("_d");this.CD[c][X.Dk("i5WJHX")]=e==0?0:1}.bind(this);
function J(){gi.asQ(l)}setTimeout(J,2300);this.N0=!0}if(X._b(this.cY.n))w+=31;if(X._b(this.Mb.n))w+=32;
this.Y$.aAF=this.oX.yB&&this.zT;this.Y$.s7(x,w);var s=R-w,o=X.Dk("_d");this.CD[c][fl.aBU]=(e==0?100>>>1:R-11)+o;
this.CD[c][fl.wc]=(e==0?x:6*Math.pow(10,2))+o;if(X._b(this.ow.n))this.ow.s7(x,s);this.TW.s7(x,s);this.$E.s7(x-this.ow.o4()-this.TW.o4(),s)};
i0.prototype.abE=function(x,R){var T=function(){var c=new aA(v.E.P);c.data={d:v.H.i$,$k:"account"};this.c(c)}.bind(this);
gi.a0M(x,R,this.CD,T)};i0.prototype.aot=function(x){console.log("systemCopy")};i0.prototype.aou=function(x){if(X.Jm())return;
console.log("systemPaste");if(!x.clipboardData)return;var R=x.target.tagName.toLowerCase(),T=x.clipboardData.items;
if(T==null)return;var c=this.aA_.bind(this);for(var z=0;z<T.length;z++){var g=T[z],d=g.getAsFile();if(g.type.indexOf("image")!=-1){if(d.size==this.oX.a5R)return;
this.oX.a5R=d.size;if(d){d.name="image.png";this.vZ._D([d],c)}}}};i0.prototype.aA_=function(x,R){var T={buffer:x,rect:R},c=this.oX;
if(X.Jm()){var g=this.ak9,d=g.v4;if(d.m==R.m&&d.e==R.e){T.rect=d;T.Fu=g.Fu}}else{if(c.V$){var U=new aA(v.E.v,!0);
U.f=D.hG;U.data={d:"h_stepbck"};this.c(U)}}c.V$=T;var U=new aA(v.E.P,!0);U.data={d:v.H.LK,ara:!0};this.c(U)};
i0.prototype.aCw=function(){if(this.W0.nX()!=null)alert(go.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
i0.prototype.gb=function(x){var R=this.cC();if(R==null){alert(go.get([15,7,7]));return}var T=x.f==D.jw||x.f==D.p3;
if(this.W0.Vd()&&x.ke!=!0&&!T){this.aCw();return}var c=this.q,g=this.oX.lf,d=x.f;if(d==D.kY&&g==D.g_)d=D.g_;
if(g!=d&&c.map[g].f.Vd()&&!T&&!(g==D.NN&&d==D.zW)){console.log("disabling",g);c.map[g].f.disable(R,this,this.oX,this.cE)}var U=this.q.map[d].f;
U.gb(x.data,this,R,this.cE,this.oX)};i0.prototype.aBl=function(x){var R=this.oX;if(x.data.Wv!=!0)bf.aiy({Sm:x.data.Sm,M1:x.data.M1},this,R,this.cC());
var T=R.e9,c=R.UU;if(T==null)return;var g={apO:!1,DP:"Step",akW:0,r:!0,exp:!1,Sm:x.data.Sm};if(T[2]==null)T[2]=c[T[0]].dz[T[1]].dz.length-1;
if(x.data.M1)g.M1=x.data.M1;c[T[0]].dz[T[1]].dz.splice(T[2]+1,0,g);T[2]++;this.Op(hc.v)};i0.prototype.Tt=function(x){if(this.a5y){x.data=0;
return x.type}aF.prototype.Tt.call(this,x);var R=x.data.d;if(R==v.H.LP)bf.azm(this.cC(),this.oX.UU,x.data.v2[0],x.data.v2[1],this);
if(R==v.H.acO){this.a0a(x.data.a9V)}if(R==v.H.ayo){this.t();this.mE()}if(R==v.H.jt)this.mE();if(R==v.H.sJ)if(this.oX.GJ){this.oX.GJ.prompt();
this.oX.GJ=null}if(R==v.H.pm)this.$E.iz(x.data.ze,x.data.push);if(R==v.H.atV)this.$E.awB();if(R==v.H.anu)this.DU(null,x.data.dir);
if(R==v.H.Ql)this.$E.KN(this.JQ.indexOf(x.data.tE));if(R==v.H.gZ){if(x.data.lk&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(x.data.lk)document.body.webkitRequestFullScreen();if(x.data.b!=null)this.mz(x.data.b)}if(R==v.H.aqi){if(x.data.Kk)this.cE.mp(x.data.a74);
else this.cE.hQ(x.data.a74);this.Rw(x.data.Kk?"down":"up")}if(R==v.H.anV){var T=x.data.b;this.TW.a2B([T]);
this.t()}if(R==v.H.Wt){var c=this.cC(),g=c.Yr().slice(0),d=c.R[c.g[0]],U=new aP(0,0,c.m,c.e),e=c9.EW()+"-d71c-11e5-b1ae-a548a96e5f9f",N=new aA(v.E.P,!0);
if(x.data.vr==0){var l={name:"Default/"+c.name.split(".")[0],id:e,NR:[g,U]};N.data={d:v.H.pV,Ly:"add",vr:hc.n6,cs:[l]};
this.c(N)}if(x.data.vr==1){var J=u.B(U.Z()*4);u.Qu(J,4294967295);u.l.Hy("norm",g,U,J,U,U,1);var w=u.B(U.Z());
u.Ve(J,w);u.F0(w);var o=u.Vn(w,U);if(o.Y3())o=U;var V=u.B(o.Z());u.gN(w,U,V,o);o.x=o.y=0;var a={v4:o,id:e,NR:[V,o]},O=bE.hA(e),S=O.Brsh.v;
S.Dmtr.v.val=Math.max(o.m,o.e);S.Spcn.v.val=10;N.data={d:v.H.pV,Ly:"add",vr:hc.fq,cs:{list:[{t:"Objc",v:O}],DE:[a],YF:[]}};
this.c(N);N.data={d:v.H.pV,vr:hc.nI,n0:O};this.c(N)}if(x.data.vr==2){var L=c.JR(),Q=L[0][L[1][0]],b={R9:"Default/"+d.getName(),DN:e,$:Q.add.vmsk.clone().$},Z=u.j.pP(b.$),I=new gP(Z.m,0,0,Z.e,Z.x,Z.y);
I.F0();u.j.q0(b.$,I);Z.x=Z.y=0;b.Uc=Z.clone();N.data={d:v.H.pV,Ly:"add",vr:hc.my,cs:[b]};this.c(N)}}if(R==v.H.Iu)this.vZ.Hf(x.data.vr);
if(R==v.H.au){var y=x.data.alM,r=x.data.Sz;if(y!=!0&&r!=!0&&this.WZ("open"))return;var h=this.$E.Z2();
if(r)h=-1-h;this.vZ.arm(y||r?h:null,x.data.a7E)}if(R==v.H.ZJ){var k=x.data.aB9,K=x.data.Pg,H=this._h(k);
if(K){var p=k==hc.fq,f=[];for(var z=0;z<K.length;z++)f.push((p?H.list:H)[K[z]]);H=p?{YF:H.YF,DE:H.DE,list:f}:f}if(k==hc.dl){var U=new c9;
for(var z=0;z<H.length;z++){var A=H[z].U1.Lefx;if(A)e5.abF(A,U,this.oX.hP)}H={Xx:U.add.Patt?U.add.Patt:[],rj:H}}if(k==hc.ON){var _=this.oX.UK;
H={DE:[],YF:[],list:H};console.log(H)}if(k==hc.v)H=H[x.data._8];var W=hc.tf[k],g=W[2].P7(H);hG.save(g,W[1]+"."+W[0])}if(R==v.H.m5){var Y=this.oX.k3,G=x.data.aAe;
if(Y.pu&&!Y.ah_&&!G){Y.apS=window.confirm("Load \""+x.data.QP+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
Y.ah_=!0}if((Y.apS||G)&&Y.pu){Y.Bv[x.data.QP]=x.data.$X;var N=new aA(v.E.P);N.data={d:v.H.pV,vr:hc.Ii};
this.c(N)}}if(R==v.H.akZ){var c=this.cC(),$="<!DOCTYPE HTML>";if(c==null)return;var i=dp.DZ(c.Yr().buffer,c.m,c.e),E=window.open();
$+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";$+="<body><img src=\""+i+"\" /></body>";
$+="</html>";E.document.write($)}if(R==v.H.Uj){if(this.WZ("publishOnline"))return;var C=x.data.iw!="psd",c=this.cC();
if(c==null)return;if(!C&&c.Z0)return;var B="Your "+(C?"picture":"document")+" will be published at "+(C?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!C)B+=" We guarantee 6+ months of storage.";var M=x.data.qG?!0:confirm(B);if(M){if(!C){var N=new aA(v.E.v,!0);
N.f=D.d_;N.data={d:F.Tx};this.c(N);var j=new aP(0,0,c.m,c.e);for(var z=0;z<c.R.length;z++){var d=c.R[z];
if(d.rect.Y3()||d.NW()||d.le()||d.yd()||d.bT()||d.add.TySh||d.add.vmsk||d.add.SoLd)continue;var P=j.yx(d.rect);
if(!P.X$(d.rect)&&!P.Y3()){var t=u.B(P.Z()*4);u.yU(d.buffer,d.rect,t,P);d.buffer=t;d.rect=P}if(!u.uB(d.buffer,d.rect.m,d.rect.e))continue;
var q=d.Pm(),m=d.opacity,iE=d.mh,hV=d.UP;d.oE(!0);d.opacity=255;d.mh="norm";c.g=[z];N.data={d:F.ET,iw:"jpg"};
this.c(N);var dD=c.R[z];d.oE(q);dD.oE(q);d.opacity=dD.opacity=m;d.mh=dD.mh=iE,d.UP=dD.UP=hV}}if(c.uW){c.jB()}var bh=c.m,ho=c.e,aH=x.data.abO,f2;
if(aH)while(Math.max(bh,ho)>aH){bh=bh>>>1;ho=ho>>>1}console.log(bh,ho);if(x.data.iw=="psd")f2=dp.KA(c,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(x.data.iw=="png")f2=dp.KA(c,"png",bh,ho);else{var e9=dp.KA(c,"png",bh,ho),kB=dp.KA(c,"jpg",bh,ho);
f2=e9.byteLength<kB.byteLength?e9:kB}if(x.data.qG==null)x.data.qG=function(a6){var h6=C?a6:"https://www.photopea.com/#i"+a6+".psd",N=new aA(v.E.P);
N.data={d:v.H.i$,$k:"linkview",aCk:h6};this.c(N)}.bind(this);if(C)hG.amg(f2,x.data.qG);else this.vZ.at_(f2,c.name,x.data.qG,"psdshared")}}if(R==v.H._S){var c=this.cC(),ct=!1;
if(c==null)return;if(c.uW){c.jB()}if(x.data.tY){if(!this.vJ(c,x.data.tY))return;var g=gC.azL(c,x.data.tY,this.oX);
this.pN(g);ct=!0}else if(c.ZB){if(this.JQ.indexOf(c.ZB.O$)!=-1){var g=new Uint8Array(dp.Ix("PSD").LA(c,null,null,[!0,!1])),N=new aA(v.E.v,!0);
N.data={d:F.SM,V1:c.ZB.O$,data:g,id:c.ZB.a34,H7:c.name};N.f=D.d_;this.c(N);alert("Smart Object updated")}ct=!0}else if(this.WZ("save")){ct=!0}else if(c.Y7){gC.ape(c);
ct=!0}else if(c.Xb){var jF=gC.aBa(c);if(jF==1){alert("Already saving another file. Try again later.");
return}ct=!0}else if(c.Ly&&c.Ly.qJ){if(!this.vJ(c,c.Ly.qJ.formats))return;this.vZ.aha(c,this.oX,gC.a1o);
ct=!0}else if(c.ck&&"psd jpg png gif webp svg bmp".split(" ").indexOf(c.xt)!=-1){this.ajt();return}if(ct){c.lb=c.md;
c.Z$=Date.now();c.Sa=!0}else{var N=new aA(v.E.P,!0);N.data={d:v.H.Lo};this.c(N)}}if(R==v.H.Lo){if(!this.oX.ba){alert("function is disabled");
return}if(this.WZ("saveAsPSD"))return;var c=this.cC();if(c==null)return;if(!this.vJ(c))return;var N=new aA(v.E.v,!0);
N.data={d:F.Tx};N.f=D.d_;this.c(N);if(c.R.length>8e3&&!confirm("Your document has "+c.R.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var fj={hu:[]};c.root.aqe([],fj);var ab=fj.hu;if(ab.length>11&&!confirm("One layer is nested "+(ab.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+ab.join(" \uD83E\uDC1A ")+"."))return;
var iw=window.showSaveFilePicker;if(window.parent!=window)iw=null;if(iw&&!x.data.alY){var jD={suggestedName:c.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
iw(jD).then(function(x){c.ck=x;c.name=x.name;c.Sg=!0;c.xt="psd";this.ajt()}.bind(this));return}var a1=window.gtag;
if(c.pl()&&a1)a1("event",c.xt+":"+X.En(i3.T9()?"\"'|('61":"w'| "),{event_category:"Formats"});if(c.uW){c.jB()}var gd=b5==0?"PSD":"AI",i6=dp.Ix(gd);
if(x.data.alY){var g=c.xt=="psd"?i6.LA(c):gC.Ax(c,c.xt,this.oX);this.amP(g,c,this)}else{var g=i6.LA(c);
hG.save(g,c.name);c.lb=c.md;c.Z$=Date.now();c.Sa=!0}}if(R==v.H.ub)window.open(x.data.link,"_blank");
if(R==v.H.apN){if(this.W0.Vd()){this.aCw();return}var c=this.cC(),d=c.R[c.g[0]],T=c.ak(d.add.SoLd.Idnt.v);
for(var z=0;z<this.JQ.length;z++){var hv=this.JQ[z].ZB;if(hv!=null&&hv.a34==T.E5&&hv.O$==c){this.$E.a2(z);
return}}hG.iq({name:T.H7,ZB:{a34:d.add.SoLd.Idnt.v,O$:c}},T.raw.buffer,this)}if(R==v.H.ahn){var c=this.cC(),d=c.R[c.g[0]],T=c.ak(d.add.SoLd.Idnt.v);
hG.save(T.raw.buffer,T.H7)}if(R==v.H.aeI){console.log(x.data);hG.iq({name:x.data.Xb[1].split("/").pop(),Xb:x.data.Xb},x.data.Ik,this)}if(R==v.H.anE){var c=this.cC();
c.Xb=x.data.Xb;c.name=c.Xb[1].split("/").pop();var N=new aA(v.E.P);N.data={d:v.H._S};this.c(N)}if(R==v.H.Uf){this.a5i()}if(R==v.H.Vx){this.alf(x.data.zS,x.data.p0,x.data.V5)}if(R==v.H.LK){this.adI(x.data.ara,x.data.tV,x.data.V5)}if(R==v.H.aCS){var hO=x.data.b;
if(this.oX.lf==D.kY&&this.NV().Vd()){var N=new aA(v.E.v,!0);N.f=D.kY;N.data={d:"insertText",b:hO};this.c(N);
return}if(hO.startsWith("vcb;")){var jh=JSON.parse(hO.slice(4));jh[0]=bD.aqt(jh[0]);var N=new aA(v.E.v,!0);
N.f=D.OZ;N.data={d:"append",hK:"Paste Paths",ayQ:jh};this.c(N)}else if(hO.startsWith("lrs;")){var aJ=hO.split(";"),hS=this.JQ[parseInt(aJ[1])];
if(hS==null)return;var iO=this.cC(),g$=hS.g;hS.g=JSON.parse(aJ[2]);var bF=hS.c7(null,hS!=iO),N=new aA(v.E.v,!0);
N.data={d:F.Sx,R:bF,O$:hS,tj:iO};N.f=D.d_;this.c(N);hS.g=g$}else if(hO.startsWith("<!--")||hO.startsWith("<svg")){var hy=n.SF(hO),fg=dp.Ix("svg"),U=new c9("image.psd");
fg.x3(hy.buffer,U);if(this.JQ.length!=0){var hL=U.R;if(hL.length==3&&hL[0].getName()=="</Layer group>"&&hL[2].NW())hL=[hL[1]];
var N=new aA(v.E.v,!0);N.f=D.d_;N.data={d:F.Sx,R:hL,O$:U,tj:this.cC()};this.c(N)}else this.acR(U)}}if(R==v.H.DQ){cb.bb(x.data.FC,this)}if(R==v.H.h1){if(window.parent!=window)window.parent.postMessage(x.data.vr,"*");
this.TW.Ag(x.data.vr)}if(R==v.H.Av){var dn=parseFloat(x.data.$k);if(this.oX.Pr.indexOf(dn)==-1){var N=new aA(v.E.P,!0);
N.data={d:v.H.pV,vr:hc.Pv,b:dn,Ly:"add"};this.c(N)}this.TW.aci(x.data.$k)}if(R==v.H.tZ){this.xL.aue(this.cC(),this.oX)}if(R==v.H.i$){var c5="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var z=0;z<c5.length;z+=2)if(x.data.$k==c5[z]&&this.WZ(c5[z+1]))return;if(!this.oX.ba&&x.data.window=="saveforweb"){alert("function is disabled");
return}this.W0.al9(x.data.$k,this.cC(),x.data,this.JQ,this.cE)}if(R==v.H._1)hG.save(x.data.data,x.data.name);
if(R==v.H.EO){if(!this.W0.Vd()||x.ke)this.acR(x.data.V1)}if(R==v.H.cw){this.$E.a2(x.data.target);var N=new aA(v.E.v,!0);
N.data={d:F.arZ,V1:x.data.V1,sC:x.data.sC,_J:x.data._J};N.f=D.d_;this.c(N);this.Kc(D.lU)}if(R==v.H.a22){fq.tc=!fq.tc;
if(this.JQ.length>0)this.cC().W()}if(R==v.H.avD){var gt=i3.ig();if(gt!=null&&gt.globals!=null)this.Du(gt.globals);
this.en()}if(R==v.H.XQ){this.vZ._D(x.data.data,null,x.data._i,x.data.eo,x.data.a1Q)}if(R==v.H.di){var iK=this.NV();
if(!this.W0.nX()!=null)this.Kc(x.data.f,x.data.in);var iz=this.NV();if(iz!=iK&&x.data.a2s)iz.fz(this.cC(),this,this.oX,this.cE,this.Hj)}if(R==v.H.GO){if(this.q.WA)this.Kc(this.q.WA)}if(R==v.H.SQ){var gI=this.q.map[x.data.f].f,c=this.cC();
gI.B7(x.data,this,c,this.cE,this.oX);if(c)c.kn=!0;this.auE()}if(R==v.H.Pn){var ce=this.q.map[x.data.f];
this.a7i(ce);ce.vA.US(x.data)}if(R==v.H.pV){var c=this.cC(),b7=x.data.vr,br=x.data.cs,kg=this.oX;if(x.data.Ly=="set"){var iz=D.wR[br[1].classID];
if(kg.lf!=iz)this.Kc(iz);this.q.map[iz].vA.a9F(br,kg)}if(x.data.Ly=="add"){var W=hc.tf[b7];if(b7==hc.Pv){kg.Pr.push(x.data.b);
kg.Pr.sort(function(a6,h6){return a6-h6})}else if(W==null){if(br)kg.dA.anl(br,x.data.aBm);if(c)c.Sa=!0}else{var bM=this._h(b7);
if(b7==hc.fq){bM.DE=bM.DE.concat(br.DE);bM.YF=bM.YF.concat(br.YF);bM=bM.list;br=br.list}if(b7==hc.dl&&c){for(var z=0;
z<br.length;z++){var A=br[z].U1.Lefx;if(A)e5.aCT(A,c,kg.hP)}}if(b7==hc.ON&&br==null){var U=this.q.map[kg.lf].vA.a2u();
if(U==null)return;br=[U]}for(var z=0;z<br.length;z++)bM.push(br[z]);if(b7==hc.my){var eQ={};for(var z=0;
z<bM.length;z++){var eT=bM[z].R9;while(eQ[eT]!=null)eT=bM[z].R9=eT+"X";eQ[eT]=!0}}if(x.data.aBm!=!0)if(bM.length!=br.length||b7==hc.vm||b7==hc.dl||b7==hc.xO||b7==hc.v)alert(go.get(W[3])+" "+go.get([23,1])+".")}}if(x.data.Ly=="del"){if(b7==hc.Pv){kg.Pr.splice(kg.Pr.indexOf(x.data.b),1)}else{var W=hc.tf[b7],K=x.data.Pg,bM=this._h(b7);
if(b7==hc.fq)bM=bM.list;for(var z=0;z<K.length;z++)bM[K[z]]=null;for(var z=0;z<bM.length;z++)if(bM[z]==null){bM.splice(z,1);
z--}alert(go.get(W[3])+" deleted.")}}if(x.data.Ly=="rnm"){var W=hc.tf[b7],bM=this._h(b7);if(b7==hc.fq)bM=bM.list;
if(bM[x.data.Pg[0]]==null)return;W[2].kb(bM[x.data.Pg[0]],(x.data.To?x.data.To:"")+x.data.b)}if(b7==hc.GD){var b6=x.data.b;
kg.VH=b6;kg.ht[b6.KI]=b6.TB}if(b7==hc.Jt){var b6=x.data.b;kg.Vz=JSON.parse(JSON.stringify(b6));var hx=fJ.c0(b6);
kg.pO[hx.KI]=hx.TB}if(b7==hc.VU){kg.gT=x.data.b}if(b7==hc.q3){kg.iT=x.data.iT}if(b7==hc.nI){var t=JSON.parse(JSON.stringify(x.data.n0)),io=t.useBrushSize;
if(io&&io.v){t.Brsh.v.Dmtr.v.val=kg.UK.qa.Brsh.v.Dmtr.v.val;io.v=!1}kg.UK.qa=t;var jm={Sm:"select",M1:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:t.Nm.v.split("/").pop()}}]}}},ce=this.NV();
ce.RA=this;ce.track(jm)}if(b7==hc.ce){kg.NU=x.data.SN}if(b7==hc.V4){kg.cs=x.data.SN}if(b7==hc.Js){var jm,bq="Clrs";
if(x.data.J2<2){var gO=x.data.b,ae=x.data.J2==0,dl=u.I.SE({o:gO>>>16,A:gO>>>8&255,J:gO&255});if(ae)kg.gR=gO;
else kg.tn=gO;bq=ae?"FrgC":"BckC";jm={Sm:"set",M1:{__name:"Set",classID:"setd",T:{t:"Objc",v:dl}}}}if(x.data.J2==2){var eF=kg.gR;
kg.gR=kg.tn;kg.tn=eF;jm={Sm:"exchange",M1:{__name:"Exchange",classID:"Exch"}}}if(x.data.J2==3){kg.gR=0;
kg.tn=16777215;if(c!=null&&c.g.length!=0&&c.R[c.g[0]].s4==1){var eF=kg.gR;kg.gR=kg.tn;kg.tn=eF}jm={Sm:"reset",M1:{__name:"Reset",classID:"Rset"}}}if(jm){jm.M1.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:bq}}]};
var ce=this.NV();ce.RA=this;ce.track(jm)}}if(b7==hc.yt){kg.Tg=!kg.Tg;this.mE()}if(b7==hc.nx){kg.St=!kg.St;
this.mE()}var e6=kg.j3;if(b7==hc.lp){e6.js=!e6.js;this.mE()}if(b7==hc.$g){e6.OQ=!e6.OQ;this.mE()}if(b7==hc.MN){e6.CR=!e6.CR;
this.mE()}if(b7==hc.d3){e6.Fw=!e6.Fw;this.mE()}if(b7==hc.IZ){e6.Ch=!e6.Ch;this.mE()}if(b7==hc.$v){e6.co=!e6.co;
this.mE()}if(b7==hc.WP){kg.j3=x.data.SN;this.mE()}if(b7==hc.a0l){kg.Ai=!kg.Ai;this.mE()}if(b7==hc.Sy){kg.b0[x.data.uo]=!kg.b0[x.data.uo];
this.mE()}if(b7==hc.iC){go.$b(x.data.lang,this.O8)}if(b7==hc.Pk){kg.GA=x.data.GA;this.t()}if(b7==hc.Ii&&kg.k3.pu){var dJ=kg.k3.pu.transaction(["rsrc"],"readwrite").objectStore("rsrc"),d2={k:"fs0",fset:kg.k3.Bv};
if(x.data.aur)d2={k:kg.k3.id,fset:kg.k3.bw};var gQ=Object.keys(d2.fset).length==0?dJ.delete(d2.k):dJ.put(d2);
gQ.onerror=function(x){console.log(x);alert("Storing failed. Browser says: "+x.target.error.message,7e3)}}this.Op(b7)}};
i0.prototype.ajt=function(){var x=new aA(v.E.P,!0);x.data={d:v.H.b$,zd:"Saving ..."};this.c(x);setTimeout(function(){var x=new aA(v.E.P,!0);
x.data={d:v.H.Lo,alY:!0};this.c(x)}.bind(this),20)};i0.prototype.amP=function(x,R){R.ck.createWritable().then(function(T){T.write(x);
return T}).then(function(T){return T.close()}).then(function(T){R.lb=R.md;R.Z$=Date.now();R.Sa=!0;var c=new aA(v.E.P,!0);
c.data={d:v.H.v5,zd:"Saving ..."};this.c(c)}.bind(this)).catch(function(T){var c=new aA(v.E.P,!0);c.data={d:v.H.v5,zd:"Saving ..."};
this.c(c)}.bind(this))};i0.prototype.akC=function(){var x=this.oX,R=x.cs,T=x.abu;for(var z=0;z<R.length;
z++){var c=R[z];if(T[c])continue;T[c]=!0;this.vZ.Qd(c,!1,!0)}};i0.prototype.awA=function(){this.t();
this.mE()};i0.prototype.WZ=function(x){var R=this.oX.ST[x];if(R){var T=new aA(v.E.P,!0);T.data={d:v.H.DQ,FC:R};
this.c(T)}return R!=null};i0.prototype.vJ=function(x,R){var T=!0,U=15;if(R){T=!1;for(var z=0;z<R.length;
z++)if(R[z].startsWith(X.Dk("__M")))T=!0}var c=x.pl()||x.ZB&&x.ZB.O$.pl();if(this.CU())c=!1;var g=new X.zR[fl.Nz],d=(g[X.En("xy,b-66:")]()&1)*60+g[X.Dk("VQ]3LNRN<G")]();
if(c&&!i3.T9()&&d>U&&T){var e=X.zR[X.En("}$z{2*35")][X.En("y'|!")],N=X.Dk("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
N+="\n\n"+X.Dk("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-d+120)+X.Dk("nYRTXTBMd");
if(e.indexOf(X.En("\"|'/-1)(W0?@"))==-1)N=go.get([0,11+6,3+2]);X.zR._cwY(N);return!1}return!0};i0.prototype._h=function(x){var R=this.oX,T=[hc.fq,hc.p2,hc.fo,hc.xO,hc.n6,hc.my,hc.dl,hc.vm,hc.v,hc.ON,hc.R6],c=[R.UK,R.sx,R.J7,R.oK,R.hP,R.e_,R.YC,R.abf,R.UU,R.yb,R.awC];
return c[T.indexOf(x)]};i0.prototype.a5i=function(){var x=this.alf(),R=this.cC();if(R==null||R.g.length==0)return;
var T=R.R[R.g[0]],c=new aA(v.E.v);if(x==1){c.f=D.OZ;c.data={d:"remove",hK:"Cut Paths"}}else{c=new aA(v.E._M);
c.data={Sm:"delete"}}this.c(c)};i0.prototype.alf=function(x,R,T){if(x==null)x=!1;var c=this.oX;console.log("doCopy",x,R);
var g=this.cC();if(c.lf==D.kY&&this.NV().Vd()){var d=new aA(v.E.v,!0);d.f=D.kY;d.data={d:"copyText"};
this.c(d);return}if(g==null||g.g.length==0)return;var U=g.R[R==null?g.g[0]:R],e=g.JR(),N=e[0],l=e[1],J=N[l[0]];
if(!x&&J!=null&&J.add.vmsk.g.length!=0){var w=D.h3.i9(J.add.vmsk,J.add.vogk);if(X.Jm()){w[0]=bD.afu(w[0]);
var o="vcb;"+JSON.stringify(w);hG.wZ(new Blob([o],{type:"text/plain"}))}else c.zq=w;return 1}else if(g.u==null){if(X.Jm()){var o="lrs;"+this.JQ.indexOf(g)+";"+JSON.stringify(g.g);
hG.wZ(new Blob([o],{type:"text/plain"}))}}else{var V,a;if(x){var O=new aP(0,0,g.m,g.e);a=O.yx(g.u.rect);
V=u.B(a.Z()*4);u.yU(g.Yr(),O,V,a);u.AD(g.u.channel,g.u.rect,V,a)}else if(g.nE.length!=0){a=g.u.rect.clone();
V=u.B(a.Z()*4);var S=g.Hp[g.nE[0]],L=S.qC(a);u.Oj(L,V);u.rN(g.u.channel,V,3)}else{var Q=U.Gx(g,g.u);
if(Q==null){alert("Copied area is empty");return}V=Q.Ik;a=Q.rect}var b=g.Q.U,Z=b[0]+b[1]+b[2];if(Z==1){var I=b.indexOf(1);
for(var z=0;z<V.length;z+=4)V[z]=V[z+1]=V[z+2]=V[z+I]}var y=new cI(g.m,g.e);if(X.Jm()&&T!=!0){var r=dp.Ix("PNG").aAM(V.buffer,a.m,a.e);
hG.wZ(new Blob([new Uint8Array(r)],{type:"image/png"}));this.ak9={v4:a,Fu:y}}else c.V$={buffer:V,rect:a,Fu:y};
c.aeK=a.clone();c.zq=null}};i0.prototype.adI=function(x,R,T){if(R)this.azO=!0;console.log("doPaste");
var c=this.oX,g=c.V$,N;if(this.JQ.length==0){if(!x&&X.Jm()){hG.J$(this,null);return}if(g){var d=dp.oD("image.psd",[{data:g.buffer.buffer,d8:g.rect}]),U=new aA(v.E.P);
U.data={d:v.H.EO,V1:d};this.c(U)}return}var d=this.cC();if(c.lf==D.kY&&this.NV().Vd()){hG.J$(this,null);
return}var e=d.R[d.g.length==0?d.R.length-1:d.g[0]];if(c.zq){var l=d.JR(!0),J=l[0],w=l[1];N=J[w[0]]}var U=new aA(v.E.v,!0);
if(c.zq!=null&&N!=null){U.f=D.OZ;U.data={d:"append",hK:"Paste Paths",ayQ:c.zq}}else if(!x&&X.Jm()&&T!=!0){hG.J$(this,this.aA_.bind(this));
return}else{if(g==null)return;if(d.nD(!1)&&(d.Q.U.join("")!="111"||d.nE.length!=0||e.s4>0||e.rect.Y3())){U.f=D.fq;
U.data={d:"draw",ab5:!0,hK:[5,2]}}else{U.f=D.d_;U.data={d:F.p$,tV:this.azO};this.azO=!1}U.data.V$=g}this.c(U)};
i0.prototype.abC=function(){var x=this.oX.dA;if(x.az_())return;for(var z=0;z<this.JQ.length;z++){var R=this.JQ[z];
if(!cQ.fG(R,x,this))continue;if(R.cF)cQ.Fg(R,x,this);var T=R.add.lnk2;if(T)for(var c=0;c<T.length;c++){var g=T[c];
if(g.cF)D.ys.pR(R,g.E5,g.Zn[1],g.Zn[1],x)}if(R.asU)continue;R.asU=!0;if(R.Ly&&R.Ly.a8F)cb.bb(R.Ly.a8F,this);
this.pN();var d=new aA(v.E.v);d.f=D.d_;d.data={d:F.Zb};var U=new aA(v.E.P);U.data={d:v.H.Av,$k:dF.sK.akd};
U.data={d:v.H.i$,$k:"locstor",iw:5,index:[10,0]}}};i0.prototype.Op=function(x){this.akC();var R=this.oX,T=R.lf,U=!1;
if(x==hc.nI){if(this.q.map[T].vA)this.q.map[T].vA.L4(R,x)}else for(var c in this.q.map)if(this.q.map[c].vA)this.q.map[c].vA.L4(R,x);
if(x==hc.OH){if(T!=D.kY)this.q.map[D.kY].f.L4(R,x);this.abC()}this.$E.L4(R,x);this.ow.L4(R,x);this.W0.L4(R,x);
if(b5==1&&(x==hc.GD||x==hc.Jt))this.q.map[D.jv].f.L4(R,x);else this.NV().L4(R,x);this.TW.L4(R,x);this.cY.L4(R,x);
if(x==hc.Pk||x==hc.cp){ah.afb(R.GA);this.update(!0)}var g=R.iT,d=g.Ba.Font;if(x==hc.q3&&d!=null&&g.uY[d].Name!=R.font){R.font=g.uY[d].Name;
U=!0}if([hc.Pv,hc.ce,hc.V4,hc.Js,hc.yt,hc.nx,hc.WP,hc.MN,hc.d3,hc.lp,hc.$g,hc.IZ,hc.$v,hc.iC,hc.Pk].indexOf(x)!=-1||U)this.auE()};
i0.prototype.auE=function(){if(!this.Gz)return;var x={},R=this.q.map;for(var T in R){var c=R[T].f;if(c.bL&&c.bL()!=null)x["t"+T]=c.bL()}var g=this.oX,d=g.j3,e={guides:d.CR,grid:d.Fw,sels:d.js,paths:d.OQ,pgrid:d.Ch,slices:d.co,gsize:parseFloat(d.xD.toFixed(2)),gunits:d.GL,gtype:d.DX,runits:d.Zg};
if(d.$T!=8421504)e.gcol=d.$T;if(d.TM!=65535)e.gucol=d.TM;var N={fcolor:g.gR,bcolor:g.tn,rulers:g.Tg,extras:g.St,favFam:g.NU,rsrc:g.cs,panels:g.Pr,eparams:e,lang:go.r0(),theme:g.GA,as:g.Om,co:g.SL,topt:x};
if(g.font!=null)N.font=g.font;var l=i3.ig();if(l==null)l={};l.globals=N;i3.k6(l)};i0.prototype.rg=function(x){var R=this.cE,T=this.Hj,c=this.oX.lf,g=this.q.map[c].f,d=null,U=!1;
for(var z=0;z<this.q.ae0.length;z++){var e=this.q.ae0[z],N=!0;for(var l=0;l<e.sZ.length;l++){var J=e.sZ[l];
if(!R.S(J))N=!1}if(N&&(!e.WV||!g.Vd())&&(e.q6==null||e.q6.indexOf(c)!=-1)){d=e.f;U=e.WV;break}}if((!T.Kk||c==D.ZY||x)&&this.q.tU!=d&&(d!=c||!U)){var w=this.cC();
if(this.q.tU!=null&&d==null)this.NV().disable(w,this,this.oX,R,!0);this.q.tU=d;this.NV().enable(w,this,this.oX,R,d!=null&&d!=c)}};
i0.prototype.lB=function(x){var R=this.oX.lf,T=this.cC();if(R!=null){this.q.map[R].f.disable(T,this,this.oX,this.cE)}};
i0.prototype.a7i=function(x){if(x.vA==null){x.vA=new x.n3(x.f.id);x.vA.acA(x.f.id,x.f.az);x.vA.L4(this.oX,hc.cp);
x.vA.t()}};i0.prototype.Kc=function(x,R){if(x==D.lU&&this.W0.nX())return;var T=this.cC(),c=this.oX;if(this.q.map[x].f.Fx(T,c)){this.lB();
if(x!=c.lf)this.q.WA=c.lf?c.lf:D.BA;c.lf=x;this.ow.Kc(c.lf);var g=this.q.map[x];this.q.ZP[g.GQ]=g.a4N;
this.a7i(g);this.Mb.acW(g.vA);var d=g.f;d.enable(T,this,this.oX,this.cE,!1,R);if(T)T.kn=!0;this.mE();
this.Y$.ajD()}};i0.prototype.NV=function(x){var R=this.q,T=R.bv,c=R.tU,g=this.oX.lf;if(T)g=T;else if(c&&x==null)g=c;
return R.map[g].f};i0.prototype.acR=function(x){var R=this.oX,T=this.JQ.indexOf(x);if(T!=-1){this.$E.a2(T);
return}if(this.Gg&&(x.Ly==null||x.Ly.qJ==null)){x.Ly={qJ:this.Gg}}if(x.km==null){x.km="local,"+this.agB+","+x.name;
this.agB++}x.Z$=Date.now();if(b5==1&&x.add.arts==null)x.a65();if(gi.Qr()!=0&&!this.apA&&X.zR[X.En("t$&!'31")].toString().indexOf(X.En(" u,$4&"))==-1){alert(X.En("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var z=0;z<x.R.length;z++){var c=x.R[z];if(c.add.SoLd!=null){var g=Date.now()}}var d=x.R[x.g[0]],U=x.R[x.g[0]+1],e=x.R.length,N=fl.el(),l=Math.PI*(5465<<14)+(X.M$(31)?20:10)*7e7;
if(N>l){var e=x.R.length;x.R=[];return e}if(fq.tc){fq.RF(Math.max(x.m,x.e));for(var z=0;z<x.R.length;
z++){var c=x.R[z];if(c.iZ())fq.RF(Math.max(c.rect.m,c.rect.e))}}x.Cg();x.Jp();if(x.aBM)x.atL();else x.W();
x.aBM=!1;this.JQ.push(x);this.$E.bP(new jX(x));x.kn=!0;x.Sa=!0;this.abC();var J=new aA(v.E.v);J.f=D.JG;
J.data={d:"auto",kq:2}};i0.prototype.cC=function(){return this.JQ[this.D_]};i0.prototype.ark=function(){return this.W0.nX()==null};
i0.prototype.DU=function(x,R){this.lB();var T=this.JQ.length;if(R!=null)this.$E.a2((this.$E.Z2()+R+T)%T);
this.D_=this.$E.Z2();var c=this.cC();this.cY.a1c(c,this.oX);this.TW.Bq(c,this.JQ,this.oX);this.mE();
if(c)c.kn=!0};i0.prototype.aub=function(x){this.lB();var R=this.JQ,T=R[x.data.dC];R.splice(x.data.dC,1);
if(R.length==0){this.DU(x);var c=fq._e(),g=jX.mC.D0;if(c.parentNode)c.parentNode.removeChild(c);if(g.parentNode)g.parentNode.removeChild(g)}this.a4I(T.name)};
i0.prototype.a4I=function(x){var R=this.oX.k3,T=!1;if(R.pu==null)return;for(var c in R.bw){if(x==null||c==x){delete R.bw[c];
T=!0}}if(T){var g=new aA(v.E.P);g.data={d:v.H.pV,vr:hc.Ii,aur:!0};this.c(g)}};i0.prototype.auf=function(x){var R=[],T=x.data.ar2;
for(var z=0;z<T.length;z++)R[z]=this.JQ[T[z]];this.JQ=R;this.D_=this.$E.Z2()};i0.prototype.ap0=function(x){var R=this.$E,T=R.afJ(),c=this.NV(),g=this.cC();
if(T==R.Z2()||!c.aeR())return;this.a0a(T,c)};i0.prototype.a0a=function(x,R){console.log("dup2doc");var T=this.oX,c=this.$E,g=this.cC(),d=this.JQ[x],U,e=new aA(v.E.v,!0);
e.f=D.d_;if(g.u==null){e.data={d:F.Sx,R:g.c7(null,!0),O$:g,tj:d};this.c(e)}else U=g.R[g.g[0]].Gx(g,g.u);
var N=this.Hj,l=T.Tg;T.Tg=!1;N=g.Q.nU(N.x,N.y);if(R)R.it(g,this,T,this.cE);c.a2(x);if(g.u){e.data={d:F.p$,V$:{buffer:U.Ik,rect:U.rect}};
this.c(e)}N=d.Q.YP(N.x,N.y);if(R)R.fz(d,this,T,this.cE,N);T.Tg=l};i0.prototype.awv=function(x){var R=this.cC(),T=this.cE,c=this.oX,g=x.WJ;
if(g)this.Hj=g;if(g)g.y-=c.SL;if(this.bl==null)this.bl=0;if(x.action=="multidown"){this.Be=x.u8.length;
this.bl=Date.now()}if(x.action=="up"&&Date.now()-this.bl<100){var d=new aA(v.E.v);d.f=D.hG;d.data={d:this.Be==2?"h_stepbck":"h_stepfwd"};
this.c(d)}if(x.action.startsWith("multi")){var U=new aA(v.E.v,!0);U.data={d:x.action,u8:x.u8};U.f=D.p3;
this.c(U);return}var e=this.q.map[D.BA].f;if((x.action=="down"||x.action=="rdown")&&c.lf!=D.BA&&this.q.tU!=D.BA&&e.aiF(R,this,c,T,g)){this.q.bv=D.BA;
e.enable(R,this,c,T,!0)}if(x.action=="idown"){T.mp("Space");this.rg(!0);x.action="down"}var N=this.W0.nX(),l=N!=null&&N.vi()&&this.q.tU==null?N:this.NV();
if(x.action=="scroll"){var J=!T.S(fZ.Gc)&&x.Rg,U=new aA(v.E.v,!0);U.data={d:"scroll",Ox:x.Ox.clone(),WJ:g,a6w:J};
U.f=T.S(fZ.ng)||J?D.p3:D.jw;this.c(U)}if(N!=null&&l!=N&&this.W0.Vd()&&l.id!=D.jw&&l.id!=D.p3)return;
if(x.action=="down")l.fz(R,this,c,T,g);if(x.action=="rdown")l.zL(R,this,c,T,g);if(x.action=="move")l.gQ(R,this,c,T,g);
if(x.action=="up"||x.action=="iup"||x.action=="cancellast")l.rR(R,this,c,T,g,x.action=="cancellast");
if(x.action=="rup")l.A4(R,this,c,T,g);if(x.action=="iup"){T.hQ("Space");this.rg(!0)}if(x.action=="cancellast"){if(R&&R.history.length!=0&&Date.now()-R.history[R.history.length-1].ag_<200){var d=new aA(v.E.v);
d.f=D.hG;d.data={d:"h_stepbck"};this.c(d)}}var w=this.TW;if(x.action=="down")w.fz(R,this,c,T,g);if(x.action=="move")w.gQ(R,this,c,T,g);
if(x.action=="up")w.rR(R,this,c,T,g);if(x.action=="down"||x.action=="up"){this.rg()}if(x.action=="down"||x.action=="up"||x.action=="ctx"){R.kn=!0}if((x.action=="up"||x.action=="rup")&&this.q.bv){this.q.bv=null;
e.disable(R,this,c,T)}};i0.prototype.PH=function(x){var R=this.cC(),T=this.Hj;if(R&&this.NV().zc(T,this.cE)){var c=R.Q,g=c.dz.m,d=c.dz.e,U=0,e=0,N=16;
if(T.x<N)U=N-T.x;if(T.x>g-N)U=T.x-(g-N);if(T.y<N)e=N-T.y;if(T.y>d-N)e=T.y-(d-N);var l=this.cE.S(fZ.xg)?8:1;
if((U!=0||e!=0)&&(R.m*c.O>g||R.e*c.O>d)){U=Math.min(5,U*.5)*l;e=Math.min(5,e*.5)*l;if(T.x>N)U=-U;if(T.y>N)e=-e;
c.w.x+=U;c.w.y+=e;this.awv({WJ:this.Hj,action:"move"});R.Sg=!0}}this.update()};i0.prototype.update=function(x){var R=this.cC();
if(R==null)return;if(b5!=0){if(R.buffer)throw"e"}if(R.kn){var T=this.q.map;for(var c in T){if(T[c].f.Lm)T[c].f.Lm(R,this,this.oX,this.cE)}if(b5==1){T[D.jv].f.Lm(R,this,this.oX,this.cE,!0)}}if(R.uW&&b5==0)if(fq.tc)fq.RF(Math.max(R.m,R.e));
if(R.uW&&b5==0){R.jB()}var g=R.Q,d=this.rB,U=this.rB=Date.now();if(R.uW||R.yL||R.Sa||R.Sg||x||g.ef!=g.O||!g.AJ.X$(g.w)){var e=g.ef;
if(g.ef!=g.O){var N=D.m6.a1I(g.O,g.ef>g.O),l=.12;if(g.ef<g.O&&g.ef<N)g.ef=N;if(g.ef>g.O&&g.ef>N)g.ef=N;
var J=Math.abs(g.O-N)*(U-d)*.001/l;if(g.ef<g.O)g.ef=Math.min(g.O,g.ef+J);else g.ef=Math.max(g.O,g.ef-J)}var w=e==g.O?0:(g.ef-g.O)/(e-g.O);
g.AJ.x=g.w.x+w*(g.AJ.x-g.w.x);g.AJ.y=g.w.y+w*(g.AJ.y-g.w.y);this.$E.L4(this.oX,null);this.$E.Bq(R,this.JQ)}if((R.uW||R.Sg||R.kn)&&(!this.Hj.Kk||R.ta)){if(R.kn)R.Jp();
this.TW.Bq(R,this.JQ,this.oX);this.ow.a6p(R,this.cE);R.OW=!1}R.ta=!1;R.kn=!1;R.uW=null;R.yL=R.Sa=R.Sg=!1};
i0.prototype.XH=function(x){var R=x.target.tagName.toLowerCase(),T=x.target.getAttribute("type"),c=fZ,g=c.mf(x.code,c.AQ);
if(!((R=="input"||R=="select"||R=="button")&&c.mf(x.code,c.Vv))){if(c.$w(x)&&R!="select"){x.preventDefault()}this.cE.mp(c.dU(x));
this.Rw("down")}};i0.prototype.z7=function(x){if(x.key==" ")this.cE.ox();if(fZ.mf(x.code,fZ._j))this.cE.reset();
this.cE.hQ(fZ.dU(x));var R=x.target.tagName.toLowerCase();if(fZ.$w(x)&&R!="select"){x.preventDefault()}this.Rw("up")};
i0.prototype.Rw=function(x){var R=this.cE,T=this.cC(),c=T!=null&&T.g.length!=0;if(this.xL.nX()!=null){if(R.S(fZ.jK)||R.S(fZ.AQ)){this.xL.aav()}return}this.rg();
var g=this.aJ(fZ.Gc),d=R.S(fZ.ng),U=R.S(fZ.xg);if(g&&R.S(fZ.Y6)&&x=="down"){var e=new aA(v.E.v),N=new aA(v.E.P);
e.f=D.hG;if(U){e.data={d:"h_stepfwd"}}else{e.data={d:"h_stepbck"}}if(this.W0.nX()!=null&&this.W0.nX().Vd()){}else this.c(e)}if(g){var e=new aA(v.E.v),l=new aA(v.E._M),N=new aA(v.E.P);
if(R.S(fZ.Nk)&&R.S(fZ.Vi)){N.data={d:v.H.i$,$k:"storwindow"};this.c(N)}if(!d&&x=="down")for(var J in hD.keys){var w=hD.keys[J],s=!0;
for(var z=0;z<w.length;z++)if(!R.S(w[z]))s=!1;if(s){e.f=D.JG;if(J=="hue2"&&U&&T.R[T.g[0]].add.SoLd==null)e.data={d:"auto",kq:3};
else e.data={d:"start",m$:J}}}if(R.S(fZ.H)){l.data=D.Fs.Vc(!0)}if(R.S(fZ.Fa)){if(d)N.data={d:v.H.i$,$k:"csize"};
else if(T)N.data={d:v.H.Vx,zS:U}}if(R.S(fZ.uX)){l.data=D.Fs.Vc()}if(R.S(fZ.E)&&x=="down"){if(U)l.data={Sm:"mergeVisible"};
else l.data={Sm:"mergeLayersNew",M1:{__name:"Merge Layers",classID:"Mrg2"}}}if(R.S(fZ.JP)){if(U&&this.oX.lf!=D.lU)N.data={d:v.H.i$,$k:"afw_fade"};
else if(d){e.f=D.zW;e.data={d:"applylast"}}else N.data={d:v.H.tZ}}if(R.S(fZ.D5)){if(d&&T&&T.N7(T.g[0])){e.f=D.d_;
e.data={d:F.q8}}else{e.f=D.d_;e.data={d:F.NA,N2:U}}}if(R.S(fZ.$L)){N.data={d:v.H.pV,vr:hc.nx}}if(R.S(fZ.Nk)){if(U){e.data=null;
if(d)N.data={d:v.H.i$,$k:"finfo"};else l.data={Sm:"inverse"}}else if(d)N.data={d:v.H.i$,$k:"isize"}}if(R.S(fZ._t)){l.data={Sm:(U?"cut":"copy")+"ToLayer"}}if(R.S(fZ.kw)){N.data={d:v.H.i$,$k:"preferences"}}if(R.S(fZ.BL)){if(U){e.f=D.d_;
e.data={d:F.uU}}else if(x=="down")N.data={d:v.H.i$,$k:"newproject"}}if(R.S(fZ.hw)){if(d)N.data={d:v.H.i$,$k:"storwindow",or:0};
else{N.data={d:v.H.au};R.reset()}}if(R.S(fZ.bN)){N.data={d:v.H.akZ};R.reset()}if(R.S(fZ.sK)){N.data={d:v.H.pV,vr:hc.yt}}if(R.S(fZ.wA)&&x=="down"){if(U){if(d)N.data={d:v.H.i$,$k:"saveforweb"};
else N.data={d:v.H.Lo}}else N.data={d:v.H._S}}if(R.S(fZ.um)){if(U){e.f=D.d_;e.data={d:F.S5};this.c(e);
e.f=D.lU;e.data={d:"again"}}else N.data={d:v.H.di,f:D.lU}}if(R.S(fZ.Af)){N.data={d:v.H.LK}}if(R.S(fZ.br)){this.$E.Vs()}if(R.S(fZ.DB)&&T&&T.Va()){N.data={d:v.H.Uf}}if(R.S(fZ.qO)||R.S(fZ.fn)){e.f=D.d_;
e.data={d:F.$O,J2:0};if(R.S(fZ.qO))e.data.J2=U?3:2;else e.data.J2=U?0:1}if(R.S(fZ.rs)&&T){e.f=D.d_;e.data={d:F.P1}}if(R.S(fZ.AQ)&&T){var o=0;
if(U)o++;if(d)o+=2;e.f=D.a$;e.data={d:"frompath",v2:[null,0,o]}}if(R.S(fZ.gr)){l.data=D._x.HY(0)}if(R.S(fZ.Vv)){var V=this.JQ.length,a=R.S(fZ.xg)?-1:1;
if(V>1)this.$E.a2((this.$E.Z2()+V+a)%V)}if(R.S(fZ.YV)){N.data={d:v.H.pV,vr:hc.MN}}if(R.S(fZ.Ej)){N.data={d:v.H.pV,vr:hc.d3}}D.m6.a36(R,e);
if(this.W0.nX()!=null&&this.W0.nX().Vd()){}else{if(e.data)this.c(e);if(l.data)this.c(l);if(N.data)this.c(N)}}if(!g&&d){var O;
if(R.S(fZ.qO))O="Bckw";if(R.S(fZ.fn))O="Frwr";if(R.S(fZ.rs))O="Back";if(R.S(fZ.gr))O="Frnt";if(O){var l=new aA(v.E._M);
l.data={Sm:"select",M1:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:O}}]},MkVs:{t:"bool",v:!1}}};
this.c(l)}}if(T&&T.g.length!=0){var S=T.R[T.g[0]],L=S.s4;if(L==1||L==3||g){var e=new aA(v.E.v),Q=L==3?S.Ct(T).F:S.le();
if(Q){var b=Q.PW?T.Q.U.join("")=="111"?1:2:0;e.f=D.p3;if(Q&&R.S(fZ.jK)&&b!=0){e.data={d:"mskView",b:0}}if(Q&&R.S(fZ.abU)){e.data={d:"mskView",b:b==1?0:1}}if(Q&&R.S(fZ.anT)){e.data={d:"mskView",b:b==2?0:2}}if(e.data)this.c(e)}}}var Z=R.Ne();
if(T&&g&&2<=Z&&Z<=5){var I=[1,1,1];if(Z>2){I=[0,0,0];I[Z-3]=1}var y=new aA(v.E.v,!0);y.f=D.jw;y.data={d:"setcls",U:I};
this.c(y)}if(!R.S(fZ.Gc)&&!d&&x=="down"){var e=new aA(v.E.v),N=new aA(v.E.P),r=this.q.map[this.oX.lf],h=-1;
for(var z=0;z<this.q.keys.length;z++)if(this.q.keys[z]&&this.aJ(this.q.keys[z]))h=z;if(h!=-1){var k=null;
if(r.GQ!=h)k=this.q.ZP[h];if(r.GQ==h&&U)k=(r.a4N+1)%this.q.ul[h].length;if(k!=null){var K=this.q.ul[h][k].f.id,H=this.oX.jg;
if((H==null||H.indexOf(parseInt(K))!=-1)&&!this.Hj.Kk)N.data={d:v.H.di,f:K}}}if(R.S(fZ.$L))N.data={d:v.H.di,f:D.jw};
if(R.S(fZ.sK))N.data={d:v.H.di,f:D.Cd};if(R.S(fZ.DB))N.data={d:v.H.pV,vr:hc.Js,J2:2};if(R.S(fZ.uX))N.data={d:v.H.pV,vr:hc.Js,J2:3};
if(N.data)this.c(N);if(R.S(fZ.aql)&&T&&T.g.length==1){var S=T.R[T.g[0]];e.f=D.d_;var p=S.ad(0)||S.ad(1)||S.ad(2)||S.ad(31);
e.data={d:F.FB,SN:p?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.c(e)}var Z=R.Ne();if(c&&Z!=-1&&this.aJ(fZ.E9[Z])){var f=T.g[0],S=T.R[f],A=fZ.wd(Math.round(100*S.opacity/255),Z);
e.f=D.d_;e.data={d:F.sN,SN:Math.round(255*A/100)};this.c(e)}var _=this.oX.Gb;if(R.S(fZ.Vv)){N.data={d:v.H.gZ,b:_==0?1:0};
this.c(N)}if(R.S(fZ.JP)||R.S(fZ.jK)&&_==2){var W=document.fullscreenElement!=null==(_==2);N.data={d:v.H.gZ,b:_==0?2:0,lk:W};
this.c(N)}if(R.S(fZ.al)&&!this.Hj.Kk){e.f=D.a$;e.data={d:"qmask"};this.c(e)}}if(!R.S(fZ.Gc)&&!d&&U){var e=new aA(v.E.v),N=new aA(v.E.P);
if(R.S(fZ.rs))N.data={d:v.H.i$,$k:"shortcuts"};if(R.S(fZ.WO))N.data={d:v.H.i$,$k:"fill"};if(R.S(fZ.adS))N.data={d:v.H.i$,$k:"sel_feather"};
if(c&&(R.S(fZ.bW)||R.S(fZ.d2))){var f=T.g[0],S=T.R[f],Y=c_.h$,G=Y.length,i=Y.indexOf(S.mh);e.f=D.d_;
e.data={d:F.B0,SN:(i+G+(R.S(fZ.bW)?1:-1))%G};this.c(e)}if(N.data)this.c(N)}var e=new aA(v.E.v),E=x=="down"&&(this.aJ(fZ.U5)||this.aJ(fZ.ve));
if((g||d)&&E){e=new aA(v.E._M);e.data=D.AN.z9(g?"BckC":"FrgC");this.c(e)}else if(this.W0.nX()==null&&T&&E&&!this.Hj.Kk){if(T.u!=null){e=new aA(v.E._M);
e.data={Sm:"delete"}}else if(T.g.length!=0){var S=T.R[T.g[0]];if(S.s4==1)e.data={d:F.UQ};else if(S.s4==3)e.data={d:F.TO};
else e.data={d:F.X2};e.f=D.d_}this.c(e)}if(this.W0.nX()!=null){if(R.S(fZ.jK)){this.W0.nX().awb()}else{this.W0.nX().Rw(T,this,this.oX,R)}}if(this.oX.lf==null)return;
var r=this.NV();if(this.W0.nX()==null||this.q.tU)r.Rw(T,this,this.oX,R)};i0.prototype.aJ=function(x){var R=this.cE,T=this.q.map[this.oX.lf].f,top=this.W0.nX(),c=this.cC();
return R.S(x)&&!T.WX(x,c)&&(top==null||!top.WX(x,c))};i0.prototype.mz=function(x){var R=this.asd,T=this._z;
this.oX.Gb=x;var c=X._b,g=this.cY.n;if(c(g))this.z_.removeChild(g);var d=this.Mb.n;if(c(d))this.z_.removeChild(d);
var U=this.ow.n;if(c(U))R.removeChild(U);var e=this.$E.n;if(c(e))R.removeChild(e);var N=this.TW.n;if(c(N))R.removeChild(N);
if(x==0){this.z_.appendChild(g);this.z_.appendChild(d);T.appendChild(R);R.appendChild(U);R.appendChild(e);
R.appendChild(N)}if(x==1){this.z_.appendChild(g);R.appendChild(e)}if(x==2){R.appendChild(e)}this.$E.mz(x==2?1:0);
this.mE()};i0.prototype.afr=function(x){if(this.CU())return 1;if(X.a4Q()==0){this.oX={};this.s7=function(R,T){return Math.sqrt(R*T)}}return-1};
i0.az9=function(){var x=b5==0?[[{f:new D.K$,n3:cO},{f:new D.Ge,n3:be}],[{f:new D.vH,n3:hf,fd:0},{f:new D.jC,n3:ez,fd:0}],[{f:new D.qf,n3:kl,fd:0},{f:new D.qm,n3:fy,fd:0},{f:new D.W9,n3:iy,fd:0}],[{f:new D.gM,n3:iv,fd:0},{f:new D.x1,n3:hA,fd:0},{f:new D.rn,n3:jg,fd:0}],[{f:new D.afM,n3:dX},{f:new D.awd,n3:ds},{f:new D.D3,n3:aN,fd:0},{f:new D.sD,n3:ek,fd:0}],[{f:new D.Yf,n3:ia},{f:new D.kT,n3:gT,fd:0},{f:new D.AF,n3:hr}],[{f:new D.XM,n3:dy,fd:0},{f:new D.LL,n3:iD,fd:0},{f:new D.Ts,n3:fo,fd:0},{f:new D.a8E,n3:kq,fd:0},{f:new D.qX,n3:f6,fd:0}],[{f:new D.AZ,n3:ch,fd:0},{f:new D.Q5,n3:ca,fd:0},{f:new D.CB,n3:aE,fd:0}],[{f:new D.Cm,n3:jH,fd:0}],[{f:new D.tb,n3:hm,fd:0},{f:new D.bG,n3:iG,fd:0},{f:new D.eh(!0),n3:fT,fd:0}],[{f:new D.Xg,n3:kw,fd:0},{f:new D.eh,n3:fT,fd:0}],[{f:new D.vL,n3:ey,fd:0},{f:new D.Yv,n3:ju,fd:0},{f:new D.p5,n3:hb,fd:0}],[{f:new D.rZ,n3:jG,fd:0},{f:new D.Qy,n3:iS,fd:0},{f:new D._Y,n3:ao,fd:0}],[{f:new D.nq,n3:dN},{f:new D.zv,n3:dN}],[{f:new D.nQ(0),n3:jY},{f:new D.R0,n3:bt},{f:new D.nQ(1),n3:jY}],[{f:new D.cj,n3:ai},{f:new D.FH,n3:dK}],[{f:new D.Rect,n3:a0},{f:new D.mR,n3:gp},{f:new D.su,n3:gW},{f:new D.ER,n3:g_},{f:new D.Jb,n3:ja}],[{f:new D.G7,n3:ex},{f:new D.QX,n3:jV}],[{f:new D.m6,n3:cF}]]:[[{f:new D.K$,n3:cO}],[{f:new D.FH,n3:dK}],[{f:new D.nQ(0),n3:jY}],[{f:new D.R0,n3:bt}],[{f:new D.nq,n3:dN},{f:new D.zv,n3:dN}],[{f:new D.su,n3:gW}],[{f:new D.Rect,n3:a0},{f:new D.mR,n3:gp},{f:new D.ER,n3:g_},{f:new D.Jb,n3:ja}],[{f:new D.avS,n3:ex}],[{f:new D.G7,n3:ex},{f:new D.QX,n3:jV}],[{f:new D.m6,n3:cF}]],R=b5==0?[fZ.Af,fZ.l2,fZ.h8,fZ.br,fZ.Fa,fZ.Nk,fZ._t,fZ.C9,fZ.wA,fZ.E,fZ.D5,null,fZ.hw,fZ.um,fZ.bN,fZ.H,fZ.Vi,fZ.$L,fZ.Y6]:[fZ.Af,fZ.H,fZ.bN,null,fZ.um,null,fZ.l2,fZ.$L,fZ.Y6],T={ae0:[{f:D.p3,WV:!1,sZ:[fZ.a0J,fZ.Ed]},{f:D.jw,WV:!1,sZ:[fZ.Ed]},{f:D.T4,WV:!0,sZ:[fZ.Gc],q6:[D.xh]},{f:D.xh,WV:!0,sZ:[fZ.Gc],q6:[D.T4]},{f:D._R,WV:!0,sZ:[fZ.Gc],q6:[D.OZ,D.jv,D.bJ]},{f:D.OZ,WV:!0,sZ:[fZ.Gc],q6:[D._R,D.HA,D.Ca,D.Kv,D.$z,D.ev]},{f:D.BA,WV:!0,sZ:[fZ.Gc]}],ul:x,ZP:[],keys:R,fa:[{f:new D.atb,n3:bA},{f:new D.a3a,n3:h7},{f:new D.ahN,n3:cx},{f:new D.Yf(!0),n3:ia},{f:new D.PT,n3:hs}],wr:[{f:new D.ys},{f:new D.History},{f:new D.E1},{f:new D.we},{f:new D.MK},{f:new D.W3}],map:{},WA:null,tU:null,bv:null},c=T.ul,U="",e="";
for(var z=0;z<c.length;z++){var g=c[z];if(gi=="---")continue;for(var d=0;d<g.length;d++)if(g[d].fd!=null&&g[d].fd!=b5){g.splice(d,1);
d--}if(g.length==0){c.splice(z,1);T.keys.splice(z,1);z--}}for(var z=0;z<T.ul.length;z++){var N=T.ul[z];
if(N=="---")continue;var l=T.keys[z];for(var d=0;d<N.length;d++){T.map[N[d].f.id]=N[d];N[d].GQ=z;N[d].a4N=d;
var J=go.get(N[d].f.name);e+="<li>"+N[d].f.id+": "+J+"</li>";U+="\t"+JSON.stringify(N[d].f.name)+", "+(l?"\""+l.LC+"\"":"null")+", "+N[d].f.id+", // "+J+"\n"}T.ZP[z]=0}for(var z=0;
z<T.fa.length;z++)T.map[T.fa[z].f.id]=T.fa[z];for(var z=0;z<T.wr.length;z++)T.map[T.wr[z].f.id]=T.wr[z];
return T};function ay(x){ky.call(this);if(x==null)return;this.KQ=null;this.kh=null;this.n=X._("div","sbar"+" "+x);
this.g7=new X._("div","top");this.g7.innerHTML="> <";this.n.appendChild(this.g7);this.UE=1;this.g7.addEventListener("click",this.abj.bind(this),!1)}ay.prototype=new ky;
ay.prototype.abj=function(x){if(this.KQ!=null&&this.KQ<500&&this.UE==0)return;if(this.UE==0)this.wU(!0);
else this.collapse(!0)};ay.prototype.an6=function(x){this.UE=x;this.g7.innerHTML=this.UE==0?"< >":"> <"};
ay.prototype.aAL=function(){var x=new aA(v.E.P,!0);x.data={d:v.H.jt};this.c(x)};ay.prototype.wU=function(x){this.an6(1);
if(x)this.aAL()};ay.prototype.collapse=function(x){this.an6(0);if(x)this.aAL()};ay.prototype.XG=function(){return this.UE==1};
function ij(x,R){ay.call(this,"vcolumn");this.pw=x;this.a6x=R;this.$U();this.B$=X._("div");this.B$.setAttribute("style","cursor:default;");
this.a2p=this.a97.bind(this);this.amC=this.a6j.bind(this);this.a4W=this.a0g.bind(this);X.Us(this.n,this.a2p);
this.n.appendChild(this.B$);this.$a=X._("div");this.B$.appendChild(this.$a);this.ZG=-1;this.arS=X._("div","float");
var T=this.gC=X._("canvas","gsicon"),c=Math.round(12*X.mM());T.width=T.height=c;var g=T.getContext("2d");
g.moveTo(2,2);g.lineTo(c-2,c-2);g.moveTo(2,7);g.lineTo(c-7,c-2);g.stroke();this.gC.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
X.Bd(this.gC);X.Us(this.gC,this.a2p);X.$I(T);this.r_=[];this.GK=[];this.auo=null;this._9=null;this.axC=0}ij.prototype=new ay;
ij.prototype.a97=function(x){var R=x.target==this.gC;if(!R){if(x.target!=this.n)return;if(!this.XG())return}else{var T=this.r_[this.ZG].zt;
T.style.pointerEvents="none";var c=T.getBoundingClientRect();this.auo=[c.width,c.height];this.GK[this.ZG]=[c.width,c.height]}x.stopPropagation();
this._9=X.il(x,document.body);this.axC=this.pw;X.ri(document,this.amC);X.Xc(document,this.a4W)};ij.prototype.a6j=function(x){var R=X.il(x,document.body);
if(this.XG()){this.pw=this.axC+this._9.x-R.x;this.$U()}else{var T=this.GK[this.ZG],c=this.auo;T[0]=c[0]+this._9.x-R.x;
T[1]=c[1]+R.y-this._9.y}var g=new aA(v.E.P,!0);g.data={d:v.H.jt};this.c(g)};ij.prototype.a0g=function(x){if(!this.XG()){var R=this.r_[this.ZG].zt;
R.style.pointerEvents="auto"}X.Nx(document,this.amC);X.YL(document,this.a4W)};ij.prototype.aeA=function(x){x.k("showFloat",this.aCl,this);
x.k("hideFloat",this.o9,this);this.r_.push(x);x.parent=this;this.B$.appendChild(x.n)};ij.prototype.a4P=function(z){var x=this.r_[z];
x.removeEventListener("showFloat",this.aCl,this);x.removeEventListener("hideFloat",this.o9,this);this.r_.splice(z,1);
x.parent=null;this.B$.removeChild(x.n)};ij.prototype.a2Y=function(){return this.r_.length};ij.prototype.Yq=function(){for(var z=0;
z<this.r_.length;z++)this.r_[z].Yq()};ij.prototype.aCl=function(x){this.Yq();var R=this.arS;this.$a.appendChild(R);
this.ZG=this.r_.indexOf(x.currentTarget);var T=this.r_[this.ZG].zt;X.Ra(R);R.appendChild(T);R.appendChild(this.gC);
this.s7(this.KQ,this.kh)};ij.prototype.o9=function(x){this.Yq();if(this.ZG!=-1){this.$a.removeChild(this.arS);
this.ZG=-1}};ij.prototype.$U=function(){function x(R){return Math.round(R*X.mM())/X.mM()}this.n.setAttribute("style","width: "+this.pw+"px; border-left-width:"+x(4)+"px; cursor:ew-resize;")};
ij.prototype.wU=function(x){this.$U();this.o9();for(var z=0;z<this.r_.length;z++)this.r_[z].wU();ay.prototype.wU.call(this,x)};
ij.prototype.collapse=function(x){this.n.removeAttribute("style");for(var z=0;z<this.r_.length;z++)this.r_[z].collapse();
ay.prototype.collapse.call(this,x)};ij.a6d=11;ij.prototype.s7=function(x,R){this.KQ=x;this.kh=R;R-=ij.a6d;
var T=this.r_.length;if(T==0)return;if(!this.XG()){var c=R<400?R:400+(R-400)*.5;for(var z=0;z<T;z++){var g=this.r_[z],d=this.GK[z];
g.s7(d?d[0]:this.pw,d?d[1]:c)}}else{var U=R;for(var z=0;z<T;z++){var g=this.r_[z],e=g.acr();if(z==T-1){e=U;
g.n.style.borderBottom="none"}g.s7(this.pw,e);U-=e+4}}};function gG(x){ky.call(this);this.n=X._("div");
this.B$=null;this.Aa=0;this.Yh=0;this.aoz=x;this.an$=this.LV.bind(this);this.adg=this.Dg.bind(this);
this.au0=this.ho.bind(this);this.f$=null;this.Km=null;this.NI=null;X.Us(this.n,this.an$);var R=this.n,g="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
R.addEventListener("touchmove",X.ME,!1);this.aAF=!0;this.ra=[];var c=this.axd=X._("div");c.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.n.appendChild(c);var d=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",g+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",g+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",g+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var z=0;z<d.length;z++){var U=new i_(d[z]);this.ra.push(U);U.n.setAttribute("style","margin-left:"+(z<7?4:0)+"px;cursor:pointer;");
U.k("click",this.hM,this)}}gG.prototype=new ky;gG.prototype.t=function(){var x=this.axd;X.Ra(x);for(var z=0;
z<this.ra.length;z++){var R=this.ra[z];if(z<5)R.t();x.appendChild(R.n)}};gG.prototype.hM=function(x){var z=this.ra.indexOf(x.currentTarget);
if(z==0){if(window.showCap)window.showCap();return}var R=" issues learn blog api twitter facebook".split(" "),T=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),c=window.ga;
if(c)c("send","event","Links",R[z]);var g=new aA(v.E.P,!0);g.data={d:v.H.ub,link:T[z]};this.c(g)};gG.prototype.LV=function(x){if(x.auC){x.preventDefault();
x.stopPropagation()}var R=window;X.ri(R,this.adg);X.Xc(R,this.au0);R=this.B$;this.f$=new cI(parseInt(R.style.left),parseInt(R.style.top));
this.Km=X.il(x,this.n);this.NI=R.getBoundingClientRect()};gG.prototype.Dg=function(x){var R=X.il(x,this.n),T=this.f$.x+R.x-this.Km.x,c=this.f$.y+R.y-this.Km.y,g=this.Aa-this.NI.width,d=this.Yh-this.NI.height;
if(this.aoz)this.B$.style.left=Math.min(0,Math.max(g,T))+"px";else this.B$.style.top=Math.min(0,Math.max(d,c))+"px";
if(T-10>0){this.Km.x=R.x-10;this.f$.x=0}if(T+10<g){this.Km.x=R.x+10;this.f$.x=g}};gG.prototype.ho=function(x){var R=window;
X.Nx(R,this.adg);X.YL(R,this.au0)};gG.prototype.a6U=function(x){if(this.B$){this.n.removeChild(this.B$)}this.B$=x;
this.n.appendChild(x);x.style.position="absolute";if(this.aoz)x.style.left=0;else x.style.top=0};gG.prototype.s7=function(x,R){this.Aa=x;
this.Yh=R;this.n.setAttribute("style","position:relative; width: "+x+"px; height: "+R+"px; overflow:hidden; white-space: nowrap; ");
var T=this.B$.firstChild,c=this.axd,g=T?T.firstChild.getBoundingClientRect().width+80:1e9,d=170,U=this.aAF&&x>g+d;
c[fl.Dm][fl.a7Q]=U?"":fl.Vb;var e=this.ra;for(var z=0;z<e.length;z++){var N=z>4||x-g>500?"":fl.Vb,l=e[z];
l.n.style.display=N}};gG.prototype.ajD=function(){this.B$.style.left="0";this.B$.style.top="0"};function cy(){ky.call(this);
this.Dn=null;this.L8=cy.bN;this.aa3="";this.n=X._("div","rightbar");this.VN=[new ij(300),new ij(268,!0)];
this.r_=[new i$,new i$,new i$,new i$,new i$,new i$,new i$];this.apc=[]}cy.prototype=new ky;cy.prototype.t=function(){var x=this.L8;
for(var z=0;z<x.length;z++)x[z].YR.t()};cy.bN=[{YR:new dd,wj:3},{YR:new j5,wj:1},{YR:new gq,wj:4},{YR:new cm,wj:2},{YR:new kz(!0),wj:5},{YR:new ci,wj:0},{YR:new eU,wj:5},{YR:new fL,wj:3},{YR:new jB,wj:0},{YR:new iX,wj:3},{YR:new hK,wj:2},{YR:new f_,wj:4},{YR:new hp,wj:3},{YR:new bX,wj:5},{YR:new kz(!1),wj:5},{YR:new cV,wj:2},{YR:new cJ,wj:3},{YR:new dR,wj:1},{YR:new iC,wj:0},{YR:new dc,wj:5},{YR:new a$,wj:6,I0:!0},{YR:new cL,wj:6,I0:!0},{YR:new bB,wj:6,I0:!0},{YR:new gh,wj:6,I0:!0}];
(function(){var x=[{id:dF.sK.a3t,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var z=0;z<x.length;z++)cy.bN.push({YR:new aT(x[z],100+z),wj:6,I0:!0})}());cy.prototype.a2B=function(x){for(var z=0;
z<x.length;z++){var R=x[z],T=new aT(R,"plg_"+R.name);this.L8.push({YR:T,wj:6});this.apc.push(T.BC)}this.a5()};
cy.prototype.L4=function(x,R){this.Dn=x;var T=this.L8;for(var z=0;z<T.length;z++)T[z].YR.L4(x,R);if(R==hc.Pv||R==hc.cp)this.a5()};
cy.prototype.Ag=function(x){var R=this.L8;for(var z=0;z<R.length;z++)R[z].YR.Ag(x)};cy.prototype.s7=function(x,R){this.KQ=x;
this.kh=R;this.a5();this.VN[0].s7(x,R);this.VN[1].s7(x,R)};cy.prototype.a5=function(){var x=this.Dn,R=this.KQ,T=this.kh;
if(x==null||R==0)return;var c=x.Pr.concat(this.apc),g=R<500||R<700&&R<T,d=JSON.stringify(c)+","+g;if(d!=this.aa3){this.aa3=d;
X.Ra(this.n);var U=[];for(var z=0;z<this.VN.length;z++){var e=this.VN[z];U[z]=e.XG();while(e.a2Y()!=0)e.a4P(0);
e.wU()}var N=[];for(var z=0;z<this.r_.length;z++){var l=this.r_[z];l.wU();while(l.ai7()!=0)l.KN(0);N.push(0)}for(var z=0;
z<c.length;z++){var J=this.acb(c[z].toString());if(J==null)continue;this.r_[J.wj].bP(J.YR);this.r_[J.wj].a2(0);
N[J.wj]++}var w=[];for(var z=0;z<N.length;z++){if(N[z]==0)continue;var s=z<3||g?1:0,e=this.VN[s];e.parent=this;
e.aeA(this.r_[z]);w[s]=!0}for(var z=0;z<this.VN.length;z++)if(w[z])this.n.appendChild(this.VN[z].n);
this.VN[0].collapse();if(R<700||this.Dn.compact||!U[1]){this.VN[1].collapse()}var o=new aA(v.E.P,!0);
o.data={d:v.H.jt};this.c(o)}};cy.prototype.acb=function(x){for(var z=0;z<this.L8.length;z++)if(this.L8[z].YR.BC==x)return this.L8[z]};
cy.prototype.aci=function(x){var R=this.acb(x);this.r_[R.wj].bP(R.YR)};cy.prototype.Bq=function(x,R,T){var c=this.L8;
for(var z=0;z<c.length;z++)c[z].YR.Bq(x,R,T)};cy.prototype.fz=function(x,R,T,c,g){var d=this.L8;for(var z=0;
z<d.length;z++)d[z].YR.fz(x,R,T,c,g)};cy.prototype.gQ=function(x,R,T,c,g){var d=this.L8;for(var z=0;
z<d.length;z++)d[z].YR.gQ(x,R,T,c,g)};cy.prototype.rR=function(x,R,T,c,g){var d=this.L8;for(var z=0;
z<d.length;z++)d[z].YR.rR(x,R,T,c,g)};function d_(x,R){ay.call(this,"toolbar");this.n.removeChild(this.g7);
this.rr=X._("div","tools");this.n.appendChild(this.rr);this.jg=null;this.lf=null;this.acx=R;this.mq=null;
this.aC2=-1;this.ah8={};this.anS=x;this.q=null;this.lo=null;this.MU=null;this.ya=null;this.t4=new bQ;
this.t4.n.style.marginTop="5px";this.t4.n.style.marginBottom="3px";this.t4.parent=this;this.L_=new i_(X.t6("lrs/mask"),!1,[6,6,1]);
this.L_.k("click",function(d){var U=new aA(v.E.v,!0);U.f=D.a$;U.data={d:"qmask"};this.c(U)},this);var T=new ii(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
T.k(v.E.p,this.aip,this);var c=X._("span","rangecontFloat form padded");c.appendChild(T.n);c.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var g=this.n;this.aol=[!1,!1,!1,!1];this.Pt=new i_(X.t6("kb"),!1,"Virtual Keys");this.Pt.k("click",function(d){var U=this.Pt.n.getBoundingClientRect();
c.style.top=U.top-110+"px";c.style.left=U.left+U.width+8+"px";if(X._b(c)){X.GX({n:c},g)}else{g.appendChild(c);
X.fk({n:c})}},this)}d_.prototype=new ay;d_.prototype.aip=function(x){var R=x.target.h();this.Pt.T(R[0]||R[1]||R[2]||R[3]);
var T=new aA(v.E.P,!0);for(var z=0;z<4;z++){if(R[z]!=this.aol[z]){T.data={d:v.H.aqi,Kk:R[z],a74:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][z]};
this.c(T)}}this.aol=R.slice(0)};d_.prototype.a6p=function(x,R){this.mq=R;if(x==null||x.g.length==0||x.R[x.g[0]]==null)return;
var T=x.L_()!=null,c=x.Q.U,g=x.R[x.g[0]].s4,d=g==1||g==3||T||c[0]+c[1]+c[2]==1;this.t4.aif(d);this.L_.T(T)};
d_.prototype.aux=function(x,R){var T=x.length,c=[];for(var z=0;z<T;z++)c[z]=x[z].slice(0);x=c;var g=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],d=Math.min(g.length/2,T-R);
for(var z=0;z<d;z++){var U=g[2*z],e=g[2*z+1];x[U]=x[U].concat(x[e]);x[e]=null}for(var z=0;z<x.length;
z++)if(x[z]==null){x.splice(z,1);z--}return x};d_.prototype.asB=function(x,R){for(var z=0;z<R.length;
z++)for(var T=0;T<R[z].length;T++)if(R[z][T].f.id==x)return z};d_.prototype.asj=function(x){var R=this.anS;
this.lo=[];this.MU=[];this.ya=[];this.q=[];var T=R.ul;if(x!=null&&this.acx)T=this.aux(T,x);var c=this.jg;
if(c){var g=[];for(var z=0;z<T.length;z++){var d=[];for(var U=0;U<T[z].length;U++){var e=T[z][U];if(c==null||c.indexOf(parseInt(e.f.id))!=-1)d.push(e)}if(d.length>0)g.push(d)}T=g}for(var z=0;
z<T.length;z++){var N=[],l=this.lo.length,J=null,w=-1;for(var U=0;U<T[z].length;U++){var e=T[z][U].f,s=this.asB(e.id,R.ul),o=R.keys[s];
if(o==fZ.$L&&U==1)o=fZ.sK;this.q.push(e);var V=new f1(e.name,o,e.az,this.lo.length,z,T[z].length>1);
this.lo.push(V);var a=this.ah8[e.id];if(a==null)a=0;if(a>w){w=a;J=V}V.k(v.E.p,this.dd,this);V.k("mover",this.qD,this);
N.push({name:e.name,Jf:e.az,sZ:o?o.LC:""})}this.MU.push(J);this.ya.push(N.length==1?null:[N,l])}};d_.prototype.s7=function(x,R){var T=this.kh=R,c=32;
if(1<X.mM()&&X.mM()<1.5)c=18+14*(1/X.mM());var g=39+23,d=Math.floor((T-g)/c);if(d!=this.aC2){this.aC2=d;
this.asj(d);this.Kc()}var U=this.MU.length*c+g,e=Math.min(1,T/U);if(.75<=e){this.rr.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+e+","+e+");");
this.n.setAttribute("style","height:"+(R-2)+"px;")}else{T-=4;this.rr.setAttribute("style","height: "+T+"px;  width:"+Math.ceil(U/T)*34+"px");
this.n.setAttribute("style","")}};d_.prototype.t=function(){if(this.q==null)return;for(var z=0;z<this.lo.length;
z++)this.lo[z].t()};d_.prototype.dd=function(x){var R=new aA(v.E.P,!0);R.data={d:v.H.di,f:this.q[x.id].id};
this.c(R)};d_.prototype.ayS=function(x){var R=x.target.a9w+x.target.ty()[0];this.lo[R].ho(null,!0)};
d_.prototype.qD=function(x){var R=this.mq,T=new aA(v.E.P,!0);T.data={d:v.H.za};this.c(T);var c=x.target,g=this.ya[c.GQ];
if(g==null)return;var d=new d$(g[0],null,!0);d.a9w=g[1];d.GQ=c.GQ;d.k("select",this.ayS,this);d.parent=this;
d.t();var U=c.n.getBoundingClientRect(),T=new aA(v.E.P,!0);T.data={d:v.H.fu,YR:d,x:U.left+U.width+8,y:U.top};
if(R==null||!(R.S(fZ.Ed)||R.S(fZ.Gc)))this.c(T)};d_.prototype.Kc=function(x){if(x==null)x=this.lf;this.lf=x;
if(this.q==null)return;this.ah8[x]=Date.now();var R=-1;for(var z=0;z<this.q.length;z++)if(this.q[z].id==x)R=z;
for(var z=0;z<this.lo.length;z++){var T=this.lo[z];T.al2(R==z)}if(R==-1)return;this.MU[this.lo[R].GQ]=this.lo[R];
X.Ra(this.rr);var c=this.MU;for(var z=0;z<c.length;z++){this.rr.appendChild(c[z].n)}if(!this.acx)return;
this.rr.appendChild(this.t4.n);if(this.kh>640)this.rr.appendChild(this.L_.n);this.rr.appendChild(this.Pt.n)};
d_.prototype.L4=function(x,R){if(R==hc.cp&&x.jg){this.jg=x.jg;this.asj();this.Kc()}this.t4.aaD(x.gR,x.tn);
if(b5==1&&(R==hc.GD||R==hc.Jt)){this.t4.atE(x)}};function f1(x,R,T,c,g,d){ky.call(this);this.rT=0;this.xJ=this.anc.bind(this);
this.GQ=g;this.$s=c;this.gO=x;this.yZ=R;this.abG=d;this.az=T;this.n=X._("button","");this.n.innerHTML=X.t6(this.az);
if(this.abG){var U=X._("img","gsicon");U.setAttribute("src",PIMG["tools/corner"]);U.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.n.appendChild(U)}this.n.addEventListener("touchstart",X.ME,!1);this.t();X.Us(this.n,this.LV.bind(this));
X.Xc(this.n,this.ho.bind(this));this.n.addEventListener("contextmenu",this.xJ,!1);this.n.addEventListener("contextmenu",f1.Ri,!1)}f1.prototype=new ky;
f1.Ri=function(x){x.stopPropagation();x.preventDefault();return!1};f1.prototype.t=function(){var x=this.yZ?" ("+this.yZ.LC+")":"";
this.n.setAttribute("title",go.get(this.gO)+x)};f1.prototype.LV=function(x){f1.Hd=this.$s;this.rT=setTimeout(this.xJ,160)};
f1.prototype.ho=function(x,R){if(R==null&&f1.Hd!=this.$s)return;clearTimeout(this.rT);var T=new aA(v.E.p,!1);
T.target=this;T.id=this.$s;this.c(T)};f1.prototype.anc=function(x){var R=new aA("mover",!1);R.target=this;
R.id=this.$s;this.c(R)};f1.prototype.al2=function(x){this.n.className=x?"toolbtn active":"toolbtn"};
function ht(){ky.call(this);this.n=X._("div","topbar");this.aI=X._("span","");this.aft=0;this.n.appendChild(this.aI);
this.Ks=null;this.Dv=null;this.l5=[];this.Pr=[];var x=this.LV.bind(this);for(var z=0;z<ht.data.length;
z++){var R=X._("button");this.l5.push(R);var T=ht.data[z];R.addEventListener("mouseover",x,!1);X.Us(R,x)}this.Jj=new i_([0,13,0],!1,null,!0);
this.Jj.k("click",this.Fq,this);this.n.appendChild(this.Jj.n);this.oR=new i_(X.t6("tools/zoom",null,"autoscale"),!1,[12,86]);
this.oR.k("click",this.Fq,this);this.n.appendChild(this.oR.n);this.qq=new i_("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.qq.k("click",this.Fq,this);this.n.appendChild(this.qq.n)}ht.prototype=new ky;ht.prototype.ag9=function(){if(this.Pr.length!=0)return;
for(var z=0;z<ht.data.length;z++){var x=ht.data[z],R=new d$(x.items,x.RC);R.parent=this;this.Pr.push(R)}this.t()};
ht.prototype.t=function(){this.Jj.t();this.oR.t();this.qq.t();for(var z=0;z<this.l5.length;z++)this.l5[z].textContent=go.get(ht.data[z].name);
this.auq();for(var z=0;z<this.Pr.length;z++)this.Pr[z].t()};ht.prototype.Fq=function(x){var R=new aA(v.E.P,!0);
if(x.target==this.Jj)R.data={d:v.H.i$,$k:"account"};else if(x.target==this.oR)R.data={d:v.H.tZ};else R.data={d:v.H.gZ,lk:!0};
this.c(R)};ht.prototype.a1c=function(x,R){this.Ks=x;this.Dv=R};ht.prototype.L4=function(x,R){this.Dv=x;
if(R==hc.cp){var T=x.a6s;X.Ra(this.aI);for(var z=0;z<this.l5.length;z++){var c=ht.data[z];if(T==null||T[z]==1||T[z]instanceof Array)if(c.fd==null||c.fd==b5)this.aI.appendChild(this.l5[z]);
if(T!=null&&T[z]instanceof Array){this.ag9();this.Pr[z].a5U(T[z])}}this.n.removeChild(this.Jj.n);this.n.removeChild(this.oR.n);
this.n.removeChild(this.qq.n);if(x.yB)this.n.appendChild(this.Jj.n);this.n.appendChild(this.oR.n);this.n.appendChild(this.qq.n)}this.auq()};
ht.prototype.auq=function(x,R){var T=this.Jj,c=12255232;if(i3.vc())c=i3.T9()?43520:16755200;T.n.setAttribute("style","color:#ffffff; background-color:#"+u.TN(c))};
ht.prototype.LV=function(x){this.ag9();var z=this.l5.indexOf(x.currentTarget),R=this.Pr[z];if(x.type=="mouseover"&&!X._b(this.Pr[this.aft].n))return;
if(X._b(R.n))return;x.auC=!0;this.aft=z;for(var z=0;z<ht.data.length;z++)this.Pr[z].update(this.Ks,this.Dv);
var T=x.target.getBoundingClientRect(),c=new aA(v.E.P,!0);c.data={d:v.H.fu,YR:R,x:T.left,y:T.top+T.height+2,avz:!0};
this.c(c)};ht.aqI=function(x){var R=fZ,T=R.Gc,c=R.xg,g=R.ng,d=function(l){return{r:l!=null}},U=function(l){return{r:l!=null&&l.u!=null}},e={name:[0,5],fd:0,items:[{name:[7,0],r:d,sZ:[T,R.H]},{name:[7,1],sZ:[T,R.uX],r:U},{name:[7,2],sZ:[c,T,R.Nk],r:U,NC:!0},{name:"Remove BG",r:function(l){return{r:l!=null&&l.g.length!=0&&!l.R[l.g[0]].rect.Y3()}}},{name:[7,8],r:d,J4:!0},{name:[7,13],J4:!0,r:function(l){return{r:l!=null&&l.g.length!=0&&!l.R[l.g[0]].rect.Y3()}},NC:!0},{name:[7,11],J4:!0,r:function(l){return{r:l!=null&&l.g.length!=0&&!l.R[l.g[0]].rect.Y3()}}},{name:[7,3],r:d,NC:!0,sub:[{name:[7,9],J4:!0,r:U},{name:[19,3,0],J4:!0,r:U},{name:[7,4],J4:!0,r:U},{name:[7,5],J4:!0,r:U},{name:[7,6],J4:!0,r:U,sZ:"Shift+F6"}]},{name:"Grow",r:U},{name:"Similar",r:U,NC:!0},{name:[7,10],r:U,NC:!0},{name:[6,6,1],r:function(l){return{r:l!=null,xw:l!=null&&l.L_()!=null}},sZ:[R.al],NC:!0},{name:["VAR0 VAR1",[1,2],[17,2]],r:U}],RC:[{K:v.E._M,C:D.Fs.Vc(!0)},{K:v.E._M,C:D.Fs.Vc()},{K:v.E._M,C:{Sm:"inverse"}},{K:v.E.v,f:D.a$,C:{d:"bgrm",b:1}},{K:v.E.P,C:{d:v.H.i$,$k:"crange"}},{K:v.E.P,C:{d:v.H.i$,$k:"magiccut"}},{K:v.E.P,C:{d:v.H.i$,$k:"redge"}},{sub:[{K:v.E.P,C:{d:v.H.i$,$k:"sel_border"}},{K:v.E.P,C:{d:v.H.i$,$k:"sel_smoothness"}},{K:v.E.P,C:{d:v.H.i$,$k:"sel_expand"}},{K:v.E.P,C:{d:v.H.i$,$k:"sel_contract"}},{K:v.E.P,C:{d:v.H.i$,$k:"sel_feather"}}]},{K:v.E._M,C:{Sm:"grow",M1:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:v.E._M,C:{Sm:"similar",M1:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{K:v.E.P,C:{d:v.H.di,f:D.wI}},{K:v.E.v,f:D.a$,C:{d:"qmask"}},{K:v.E._M,C:{Sm:"duplicate",M1:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(x){var N=e.items.length-1;e.items.splice(N-2,0,{name:[6,49],sZ:[T,R._t],NC:!0});e.RC.splice(N-2,0,{K:v.E._M,C:{Sm:"copyToLayer"}});
e.items.splice(N-1,0,{name:[10,16],sZ:[g,T,R.um]});e.RC.splice(N-1,0,{K:v.E.P,C:{d:v.H.di,f:D.lU}})}return e};
ht.Gd=function(x,R){if(x==null||x.g.length==0)return!1;var T=x.R[x.g[0]];return T.add.TySh!=null&&R.lf==D.kY};
ht.aus=function(){var x=fZ,R=x.Gc,T=x.xg,c=x.ng,g=function(d){return{r:d!=null}};return[[{name:[5,0],sZ:[R,x.DB],r:function(d,U){return{r:d!=null&&(d.Va()||ht.Gd(d,U))}}},{name:[5,1],sZ:[R,x.Fa],r:g},{name:[5,2],sZ:[R,x.Af],r:function(d,U){return{r:ht.Gd()||X.Jm()||U.V$!=null||U.zq!=null||U.atA!=null}}},{name:[2,2],r:function(d,U){return{r:d!=null&&(d.u!=null||ht.Gd(d,U))}},sZ:"Delete",NC:!0}],[{K:v.E.P,C:{d:v.H.Uf}},{K:v.E.P,C:{d:v.H.Vx}},{K:v.E.P,C:{d:v.H.LK}},{K:v.E._M,C:{Sm:"delete"}}]]};
ht.data=function(){var x=fZ,R=x.Gc,T=x.xg,c=x.ng,g=function(o){return{r:o!=null&&o.g.length!=0}},d=function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].add.SoLd!=null}},U=function(o){return{r:o!=null}},e=function(o){return{r:o!=null&&o.nD(!1)}},N=[],l=[],J="none maxx avrg medn minn rang stdv summ vari".split(" "),w=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var z=0;z<J.length;z++){N.push({name:w[z],r:function(o,V){if(o==null||o.g.length!=1)return{r:!1};
var a=o.R[o.g[0]].add.SoLd;if(a==null)return{r:!1};return{r:!0,xw:a.Impr.v.classID==this.a1l}}.bind({a1l:J[z]})});
l.push({K:v.E.v,f:D.d_,C:{d:F.Sn,SN:J[z]}})}var s=ht.aus(!0);return[{name:[0,0],items:[{name:[5,3],sZ:[c,R,x.BL],title:[11,7],J4:!0},{name:[1,0],sZ:[R,x.hw],J4:!0},{name:[1,11],J4:!0,r:U},{name:["VAR0 VAR1",[1,0],[0,14]],NC:!0,sub:[{name:"Storage",J4:!0,sZ:[c,R,x.hw]},{name:[1,5],J4:!0},{name:[11,0],J4:!0},{name:["PSD VAR0",[25,0]],J4:!0}]},{name:[1,18],NC:!0,r:U,sub:[{name:"PNG",sZ:"Imgur.com",r:function(o,V){return{r:o!=null&&V.ba}}},{name:"JPG",sZ:"Imgur.com",r:function(o,V){return{r:o!=null&&V.ba}}},{name:"PSD",sZ:"Photopea.com",r:function(o,V){return{r:o!=null&&V.ba&&!o.Z0}}}]},{name:"Save ...",sZ:[R,x.wA],r:function(o,V){var a=go.get([1,2]),O=!0;
if(o){if(o.ZB)a+=" ("+go.get([6,7,1])+")";if(o.Y7)a+=" (Google Drive)";if(o.Xb)a+=" ("+Storage.list[o.Xb[0]][0]+")";
O="psd jpg png gif webp svg bmp".split(" ").indexOf(o.xt)!=-1}return{r:o!=null&&(o.Xb!=null||o.ck!=null&&O||o.ZB!=null||o.Ly!=null&&o.Ly.qJ!=null||o.Y7!=null||V.ST.save!=null),qV:a}}},{name:b5==0?[1,3]:"Save as AI",r:function(o,V){return{r:o!=null&&V.ba}}},{name:["VAR0 VAR1",[1,2],[0,14]],r:U,sub:[{name:(b5==0?"PSD":"AI")+" to Storage",r:function(o,V){return{r:o!=null&&V.ba}}},{name:["VAR0 PSD/PSB",[1,2]],J4:!0,r:function(o,V){return{r:o!=null&&V.ba}}}]},{name:[1,8],r:U,sub:function(){var o=dp.zG(0),V=[];
for(var z=0;z<o.length;z++)V.push({name:o[z],sZ:"."+o[z].toLowerCase()});V.push({name:[0,14],sub:function(){var o=dp.zG(1),V=[];
for(var z=0;z<o.length;z++)V.push({name:o[z],sZ:"."+o[z].toLowerCase()});return V}()});return V}()},{name:[1,4],J4:!0,r:U,NC:!0},{name:[1,9],J4:!0,r:U},{name:"Export Color Lookup",J4:!0,r:U,NC:!0},{name:[1,14],J4:!0,r:U,NC:!0},{name:[1,17],sub:[{name:"Batch",J4:!0},{name:"PDF Presentation",J4:!0},{name:"Convert Formats",J4:!0}]},{name:[1,10],J4:!0}],RC:[{K:v.E.P,C:{d:v.H.i$,$k:"newproject"}},{K:v.E.P,C:{d:v.H.au}},{K:v.E.P,C:{d:v.H.au,alM:!0}},{sub:[{K:v.E.P,C:{d:v.H.i$,$k:"storwindow",or:0}},{K:v.E.P,C:{d:v.H.i$,$k:"open_from_url"}},{K:v.E.P,C:{d:v.H.i$,$k:"camera"}},{K:v.E.P,C:{d:v.H.i$,$k:"res0"}}]},{sub:[{K:v.E.P,C:{d:v.H.Uj,iw:"png"}},{K:v.E.P,C:{d:v.H.Uj,iw:"jpg"}},{K:v.E.P,C:{d:v.H.Uj,iw:"psd"}}]},{K:v.E.P,C:{d:v.H._S}},{K:v.E.P,C:{d:v.H.Lo}},{sub:[{K:v.E.P,C:{d:v.H.i$,$k:"storwindow",or:1}},{K:v.E.P,C:{d:v.H.i$,$k:"savepsb"}}]},{sub:function(){var o=dp.zG(0),V=[];
for(var z=0;z<o.length;z++)V.push({K:v.E.P,C:{d:v.H.i$,$k:"saveforweb",iw:z}});V.push({sub:function(){var a=dp.zG(0).length,o=dp.zG(1),V=[];
for(var z=0;z<o.length;z++)V.push({K:v.E.P,C:{d:v.H.i$,$k:"saveforweb",iw:a+z}});return V}()});return V}()},{K:v.E.P,C:{d:v.H.i$,$k:"saveforweb",iw:5,aks:!0}},{K:v.E.P,C:{d:v.H.i$,$k:"eassets"}},{K:v.E.P,C:{d:v.H.i$,$k:"exlut"}},{K:v.E.P,C:{d:v.H.i$,$k:"finfo"}},{sub:[{K:v.E.P,C:{d:v.H.i$,$k:"batch"}},{K:v.E.P,C:{d:v.H.i$,$k:"pdfpres"}},{K:v.E.P,C:{d:v.H.i$,$k:"cformat"}}]},{K:v.E.P,C:{d:v.H.i$,$k:"script"}}]},{name:[0,1],items:[{name:[2,8],r:U},{name:[2,0],r:U,sZ:[T,R,x.Y6]},{name:[2,1],r:U,sZ:[R,x.Y6],NC:!0},{name:[2,11],sZ:[T,R,x.JP],NC:!0,J4:!0,r:function(o,V){return{r:id.aax(o)&&V.lf!=D.lU}}},s[0][0],s[0][1],{name:[5,7],sZ:[T,R,x.Fa],r:function(o){return{r:o!=null&&o.Va()}}},s[0][2],s[0][3],{name:[2,3],r:U,J4:!0,sZ:[T,x.WO]},{name:[14,9],r:U,J4:!0,NC:!0},{name:[10,48],r:e},{name:[10,46],r:function(o){return{r:D.PT.acI(o)}}},{name:[10,16],r:U,sZ:[c,R,x.um]},{name:[2,4],r:U,sub:kh.adt()},{name:[2,10,1],r:U},{name:[2,10,0],r:U,NC:!0},{name:[12,87],r:U,sub:[{name:[12,62],r:U},{name:[9,3],r:U},{name:[10,31],r:function(o){return{r:o!=null&&o.JR()[1].length!=0}}}]},{name:[1,15],J4:!0},{name:[12,79],J4:!0,sZ:[R,x.kw]},{name:[1,13],J4:!0}],RC:[{K:v.E.v,f:D.hG,C:{d:"h_undoredo"}},{K:v.E.v,f:D.hG,C:{d:"h_stepfwd"}},{K:v.E.v,f:D.hG,C:{d:"h_stepbck"}},{K:v.E.P,C:{d:v.H.i$,$k:"afw_fade"}},s[1][0],s[1][1],{K:v.E.P,C:{d:v.H.Vx,zS:!0}},s[1][2],s[1][3],{K:v.E.P,C:{d:v.H.i$,$k:"fill"}},{K:v.E.P,C:{d:v.H.i$,$k:"stroke"}},{K:v.E.P,C:{d:v.H.di,f:D.ED}},{K:v.E.v,f:D.zW,C:{d:"start",dq:"rigidTransform"}},{K:v.E.P,C:{d:v.H.di,f:D.lU}},{sub:kh.ai9()},{K:v.E._M,C:{Sm:"align",M1:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{K:v.E.v,f:D.d_,C:{d:F.Zb}},{sub:[{K:v.E.P,C:{d:v.H.Wt,vr:0}},{K:v.E.P,C:{d:v.H.Wt,vr:1}},{K:v.E.P,C:{d:v.H.Wt,vr:2}}]},{K:v.E.P,C:{d:v.H.i$,$k:"pmanager"}},{K:v.E.P,C:{d:v.H.i$,$k:"preferences"}},{K:v.E.P,C:{d:v.H.i$,$k:"locstor"}}]},{name:[0,2],items:[{name:[12,36],r:U,NC:!0,sub:[{name:"RGB",r:function(o){if(o==null)return{r:!1};
return{xw:o.add.fcmy==null,r:!0}}},{name:"CMYK",r:function(o){if(o==null)return{r:!1};return{xw:o.add.fcmy!=null,r:!0}}}]},{name:[3],r:U,NC:!0,sub:function(){var o=[];
for(var V in hD.names){o.push({name:hD.names[V],J4:gE[V]!=null,sZ:hD.keys[V],NC:hD.aAi.indexOf(V)!=-1});
if(V=="selc"){o.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],J4:!0,NC:!0});o.push({name:[19,7,0],sZ:[R,T,x.Vi],r:e});
o.push({name:[4,18],J4:!0,r:e})}}return o}()},{name:[4,16,0],r:e},{name:[4,16,1],r:e},{name:[4,16,2],r:e,NC:!0},{name:[11,11,1],r:e,J4:!0},{name:[11,11,0],r:e,J4:!0,NC:!0},{name:[11,3],r:U,J4:!0,sZ:[c,R,x.Fa]},{name:[11,10],r:U,J4:!0,sZ:[c,R,x.Nk]},{name:[2,4],r:U,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],r:function(o){return{r:o!=null&&o.u!=null}}},{name:[11,12,0],r:U,sZ:[R,x.gr],J4:!0},{name:[11,12,2],r:U,NC:!0},{name:[12,53],r:U},{name:[2,12],r:e,J4:!0,NC:!0},{name:[2,14],r:U,J4:!0}],RC:[{sub:[{K:v.E.v,f:D.BA,C:{d:"fcmy",b:0}},{K:v.E.v,f:D.BA,C:{d:"fcmy",b:1}}]},{sub:function(){var o=[];
for(var V in hD.names){o.push({K:v.E.v,f:D.JG,C:{d:"start",m$:V}});if(V=="selc"){o.push({K:v.E.v,f:D.zW,C:{d:"start",dq:"adaptCorrect"}});
o.push({K:v.E._M,C:{Sm:"desaturate"}});o.push({K:v.E.v,f:D.JG,C:{d:"start",m$:"matc"}})}}return o}()},{K:v.E._M,C:{Sm:"levels",M1:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{K:v.E._M,C:{Sm:"levels",M1:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{K:v.E._M,C:{Sm:"levels",M1:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{K:v.E.P,C:{d:v.H.i$,$k:"rcolors"}},{K:v.E.P,C:{d:v.H.i$,$k:"vbitmap"}},{K:v.E.P,C:{d:v.H.i$,$k:"csize"}},{K:v.E.P,C:{d:v.H.i$,$k:"isize"}},{sub:[{K:v.E._M,C:D.gW.vE(!0,90)},{K:v.E._M,C:D.gW.vE(!0,-90)},{K:v.E._M,C:D.gW.vE(!0,-180)},{K:v.E._M,C:D.gW.vE(!1,"Hrzn")},{K:v.E._M,C:D.gW.vE(!1,"Vrtc")}]},{K:v.E._M,C:{Sm:"crop",M1:{__name:"Crop",classID:"Crop"}}},{K:v.E.P,C:{d:v.H.i$,$k:"trim"}},{K:v.E._M,C:{Sm:"revealAll",M1:{classID:"RvlA"}}},{K:v.E._M,C:{Sm:"duplicate",M1:{classID:"Dplc",null:bf.rX("Dcmn",!0)}}},{K:v.E.v,f:D.JG,C:{d:"start",m$:"aply"}},{K:v.E.P,C:{d:v.H.i$,$k:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],r:U,sub:[{name:[0,3],sZ:[T,R,x.BL]},{name:[0,4]},{name:[1,16,0],J4:!0},{name:[1,16,3],J4:!0,NC:!0},{name:[6,49,0],sZ:[R,x._t]},{name:[6,49,1],sZ:[T,R,x._t],r:function(o){return{r:o!=null&&o.u!=null&&o.nD(!1)}}}]},{name:[6,0],r:g,sZ:[R,x._t]},{name:[11,4],r:g},{name:[5,4],r:g,NC:!0},{name:[11,6],r:g,NC:!0,sub:bI.Vt(!0)},{name:[6,48,1],r:U,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],r:U,NC:!0,sub:bI.a3r()},{name:[6,2],r:U,sub:[{name:[6,4],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].le()==null}}},{name:[6,5,0],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].le()==null}}},{name:[6,5,1],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].le()==null&&o.u!=null}}},{name:[6,5,2],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].le()==null&&o.u!=null}}},{name:[6,5,3],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].le()==null}},NC:!0},{name:[5,4],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].le()!=null}}},{name:[5,8],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].le()!=null&&o.nD(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].le()!=null}}}]},{name:[6,3],r:U,sub:[{name:[6,4],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].add.vmsk==null}}},{name:[6,5,0],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].add.vmsk==null}}},{name:[12,76,7],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].add.vmsk==null}},NC:!0},{name:[5,4],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],r:function(o){return{r:o!=null&&o.g.length!=0&&o.R[o.g[0]].add.vmsk!=null}}}]},hK.afA(!0),{name:[6,7,1],r:U,NC:!0,sub:[{name:[6,7,0],NC:!0},{name:"Open (Edit Contents)",r:d,J4:!0},{name:"Replace Contents",r:d,J4:!0},{name:"Export Contents",r:d,J4:!0,NC:!0},{name:[6,36,4],r:d,sub:N},{name:"Turn into JPG",r:d}]},{name:[6,8],r:hK.a1P},{name:[6,34],NC:!0,r:function(o){if(o==null||o.g.length==0)return{r:!1};
var V=o.R[o.g[0]];return{r:V.add.lmfx!=null&&!V.NW()}}},{name:[6,9],r:U,NC:!0,sZ:[R,x.D5]},{name:[6,55],r:U,sub:[{name:[6,56,0],sZ:[T,R,x.fn]},{name:[6,56,1],sZ:[R,x.fn]},{name:[6,56,2],sZ:[R,x.qO]},{name:[6,56,3],sZ:[T,R,x.qO]}]},{name:"Combine Shapes",r:U,NC:!0,sub:[{name:[18,1],Jf:"set/union"},{name:[18,2],Jf:"set/difference"},{name:[18,3],Jf:"set/intersection"},{name:[18,4],Jf:"set/xor"}]},{name:[6,58],r:U,NC:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],sZ:[R,x.E],r:function(o){var V=o==null?0:o.g.length;
return{r:V!=0&&(V!=1||o.g[0]!=0),qV:go.get(V>1||V==1&&o.R[o.g[0]].NW()?[6,12,0]:[6,10])}}},{name:[6,12,1],r:U},{name:[2,13],r:U}],RC:[{sub:[{K:v.E.v,f:D.d_,C:{d:F.uU}},{K:v.E.v,f:D.d_,C:{d:F.oe}},{K:v.E.P,C:{d:v.H.i$,$k:"newartb",or:0}},{K:v.E.P,C:{d:v.H.i$,$k:"newartb",or:1}},{K:v.E._M,C:{Sm:"copyToLayer"}},{K:v.E._M,C:{Sm:"cutToLayer"}}]},{K:v.E.v,f:D.d_,C:{d:F.S5}},{K:v.E.P,C:{d:v.H.i$,$k:"duplinto"}},{K:v.E.v,f:D.d_,C:{d:F.X2}},{sub:bI.Rh(!0)},{sub:[{K:v.E.v,f:D.HA,C:{d:"newfill",bh:0}},{K:v.E._M,C:D._T.z9(1)},{K:v.E._M,C:D._T.z9(2)}]},{sub:bI.mi()},{sub:[{K:v.E.v,f:D.d_,C:{d:F.Rk,or:"RvlA"}},{K:v.E.v,f:D.d_,C:{d:F.Rk,or:"HdAl"}},{K:v.E.v,f:D.d_,C:{d:F.Rk,or:"RvlS"}},{K:v.E.v,f:D.d_,C:{d:F.Rk,or:"HdSl"}},{K:v.E.v,f:D.d_,C:{d:F.Rk,or:"Trns"}},{K:v.E.v,f:D.d_,C:{d:F.UQ}},{K:v.E.v,f:D.d_,C:{d:F.DD}},{K:v.E.v,f:D.d_,C:{d:F.fJ}}]},{sub:[{K:v.E.v,f:D.d_,C:{d:F.PB,awG:!1}},{K:v.E.v,f:D.d_,C:{d:F.PB,awG:!0}},{K:v.E.v,f:D.d_,C:{d:F.PB,ax6:!0}},{K:v.E.v,f:D.d_,C:{d:F._5}},{K:v.E.v,f:D.d_,C:{d:F.ud}}]},{K:v.E.v,f:D.d_,C:{d:F.q8}},{sub:[{K:v.E._M,C:{Sm:"newPlacedLayer"}},{K:v.E._M,C:{Sm:"placedLayerEditContents",M1:{classID:"placedLayerEditContents"}}},{K:v.E._M,C:{Sm:"placedLayerReplaceContents",M1:{classID:"placedLayerReplaceContents"}}},{K:v.E._M,C:{Sm:"placedLayerExportContents",M1:{classID:"placedLayerExportContents"}}},{sub:l},{K:v.E.v,f:D.d_,C:{d:F.am7}}]},{K:v.E._M,C:{Sm:"rasterizeLayer",M1:{classID:"rasterizeLayer",null:bf.rX("Lyr",!0)}}},{K:v.E.v,f:D.d_,C:{d:F.v8}},{K:v.E.v,f:D.d_,C:{d:F.NA}},{sub:[{K:v.E.v,f:D.d_,C:{d:F.$O,J2:0}},{K:v.E.v,f:D.d_,C:{d:F.$O,J2:1}},{K:v.E.v,f:D.d_,C:{d:F.$O,J2:2}},{K:v.E.v,f:D.d_,C:{d:F.$O,J2:3}}]},{sub:[{K:v.E.v,f:D.d_,C:{d:F.$C,jY:0}},{K:v.E.v,f:D.d_,C:{d:F.$C,jY:1}},{K:v.E.v,f:D.d_,C:{d:F.$C,jY:2}},{K:v.E.v,f:D.d_,C:{d:F.$C,jY:3}}]},{sub:[{K:v.E.v,f:D.d_,C:{d:F.$H,J2:"makeframes"}},{K:v.E.v,f:D.d_,C:{d:F.$H,J2:"unmakeframes"}},{K:v.E.v,f:D.d_,C:{d:F.$H,J2:"merge"}}]},{K:v.E._M,C:{Sm:"mergeLayersNew",M1:{__name:"Merge Layers",classID:"Mrg2"}}},{K:v.E._M,C:{Sm:"flattenImage"}},{K:v.E.v,f:D.zW,C:{d:"start",dq:"defr"}}]},ht.aqI(!1),function(){var o={name:[0,6],fd:0,items:[{name:[24,18,4],sZ:[c,R,x.JP],r:U,NC:!0}],RC:[{K:v.E.v,f:D.zW,C:{d:"applylast"}}]};
for(var z=0;z<gm.fX.length;z++){var V=gm.fX[z];if(V.TB!=null){var a={name:gm.names[V.TB],J4:!0,NC:V.NC,r:U};
if(V.TB=="VaPo")a.r=e;o.items.push(a);o.RC.push({K:v.E.v,f:D.zW,C:{d:"start",dq:V.TB}});continue}var O={name:V.hB,sub:[],r:U};
o.items.push(O);var S={sub:[]};o.RC.push(S);for(var L=0;L<V.kJ.length;L++){var Q={name:gm.names[V.kJ[L]],J4:gm.GI(V.kJ[L])!=null};
O.sub.push(Q);var b={K:v.E.v,f:D.zW,C:{d:"start",dq:V.kJ[L]}};S.sub.push(b)}}return o}(),{name:[0,7],items:[{name:[8,0],r:U,sZ:[R,x.bW]},{name:[8,1],r:U,sZ:[R,x.d2]},{name:[20,3],r:U,sZ:[R,x.H3]},{name:[20,2],r:U,sZ:[R,x.H_]},{name:[8,14],r:function(o,V){return{r:o!=null,xw:o!=null&&o.fr}},NC:!0},{name:[12,36],NC:!0,sub:[{name:"Fullscreen",r:function(o,V){return{xw:document.fullscreenElement!=null}},NC:!0},{name:"Standard",r:function(o,V){return{xw:V.Gb==0}}},{name:"Menu Bar and Canvas",r:function(o,V){return{xw:V.Gb==1}}}]},{name:[8,13],sZ:[R,x.$L],r:function(o,V){return{xw:V.St}}},{name:[8,12],NC:!0,sub:[{name:[17,2],r:function(o,V){return{r:V.St,xw:V.j3.js}}},{name:[8,9],r:function(o,V){return{r:V.St,xw:V.j3.OQ}}},{name:[8,2],r:function(o,V){return{r:V.St,xw:V.j3.CR}},sZ:[R,x.YV]},{name:[8,4],r:function(o,V){return{r:V.St,xw:V.j3.Fw}},sZ:[R,x.Ej]},{name:[8,8],r:function(o,V){return{r:V.St,xw:V.j3.Ch}}},{name:[8,11,0],r:function(o,V){return{r:V.St,xw:V.j3.co}}}]},{name:[8,3],r:function(o,V){return{xw:V.Tg}},sZ:[R,x.sK],NC:!0},{name:[8,5],r:function(o,V){return{xw:V.Ai}}},{name:[8,6],NC:!0,sub:[{name:[8,2],r:function(o,V){return{xw:V.b0[0]}}},{name:[8,4],r:function(o,V){return{xw:V.b0[1]}}},{name:[9,1],r:function(o,V){return{xw:V.b0[2]}}},{name:[8,11,0],r:function(o,V){return{xw:V.b0[3]}}},{name:[8,7,0],r:function(o,V){return{xw:V.b0[4]}}}]},{name:[11,15,2],r:function(o,V){return{r:o!=null,xw:o!=null&&o.CS}}},{name:[11,15,0],r:U},{name:[11,14],r:U,J4:!0},{name:[11,15,1],r:function(o,V){return{r:o!=null&&o.g.length!=0}},NC:!0},{name:[8,11,2],r:function(o,V){return{r:o!=null&&o.co.length!=0}}}],RC:[{K:v.E.v,f:D.p3,C:{d:"zoom",S3:!0}},{K:v.E.v,f:D.p3,C:{d:"zoom",S3:!1}},{K:v.E.v,f:D.p3,C:{d:"adapt",b:"fitscr"}},{K:v.E.v,f:D.p3,C:{d:"adapt",b:"pixel"}},{K:v.E.v,f:D.BA,C:{d:"pview"}},{sub:[{K:v.E.P,C:{d:v.H.gZ,lk:!0}},{K:v.E.P,C:{d:v.H.gZ,b:0}},{K:v.E.P,C:{d:v.H.gZ,b:1}},{K:v.E.P,C:{d:v.H.gZ,b:2}}]},{K:v.E.P,C:{d:v.H.pV,vr:hc.nx}},{sub:[{K:v.E.P,C:{d:v.H.pV,vr:hc.lp}},{K:v.E.P,C:{d:v.H.pV,vr:hc.$g}},{K:v.E.P,C:{d:v.H.pV,vr:hc.MN}},{K:v.E.P,C:{d:v.H.pV,vr:hc.d3}},{K:v.E.P,C:{d:v.H.pV,vr:hc.IZ}},{K:v.E.P,C:{d:v.H.pV,vr:hc.$v}}]},{K:v.E.P,C:{d:v.H.pV,vr:hc.yt}},{K:v.E.P,C:{d:v.H.pV,vr:hc.a0l}},{sub:[{K:v.E.P,C:{d:v.H.pV,vr:hc.Sy,uo:0}},{K:v.E.P,C:{d:v.H.pV,vr:hc.Sy,uo:1}},{K:v.E.P,C:{d:v.H.pV,vr:hc.Sy,uo:2}},{K:v.E.P,C:{d:v.H.pV,vr:hc.Sy,uo:3}},{K:v.E.P,C:{d:v.H.pV,vr:hc.Sy,uo:4}}]},{K:v.E.v,f:D.BA,C:{d:"lockguides"}},{K:v.E.v,f:D.BA,C:{d:"gids",bI:[[],[]]}},{K:v.E.P,C:{d:v.H.i$,$k:"addguides"}},{K:v.E.v,f:D.BA,C:{d:"gidsFromLayer"}},{K:v.E.v,f:D.T4,C:{d:"deleteAll"}}]},function(){var o={name:[0,8],items:[{name:[0,14],NC:!0,sub:[]},{name:"Plugins",NC:!0}],RC:[{sub:[]},{K:v.E.P,C:{d:v.H.i$,$k:"res1"}}]};
for(var z=0;z<cy.bN.length;z++){var V=cy.bN[z],a=function(){var O=V.YR.BC;return function(S,L){return{xw:L.Pr.indexOf(parseInt(O))!=-1}}}();
(V.I0?o.items[0].sub:o.items).push({name:V.YR.name,r:a});(V.I0?o.RC[0].sub:o.RC).push({K:v.E.P,C:{d:v.H.Av,$k:V.YR.BC}})}return o}(),function(){var o={name:[0,14],items:[],RC:[]},V={name:[0,9],sub:[]};
o.items.push(V);var a={sub:[]};o.RC.push(a);var O=go.auj();for(var z=0;z<O.length;z++){var S=O[z],L=S.code,Q=go.auN(L);
V.sub.push({name:S.name,sZ:L,r:function(b,Z){return{xw:this.sZ==go.r0()}}});a.sub.push({K:v.E.P,C:{d:v.H.pV,vr:hc.iC,lang:Q}})}V.sub.push({name:[0,12]});
a.sub.push({K:v.E.P,C:{d:v.H.ub,link:"https://www.photopea.com/translate/"}});var V={name:[0,15],sub:[]};
o.items.push(V);var a={sub:[]};o.RC.push(a);for(var z=0;z<ah.zF.length;z++){V.sub.push({name:ah.zF[z].name,r:function(b,Z){return{xw:this.name==ah.zF[Z.GA].name}}});
a.sub.push({K:v.E.P,C:{d:v.H.pV,vr:hc.Pk,GA:z}})}o.items.push({name:[0,17,6],r:function(b,Z){return{r:Z.GJ!=null}}});
o.RC.push({K:v.E.P,C:{d:v.H.sJ}});o.items.push({name:[11,13]});o.RC.push({K:v.E.P,C:{d:v.H.i$,$k:"shortcuts"}});
o.items.push({name:[0,16],r:function(b){return{xw:fq.tc,r:fq.IT}},NC:!0});o.RC.push({K:v.E.P,C:{d:v.H.a22}});
o.items.push({name:"",r:function(b,Z){return Z.yB?{qV:"About Photopea",r:!0}:{qV:"",r:!1}}});o.RC.push({K:v.E.P,C:{d:v.H.i$,$k:"aboutpp"}});
return o}()]}();function e_(){ky.call(this);this.n=X._("div","");this.Aa=0;this.Yh=0;this.Dn=null;this.wj=X._("div","");
this.wj.setAttribute("style","width:200em; height:100em; position:absolute;");this.r7=[];this.iM=[];
this.Nb={}}e_.prototype=new ky;e_.prototype.rP=function(x){var R=Date.now(),T=[];if(x=="-"){T=[new f5,new bU,new dk("pdfpres"),new dk("cformat"),new dk("batch"),new ee,new fx,new dO,new g3,new fn,new fB,new jQ,new dx,new gF,new dI,new i4,new ha,new eR,new bI,new h9("isize"),new h9("csize"),new f$,new kp,new hg,new eu,new ig,new hB,new b3,new fX,new hY(!1),new hY(!0),new g9(0),new g9(1),new bm,new fE,new aq,new bs,new jx,new k9,new fF(0),new fF(1),new fF(2),new fF(3),new fF(4),new fF(5),new fF(6),new fF(7),new fF(8),new hW,new dq,new iT,new bl,new dP,new f3,new iA,new d8,new fd("border",[7,9],"px"),new fd("smoothness",[19,3,0],"px"),new fd("expand",[7,4],"px"),new fd("contract",[7,5],"px"),new fd("feather",[7,6],"px"),new iU(0,"namewindow",[12,48]),new iU(2,"billto","Bill To"),new iU(1,"cornerradius",[12,94,0],"px",!0,!0),new iU(1,"scaleeffects",[6,30,1],"%",!0),new iU(1,"doczoom","Zoom","%",!0),new iU(1,"setFPS","Set FPS","fps,120",!1),new iU(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(b5==0){T.push(new cw)}}else T=[new id(x.slice(4))];this.ary(T);this.Nb[x]=!0};e_.prototype.ary=function(x){var R=this.Dn;
for(var z=0;z<x.length;z++){var T=x[z];T.parent=this;this.iM.push(T);this.sO(T);T.t();if(R)T.L4(R,hc.cp);
T.k(v.E.dT,this.qR,this);X.GX(T)}};e_.prototype.s7=function(x,R){this.Aa=x;this.Yh=R;for(var z=0;z<this.iM.length;
z++)this.sO(this.iM[z])};e_.prototype.t=function(){for(var z=0;z<this.iM.length;z++)this.iM[z].t()};
e_.prototype.nX=function(){return this.r7.length==0?null:this.r7[this.r7.length-1]};e_.prototype.Vd=function(){for(var z=0;
z<this.r7.length;z++)if(this.r7[z].Vd())return!0;return!1};e_.prototype.al9=function(x,R,T,c,g){var d=x.startsWith("afw_"),U=null;
if(!d&&!this.Nb["-"])this.rP("-");if(d&&!this.Nb[x])this.rP(x);if(typeof x=="object"){U=x;if(!U.a5H(v.E.dT,this.qR))U.k(v.E.dT,this.qR,this);
U.parent=this}else for(var z=0;z<this.iM.length;z++)if(this.iM[z].id==x)U=this.iM[z];if(this.Vd()&&U.Vd()){alert("Finish the current action first");
return}if(!U.pg(R))return;if(this.r7.indexOf(U)!=-1){if(x=="colorpicker")U.Bq(R,T,c,g);return}var e=this.r7.length-1;
if(e>=0)X.MQ(this.r7[e].n,"wdisabled");this.n.appendChild(U.n);this.r7.push(U);this.sO(U);X.fk(U);U.Bq(R,T,c,g)};
e_.prototype.sO=function(x){var R=this.Aa,T=this.Yh,c=x.rH(R,T),g;if(c!=null){g=c}else{c=new cI(0,0);
g=x.aro();if(g==null){var d=this.r7.indexOf(x)+1;if(R<450||T<450)g=new cI(0,0);else g=new cI(d*150,d*150)}}x.n.style.left=g.x+"px";
x.n.style.top=this.n.offsetTop+g.y+"px";x.s7(this.Aa-c.x*2,this.Yh-c.y*2-34)};e_.prototype.L4=function(x,R){this.Dn=x;
for(var z=0;z<this.iM.length;z++)this.iM[z].L4(x,R)};e_.prototype.qR=function(x){var R=this.r7.pop();
X.GX(R,this.n);var T=this.r7.length-1;if(T>=0)X.ia(this.r7[T].n,"wdisabled");if(this.wj.parentNode==this.n)this.n.removeChild(this.wj)};
window.onload=function(){document.body.appendChild(new i0().n)}}())